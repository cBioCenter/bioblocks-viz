(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/@babel/runtime/helpers/extends.js":function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},"./node_modules/@babel/runtime/helpers/get.js":function(e,t,n){n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js");var r=n("./node_modules/@babel/runtime/helpers/superPropBase.js");function o(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},o(t,n,i||t)}e.exports=o},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},"./node_modules/@babel/runtime/helpers/inherits.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},"./node_modules/@babel/runtime/helpers/objectSpread.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js");e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),o=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),o=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),i=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function(e,t){return r(e)||o(e,t)||i()}},"./node_modules/@babel/runtime/helpers/superPropBase.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js");e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),o=n("./node_modules/@babel/runtime/helpers/iterableToArray.js"),i=n("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return r(e)||o(e)||i()}},"./node_modules/@babel/runtime/helpers/typeof.js":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},"./node_modules/@semantic-ui-react/event-stack/lib/cjs/event-stack.production.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/exenv/index.js");n("./node_modules/prop-types/index.js");var o=n("./node_modules/react/index.js");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var f=function(){function e(t){i(this,e),l(this,"handlers",void 0),this.handlers=t.slice(0)}return s(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,o=0;o<r;o+=1)n.push(t[o]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var o=n;o>=0;o-=1)this.handlers[o].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,o=0;o<r;o+=1){var i=this.handlers[o];-1===t.indexOf(i)&&n.push(i)}return new e(n)}}]),e}();function h(e){var t=new Map;return e.forEach(function(e,n){t.set(n,e)}),t}function p(e){return Array.isArray(e)?e:[e]}function m(e){return"document"===e?document:"window"===e?window:e||document}var g=function(){function e(t,n){i(this,e),l(this,"handlerSets",void 0),l(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return s(e,[{key:"addHandlers",value:function(t,n){var r=h(this.handlerSets);if(r.has(t)){var o=r.get(t);r.set(t,o.addHandlers(n))}else r.set(t,new f(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(){return this.handlerSets.size>0}},{key:"removeHandlers",value:function(t,n){var r=h(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var o=r.get(t).removeHandlers(n);return o.hasHandlers()?r.set(t,o):r.delete(t),new e(this.poolName,r)}}]),e}();l(g,"createByType",function(e,t,n){var r=new Map;return r.set(t,new f(n)),new g(e,r)});var v=function(){function e(t){var n=this;i(this,e),l(this,"handlers",new Map),l(this,"pools",new Map),l(this,"target",void 0),l(this,"createEmitter",function(e){return function(t){n.pools.forEach(function(n){n.dispatchEvent(e,t)})}}),this.target=t}return s(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,g.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e),0===this.pools.size&&this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),y=new(function(){function e(){var t=this;i(this,e),l(this,"targets",new Map),l(this,"getTarget",function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=m(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var o=new v(r);return t.targets.set(r,o),o}),l(this,"removeTarget",function(e){t.targets.delete(m(e))})}return s(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var o=n.target,i=void 0===o?document:o,a=n.pool,s=void 0===a?"default":a;this.getTarget(i).addHandlers(s,e,p(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var o=n.target,i=void 0===o?document:o,a=n.pool,s=void 0===a?"default":a,l=this.getTarget(i,!1);l&&(l.removeHandlers(s,e,p(t)),l.hasHandlers()||this.removeTarget(i))}}}]),e}()),b=function(e){function t(){return i(this,t),d(this,c(t).apply(this,arguments))}return u(t,o.PureComponent),s(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,o=e.target;y.sub(t,n,{pool:r,target:o})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,o=e.target;y.unsub(t,n,{pool:r,target:o})}},{key:"render",value:function(){return null}}]),t}();l(b,"defaultProps",{pool:"default",target:"document"}),b.propTypes={},t.instance=y,t.default=b},"./node_modules/@semantic-ui-react/event-stack/lib/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/@semantic-ui-react/event-stack/lib/cjs/event-stack.production.js")},"./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js":function(e,t,n){"use strict";n.r(t),function(e,r,o,i){n.d(t,"setBackend",function(){return ac}),n.d(t,"getBackend",function(){return sc}),n.d(t,"disposeVariables",function(){return lc}),n.d(t,"memory",function(){return uc}),n.d(t,"version_core",function(){return Ku}),n.d(t,"nextFrame",function(){return Vl}),n.d(t,"environment",function(){return xe}),n.d(t,"io",function(){return Bu}),n.d(t,"math",function(){return zu}),n.d(t,"serialization",function(){return Hu}),n.d(t,"test_util",function(){return Xu}),n.d(t,"util",function(){return W}),n.d(t,"webgl",function(){return Yu}),n.d(t,"AdadeltaOptimizer",function(){return Zu}),n.d(t,"AdagradOptimizer",function(){return Qu}),n.d(t,"AdamOptimizer",function(){return Ju}),n.d(t,"AdamaxOptimizer",function(){return ec}),n.d(t,"MomentumOptimizer",function(){return nc}),n.d(t,"Optimizer",function(){return $u}),n.d(t,"RMSPropOptimizer",function(){return rc}),n.d(t,"SGDOptimizer",function(){return tc}),n.d(t,"Tensor",function(){return oe}),n.d(t,"TensorBuffer",function(){return ee}),n.d(t,"variable",function(){return ae}),n.d(t,"Variable",function(){return ie}),n.d(t,"Rank",function(){return At}),n.d(t,"Reduction",function(){return vl}),n.d(t,"ENV",function(){return _e}),n.d(t,"Environment",function(){return be}),n.d(t,"KernelBackend",function(){return Lt}),n.d(t,"DataStorage",function(){return Dt}),n.d(t,"image",function(){return Fl}),n.d(t,"linalg",function(){return Nl}),n.d(t,"losses",function(){return Ml}),n.d(t,"spectral",function(){return ml}),n.d(t,"op",function(){return at}),n.d(t,"batchNormalization2d",function(){return ha}),n.d(t,"batchNormalization3d",function(){return pa}),n.d(t,"batchNormalization4d",function(){return ma}),n.d(t,"batchNormalization",function(){return ga}),n.d(t,"complex",function(){return ut}),n.d(t,"real",function(){return ct}),n.d(t,"imag",function(){return dt}),n.d(t,"concat",function(){return Fo}),n.d(t,"concat1d",function(){return zo}),n.d(t,"concat2d",function(){return Uo}),n.d(t,"concat3d",function(){return qo}),n.d(t,"concat4d",function(){return Vo}),n.d(t,"split",function(){return Ho}),n.d(t,"conv1d",function(){return Ca}),n.d(t,"conv2d",function(){return ja}),n.d(t,"conv2dDerFilter",function(){return Oa}),n.d(t,"depthwiseConv2d",function(){return Na}),n.d(t,"separableConv2d",function(){return Ra}),n.d(t,"conv2dTranspose",function(){return Pa}),n.d(t,"matMul",function(){return Ea}),n.d(t,"dot",function(){return Ta}),n.d(t,"outerProduct",function(){return Aa}),n.d(t,"reverse",function(){return Ia}),n.d(t,"reverse1d",function(){return Da}),n.d(t,"reverse2d",function(){return La}),n.d(t,"reverse3d",function(){return Ba}),n.d(t,"reverse4d",function(){return Fa}),n.d(t,"maxPool",function(){return qa}),n.d(t,"avgPool",function(){return Va}),n.d(t,"pool",function(){return Ha}),n.d(t,"slice",function(){return Wa}),n.d(t,"slice1d",function(){return Ga}),n.d(t,"slice2d",function(){return Xa}),n.d(t,"slice3d",function(){return Ka}),n.d(t,"slice4d",function(){return Ya}),n.d(t,"abs",function(){return Pi}),n.d(t,"acos",function(){return Ii}),n.d(t,"acosh",function(){return Di}),n.d(t,"asin",function(){return Li}),n.d(t,"asinh",function(){return Bi}),n.d(t,"atan",function(){return Fi}),n.d(t,"atanh",function(){return zi}),n.d(t,"ceil",function(){return Ui}),n.d(t,"clipByValue",function(){return qi}),n.d(t,"cos",function(){return Vi}),n.d(t,"cosh",function(){return Hi}),n.d(t,"erf",function(){return Wi}),n.d(t,"exp",function(){return Gi}),n.d(t,"expm1",function(){return Xi}),n.d(t,"floor",function(){return Ki}),n.d(t,"log",function(){return Yi}),n.d(t,"log1p",function(){return $i}),n.d(t,"logSigmoid",function(){return Zi}),n.d(t,"neg",function(){return Qi}),n.d(t,"reciprocal",function(){return Ji}),n.d(t,"round",function(){return ea}),n.d(t,"rsqrt",function(){return ta}),n.d(t,"sigmoid",function(){return na}),n.d(t,"sign",function(){return ra}),n.d(t,"sin",function(){return oa}),n.d(t,"sinh",function(){return ia}),n.d(t,"softplus",function(){return aa}),n.d(t,"sqrt",function(){return sa}),n.d(t,"square",function(){return la}),n.d(t,"step",function(){return ua}),n.d(t,"tan",function(){return ca}),n.d(t,"tanh",function(){return da}),n.d(t,"all",function(){return Za}),n.d(t,"any",function(){return Qa}),n.d(t,"argMax",function(){return Ja}),n.d(t,"argMin",function(){return es}),n.d(t,"logSumExp",function(){return ts}),n.d(t,"max",function(){return ns}),n.d(t,"mean",function(){return rs}),n.d(t,"min",function(){return os}),n.d(t,"moments",function(){return is}),n.d(t,"sum",function(){return as}),n.d(t,"prod",function(){return ss}),n.d(t,"equal",function(){return ls}),n.d(t,"equalStrict",function(){return us}),n.d(t,"greater",function(){return cs}),n.d(t,"greaterEqual",function(){return ds}),n.d(t,"greaterEqualStrict",function(){return fs}),n.d(t,"greaterStrict",function(){return hs}),n.d(t,"less",function(){return ps}),n.d(t,"lessEqual",function(){return ms}),n.d(t,"lessEqualStrict",function(){return gs}),n.d(t,"lessStrict",function(){return vs}),n.d(t,"notEqual",function(){return ys}),n.d(t,"notEqualStrict",function(){return bs}),n.d(t,"add",function(){return _s}),n.d(t,"addN",function(){return xs}),n.d(t,"addStrict",function(){return ws}),n.d(t,"atan2",function(){return ks}),n.d(t,"div",function(){return Es}),n.d(t,"divStrict",function(){return Ts}),n.d(t,"floorDiv",function(){return As}),n.d(t,"maximum",function(){return Ss}),n.d(t,"maximumStrict",function(){return Ms}),n.d(t,"minimum",function(){return Cs}),n.d(t,"minimumStrict",function(){return js}),n.d(t,"mod",function(){return Os}),n.d(t,"modStrict",function(){return Ns}),n.d(t,"mul",function(){return Rs}),n.d(t,"mulStrict",function(){return Ps}),n.d(t,"pow",function(){return Is}),n.d(t,"powStrict",function(){return Ds}),n.d(t,"squaredDifference",function(){return Ls}),n.d(t,"squaredDifferenceStrict",function(){return Bs}),n.d(t,"sub",function(){return Fs}),n.d(t,"subStrict",function(){return zs}),n.d(t,"elu",function(){return Xs}),n.d(t,"leakyRelu",function(){return Ks}),n.d(t,"prelu",function(){return Ys}),n.d(t,"relu",function(){return $s}),n.d(t,"selu",function(){return Zs}),n.d(t,"logicalAnd",function(){return Us}),n.d(t,"logicalNot",function(){return qs}),n.d(t,"logicalOr",function(){return Vs}),n.d(t,"logicalXor",function(){return Hs}),n.d(t,"where",function(){return Ws}),n.d(t,"whereAsync",function(){return Gs}),n.d(t,"buffer",function(){return ni}),n.d(t,"toPixels",function(){return ti}),n.d(t,"print",function(){return ri}),n.d(t,"batchToSpaceND",function(){return oi}),n.d(t,"cast",function(){return ii}),n.d(t,"clone",function(){return ai}),n.d(t,"cumsum",function(){return si}),n.d(t,"depthToSpace",function(){return li}),n.d(t,"expandDims",function(){return ui}),n.d(t,"eye",function(){return ci}),n.d(t,"fromPixels",function(){return di}),n.d(t,"multinomial",function(){return fi}),n.d(t,"oneHot",function(){return hi}),n.d(t,"pad",function(){return pi}),n.d(t,"pad1d",function(){return mi}),n.d(t,"pad2d",function(){return gi}),n.d(t,"pad3d",function(){return vi}),n.d(t,"pad4d",function(){return yi}),n.d(t,"rand",function(){return bi}),n.d(t,"randomNormal",function(){return _i}),n.d(t,"randomUniform",function(){return xi}),n.d(t,"reshape",function(){return wi}),n.d(t,"spaceToBatchND",function(){return ki}),n.d(t,"squeeze",function(){return Ei}),n.d(t,"stack",function(){return Ti}),n.d(t,"tile",function(){return Ai}),n.d(t,"truncatedNormal",function(){return Si}),n.d(t,"unstack",function(){return Mi}),n.d(t,"setdiff1dAsync",function(){return Ci}),n.d(t,"fill",function(){return wt}),n.d(t,"linspace",function(){return kt}),n.d(t,"ones",function(){return _t}),n.d(t,"range",function(){return Et}),n.d(t,"scalar",function(){return ht}),n.d(t,"tensor",function(){return ft}),n.d(t,"tensor1d",function(){return pt}),n.d(t,"tensor2d",function(){return mt}),n.d(t,"tensor3d",function(){return gt}),n.d(t,"tensor4d",function(){return vt}),n.d(t,"tensor5d",function(){return yt}),n.d(t,"tensor6d",function(){return bt}),n.d(t,"zeros",function(){return xt}),n.d(t,"onesLike",function(){return Ot}),n.d(t,"zerosLike",function(){return Nt}),n.d(t,"transpose",function(){return Qs}),n.d(t,"softmax",function(){return st}),n.d(t,"logSoftmax",function(){return lt}),n.d(t,"localResponseNormalization",function(){return Js}),n.d(t,"norm",function(){return el}),n.d(t,"gather",function(){return rl}),n.d(t,"unsortedSegmentSum",function(){return ol}),n.d(t,"basicLSTMCell",function(){return il}),n.d(t,"multiRNNCell",function(){return al}),n.d(t,"movingAverage",function(){return sl}),n.d(t,"stridedSlice",function(){return ll}),n.d(t,"topk",function(){return ul}),n.d(t,"scatterND",function(){return cl}),n.d(t,"fft",function(){return dl}),n.d(t,"ifft",function(){return fl}),n.d(t,"rfft",function(){return hl}),n.d(t,"irfft",function(){return pl}),n.d(t,"sparseToDense",function(){return gl}),n.d(t,"gatherND",function(){return yl}),n.d(t,"train",function(){return ic}),n.d(t,"tidy",function(){return Ce}),n.d(t,"keep",function(){return je}),n.d(t,"dispose",function(){return Oe}),n.d(t,"time",function(){return Ne}),n.d(t,"profile",function(){return Re}),n.d(t,"customGrad",function(){return Se}),n.d(t,"grad",function(){return we}),n.d(t,"grads",function(){return ke}),n.d(t,"valueAndGrad",function(){return Ee}),n.d(t,"valueAndGrads",function(){return Te}),n.d(t,"variableGrads",function(){return Ae});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function u(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var d={},f={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function h(e){e in d||(document.createElement("canvas").addEventListener("webglcontextlost",function(t){t.preventDefault(),delete d[e]},!1),d[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=document.createElement("canvas");return 1===e?t.getContext("webgl",f)||t.getContext("experimental-webgl",f):t.getContext("webgl2",f)}(e));var t=d[e];return t.isContextLost()?(delete d[e],h(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),d[e])}function p(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function m(e,t,n){return Math.max(e,Math.min(t,n))}function g(e){return e%2==0?e:e+1}function v(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function y(e,t){var n=Math.random();return t*n+(1-n)*e}function b(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function _(e,t,n){void 0===n&&(n=""),b(E(e,t),n+" Shapes "+e+" and "+t+" must match")}function x(e){b(null!=e,"The input to the tensor constructor must be a non-null value.")}function w(e,t){if(void 0===t&&(t=[]),Array.isArray(e))for(var n=0;n<e.length;++n)w(e[n],t);else t.push(e);return t}function k(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function E(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function T(e){return e%1==0}function A(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function S(e){for(var t=Math.floor(Math.sqrt(e));t>1;--t)if(e%t==0)return[t,e/t];return[1,e]}function M(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function C(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise(function(r,o){var i=0,a=function(){if(e())r();else{var s=t(++i);null!=n&&i>=n?o():setTimeout(a,s)}};a()})}function j(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function O(e,t){for(var n=[],r=[],o=0,i=0;i<e.length;++i){if(null!=t){if(t[o]===i&&1!==e[i])throw new Error("Can't squeeze axis "+i+" since its dim '"+e[i]+"' is not 1");(null==t[o]||t[o]>i)&&1===e[i]&&(n.push(e[i]),r.push(i)),t[o]<=i&&o++}1!==e[i]&&(n.push(e[i]),r.push(i))}return{newShape:n,keptDims:r}}function N(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function R(e,t,n){if("float32"===t)for(var r=0;r<e.length;r++)if(isNaN(e[r]))throw Error("The result of the '"+n+"' has NaNs.")}function P(e,t){if("float32"!==t)for(var n=0;n<e.length;n++)if(isNaN(e[n]))throw Error("NaN is not a valid value for dtype: '"+t+"'.")}function I(e,t){return!("complex64"===t||"float32"===t&&"complex64"!==e||"int32"===t&&"float32"!==e&&"complex64"!==e||"bool"===t&&"bool"===e)}function D(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function L(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function B(e){return!!(e&&e.constructor&&e.call&&e.apply)}function F(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function z(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function U(e,t,n){return function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t)?e:(Array.isArray(e)&&(e=w(e)),function(e,t,n){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return n&&P(e,t),new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)0!==Math.round(e[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}(e,t,n))}function q(e,t){for(var n=V(e,t),r=0;r<n.length;r++)n[r]=1;return n}function V(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function H(){if("undefined"!=typeof performance)return performance.now();if(void 0!==e){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}throw new Error("Cannot measure time in this environment. You should run tf.js in the browser or in Node.js")}var W=Object.freeze({shuffle:p,clamp:m,nearestLargerEven:g,sum:v,randUniform:y,distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var o=Number(e[r])-Number(t[r]);n+=o*o}return n},assert:b,assertShapesMatch:_,assertNonNull:x,flatten:w,sizeFromShape:k,isScalarShape:function(e){return 0===e.length},arraysEqual:E,isInt:T,tanh:A,sizeToSquarishShape:S,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return p(t),t},rightPad:M,repeatedTry:C,inferFromImplicitShape:j,squeezeShape:O,getTypedArrayFromDType:N,checkComputationForNaN:R,checkConversionForNaN:P,hasEncodingLoss:I,isTypedArray:D,bytesPerElement:L,isFunction:B,nearestDivisor:F,computeStrides:z,toTypedArray:U,makeOnesTypedArray:q,makeZerosTypedArray:V,now:H}),G=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new X)}return e.prototype.profileKernel=function(e,t){var n,r=this,o=this.backendTimer.time(function(){n=t()});return(Array.isArray(n)?n:[n]).forEach(function(t){var n=t.dataSync();R(n,t.dtype,e),o.then(function(o){var i="";null!=o.getExtraProfileInfo&&(i=o.getExtraProfileInfo()),r.logger.logKernelProfile(e,t,n,o.kernelMs,i)})}),n},e}(),X=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,o){var i=M(r+"ms",9),a=M(e,25),s=t.rank,l=t.size,u=M(t.shape.toString(),14);console.log("%c"+a+"\t%c"+i+"\t%c"+s+"D "+u+"\t%c"+l+"\t%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green")},e}(),K=20,Y=3,$=7;function Z(e,t,n,r){var o=z(t),i=function(e,t,n,r){var o=k(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,l="complex64"===n?J(e):e;if(s>1)for(var u=0;u<o/i;u++)for(var c=u*i,d=0;d<i;d++)a[d]=Math.max(a[d],Q(l[c+d],0).length);return a}(e,t,n,o),a=t.length,s=function e(t,n,r,o,i,a){void 0===a&&(a=!0);var s="complex64"===r?2:1,l=n[0],u=n.length;if(0===u)return"complex64"===r?[Q(J(t)[0],0)]:[t[0].toString()];if(1===u){if(l>K){var c=Y*s,d=Array.from(t.subarray(0,c)),f=Array.from(t.subarray(l-Y*s,l));return"complex64"===r&&(d=J(d),f=J(f)),["["+d.map(function(e,t){return Q(e,i[t])}).join(", ")+", ..., "+f.map(function(e,t){return Q(e,i[l-Y+t])}).join(", ")+"]"]}return["["+("complex64"===r?J(t):Array.from(t)).map(function(e,t){return Q(e,i[t])}).join(", ")+"]"]}var h=n.slice(1),p=o.slice(1),m=o[0]*s,g=[];if(l>K){for(var v=0;v<Y;v++){var y=(b=v*m)+m;g.push.apply(g,e(t.subarray(b,y),h,r,p,i,!1))}for(g.push("..."),v=l-Y;v<l;v++)y=(b=v*m)+m,g.push.apply(g,e(t.subarray(b,y),h,r,p,i,v===l-1))}else for(v=0;v<l;v++){var b;y=(b=v*m)+m,g.push.apply(g,e(t.subarray(b,y),h,r,p,i,v===l-1))}var _=2===u?",":"";g[0]="["+g[0]+_;for(v=1;v<g.length-1;v++)g[v]=" "+g[v]+_;var x=",\n";for(v=2;v<u;v++)x+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(a?"":x),g}(e,t,n,o,i),l=["Tensor"];return r&&(l.push("  dtype: "+n),l.push("  rank: "+a),l.push("  shape: ["+t+"]"),l.push("  values:")),l.push(s.map(function(e){return"    "+e}).join("\n")),l.join("\n")}function Q(e,t){return M(Array.isArray(e)?parseFloat(e[0].toFixed($))+" + "+parseFloat(e[1].toFixed($))+"j":parseFloat(e.toFixed($)).toString(),t)}function J(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var ee=function(){function e(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=k(e),null!=n){var r=n.length;b(r===this.size,"Length of values '"+r+"' does not match the size inferred by the shape '"+this.size+"'.")}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||N(t,k(this.shape)),this.strides=z(e)}return e.prototype.set=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];0===t.length&&(t=[0]),b(t.length===this.rank,"The number of provided coordinates ("+t.length+") must match the rank ("+this.rank+")");var r=this.locToIndex(t);this.values[r]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=e[e.length-1],r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return oe.make(this.shape,{values:this.values},this.dtype)},e}(),te=null,ne=null;function re(e){te=e}var oe=function(){function e(e,t,n,r){this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=k(e),null!=n&&b(this.size===n.length,"Based on the provided shape, ["+e+"], and dtype "+this.dtype+", the tensor should have "+this.size+" values but has "+n.length),this.strides=z(e),this.dataId=null!=r?r:{},this.id=te().nextTensorId(),this.rankType=this.rank<5?this.rank.toString():"higher",te().registerTensor(this),null!=n&&te().write(this.dataId,n)}return e.make=function(t,n,r){return new e(t,r,n.values,n.dataId)},e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),b(1===this.size,"The array must have only 1 element."),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.asType=function(e){return this.throwIfDisposed(),ne.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];b(e.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),b("complex64"!==this.dtype,"Tensor.get() is not supported for complex64 tensors yet."),this.throwIfDisposed(),0===e.length&&(e=[0]);for(var n=e[e.length-1],r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.dataSync()[n]},e.prototype.buffer=function(){return ne.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.data=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.throwIfDisposed(),[2,te().read(this.dataId)]})})},e.prototype.dataSync=function(){return this.throwIfDisposed(),te().readSync(this.dataId)},e.prototype.dispose=function(){this.isDisposed||(te().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),ne.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),ne.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),ne.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),ne.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),ne.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),ne.clone(this)},e.prototype.toString=function(e){return void 0===e&&(e=!1),Z(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),ne.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ne.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),ne.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),ne.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),ne.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),ne.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),ne.reverse(this,e)},e.prototype.concat=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ne.concat([this,e],t)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ne.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),ne.stack([this,e],t)},e.prototype.unstack=function(e,t){return void 0===t&&(t=0),ne.unstack(this,t)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),ne.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,o){return void 0===n&&(n=.001),this.throwIfDisposed(),ne.batchNormalization(this,e,t,n,r,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ne.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ne.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ne.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ne.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ne.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ne.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ne.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ne.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),ne.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),ne.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),ne.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),ne.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),ne.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),ne.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),ne.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),ne.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),ne.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),ne.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),ne.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),ne.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),ne.div(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),ne.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),ne.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),ne.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),ne.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),ne.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),ne.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),ne.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),ne.modStrict(this,e)},e.prototype.squaredDifference=function(e){return this.throwIfDisposed(),ne.squaredDifference(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),ne.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),ne.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),ne.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),ne.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),ne.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),ne.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),ne.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),ne.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),ne.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),ne.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),ne.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),ne.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),ne.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),ne.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),ne.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),ne.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),ne.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),ne.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),ne.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),ne.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),ne.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),ne.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),ne.sign(this)},e.prototype.exp=function(){return this.throwIfDisposed(),ne.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),ne.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),ne.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),ne.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),ne.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),ne.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),ne.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),ne.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),ne.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),ne.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),ne.relu(this)},e.prototype.elu=function(){return this.throwIfDisposed(),ne.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),ne.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),ne.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),ne.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),ne.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),ne.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),ne.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),ne.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),ne.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),ne.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),ne.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),ne.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),ne.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),ne.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),ne.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),ne.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),ne.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),ne.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),ne.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),ne.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),ne.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),ne.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),ne.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),ne.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),ne.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),ne.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),ne.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),ne.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,o,i){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),ne.conv1d(this,e,t,n,r,o,i)},e.prototype.conv2d=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),ne.conv2d(this,e,t,n,r,o,i)},e.prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),ne.conv2dTranspose(this,e,t,n,r,o)},e.prototype.depthwiseConv2D=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),ne.depthwiseConv2d(this,e,t,n,r,o,i)},e.prototype.separableConv2d=function(e,t,n,r,o,i){return void 0===o&&(o=[1,1]),void 0===i&&(i="NHWC"),this.throwIfDisposed(),ne.separableConv2d(this,e,t,n,r,o,i)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),ne.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),ne.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),ne.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,o){return this.throwIfDisposed(),ne.pool(this,e,t,n,r,o)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),ie.variable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),ne.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),ne.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),ne.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),ne.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,o){return void 0===r&&(r=0),void 0===o&&(o=0),this.throwIfDisposed(),ne.stridedSlice(this,e,t,n,r,o)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),ne.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),ne.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),ne.spectral.ifft(this)},e}();Object.defineProperty(oe,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.shape&&null!=e.dtype}});var ie=function(e){function t(t,n,r){void 0===n&&(n=!0);var o=e.call(this,t.shape,t.dtype,null,t.dataId)||this;o.trainable=n,o.name=r,null==o.name&&(o.name=te().nextVariableId().toString());try{te().registerVariable(o)}catch(e){throw te().disposeTensor(o),e}return o}return s(t,e),t.variable=function(e,n,r,o){return void 0===n&&(n=!0),null!=o&&o!==e.dtype&&(e=e.asType(o)),new t(e,n,r)},t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!E(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");te().disposeTensor(this),this.dataId=e.dataId,te().registerTensor(this)},t}(oe);Object.defineProperty(ie,Symbol.hasInstance,{value:function(e){return e instanceof oe&&null!=e.assign&&e.assign instanceof Function}});var ae=ie.variable;function se(e,t){b(e.dtype===t.dtype,"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match")}function le(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof oe)n.push(t);else if(function(e){return Array.isArray(e)||"object"==typeof e}(t)){var o=t;for(var i in o){var a=o[i];r.has(a)||(r.add(a),e(a,n,r))}}}(e,t,new Set),t}var ue,ce,de=function(){function e(e,t,n){this.backend=e,this.safeMode=t,this.debugMode=n,this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numDataBuffers=0,this.profiling=!1,this.gradientScopeCount=0,this.customGradientDepth=0,this.keepTensors=new Set,this.tensorInfo=new WeakMap,this.activeScope={track:[],name:"default scope"},this.scopeStack=[this.activeScope],this.profiler=new G(e),this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.moveData=function(e){this.write(e,this.readSync(e))},e.prototype.tidy=function(e,t,n){var r=this;void 0===n&&(n=!1);var o,i=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun(function(){return r.startScope(i,n)},function(){return r.endScope(o,n)},function(){return(o=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),o})},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.runKernel=function(e,t,n){var r,o=this,i=[],a=function(e){return i.push(e),e},s=this.activeScope.name,l=this.numBytes,u=this.numTensors;if(this.scopedRun(function(){return o.customGradientDepth++},function(){return o.customGradientDepth--},function(){r=o.debugMode()?o.profiler.profileKernel(s,function(){return e(o.backend,a)}):e(o.backend,a)}),this.shouldRecord()){var c={id:this.nextTapeNodeId++,name:s,inputs:t,outputs:Array.isArray(r)?r:[r]};null!=n&&(c.gradient=function(e){return n(e,i)}),this.activeTape.push(c)}return this.profiling&&this.activeProfile.kernels.push({name:s,bytesAdded:this.numBytes-l,totalBytesSnapshot:this.numBytes,tensorsAdded:this.numTensors-u,totalTensorsSnapshot:this.numTensors,inputShapes:Object.keys(t).map(function(e){return t[e].shape}),outputShape:Array.isArray(r)?r.map(function(e){return e.shape}):r.shape}),r},e.prototype.registerTensor=function(e){var t=this.tensorInfo.has(e.dataId)?this.tensorInfo.get(e.dataId).refCount:0;this.numTensors++,0===t&&(this.numDataBuffers++,"complex64"!==e.dtype&&(this.numBytes+=k(e.shape)*L(e.dtype)),this.tensorInfo.set(e.dataId,{backend:this.backend,dtype:e.dtype,shape:e.shape,refCount:0}),this.backend.register(e.dataId,e.shape,e.dtype)),this.tensorInfo.get(e.dataId).refCount++,e instanceof ie||this.track(e)},e.prototype.registerVariable=function(e){if(null!=this.registeredVariables[e.name])throw new Error("Variable with name "+e.name+" was already registered");this.registeredVariables[e.name]=e},e.prototype.disposeTensor=function(e){this.tensorInfo.has(e.dataId)&&(this.keepTensors.has(e.id)&&this.keepTensors.delete(e.id),this.numTensors--,this.tensorInfo.get(e.dataId).refCount<=1?(this.tensorInfo.get(e.dataId).backend.disposeData(e.dataId),this.numDataBuffers--,"complex64"!==e.dtype&&(this.numBytes-=k(e.shape)*L(e.dtype)),this.tensorInfo.delete(e.dataId)):this.tensorInfo.get(e.dataId).refCount--)},e.prototype.disposeVariables=function(){for(var e in this.registeredVariables){var t=this.registeredVariables[e];this.disposeTensor(t),delete this.registeredVariables[e]}},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.numTensors,e.numDataBuffers=this.numDataBuffers,e.numBytes=this.numBytes,e},e.prototype.profile=function(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){return this.profiling=!0,t=this.numBytes,n=this.numTensors,this.activeProfile.kernels=[],this.activeProfile.result=e(),this.profiling=!1,this.activeProfile.peakBytes=Math.max.apply(Math,this.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot})),this.activeProfile.newBytes=this.numBytes-t,this.activeProfile.newTensors=this.numTensors-n,[2,this.activeProfile]})})},e.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth},e.prototype.addTapeNode=function(e,t,n){var r={};e.forEach(function(e,t){r[t]=e});var o={id:this.nextTapeNodeId++,name:this.activeScope.name,inputs:r,outputs:[t],gradient:function(e){var t={};return n(e).forEach(function(e,n){t[n]=function(){return e}}),t}};this.activeTape.push(o)},e.prototype.keep=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.keepTensors.add(e.id),e},e.prototype.startScope=function(e,t){void 0===t&&(t=!1),t&&0===this.gradientScopeCount&&(this.activeTape=[]),t&&this.gradientScopeCount++;var n={track:[],name:"unnamed scope"};e&&(n.name=e),this.scopeStack.push(n),this.activeScope=n},e.prototype.endScope=function(e,t){var n=this;void 0===t&&(t=!1),t&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var r=new Set(this.keepTensors),o=le(e);o.forEach(function(e){return r.add(e.id)});for(var i=0;i<this.activeScope.track.length;i++){var a=this.activeScope.track[i];r.has(a.id)||(null!=this.activeTape?o.push(a):a.dispose())}var s=this.scopeStack.pop();this.activeScope=0===this.scopeStack.length?{track:[],name:"default scope"}:this.scopeStack[this.scopeStack.length-1],o.forEach(function(e){!n.keepTensors.has(e.id)&&function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return!0;return!1}(e,s.track)&&n.track(e)})},e.prototype.gradients=function(e,t,n,r){var o=this;return void 0===r&&(r=!1),b(t.length>0,"gradients() received an empty list of xs."),this.tidy("gradients",function(){var i=e();b(i instanceof oe,"The result y returned by f() must be a tensor.");var a=function(e,t,n){for(var r={},o={},i=0;i<t.length;i++)r[t[i].id]=!0;for(i=0;i<e.length;i++){var a=(p=e[i]).inputs;for(var s in a){for(var l=a[s],u=!1,c=0;c<t.length;c++)if(r[l.id]){p.outputs.forEach(function(e){return r[e.id]=!0}),u=!0,o[p.id]=!0;break}if(u)break}}var d={};d[n.id]=!0;var f={};for(i=e.length-1;i>=0;i--)for(a=(p=e[i]).inputs,c=0;c<p.outputs.length;c++)if(d[p.outputs[c].id]){for(var s in a)d[a[s].id]=!0,f[p.id]=!0;break}var h=[];for(i=0;i<e.length;i++){var p;if(o[(p=e[i]).id]&&f[p.id]){var m={};for(var s in p.inputs){var g=p.inputs[s];r[g.id]&&(m[s]=g)}var v=Object.assign({},p);v.inputs=m,v.outputs=p.outputs,h.push(v)}}return h}(o.activeTape,t,i);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var s={};return s[i.id]=null==n?function(e){var t=q(k(e),"float32");return oe.make(e,{values:t})}(i.shape):n,function(e,t){for(var n=function(n){var r=t[n],o=[];if(r.outputs.forEach(function(t){var n=e[t.id];if(null!=n)o.push(n);else{var r=oe.make(t.shape,{values:V(t.size,t.dtype)},t.dtype);o.push(r)}}),null==r.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+r.name+".");var i=r.gradient(1===r.outputs.length?o[0]:o);for(var a in r.inputs){if(!(a in i))throw new Error("Cannot backprop through input "+a+". Available gradients found: "+Object.keys(i)+".");var s=i[a](),l=r.inputs[a];if(!E(s.shape,l.shape))throw new Error("Error in gradient for op "+r.name+". The gradient of input '"+a+"' has shape '"+s.shape+"', which does not match the shape of the input '"+l.shape+"'");if(null==e[l.id])e[l.id]=s;else{var u=e[l.id];e[l.id]=u.add(s),u.dispose()}}},r=t.length-1;r>=0;r--)n(r)}(s,a),{value:i,grads:t.map(function(e){return s[e.id]})}},!0)},e.prototype.customGrad=function(e){var t=this;return b(B(e),"The f passed in customGrad(f) must be a function."),function(){for(var n,r,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return b(o.every(function(e){return e instanceof oe}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors"),t.scopedRun(function(){return t.customGradientDepth++},function(){return t.customGradientDepth--},function(){r=t.tidy(e.name,function(){var t=e.apply(void 0,o),r=t.value,i=t.gradFunc;return b(r instanceof oe,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),b(B(i),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n=i,r},!0)}),t.shouldRecord()&&t.addTapeNode(o,r,function(e){var t=n(e),r=Array.isArray(t)?t:[t];return b(r.length===o.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),b(r.every(function(e){return e instanceof oe}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),r}),r}},e.prototype.write=function(e,t){var n=this.tensorInfo.get(e);this.backend!==n.backend&&(n.backend.disposeData(e),n.backend=this.backend,this.backend.register(e,n.shape,n.dtype)),this.backend.write(e,t)},e.prototype.readSync=function(e){return this.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.tensorInfo.get(e).backend.read(e)},e.prototype.fromPixels=function(e,t){return this.backend.fromPixels(e,t)},e.prototype.time=function(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:return t=H(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=H()-t,[2,n]}})})},e.prototype.track=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return this.activeScope.track.push(e),e},e.nextTensorId=0,e.nextVariableId=0,e}();(ce=ue||(ue={}))[ce.NUMBER=0]="NUMBER",ce[ce.BOOLEAN=1]="BOOLEAN",ce[ce.STRING=2]="STRING";var fe,he=[{name:"DEBUG",type:ue.BOOLEAN},{name:"IS_BROWSER",type:ue.BOOLEAN},{name:"WEBGL_LAZILY_UNPACK",type:ue.BOOLEAN},{name:"WEBGL_CPU_FORWARD",type:ue.BOOLEAN},{name:"WEBGL_PACK_BATCHNORMALIZATION",type:ue.BOOLEAN},{name:"WEBGL_CONV_IM2COL",type:ue.BOOLEAN},{name:"WEBGL_MAX_TEXTURE_SIZE",type:ue.NUMBER},{name:"WEBGL_PAGING_ENABLED",type:ue.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:ue.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:ue.BOOLEAN},{name:"WEBGL_VERSION",type:ue.NUMBER},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:ue.BOOLEAN},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:ue.BOOLEAN},{name:"WEBGL_FENCE_API_ENABLED",type:ue.BOOLEAN},{name:"WEBGL_SIZE_UPLOAD_UNIFORM",type:ue.NUMBER},{name:"BACKEND",type:ue.STRING},{name:"EPSILON",type:ue.NUMBER},{name:"PROD",type:ue.BOOLEAN},{name:"TENSORLIKE_CHECK_SHAPE_CONSISTENCY",type:ue.BOOLEAN}];function pe(e){try{if(null!=h(e))return!0}catch(e){return!1}return!1}var me="tfjsflags";function ge(){var e={};if("undefined"==typeof window||void 0===window.location||void 0===window.location.search)return e;var t=function(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")}),t}(window.location.search);if(me in t){var n={};t[me].split(",").forEach(function(e){var t=e.split(":"),r=t[0],o=t[1];n[r]=o}),he.forEach(function(t){t.name in n&&(console.log("Setting feature override from URL "+t.name+": "+n[t.name]),t.type===ue.NUMBER?e[t.name]=+n[t.name]:t.type===ue.BOOLEAN?e[t.name]="true"===n[t.name]:t.type===ue.STRING?e[t.name]=n[t.name]:console.warn("Unknown URL param: "+t.name+"."))})}return e}function ve(e,t){return null!=e.getExtension(t)}function ye(e,t){var n=e.createFramebuffer(),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var o=2===t?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,o,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(n),i}var be=function(){function t(e){this.features={},this.registry={},null!=e&&(this.features=e),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}return t.setBackend=function(e,t){if(void 0===t&&(t=!1),!(e in _e.registry))throw new Error("Backend name '"+e+"' not found in registry");_e.engine.backend=_e.findBackend(e),_e.backendName=e},t.getBackend=function(){return _e.initEngine(),_e.backendName},t.disposeVariables=function(){_e.engine.disposeVariables()},t.memory=function(){return _e.engine.memory()},t.profile=function(e){return _e.engine.profile(e)},t.tidy=function(e,t,n){return void 0===n&&(n=!1),_e.engine.tidy(e,t,n)},t.dispose=function(e){le(e).forEach(function(e){return e.dispose()})},t.keep=function(e){return _e.engine.keep(e)},t.time=function(e){return _e.engine.time(e)},t.prototype.get=function(e){return e in this.features?this.features[e]:(this.features[e]=this.evaluateFeature(e),this.features[e])},t.prototype.getFeatures=function(){return this.features},t.prototype.set=function(e,t){this.features[e]=t},t.prototype.getBestBackendName=function(){var e=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");return Object.keys(this.registry).map(function(t){return{name:t,entry:e.registry[t]}}).sort(function(e,t){return t.entry.priority-e.entry.priority})[0].name},t.prototype.evaluateFeature=function(t){if("DEBUG"===t)return!1;if("IS_BROWSER"===t)return"undefined"!=typeof window;if("IS_NODE"===t)return void 0!==e&&void 0!==e.versions&&void 0!==e.versions.node;if("IS_CHROME"===t)return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);if("WEBGL_CPU_FORWARD"===t)return!0;if("WEBGL_PACK_BATCHNORMALIZATION"===t)return!1;if("WEBGL_LAZILY_UNPACK"===t)return!1;if("WEBGL_CONV_IM2COL"===t)return!1;if("WEBGL_PAGING_ENABLED"===t)return this.get("IS_BROWSER")&&!this.get("PROD");if("WEBGL_MAX_TEXTURE_SIZE"===t)return function(e){if(null==fe){var t=h(e);fe=t.getParameter(t.MAX_TEXTURE_SIZE)}return fe}(this.get("WEBGL_VERSION"));if("IS_TEST"===t)return!1;if("BACKEND"===t)return this.getBestBackendName();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===t){var n=this.get("WEBGL_VERSION");return 0===n?0:function(e){if(0===e)return 0;var t=h(e);return ve(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:ve(t,"EXT_disjoint_timer_query")?1:0}(n)}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===t)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}();if("HAS_WEBGL"===t)return this.get("WEBGL_VERSION")>0;if("WEBGL_VERSION"===t)return pe(2)?2:pe(1)?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===t)return function(e){if(0===e)return!1;var t=h(e);if(1===e){if(!ve(t,"OES_texture_float"))return!1}else if(!ve(t,"EXT_color_buffer_float"))return!1;return ye(t,e)}(this.get("WEBGL_VERSION"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===t)return function(e){if(0===e)return!1;var t=h(e);if(1===e){if(!ve(t,"OES_texture_float"))return!1;if(!ve(t,"WEBGL_color_buffer_float"))return!1}else if(!ve(t,"EXT_color_buffer_float"))return!1;return ye(t,e)}(this.get("WEBGL_VERSION"));if("WEBGL_FENCE_API_ENABLED"===t)return function(e){return 2===e&&null!=h(e).fenceSync}(this.get("WEBGL_VERSION"));if("WEBGL_SIZE_UPLOAD_UNIFORM"===t)return this.get("WEBGL_RENDER_FLOAT32_ENABLED")?4:0;if("TEST_EPSILON"===t)return 32===this.backend.floatPrecision()?.001:.1;if("EPSILON"===t)return 32===this.backend.floatPrecision()?1e-7:1e-4;if("PROD"===t)return!1;if("TENSORLIKE_CHECK_SHAPE_CONSISTENCY"===t)return!this.get("PROD");throw new Error("Unknown feature "+t+".")},t.prototype.setFeatures=function(e){this.features=Object.assign({},e)},t.prototype.reset=function(){this.features=ge(),null!=this.globalEngine&&(this.globalEngine=null)},Object.defineProperty(t.prototype,"backend",{get:function(){return this.engine.backend},enumerable:!0,configurable:!0}),t.prototype.findBackend=function(e){return e in this.registry?this.registry[e].backend:null},t.prototype.registerBackend=function(e,t,n,r){var o=this;if(void 0===n&&(n=1),e in this.registry)return console.warn(e+" backend was already registered. Reusing existing backend"),null!=r&&r(function(){return o.engine}),!1;try{var i=t();return i.setDataMover({moveData:function(e){return o.engine.moveData(e)}}),this.registry[e]={backend:i,priority:n},!0}catch(t){return console.warn("Registration of backend "+e+" failed"),console.warn(t.stack||t.message),!1}},t.prototype.removeBackend=function(e){if(!(e in this.registry))throw new Error(e+" backend not found in registry");this.registry[e].backend.dispose(),delete this.registry[e]},Object.defineProperty(t.prototype,"engine",{get:function(){return this.initEngine(),this.globalEngine},enumerable:!0,configurable:!0}),t.prototype.initEngine=function(){var e=this;if(null==this.globalEngine){this.backendName=this.get("BACKEND");var t=this.findBackend(this.backendName);this.globalEngine=new de(t,!1,function(){return e.get("DEBUG")})}},t}();var _e=function(){var t=function(){var t;if("undefined"!=typeof window)t=window;else{if(void 0===e)throw new Error("Could not find a global object");t=e}return t}();return null==t.ENV&&(t.ENV=new be(ge()),re(function(){return t.ENV.engine})),t.ENV}(),xe=Object.freeze({EPSILON_FLOAT16:1e-4,EPSILON_FLOAT32:1e-7,Environment:be,ENV:_e});function we(e){return b(B(e),"The f passed in grad(f) must be a function"),function(t,n){return b(t instanceof oe,"The x passed in grad(f)(x) must be a tensor"),b(null==n||n instanceof oe,"The dy passed in grad(f)(x, dy) must be a tensor"),_e.engine.tidy(function(){var r=_e.engine.gradients(function(){return e(t)},[t],n),o=r.value,i=r.grads;return null!=n&&_(o.shape,n.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),Me(i),i[0]})}}function ke(e){return b(B(e),"The f passed in grads(f) must be a function"),function(t,n){return b(Array.isArray(t)&&t.every(function(e){return e instanceof oe}),"The args passed in grads(f)(args) must be an array of tensors"),b(null==n||n instanceof oe,"The dy passed in grads(f)(args, dy) must be a tensor"),_e.engine.tidy(function(){var r=_e.engine.gradients(function(){return e.apply(void 0,t)},t,n),o=r.value,i=r.grads;return null!=n&&_(o.shape,n.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Me(i),i})}}function Ee(e){return b(B(e),"The f passed in valueAndGrad(f) must be a function"),function(t,n){b(t instanceof oe,"The x passed in valueAndGrad(f)(x) must be a tensor"),b(null==n||n instanceof oe,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var r=_e.engine.gradients(function(){return e(t)},[t],n),o=r.grads,i=r.value;return Me(o),{grad:o[0],value:i}}}function Te(e){return b(B(e),"The f passed in valueAndGrads(f) must be a function"),function(t,n){b(Array.isArray(t)&&t.every(function(e){return e instanceof oe}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),b(null==n||n instanceof oe,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var r=_e.engine.gradients(function(){return e.apply(void 0,t)},t,n);return null!=n&&_(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Me(r.grads),r}}function Ae(e,t){if(b(B(e),"The f passed in variableGrads(f) must be a function"),b(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof ie}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==t)for(var n in t=[],_e.engine.registeredVariables)t.push(_e.engine.registeredVariables[n]);var r=t.length;b((t=t.filter(function(e){return e.trainable})).length>0,"variableGrads() expects at least one of the input variables to be trainable, but none of the "+r+" variables is trainable.");var o=_e.engine.gradients(e,t,null,!0),i=o.value,a=o.grads;b(a.some(function(e){return null!=e}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),b(0===i.rank,"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+i.rank+" tensor");var s={};return t.forEach(function(e,t){null!=a[t]&&(s[e.name]=a[t])}),{value:i,grads:s}}function Se(e){return _e.engine.customGrad(e)}function Me(e){if(e.filter(function(e){return null==e}).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var Ce=be.tidy,je=be.keep,Oe=be.dispose,Ne=be.time,Re=be.profile;function Pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];_e.get("IS_TEST")||console.warn.apply(console,e)}function Ie(e,t,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var i=t.length,a=0;a<i;++a)o=o.concat([e[a+1]/t[a],t[a]]);o=o.concat(e.slice(i+1))}return o}function De(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var i=[],a=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?a.push(o):i.push(o);r.push.apply(r,i),r.push(0),r.push.apply(r,a)}return r}function Le(e,t,n,r){void 0===r&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function Be(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Fe(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function ze(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Ue(e,t){for(var n=[],r=e.length,o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map(function(t){return e[t]})]}function qe(e,t){return function(e,t,n){for(var r=e.length+t.length,o=[],i=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}(e,t.map(function(e){return 1}),t)}function Ve(e,t){var n=t.length;return b((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-n&&e<n}),"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e),b(e.every(function(e){return T(e)}),"All values in axis param must be integers but got axis "+e),e.map(function(e){return e<0?n+e:e})}function He(e,t,n){b(ze(t,n),e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input.")}function We(e,t){if(ze(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(function(e){return n.push(e)}),n}function Ge(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function Xe(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function Ke(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function Ye(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,i=0;i<n.length-1;++i)o*=n[i];var a=e.shape,s=n.slice();s.pop();var l=1;for(i=r;i<e.rank;++i)l*=a[i],s.push(a[i]);var u=z(e.shape).map(function(e){return e/l}).concat([1]).slice(0,r);return[s,o,l,u]}var $e=30;function Ze(e){return e<=$e?e:F(e,Math.floor(Math.sqrt(e)))}function Qe(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}!function(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(i+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(i+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(var a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+t.shape[a]+").");for(a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+" updates.shape["+(a+o)+"] ("+n.shape[a+o]+") != shape["+(a+o)+"] ("+e[a+o]+")")}(n,t,e)}function Je(e,t,n){for(var r=t.rank>1?t.shape[t.rank-1]:1,o=n.length,i=1,a=r;a<o;++a)i*=n[a];var s=r<1?1:r,l=t.size/s,u=z(n).concat([1]);return{sliceRank:r,numUpdates:l,sliceSize:i,strides:u.slice(u.length-r,u.length),outputSize:k(n)}}function et(e,t,n,r,o,i,a,s,l){if(void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),0!==a)throw new Error("ellipsis mask is not yet supported");if(0!==s)throw new Error("new axis mask is not yet supported");for(var u=[],c=[],d=[],f=0;f<e.length;f++)u[f]=tt(o,t,r,e,f),c[f]=nt(i,n,r,e,f),l&1<<f&&(c[f]=u[f]+1,d.push(f));var h=new Array(e.length).fill(0);return h=h.map(function(e,t){for(var n=0,o=u[t];!(r[t]>0?o>=c[t]:o<=c[t]);o+=r[t])n+=1;return n}),[u,h,d]}function tt(e,t,n,r,o){var i=t[o];e&1<<o&&(i=n[o]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var a=r[o];return i<0&&(i+=a),m(0,i,a-1)}function nt(e,t,n,r,o){var i=t[o];e&1<<o&&(i=n[o]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var a=r[o];return i<0&&(i+=a),n[o]>0?m(0,i,a):m(-1,i,a-1)}function rt(e){var t=e;if(D(e))return[e.length];if(!Array.isArray(e))return[];for(var n=[];t instanceof Array;)n.push(t.length),t=t[0];return e instanceof Array&&_e.get("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],t instanceof Array){b(n.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"}),b(t.length===n[0],function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"});for(var o=n.slice(1),i=0;i<t.length;++i)e(t[i],o,r.concat(i))}else b(0===n.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array of "+n[0]+" elements"})}(e,n,[]),n}function ot(e,t,n,r){if(void 0===r&&(r="float32"),r=r||"float32",e instanceof oe)return e;if(!D(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e)throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got "+e.constructor.name);var o=rt(e);return D(e)||Array.isArray(e)||(e=[e]),oe.make(o,{values:U(e,r,_e.get("DEBUG"))},r)}function it(e,t,n){if(!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(e,r){return ot(e,t+"["+r+"]",n)})}function at(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];_e.engine.startScope(n);try{var o=r.apply(void 0,e);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),_e.engine.endScope(o),o}catch(e){throw _e.engine.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}var st=at({softmax_:function(e,t){void 0===t&&(t=-1);var n=ot(e,"logits","softmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Se(function(e){var n=e.logSumExp([t],!0),r=e.toFloat().sub(n).exp();return{value:r,gradFunc:function(e){var n=e.mul(r);return n.sub(n.sum([t],!0).mul(r))}}})(n)}}),lt=at({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=ot(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Se(function(e){var n=e.max(t,!0),r=e.sub(n),o=r.toFloat().sub(r.exp().sum(t,!0).log());return{value:o,gradFunc:function(e){var n=o.exp();return e.sub(e.sum(t,!0).mul(n))}}})(n)}});var ut=at({complex_:function(e,t){var n=ot(e,"real","complex"),r=ot(t,"imag","complex");return _(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),_e.engine.runKernel(function(e){return e.complex(n,r)},{$real:n,$imag:r})}}),ct=at({real_:function(e){var t=ot(e,"input","real");return _e.engine.runKernel(function(e){return e.real(t)},{$input:t})}}),dt=at({imag_:function(e){var t=ot(e,"input","imag");return _e.engine.runKernel(function(e){return e.imag(t)},{$input:t})}});function ft(e,t,n){if(void 0===n&&(n="float32"),"complex64"===n)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!D(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e)throw new Error("values passed to tensor(values) must be an array of numbers or booleans, or a TypedArray");var r=rt(e);return null!=t&&1!==r.length&&_(t,r,"Error creating a new Tensor. Inferred shape ("+r+") does not match the provided shape ("+t+"). "),D(e)||Array.isArray(e)||(e=[e]),t=t||r,oe.make(t,{values:U(e,n,_e.get("DEBUG"))},n)}function ht(e,t){if(void 0===t&&(t="float32"),(D(e)||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean)");return ft(e,[],t)}function pt(e,t){void 0===t&&(t="float32"),x(e);var n=rt(e);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return ft(e,n,t)}function mt(e,t,n){if(void 0===n&&(n="float32"),x(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=rt(e);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ft(e,t=t||r,n)}function gt(e,t,n){if(void 0===n&&(n="float32"),x(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=rt(e);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ft(e,t=t||r,n)}function vt(e,t,n){if(void 0===n&&(n="float32"),x(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=rt(e);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ft(e,t=t||r,n)}function yt(e,t,n){if(void 0===n&&(n="float32"),x(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=rt(e);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ft(e,t=t||r,n)}function bt(e,t,n){if(void 0===n&&(n="float32"),x(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=rt(e);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return ft(e,t=t||r,n)}function _t(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=_t(e,"float32"),r=_t(e,"float32");return ut(n,r)}var o=q(k(e),t);return oe.make(e,{values:o},t)}function xt(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=xt(e,"float32"),r=xt(e,"float32");return ut(n,r)}var o=V(k(e),t);return oe.make(e,{values:o},t)}function wt(e,t,n){void 0===n&&(n="float32");var r=N(n,k(e));return r.fill(t),oe.make(e,{values:r},n)}function kt(e,t,n){if(0===n)throw new Error("Cannot request zero samples");var r=(t-e)/(n-1),o=V(n,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+r;return pt(o,"float32")}function Et(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return xt([0],r);var o=V(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return pt(o,r)}var Tt,At,St,Mt,Ct,jt,Ot=at({onesLike_:function(e){var t=ot(e,"x","onesLike");return _t(t.shape,t.dtype)}}),Nt=at({zerosLike_:function(e){var t=ot(e,"x","zerosLike");return xt(t.shape,t.dtype)}});!function(e){e.float32="float32",e.int32="int32",e.bool="bool"}(Tt||(Tt={})),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(At||(At={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(St||(St={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Mt||(Mt={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ct||(Ct={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(jt||(jt={}));var Rt={float32:Ct,int32:St,bool:Mt,complex64:jt};function Pt(e,t){return Rt[e][t]}function It(e){return Pt(e,"int32")}var Dt=function(){function e(e){this.dataMover=e,this.data=new WeakMap}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(e),this.data.get(e)},e.prototype.set=function(e,t){this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.data.delete(e)},e}(),Lt=function(){function e(){}return e.prototype.time=function(e){throw new Error("Not yet implemented.")},e.prototype.read=function(e){throw new Error("Not yet implemented.")},e.prototype.readSync=function(e){throw new Error("Not yet implemented.")},e.prototype.disposeData=function(e){throw new Error("Not yet implemented.")},e.prototype.write=function(e,t){throw new Error("Not yet implemented.")},e.prototype.fromPixels=function(e,t){throw new Error("Not yet implemented.")},e.prototype.register=function(e,t,n){throw new Error("Not yet implemented.")},e.prototype.memory=function(){throw new Error("Not yet implemented.")},e.prototype.floatPrecision=function(){throw new Error("Not yet implemented")},e.prototype.batchMatMul=function(e,t,n,r){throw new Error("Not yet implemented")},e.prototype.slice=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.stridedSlice=function(e,t,n,r,o,i,a,s,l){throw new Error("Not yet implemented")},e.prototype.reverse=function(e,t){throw new Error("Not yet implemented")},e.prototype.concat=function(e,t){throw new Error("Not yet implemented")},e.prototype.neg=function(e){throw new Error("Not yet implemented")},e.prototype.add=function(e,t){throw new Error("Not yet implemented")},e.prototype.addN=function(e){throw new Error("Not yet implemented")},e.prototype.subtract=function(e,t){throw new Error("Not yet implemented")},e.prototype.multiply=function(e,t){throw new Error("Not yet implemented")},e.prototype.realDivide=function(e,t){throw new Error("Not yet implemented")},e.prototype.floorDiv=function(e,t){throw new Error("Not yet implemented")},e.prototype.sum=function(e,t){throw new Error("Not yet implemented")},e.prototype.prod=function(e,t){throw new Error("Not yet implemented")},e.prototype.unsortedSegmentSum=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.argMin=function(e,t){throw new Error("Not yet implemented")},e.prototype.argMax=function(e,t){throw new Error("Not yet implemented")},e.prototype.equal=function(e,t){throw new Error("Not yet implemented")},e.prototype.notEqual=function(e,t){throw new Error("Not yet implemented")},e.prototype.less=function(e,t){throw new Error("Not yet implemented")},e.prototype.lessEqual=function(e,t){throw new Error("Not yet implemented")},e.prototype.greater=function(e,t){throw new Error("Not yet implemented")},e.prototype.greaterEqual=function(e,t){throw new Error("Not yet implemented")},e.prototype.logicalNot=function(e){throw new Error("Not yet implemented")},e.prototype.logicalAnd=function(e,t){throw new Error("Not yet implemented")},e.prototype.logicalOr=function(e,t){throw new Error("Not yet implemented")},e.prototype.where=function(e){throw new Error("Not yet implemented")},e.prototype.select=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.topk=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.min=function(e,t){throw new Error("Not yet implemented")},e.prototype.minimum=function(e,t){throw new Error("Not yet implemented")},e.prototype.mod=function(e,t){throw new Error("Not yet implemented")},e.prototype.max=function(e,t){throw new Error("Not yet implemented")},e.prototype.maximum=function(e,t){throw new Error("Not yet implemented")},e.prototype.all=function(e,t){throw new Error("Not yet implemented")},e.prototype.any=function(e,t){throw new Error("Not yet implemented")},e.prototype.squaredDifference=function(e,t){throw new Error("Not yet implemented")},e.prototype.ceil=function(e){throw new Error("Not yet implemented")},e.prototype.floor=function(e){throw new Error("Not yet implemented")},e.prototype.round=function(e){throw new Error("Not yet implemented")},e.prototype.sign=function(e){throw new Error("Not yet implemented")},e.prototype.pow=function(e,t){throw new Error("Not yet implemented")},e.prototype.exp=function(e){throw new Error("Not yet implemented")},e.prototype.expm1=function(e){throw new Error("Not yet implemented")},e.prototype.log=function(e){throw new Error("Not yet implemented")},e.prototype.log1p=function(e){throw new Error("Not yet implemented")},e.prototype.sqrt=function(e){throw new Error("Not yet implemented")},e.prototype.rsqrt=function(e){throw new Error("Not yet implemented")},e.prototype.square=function(e){throw new Error("Not yet implemented")},e.prototype.reciprocal=function(e){throw new Error("Not yet implemented")},e.prototype.relu=function(e){throw new Error("Not yet implemented")},e.prototype.elu=function(e){throw new Error("Not yet implemented")},e.prototype.eluDer=function(e,t){throw new Error("Not yet implemented")},e.prototype.selu=function(e){throw new Error("Not yet implemented")},e.prototype.int=function(e){throw new Error("Not yet implemented")},e.prototype.clip=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.abs=function(e){throw new Error("Not yet implemented")},e.prototype.complexAbs=function(e){throw new Error("Not yet implemented")},e.prototype.sigmoid=function(e){throw new Error("Not yet implemented")},e.prototype.softplus=function(e){throw new Error("Not yet implemented")},e.prototype.sin=function(e){throw new Error("Not yet implemented")},e.prototype.cos=function(e){throw new Error("Not yet implemented")},e.prototype.tan=function(e){throw new Error("Not yet implemented")},e.prototype.asin=function(e){throw new Error("Not yet implemented")},e.prototype.acos=function(e){throw new Error("Not yet implemented")},e.prototype.atan=function(e){throw new Error("Not yet implemented")},e.prototype.atan2=function(e,t){throw new Error("Not yet implemented")},e.prototype.sinh=function(e){throw new Error("Not yet implemented")},e.prototype.cosh=function(e){throw new Error("Not yet implemented")},e.prototype.tanh=function(e){throw new Error("Not yet implemented")},e.prototype.asinh=function(e){throw new Error("Not yet implemented")},e.prototype.acosh=function(e){throw new Error("Not yet implemented")},e.prototype.atanh=function(e){throw new Error("Not yet implemented")},e.prototype.erf=function(e){throw new Error("Not yet implemented")},e.prototype.step=function(e,t){throw new Error("Not yet implemented")},e.prototype.conv2d=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.conv2dDerInput=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.conv2dDerFilter=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.depthwiseConv2D=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.maxPool=function(e,t){throw new Error("Not yet implemented")},e.prototype.maxPoolBackprop=function(e,t,n,r){throw new Error("Not yet implemented")},e.prototype.avgPool=function(e,t){throw new Error("Not yet implemented")},e.prototype.avgPoolBackprop=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.reshape=function(e,t){throw new Error("Not yet implemented")},e.prototype.cast=function(e,t){throw new Error("Not yet implemented")},e.prototype.tile=function(e,t){throw new Error("Not yet implemented")},e.prototype.pad=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.transpose=function(e,t){throw new Error("Not yet implemented")},e.prototype.gather=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.gatherND=function(e,t){throw new Error("Not yet implemented")},e.prototype.scatterND=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.batchToSpaceND=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.spaceToBatchND=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.resizeBilinear=function(e,t,n,r){throw new Error("Not yet implemented")},e.prototype.resizeBilinearBackprop=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){throw new Error("Not yet implemented")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.batchNormalization=function(e,t,n,r,o,i){throw new Error("Not yet implemented")},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){throw new Error("Not yet implemented")},e.prototype.LRNGrad=function(e,t,n,r,o,i,a){throw new Error("Not yet implemented")},e.prototype.multinomial=function(e,t,n,r){throw new Error("Not yet implemented")},e.prototype.oneHot=function(e,t,n,r){throw new Error("Not yet implemented")},e.prototype.cumsum=function(e,t,n,r){throw new Error("Not yet implemented")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){throw new Error("Not yet implemented")},e.prototype.fft=function(e){throw new Error("Not yet implemented")},e.prototype.ifft=function(e){throw new Error("Not yet implemented")},e.prototype.complex=function(e,t){throw new Error("Not yet implemented")},e.prototype.real=function(e){throw new Error("Not yet implemented")},e.prototype.imag=function(e){throw new Error("Not yet implemented")},e.prototype.cropAndResize=function(e,t,n,r,o,i){throw new Error("Not yet implemented")},e.prototype.depthToSpace=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.split=function(e,t,n){throw new Error("Not yet implemented")},e.prototype.sparseToDense=function(e,t,n,r){throw new Error("Not yet implemented")},e.prototype.setDataMover=function(e){throw new Error("Not yet implemented")},e.prototype.dispose=function(){throw new Error("Not yet implemented")},e}();function Bt(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=xt(e.shape),o=e.toFloat(),i=n.complex(o,r);return r.dispose(),o.dispose(),i}if(!I(e.dtype,t))return oe.make(e.shape,{dataId:e.dataId},t);if("complex64"===e.dtype){var a=n.real(e);return i=a.cast(t),a.dispose(),i}if("int32"===t)return n.int(e);if("bool"===t){var s=ht(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: unknown dtype argument ("+t+")")}function Ft(e,t){return oe.make(t,{dataId:e.dataId},e.dtype)}function zt(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Ut(e,t){return{real:e[2*t],imag:e[2*t+1]}}function qt(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Vt(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function Ht(e,t,n,r,o){for(var i=Array.from(t).map(function(e,t){return{score:e,boxIndex:t}}).filter(function(e){return e.score>o}).sort(function(e,t){return t.score-e.score}),a=[],s=0;s<i.length;s++){var l=i[s],u=l.score,c=l.boxIndex;if(u<o)break;for(var d=!1,f=a.length-1;f>=0;--f)if(Wt(e,c,a[f])>=r){d=!0;break}if(!d&&(a.push(c),a.length>=n))break}return pt(a,"int32")}function Wt(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),f=Math.max(o[1],o[3]),h=(s-i)*(l-a),p=(d-u)*(f-c);if(h<=0||p<=0)return 0;var m=Math.max(i,u),g=Math.max(a,c),v=Math.min(s,d),y=Math.min(l,f),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(h+p-b)}function Gt(e,t,n){var r=Array(e.rank).fill(0),o=e.shape.slice();return t.map(function(t){o[n]=t;var i=e.slice(r,o);return r[n]+=t,i})}function Xt(e,t,n,r,o){for(var i=t[t.length-1],a=[e.length/i,i],s=a[0],l=a[1],u=N(n,s*r),c=N("int32",s*r),d=0;d<s;d++){for(var f=d*l,h=e.subarray(f,f+l),p=[],m=0;m<h.length;m++)p.push({value:h[m],index:m});p.sort(function(e,t){return t.value-e.value});var g=d*r,v=u.subarray(g,g+r),y=c.subarray(g,g+r);for(m=0;m<r;m++)v[m]=p[m].value,y[m]=p[m].index}var b=t.slice();return b[b.length-1]=r,[ft(u,b,n),ft(c,b,"int32")]}var Kt=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,i=e.inSize,a=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];var s="max"===t?">":"<",l=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "},Yt=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+u+", "+c+");\n      const float avgMultiplier = float("+d+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+i+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+l+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};function $t(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function Zt(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function Qt(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e[e.length-o-1];null==i&&(i=1);var a=t[t.length-o-1];if(null==a&&(a=1),1===i)n.unshift(a);else if(1===a)n.unshift(i);else{if(i!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}var Jt=function(e,t,n,r,o,i){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],Qt(e,t),Qt(e,n);var a="0.0";null!=r&&(Qt(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=o&&(Qt(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},en=function(e,t,n,r,o,i){this.supportsBroadcasting=!0,this.usesPackedTextures=!0,this.variableNames=["x","mean","variance"],Qt(e,t),Qt(e,n);var a=tn("mean",t.length),s=tn("variance",n.length),l="vec4 offset = vec4(0.0)";null!=r&&(Qt(e,r),this.variableNames.push("offset"),l=tn("offset",r.length));var u="vec4 scale = vec4(1.0)";null!=o&&(Qt(e,o),this.variableNames.push("scale"),u=tn("scale",o.length)),this.outputShape=e,this.userCode="\n      void main() {\n        ivec4 rc = getOutputCoords();\n\n        "+l+";\n        "+u+";\n\n        vec4 x = getX(rc.x, rc.y, rc.z, rc.w);\n        "+a+";\n        "+s+";\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+i+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "};function tn(e,t){var n="get"+e.charAt(0).toUpperCase()+e.slice(1);return 1===t?"\n      vec4 "+e+"Sample = "+n+"(rc.w);\n      vec4 "+e+" = vec4("+e+"Sample.xy, "+e+"Sample.xy);\n    ":"vec4 "+e+" = "+n+"(rc.x, rc.y, rc.z, rc.w)"}var nn="return areal * breal - aimag * bimag;",rn="return areal * bimag + aimag * breal;",on=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.supportsBroadcasting=!0,this.outputShape=Qt(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},an="return a + b;",sn="return a - b;",ln=function(){function e(e,t,n){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=Qt(t,n),this.userCode="\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(){var e=this;return function(t,n){null==e.startLoc&&(e.startLoc=t.getUniformLocationNoThrow(n,"NAN"),null==e.startLoc)||t.gl.uniform1f(e.startLoc,NaN)}},e}(),un=function(e,t,n){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, float("+t+"), float("+n+")));\n      }\n    "},cn=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},dn=function(e,t){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=Ke([e,t],1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+e[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+e[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    "},fn=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},hn=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},pn=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},mn=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},gn=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.top,n=e.padInfo.left,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.filterHeight,l=e.filterWidth,u=4*Math.floor(e.inChannels/4),c=e.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+r+", "+o+");\n      const ivec2 pads = ivec2("+t+", "+n+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR * "+i+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+l+"; wC++) {\n            int xC = xCCorner + wC * "+a+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+u+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+u+") *\n                getW(wR, wC, "+u+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+u+"),\n                getX(batch, xR, xC, "+u+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+u+", d2),\n                getW(wR, wC, "+u+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+u+"),\n                getX(batch, xR, xC, "+u+" + 1),\n                getX(batch, xR, xC, "+u+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+u+", d2),\n                getW(wR, wC, "+u+" + 1, d2),\n                getW(wR, wC, "+u+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},vn=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.inHeight,n=e.inWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.strideHeight,a=e.strideWidth,s=e.dilationHeight,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+i+", "+a+");\n      const ivec2 pads = ivec2("+r+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+d+";\n        int q = d2 - d1 * "+d+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+u+"; wR++) {\n          int xR = xRCorner + wR * "+s+";\n\n          if (xR < 0 || xR >= "+t+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            int xC = xCCorner + wC * "+l+";\n\n            if (xC < 0 || xC >= "+n+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},yn=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],a=e[1],s=e[2],l=e[3],u=t[0],c=n[0],d=n[1];this.outputShape=[u,c,d,l];var f="bilinear"===r?1:0,h=[a-1+".0",s-1+".0"],p=h[0],m=h[1],g=c>1?[""+(a-1)/(c-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],v=g[0],y=g[1],b=g[2],_=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],x=_[0],w=_[1],k=_[2];this.userCode="\n      const float height_ratio = float("+v+");\n      const float width_ratio = float("+x+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+i+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+w+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+k+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexRC = vec2(in_y,in_x);\n        if("+f+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n          ivec2 sourceCeilRC = ivec2(ceil(sourceFracIndexRC));\n\n          float topLeft = getImage(b, sourceFloorRC.x, sourceFloorRC.y, d);\n          float bottomLeft = getImage(b, sourceCeilRC.x, sourceFloorRC.y, d);\n          float topRight = getImage(b, sourceFloorRC.x, sourceCeilRC.y, d);\n          float bottomRight = getImage(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n          vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n          float top = topLeft + (topRight - topLeft) * fracRC.y;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n          float newValue = top + (bottom - top) * fracRC.x;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestRC = ivec2(floor(\n            sourceFracIndexRC + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestRC.x, sourceNearestRC.y, d);\n          setOutput(newValue);\n        }\n      }\n    "};function bn(e,t,n){void 0===n&&(n="index");var r=z(t);return r.map(function(t,o){return"int "+e[o]+" = "+n+" / "+t+"; "+(o===r.length-1?"int "+e[o+1]+" = "+n+" - "+e[o]+" * "+t:"index -= "+e[o]+" * "+t)+";"}).join("")}function _n(e){return 1===e.length?""+e[0]:"vec"+e.length+"("+e.join(",")+")"}function xn(e,t,n,r,o){var i=e.map(function(e){var t=k(e.shapeInfo.logicalShape);return e.shapeInfo.isUniform?"uniform float "+e.name+(t>1?"["+t+"]":"")+";":"uniform sampler2D "+e.name+";"});i=i.join("\n");var a,s,l=e.map(function(e){return function(e,t,n){var r=function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1)+"Flat",r=k(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform)return 1===r?"float "+n+"(int index) {return "+t+";}":"\n      float "+n+"(int index) {\n        for (int i = 0; i < "+r+"; i++) {\n          if (i == index) {\n            return "+t+"[i];\n          }\n        }\n      }\n    ";var o=e.shapeInfo.texShape,i=o[0],a=o[1];return 1===a&&1===i?"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ":1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+i+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = UVfrom1D("+i+", "+a+", index);\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);return e.shapeInfo.isPacked?r+=kn(e):r+=wn(e),(n||E(e.shapeInfo.logicalShape,t.logicalShape))&&(r+=function(e,t,n){var r=e.name,o=r.charAt(0).toUpperCase()+r.slice(1),i="get"+o+"AtOutCoords",a=$t(e.shapeInfo.logicalShape,t.logicalShape),s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length,u=n&&(l>s||a.length>0),c=function(e){for(var t=0;t<e.length;t++)if(e[t]!==t)return!1;return!0}(a),d=e.shapeInfo.isUniform;if(u&&!c)return function(e,t,n,r){var o=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,a="int";2===i?a="ivec2":3===i?a="ivec3":4===i&&(a="ivec4");var s=$t(e.shapeInfo.logicalShape,t.logicalShape),l=i-o;return"\n    float "+r+"() {\n      "+a+" coords = getOutputCoords();\n      "+(0===o?"":i<2&&s.length>=1?"coords = 0;":s.map(function(e){return"coords["+(e+l)+"] = 0;"}).join("\n"))+"\n      return get"+n+"("+(i<2&&o>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords["+(t+l)+"]"}).join(", "))+");\n    }\n  "}(e,t,o,i);var f=k(e.shapeInfo.logicalShape),h="";u&&c&&(h="\n        int mainPart = index / "+f+";\n        index -= mainPart * "+f+";\n      ");var p=t.texShape;if(d)return 1===f?"float "+i+"() {return "+r+";}":"\n      float "+i+"() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                              vec2("+p[0]+", "+p[1]+"));\n        int index = resTexRC.x * "+p[1]+" + resTexRC.y;\n        "+h+"\n        return get"+o+"Flat(index);\n      }\n    ";var m=e.shapeInfo.texShape;return E(m,p)?"\n      float "+i+"() {\n        return sampleTexture("+r+", resultUV);\n      }\n    ":"\n    float "+i+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+p[0]+", "+p[1]+"));\n      int index = resTexRC.x * "+p[1]+" + resTexRC.y;\n      "+h+"\n      int texR = index / "+m[1]+";\n      int texC = index - texR * "+m[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+m[1]+".0, "+m[0]+".0);\n\n      return sampleTexture("+r+", uv);\n    }\n  "}(e,t,n)),r}(e,t,r)}).join("\n"),u=t.texShape,c=Sn;return t.isPacked?(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===t[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return resTexRC.x * "+n[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(E(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[2]/2),o=r*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  "}(e,t);case 4:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[3]/2),o=r*Math.ceil(e[2]/2),i=o*e[1];return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      int b2 = index / "+i+";\n      index -= b2 * "+i+";\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  "}(e,t);default:throw new Error(e.length+"-D packed output coordinate fetching is not yet supported")}}(t.logicalShape,u),s=An):(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return E(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return function(e,t){var n=bn(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec3(r, c, d);\n    }\n  "}(e,t);case 4:return function(e,t){var n=bn(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=bn(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=bn(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}}(t.logicalShape,u),s=Tn),o&&(c+=Mn),[c,En,s,i,a,l,n].join("\n")}function wn(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);return e.shapeInfo.isUniform?"float "+n+"() {return "+t+";}":"\n    float "+n+"() {\n      return sampleTexture("+t+", halfCR);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);return"\n    float "+n+"(int index) {\n      return "+n+"Flat(index);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape;if(null!=o&&E(t,o)){var i=o[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+o[1]+".0, "+i+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var a=O(t),s=a.newShape,l=a.keptDims,u=s;if(u.length<t.length)return"\n      "+wn(jn(e,u))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+On(["row","col"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        float index = dot(vec2(row, col), vec2("+t[1]+", 1));\n        return "+r+"Flat(round(index));\n      }\n    ";var c=o[0],d=o[1];return 1===d?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec2(row, col), vec2("+t[1]+", 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec2(row, col), vec2("+t[1]+", 1));\n      vec2 uv = vec2((index + 0.5) / "+d+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    vec2 uv = UVfrom2D("+c+", "+d+", "+t[1]+", row, col);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[1]*t[2],i=t[2],a=O(t),s=a.newShape,l=a.keptDims,u=s;if(u.length<t.length)return"\n        "+wn(jn(e,u))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+On(["row","col","depth"],l)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        float index = dot(vec3(row, col, depth),\n                          vec3("+o+", "+i+", 1));\n        return "+r+"Flat(round(index));\n      }\n    ";var c=e.shapeInfo.texShape,d=c[0],f=c[1];return f===o?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+i+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+f+".0, "+d+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":f===i?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+f+".0, "+d+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+d+", "+f+", "+o+", "+i+", row, col, depth);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[3],i=t[2]*o,a=t[1]*i,s=O(t),l=s.newShape,u=s.keptDims;if(l.length<t.length)return"\n      "+wn(jn(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+On(["row","col","depth","depth2"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float index = dot(vec4(row, col, depth, depth2),\n                          vec4("+a+", "+i+", "+o+", 1));\n        return "+r+"Flat(round(index));\n      }\n    ";var c=e.shapeInfo.texShape,d=c[0],f=c[1];return f===a?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2), vec3("+i+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":f===o?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+d+", "+f+", "+a+", "+i+",\n          "+o+", row, col, depth, depth2);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],i=t[3]*o,a=t[2]*i,s=t[1]*a,l=O(t),u=l.newShape,c=l.keptDims;if(u.length<t.length)return"\n      "+wn(jn(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+On(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+a+", "+i+", "+o+")) +\n          depth3;\n        return "+r+"Flat(index);\n      }\n    ";var d=e.shapeInfo.texShape,f=d[0],h=d[1];return h===s?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(\n          vec4(col, depth, depth2, depth3),\n          vec4("+a+", "+i+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===o?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+", "+t[2]*t[3]+",\n            "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      vec2 uv = UVfrom5D("+f+", "+h+", "+s+", "+a+",\n          "+i+", "+o+", row, col, depth, depth2, depth3);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[5],i=t[4]*o,a=t[3]*i,s=t[2]*a,l=t[1]*s,u=O(t),c=u.newShape,d=u.keptDims;if(c.length<t.length)return"\n      "+wn(jn(e,c))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+On(["row","col","depth","depth2","depth3","depth4"],d)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+l+", "+s+", "+a+", "+i+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+o+", 1));\n        return "+r+"Flat(index);\n      }\n    ";var f=e.shapeInfo.texShape,h=f[0],p=f[1];return p===l?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(\n          vec4(col, depth, depth2, depth3),\n          vec4("+s+", "+a+", "+i+", "+o+")) + depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===o?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + depth3;\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      vec2 uv = UVfrom6D("+h+", "+p+", "+l+", "+s+",\n          "+a+", "+i+", "+o+"\n          ,row, col, depth, depth2, depth3, depth4);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function kn(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+o[0]+", "+o[1]+", index);\n      return texture2D("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=o[0],a=o[1];if(null!=o&&E(t,o))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+i+".0);\n\n        return texture2D("+n+", uv);\n      }\n    ";var s=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+s[0]+", "+s[1]+", row, col);\n      return texture2D("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===t[0])return"\n        "+kn(jn(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+On(["b","row","col"],[1,2])+");\n        }\n      ";var a=i[0],s=i[1],l=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+a+", "+s+", "+l*Math.ceil(t[1]/2)+", "+l+", b, row, col);\n      return texture2D("+n+", uv);\n    }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],a=i[0],s=i[1],l=Math.ceil(t[3]/2),u=l*Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b2, int b, int row, int col) {\n      vec2 uv = packedUVfrom4D(\n        "+a+", "+s+", "+u*t[1]+",\n        "+u+", "+l+", b2, b, row, col);\n      return texture2D("+n+", uv);\n    }\n  "}(e);default:throw new Error("Packed "+t.length+"-D input sampling is not yet supported")}}var En="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",Tn="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",An="\n  void setOutput(vec4 val) {\n    gl_FragColor = val;\n  }\n",Sn="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  struct ivec5\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n  };\n\n  struct ivec6\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n    int v;\n  };\n\n  bool isNaN(float val) {\n    return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  \nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom4D(int texNumR, int texNumC, int texelsInBatch2,\n    int texelsInBatch, int texelsInLogicalRow, int b2, int b,\n    int row, int col) {\n  int index = b2 * texelsInBatch2 + b * texelsInBatch +\n    (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n",Mn="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Cn(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function jn(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function On(e,t){return t.map(function(t){return e[t]}).join(", ")}var Nn=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],i=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+o+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Cn(r)+" coords = getOutputCoords();\n        int end = "+Rn(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+o+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+i+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+Rn(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function Rn(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Pn=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),In=function(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        gl_FragColor = encode_float(x);\n      }\n    "},Dn="return real * expR - imag * expI;",Ln="return real * expI + imag * expR;",Bn=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+o+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+i+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},Fn=function(e){this.variableNames=["A"];var t=e[0],n=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+n+".0, "+t+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},zn=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=Cn(this.rank),i=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],i=0;i<e.length;i++)i===t?o.push("int(getIndices("+r[i]+"))"):o.push(""+r[i]);return o.join()}(e,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "};var Un,qn,Vn=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Cn(t.length),o=Cn(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+o+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+i+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Hn(e,t){return[t,e]}function Wn(e,t){return e*t}function Gn(e,t,n){var r=function(e,t){if(e%t!=0)throw new Error("unpackedSize ("+e+") must be a multiple of "+t);return e/t}(e.length,n);if(t.length<r)throw new Error("matrix length ("+t.length+") must be >= "+r);for(var o=0,i=0;i<e.length;i+=n)t[o++]=e[i]}function Xn(e,t){return[Math.ceil(t/2),Math.ceil(e/2)]}function Kn(e,t){var n=Xn(e,t);return n[0]*n[1]*4}function Yn(e,t){var n=t();return Qn(e),n}!function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Un||(Un={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(qn||(qn={}));var $n=!1;function Zn(e){$n=e}function Qn(e){if($n){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+Jn(e,t))}}function Jn(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function er(e,t){return wr(e,function(){return e.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}function tr(e,t){var n=wr(e,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Yn(e,function(){return e.shaderSource(n,t)}),Yn(e,function(){return e.compileShader(n)}),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function nr(e,t){var n=wr(e,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Yn(e,function(){return e.shaderSource(n,t)}),Yn(e,function(){return e.compileShader(n)}),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){var n=rr.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map(function(e,t){return M((t+1).toString(),i)+e}),s=0,l=0;l<a.length;l++)s=Math.max(a[l].length,s);var u=a.slice(0,r-1),c=a.slice(r-1,r),d=a.slice(r);console.log(u.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+M(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var rr=/ERROR: [0-9]+:([0-9]+):/g;function or(e){return wr(e,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function ir(e,t){if(Yn(e,function(){return e.linkProgram(t)}),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function ar(e,t){if(Yn(e,function(){return e.validateProgram(t)}),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function sr(e,t){var n=wr(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Yn(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),Yn(e,function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}),n}function lr(e,t){var n=wr(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Yn(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)}),Yn(e,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}),n}function ur(){return 2===_e.get("WEBGL_VERSION")?1:4}function cr(e){return wr(e,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function dr(e,t){var n=_e.get("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function fr(e){return wr(e,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function hr(e,t,n,r,o,i,a){var s=e.getAttribLocation(t,n);return-1!==s&&(Yn(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),Yn(e,function(){return e.vertexAttribPointer(s,o,e.FLOAT,!1,i,a)}),Yn(e,function(){return e.enableVertexAttribArray(s)}),!0)}function pr(e,t,n){kr(e,n),Yn(e,function(){return e.activeTexture(e.TEXTURE0+n)}),Yn(e,function(){return e.bindTexture(e.TEXTURE_2D,t)})}function mr(e,t,n){return wr(e,function(){return e.getUniformLocation(t,n)},'uniform "'+n+'" not present in program.')}function gr(e,t,n){return e.getUniformLocation(t,n)}function vr(e,t,n,r,o){Yn(e,function(){return pr(e,n,o)}),Yn(e,function(){return e.uniform1i(r,o)})}function yr(e,t,n){Yn(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),Yn(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)})}function br(e,t){Yn(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)}),Yn(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function _r(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+xr(e,t))}function xr(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function wr(e,t,n){var r=Yn(e,function(){return t()});if(null==r)throw new Error(n);return r}function kr(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function Er(e,t){void 0===t&&(t=!1);var n=_e.get("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,e=e.map(function(t,n){return n>=e.length-2?g(e[n]):e[n]})),2!==e.length){var r=O(e);e=r.newShape}var o=k(e);return e.length<=1&&o<=n?[o,1]:2===e.length&&e[0]<=n&&e[1]<=n?e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n?[e[0],e[1]*e[2]*e[3]]:S(o)}function Tr(e){return e%2==0}function Ar(e,t){if(E(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Tr(n)&&Tr(r)&&(1===e[0]||1===t[0]))return!0}else if(Tr(e[0])&&Tr(t[0])){if(Tr(e[1])&&Tr(t[1]))return!0;if(e[1]===t[1])return!0}return!1}var Sr=Object.freeze({callAndCheck:Yn,enableDebugWebGLErrorChecking:Zn,checkWebGLError:Qn,getWebGLErrorMessage:Jn,getExtensionOrThrow:er,createVertexShader:tr,createFragmentShader:nr,createProgram:or,linkProgram:ir,validateProgram:ar,createStaticVertexBuffer:sr,createStaticIndexBuffer:lr,getNumChannels:ur,createTexture:cr,validateTextureSize:dr,createFramebuffer:fr,bindVertexBufferToProgramAttribute:hr,bindTextureUnit:pr,unbindTextureUnit:function(e,t){kr(e,t),Yn(e,function(){return e.activeTexture(e.TEXTURE0+t)}),Yn(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:mr,getProgramUniformLocation:gr,bindTextureToProgramUniformSampler:vr,bindCanvasToFramebuffer:function(e){Yn(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),Yn(e,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),Yn(e,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})},bindColorTextureToFramebuffer:yr,unbindColorTextureFromFramebuffer:br,validateFramebuffer:_r,getFramebufferErrorMessage:xr,getTextureShapeFromLogicalShape:Er,isReshapeFree:Ar});function Mr(e){return tr(e,"\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Cr(e){return sr(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function jr(e){return lr(e,new Uint16Array([0,1,2,2,1,3]))}function Or(e,t){var n,r,o,i,a,s,l,u=e;return 2===_e.get("WEBGL_VERSION")?(n=u.R32F,r=u.R16F,o=u.RGBA32F,i=u.RED,a=4,s=1,l=u.HALF_FLOAT):(n=e.RGBA,r=e.RGBA,o=u.RGBA,i=e.RGBA,a=4,s=4,l=null!=t?t.HALF_FLOAT_OES:null),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:a,defaultNumChannels:s,textureTypeHalfFloat:l}}function Nr(e,t,n,r,o,i){dr(t,n);var a=cr(e),s=e.TEXTURE_2D;return Yn(e,function(){return e.bindTexture(s,a)}),Yn(e,function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),Yn(e,function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),Yn(e,function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)}),Yn(e,function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)}),Yn(e,function(){return e.texImage2D(s,0,r,t,n,0,o,i,null)}),Yn(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),a}function Rr(e,t,n,r){var o=Hn(t,n);return Nr(e,o[0],o[1],r.internalFormatFloat,r.textureFormatFloat,e.FLOAT)}function Pr(e,t,n,r){var o=Hn(t,n);return Nr(e,o[0],o[1],r.internalFormatFloat,r.textureFormatFloat,r.textureTypeHalfFloat)}function Ir(e,t,n,r){var o=Hn(t,n);return Nr(e,o[0],o[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Dr(e,t,n,r){var o=Xn(t,n);return Nr(e,o[0],o[1],r.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Lr(e,t,n,r){var o=Xn(t,n);return Nr(e,o[0],o[1],r.internalFormatHalfFloat,e.RGBA,r.textureTypeHalfFloat)}function Br(e,t,n){return Yn(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),hr(e,t,"clipSpacePos",n,3,20,0)&&hr(e,t,"uv",n,2,20,12)}function Fr(e,t,n){Yn(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),Yn(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}),Yn(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function zr(e,t,n,r,o,i){dr(n,r),Yn(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),Yn(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,i,e.FLOAT,o)}),Yn(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function Ur(e,t,n,r,o,i,a){var s,l=Hn(n,r),u=l[0],c=l[1];1===a.defaultNumChannels?s=o:function(e,t,n){var r=Wn(e.length,n);if(t.length<r)throw new Error("unpackedArray length ("+t.length+") must be >= "+r);for(var o=0,i=0;i<e.length;++i)t[o]=e[i],o+=n}(o,s=new Float32Array(Wn(o.length,i)),i),zr(e,t,u,c,s,a.textureFormatFloat)}function qr(e,t,n,r,o,i,a){var s=Xn(r,o),l=s[0],u=s[1],c=new Float32Array(Kn(r,o));(function(e,t,n,r,o){var i=Kn(n,r);if(o.length<i)throw new Error("packedRGBA length ("+o.length+") must be >=\n        "+i);for(var a=r%2==1,s=n%2==1,l=Math.floor(r/2),u=Math.floor(n/2),c=Math.ceil(r/2),d=c*Math.ceil(n/2),f=g(n)*g(r),h=0;h<t;h++){for(var p=h*n*r,m=h*f,v=a?4:0,y=r,b=m,_=0;_<u;++_){for(var x=2*_*r,w=0;w<l;++w){var k=p+x+2*w;o[b]=e[k],o[b+1]=e[k+1],o[b+2]=e[k+y],o[b+3]=e[k+y+1],b+=4}b+=v}if(a){k=p+r-1,b=m+4*(c-1);var E=2*r;for(v=4*c,_=0;_<u;++_)o[b]=e[k],o[b+2]=e[k+r],k+=E,b+=v}if(s){for(k=p+(n-1)*r,b=m+4*(d-c),w=0;w<l;++w)o[b++]=e[k++],o[b++]=e[k++],b+=2;a&&s&&(o[m+f-4]=e[k])}}})(i,n,r,o,c),zr(e,t,l,u,c,e.RGBA)}function Vr(e,t,n,r,o){var i=t;if(2===_e.get("WEBGL_VERSION")){var a=e,s=a.createBuffer();Yn(e,function(){return e.bindBuffer(a.PIXEL_PACK_BUFFER,s)});var l=4*Wn(n*r,o.downloadUnpackNumChannels);Yn(e,function(){return e.bufferData(a.PIXEL_PACK_BUFFER,l,e.STATIC_DRAW)}),Yn(e,function(){return a.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),Yn(e,function(){return e.bindBuffer(a.PIXEL_PACK_BUFFER,null)}),i=s}return i}function Hr(e,t,n,r,o){var i=e,a=new Float32Array(Wn(n*r,o.downloadUnpackNumChannels));i.bindBuffer(e.ARRAY_BUFFER,t),i.getBufferSubData(e.ARRAY_BUFFER,0,a),i.bindBuffer(e.ARRAY_BUFFER,null);var s=new Float32Array(n*r);return Gn(a,s,o.downloadUnpackNumChannels),s}function Wr(e,t,n,r){var o=Hn(t,n),i=o[0],a=o[1],s=new Float32Array(Wn(t*n,r.downloadUnpackNumChannels));Yn(e,function(){return e.readPixels(0,0,i,a,r.downloadTextureFormat,e.FLOAT,s)});var l=new Float32Array(t*n);return Gn(s,l,r.downloadUnpackNumChannels),l}function Gr(e,t,n,r){var o=Hn(t,n),i=o[0],a=o[1],s=new Uint8Array(Wn(t*n,4));return Yn(e,function(){return e.readPixels(0,0,i,a,r.downloadTextureFormat,e.UNSIGNED_BYTE,s)}),new Float32Array(s.buffer)}function Xr(e,t,n,r,o,i,a){var s=Xn(o,i),l=s[0],u=s[1],c=new Float32Array(Kn(o,i));Yn(e,function(){return e.readPixels(0,0,l,u,e.RGBA,e.FLOAT,c)});var d=new Float32Array(k([t,n,r]));return function(e,t,n,r,o){var i=n*r;if(o.length<i)throw new Error("matrix length ("+o.length+") must be >= "+i);for(var a=r%2==1,s=n%2==1,l=Math.floor(r/2),u=Math.floor(n/2),c=Math.ceil(r/2),d=c*Math.ceil(n/2),f=g(n)*g(r),h=0;h<t;h++){for(var p=h*n*r,m=h*f,v=a?4:0,y=r+(a?1:0),b=m,_=p,x=p+r,w=0;w<u;++w){for(var k=0;k<l;++k)o[_++]=e[b++],o[_++]=e[b++],o[x++]=e[b++],o[x++]=e[b++];b+=v,_+=y,x+=y}if(a){b=m+4*(c-1);var E=p+r-1;for(v=4*c,y=2*r,w=0;w<u;++w)o[E]=e[b],o[E+r]=e[b+2],b+=v,E+=y}if(s){for(b=m+4*(d-c),E=p+(n-1)*r,k=0;k<l;++k)o[E++]=e[b++],o[E++]=e[b++],b+=2;a&&(o[p+n*r-1]=e[b])}}return o}(c,t,n,r,d)}var Kr=Object.freeze({createVertexShader:Mr,createVertexBuffer:Cr,createIndexBuffer:jr,getTextureConfig:Or,createFloat32MatrixTexture:Rr,createFloat16MatrixTexture:Pr,createUnsignedBytesMatrixTexture:Ir,createPackedMatrixTexture:Dr,createFloat16PackedMatrixTexture:Lr,bindVertexProgramAttributeStreams:Br,uploadPixelDataToTexture:Fr,uploadMatrixToTexture:Ur,uploadMatrixToPackedTexture:qr,maybeCreateBufferFromOutputTexture:Vr,downloadFloat32MatrixFromBuffer:Hr,downloadFloat32MatrixFromOutputTexture:Wr,downloadByteEncodedFloatMatrixFromOutputTexture:Gr,downloadMatrixFromPackedOutputTexture:Xr}),Yr=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[],this.gl=null!=e?e:h(_e.get("WEBGL_VERSION")),1===_e.get("WEBGL_VERSION")?(this.textureFloatExtension=er(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),_e.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=er(this.gl,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=er(this.gl,"EXT_color_buffer_float"),this.vertexBuffer=Cr(this.gl),this.indexBuffer=jr(this.gl),this.framebuffer=fr(this.gl),this.textureConfig=Or(this.gl,this.textureHalfFloatExtension)}return e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Yn(t,function(){return t.finish()}),Yn(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Yn(t,function(){return t.deleteFramebuffer(e.framebuffer)}),Yn(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),Yn(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),Yn(t,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},e.prototype.enableAutomaticDebugValidation=function(e){this.autoDebugValidate=e,Zn(e)},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),Rr(this.gl,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),Pr(this.gl,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),Ir(this.gl,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),Fr(this.gl,e,t)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Lr(this.gl,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Dr(this.gl,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(br(this.gl,this.framebuffer),this.outputTexture=null),Yn(this.gl,function(){return t.gl.deleteTexture(e)})},e.prototype.uploadMatrixToTexture=function(e,t,n,r){this.throwIfDisposed();var o=ur();return Ur(this.gl,e,t,n,r,o,this.textureConfig)},e.prototype.uploadMatrixToPackedTexture=function(e,t,n,r,o){return this.throwIfDisposed(),qr(this.gl,e,t,n,r,o,this.textureConfig)},e.prototype.downloadFloat32MatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return Wr(r.gl,t,n,r.textureConfig)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return Gr(r.gl,t,n,r.textureConfig)})},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t,n){return Hr(this.gl,e,t,n,this.textureConfig)},e.prototype.maybeCreateBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Vr(this.gl,e,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(_e.get("WEBGL_FENCE_API_ENABLED")){var o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=o.clientWaitSync(i,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=i}else _e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,_e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n,r,o,i){var a=this;return this.downloadMatrixDriver(e,function(){return Xr(a.gl,t,n,r,o,i,a.textureConfig)})},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=nr(t,e),r=Mr(t),o=or(t);return Yn(t,function(){return t.attachShader(o,r)}),Yn(t,function(){return t.attachShader(o,n)}),ir(t,o),this.autoDebugValidate&&ar(t,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=Br(t,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Yn(this.gl,function(){return t.gl.deleteProgram(e)})},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.autoDebugValidate&&ar(this.gl,this.program),Yn(this.gl,function(){return t.gl.useProgram(e)})},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?mr(this.gl,e,t):gr(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),Yn(this.gl,function(){return n.gl.getAttribLocation(e,t)})},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),vr(this.gl,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=Xn(t,n),o=r[0],i=r[1];this.setOutputMatrixTextureDriver(e,o,i)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&ar(this.gl,this.program),_r(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.autoDebugValidate&&this.debugValidate(),Yn(e,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Yn(this.gl,function(){return e.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=er(this.gl,2===_e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===_e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2!==_e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return u(this,void 0,void 0,function(){var t=this;return c(this,function(n){switch(n.label){case 0:return[4,C(function(){return t.disposed||t.isQueryAvailable(e,_e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(e,_e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return e.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0,n=e.length-1,r=-1;t<=n;){var o=t+n>>1;e[o]()?(r=o,t=o+1):n=o-1}return r}(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||C(function(){return n.pollItems(),0===n.itemsToPoll.length})},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),yr(this.gl,e,this.framebuffer),this.autoDebugValidate&&_r(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(yr(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&_r(this.gl)):br(this.gl,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;yr(r,e,this.framebuffer),this.autoDebugValidate&&_r(r),this.outputTexture=e,Yn(r,function(){return r.viewport(0,0,t,n)}),Yn(r,function(){return r.scissor(0,0,t,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var o=this;this.throwIfDisposed(),Yn(this.gl,function(){return o.gl.scissor(e,t,n,r)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function $r(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(e,n){var r=e.logicalShape,o=t[n],i=o.shape;if(!E(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+i+" must match");if(!e.isUniform||!o.isUniform){var a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!E(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}})}var Zr=function(e,t,n){this.variableNames=["A"],this.outputShape=e;var r=n.filterWidth,o=n.inChannels,i=n.strideWidth,a=n.strideHeight,s=n.padInfo,l=n.outWidth,u=n.dilationWidth,c=n.dilationHeight,d=s.left,f=s.top,h=o*r;this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            int blockIndex = rc.y + col;\n            int pos = rc.x + row;\n\n            if(blockIndex >= "+e[1]+" || pos >= "+e[0]+") continue;\n\n            int offsetY = int(blockIndex / ("+l+")) * "+a+" - "+f+";\n            int d0 = offsetY + "+c+" * (pos / "+h+");\n\n            if(d0 >= "+t[0]+" || d0 < 0) continue;\n\n            int offsetX = int(mod(float(blockIndex), "+l+".) * "+i+". - "+d+".);\n            int d1 = offsetX + "+u+" * (int(mod(float(pos), "+h+".) / "+o+".));\n\n            if(d1 >= "+t[1]+" || d1 < 0) continue;\n\n            result[row * 2 + col] = getA(d0, d1, int(mod(float(pos), "+o+".)));\n          }\n        }\n\n        gl_FragColor = result;\n      }\n    "},Qr=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var i,a=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+l+")":1===o?"1.0/("+l+")":"exp(log("+l+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+i+";\n        setOutput(val);\n      }\n    "},Jr=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},eo=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,l=o*i-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+i+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+l+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+i+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},to=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this.variableNames=["matrixA","matrixB"];var o=e[0],i=n?e[2]:e[1],a=r?t[1]:t[2],s=n?e[1]:e[2];this.outputShape=[o,i,a];var l=function(e,t){return n?"batch, "+t+" + "+e+", aRow":"batch, aRow, "+t+" + "+e},u=function(e,t){return r?"batch, bCol, "+t+" + "+e:"batch, "+t+" + "+e+", bCol"},c=4*Math.floor(s/4),d=s%4;this.userCode=" float dotARowBCol(int batch, int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+c+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+l(0,"i")+"),\n          getMatrixA("+l(1,"i")+"),\n          getMatrixA("+l(2,"i")+"),\n          getMatrixA("+l(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+u(0,"i")+"),\n          getMatrixB("+u(1,"i")+"),\n          getMatrixB("+u(2,"i")+"),\n          getMatrixB("+u(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===d)+") {\n        result += getMatrixA("+l(0,c)+") *\n          getMatrixB("+u(0,c)+");\n      } else if ("+(2===d)+") {\n        vec2 a = vec2(\n          getMatrixA("+l(0,c)+"),\n          getMatrixA("+l(1,c)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+u(0,c)+"),\n          getMatrixB("+u(1,c)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===d)+") {\n        vec3 a = vec3(\n          getMatrixA("+l(0,c)+"),\n          getMatrixA("+l(1,c)+"),\n          getMatrixA("+l(2,c)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+u(0,c)+"),\n          getMatrixB("+u(1,c)+"),\n          getMatrixB("+u(2,c)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec3 resBRC = getOutputCoords();\n      setOutput(dotARowBCol(resBRC.x, resBRC.y, resBRC.z));\n    }\n    "},no=function(e,t,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1),this.variableNames=["matrixA","matrixB"],this.usesPackedTextures=!0,this.outputShape=n;var i=r?e[0]:e[1],a=Math.ceil(i/2),s=r?"i * 2, rc.x":"rc.x, i * 2",l=o?"rc.y, i * 2":"i * 2, rc.y",u=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],c=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];this.userCode="\n      const float sharedDimension = "+a+".0;\n\n      vec4 dot2x2ARowBCol(ivec2 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+a+"; i++) {\n          vec4 a = getMatrixA("+s+");\n          vec4 b = getMatrixB("+l+");\n\n          result += ("+u[0]+" * "+c[0]+") + ("+u[1]+" * "+c[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n        setOutput(dot2x2ARowBCol(rc));\n      }\n    "},ro=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),oo=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "};function io(e,t){return 1===t?[e]:function(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return e+"."+t})}(e,t)}var ao=function(e){this.variableNames=["A"],this.outputShape=e;var t=e.length,n=io("rc",t),r=Cn(t),o=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",o=e-2;o<e;o++)r+=n[o]+" >= "+t[o],o<e-1&&(r+="||");return r}(t,e,n),i=function(e,t,n,r){if(1===e)return"";var o=r.slice(-2);return"\n    int r = "+o[0]+";\n    int c = "+o[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),a=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var i=(0===r?"r":"rp1")+", "+(0===o?"c":"cp1"),a=2;a<e;a++)i=t[t.length-1-a]+","+i;n.push(i)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n\n        if("+o+") {\n          gl_FragColor = vec4(0);\n        } else {\n          "+i+"\n\n          setOutput(vec4("+a+"));\n        }\n      }\n    "};var so=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});var r=e.length,o=Cn(r),i=t.map(function(e){return e[0]}).join(","),a=t.map(function(t,n){return t[0]+e[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+o+" start = "+o+"("+i+");\n      "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+o+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+i+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},lo=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,d=e.padInfo.left;this.outputShape=e.outShape;var f="avg"===t,h="0.0";if(f||(h="-1.0 / 0.0"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+i+");\n        const ivec2 pads = ivec2("+c+", "+d+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+u+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var p=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(p="avgValue / count");var m=4*Math.floor(r/4),g=r%4,v="\n      if ("+f+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+c+", "+d+");\n      const float initializationValue = "+h+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+h+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+v+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+v+"\n          }\n        }\n        setOutput("+p+");\n      }\n    "}},uo=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=Math.ceil(o/n);this.outputShape=[r,i];var a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 0.0",s="min"):"max"===t&&(a="-1.0 / 0.0",s="max");var l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");var u=4*Math.floor(n/4),c=n%4,d="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",f="vec4";"all"===t?(a="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===t&&(a="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");var h="";o%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+d+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(2===c)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(3===c)+") {\n          "+f+" values = "+f+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+d+"\n        }\n        setOutput("+l+");\n      }\n    "},co=function(e,t){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+="\n        "+o+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      "+function(e){return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+bn(["r","c","d"],e)+"\n      return ivec3(r, c, d);\n    }\n  "}(t)+"\n      "+function(e){return"\n    int getFlatIndex(ivec3 coords) {\n      return round("+function(e,t){if(e.length!==t.length)throw new Error("Vectors to be dotted must be of the same length -got "+e.length+" and "+t.length);for(var n=[],r=Math.floor(e.length/4),o=e.length%4,i=0;i<r;i++){var a=e.slice(4*i,4*i+4),s=t.slice(4*i,4*i+4);n.push(_n(a)+", "+_n(s))}return 0!==o&&(a=e.slice(4*r),s=t.slice(4*r),1===a.length&&(a=a.map(function(e){return"float("+e+")"}),s=s.map(function(e){return"float("+e+")"})),n.push(_n(a)+", "+_n(s))),n.map(function(e,t){return"dot("+e+")"}).join("+")}(["coords.x","coords.y","coords.z"],z(e).map(function(e){return e.toString()}).concat(["1."]))+");\n    }\n  "}(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "};var fo=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],l=a[2],u=[n&&s>1?o-1:o,n&&l>1?i-1:i],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],d=u[0]/c[0],f=u[1]/c[1],h=1/d,p=1/f,m=2*Math.ceil(h)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(i-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},ho=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var l=[r&&t>1?i-1:i,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},po=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],l=a[2],u=[n&&s>1?o-1:o,n&&l>1?i-1:i],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],d=u[0]/c[0],f=u[1]/c[1],h=1/d,p=1/f,m=2*Math.ceil(h)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+f+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+u[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+u[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},mo=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var l=[r&&t>1?i-1:i,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},go=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map(function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),o=Cn(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},vo=function(e,t,n,r,o,i,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=Cn(o.length),l=Cn(i.length),u="";1===n?u="i":2===n&&(u="i, j");var c="getIndices("+u+")",d="";1===r?d="i":2===r&&(d="i, coords[1]");var f="getUpdates("+d+")",h=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+o+");\n\n        void main() {\n          "+l+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+h+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+f+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},yo=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, filter);\n    ",c="";o%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var d="";o%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+d+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+i+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+i+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+u+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+u+"\n        } else if ("+(2===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+u+"\n        } else if ("+(3===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+u+"\n        }\n        setOutput(sumValue);\n      }\n    "},bo=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)o="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],l=0;l<t.length;l++)s.push(""+i[l]),l<e&&a.push(""+i[l]);r=a.join(),o=s.join()}var u=Cn(n);this.userCode="\n      void main() {\n        "+u+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "},_o=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t=Cn(this.rank),n=function(e){if(1===e)return"sourceLoc";if(2===e)return"sourceLoc.x, sourceLoc.y";if(3===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);this.userCode="\n      uniform "+t+" start;\n\n      void main() {\n        "+t+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+n+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){if(null!=t.startLoc||(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null!=t.startLoc))if(1===t.rank)n.gl.uniform1i(t.startLoc,e[0]);else if(2===t.rank)n.gl.uniform2i(t.startLoc,e[0],e[1]);else if(3===t.rank)n.gl.uniform3i(t.startLoc,e[0],e[1],e[2]);else{if(4!==t.rank)throw Error("Slicing for rank "+t.rank+" is not yet supported");n.gl.uniform4i(t.startLoc,e[0],e[1],e[2],e[3])}}},e}();var xo=function(e,t,n,r){this.variableNames=["x"];var o=n.filter(function(e,t){return-1===r.indexOf(t)});this.outputShape=o;var i=n.length,a=Cn(n.length),s=Cn(o.length),l="";if(1===i)l="coords * strides + begin";else{var u=0;l=n.map(function(e,t){return-1===r.indexOf(t)?(u++,1===o.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(u-1)+"] * strides["+t+"] + begin["+t+"]"):"begin["+t+"]"}).join(",")}this.userCode="\n      "+a+" begin = "+a+"("+e+");\n      "+a+" strides = "+a+"("+t+");\n\n      void main() {\n        "+s+" coords = getOutputCoords();\n        setOutput(getX("+l+"));\n      }\n    "},wo=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,o=ko(t,n),i=Eo(e,o,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[i].shift();return this.usedTextures[i].push(a),a}return this.numUsedTextures++,this.log(),o===qn.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===qn.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===qn.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===qn.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===qn.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var o=Eo(t,ko(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[o],a=i.indexOf(e);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(a,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function ko(e,t){if(t)return _e.get("WEBGL_RENDER_FLOAT32_ENABLED")?qn.PACKED_2X2_FLOAT32:qn.PACKED_2X2_FLOAT16;if(e===Un.DOWNLOAD||e===Un.PIXELS)return qn.PACKED_4X1_UNSIGNED_BYTE;if(e===Un.UPLOAD)return qn.UNPACKED_FLOAT32;if(e===Un.RENDER)return _e.get("WEBGL_RENDER_FLOAT32_ENABLED")?qn.UNPACKED_FLOAT32:qn.UNPACKED_FLOAT16;throw new Error("Unknown logical texture type "+e)}function Eo(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var To=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=Cn(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<e.length;o++)r.push("imod("+n[o]+", "+e[o]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "};var Ao=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=Cn(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+i+"));\n    }\n    "};var So=1.7580993408473768,Mo=1.0507009873554805,Co=function(){function e(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float NAN;\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(){var e=this;return function(t,n){null==e.startLoc&&(e.startLoc=t.getUniformLocationNoThrow(n,"NAN"),null==e.startLoc)||t.gl.uniform1f(e.startLoc,NaN)}},e}(),jo="if (isNaN(x)) return x;",Oo=jo+"\n  return (x < 0.0) ? 0.0 : x;\n",No="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+So+";\n  float scale = "+Mo+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n";var Ro=jo+"\n  return sin(x);\n",Po=jo+"\n  return cos(x);\n",Io=jo+"\n  return atan(x);\n",Do=jo+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",Lo=jo+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",Bo=function(e){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=e;var t=e.length,n=io("rc",t),r=Cn(t),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=1===t?"rc":"vec2("+i.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+o+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "};var Fo=at({concat_:function(e,t){void 0===t&&(t=0),b(e.length>=1,"Pass at least one tensor to concat");var n=it(e,"tensors","concat");t=Ve(t,n[0].shape)[0];var r=Ke(n.map(function(e){return e.shape}),t);if(0===k(r))return ft([],r);if(1===(n=n.filter(function(e){return e.size>0})).length)return n[0];var o=n.map(function(e){return e.shape});!function(e,t){var n=e[0].length;e.forEach(function(e,t){b(e.length===n,"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")")}),b(t>=0&&t<n,"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+".");var r=e[0];e.forEach(function(e,o){for(var i=0;i<n;i++)b(i===t||e[i]===r[i],"Error in concat"+n+"D: Shape of tensors["+o+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+".")})}(o,t);var i=n;return _e.engine.runKernel(function(e){return e.concat(n,t)},i,function(e){var n=o.map(function(e){return e[t]});return Ho(e,n,t).map(function(e){return function(){return e}})})}}),zo=at({concat1d_:function(e){return Fo(e,0)}}),Uo=at({concat2d_:function(e,t){return Fo(e,t)}}),qo=at({concat3d_:function(e,t){return Fo(e,t)}}),Vo=at({concat4d_:function(e,t){return Fo(e,t)}}),Ho=at({split_:function(e,t,n){void 0===n&&(n=0);var r,o=ot(e,"x","split");return n=Ve(n,o.shape)[0],"number"==typeof t?(b(o.shape[n]%t==0,"Number of splits must evenly divide the axis."),r=Array(t).fill(o.shape[n]/t)):(b(o.shape[n]===t.reduce(function(e,t){return e+t}),"The sum of sizes must match the size of the axis dimension."),r=t),_e.engine.runKernel(function(e){return e.split(o,r,n)},{$x:o},function(e){return{$x:function(){return Fo(e,n)}}})}});"undefined"!=typeof window?window:void 0!==r||"undefined"!=typeof self&&self;function Wo(e,t){return e(t={exports:{}},t.exports),t.exports}var Go=Wo(function(e){!function(e,t,n){function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new function(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}(e),o=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,o&&("object"==typeof o&&r(o,n),i.state=function(){return r(n,{})}),i}t&&t.exports?t.exports=o:this.alea=o}(0,e)}),Xo=Wo(function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new function(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&r(o,n),i.state=function(){return r(n,{})}),i}t&&t.exports?t.exports=o:this.xor128=o}(0,e)}),Ko=Wo(function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&r(o,n),i.state=function(){return r(n,{})}),i}t&&t.exports?t.exports=o:this.xorwow=o}(0,e)}),Yo=Wo(function(e){!function(e,t,n){function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&(o.x&&r(o,n),i.state=function(){return r(n,{})}),i}t&&t.exports?t.exports=o:this.xorshift7=o}(0,e)}),$o=Wo(function(e){!function(e,t,n){function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&(o.X&&r(o,n),i.state=function(){return r(n,{})}),i}t&&t.exports?t.exports=o:this.xor4096=o}(0,e)}),Zo=Wo(function(e){!function(e,t,n){function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&r(o,n),i.state=function(){return r(n,{})}),i}t&&t.exports?t.exports=o:this.tychei=o}(0,e)}),Qo=Wo(function(e){!function(t,r){var o,i=this,a=256,s=6,l="random",u=r.pow(a,s),c=r.pow(2,52),d=2*c,f=a-1;function h(e,n,h){var v=[],y=m(function e(t,n){var r,o=[],i=typeof t;if(n&&"object"==i)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==i?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(a):(e=new Uint8Array(a),(i.crypto||i.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=i.navigator,r=n&&n.plugins;return[+new Date,i,r,i.screen,g(t)]}}():e,3),v),b=new function(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=f&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=f&o+1],n=n*a+s[f&(s[o]=s[i=f&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(a)}(v),_=function(){for(var e=b.g(s),t=u,n=0;e<c;)e=(e+n)*a,t*=a,n=b.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return _.int32=function(){return 0|b.g(4)},_.quick=function(){return b.g(4)/4294967296},_.double=_,m(g(b.S),t),(n.pass||h||function(e,t,n,o){return o&&(o.S&&p(o,b),e.state=function(){return p(b,{})}),n?(r[l]=e,t):e})(_,y,"global"in n?n.global:this==r,n.state)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",o=0;o<r.length;)t[f&o]=f&(n^=19*t[f&o])+r.charCodeAt(o++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(r["seed"+l]=h,m(r.random(),t),e.exports){e.exports=h;try{o=n("./node_modules/crypto-browserify/index.js")}catch(e){}}}([],Math)});Qo.alea=Go,Qo.xor128=Xo,Qo.xorwow=Ko,Qo.xorshift7=Yo,Qo.xor4096=$o,Qo.tychei=Zo;var Jo=Qo.alea,ei=function(){function e(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=Jo(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var o=void 0,i=void 0,a=void 0;do{a=(o=2*this.random()-1)*o+(i=2*this.random()-1)*i}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);t=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}();function ti(e,t){return u(this,void 0,void 0,function(){var n,r,o,i,a,s,l,u,d,f,h,p,m,g,v,y,b,_,x,w;return c(this,function(c){switch(c.label){case 0:if(2!==(n=ot(e,"img","toPixels","int32")).rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],i=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return s=n.min(),l=n.max(),[4,s.data()];case 1:return u=c.sent()[0],[4,l.data()];case 2:if(d=c.sent()[0],s.dispose(),l.dispose(),"float32"===n.dtype){if(u<0||d>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+u+" - "+d+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(u<0||d>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+u+" - "+d+"].")}return[4,n.data()];case 3:for(f=c.sent(),h="float32"===n.dtype?255:1,p=new Uint8ClampedArray(i*o*4),m=0;m<o*i;++m)g=void 0,v=void 0,y=void 0,b=void 0,1===a?(g=f[m]*h,v=f[m]*h,y=f[m]*h,b=255):3===a?(g=f[3*m]*h,v=f[3*m+1]*h,y=f[3*m+2]*h,b=255):4===a&&(g=f[4*m]*h,v=f[4*m+1]*h,y=f[4*m+2]*h,b=f[4*m+3]*h),p[0+(_=4*m)]=Math.round(g),p[_+1]=Math.round(v),p[_+2]=Math.round(y),p[_+3]=Math.round(b);return null!=t&&(t.width=i,t.height=o,x=t.getContext("2d"),w=new ImageData(p,i,o),x.putImageData(w,0,0)),n!==e&&n.dispose(),[2,p]}})})}function ni(e,t,n){return void 0===t&&(t="float32"),new ee(e,t,n)}function ri(e,t){void 0===t&&(t=!1),console.log(e.toString(t))}var oi=at({batchToSpaceND_:function(e,t,n){var r=ot(e,"x","batchToSpaceND"),o=t.reduce(function(e,t){return e*t});return b(r.rank>=1+t.length,"input rank is "+r.rank+" but should be > than blockShape.length "+t.length),b(n.length===t.length,"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length),b(r.shape[0]%o==0,"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o),_e.engine.runKernel(function(e){return e.batchToSpaceND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}})}}),ii=at({cast_:function(e,t){var n=ot(e,"x","cast");return _e.engine.runKernel(function(e){return e.cast(n,t)},{$x:n},function(e){return{$x:function(){return e.clone()}}})}}),ai=at({clone_:function(e){var t=ot(e,"x","clone");return _e.engine.runKernel(function(e){return oe.make(t.shape,{dataId:t.dataId},t.dtype)},{$x:t},function(e){return{$x:function(){return e.toFloat()}}})}}),si=at({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=ot(e,"x","cumsum"),i=We([t|=0],o.rank),a=o;null!=i&&(a=o.transpose(i));var s=Xe(1,o.rank)[0],l=_e.engine.runKernel(function(e){return e.cumsum(a,s,n,r)},{permutedX:a},function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}});return null!=i&&(l=l.transpose(i)),l}}),li=at({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=ot(e,"x","depthToSpace"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return b(o*t>=0,"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+"  for depthToSpace with input shape\n      "+r.shape),b(i*t>=0,"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+" for depthToSpace with input shape\n          "+r.shape),b(a%(t*t)==0,"Dimension size must be evenly divisible by "+t*t+" but is "+a+" for depthToSpace with input shape "+r.shape),_e.engine.runKernel(function(e){return e.depthToSpace(r,t,n)},{$x:r})}}),ui=at({expandDims_:function(e,t){void 0===t&&(t=0);var n=ot(e,"x","expandDims");b(t<=n.rank,"Axis must be <= rank of the tensor");var r=n.shape.slice();return t<0&&(b(-(n.rank+1)<=t,"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"),t=n.rank+t+1),r.splice(t,0,1),wi(n,r)}}),ci=at({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var o=ni([e,t],r),i=e<=t?e:t,a=0;a<i;++a)o.set(1,a,a);var s=o.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return Ai(ui(s,0),[n[0],1,1]);if(2===n.length)return Ai(ui(ui(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Ai(ui(ui(ui(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),di=at({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return _e.engine.fromPixels(e,t)}}),fi=at({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var o=ot(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?o.as2D(1,-1):o,l=_e.engine.runKernel(function(e){return e.multinomial(s,r,t,n)},{logits2D:s});return 1===a?l.as1D():l}}),hi=at({oneHot_:function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=0);var o=ot(e,"indices","oneHot","int32");if(b("int32"===o.dtype,"Indices must be of dtype `int32`"),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);return _e.engine.runKernel(function(e){return e.oneHot(o,t,n,r)},{$indices:o},function(e){return{$indices:function(){return Nt(o)}}})}}),pi=at({pad_:function(e,t,n){void 0===n&&(n=0);var r=ot(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o=t.map(function(e){return e[0]});return _e.engine.runKernel(function(e){return e.pad(r,t,n)},{$x:r},function(e){return{$x:function(){return e.slice(o,r.shape)}}})}}),mi=at({pad1d_:function(e,t,n){return void 0===n&&(n=0),b(2===t.length,"Invalid number of paddings. Must be length of 2."),pi(e,[t],n)}}),gi=at({pad2d_:function(e,t,n){return void 0===n&&(n=0),b(2===t.length&&2===t[0].length&&2===t[1].length,"Invalid number of paddings. Must be length of 2 each."),pi(e,t,n)}}),vi=at({pad3d_:function(e,t,n){return void 0===n&&(n=0),b(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,"Invalid number of paddings. Must be length of 2 each."),pi(e,t,n)}}),yi=at({pad4d_:function(e,t,n){return void 0===n&&(n=0),b(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,"Invalid number of paddings. Must be length of 2 each."),pi(e,t,n)}}),bi=at({rand_:function(e,t,n){var r=k(e),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var i=0;i<r;i++)o[i]=t();return oe.make(e,{values:o},n)}}),_i=at({randomNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new ei(t,n,r,!1,o),a=ni(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),xi=at({randomUniform_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var o=ni(e,r),i=0;i<o.values.length;i++)o.values[i]=y(t,n);return o.toTensor()}}),wi=at({reshape_:function(e,t){var n=ot(e,"x","reshape");return t=j(t,n.size),b(n.size===k(t),"new shape and old shape must have the same number of elements."),_e.engine.runKernel(function(e){return e.reshape(n,t)},{$x:n},function(e){return{$x:function(){return e.reshape(n.shape)}}})}}),ki=at({spaceToBatchND_:function(e,t,n){var r=ot(e,"x","spaceToBatchND");return b(r.rank>=1+t.length,"input rank "+r.rank+" should be > than [blockShape] "+t.length),b(n.length===t.length,"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length),b(r.shape.reduce(function(e,r,o){return o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e},!0),"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()),_e.engine.runKernel(function(e){return e.spaceToBatchND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}})}}),Ei=at({squeeze_:function(e,t){var n=ot(e,"x","squeeze");return wi(n,O(n.shape,t).newShape)}}),Ti=at({stack_:function(e,t){void 0===t&&(t=0);var n=it(e,"tensors","stack");if(b(n.length>=1,"Pass at least one tensor to tf.stack"),1===n.length)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,i=n[0].dtype;b(t<=r,"Axis must be <= rank of the tensor"),n.forEach(function(e){_(o,e.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(e){b(i===e.dtype,"All tensors passed to stack must have matching dtypes")});var a=n.map(function(e){return e.expandDims(t)});return Fo(a,t)}}),Ai=at({tile_:function(e,t){var n=ot(e,"x","tile");return b(n.rank===t.length,"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."),_e.engine.runKernel(function(e){return e.tile(n,t)},{$x:n},function(e){return{$x:function(){var r=Nt(n);if(1===n.rank)for(var o=0;o<t[0];++o)r=r.add(e.slice([o*n.shape[0]],[n.shape[0]]));else if(2===n.rank)for(o=0;o<t[0];++o)for(var i=0;i<t[1];++i)r=r.add(e.slice([o*n.shape[0],i*n.shape[1]],[n.shape[0],n.shape[1]]));else if(3===n.rank)for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(var a=0;a<t[2];++a)r=r.add(e.slice([o*n.shape[0],i*n.shape[1],a*n.shape[2]],[n.shape[0],n.shape[1],n.shape[2]]));else{if(4!==n.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+n.rank+" tensors yet.");for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(a=0;a<t[2];++a)for(var s=0;s<t[3];++s)r=r.add(e.slice([o*n.shape[0],i*n.shape[1],a*n.shape[2],s*n.shape[3]],[n.shape[0],n.shape[1],n.shape[2],n.shape[3]]))}return r}}})}}),Si=at({truncatedNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new ei(t,n,r,!0,o),a=ni(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),Mi=at({unstack_:function(e,t){void 0===t&&(t=0);for(var n,r=ot(e,"x","unstack"),o=r.shape[t],i=Array(r.rank-1).fill(0),a=0,s=0;s<r.rank;s++)s!==t&&(i[a]=r.shape[s],a++);n=Array(o).fill(1);var l=Array(r.rank).fill(0),u=r.shape.slice();return n.map(function(e){u[t]=e;var n=r.slice(l,u);return l[t]+=e,n.reshape(i)})}}),Ci=function(e,t){return u(this,void 0,void 0,function(){var n,r,o,i,a,s,l,u,d,f;return c(this,function(c){switch(c.label){case 0:return n=ot(e,"x","setdiff1d"),r=ot(t,"y","setdiff1d"),b(n.dtype===r.dtype,"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."),b(1===n.rank,"x should be 1D tensor, but got x ("+n.shape+")."),b(1===r.rank,"y should be 1D tensor, but got y ("+r.shape+")."),[4,n.data()];case 1:return o=c.sent(),[4,r.data()];case 2:for(i=c.sent(),a=new Set(i),s=0,d=0;d<o.length;d++)a.has(o[d])||s++;for(l=new ee([s],n.dtype),u=new ee([s],"int32"),d=0,f=0;d<o.length;d++)a.has(o[d])||(l.values[f]=o[d],u.values[f]=d,f++);return[2,[l.toTensor(),u.toTensor()]]}})})};function ji(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=ni(e,"int32"),i=ni([n.length,e.length],"int32");for(r=0;r<n.length;r++){var a=o.indexToLoc(n[r]),s=r*e.length;i.values.set(a,s)}return i.toTensor()}var Oi=300,Ni=function(){function e(e,t){if(void 0===t&&(t=!0),this.gpgpu=e,this.delayedStorage=t,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.lruDataGPU=[],this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,_e.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");if(null==e){var n=h(_e.get("WEBGL_VERSION"));this.gpgpu=new Yr(n),this.canvas=n.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpuCreatedLocally=!1,this.canvas=e.gl.canvas;_e.get("WEBGL_PAGING_ENABLED")&&(this.NUM_BYTES_BEFORE_PAGING=window.screen.height*window.screen.width*window.devicePixelRatio*Oi),this.textureManager=new wo(this.gpgpu)}return e.prototype.register=function(e,t,n){if(this.texData.has(e))throw new Error("Data buffer is already registered");this.texData.set(e,{shape:t,dtype:n,values:null,texture:null,complexTensors:null,texShape:null,usage:Un.RENDER,isPacked:!1})},e.prototype.setDataMover=function(e){this.texData=new Dt(e)},e.prototype.fromPixels=function(e,t){if(null==e)throw new Error("pixels passed to tf.fromPixels() can not be null");var n=[e.height,e.width],r=[e.height,e.width,t];if(!(e instanceof HTMLVideoElement||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+e.constructor.name);if(e instanceof HTMLVideoElement){if(null==this.fromPixels2DContext){if(!_e.get("IS_BROWSER"))throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixels2DContext=document.createElement("canvas").getContext("2d")}this.fromPixels2DContext.canvas.width=e.width,this.fromPixels2DContext.canvas.height=e.height,this.fromPixels2DContext.drawImage(e,0,0,e.width,e.height),e=this.fromPixels2DContext.canvas}var o=this.makeTensorHandle(n,"int32");this.texData.get(o.dataId).usage=Un.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(o.dataId),e);var i=new Fn(r),a=this.compileAndRun(i,[o]);return this.disposeData(o.dataId),a},e.prototype.makeTensorHandle=function(e,t){var n={};return this.register(n,e,t),{dataId:n,shape:e,dtype:t}},e.prototype.write=function(e,t){if(null==t)throw new Error("MathBackendWebGL.write(): values can not be null");var n=this.texData.get(e),r=n.texture,o=n.texShape,i=n.usage,a=n.dtype,s=n.isPacked;if("complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");null!=r&&(this.releaseTexture(e,r,o,i,s),n.texture=null,n.texShape=null),n.usage=Un.UPLOAD,n.values=t,this.delayedStorage||this.uploadToGPU(e)},e.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,o=t.complexTensors;if(null!=n)return this.convertAndCacheOnCPU(e);var i,a,s=null!=this.activeTimers;return s&&(i=performance.now()),a="complex64"===r?zt(o.real.dataSync(),o.imag.dataSync()):this.getValuesFromTexture(e),s&&(this.downloadWaitMs+=performance.now()-i),this.convertAndCacheOnCPU(e,a)},e.prototype.read=function(e){return u(this,void 0,void 0,function(){var t,n,r,o,i,a,s,l,u;return c(this,function(c){switch(c.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(n=this.texData.get(e),r=n.texture,o=n.values,i=n.texShape,null!=o)return[2,this.convertAndCacheOnCPU(e)];if(this.pendingRead.set(e,[]),!_e.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===_e.get("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return a=this.gpgpu.maybeCreateBufferFromTexture(r,i[0],i[1]),[4,this.gpgpu.createAndWaitForFence()];case 1:return c.sent(),s=a instanceof WebGLTexture?this.getValuesFromTexture(e):this.gpgpu.downloadFloat32MatrixFromBuffer(a,i[0],i[1]),l=this.convertAndCacheOnCPU(e,s),u=this.pendingRead.get(e),this.pendingRead.delete(e),u.forEach(function(e){return e(l)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)),[2,l]}})})},e.prototype.getValuesFromTexture=function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,o=t.texture,i=t.texShape;if(_e.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")){if(this.texData.get(e).isPacked){var a=k(n.slice(0,n.length-2)),s=n.length>1?n[n.length-2]:1,l=n[n.length-1];return this.gpgpu.downloadMatrixFromPackedTexture(o,a,s,l,i[0],i[1])}return this.gpgpu.downloadFloat32MatrixFromOutputTexture(o,i[0],i[1])}var u=this.makeTensorHandle(n,"float32");u.size=k(n),this.texData.get(u.dataId).usage=Un.DOWNLOAD;var c=new In(n);this.compileAndRun(c,[{shape:n,dtype:r,dataId:e}],u,null,!1);var d=this.texData.get(u.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(d.texture,d.texShape[0],d.texShape[1]);return this.disposeData(u.dataId),f},e.prototype.time=function(e){return u(this,void 0,void 0,function(){var t,n,r,o,i,a,s;return c(this,function(l){switch(l.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),o=w(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),i=w(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e}),this.activeTimers=t,r&&(this.programTimersStack=null),[4,Promise.all(o)];case 1:return a=l.sent(),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:v(a),getExtraProfileInfo:function(){return a.map(function(e,t){return{name:i[t],ms:e}}).map(function(e){return e.name+": "+e.ms}).join(", ")},wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,s]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return _e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},e.prototype.endTimer=function(e){return _e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),e):(e.endMs=performance.now(),e)},e.prototype.getQueryTime=function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){return _e.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]})})},e.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e))if(this.pendingRead.has(e))this.pendingDisposal.add(e);else if(this.texData.has(e)){var t=this.texData.get(e),n=t.texture,r=t.texShape,o=t.usage,i=t.complexTensors,a=t.isPacked;null!=n&&this.releaseTexture(e,n,r,o,a),null!=i&&(i.real.dispose(),i.imag.dispose()),this.texData.delete(e)}},e.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},e.prototype.getCPUBackend=function(){return _e.get("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=_e.findBackend("cpu")),this.cpuBackend):null},e.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=10),null!=this.getCPUBackend()&&e.every(function(e){return null==n.texData.get(e.dataId).texture&&e.size<t})},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.getCanvas=function(){return this.canvas},e.prototype.complex=function(e,t){var n=this.makeOutputArray(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:_e.engine.keep(e.clone()),imag:_e.engine.keep(t.clone())},n},e.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},e.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},e.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);var r=new _o(n),o=r.getCustomSetupFunc(t);return this.compileAndRun(r,[e],null,o)},e.prototype.stridedSlice=function(e,t,n,r,o,i,a,s,l){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r,o,i,a,s,l);var u=et(e.shape,t,n,r,o,i,a,s,l),c=u[0],d=u[1],f=u[2],h=d.filter(function(e,t){return-1===f.indexOf(t)});if(h.some(function(e){return 0===e}))return ft([],h);var p=new xo(c,r,d,f);return this.compileAndRun(p,[e])},e.prototype.reverse=function(e,t){var n=new go(e.shape,t);return this.compileAndRun(n,[e])},e.prototype.concat2Tensors=function(e,t,n){var r=Ke([e.shape,t.shape],n),o=e.as2D(-1,k(e.shape.slice(n))),i=t.as2D(-1,k(t.shape.slice(n))),a=new dn(o.shape,i.shape);return this.compileAndRun(a,[o,i]).reshape(r)},e.prototype.concat=function(e,t){if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];for(var n=e[0],r=1;r<e.length;++r)n=this.concat2Tensors(n,e[r],t);return n},e.prototype.neg=function(e){var t=new Co(e.shape,"return -x;");return this.compileAndRun(t,[e])},e.prototype.batchMatMul=function(e,t,n,r){var o=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],a=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===o||1===i)&&a>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var l=1===i?e:e.as3D(s,a,1),u=1===i?2:1,c=1===i?t.as3D(s,1,a):t;return this.multiply(l,c).sum(u,!0)}if(1===s){var d=e.as2D(e.shape[1],e.shape[2]),f=t.as2D(t.shape[1],t.shape[2]),h=new no(d.shape,f.shape,[o,i],n,r),p=this.compileAndRun(h,[d,f],this.makePackedTensor(h.outputShape));return!1===_e.get("WEBGL_LAZILY_UNPACK")&&(p=this.unpackTensor(p)),p.reshape([1,p.shape[0],p.shape[1]])}return this.compileAndRun(new to(e.shape,t.shape,n,r),[e,t])},e.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),o=new on(nn,e.shape,t.shape),i=new on(rn,e.shape,t.shape),a=[this.makeComplexComponentTensorHandle(e,n.complexTensors.real),this.makeComplexComponentTensorHandle(e,n.complexTensors.imag),this.makeComplexComponentTensorHandle(t,r.complexTensors.real),this.makeComplexComponentTensorHandle(t,r.complexTensors.imag)],s=this.compileAndRun(o,a),l=this.compileAndRun(i,a),u=this.complex(s,l);return s.dispose(),l.dispose(),u}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);var c=new ln("return a * b;",e.shape,t.shape),d=this.makeOutputArray(c.outputShape,e.dtype);return this.compileAndRun(c,[e,t],d)},e.prototype.batchNormalization=function(e,t,n,r,o,i){var a=[e,t,n],s=null;null!=i&&(s=i.shape,a.push(i));var l=null;null!=o&&(l=o.shape,a.push(o));var u=null,c=Jt;_e.get("WEBGL_PACK_BATCHNORMALIZATION")&&(u=this.makePackedTensor(e.shape),c=en);var d=new c(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(d,a,u)},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){var i=new Qr(e.shape,t,n,r,o);return this.compileAndRun(i,[e])},e.prototype.LRNGrad=function(e,t,n,r,o,i,a){var s=new Jr(t.shape,r,o,i,a);return this.compileAndRun(s,[t,n,e])},e.prototype.tile=function(e,t){var n=new To(e.shape,t);return this.compileAndRun(n,[e])},e.prototype.pad=function(e,t,n){var r=new so(e.shape,t,n);return this.compileAndRun(r,[e])},e.prototype.transpose=function(e,t){var n=new Ao(e.shape,t);return this.compileAndRun(n,[e])},e.prototype.gather=function(e,t,n){var r=new zn(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},e.prototype.batchToSpaceND=function(e,t,n){b(e.rank<=4,"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");var r=t.reduce(function(e,t){return e*t}),o=Ie(e.shape,t,r),i=De(o.length,t.length),a=Le(e.shape,t,r),s=Be(n,t.length),l=Fe(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,l)},e.prototype.spaceToBatchND=function(e,t,n){b(e.rank<=4,"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");var r=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=Ie(a.shape,t,r,!1),l=De(s.length,t.length,!1),u=Le(a.shape,t,r,!1);return a.reshape(s).transpose(l).reshape(u)},e.prototype.reduce=function(e,t,n){var r=e.shape[0],o=e.shape[1],i=Ze(o),a=new uo({windowSize:i,inSize:o,batchSize:r},t),s=a.outputShape,l=s[0],u=s[1],c=this.makeOutputArray([l,u],n);return this.compileAndRun(a,[e],c),1===c.shape[1]?c:this.reduce(c,t,n)},e.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],o=e.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var i=Ze(o),a=new Kt({windowSize:i,inSize:o,batchSize:r},t,null==n),s=a.outputShape,l=s[0],u=s[1],c=this.makeOutputArray([l,u],"int32"),d=[e];return null!=n&&d.push(n),this.compileAndRun(a,d,c),1===c.shape[1]?c:this.argReduce(e,t,c)},e.prototype.sum=function(e,t){He("sum",t,e.rank);var n=Ue(e.shape,t),r=n[0],o=k(n[1]),i=e.as2D(-1,o),a=It(e.dtype);return this.reduce(i,"sum",a).reshape(r)},e.prototype.prod=function(e,t){var n=Ue(e.shape,t),r=n[0],o=k(n[1]),i=e.as2D(-1,o),a=It(e.dtype);return this.reduce(i,"prod",a).reshape(r)},e.prototype.unsortedSegmentSum=function(e,t,n){var r=0,o=We([r],e.rank),i=e;null!=o&&(i=e.transpose(o),r=Xe(1,e.rank)[0]);var a=function(e,t,n){for(var r=[],o=e.length,i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}(i.shape,r,n),s=k([i.shape[r]]),l=i.as2D(-1,s),u=It(e.dtype),c=this.segOpCompute(l,"unsortedSegmentSum",t,u,n).reshape(a);return null!=o&&(c=c.transpose(Ge(o))),c},e.prototype.segOpCompute=function(e,t,n,r,o){var i=e.shape[0],a=e.shape[1],s=function(e,t){var n,r=!1;for(e<=$e?(n=e,r=!0):n=F(e,Math.floor(Math.sqrt(e)));!r;){if(n>t||n===e){r=!0;break}n=F(e,n+1)}return n}(a,o),l=new yo({windowSize:s,inSize:a,batchSize:i,numSegments:o},t),u=l.outputShape,c=u[0],d=u[1],f=this.makeOutputArray([c,d],r);return this.compileAndRun(l,[e,n],f),f.shape[1]===o?f:(n=Et(0,o).tile([a/s]),this.segOpCompute(f,t,n,r,o))},e.prototype.argMin=function(e,t){var n=[t];He("argMin",n,e.rank);var r=Ue(e.shape,n),o=r[0],i=k(r[1]),a=e.as2D(-1,i);return this.argReduce(a,"min").reshape(o)},e.prototype.argMax=function(e,t){var n=[t];He("argMax",n,e.rank);var r=Ue(e.shape,n),o=r[0],i=k(r[1]),a=e.as2D(-1,i);return this.argReduce(a,"max").reshape(o)},e.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new Nn(e.shape,n,r);return this.compileAndRun(o,[e])},e.prototype.equal=function(e,t){var n=new ln("return float(a == b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.notEqual=function(e,t){var n=new ln("return float(a != b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);var n=new ln("return float(a < b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.lessEqual=function(e,t){var n=new ln("return float(a <= b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);var n=new ln("return float(a > b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.greaterEqual=function(e,t){var n=new ln("return float(a >= b);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.logicalNot=function(e){var t=new Co(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},e.prototype.logicalAnd=function(e,t){var n=new ln("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.logicalOr=function(e,t){var n=new ln("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.select=function(e,t,n){var r=new bo(e.rank,t.shape,t.rank),o=this.makeOutputArray(r.outputShape,Pt(t.dtype,n.dtype));return this.compileAndRun(r,[e,t,n],o)},e.prototype.where=function(e){Pe("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return ji(e.shape,t)},e.prototype.topk=function(e,t,n){return Xt(e.dataSync(),e.shape,e.dtype,t)},e.prototype.min=function(e,t){He("min",t,e.rank);var n=Ue(e.shape,t),r=n[0],o=k(n[1]),i=e.as2D(-1,o);return this.reduce(i,"min",i.dtype).reshape(r)},e.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=new ln("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.mod=function(e,t){var n=new ln("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape),r=n.getCustomSetupFunc();return this.compileAndRun(n,[e,t],null,r)},e.prototype.max=function(e,t){He("max",t,e.rank);var n=Ue(e.shape,t),r=n[0],o=k(n[1]),i=e.as2D(-1,o);return this.reduce(i,"max",i.dtype).reshape(r)},e.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=new ln("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.all=function(e,t){He("all",t,e.rank);var n=Ue(e.shape,t),r=n[0],o=k(n[1]),i=e.as2D(-1,o);return this.reduce(i,"all",i.dtype).reshape(r)},e.prototype.any=function(e,t){He("any",t,e.rank);var n=Ue(e.shape,t),r=n[0],o=k(n[1]),i=e.as2D(-1,o);return this.reduce(i,"any",i.dtype).reshape(r)},e.prototype.squaredDifference=function(e,t){var n=new ln("return (a - b) * (a - b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.realDivide=function(e,t){var n=new ln("if (a == b) return 1.0;\n  return a / b;",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[e,t],r)},e.prototype.floorDiv=function(e,t){var n=new ln("\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"int32");return this.compileAndRun(n,[e,t],r)},e.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,an);var n=new ln(an,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,Pt(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r)},e.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,o=this.texData.get(e.dataId),i=this.texData.get(t.dataId),a=[[o.complexTensors.real,i.complexTensors.real],[o.complexTensors.imag,i.complexTensors.imag]].map(function(o){var i=o[0],a=o[1],s=new ln(n,e.shape,t.shape),l=r.makeOutputArray(s.outputShape,Pt(i.dtype,a.dtype)),u=r.makeComplexComponentTensorHandle(e,i),c=r.makeComplexComponentTensorHandle(t,a);return r.compileAndRun(s,[u,c],l)}),s=a[0],l=a[1],u=this.complex(s,l);return s.dispose(),l.dispose(),u},e.prototype.makeComplexComponentTensorHandle=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},e.prototype.addN=function(e){for(var t=e[0],n=1;n<e.length;n++)t=this.add(t,e[n]);return t},e.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,sn);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=new ln(sn,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,Pt(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r)},e.prototype.pow=function(e,t){var n=new ln("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=n.getCustomSetupFunc(),o=this.makeOutputArray(n.outputShape,Pt(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],o,r)},e.prototype.ceil=function(e){var t=new Co(e.shape,"return ceil(x);");return this.compileAndRun(t,[e])},e.prototype.floor=function(e){var t=new Co(e.shape,"return floor(x);");return this.compileAndRun(t,[e])},e.prototype.sign=function(e){var t=new Co(e.shape,"\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},e.prototype.round=function(e){var t=new Co(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},e.prototype.exp=function(e){var t=new Co(e.shape,"return exp(x);");return this.compileAndRun(t,[e])},e.prototype.expm1=function(e){var t=new Co(e.shape,"return exp(x) - 1.0;");return this.compileAndRun(t,[e])},e.prototype.log=function(e){var t=new Co(e.shape,"if (x < 0.0) return NAN;\n  return log(x);"),n=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,n)},e.prototype.log1p=function(e){var t=new Co(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},e.prototype.sqrt=function(e){var t=new Co(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},e.prototype.rsqrt=function(e){var t=new Co(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},e.prototype.square=function(e){var t=new Co(e.shape,"return x * x;");return this.compileAndRun(t,[e])},e.prototype.reciprocal=function(e){var t=new Co(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},e.prototype.relu=function(e){var t=new Co(e.shape,Oo);return this.compileAndRun(t,[e])},e.prototype.elu=function(e){var t=new Co(e.shape,"return (x >= 0.0) ? x : (exp(x) - 1.0);");return this.compileAndRun(t,[e])},e.prototype.eluDer=function(e,t){var n=new ln("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.selu=function(e){var t=new Co(e.shape,No);return this.compileAndRun(t,[e])},e.prototype.int=function(e){var t=new Co(e.shape,"return float(int(x));"),n=this.makeOutputArray(t.outputShape,"int32");return this.compileAndRun(t,[e],n)},e.prototype.clip=function(e,t,n){var r=new un(e.shape,t,n);return this.compileAndRun(r,[e])},e.prototype.abs=function(e){var t=new Co(e.shape,"return abs(x);");return this.compileAndRun(t,[e])},e.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new cn(e.shape),r=[this.makeComplexComponentTensorHandle(e,t.complexTensors.real),this.makeComplexComponentTensorHandle(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},e.prototype.sigmoid=function(e){var t=new Co(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},e.prototype.softplus=function(e){var t=new Co(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},e.prototype.sin=function(e){var t=new Co(e.shape,Ro);return this.compileAndRun(t,[e])},e.prototype.cos=function(e){var t=new Co(e.shape,Po);return this.compileAndRun(t,[e])},e.prototype.tan=function(e){var t=new Co(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},e.prototype.asin=function(e){var t=new Co(e.shape,"return asin(x);");return this.compileAndRun(t,[e])},e.prototype.acos=function(e){var t=new Co(e.shape,"return acos(x);");return this.compileAndRun(t,[e])},e.prototype.atan=function(e){var t=new Co(e.shape,Io);return this.compileAndRun(t,[e])},e.prototype.atan2=function(e,t){var n=new ln("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.sinh=function(e){var t=new Co(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},e.prototype.cosh=function(e){var t=new Co(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},e.prototype.tanh=function(e){var t=new Co(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},e.prototype.asinh=function(e){var t=new Co(e.shape,"return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(t,[e])},e.prototype.acosh=function(e){var t=new Co(e.shape,Do),n=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,n)},e.prototype.atanh=function(e){var t=new Co(e.shape,Lo),n=t.getCustomSetupFunc();return this.compileAndRun(t,[e],null,n)},e.prototype.erf=function(e){var t=new Co(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n');return this.compileAndRun(t,[e])},e.prototype.step=function(e,t){var n=new Co(e.shape,function(e){return void 0===e&&(e=0),jo+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},e.prototype.conv2dWithIm2Row=function(e,t,n){var r=n.filterWidth,o=n.filterHeight,i=n.inChannels,a=n.outWidth,s=n.outHeight,l=r*o*i,u=s*a,c=[l,u],d=e.squeeze([0]),f=t.reshape([l,-1]),h=new Zr(c,d.shape,n),p=this.compileAndRun(h,[d],this.makePackedTensor(c)),m=new no(p.shape,f.shape,[u,n.outChannels],!0,!1),g=this.compileAndRun(m,[p,f],this.makePackedTensor(m.outputShape));return!1===_e.get("WEBGL_LAZILY_UNPACK")&&(g=this.unpackTensor(g)),g.reshape([1,s,a,n.outChannels])},e.prototype.conv2d=function(e,t,n){if(_e.get("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new gn(n);return this.compileAndRun(r,[e,t])},e.prototype.conv2dDerInput=function(e,t,n){var r=new hn(n);return this.compileAndRun(r,[e,t])},e.prototype.conv2dDerFilter=function(e,t,n){var r=new fn(n);return this.compileAndRun(r,[e,t])},e.prototype.depthwiseConv2D=function(e,t,n){var r=new vn(n);return this.compileAndRun(r,[e,t])},e.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new mn(n);return this.compileAndRun(r,[e,t])},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new pn(n);return this.compileAndRun(r,[e,t])},e.prototype.maxPool=function(e,t){var n=new lo(t,"max",!1),r=this.makeOutputArray(n.outputShape,e.dtype);return this.compileAndRun(n,[e],r)},e.prototype.avgPool=function(e,t){var n=new lo(t,"avg",!1),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[e],r)},e.prototype.maxPoolBackprop=function(e,t,n,r){var o=new lo(r,"max",!0),i=this.compileAndRun(o,[t]),a=new eo(r),s=this.makeOutputArray(a.outputShape,t.dtype),l=this.compileAndRun(a,[e,i],s);return i.dispose(),l},e.prototype.avgPoolBackprop=function(e,t,n){var r=new Yt(n),o=this.makeOutputArray(r.outputShape,t.dtype);return this.compileAndRun(r,[e],o)},e.prototype.cast=function(e,t){return Bt(e,t,this)},e.prototype.reshape=function(e,t){return this.texData.get(e.dataId).isPacked&&!Ar(e.shape,t)?this.packedReshape(e,t):Ft(e,t)},e.prototype.resizeBilinear=function(e,t,n,r){var o=new ho(e.shape,t,n,r);return this.compileAndRun(o,[e])},e.prototype.resizeBilinearBackprop=function(e,t,n){var r=new fo(e,t,n);return this.compileAndRun(r,[e])},e.prototype.resizeNearestNeighbor=function(e,t,n,r){var o=new mo(e.shape,t,n,r);return this.compileAndRun(o,[e])},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new po(e,t,n);return this.compileAndRun(r,[e])},e.prototype.multinomial=function(e,t,n,r){var o=t?e:st(e),i=o.shape[0],a=o.shape[1],s=new ro(i,a,n),l=this.makeOutputArray(s.outputShape,"int32"),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],l,u)},e.prototype.oneHot=function(e,t,n,r){var o=new oo(e.size,t,n,r);return this.compileAndRun(o,[e])},e.prototype.nonMaxSuppression=function(e,t,n,r,o){return Pe("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Ht(e.dataSync(),t.dataSync(),n,r,o)},e.prototype.cropAndResize=function(e,t,n,r,o,i){var a=new yn(e.shape,t.shape,r,o,i);return this.compileAndRun(a,[e,t,n])},e.prototype.depthToSpace=function(e,t,n){b(t>1,"blockSize should be > 1 for depthToSpace, but was: "+t);var r=e.shape[0],o=("NHWC"===n?e.shape[1]:e.shape[2])*t,i=("NHWC"===n?e.shape[2]:e.shape[3])*t,a=("NHWC"===n?e.shape[3]:e.shape[1])/(t*t),s=new Pn("NHWC"===n?[r,o,i,a]:[r,a,o,i],t,n);return this.compileAndRun(s,[e])},e.prototype.split=function(e,t,n){return Gt(e,t,n)},e.prototype.scatterND=function(e,t,n){var r=Je(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,l=r.outputSize,u=[l/a,a],c=e.reshape([i,o]),d=t.reshape([i,a]);if(0===l)return Ft(ft([]),n);var f=ht(0),h=new vo(i,o,c.rank,d.rank,s,u);return this.compileAndRun(h,[d,c,f]).reshape(n)},e.prototype.sparseToDense=function(e,t,n,r){var o=Je(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.strides,l=o.outputSize,u=new vo(a,i,e.rank,t.rank,s,[l,1],!1);return this.compileAndRun(u,[t,e,r]).reshape(n)},e.prototype.fft=function(e){return this.fftImpl(e,!1)},e.prototype.ifft=function(e){return this.fftImpl(e,!0)},e.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new Bn(Dn,e.shape,t),o=new Bn(Ln,e.shape,t),i=[this.makeComplexComponentTensorHandle(e,n.complexTensors.real),this.makeComplexComponentTensorHandle(e,n.complexTensors.imag)],a=this.compileAndRun(r,i),s=this.compileAndRun(o,i),l=this.complex(a,s).as2D(e.shape[0],e.shape[1]);return a.dispose(),s.dispose(),l},e.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=Ye(e,t),i=o[0],a=o[1],s=o[2],l=o[3],u=t.reshape([a,r]),c=e.reshape([e.size/s,s]),d=new Vn(r,l,[a,s]);return this.compileAndRun(d,[c,u]).reshape(i)},e.prototype.makeOutputArray=function(e,t){return oe.make(e,{},t)},e.prototype.makePackedTensor=function(e){var t=oe.make(e,{});return this.texData.get(t.dataId).isPacked=!0,t},e.prototype.unpackTensor=function(e){var t=new Bo(e.shape);return this.compileAndRun(t,[e])},e.prototype.getBatchDim=function(e,t){return void 0===t&&(t=2),k(e.slice(0,e.length-t))},e.prototype.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},e.prototype.packedReshape=function(e,t){var n=e.reshape([this.getBatchDim(e.shape)].concat(this.getRowsCols(e.shape))),r=[this.getBatchDim(t)].concat(this.getRowsCols(t)),o=new co(r,n.shape);return this.compileAndRun(o,[n],this.makePackedTensor(r)).reshape(t)},e.prototype.compileAndRun=function(e,t,n,r,o){var i=this;if(void 0===o&&(o=!0),null==n&&(n=this.makeOutputArray(e.outputShape,t[0].dtype)),0===n.size)return this.texData.get(n.dataId).values=N(n.dtype,0),n;var a=t.map(function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture&&(n.isPacked||!e.usesPackedTextures)&&k(t.shape)<=_e.get("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:i.readSync(t.dataId)};if(n.isPacked!==!!e.usesPackedTextures){var r=void 0,o=void 0;n.isPacked?(r=new Bo(t.shape),o=i.compileAndRun(r,[t])):(r=new ao(t.shape),o=i.compileAndRun(r,[t],i.makePackedTensor(t.shape))),n=i.texData.get(o.dataId),t=o}return i.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(n.dataId);var s,l={shape:n.shape,texData:this.texData.get(n.dataId),isUniform:!1},u=function(e,t,n){var r="";t.concat(n).forEach(function(e){r+=e.shape+"_"+(e.isUniform?"uniform":e.texData.texShape)});var o=e.userCode,i=(!0===e.supportsBroadcasting).toString();return e.constructor.name+"_"+i+"_"+r+"_"+o}(e,a,l),c=this.getAndSaveBinary(u,function(){return function(e,t,n,r){for(var o=t.userCode,i=n.map(function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked};return{name:t.variableNames[n],shapeInfo:r}}),a=i.map(function(e){return e.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked},l=xn(i,s,o,!0===t.supportsBroadcasting,t.usesPackedTextures),u=e.createProgram(l),c={},d=0;d<t.variableNames.length;d++){var f=t.variableNames[d];c[f]=e.getUniformLocation(u,f,!1)}return{program:t,source:l,webGLProgram:u,uniformLocations:c,gpgpu:e,inShapeInfos:a,outShapeInfo:s}}(i.gpgpu,e,a,l)}),d=null!=this.activeTimers;if(d&&(s=this.startTimer()),function(e,t,n,r){$r(e.inShapeInfos,t),$r([e.outShapeInfo],[n]);var o=n.texData.texture,i=n.texData.texShape,a=e.gpgpu;n.texData.isPacked?a.setOutputPackedMatrixTexture(o,i[0],i[1]):a.setOutputMatrixTexture(o,i[0],i[1]),a.setProgram(e.webGLProgram),t.forEach(function(t,n){var r=e.program.variableNames[n],o=e.uniformLocations[r];if(null!=o){if(t.isUniform){if(1===k(t.shape))a.gl.uniform1f(o,t.uniformValues[0]);else{var i=t.uniformValues;i instanceof Float32Array||(i=new Float32Array(i)),a.gl.uniform1fv(o,i)}return}var s=t.texData.texture;a.setInputMatrixTexture(s,o,n)}}),null!=r&&r(a,e.webGLProgram),a.executeProgram()}(c,a,l,r),_e.get("WEBGL_PAGING_ENABLED")&&o&&this.numBytesInGPU>this.NUM_BYTES_BEFORE_PAGING)for(var f=this.numBytesInGPU-this.NUM_BYTES_BEFORE_PAGING;f>0&&this.lruDataGPU.length>0;){var h=this.lruDataGPU.shift(),p=this.texData.get(h),m=p.shape,g=p.dtype;f-=this.computeBytes(m,g),this.read(h)}return d&&(s=this.endTimer(s),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(s)})),n},e.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){if(!this.disposed){for(var e in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram);this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixels2DContext&&this.fromPixels2DContext.canvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0}},e.prototype.floatPrecision=function(){var e=this;return Ce(function(){return e.abs(ht(1e-8)).get()>0?32:16})},e.prototype.uploadToGPU=function(e){var t=this.texData.get(e),n=t.shape,r=t.values,o=t.texture,i=t.dtype,a=t.usage,s=t.isPacked;if(null==o){var l,u=null!=this.activeTimers;u&&(l=performance.now());var c=Er(n,s);t.texShape=c;var d=this.acquireTexture(e,c,a,s);if(t.texture=d,null!=r){if(s){var f=k(n.slice(0,n.length-2)),h=n.length>1?n[n.length-2]:1,p=n[n.length-1];this.gpgpu.uploadMatrixToPackedTexture(d,f,h,p,Ri(r,i))}else this.gpgpu.uploadMatrixToTexture(d,c[0],c[1],Ri(r,i));t.values=null,u&&(this.uploadWaitMs+=performance.now()-l)}}else _e.get("WEBGL_PAGING_ENABLED")&&this.lruDataGPU.indexOf(e)>=0&&(this.lruDataGPU.splice(this.lruDataGPU.indexOf(e),1),this.lruDataGPU.push(e))},e.prototype.convertAndCacheOnCPU=function(e,t){var n=this.delayedStorage,r=this.texData.get(e),o=r.texture,i=r.texShape,a=r.dtype,s=r.usage,l=r.isPacked;return n&&null!=o&&(this.releaseTexture(e,o,i,s,l),r.texture=null,r.texShape=null),r.usage=Un.UPLOAD,null!=t&&(r.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,a)),r.values},e.prototype.releaseTexture=function(e,t,n,r,o){var i=this.texData.get(e),a=i.shape,s=i.dtype;if(_e.get("WEBGL_PAGING_ENABLED")){var l=this.lruDataGPU.indexOf(e);l>=0&&this.lruDataGPU.splice(l,1)}this.numBytesInGPU-=this.computeBytes(a,s),this.textureManager.releaseTexture(t,n,r,o)},e.prototype.acquireTexture=function(e,t,n,r){var o=this.texData.get(e),i=o.shape,a=o.dtype;return _e.get("WEBGL_PAGING_ENABLED")&&this.lruDataGPU.push(e),this.numBytesInGPU+=this.computeBytes(i,a),this.textureManager.acquireTexture(t,n,r)},e.prototype.computeBytes=function(e,t){return k(e)*L(t)},e}();function Ri(e,t){return e instanceof Float32Array?e:new Float32Array(e)}_e.get("IS_BROWSER")&&_e.registerBackend("webgl",function(){return new Ni},2,re);var Pi=at({abs_:function(e){var t=ot(e,"x","abs");return"complex64"===t.dtype?_e.engine.runKernel(function(e){return e.complexAbs(t)},{$x:t}):_e.engine.runKernel(function(e){return e.abs(t)},{$x:t},function(e){return{$x:function(){return e.mulStrict(t.toFloat().step(-1))}}})}}),Ii=at({acos_:function(e){var t=ot(e,"x","acos");return _e.engine.runKernel(function(e){return e.acos(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(ht(1).sub(t.toFloat().square()).sqrt()).neg()}}})}}),Di=at({acosh_:function(e){var t=ot(e,"x","acosh");return _e.engine.runKernel(function(e){return e.acosh(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(t.toFloat().square().sub(ht(1)).sqrt())}}})}}),Li=at({asin_:function(e){var t=ot(e,"x","asin");return _e.engine.runKernel(function(e){return e.asin(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(ht(1).sub(t.toFloat().square()).sqrt())}}})}}),Bi=at({asinh_:function(e){var t=ot(e,"x","asinh");return _e.engine.runKernel(function(e){return e.asinh(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(ht(1).add(t.toFloat().square()).sqrt())}}})}}),Fi=at({atan_:function(e){var t=ot(e,"x","atan");return _e.engine.runKernel(function(e){return e.atan(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(ht(1).add(t.toFloat().square()))}}})}}),zi=at({atanh_:function(e){var t=ot(e,"x","atanh");return _e.engine.runKernel(function(e){return e.atanh(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(ht(1).sub(t.toFloat().square()))}}})}}),Ui=at({ceil_:function(e){var t=ot(e,"x","ceil");return _e.engine.runKernel(function(e){return e.ceil(t)},{$x:t},function(e){return{$x:function(){return Nt(e)}}})}}),qi=at({clipByValue_:function(e,t,n){var r=ot(e,"x","clipByValue");return b(t<=n,"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."),_e.engine.runKernel(function(e){return e.clip(r,t,n)},{$x:r},function(e){return{$x:function(){return e.where(r.greaterEqual(ht(t)).logicalAnd(r.lessEqual(ht(n))),Nt(e))}}})}}),Vi=at({cos_:function(e){var t=ot(e,"x","cos");return _e.engine.runKernel(function(e){return e.cos(t)},{$x:t},function(e){return{$x:function(){return t.toFloat().sin().neg().mulStrict(e)}}})}}),Hi=at({cosh_:function(e){var t=ot(e,"x","cosh");return _e.engine.runKernel(function(e){return e.cosh(t)},{$x:t},function(e){return{$x:function(){return t.toFloat().sinh().mulStrict(e)}}})}}),Wi=at({erf_:function(e){var t=ot(e,"x","erf");return b("int32"===t.dtype||"float32"===t.dtype,"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=t.toFloat()),_e.engine.runKernel(function(e){return e.erf(t)},{$x:t},function(e){return{$x:function(){return e.mulStrict(ht(2/Math.sqrt(Math.PI)).mul(t.square().neg().exp()))}}})}}),Gi=at({exp_:function(e){var t=ot(e,"x","exp");return _e.engine.runKernel(function(e,n){return n(e.exp(t))},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mulStrict(n)}}})}}),Xi=at({expm1_:function(e){var t=ot(e,"x","expm1");return _e.engine.runKernel(function(e){return e.expm1(t)},{$x:t},function(e){return{$x:function(){return e.mulStrict(t.exp())}}})}}),Ki=at({floor_:function(e){var t=ot(e,"x","floor");return _e.engine.runKernel(function(e){return e.floor(t)},{$x:t},function(e){return{$x:function(){return Nt(e)}}})}}),Yi=at({log_:function(e){var t=ot(e,"x","log");return _e.engine.runKernel(function(e){return e.log(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(t.toFloat())}}})}}),$i=at({log1p_:function(e){var t=ot(e,"x","log1p");return _e.engine.runKernel(function(e){return e.log1p(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(t.add(ht(1)))}}})}}),Zi=at({logSigmoid_:function(e){var t=ot(e,"x","logSigmoid");return _e.engine.runKernel(function(e){return e.softplus(t.neg()).neg()},{$x:t},function(e){return{$x:function(){return e.mulStrict(t.neg().sigmoid())}}})}}),Qi=at({neg_:function(e){var t=ot(e,"x","neg");return _e.engine.runKernel(function(e){return e.neg(t)},{$x:t},function(e){return{$x:function(){return e.neg()}}})}}),Ji=at({reciprocal_:function(e){var t=ot(e,"x","reciprocal");return _e.engine.runKernel(function(e){return e.reciprocal(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(t.square().neg())}}})}}),ea=at({round_:function(e){var t=ot(e,"x","round");return _e.engine.runKernel(function(e){return e.round(t)},{$x:t},function(e){return{$x:function(){return Nt(e)}}})}}),ta=at({rsqrt_:function(e){var t=ot(e,"x","rsqrt");return _e.engine.runKernel(function(e){return e.rsqrt(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(t.pow(ht(1.5)).mul(ht(2))).neg()}}})}}),na=at({sigmoid_:function(e){var t=ot(e,"x","sigmoid");return _e.engine.runKernel(function(e,n){return n(e.sigmoid(t))},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mulStrict(n.mul(ht(1).sub(n)))}}})}}),ra=at({sign_:function(e){var t=ot(e,"x","sign");return _e.engine.runKernel(function(e){return e.sign(t)},{$x:t},function(e){return{$x:function(){return Nt(e)}}})}}),oa=at({sin_:function(e){var t=ot(e,"x","sin");return _e.engine.runKernel(function(e){return e.sin(t)},{$x:t},function(e){return{$x:function(){return t.toFloat().cos().mulStrict(e)}}})}}),ia=at({sinh_:function(e){var t=ot(e,"x","sinh");return _e.engine.runKernel(function(e){return e.sinh(t)},{$x:t},function(e){return{$x:function(){return t.toFloat().cosh().mulStrict(e)}}})}}),aa=at({softplus_:function(e){var t=ot(e,"x","softplus");return _e.engine.runKernel(function(e){return e.softplus(t)},{$x:t},function(e){return{$x:function(){return e.mulStrict(t.sigmoid())}}})}}),sa=at({sqrt_:function(e){var t=ot(e,"x","sqrt");return _e.engine.runKernel(function(e){return e.sqrt(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(t.toFloat().sqrt().mul(ht(2)))}}})}}),la=at({square_:function(e){var t=ot(e,"x","square");return _e.engine.runKernel(function(e){return e.square(t)},{$x:t},function(e){return{$x:function(){return e.mulStrict(t.toFloat().mul(ht(2)))}}})}}),ua=at({step_:function(e,t){void 0===t&&(t=0);var n=ot(e,"x","step");return _e.engine.runKernel(function(e){return e.step(n,t)},{$x:n},function(e){return{$x:function(){return Nt(e)}}})}}),ca=at({tan_:function(e){var t=ot(e,"x","tan");return _e.engine.runKernel(function(e){return e.tan(t)},{$x:t},function(e){return{$x:function(){return e.divStrict(t.cos().square())}}})}}),da=at({tanh_:function(e){var t=ot(e,"x","tanh");return _e.engine.runKernel(function(e,n){return n(e.tanh(t))},{$x:t},function(e,t){var n=t[0];return{$x:function(){return ht(1).sub(n.square()).mulStrict(e)}}})}});function fa(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}var ha=at({batchNormalization2d_:function(e,t,n,r,o,i){void 0===r&&(r=.001);var a,s,l=ot(e,"x","batchNormalization"),u=ot(t,"mean","batchNormalization"),c=ot(n,"variance","batchNormalization");return null!=o&&(a=ot(o,"scale","batchNormalization")),null!=i&&(s=ot(i,"offset","batchNormalization")),b(2===l.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+l.rank+"."),b(2===u.rank||1===u.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."),b(2===c.rank||1===c.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."),null!=a&&b(2===a.rank||1===a.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."),null!=s&&b(2===s.rank||1===s.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."),ga(l,u,c,r,a,s)}}),pa=at({batchNormalization3d_:function(e,t,n,r,o,i){void 0===r&&(r=.001);var a,s,l=ot(e,"x","batchNormalization"),u=ot(t,"mean","batchNormalization"),c=ot(n,"variance","batchNormalization");return null!=o&&(a=ot(o,"scale","batchNormalization")),null!=i&&(s=ot(i,"offset","batchNormalization")),b(3===l.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+l.rank+"."),b(3===u.rank||1===u.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."),b(3===c.rank||1===c.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."),null!=a&&b(3===a.rank||1===a.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."),null!=s&&b(3===s.rank||1===s.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."),ga(l,u,c,r,a,s)}}),ma=at({batchNormalization4d_:function(e,t,n,r,o,i){void 0===r&&(r=.001);var a,s,l=ot(e,"x","batchNormalization"),u=ot(t,"mean","batchNormalization"),c=ot(n,"variance","batchNormalization");return null!=o&&(a=ot(o,"scale","batchNormalization")),null!=i&&(s=ot(i,"offset","batchNormalization")),b(4===l.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+l.rank+"."),b(4===u.rank||1===u.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."),b(4===c.rank||1===c.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."),null!=a&&b(4===a.rank||1===a.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."),null!=s&&b(4===s.rank||1===s.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."),ga(l,u,c,r,a,s)}}),ga=at({batchNormalization_:function(e,t,n,r,o,i){void 0===r&&(r=.001);var a,s,l,u=ot(e,"x","batchNormalization"),c=ot(t,"mean","batchNormalization"),d=ot(n,"variance","batchNormalization");return null!=o&&(a=ot(o,"scale","batchNormalization")),null!=i&&(s=ot(i,"offset","batchNormalization")),b(c.rank===d.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),b(null==s||c.rank===s.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),b(null==a||c.rank===a.rank,"Batch normalization gradient requires mean and scale to have equal ranks."),l=0===u.rank||1===u.rank?u.as4D(1,1,1,u.size):2===u.rank?u.as4D(1,1,u.shape[0],u.shape[1]):3===u.rank?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u,_e.engine.runKernel(function(e){return e.batchNormalization(l,fa(c),fa(d),r,fa(a),fa(s))},{$x:u,$mean:c,$variance:d,$scale:a,$offset:s},function(e){var t=null==a?ht(1):a,n=Zt(c.shape,l.shape),o=[];if(1===c.rank){for(var i=0;i<l.shape.length-1;++i)o.push(l.shape[i]);o.push(1)}var s=u.sub(c),f=e.mul(t),h=ta(d.add(ht(r))),p=h.mul(h).mul(h).mul(ht(-.5));return{$x:function(){return 1===c.rank?e.mul(Ai(h.as4D(1,1,1,c.shape[0]),o)).mul(t).reshape(u.shape):e.mul(h).mul(t).reshape(u.shape)},$mean:function(){var e=h.mul(ht(-1)).mul(f);return 1===c.rank&&(e=e.sum(n)),e.reshape(c.shape)},$variance:function(){var e=p.mul(s).mul(f);return 1===c.rank&&(e=e.sum(n)),e.reshape(c.shape)},$scale:function(){var t=s.mul(h),r=e.mul(t);return 1===c.rank&&(r=r.sum(n)),r.reshape(c.shape)},$offset:function(){var t=e;return 1===c.rank&&(t=t.sum(n)),t.reshape(c.shape)}}}).reshape(u.shape)}});function va(e,t,n,r,o,i,a){void 0===a&&(a="channelsLast");var s,l=ba(t),u=l[0],c=l[1];if("channelsLast"===a)s=[u,c,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[u,c,e[1],e[1]]}return ya(e,s,n,r,o,i,!1,a)}function ya(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var l=[-1,-1,-1,-1],u=l[0],c=l[1],d=l[2],f=l[3];if("channelsLast"===s)u=e[0],c=e[1],d=e[2],f=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);u=e[0],f=e[1],c=e[2],d=e[3]}var h,p=t[0],m=t[1],g=t[3],v=ba(n),y=v[0],_=v[1],x=ba(r),w=x[0],k=x[1],E=_a(p,w),A=_a(m,k),S=function(e,t,n,r,o,i,a,s){var l,u,c;if("number"==typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var d=function(e,t,n,r,o,i){null==o&&(o=function(e,t,n,r){void 0===r&&(r=1);var o=_a(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}(e,t,r));var a=e[0],s=e[1],l=xa((a-t+2*o)/r+1,i);b(T(l),"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters");var u=xa((s-t+2*o)/r+1,i);return b(T(u),"The output # of columns ("+u+") must be an integer. Change the stride and/or zero pad parameters"),[l,u,n]}([t,n,1],i,1,r,e,s);u=d[0],c=d[1]}else if("same"===e){var f=((u=Math.ceil(t/r))-1)*r+i-t,h=((c=Math.ceil(n/o))-1)*o+a-n,p=Math.floor(f/2),m=f-p,g=Math.floor(h/2);l={top:p,bottom:m,left:g,right:h-g,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-i+1)/r),c=Math.ceil((n-a+1)/o)}return{padInfo:l,outHeight:u,outWidth:c}}(o,c,d,y,_,E,A,i),M=S.padInfo,C=S.outHeight,j=S.outWidth,O=a?g*f:g;return"channelsFirst"===s?h=[u,O,C,j]:"channelsLast"===s&&(h=[u,C,j,O]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:d,inChannels:f,outHeight:C,outWidth:j,outChannels:O,padInfo:M,strideHeight:y,strideWidth:_,filterHeight:p,filterWidth:m,effectiveFilterHeight:E,effectiveFilterWidth:A,dilationHeight:w,dilationWidth:k,inShape:e,outShape:h,filterShape:t}}function ba(e){return"number"==typeof e?[e,e]:e}function _a(e,t){return t<=1?e:e+(e-1)*(t-1)}function xa(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function wa(e){var t=ba(e),n=t[0],r=t[1];return 1===n&&1===r}function ka(e,t){return wa(e)||wa(t)}var Ea=at({matMul_:function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o=ot(e,"a","matMul"),i=ot(t,"b","matMul"),a=n?o.shape[o.rank-2]:o.shape[o.rank-1],s=r?i.shape[i.rank-1]:i.shape[i.rank-2],l=n?o.shape[o.rank-1]:o.shape[o.rank-2],u=r?i.shape[i.rank-2]:i.shape[i.rank-1],c=o.shape.slice(0,-2),d=i.shape.slice(0,-2),f=k(c),h=k(d);b(o.rank>=2&&i.rank>=2&&o.rank===i.rank,"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+i.rank+"."),b(E(c,d),"Error in matMul: outer dimensions ("+c+") and ("+d+") of Tensors with shapes "+o.shape+" and "+i.shape+" must match."),b(a===s,"Error in matMul: inner shapes ("+a+") and ("+s+") of Tensors with shapes "+o.shape+" and "+i.shape+" and transposeA="+n+" and transposeB="+r+" must match.");var p=o.shape.slice(0,-2).concat([l,u]),m=n?o.as3D(f,a,l):o.as3D(f,l,a),g=r?i.as3D(h,u,s):i.as3D(h,s,u);return _e.engine.runKernel(function(e){return e.batchMatMul(m,g,n,r)},{$a:m,$b:g},function(e){return n||r?!n&&r?{$a:function(){return e.matMul(g.toFloat(),!1,!1)},$b:function(){return e.matMul(m.toFloat(),!0,!1)}}:n&&!r?{$a:function(){return g.toFloat().matMul(e,!1,!0)},$b:function(){return m.toFloat().matMul(e,!1,!1)}}:{$a:function(){return g.toFloat().matMul(e,!0,!0)},$b:function(){return e.matMul(m.toFloat(),!0,!0)}}:{$a:function(){return e.matMul(g.toFloat(),!1,!0)},$b:function(){return m.toFloat().matMul(e,!0,!1)}}}).reshape(p)}}),Ta=at({dot_:function(e,t){var n=ot(e,"t1","dot"),r=ot(t,"t2","dot");b(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+".");var o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];return b(o===i,"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+i+"."),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Aa=at({outerProduct_:function(e,t){var n=ot(e,"v1","outerProduct"),r=ot(t,"v2","outerProduct");return b(1===n.rank&&1===r.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."),n.as2D(-1,1).matMul(r.as2D(1,-1))}});function Sa(e,t,n,r,o,i){b(e.length===t.rank,"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match");var a=e,s=t,l=!1;3===t.rank&&(l=!0,s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),a=[1,e[0],e[1],e[2]]);var u=a[3],c=s.shape[3];b(4===a.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+a.length+"."),b(4===s.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank),b(4===n.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank),b(u===n.shape[2],"Error in conv2dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[2]+"."),b(c===n.shape[3],"Error in conv2dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[3]+"."),null!=i&&b(T(o),"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+".");var d=ya(a,n.shape,r,1,o,i),f=_e.engine.runKernel(function(e){return e.conv2dDerInput(s,n,d)},{dy4D:s,filter:n},function(e){return{dy4D:function(){return ja(e,n,r,o,"NHWC",1,i)},filter:function(){return Oa(e,s,n.shape,r,o,i)}}});return l?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function Ma(e,t,n,r,o,i){var a=e;3===e.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=t;3===s.rank&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),b(4===a.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+a.shape+"."),b(4===s.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+s.shape+"."),b(4===n.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."),b(a.shape[3]===n[2],"Error in conv2dDerFilter: depth of input "+a.shape[3]+") must match input depth in filter ("+n[2]+"."),b(s.shape[3]===n[3],"Error in conv2dDerFilter: depth of dy ("+s.shape[3]+") must match output depth for filter ("+n[3]+")."),null!=i&&b(T(o),"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+".");var l=ya(a.shape,n,r,1,o,i);return _e.engine.runKernel(function(e){return e.conv2dDerFilter(a,s,l)},{x4D:a,dy4D:s})}var Ca=at({conv1d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NWC"),void 0===i&&(i=1);var s=ot(e,"x","conv1d"),l=ot(t,"filter","conv1d"),u=s,c=!1;2===s.rank&&(c=!0,u=s.as3D(1,s.shape[0],s.shape[1])),b(3===u.rank,"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."),b(3===l.rank,"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."),null!=a&&b(T(r),"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."),b(u.shape[2]===l.shape[1],"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+l.shape[1]+"."),b(ka(n,i),"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"),b("NWC"===o,"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported.");var d=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),f=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),h=ja(f,d,[1,n],r,"NHWC",[1,i],a);return c?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),ja=at({conv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=ot(e,"x","conv2d"),l=ot(t,"filter","conv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),b(4===u.rank,"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."),b(4===l.rank,"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."),null!=a&&b(T(r),"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."),b(u.shape[3]===l.shape[2],"Error in conv2d: depth of input ("+u.shape[3]+") must match input depth for filter "+l.shape[2]+"."),b(ka(n,i),"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"),b("NHWC"===o,"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported.");var d,f=ya(u.shape,l.shape,n,i,r,a);if(1!==f.filterHeight||1!==f.filterWidth||1!==f.dilationHeight||1!==f.dilationWidth||1!==f.strideHeight||1!==f.strideWidth||"SAME"!==f.padInfo.type&&"VALID"!==f.padInfo.type)d=_e.engine.runKernel(function(e){return e.conv2d(u,l,f)},{x:u,$filter:l},function(e){return b(wa(i),"Error in gradient of conv2D: dilation rates greater than 1 are notyet supported in gradients. Got dilations '"+i+"'"),{x:function(){return Sa(u.shape,e,l,n,r)},$filter:function(){return Ma(u,e,l.shape,n,r)}}});else{var h=u.reshape([-1,f.inChannels]),p=l.reshape([f.inChannels,f.outChannels]);d=Ea(h,p).reshape(f.outShape)}return c?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}}),Oa=at({conv2dDerFilter_:Ma}),Na=at({depthwiseConv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=ot(e,"x","depthwiseConv2d"),l=ot(t,"filter","depthwiseConv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),b(4===u.rank,"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."),b(4===l.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."),b(u.shape[3]===l.shape[2],"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."),null==i&&(i=[1,1]),b(ka(n,i),"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"),null!=a&&b(T(r),"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+".");var d=ya(u.shape,l.shape,n,i,r,a,!0),f=_e.engine.runKernel(function(e){return e.depthwiseConv2D(u,l,d)},{x:u,$filter:l},function(e){return b(wa(i),"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"),{x:function(){return function(e,t,n,r){var o=t,i=!1;3===t.rank&&(i=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=_e.engine.runKernel(function(e){return e.depthwiseConv2DDerInput(o,n,r)},{dy4D:o});return i?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}(u.shape,e,l,d)},$filter:function(){return function(e,t,n,r){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return 3===i.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),_e.engine.runKernel(function(e){return e.depthwiseConv2DDerFilter(o,i,r)},{x4D:o,dy4D:i})}(u,e,l.shape,d)}}});return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),Ra=at({separableConv2d_:function(e,t,n,r,o,i,a){void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC");var s=ot(e,"x","separableConv2d"),l=ot(t,"depthwiseFilter","separableConv2d"),u=ot(n,"pointwiseFilter","separableConv2d"),c=s,d=!1;if(3===s.rank&&(d=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");b(4===c.rank,"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."),b(4===l.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."),b(4===u.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."),b(1===u.shape[0],"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."),b(1===u.shape[1],"Error in separableConv2d: the second dimension of pointwise filter  must be 1, but got "+u.shape[1]+".");var f=l.shape[2],h=l.shape[3];b(u.shape[2]===f*h,"Error in separableConv2d: the third dimension of pointwise filter must be "+f*h+", but got "+u.shape[2]+".");var p=Na(c,l,r,o,a,i),m=ja(p,u,1,"valid",a);return d?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),Pa=at({conv2dTranspose_:function(e,t,n,r,o,i){return Sa(n,ot(e,"x","conv2dTranspose"),ot(t,"filter","conv2dTranspose"),r,o,i)}});var Ia=at({reverse_:function(e,t){var n=ot(e,"x","reverse");if(0===n.rank)return n.clone();var r=Ve(t,n.shape);return _e.engine.runKernel(function(e){return e.reverse(n,r)},{$x:n},function(e){return{$x:function(){return e.reverse(r)}}}).reshapeAs(n)}}),Da=at({reverse1d_:function(e){var t=ot(e,"x","reverse");return b(1===t.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+t.rank+"."),Ia(t,0)}}),La=at({reverse2d_:function(e,t){var n=ot(e,"x","reverse");return b(2===n.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+n.rank+"."),Ia(n,t)}}),Ba=at({reverse3d_:function(e,t){var n=ot(e,"x","reverse");return b(3===n.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+n.rank+"."),Ia(n,t)}}),Fa=at({reverse4d_:function(e,t){var n=ot(e,"x","reverse");return b(4===n.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+n.rank+"."),Ia(n,t)}});function za(e,t,n,r,o,i){var a=ot(e,"x","maxPool"),s=a,l=!1;3===a.rank&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),b(4===s.rank,"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."),b(ka(n,r),"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"),null!=i&&b(T(o),"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+".");var u=va(s.shape,t,n,r,o,i),c=_e.engine.runKernel(function(e,t){return t(e.maxPool(s,u))},{x:s},function(e,i){var a=i[0];return{x:function(){return function(e,t,n,r,o,i,a,s){var l=ot(e,"dy","maxPoolBackprop"),u=ot(t,"input","maxPoolBackprop"),c=ot(n,"output","maxPoolBackprop");b(u.rank===l.rank,"Rank of input ("+u.rank+") does not match rank of dy ("+l.rank+")"),null==i&&(i=[1,1]),b(ka(o,i),"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"),b(4===l.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."),b(4===u.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+u.rank+"."),null!=s&&b(T(a),"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+".");var d=va(u.shape,r,o,i,a,s);return _e.engine.runKernel(function(e){return e.maxPoolBackprop(l,u,c,d)},{$dy:l,$input:u})}(e,s,a,t,n,r,o)}}});return l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function Ua(e,t,n,r,o,i){var a=ot(e,"x","avgPool");b("float32"===a.dtype,"The input dtype to avgPool must be float32"),null==r&&(r=[1,1]),b(ka(n,r),"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'");var s=a,l=!1;3===a.rank&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),b(4===s.rank,"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."),null!=i&&b(T(o),"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+".");var u=va(s.shape,t,n,r,o),c=_e.engine.runKernel(function(e){return e.avgPool(s,u)},{x:s},function(e){return{x:function(){return function(e,t,n,r,o,i){var a=ot(e,"dy","avgPoolBackprop"),s=ot(t,"input","avgPoolBackprop");b(s.rank===a.rank,"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"),null==o&&(o=[1,1]),b(ka(r,o),"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'");var l=s,u=a,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),u=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),b(4===u.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."),b(4===l.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+l.rank+".");var d=va(l.shape,n,r,o,i),f=_e.engine.runKernel(function(e){return e.avgPoolBackprop(u,l,d)},{dy4D:u,input4D:l});return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}(e,s,t,n,r,o)}}});return c=c.cast(a.dtype),l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var qa=at({maxPool_:function(e,t,n,r,o){return za(e,t,n,1,r,o)}}),Va=at({avgPool_:function(e,t,n,r,o){return Ua(e,t,n,1,r,o)}}),Ha=at({pool_:function(e,t,n,r,o,i){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");var a=ot(e,"x","maxPool"),s=a,l=!1;3===a.rank&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),b(ka(i,o),"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'");var u,c=va(s.shape,t,i,o,r),d=[c.dilationHeight,c.dilationWidth];u="same"===r?function(e,t){var n=e.map(function(e,n){return e+(e-1)*(t[n]-1)}).map(function(e){return e-1}),r=n.map(function(e){return Math.floor(e/2)}),o=n.map(function(e,t){return e-r[t]});return n.map(function(e,t){return[r[t],o[t]]})}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];var f=1===d[0]&&1===d[1],h=function(e,t,n){var r=n.map(function(e){return e[0]}),o=n.map(function(e){return e[1]}),i=e.concat(r,o),a=t.map(function(e,t){return(e-i[t]%e)%e}),s=o.map(function(e,t){return e+a[t]});return[t.map(function(e,t){return[r[t],s[t]]}),t.map(function(e,t){return[0,a[t]]})]}([c.inHeight,c.inWidth],d,u),p=h[0],m=h[1],g=f?r:"valid",v=f?s:ki(s,d,p),y=("avg"===n?function(){return Ua(v,t,i,1,g)}:function(){return za(v,t,i,1,g)})(),_=f?y:oi(y,d,m);return l?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}});var Wa=at({slice_:function(e,t,n){var r,o,i=ot(e,"x","slice");if(0===i.rank)throw new Error("Slicing scalar is not possible");r="number"==typeof t?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice(),o=(o=null==n?new Array(i.rank).fill(-1):"number"==typeof n?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map(function(e,t){return e>=0?e:(b(-1===e,"Bad value in size"),i.shape[t]-r[t])}),function(e,t,n){b(e.rank===t.length,"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."),b(e.rank===n.length,"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+").");for(var r=0;r<e.rank;++r)b(t[r]+n[r]<=e.shape[r],"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")")}(i,r,o);var a=i.shape;return _e.engine.runKernel(function(e){return e.slice(i,r,o)},{$x:i},function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],a[n]-r[n]-o[n]]);return{$x:function(){return e.pad(t)}}})}}),Ga=at({slice1d_:function(e,t,n){var r=ot(e,"x","slice1d");return b(1===r.rank,"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"),Wa(r,[t],[n])}}),Xa=at({slice2d_:function(e,t,n){var r=ot(e,"x","slice2d");return b(2===r.rank,"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"),Wa(r,t,n)}}),Ka=at({slice3d_:function(e,t,n){var r=ot(e,"x","slice3d");return b(3===r.rank,"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"),Wa(r,t,n)}}),Ya=at({slice4d_:function(e,t,n){var r=ot(e,"x","slice4d");return b(4===r.rank,"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"),Wa(r,t,n)}});function $a(e,t,n,r,o){var i=t[0];return i.rank<n.rank&&(i=i.reshape(qe(i.shape,r))),e.rank<n.rank&&(e=e.reshape(qe(e.shape,r))),{$x:function(){var t=e.mul(n.equal(i).cast(e.dtype));return null==o?t:t.transpose(o)}}}var Za=at({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ot(e,"x","all","bool");b("bool"===r.dtype,"Error Tensor must be of type bool. Got: "+r.dtype);var o=Ve(t,r.shape),i=o,a=We(i,r.rank);null!=a&&(r=r.transpose(a),i=Xe(i.length,r.rank));var s=_e.engine.runKernel(function(e){return e.all(r,i)},{$x:r});if(n){var l=qe(s.shape,o);return s.reshape(l)}return s}}),Qa=at({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ot(e,"x","any","bool");b("bool"===r.dtype,"Error Tensor must be of type bool. Got: "+r.dtype);var o=Ve(t,r.shape),i=o,a=We(i,r.rank);null!=a&&(r=r.transpose(a),i=Xe(i.length,r.rank));var s=_e.engine.runKernel(function(e){return e.any(r,i)},{$x:r});if(n){var l=qe(s.shape,o);return s.reshape(l)}return s}}),Ja=at({argMax_:function(e,t){void 0===t&&(t=0);var n=ot(e,"x","argMax");null==t&&(t=0);var r=Ve(t,n.shape),o=We(r,n.rank);return null!=o&&(n=n.transpose(o),r=Xe(r.length,n.rank)),_e.engine.runKernel(function(e){return e.argMax(n,r[0])},{$x:n},function(e){return{$x:function(){return Nt(n)}}})}}),es=at({argMin_:function(e,t){void 0===t&&(t=0);var n=ot(e,"x","argMin");null==t&&(t=0);var r=Ve(t,n.shape),o=We(r,n.rank);return null!=o&&(n=n.transpose(o),r=Xe(r.length,n.rank)),_e.engine.runKernel(function(e){return e.argMin(n,r[0])},{$x:n},function(e){return{$x:function(){return Nt(n)}}})}}),ts=at({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ot(e,"x","logSumExp"),o=Ve(t,r.shape),i=r.max(o,!0),a=r.sub(i).exp().sum(o).log(),s=i.reshape(a.shape).add(a);if(n){var l=qe(s.shape,o);return s.reshape(l)}return s}}),ns=at({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ot(e,"x","max"),o=r,i=Ve(t,r.shape),a=i,s=We(a,r.rank);null!=s&&(r=r.transpose(s),a=Xe(a.length,r.rank));var l=_e.engine.runKernel(function(e,t){return t(e.max(r,a))},{$x:r},function(e,t){return $a(e,t,o,i,s)});if(n){var u=qe(l.shape,i);l=l.reshape(u)}return l}}),rs=at({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ot(e,"x","mean"),o=Ve(t,r.shape),i=k(Ue(r.shape,o)[1]);return Se(function(e){var r=ht(i);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return o.forEach(function(e){n[e]=1}),t.reshape(n).mul(_t(e.shape,"float32")).div(r)}}})(r)}}),os=at({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ot(e,"x","min"),o=r,i=Ve(t,r.shape),a=i,s=We(a,r.rank);null!=s&&(r=r.transpose(s),a=Xe(a.length,r.rank));var l=_e.engine.runKernel(function(e,t){return t(e.min(r,a))},{$x:r},function(e,t){return $a(e,t,o,i,s)});if(n){var u=qe(l.shape,i);l=l.reshape(u)}return l}}),is=at({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Ve(t,(e=ot(e,"x","moments")).shape),o=e.mean(r,n),i=o.shape;return n||(i=qe(o.shape,r)),{mean:o,variance:e.toFloat().sub(o.reshape(i)).square().mean(r,n)}}}),as=at({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ot(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=Ve(t,r.shape);return Se(function(e){var t=We(o,e.rank),r=o,i=e;null!=t&&(i=e.transpose(t),r=Xe(r.length,e.rank));var a=_e.engine.runKernel(function(e){return e.sum(i,r)},{permutedX:i});if(n){var s=qe(a.shape,o);a=a.reshape(s)}return{value:a,gradFunc:function(t){var n=e.shape.slice();return o.forEach(function(e){n[e]=1}),t.reshape(n).mul(_t(e.shape,"float32"))}}})(r)}}),ss=at({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ot(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var o=Ve(t,r.shape),i=We(o,r.rank),a=o,s=r;null!=i&&(s=r.transpose(i),a=Xe(a.length,r.rank));var l=_e.engine.runKernel(function(e){return e.prod(s,a)},{permutedX:s});if(n){var u=qe(l.shape,o);l=l.reshape(u)}return l}});var ls=at({equal_:function(e,t){var n=ot(e,"a","equal"),r=ot(t,"b","equal");return se(n,r),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.equal(n,r)},{$a:n,$b:r})}}),us=at({equalStrict_:function(e,t){var n=ot(e,"a","equalStrict"),r=ot(t,"b","equalStrict");return _(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),cs=at({greater_:function(e,t){var n=ot(e,"a","greater"),r=ot(t,"b","greater");return se(n,r),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.greater(n,r)},{$a:n,$b:r})}}),ds=at({greaterEqual_:function(e,t){var n=ot(e,"a","greaterEqual"),r=ot(t,"b","greaterEqual");return se(n,r),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.greaterEqual(n,r)},{$a:n,$b:r},function(e){return{$a:function(){return Nt(n)},$b:function(){return Nt(r)}}})}}),fs=at({greaterEqualStrict_:function(e,t){var n=ot(e,"a","greaterEqualStrict"),r=ot(t,"b","greaterEqualStrict");return _(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),hs=at({greaterStrict_:function(e,t){var n=ot(e,"a","greaterStrict"),r=ot(t,"b","greaterStrict");return _(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),ps=at({less_:function(e,t){var n=ot(e,"a","less"),r=ot(t,"b","less");return se(n,r),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.less(n,r)},{$a:n,$b:r})}}),ms=at({lessEqual_:function(e,t){var n=ot(e,"a","lessEqual"),r=ot(t,"b","lessEqual");return se(n,r),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.lessEqual(n,r)},{$a:n,$b:r})}}),gs=at({lessEqualStrict_:function(e,t){var n=ot(e,"a","lessEqualStrict"),r=ot(t,"b","lessEqualStrict");return _(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),vs=at({lessStrict_:function(e,t){var n=ot(e,"a","lessStrict"),r=ot(t,"b","lessStrict");return _(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),ys=at({notEqual_:function(e,t){var n=ot(e,"a","notEqual"),r=ot(t,"b","notEqual");return se(n,r),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.notEqual(n,r)},{$a:n,$b:r})}}),bs=at({notEqualStrict_:function(e,t){var n=ot(e,"a","notEqualStrict"),r=ot(t,"b","notEqualStrict");return _(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});var _s=at({add_:function(e,t){var n=ot(e,"a","add"),r=ot(t,"b","add");se(n,r);var o=Qt(n.shape,r.shape);return _e.engine.runKernel(function(e){return e.add(n,r)},{$a:n,$b:r},function(e){return{$a:function(){var t=e,r=Zt(n.shape,o);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},$b:function(){var t=e,n=Zt(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)}}})}}),xs=at({addN_:function(e){b(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),b(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(e,t){return ot(e,"tensors"+t,"addN")}),n=t[0];t.forEach(function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!E(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return _e.engine.runKernel(function(e){return e.addN(t)},r,function(e){var n={};return t.forEach(function(t,r){n[r]=function(){return e.clone()}}),n})}}),ws=at({addStrict_:function(e,t){return _(e.shape,t.shape,"Error in addStrict: "),e.add(t)}}),ks=at({atan2_:function(e,t){var n=ot(e,"a","atan2"),r=ot(t,"b","atan2");se(n,r);var o=Qt(n.shape,r.shape);return _e.engine.runKernel(function(e){return e.atan2(n,r)},{$a:n,$b:r},function(e){return{$a:function(){var t=_s(n.square(),r.square()),i=e.mul(r.div(t)),a=Zt(n.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(n.shape)},$b:function(){var t=_s(n.square(),r.square()),i=Qi(e.mul(n.div(t))),a=Zt(r.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(r.shape)}}})}}),Es=at({div_:function(e,t){var n,r=ot(e,"a","div"),o=ot(t,"b","div");if(se(r,o),"int32"===r.dtype&&"int32"===o.dtype)return As(r,o);n=function(e){return e.realDivide(r,o)};var i=Qt(r.shape,o.shape);return _e.engine.runKernel(n,{$a:r,$b:o},function(e){return{$a:function(){var t=e.div(o.toFloat()),n=Zt(r.shape,i);return n.length>0?t.sum(n).reshape(r.shape):t},$b:function(){var t=e.mul(r.toFloat()),n=Zt(o.shape,i);n.length>0&&(t=t.sum(n).reshape(o.shape));var a=o.square();return t.div(a.toFloat()).neg()}}})}}),Ts=at({divStrict_:function(e,t){return _(e.shape,t.shape,"Error in divideStrict: "),e.div(t)}}),As=at({floorDiv_:function(e,t){var n=ot(e,"a","floorDiv"),r=ot(t,"b","floorDiv");se(n,r);var o=Qt(n.shape,r.shape);return _e.engine.runKernel(function(e){return e.floorDiv(n,r)},{$a:n,$b:r},function(e){return{$a:function(){var t=e.div(r.toFloat()),i=Zt(n.shape,o);return i.length>0?t.sum(i).reshape(n.shape):t},$b:function(){var t=e.mul(n.toFloat()),i=Zt(r.shape,o);i.length>0&&(t=t.sum(i).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}})}}),Ss=at({maximum_:function(e,t){var n=ot(e,"a","maximum"),r=ot(t,"b","maximum");return se(n,r),"bool"===n.dtype&&(n=n.toInt()),"bool"===r.dtype&&(r=r.toInt()),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.maximum(n,r)},{$a:n,$b:r},function(e){return{$a:function(){return e.mul(n.greaterEqual(r).toFloat())},$b:function(){return e.mul(n.less(r).toFloat())}}})}}),Ms=at({maximumStrict_:function(e,t){return _(e.shape,t.shape,"Error in maximumStrict: "),e.maximum(t)}}),Cs=at({minimum_:function(e,t){var n=ot(e,"a","minimum"),r=ot(t,"b","minimum");return se(n,r),"bool"===n.dtype&&(n=n.toInt()),"bool"===r.dtype&&(r=r.toInt()),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.minimum(n,r)},{$a:n,$b:r},function(e){return{$a:function(){return e.mul(n.lessEqual(r).toFloat())},$b:function(){return e.mul(n.greater(r).toFloat())}}})}}),js=at({minimumStrict_:function(e,t){return _(e.shape,t.shape,"Error in minimumStrict: "),e.minimum(t)}}),Os=at({mod_:function(e,t){var n=ot(e,"a","mod"),r=ot(t,"b","mod");se(n,r);var o=Qt(n.shape,r.shape);return _e.engine.runKernel(function(e){return e.mod(n,r)},{$a:n,$b:r},function(e){return{$a:function(){var t=Zt(n.shape,o);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),i=Zt(r.shape,o);return i.length>0?t.sum(i).reshape(r.shape):t}}})}}),Ns=at({modStrict_:function(e,t){return _(e.shape,t.shape,"Error in modStrict: "),e.mod(t)}}),Rs=at({mul_:function(e,t){var n=ot(e,"a","mul"),r=ot(t,"b","mul");se(n,r);var o=Qt(n.shape,r.shape);return _e.engine.runKernel(function(e){return e.multiply(n,r)},{$a:n,$b:r},function(e){return{$a:function(){var t=e.mul(r.toFloat()),i=Zt(n.shape,o);return i.length>0?t.sum(i).reshape(n.shape):t},$b:function(){var t=e.mul(n.toFloat()),i=Zt(r.shape,o);return i.length>0?t.sum(i).reshape(r.shape):t}}})}}),Ps=at({mulStrict_:function(e,t){return _(e.shape,t.shape,"Error in multiplyStrict: "),e.mul(t)}}),Is=at({pow_:function(e,t){var n=ot(e,"base","pow"),r=ot(t,"exp","pow"),o=Qt(n.shape,r.shape);return e=n.cast(Pt(n.dtype,r.dtype)),t=r.cast(Pt(n.dtype,r.dtype)),_e.engine.runKernel(function(e,t){return t(e.pow(n,r))},{$base:n,$exp:r},function(e,t){var i=t[0];return{$base:function(){var t=r.toFloat(),i=e.mul(t.mul(n.pow(t.sub(ht(1))))),a=Zt(n.shape,o);return a.length>0&&(i=i.sum(a)),i.reshape(n.shape)},$exp:function(){var t=e.mul(i.mul(n.log()).toFloat()),a=Zt(r.shape,o);return a.length>0&&(t=t.sum(a)),t.reshape(r.shape)}}})}}),Ds=at({powStrict_:function(e,t){return _(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Ls=at({squaredDifference_:function(e,t){var n=ot(e,"a","squaredDifference"),r=ot(t,"b","squaredDifference");return se(n,r),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.squaredDifference(n,r)},{$a:n,$b:r},function(e){var t=ht(2);return{$a:function(){return e.mul(n.sub(r).mul(t))},$b:function(){return e.mul(r.sub(n).mul(t))}}})}}),Bs=at({squaredDifferenceStrict_:function(e,t){return _(e.shape,t.shape,"Error in squaredDifferenceStrict: "),e.squaredDifference(t)}}),Fs=at({sub_:function(e,t){var n=ot(e,"a","sub"),r=ot(t,"b","sub");se(n,r);var o=Qt(n.shape,r.shape);return _e.engine.runKernel(function(e){return e.subtract(n,r)},{$a:n,$b:r},function(e){return{$a:function(){var t=e,r=Zt(n.shape,o);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},$b:function(){var t=e,n=Zt(r.shape,o);return n.length>0&&(t=t.sum(n)),t.neg().reshape(r.shape)}}})}}),zs=at({subStrict_:function(e,t){return _(e.shape,t.shape,"Error in subStrict: "),e.sub(t)}});var Us=at({logicalAnd_:function(e,t){var n=ot(e,"a","logicalAnd","bool"),r=ot(t,"b","logicalAnd","bool");return b("bool"===n.dtype&&"bool"===r.dtype,"Error Array must be of type bool."),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.logicalAnd(n,r)},{$a:n,$b:r})}}),qs=at({logicalNot_:function(e){var t=ot(e,"x","logicalNot","bool");return b("bool"===t.dtype,"Error Array must be of type bool."),_e.engine.runKernel(function(e){return e.logicalNot(t)},{$x:t})}}),Vs=at({logicalOr_:function(e,t){var n=ot(e,"a","logicalOr","bool"),r=ot(t,"b","logicalOr","bool");return b("bool"===n.dtype&&"bool"===r.dtype,"Error Array must be of type bool."),Qt(n.shape,r.shape),_e.engine.runKernel(function(e){return e.logicalOr(n,r)},{$a:n,$b:r})}}),Hs=at({logicalXor_:function(e,t){var n=ot(e,"a","logicalXor","bool"),r=ot(t,"b","logicalXor","bool");return b("bool"===n.dtype&&"bool"===r.dtype,"Error Array must be of type bool."),Qt(n.shape,r.shape),Vs(e,t).logicalAnd(Us(e,t).logicalNot())}}),Ws=at({where_:function(e,t,n){var r=ot(t,"a","where"),o=ot(n,"b","where"),i=ot(e,"condition","where","bool");return b("bool"===i.dtype,"Error Condition must be of type bool."),_(r.shape,o.shape,"Error in where: "),1===i.rank?b(i.shape[0]===r.shape[0],"The first dimension of `a` must match the size of `condition`."):_(i.shape,o.shape,"Error in where: "),_e.engine.runKernel(function(e){return e.select(i,r,o)},{$condition:i,$a:r,$b:o},function(e){return{$condition:function(){return Nt(i)},$a:function(){return e.mul(i.cast(r.dtype))},$b:function(){return e.mul(i.logicalNot().cast(o.dtype))}}})}}),Gs=function(e){return u(this,void 0,void 0,function(){var t,n,r;return c(this,function(o){switch(o.label){case 0:return b("bool"===(t=ot(e,"condition","where","bool")).dtype,"Condition must be of type bool."),[4,t.data()];case 1:return n=o.sent(),r=ji(t.shape,n),e!==t&&t.dispose(),[2,r]}})})};var Xs=at({elu_:function(e){var t=ot(e,"x","elu");return _e.engine.runKernel(function(e,n){return n(e.elu(t))},{$x:t},function(e,t){var n=t[0];return{$x:function(){return _e.engine.runKernel(function(t){return t.eluDer(e,n)},{dy:e,y:n})}}})}}),Ks=at({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=ot(e,"x","leakyRelu");return Ss(ht(t).mul(n),n)}}),Ys=at({prelu_:function(e,t){var n=ot(e,"x","prelu"),r=ot(t,"alpha","prelu"),o=ht(0);return Ss(o,n).add(r.mul(Cs(o,n)))}}),$s=at({relu_:function(e){var t=ot(e,"x","relu");return"bool"===t.dtype?t.toInt():_e.engine.runKernel(function(e){return e.relu(t)},{$x:t},function(e){var n=t.step();return{$x:function(){return e.mulStrict(n.toFloat())}}})}}),Zs=at({selu_:function(e){var t=ot(e,"x","selu");return _e.engine.runKernel(function(e){return e.selu(t)},{$x:t},function(e){return{$x:function(){var n=t.greater(ht(0)),r=ht(So),o=ht(Mo),i=e.mul(o),a=e.mul(r).mul(t.toFloat().exp());return Ws(n,i,a)}}})}});var Qs=at({transpose_:function(e,t){var n=ot(e,"x","transpose");return null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),b(n.rank===t.length,"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."),t.forEach(function(e){b(e>=0&&e<n.rank,"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t)}),n.rank<=1?n.clone():_e.engine.runKernel(function(e){return e.transpose(n,t)},{$x:n},function(e){var n=Ge(t);return{$x:function(){return e.transpose(n)}}})}});var Js=at({localResponseNormalization_:function(e,t,n,r,o){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var i=ot(e,"x","localResponseNormalization");b(4===i.rank||3===i.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+i.rank+"."),b(T(t),"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+t+".");var a=i,s=!1;3===i.rank&&(s=!0,a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var l=_e.engine.runKernel(function(e,i){return i(e.localResponseNormalization4D(a,t,n,r,o))},{x4D:a},function(e,i){var s=i[0];return{x4D:function(){return _e.engine.runKernel(function(i){return i.LRNGrad(e,a,s,t,n,r,o)},{})}}});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}});var el=at({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||r instanceof Array&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(ht(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(r instanceof Array&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=ot(e,"x","norm"),t,n),i=o.shape;if(r){var a=Ve(n,e.shape);i=qe(o.shape,a)}return o.reshape(i)}});function tl(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function nl(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var rl=at({gather_:function(e,t,n){void 0===n&&(n=0);var r=ot(e,"x","gather"),o=ot(t,"indices","gather","int32");return b("int32"===o.dtype,"Indices must be of dtype `int32`"),n=Ve(n,r.shape)[0],_e.engine.runKernel(function(e){return e.gather(r,o,n)},{$x:r},function(e){return{$x:function(){if(0===n)return ol(e,o,r.shape[n]);var t=r.shape,i=o.size,a=t.slice(0,n),s=a.length,l=t.slice(n,t.length).slice(1),u=l.length,c=tl(0,s),d=tl(s+1,s+1+u),f=nl([a,[i],l]),h=e.reshape(f),p=o.reshape([i]),m=nl([[s],c,d]),g=h.transpose(m),v=ol(g,p,r.shape[n]),y=Ge(m);return v.transpose(y)}}})}}),ol=at({unsortedSegmentSum_:function(e,t,n){var r=ot(e,"x","unsortedSegmentSum"),o=ot(t,"segmentIds","unsortedSegmentSum","int32");return b("int32"===o.dtype,"segmentIds must be of dtype `int32`"),b(T(n),"numSegments must be of dtype int"),_e.engine.runKernel(function(e){return e.unsortedSegmentSum(r,o,n)},{$x:r},function(e){return{$x:function(){return function(e,t){for(var n=Ss(t,Nt(t)),r=rl(e,n),o=ds(t,ht(0,"int32")),i=r.rank-o.rank,a=0;a<i;++a)o=ui(o,a+1);o=Us(o,_t(r.shape,"bool"));var s=Nt(r);return Ws(o,r,s)}(e,o)}}})}});var il=at({basicLSTMCell_:function(e,t,n,r,o,i){var a=ot(e,"forgetBias","basicLSTMCell"),s=ot(t,"lstmKernel","basicLSTMCell"),l=ot(n,"lstmBias","basicLSTMCell"),u=ot(r,"data","basicLSTMCell"),c=ot(o,"c","basicLSTMCell"),d=ot(i,"h","basicLSTMCell"),f=u.concat(d,1).matMul(s).add(l),h=f.shape[0],p=f.shape[1]/4,m=[h,p],g=f.slice([0,0],m),v=f.slice([0,p],m),y=f.slice([0,2*p],m),b=f.slice([0,3*p],m),_=g.sigmoid().mulStrict(v.tanh()).addStrict(c.mulStrict(a.add(y).sigmoid()));return[_,_.tanh().mulStrict(b.sigmoid())]}}),al=at({multiRNNCell_:function(e,t,n,r){for(var o=ot(t,"data","multiRNNCell"),i=it(n,"c","multiRNNCell"),a=it(r,"h","multiRNNCell"),s=o,l=[],u=0;u<e.length;u++){var c=e[u](s,i[u],a[u]);l.push(c[0]),l.push(c[1]),s=c[1]}var d=[],f=[];for(u=0;u<l.length;u+=2)d.push(l[u]),f.push(l[u+1]);return[d,f]}});var sl=at({movingAverage_:function(e,t,n,r,o){void 0===o&&(o=!0);var i=ot(e,"v","movingAverage"),a=ot(t,"x","movingAverage"),s=ot(n,"decay","movingAverage");se(i,a),b(E(i.shape,a.shape),"Shape mismatch in v and x");var l=ht(1),u=l.sub(s),c=a.sub(i).mul(u);if(o){b(null!=r,"When using zeroDebias: true, step is required.");var d=ot(r,"step","movingAverage");c=c.div(l.sub(Is(s,d)))}return i.add(c)}});var ll=at({stridedSlice_:function(e,t,n,r,o,i,a,s,l){if(void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),0!==a)throw new Error("ellipsis mask is not yet supported");if(0!==s)throw new Error("new axis mask is not yet supported");var u=ot(e,"x","stridedSlice");return _e.engine.runKernel(function(e){return e.stridedSlice(u,t,n,r,o,i,a,s,l)},{$x:u})}});var ul=at({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=ot(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var i=_e.engine.runKernel(function(e){return e.topk(r,t,n)},{$x:r});return{values:i[0],indices:i[1]}}});var cl=at({scatterND_:function(e,t,n){var r=ot(e,"indices","scatterND","int32"),o=ot(t,"updates","scatterND");return Qe(o,r,n),_e.engine.runKernel(function(e){return e.scatterND(r,o,n)},{$indices:r,$updates:o})}});var dl=at({fft_:function(e){b("complex64"===e.dtype,"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+".");var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return _e.engine.runKernel(function(e){return e.fft(r)},{input:e}).reshape(e.shape)}}),fl=at({ifft_:function(e){b("complex64"===e.dtype,"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+".");var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return _e.engine.runKernel(function(e){return e.ifft(r)},{input:e}).reshape(e.shape)}}),hl=at({rfft_:function(e){b("float32"===e.dtype,"The dtype for rfft() must be real value but\n    got "+e.dtype);var t=e.shape[e.shape.length-1],n=e.size/t,r=e.zerosLike(),o=ut(e,r).as2D(n,t),i=_e.engine.runKernel(function(e){return e.fft(o)},{complexInput:o}),a=Math.floor(t/2)+1,s=ct(i),l=dt(i),u=s.split([a,t-a],s.shape.length-1),c=l.split([a,t-a],l.shape.length-1),d=e.shape.slice();return d[e.shape.length-1]=a,ut(u[0],c[0]).reshape(d)}}),pl=at({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=_e.engine.runKernel(function(e){return e.ifft(r)},{complexInput:r});return ct(o)}var i=[n,2*(t-1)],a=ct(e).as2D(n,t),s=dt(e).as2D(n,t),l=a.slice([0,1],[n,t-2]).reverse(1),u=s.slice([0,1],[n,t-2]).reverse(1).mul(ht(-1)),c=a.concat(l,1),d=s.concat(u,1),f=ut(c,d).as2D(i[0],i[1]);return o=_e.engine.runKernel(function(e){return e.ifft(f)},{complexInput:f}),ct(o)}}),ml=Object.freeze({fft:dl,ifft:fl,rfft:hl,irfft:pl});var gl=at({sparseToDense_:function(e,t,n,r){var o=ot(e,"sparseIndices","sparseToDense","int32"),i=ot(t,"sparseValues","sparseToDense"),a=ot(r,"defaultValue","sparseToDense",i.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+i+".");var a=t.size;if(0!==t.rank&&(1!==t.rank||a!==o))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+o+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a),_e.engine.runKernel(function(e){return e.sparseToDense(o,i,n,a)},{$sparseIndices:o,$sparseValues:i,$defaultValue:a})}});var vl,yl=at({gatherND_:function(e,t){var n=ot(t,"indices","gatherND","int32"),r=ot(e,"x","gatherND");return _e.engine.runKernel(function(e){return e.gatherND(r,n)},{$x:r,$indices:n})}});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(vl||(vl={}));var bl=at({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=vl.SUM_BY_NONZERO_WEIGHTS);var o=ot(e,"labels","absoluteDifference"),i=ot(t,"predictions","absoluteDifference"),a=null;null!=n&&(a=ot(n,"weights","absoluteDifference")),_(o.shape,i.shape,"Error in absoluteDifference: ");var s=o.sub(i).abs();return _l(s,a,r)}}),_l=at({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=vl.SUM_BY_NONZERO_WEIGHTS);var r=ot(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=ot(t,"weights","computeWeightedLoss"));var i=null==o?r:r.mul(o);if(n===vl.NONE)return i;if(n===vl.SUM)return i.sum();if(n===vl.MEAN){if(null==o)return i.mean();var a=k(r.shape)/k(o.shape),s=i.sum().div(o.sum());return a>1?s.div(ht(a)):s}if(n===vl.SUM_BY_NONZERO_WEIGHTS){if(null==o)return i.sum().div(ht(r.size));var l=o.mul(_t(r.shape)).notEqual(ht(0)).sum().toFloat();return i.sum().div(l)}throw Error("Unknown reduction: "+n)}}),xl=at({cosineDistance_:function(e,t,n,r,o){void 0===o&&(o=vl.SUM_BY_NONZERO_WEIGHTS);var i=ot(e,"labels","cosineDistance"),a=ot(t,"predictions","cosineDistance"),s=null;null!=r&&(s=ot(r,"weights","cosineDistance")),_(i.shape,a.shape,"Error in cosineDistance: ");var l=ht(1).sub(i.mul(a).sum(n,!0));return _l(l,s,o)}}),wl=at({hingeLoss_:function(e,t,n,r){void 0===r&&(r=vl.SUM_BY_NONZERO_WEIGHTS);var o=ot(e,"labels","hingeLoss"),i=ot(t,"predictions","hingeLoss"),a=null;null!=n&&(a=ot(n,"weights","hingeLoss")),_(o.shape,i.shape,"Error in hingeLoss: ");var s=ht(1);o=ht(2).mul(o).sub(s);var l=s.sub(o.mul(i)).relu();return _l(l,a,r)}}),kl=at({huberLoss_:function(e,t,n,r,o){void 0===r&&(r=1),void 0===o&&(o=vl.SUM_BY_NONZERO_WEIGHTS);var i=ot(e,"labels","huberLoss"),a=ot(t,"predictions","huberLoss"),s=null;null!=n&&(s=ot(n,"weights","huberLoss")),_(i.shape,a.shape,"Error in huberLoss: ");var l=ht(r),u=a.sub(i).abs(),c=Cs(u,l),d=u.sub(c),f=ht(.5).mul(c.square()).add(l.mul(d));return _l(f,s,o)}}),El=at({logLoss_:function(e,t,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=vl.SUM_BY_NONZERO_WEIGHTS);var i=ot(e,"labels","logLoss"),a=ot(t,"predictions","logLoss"),s=null;null!=n&&(s=ot(n,"weights","logLoss")),_(i.shape,a.shape,"Error in logLoss: ");var l=ht(1),u=ht(r),c=i.mul(a.add(u).log()).neg().sub(l.sub(i).mul(l.sub(a).add(u).log()));return _l(c,s,o)}}),Tl=at({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=vl.SUM_BY_NONZERO_WEIGHTS);var o=ot(e,"labels","meanSquaredError"),i=ot(t,"predictions","meanSquaredError"),a=null;null!=n&&(a=ot(n,"weights","meanSquaredError")),_(o.shape,i.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(i);return _l(s,a,r)}}),Al=at({sigmoidCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=vl.SUM_BY_NONZERO_WEIGHTS);var i=ot(e,"multiClassLabels","sigmoidCrossEntropy"),a=ot(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=ot(n,"weights","sigmoidCrossEntropy")),_(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=ht(r),u=ht(1),c=ht(.5);i=i.mul(u.sub(l)).add(c.mul(l))}var d=function(e,t){var n=ot(e,"labels","sigmoidCrossEntropyWithLogits"),r=ot(t,"logits","sigmoidCrossEntropyWithLogits");_(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),i=r.mul(n),a=r.abs().neg().exp().log1p();return o.sub(i).add(a)}(i,a);return _l(d,s,o)}}),Sl=at({softmaxCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=vl.SUM_BY_NONZERO_WEIGHTS);var i=ot(e,"onehotLabels","softmaxCrossEntropy"),a=ot(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=ot(n,"weights","softmaxCrossEntropy")),_(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var l=ht(r),u=ht(1),c=ht(i.shape[1]);i=i.mul(u.sub(l)).add(l.div(c))}var d=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Se(function(e,t){var r=t.logSumExp([n],!0),o=t.toFloat().sub(r);return{value:o.mul(e).neg().sum([n]),gradFunc:function(t){var r=qe(t.shape,[n]);return[t.reshape(r).mul(e.toFloat().sub(o.exp())),t.reshape(r).mul(o.exp().sub(e.toFloat()))]}}})(e,t)}(i,a);return _l(d,s,o)}}),Ml=Object.freeze({get Reduction(){return vl},absoluteDifference:bl,computeWeightedLoss:_l,cosineDistance:xl,hingeLoss:wl,huberLoss:kl,logLoss:El,meanSquaredError:Tl,sigmoidCrossEntropy:Al,softmaxCrossEntropy:Sl});function Cl(e,t){return void 0===t&&(t=!1),_e.engine.tidy(function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=ci(n),i=e.clone(),a=mt([[1]],[1,1]),s=a.clone(),l=n>=r?r:n,u=function(e){var t,l=i,u=s,c=o;t=_e.engine.tidy(function(){var t=i.slice([e,e],[n-e,1]),l=t.norm(),u=i.slice([e,e],[1,1]),c=u.sign().neg(),d=u.sub(c.mul(l)),f=t.div(d);s=1===f.shape[0]?a.clone():a.concat(f.slice([1,0],[f.shape[0]-1,f.shape[1]]),0);var h=c.matMul(d).div(l).neg(),p=i.slice([e,0],[n-e,r]),m=h.mul(s);i=0===e?p.sub(m.matMul(s.transpose().matMul(p))):i.slice([0,0],[e,r]).concat(p.sub(m.matMul(s.transpose().matMul(p))),0);var g=o.slice([0,e],[n,o.shape[1]-e]);return o=0===e?g.sub(g.matMul(s).matMul(m.transpose())):o.slice([0,0],[n,e]).concat(g.sub(g.matMul(s).matMul(m.transpose())),1),[s,i,o]}),s=t[0],i=t[1],o=t[2],Oe([l,u,c])},c=0;c<l;++c)u(c);return!t&&n>r&&(o=o.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[o,i]})}var jl=at({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,b(null!=e&&e.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var n=e[0].shape[0],r=1;r<e.length;++r)b(e[r].shape[0]===n,"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[r].shape[0]+" vs. "+n+")")}else t=!0,e=Ho(e,e.shape[0],0).map(function(e){return Ei(e,[0])});b(e.length<=e[0].shape[0],"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+").");var o=[],i=e,a=function(e){o.push(_e.engine.tidy(function(){var t=i[e];if(e>0)for(var n=0;n<e;++n){var r=as(o[n].mulStrict(t)).mul(o[n]);t=t.sub(r)}return t.div(el(t,"euclidean"))}))};for(r=0;r<e.length;++r)a(r);return t?Ti(o,0):o}}),Ol=at({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return Cl(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),r=[],o=[];return Mi(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0).forEach(function(e){var n=Cl(e,t),i=n[0],a=n[1];r.push(i),o.push(a)}),[Ti(r,0).reshape(e.shape),Ti(o,0).reshape(e.shape)]}}),Nl=Object.freeze({gramSchmidt:jl,qr:Ol});function Rl(e,t,n,r,o){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY);var i=e.shape[0];return n=Math.min(n,i),b(0<=r&&r<=1,"iouThreshold must be in [0, 1], but was '"+r+"'"),b(2===e.rank,"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"),b(4===e.shape[1],"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]),b(1===t.rank,"scores must be a 1D tensor"),b(t.shape[0]===i,"scores has incompatible shape with boxes. Expected "+i+", but was "+t.shape[0]),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o}}var Pl=at({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=ot(e,"images","resizeBilinear");b(3===r.rank||4===r.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."),b(2===t.length,"Error in resizeBilinear: new shape must 2D, but got shape "+t+".");var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],l=_e.engine.runKernel(function(e,t){return e.resizeBilinear(o,a,s,n)},{batchImages:o},function(e,t){return{batchImages:function(){return _e.engine.runKernel(function(t){return t.resizeBilinearBackprop(e,o,n)},{})}}});return i?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),Il=at({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=ot(e,"images","resizeNearestNeighbor");b(3===r.rank||4===r.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."),b(2===t.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."),b("float32"===r.dtype||"int32"===r.dtype,"`images` must have `int32` or `float32` as dtype");var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],l=_e.engine.runKernel(function(e,t){return e.resizeNearestNeighbor(o,a,s,n)},{batchImages:o},function(e,t){return{batchImages:function(){return _e.engine.runKernel(function(t){return t.resizeNearestNeighborBackprop(e,o,n)},{})}}});return i?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),Dl=at({nonMaxSuppression_:function(e,t,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var i=ot(e,"boxes","nonMaxSuppression"),a=ot(t,"scores","nonMaxSuppression"),s=Rl(i,a,n,r,o);return n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,_e.engine.runKernel(function(e){return e.nonMaxSuppression(i,a,n,r,o)},{$boxes:i})}}),Ll=function(e,t,n,r,o){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,function(){var i,a,s,l,u,d;return c(this,function(c){switch(c.label){case 0:return i=ot(e,"boxes","nonMaxSuppressionAsync"),a=ot(t,"scores","nonMaxSuppressionAsync"),s=Rl(i,a,n,r,o),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,i.data()];case 1:return l=c.sent(),[4,a.data()];case 2:return u=c.sent(),d=Ht(l,u,n,r,o),i!==e&&i.dispose(),a!==t&&a.dispose(),[2,d]}})})},Bl=function(e,t,n,r,o,i){var a=ot(e,"image","cropAndResize","float32"),s=ot(t,"boxes","cropAndResize","float32"),l=ot(n,"boxInd","cropAndResize","int32");o=o||"bilinear",i=i||0;var u=s.shape[0];return b(4===a.rank,"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."),b(2===s.rank&&4===s.shape[1],"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+s.shape+"."),b(1===l.rank&&l.shape[0]===u,"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+s.shape+"."),b("int32"===l.dtype,"Error in cropAndResize: boxInd must be of dtype int32, but got dtype "+l.dtype+"."),b(2===r.length,"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."),b(r[0]>=1&&r[1]>=1,"cropSize must be atleast [1,1], but was "+r),b("bilinear"===o||"nearest"===o,"method must be bilinear or nearest, but was "+o),_e.engine.runKernel(function(e,t){return e.cropAndResize(a,s,l,r,o,i)},{$image:a,$boxes:s})},Fl=Object.freeze({resizeBilinear:Pl,resizeNearestNeighbor:Il,nonMaxSuppression:Dl,nonMaxSuppressionAsync:Ll,cropAndResize:Bl}),zl=Object.freeze({image:Fl,linalg:Nl,losses:Ml,spectral:ml,op:at,batchNormalization2d:ha,batchNormalization3d:pa,batchNormalization4d:ma,batchNormalization:ga,complex:ut,real:ct,imag:dt,concat:Fo,concat1d:zo,concat2d:Uo,concat3d:qo,concat4d:Vo,split:Ho,conv1d:Ca,conv2d:ja,conv2dDerFilter:Oa,depthwiseConv2d:Na,separableConv2d:Ra,conv2dTranspose:Pa,matMul:Ea,dot:Ta,outerProduct:Aa,reverse:Ia,reverse1d:Da,reverse2d:La,reverse3d:Ba,reverse4d:Fa,maxPool:qa,avgPool:Va,pool:Ha,slice:Wa,slice1d:Ga,slice2d:Xa,slice3d:Ka,slice4d:Ya,abs:Pi,acos:Ii,acosh:Di,asin:Li,asinh:Bi,atan:Fi,atanh:zi,ceil:Ui,clipByValue:qi,cos:Vi,cosh:Hi,erf:Wi,exp:Gi,expm1:Xi,floor:Ki,log:Yi,log1p:$i,logSigmoid:Zi,neg:Qi,reciprocal:Ji,round:ea,rsqrt:ta,sigmoid:na,sign:ra,sin:oa,sinh:ia,softplus:aa,sqrt:sa,square:la,step:ua,tan:ca,tanh:da,all:Za,any:Qa,argMax:Ja,argMin:es,logSumExp:ts,max:ns,mean:rs,min:os,moments:is,sum:as,prod:ss,equal:ls,equalStrict:us,greater:cs,greaterEqual:ds,greaterEqualStrict:fs,greaterStrict:hs,less:ps,lessEqual:ms,lessEqualStrict:gs,lessStrict:vs,notEqual:ys,notEqualStrict:bs,add:_s,addN:xs,addStrict:ws,atan2:ks,div:Es,divStrict:Ts,floorDiv:As,maximum:Ss,maximumStrict:Ms,minimum:Cs,minimumStrict:js,mod:Os,modStrict:Ns,mul:Rs,mulStrict:Ps,pow:Is,powStrict:Ds,squaredDifference:Ls,squaredDifferenceStrict:Bs,sub:Fs,subStrict:zs,elu:Xs,leakyRelu:Ks,prelu:Ys,relu:$s,selu:Zs,logicalAnd:Us,logicalNot:qs,logicalOr:Vs,logicalXor:Hs,where:Ws,whereAsync:Gs,buffer:ni,toPixels:ti,print:ri,batchToSpaceND:oi,cast:ii,clone:ai,cumsum:si,depthToSpace:li,expandDims:ui,eye:ci,fromPixels:di,multinomial:fi,oneHot:hi,pad:pi,pad1d:mi,pad2d:gi,pad3d:vi,pad4d:yi,rand:bi,randomNormal:_i,randomUniform:xi,reshape:wi,spaceToBatchND:ki,squeeze:Ei,stack:Ti,tile:Ai,truncatedNormal:Si,unstack:Mi,setdiff1dAsync:Ci,fill:wt,linspace:kt,ones:_t,range:Et,scalar:ht,tensor:ft,tensor1d:pt,tensor2d:mt,tensor3d:gt,tensor4d:vt,tensor5d:yt,tensor6d:bt,zeros:xt,onesLike:Ot,zerosLike:Nt,transpose:Qs,softmax:st,logSoftmax:lt,localResponseNormalization:Js,norm:el,gather:rl,unsortedSegmentSum:ol,basicLSTMCell:il,multiRNNCell:al,movingAverage:sl,stridedSlice:ll,topk:ul,scatterND:cl,fft:dl,ifft:fl,rfft:hl,irfft:pl,sparseToDense:gl,gatherND:yl}),Ul=function(){function e(){this.blockSize=48,this.firstUse=!0,_e.get("IS_BROWSER")&&(this.fromPixels2DContext=document.createElement("canvas").getContext("2d"))}return e.prototype.setDataMover=function(e){this.data=new Dt(e)},e.prototype.register=function(e,t,n){if(this.firstUse&&(this.firstUse=!1,_e.get("IS_NODE")&&Pe("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(e))throw new Error("Data buffer is already registered");this.data.set(e,{dtype:n})},e.prototype.write=function(e,t){if(null==t)throw new Error("MathBackendCPU.write(): values can not be null");this.data.get(e).values=t},e.prototype.fromPixels=function(e,t){if(null==e)throw new Error("pixels passed to tf.fromPixels() can not be null");var n,r;if(_e.get("IS_NODE")&&null==e.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=e.getContext)n=e.getContext("2d").getImageData(0,0,e.width,e.height).data;else if(e instanceof ImageData)n=e.data;else{if(!(e instanceof HTMLImageElement||e instanceof HTMLVideoElement))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+e.constructor.name);if(null==this.fromPixels2DContext)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.fromPixels2DContext.canvas.width=e.width,this.fromPixels2DContext.canvas.height=e.height,this.fromPixels2DContext.drawImage(e,0,0,e.width,e.height),n=this.fromPixels2DContext.getImageData(0,0,e.width,e.height).data}if(4===t)r=new Int32Array(n);else{var o=e.width*e.height;r=new Int32Array(o*t);for(var i=0;i<o;i++)for(var a=0;a<t;++a)r[i*t+a]=n[4*i+a]}return gt(r,[e.height,e.width,t],"int32")},e.prototype.read=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,this.readSync(e)]})})},e.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?zt(r.real.dataSync(),r.imag.dataSync()):this.data.get(e).values},e.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},e.prototype.time=function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){return t=H(),e(),[2,{kernelMs:H()-t}]})})},e.prototype.memory=function(){return{unreliable:!0}},e.prototype.complex=function(e,t){var n=oe.make(e.shape,{},"complex64");return this.data.get(n.dataId).complexTensors={real:_e.engine.keep(e.clone()),imag:_e.engine.keep(t.clone())},n},e.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},e.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},e.prototype.assertNotComplex=function(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&b("complex64"!==e.dtype,t+" does not support complex64 tensors.")})},e.prototype.slice=function(e,t,n){this.assertNotComplex(e,"slice");for(var r=ni(n,e.dtype),o=0;o<r.size;++o){var i=r.indexToLoc(o),a=i.map(function(e,n){return e+t[n]});r.set.apply(r,[e.get.apply(e,a)].concat(i))}return r.toTensor()},e.prototype.stridedSlice=function(e,t,n,r,o,i,a,s,l){this.assertNotComplex(e,"stridedSlice");var u=et(e.shape,t,n,r,o,i,a,s,l),c=u[0],d=u[1],f=u[2],h=d.filter(function(e,t){return-1===f.indexOf(t)});if(h.some(function(e){return 0===e}))return ft([],h);for(var p=ni(d,e.dtype),m=0;m<p.size;m++){for(var g=p.indexToLoc(m),v=new Array(g.length),y=0;y<v.length;y++)v[y]=g[y]*r[y]+c[y];p.set.apply(p,[e.get.apply(e,v)].concat(g))}return p.toTensor().reshape(h)},e.prototype.reverse=function(e,t){this.assertNotComplex(e,"reverse");for(var n=ni(e.shape,e.dtype),r=e.buffer(),o=function(o){var i=n.indexToLoc(o),a=i.slice();t.forEach(function(t){return a[t]=e.shape[t]-1-a[t]}),n.set.apply(n,[r.get.apply(r,a)].concat(i))},i=0;i<n.size;i++)o(i);return n.toTensor()},e.prototype.concat=function(e,t){this.assertNotComplex(e,"concat");var n=e.map(function(e){var n=k(e.shape.slice(t));return e.as2D(-1,n)}),r=Ke(n.map(function(e){return e.shape}),1),o=ni(r,e[0].dtype).values;if(1===n[0].shape[0]){var i=0;n.forEach(function(e){o.set(e.dataSync(),i),i+=e.size})}else{var a=0;n.forEach(function(e){for(var t=e.dataSync(),n=0,i=0;i<e.shape[0];++i)for(var s=i*r[1]+a,l=0;l<e.shape[1];++l)o[s+l]=t[n++];a+=e.shape[1]})}var s=Ke(e.map(function(e){return e.shape}),t);return ft(o,s,e[0].dtype)},e.prototype.neg=function(e){return this.assertNotComplex(e,"neg"),this.multiply(ht(-1),e)},e.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e+n,imag:t+r}}):this.broadcastedBinaryOp(e,t,Pt(e.dtype,t.dtype),function(e,t){return e+t})},e.prototype.addN=function(e){this.assertNotComplex(e,"addN");for(var t=e.map(function(e){return e.dataSync()}),n=ni(e[0].shape,e[0].dtype),r=n.values,o=0;o<e.length;o++)for(var i=t[o],a=0;a<r.length;a++)r[a]+=i[a];return n.toTensor()},e.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e-n,imag:t-r}}):this.broadcastedBinaryOp(e,t,Pt(e.dtype,t.dtype),function(e,t){return e-t})},e.prototype.pow=function(e,t){return this.assertNotComplex([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t)})},e.prototype.batchMatMul=function(e,t,n,r){this.assertNotComplex([e,t],"matMul");for(var o=n?e.shape[1]:e.shape[2],i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],s=e.shape[0],l=e.dataSync(),u=t.dataSync(),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],d=c[0],f=c[1],h=c[2],p=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=p[0],g=p[1],v=p[2],y=i*a,b=new Float32Array(s*y),_=this.blockSize,x=0;x<s;x++)for(var w=0;w<i;w+=_)for(var k=0;k<a;k+=_)for(var E=0;E<o;E+=_)for(var T=Math.min(w+_,i),A=Math.min(k+_,a),S=Math.min(E+_,o),M=w;M<T;M++)for(var C=k;C<A;C++){for(var j=0,O=E;O<S;O++)j+=l[x*d+M*f+O*h]*u[O*m+C*g+x*v];b[x*y+(M*a+C)]+=j}return gt(b,[s,i,a])},e.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}}):this.broadcastedBinaryOp(e,t,Pt(e.dtype,t.dtype),function(e,t){return e*t})},e.prototype.realDivide=function(e,t){return this.assertNotComplex([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",function(e,t){return e/t})},e.prototype.floorDiv=function(e,t){return this.assertNotComplex([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",function(e,t){return Math.floor(e/t)})},e.prototype.sum=function(e,t){this.assertNotComplex(e,"sum"),He("sum",t,e.rank);for(var n=Ue(e.shape,t),r=n[0],o=n[1],i=xt(r,Pt(e.dtype,"int32")),a=k(o),s=i.dataSync(),l=e.dataSync(),u=0;u<s.length;++u){for(var c=u*a,d=0,f=0;f<a;++f)d+=l[c+f];s[u]=d}return i},e.prototype.prod=function(e,t){this.assertNotComplex(e,"sum");for(var n=Ue(e.shape,t),r=n[0],o=n[1],i=xt(r,Pt(e.dtype,"int32")),a=k(o),s=i.dataSync(),l=e.dataSync(),u=0;u<s.length;++u){for(var c=u*a,d=1,f=0;f<a;++f)d*=l[c+f];s[u]=d}return i},e.prototype.unsortedSegmentSum=function(e,t,n){this.assertNotComplex(e,"unsortedSegmentSum");for(var r=[],o=e.rank-t.rank,i=0;i<o;++i)t=t.expandDims(i+1);for(i=0;i<n;++i){var a=ht(i,"int32"),s=ls(a,t).asType("float32").mul(e).sum(0);r.push(s)}return Ti(r)},e.prototype.argMin=function(e,t){this.assertNotComplex(e,"argMin");var n=[t];He("argMin",n,e.rank);for(var r=Ue(e.shape,n),o=r[0],i=r[1],a=xt(o,"int32"),s=k(i),l=a.dataSync(),u=e.dataSync(),c=0;c<l.length;++c){for(var d=c*s,f=u[d],h=0,p=0;p<s;++p){var m=u[d+p];m<f&&(f=m,h=p)}l[c]=h}return a},e.prototype.argMax=function(e,t){this.assertNotComplex(e,"argMax");var n=[t];He("argMax",n,e.rank);for(var r=Ue(e.shape,n),o=r[0],i=r[1],a=xt(o,"int32"),s=k(i),l=a.dataSync(),u=e.dataSync(),c=0;c<l.length;++c){for(var d=c*s,f=u[d],h=0,p=0;p<s;++p){var m=u[d+p];m>f&&(f=m,h=p)}l[c]=h}return a},e.prototype.cumsum=function(e,t,n,r){if(this.assertNotComplex(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=Pt(e.dtype,"int32"),i=xt(e.shape,o),a=i.dataSync(),s=e.dataSync(),l=e.shape[e.rank-1],u=r?function(e,t){return e+l-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=l)for(var d=0;d<l;d++){var f=u(c,d);if(0===d)a[f]=n?0:s[f];else{var h=u(c,d-1);a[f]=n?s[h]+a[h]:s[f]+a[h]}}return i},e.prototype.equal=function(e,t){return this.assertNotComplex([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0})},e.prototype.notEqual=function(e,t){return this.assertNotComplex([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0})},e.prototype.less=function(e,t){return this.assertNotComplex([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0})},e.prototype.lessEqual=function(e,t){return this.assertNotComplex([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0})},e.prototype.greater=function(e,t){return this.assertNotComplex([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0})},e.prototype.greaterEqual=function(e,t){return this.assertNotComplex([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0})},e.prototype.logicalNot=function(e){this.assertNotComplex(e,"logicalNot");for(var t=e.dataSync(),n=new Int32Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return oe.make(e.shape,{values:n},"bool")},e.prototype.logicalAnd=function(e,t){return this.assertNotComplex([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t})},e.prototype.logicalOr=function(e,t){return this.assertNotComplex([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t})},e.prototype.select=function(e,t,n){this.assertNotComplex([e,t,n],"select");for(var r=e.dataSync(),o=t.dataSync(),i=n.dataSync(),a=xt(t.shape,Pt(t.dtype,n.dtype)),s=a.dataSync(),l=0,u=0===e.rank||e.rank>1||1===t.rank?1:t.shape[1],c=0;c<r.length;c++)for(var d=0;d<u;d++)1===r[c]?s[l++]=o[c]:s[l++]=i[c];return a},e.prototype.where=function(e){this.assertNotComplex([e],"where");var t=e.dataSync();return ji(e.shape,t)},e.prototype.topk=function(e,t,n){return this.assertNotComplex(e,"topk"),Xt(e.dataSync(),e.shape,e.dtype,t)},e.prototype.min=function(e,t){this.assertNotComplex(e,"min"),He("min",t,e.rank);for(var n=Ue(e.shape,t),r=n[0],o=n[1],i=xt(r,e.dtype),a=k(o),s=i.dataSync(),l=e.dataSync(),u=0;u<s.length;++u){for(var c=u*a,d=l[c],f=0;f<a;++f){var h=l[c+f];h<d&&(d=h)}s[u]=d}return i},e.prototype.minimum=function(e,t){return this.assertNotComplex([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t)})},e.prototype.mod=function(e,t){return this.assertNotComplex([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})},e.prototype.max=function(e,t){this.assertNotComplex(e,"max"),He("max",t,e.rank);for(var n=Ue(e.shape,t),r=n[0],o=n[1],i=xt(r,e.dtype),a=k(o),s=i.dataSync(),l=e.dataSync(),u=0;u<s.length;++u){for(var c=u*a,d=l[c],f=0;f<a;++f){var h=l[c+f];h>d&&(d=h)}s[u]=d}return i},e.prototype.maximum=function(e,t){return this.assertNotComplex([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t)})},e.prototype.all=function(e,t){this.assertNotComplex(e,"all"),He("all",t,e.rank);for(var n=Ue(e.shape,t),r=n[0],o=n[1],i=xt(r,e.dtype),a=k(o),s=i.dataSync(),l=e.dataSync(),u=0;u<s.length;++u){for(var c=u*a,d=l[c],f=0;f<a;++f){var h=l[c+f];d=d&&h}s[u]=d}return i},e.prototype.any=function(e,t){this.assertNotComplex(e,"any"),He("any",t,e.rank);for(var n=Ue(e.shape,t),r=n[0],o=n[1],i=xt(r,e.dtype),a=k(o),s=i.dataSync(),l=e.dataSync(),u=0;u<s.length;++u){for(var c=u*a,d=l[c],f=0;f<a;++f){var h=l[c+f];d=d||h}s[u]=d}return i},e.prototype.squaredDifference=function(e,t){return this.assertNotComplex([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e-t;return n*n})},e.prototype.ceil=function(e){this.assertNotComplex(e,"ceil");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return oe.make(e.shape,{values:n})},e.prototype.floor=function(e){this.assertNotComplex(e,"floor");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return oe.make(e.shape,{values:n})},e.prototype.sign=function(e){this.assertNotComplex(e,"x");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return oe.make(e.shape,{values:n})},e.prototype.round=function(e){this.assertNotComplex(e,"round");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=Math.floor(t[r]);t[r]-o<.5?n[r]=Math.floor(t[r]):t[r]-o>.5?n[r]=Math.ceil(t[r]):n[r]=o%2==0?o:o+1}return oe.make(e.shape,{values:n})},e.prototype.exp=function(e){this.assertNotComplex(e,"exp");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return oe.make(e.shape,{values:n})},e.prototype.expm1=function(e){this.assertNotComplex(e,"expm1");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return oe.make(e.shape,{values:n})},e.prototype.log=function(e){this.assertNotComplex(e,"log");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log(o)}return oe.make(e.shape,{values:n})},e.prototype.log1p=function(e){this.assertNotComplex(e,"log1p");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log1p(o)}return oe.make(e.shape,{values:n})},e.prototype.sqrt=function(e){this.assertNotComplex(e,"sqrt");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.sqrt(o)}return oe.make(e.shape,{values:n})},e.prototype.rsqrt=function(e){this.assertNotComplex(e,"rsqrt");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=1/Math.sqrt(o)}return oe.make(e.shape,{values:n})},e.prototype.square=function(e){this.assertNotComplex(e,"square");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=o*o}return oe.make(e.shape,{values:n})},e.prototype.reciprocal=function(e){this.assertNotComplex(e,"reciprocal");for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return oe.make(e.shape,{values:n})},e.prototype.relu=function(e){this.assertNotComplex(e,"relu");for(var t=xt(e.shape,e.dtype),n=t.dataSync(),r=e.dataSync(),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return t},e.prototype.elu=function(e){this.assertNotComplex(e,"elu");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?o:Math.exp(o)-1}return oe.make(e.shape,{values:t})},e.prototype.eluDer=function(e,t){this.assertNotComplex([e,t],"eluDer");for(var n=new Float32Array(t.size),r=t.dataSync(),o=e.dataSync(),i=0;i<r.length;++i){var a=r[i];n[i]=a>=1?o[i]:o[i]*(a+1)}return oe.make(t.shape,{values:n})},e.prototype.selu=function(e){this.assertNotComplex(e,"selu");for(var t=So,n=Mo,r=new Float32Array(e.size),o=e.dataSync(),i=0;i<o.length;++i){var a=o[i];r[i]=a>=0?n*a:t*(Math.exp(a)-1)}return oe.make(e.shape,{values:r})},e.prototype.clip=function(e,t,n){this.assertNotComplex(e,"clip");for(var r=new Float32Array(e.size),o=e.dataSync(),i=0;i<o.length;++i){var a=o[i];r[i]=a>n?n:a<t?t:a}return oe.make(e.shape,{values:r})},e.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return oe.make(e.shape,{values:t})},e.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<e.size;++r){var o=n[2*r],i=n[2*r+1];t[r]=Math.hypot(o,i)}return oe.make(e.shape,{values:t})},e.prototype.int=function(e){this.assertNotComplex(e,"int");for(var t=new Int32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=n[r];return oe.make(e.shape,{values:t},"int32")},e.prototype.sigmoid=function(e){this.assertNotComplex(e,"sigmoid");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return oe.make(e.shape,{values:t})},e.prototype.softplus=function(e){this.assertNotComplex(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=e.dataSync(),o=0;o<r.length;++o){var i,a=r[o]>-t,s=r[o]<t,l=Math.exp(r[o]);i=s?l:a?r[o]:Math.log(1+l),n[o]=i}return oe.make(e.shape,{values:n})},e.prototype.sin=function(e){this.assertNotComplex(e,"sin");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return oe.make(e.shape,{values:t})},e.prototype.cos=function(e){this.assertNotComplex(e,"cos");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return oe.make(e.shape,{values:t})},e.prototype.tan=function(e){this.assertNotComplex(e,"tan");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return oe.make(e.shape,{values:t})},e.prototype.asin=function(e){this.assertNotComplex(e,"asin");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return oe.make(e.shape,{values:t})},e.prototype.acos=function(e){this.assertNotComplex(e,"acos");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return oe.make(e.shape,{values:t})},e.prototype.atan=function(e){this.assertNotComplex(e,"atan");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return oe.make(e.shape,{values:t})},e.prototype.atan2=function(e,t){return this.assertNotComplex([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t)})},e.prototype.sinh=function(e){this.assertNotComplex(e,"sinh");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return oe.make(e.shape,{values:t})},e.prototype.cosh=function(e){this.assertNotComplex(e,"cosh");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return oe.make(e.shape,{values:t})},e.prototype.tanh=function(e){this.assertNotComplex(e,"tanh");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=A(n[r]);return oe.make(e.shape,{values:t})},e.prototype.asinh=function(e){this.assertNotComplex(e,"asinh");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return oe.make(e.shape,{values:t})},e.prototype.acosh=function(e){this.assertNotComplex(e,"acosh");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return oe.make(e.shape,{values:t})},e.prototype.atanh=function(e){this.assertNotComplex(e,"atanh");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return oe.make(e.shape,{values:t})},e.prototype.erf=function(e){this.assertNotComplex(e,"erf");for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){var o=n[r],i=1/(1+.3275911*o);t[r]=1-((((1.061405429*i-1.453152027)*i+1.421413741)*i-.284496736)*i+.254829592)*i*Math.exp(-o*o)}return oe.make(e.shape,{values:t})},e.prototype.step=function(e,t){void 0===t&&(t=0),this.assertNotComplex(e,"step");for(var n=new Float32Array(e.size),r=e.dataSync(),o=0;o<r.length;++o){var i=r[o];isNaN(i)?n[o]=NaN:n[o]=i>0?1:t}return oe.make(e.shape,{values:n})},e.prototype.conv2d=function(e,t,n){this.assertNotComplex([e,t],"conv2d");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u=ni(n.outShape,e.dtype),c=e.dataSync(),d=t.dataSync(),f=u.values,h=0;h<n.batchSize;++h)for(var p=h*e.strides[0],m=h*u.strides[0],g=0;g<n.outHeight;++g)for(var v=m+g*u.strides[1],y=g*n.strideHeight-s,b=0;b<r;b++){var _=y+b*i;if(!(_<0||_>=n.inHeight))for(var x=b*t.strides[0],w=p+_*e.strides[1],k=0;k<n.outWidth;++k)for(var E=v+k*n.outChannels,T=k*n.strideWidth-l,A=0;A<o;A++){var S=T+A*a;if(!(S<0||S>=n.inWidth))for(var M=x+A*t.strides[1],C=w+S*n.inChannels,j=M,O=0;O<n.inChannels;++O){for(var N=c[C+O],R=0;R<n.outChannels;++R)f[E+R]+=N*d[j+R];j+=n.outChannels}}}return u.toTensor()},e.prototype.conv2dDerInput=function(e,t,n){this.assertNotComplex([e,t],"conv2dDerInput");for(var r=ni(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],l=i[2],u=e.dataSync(),c=e.strides,d=c[0],f=c[1],h=c[2],p=t.dataSync(),m=t.strides,g=m[0],v=m[1],y=m[2],b=n.batchSize,_=n.filterHeight,x=n.filterWidth,w=n.inChannels,k=n.inHeight,E=n.inWidth,T=n.outChannels,A=n.outHeight,S=n.outWidth,M=n.strideHeight,C=n.strideWidth,j=_-1-n.padInfo.top,O=x-1-n.padInfo.left,N=0;N<b;++N)for(var R=0;R<w;++R)for(var P=0;P<k;++P)for(var I=P-j,D=Math.max(0,Math.ceil(I/M)),L=Math.min(A,(_+I)/M),B=0;B<E;++B){for(var F=B-O,z=Math.max(0,Math.ceil(F/C)),U=Math.min(S,(x+F)/C),q=0,V=D;V<L;++V)for(var H=V*M-I,W=z;W<U;++W)for(var G=d*N+f*V+h*W,X=g*(_-1-H)+v*(x-1-(W*C-F))+y*R,K=0;K<T;++K)q+=u[G+K]*p[X+K];o[a*N+s*P+l*B+R]=q}return r.toTensor()},e.prototype.conv2dDerFilter=function(e,t,n){this.assertNotComplex([e,t],"conv2dDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=ni(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=0;c<i;++c)for(var d=Math.max(0,Math.ceil((u-c)/r)),f=Math.min(n.outHeight,(n.inHeight+u-c)/r),h=0;h<a;++h)for(var p=Math.max(0,Math.ceil((l-h)/o)),m=Math.min(n.outWidth,(n.inWidth+l-h)/o),g=0;g<n.inChannels;++g)for(var v=0;v<n.outChannels;++v){for(var y=0,b=0;b<n.batchSize;++b)for(var _=d;_<f;++_)for(var x=c+_*r-u,w=p;w<m;++w){var k=h+w*o-l;y+=e.get(b,x,k,g)*t.get(b,_,w,v)}s.set(y,c,h,g,v)}return s.toTensor()},e.prototype.depthwiseConv2D=function(e,t,n){this.assertNotComplex([e,t],"depthwiseConv2D");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u=n.outChannels/n.inChannels,c=ni(n.outShape,e.dtype),d=e.dataSync(),f=t.dataSync(),h=c.values,p=0;p<n.batchSize;++p)for(var m=p*e.strides[0],g=p*c.strides[0],v=0;v<n.outHeight;++v)for(var y=g+v*c.strides[1],b=v*n.strideHeight-s,_=0;_<r;++_){var x=b+_*i;if(!(x<0||x>=n.inHeight))for(var w=_*t.strides[0],k=m+x*e.strides[1],E=0;E<n.outWidth;++E)for(var T=y+E*c.strides[2],A=E*n.strideWidth-l,S=0;S<o;++S){var M=A+S*a;if(!(M<0||M>=n.inWidth))for(var C=w+S*t.strides[1],j=k+M*n.inChannels,O=T,N=C,R=0;R<n.inChannels;++R){for(var P=d[j+R],I=0;I<u;++I)h[O+I]+=P*f[N+I];O+=u,N+=u}}}return c.toTensor()},e.prototype.depthwiseConv2DDerInput=function(e,t,n){this.assertNotComplex([e,t],"depthwiseConv2DDerInput");for(var r=ni(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],l=i[2],u=e.dataSync(),c=e.strides,d=c[0],f=c[1],h=c[2],p=t.dataSync(),m=t.strides,g=m[0],v=m[1],y=m[2],b=n.batchSize,_=n.filterHeight,x=n.filterWidth,w=n.inChannels,k=n.inHeight,E=n.inWidth,T=n.outChannels,A=n.outHeight,S=n.outWidth,M=n.strideHeight,C=n.strideWidth,j=_-1-n.padInfo.top,O=x-1-n.padInfo.left,N=T/w,R=0;R<b;++R)for(var P=0;P<w;++P)for(var I=0;I<k;++I)for(var D=I-j,L=Math.max(0,Math.ceil(D/M)),B=Math.min(A,(_+D)/M),F=0;F<E;++F){for(var z=F-O,U=Math.max(0,Math.ceil(z/C)),q=Math.min(S,(x+z)/C),V=0,H=L;H<B;++H)for(var W=H*M-D,G=U;G<q;++G)for(var X=d*R+f*H+h*G,K=g*(_-1-W)+v*(x-1-(G*C-z))+y*P,Y=0;Y<N;++Y)V+=u[X+(P*N+Y)]*p[K+Y];o[a*R+s*I+l*F+P]=V}return r.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){this.assertNotComplex([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=ni(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,d=0;d<i;++d)for(var f=Math.max(0,Math.ceil((u-d)/r)),h=Math.min(n.outHeight,(n.inHeight+u-d)/r),p=0;p<a;++p)for(var m=Math.max(0,Math.ceil((l-p)/o)),g=Math.min(n.outWidth,(n.inWidth+l-p)/o),v=0;v<n.outChannels;++v){for(var y=Math.trunc(v/c),b=v%c,_=0,x=0;x<n.batchSize;++x)for(var w=f;w<h;++w)for(var k=d+w*r-u,E=m;E<g;++E){var T=p+E*o-l;_+=e.get(x,k,T,y)*t.get(x,w,E,v)}s.set(_,d,p,y,b)}return s.toTensor()},e.prototype.tile=function(e,t){this.assertNotComplex(e,"tile");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=ni(n,e.dtype),i=e.buffer();for(r=0;r<o.values.length;++r){for(var a=o.indexToLoc(r),s=new Array(e.rank),l=0;l<s.length;l++)s[l]=a[l]%e.shape[l];var u=i.locToIndex(s);o.values[r]=i.values[u]}return o.toTensor()},e.prototype.pad=function(e,t,n){this.assertNotComplex(e,"pad");var r=t.map(function(t,n){return t[0]+e.shape[n]+t[1]}),o=t.map(function(e){return e[0]}),i=e.buffer(),a=ni(r,e.dtype);0!==n&&a.values.fill(n);for(var s=0;s<e.size;s++){var l=i.indexToLoc(s),u=l.map(function(e,t){return e+o[t]});a.set.apply(a,[e.get.apply(e,l)].concat(u))}return a.toTensor()},e.prototype.transpose=function(e,t){this.assertNotComplex(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var o=e.dataSync(),i=ni(n,e.dtype),a=e.buffer();for(r=0;r<e.size;++r){for(var s=a.indexToLoc(r),l=new Array(s.length),u=0;u<l.length;u++)l[u]=s[t[u]];var c=i.locToIndex(l);i.values[c]=o[r]}return i.toTensor()},e.prototype.gather=function(e,t,n){this.assertNotComplex([e,t],"gather");var r=e.shape.slice(),o=t.dataSync();r[n]=o.length;for(var i=ni(r,e.dtype),a=e.buffer(),s=0;s<i.size;++s){var l=i.indexToLoc(s),u=l.slice();u[n]=o[l[n]];var c=a.locToIndex(u);i.values[s]=a.values[c]}return i.toTensor()},e.prototype.batchToSpaceND=function(e,t,n){this.assertNotComplex([e],"batchToSpaceND");var r=t.reduce(function(e,t){return e*t}),o=Ie(e.shape,t,r),i=De(o.length,t.length),a=Le(e.shape,t,r),s=Be(n,t.length),l=Fe(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,l)},e.prototype.spaceToBatchND=function(e,t,n){this.assertNotComplex([e],"spaceToBatchND");var r=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=Ie(a.shape,t,r,!1),l=De(s.length,t.length,!1),u=Le(a.shape,t,r,!1);return a.reshape(s).transpose(l).reshape(u)},e.prototype.pool=function(e,t,n){this.assertNotComplex(e,"pool");for(var r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,u=t.padInfo.top,c=t.padInfo.left,d="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,f=e.dataSync(),h=ni(t.outShape,e.dtype),p=h.values,m=t.outShape[1]*t.outShape[2]*t.outShape[3],g=t.outShape[2]*t.outShape[3],v=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*m,_=y*e.strides[0],x=0;x<t.inChannels;++x)for(var w=0;w<t.outHeight;++w)for(var k=w*r-u,E=Math.max(0,k),T=Math.min(t.inHeight,s+k),A=b+w*g,S=0;S<t.outWidth;++S){for(var M=S*o-c,C=Math.max(0,M),j=Math.min(t.inWidth,l+M),O=d,N=0,R=0,P=E;P<T;P+=i){for(var I=_+P*e.strides[1],D=C;D<j;D+=a){var L=f[I+D*e.strides[2]+x];"max"===n&&L>O?O=L:"avg"===n&&(N+=L,R++)}if(isNaN(O))break}p[A+S*v+x]="avg"===n?N/R:O}return h.toTensor()},e.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},e.prototype.maxPoolPositions=function(e,t){for(var n=ni(t.outShape,"int32"),r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,u=t.padInfo.top,c=t.padInfo.left,d=0;d<t.batchSize;++d)for(var f=0;f<t.inChannels;++f)for(var h=0;h<t.outHeight;++h){for(var p=h*r-u,m=p;m<0;)m+=i;for(var g=Math.min(t.inHeight,s+p),v=0;v<t.outWidth;++v){for(var y=v*o-c,b=y;b<0;)b+=a;for(var _=Math.min(t.inWidth,l+y),x=Number.NEGATIVE_INFINITY,w=-1,k=m;k<g;k+=i)for(var E=k-p,T=b;T<_;T+=a){var A=T-y,S=e.get(d,k,T,f);S>x&&(x=S,w=E*l+A)}n.set(w,d,h,v,f)}}return n.toTensor()},e.prototype.maxPoolBackprop=function(e,t,n,r){this.assertNotComplex([t,n],"maxPoolBackprop");for(var o=this.maxPoolPositions(t,r),i=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,c=r.effectiveFilterWidth,d=c-1-r.padInfo.left,f=u-1-r.padInfo.top,h=ni(t.shape,"float32"),p=0;p<r.batchSize;++p)for(var m=0;m<r.inChannels;++m)for(var g=0;g<r.inHeight;++g)for(var v=0;v<r.inWidth;++v){for(var y=g-f,b=v-d,_=0,x=0;x<u;x+=s){var w=(y+x)/i;if(!(w<0||w>=r.outHeight||Math.floor(w)!==w))for(var k=0;k<c;k+=l){var E=(b+k)/a;if(!(E<0||E>=r.outWidth||Math.floor(E)!==E)){var T=u*c-1-o.get(p,w,E,m)===x*c+k?1:0;0!==T&&(_+=e.get(p,w,E,m)*T)}}}h.set(_,p,g,v,m)}return h.toTensor()},e.prototype.avgPoolBackprop=function(e,t,n){this.assertNotComplex([e,t],"avgPoolBackprop");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,c=n.effectiveFilterWidth,d=c-1-n.padInfo.left,f=u-1-n.padInfo.top,h=ni(t.shape,"float32"),p=1/(i*a),m=0;m<n.batchSize;++m)for(var g=0;g<n.inChannels;++g)for(var v=0;v<n.inHeight;++v)for(var y=0;y<n.inWidth;++y){for(var b=v-f,_=y-d,x=0,w=0;w<u;w+=s){var k=(b+w)/r;if(!(k<0||k>=n.outHeight||Math.floor(k)!==k))for(var E=0;E<c;E+=l){var T=(_+E)/o;T<0||T>=n.outWidth||Math.floor(T)!==T||(x+=e.get(m,k,T,g))}}h.set(x*p,m,v,y,g)}return h.toTensor()},e.prototype.cast=function(e,t){return Bt(e,t,this)},e.prototype.reshape=function(e,t){return Ft(e,t)},e.prototype.avgPool=function(e,t){return this.assertNotComplex(e,"avgPool"),this.pool(e,t,"avg").toFloat()},e.prototype.resizeBilinear=function(e,t,n,r){this.assertNotComplex(e,"resizeBilinear");for(var o=e.shape,i=o[0],a=o[1],s=o[2],l=o[3],u=e.dataSync(),c=new Float32Array(k([i,t,n,l])),d=[r&&t>1?a-1:a,r&&n>1?s-1:s],f=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=0,p=d[0]/f[0],m=d[1]/f[1],g=0;g<i;g++)for(var v=0;v<t;v++)for(var y=p*v,b=Math.floor(y),_=y-b,x=Math.min(a-1,Math.ceil(y)),w=g*e.strides[0]+b*e.strides[1],E=g*e.strides[0]+x*e.strides[1],T=0;T<n;T++)for(var A=m*T,S=Math.floor(A),M=A-S,C=Math.min(s-1,Math.ceil(A)),j=w+S*e.strides[2],O=E+S*e.strides[2],N=w+ +C*e.strides[2],R=E+C*e.strides[2],P=0;P<l;P++){var I=u[j+P],D=u[O+P],L=I+(u[N+P]-I)*M,B=L+(D+(u[R+P]-D)*M-L)*_;c[h++]=B}return ft(c,[i,t,n,l])},e.prototype.resizeBilinearBackprop=function(e,t,n){this.assertNotComplex([e,t],"resizeBilinearBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],l=e.shape,u=l[1],c=l[2],d=new Float32Array(o*i*a*s),f=[n&&u>1?i-1:i,n&&c>1?a-1:a],h=[n&&u>1?u-1:u,n&&c>1?c-1:c],p=f[0]/h[0],m=f[1]/h[1],g=e.dataSync(),v=0,y=0;y<o;y++)for(var b=y*t.strides[0],_=0;_<u;_++)for(var x=_*p,w=Math.floor(x),k=Math.min(Math.ceil(x),i-1),E=b+w*t.strides[1],T=b+k*t.strides[1],A=x-w,S=1-A,M=0;M<c;M++)for(var C=M*m,j=Math.floor(C),O=Math.min(Math.ceil(C),a-1),N=C-j,R=1-N,P=E+j*t.strides[2],I=E+O*t.strides[2],D=T+j*t.strides[2],L=T+O*t.strides[2],B=S*R,F=S*N,z=A*R,U=A*N,q=0;q<s;q++){var V=g[v++];d[P+q]+=V*B,d[I+q]+=V*F,d[D+q]+=V*z,d[L+q]+=V*U}return vt(d,[o,a,i,s],t.dtype)},e.prototype.resizeNearestNeighbor=function(e,t,n,r){this.assertNotComplex(e,"resizeNearestNeighbor");for(var o=e.shape,i=o[0],a=o[1],s=o[2],l=o[3],u=e.dataSync(),c=new Float32Array(i*t*n*l),d=[r&&t>1?a-1:a,r&&n>1?s-1:s],f=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=d[0]/f[0],p=d[1]/f[1],m=0,g=0;g<i;g++)for(var v=g*e.strides[0],y=0;y<t;y++)for(var b=h*y,_=v+Math.min(a-1,r?Math.round(b):Math.floor(b))*e.strides[1],x=0;x<n;x++)for(var w=p*x,k=_+Math.min(s-1,r?Math.round(w):Math.floor(w))*e.strides[2],E=0;E<l;E++){var T=u[k+E];c[m++]=T}return ft(c,[i,t,n,l],e.dtype)},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){this.assertNotComplex([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],l=e.shape,u=l[1],c=l[2],d=new Float32Array(o*i*a*s),f=e.dataSync(),h=[n&&u>1?i-1:i,n&&c>1?a-1:a],p=[n&&u>1?u-1:u,n&&c>1?c-1:c],m=h[0]/p[0],g=h[1]/p[1],v=1/m,y=1/g,b=2*Math.ceil(v)+2,_=2*Math.ceil(y)+2,x=0;x<o;x++)for(var w=x*t.strides[0],k=0;k<i;k++)for(var E=w+k*t.strides[1],T=Math.floor(k*v),A=Math.floor(T-b/2),S=0;S<a;S++)for(var M=E+S*t.strides[2],C=Math.floor(S*y),j=Math.floor(C-_/2),O=0;O<s;O++){for(var N=0,R=0;R<b;R++){var P=R+A;if(!(P<0||P>=u)){var I=w+P*e.strides[1],D=P*m;if(k===Math.min(i-1,n?Math.round(D):Math.floor(D)))for(var L=0;L<_;L++){var B=L+j;if(!(B<0||B>=c)){var F=I+B*e.strides[2],z=B*g;S===Math.min(a-1,n?Math.round(z):Math.floor(z))&&(N+=f[F+O])}}}}d[M+O]=N}return vt(d,t.shape,t.dtype)},e.prototype.batchNormalization=function(e,t,n,r,o,i){this.assertNotComplex([e,t,n,o,i],"batchNormalization");for(var a=e.dataSync(),s=t.dataSync(),l=n.dataSync(),u=o?o.dataSync():new Float32Array([1]),c=i?i.dataSync():new Float32Array([0]),d=new Float32Array(a.length),f=c.length,h=u.length,p=l.length,m=s.length,g=0,v=0,y=0,b=0,_=0;_<a.length;++_)d[_]=c[g++]+(a[_]-s[v++])*u[y++]/Math.sqrt(l[b++]+r),g>=f&&(g=0),v>=m&&(v=0),y>=h&&(y=0),b>=p&&(b=0);return vt(d,e.shape)},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){this.assertNotComplex(e,"localResponseNormalization4D");var i=e.shape[3],a=i-1,s=e.dataSync(),l=k(e.shape),u=new Float32Array(l);function c(e){for(var n=e%i,r=e-n+Math.max(0,n-t),o=e-n+Math.min(n+t,a),l=0;r<=o;r++){var u=s[r];l+=u*u}return l}for(var d=0;d<l;d++){var f=c(d),h=s[d]*Math.pow(n+r*f,-o);u[d]=h}return vt(u,e.shape)},e.prototype.LRNGrad=function(e,t,n,r,o,i,a){this.assertNotComplex(e,"LRNGrad");for(var s=e.shape[3],l=e.dataSync(),u=t.dataSync(),c=n.dataSync(),d=new Float32Array(k(e.shape)),f=k(e.shape),h=0;h<f;h++){for(var p=h%s,m=h-p+Math.max(0,p-r),g=h-p+Math.min(s,p+r+1),v=0,y=m;y<g;y++)v+=Math.pow(u[y],2);for(v=i*v+o,y=m;y<g;y++){var b=-2*i*a*u[y]*c[h]/v;h===y&&(b+=Math.pow(v,-a)),b*=l[h],d[y]+=b}}return vt(d,e.shape)},e.prototype.multinomial=function(e,t,n,r){this.assertNotComplex(e,"multinomial");for(var o=t?e:st(e),i=o.shape[0],a=o.shape[1],s=xt([i,n],"int32"),l=s.dataSync(),u=o.dataSync(),c=0;c<i;++c){var d=c*a,f=new Float32Array(a-1);f[0]=u[d];for(var h=1;h<f.length;++h)f[h]=f[h-1]+u[d+h];for(var p=Jo(r.toString()),m=c*n,g=0;g<n;++g){var v=p();l[m+g]=f.length;for(var y=0;y<f.length;y++)if(v<f[y]){l[m+g]=y;break}}}return s},e.prototype.oneHot=function(e,t,n,r){this.assertNotComplex(e,"oneHot");var o=new Float32Array(e.size*t);o.fill(r);for(var i=0;i<e.size;++i)e.get(i)>=0&&e.get(i)<t&&(o[i*t+e.get(i)]=n);return mt(o,[e.size,t],"int32")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){return this.assertNotComplex(e,"nonMaxSuppression"),Ht(e.dataSync(),t.dataSync(),n,r,o)},e.prototype.fft=function(e){return this.fftBatch(e,!1)},e.prototype.ifft=function(e){return this.fftBatch(e,!0)},e.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],o=ni(e.shape,"float32"),i=ni(e.shape,"float32"),a=ct(e).as2D(n,r),s=dt(e).as2D(n,r),l=0;l<n;l++)for(var u=a.slice([l,0],[1,r]),c=s.slice([l,0],[1,r]),d=ut(u,c),f=this.fftImpl(d,t).dataSync(),h=0;h<r;h++){var p=Ut(f,h);o.values[l*r+h]=p.real,i.values[l*r+h]=p.imag}return ut(o.toTensor(),i.toTensor()).as2D(n,r)},e.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(o=ut(ct(o).div(ht(r)),dt(o).div(ht(r)))),o}var i=e.dataSync(),a=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(i,r,t));return ut(a.real,a.imag).as2D(e.shape[0],e.shape[1])},e.prototype.isExponentOf2=function(e){return 0==(e&e-1)},e.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=e.dataSync(),o=t/2,i=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),a=ut(i.real,i.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),l=ut(s.real,s.imag).as1D();a=this.fftRadix2(a,o,n),l=this.fftRadix2(l,o,n);var u=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),o=0;o<Math.ceil(e/2);o++){var i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}(t,n),c=ut(u.real,u.imag).mul(l),d=a.add(c),f=a.sub(c),h=ct(d).concat(ct(f)),p=dt(d).concat(dt(f));return ut(h,p).as1D()},e.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),o=0;o<t;o++){for(var i=0,a=0,s=0;s<t;s++){var l=Vt(o*s,t,n),u=Ut(e,s);i+=u.real*l.real-u.imag*l.imag,a+=u.real*l.imag+u.imag*l.real}n&&(i/=t,a/=t),qt(r,i,a,o)}return r},e.prototype.depthToSpace=function(e,t,n){b("NHWC"===n,"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n),b(t>1,"blockSize should be > 1 for depthToSpace, but was: "+t);for(var r=e.shape[0],o=e.shape[1],i=e.shape[2],a=e.shape[3],s=o*t,l=i*t,u=a/(t*t),c=e.dataSync(),d=new Float32Array(r*s*l*u),f=0,h=0;h<r;++h)for(var p=0;p<s;++p)for(var m=Math.floor(p/t),g=p%t,v=0;v<l;++v)for(var y=Math.floor(v/t),_=(g*t+v%t)*u,x=0;x<u;++x){var w=x+_+a*(y+i*(m+o*h));d[f++]=c[w]}return vt(d,[r,s,l,u])},e.prototype.broadcastedBinaryOp=function(e,t,n,r){var o=Qt(e.shape,t.shape),i=ni(o,n),a=e.dataSync(),s=t.dataSync(),l=$t(e.shape,o),u=$t(t.shape,o),c=i.values;if(l.length+u.length===0)for(var d=0;d<c.length;++d)c[d]=r(a[d%a.length],s[d%s.length]);else{var f=e.buffer(),h=t.buffer(),p=function(n){var o=i.indexToLoc(n),d=o.slice(-e.rank);l.forEach(function(e){return d[e]=0});var p=f.locToIndex(d),m=o.slice(-t.rank);u.forEach(function(e){return m[e]=0});var g=h.locToIndex(m);c[n]=r(a[p],s[g])};for(d=0;d<c.length;++d)p(d)}return i.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Qt(e.shape,t.shape),o=ni(r,"float32"),i=ni(r,"float32"),a=e.dataSync(),s=t.dataSync(),l=$t(e.shape,r),u=$t(t.shape,r),c=o.values,d=i.values;if(l.length+u.length===0)for(var f=0;f<c.length;f++){var h=f%a.length,p=f%s.length,m=n(a[2*h],a[2*h+1],s[2*p],s[2*p+1]);c[f]=m.real,d[f]=m.imag}else{var g=this.data.get(e.dataId).complexTensors.real.buffer(),v=this.data.get(t.dataId).complexTensors.real.buffer(),y=function(r){var i=o.indexToLoc(r),f=i.slice(-e.rank);l.forEach(function(e){return f[e]=0});var h=g.locToIndex(f),p=i.slice(-t.rank);u.forEach(function(e){return p[e]=0});var m=v.locToIndex(p),y=n(a[2*h],a[2*h+1],s[2*m],s[2*m+1]);c[r]=y.real,d[r]=y.imag};for(f=0;f<c.length;f++)y(f)}return this.complex(o.toTensor(),i.toTensor())},e.prototype.split=function(e,t,n){return Gt(e,t,n)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.cropAndResize=function(e,t,n,r,o,i){for(var a=e.shape,s=a[0],l=a[1],u=a[2],c=a[3],d=t.shape[0],f=r[0],h=r[1],p=ni([d,f,h,c]),m=t.dataSync(),g=n.dataSync(),v=e.dataSync(),y=e.strides,b=p.strides,_=0;_<d;_++){var x=4*_,w=m[x],k=m[x+1],E=m[x+2],T=m[x+3],A=g[_];if(!(A>=s))for(var S=f>1?(E-w)*(l-1)/(f-1):0,M=h>1?(T-k)*(u-1)/(h-1):0,C=0;C<f;C++){var j=f>1?w*(l-1)+C*S:.5*(w+E)*(l-1);if(j<0||j>l-1)for(var O=0;O<h;O++)for(var N=0;N<c;N++){var R=N+O*b[2]+C*b[1]+_*b[0];p.values[R]=i}else if("bilinear"===o){var P=Math.floor(j),I=Math.ceil(j),D=j-P;for(O=0;O<h;O++)if((W=h>1?k*(u-1)+O*M:.5*(k+T)*(u-1))<0||W>u-1)for(N=0;N<c;N++)R=N+O*b[2]+C*b[1]+_*b[0],p.values[R]=i;else{var L=Math.floor(W),B=Math.ceil(W),F=W-L;for(N=0;N<c;N++){var z=v[R=N+L*y[2]+P*y[1]+A*y[0]],U=v[R=N+B*y[2]+P*y[1]+A*y[0]],q=v[R=N+L*y[2]+I*y[1]+A*y[0]],V=z+(U-z)*F,H=q+(v[R=N+B*y[2]+I*y[1]+A*y[0]]-q)*F;R=N+O*b[2]+C*b[1]+_*b[0],p.values[R]=V+(H-V)*D}}}else for(O=0;O<h;++O){var W;if((W=h>1?k*(u-1)+O*M:.5*(k+T)*(u-1))<0||W>u-1)for(N=0;N<c;N++)R=N+O*b[2]+C*b[1]+_*b[0],p.values[R]=i;else{var G=Math.round(W),X=Math.round(j);for(N=0;N<c;N++){var K=N+G*y[2]+X*y[1]+A*y[0],Y=N+O*b[2]+C*b[1]+_*b[0];p.values[Y]=v[K]}}}}}return p.toTensor()},e.prototype.sparseToDense=function(e,t,n,r){var o=Je(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.sliceSize,l=o.strides,u=o.outputSize;return this.scatter(e,t,n,u,s,a,i,l,r,!1)},e.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=Ye(e,t),i=o[0],a=o[1],s=o[2],l=o[3];if(0===a)return ft([],i,e.dtype);for(var u=new ee([a,s],e.dtype),c=t.dataSync(),d=e.dataSync(),f=0;f<a;f++){for(var h=[],p=0,m=0;m<r;m++){var g=c[f*r+m];p+=g*l[m],h.push(g)}if(p<0||p>=e.size/s)throw new Error("Invalid indices: "+h+" does not index into "+e.shape);for(var v=0;v<s;v++)u.values[f*s+v]=d[p*s+v]}return u.toTensor().reshape(i)},e.prototype.scatterND=function(e,t,n){var r=Je(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,l=r.outputSize,u=ht(0);return this.scatter(e,t,n,l,a,i,o,s,u,!0)},e.prototype.scatter=function(e,t,n,r,o,i,a,s,l,u){var c=[r/o,o],d=e.dataSync(),f=t.dataSync();if(0===r)return ft([],n,t.dtype);var h=new ee(c,t.dtype);h.values.fill(l.dataSync()[0]);for(var p=0;p<i;p++){for(var m=[],g=0,v=0;v<a;v++){var y=d[p*a+v];m.push(y),g+=y*s[v]}if(g<0||g>=r/o)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<o;b++)u?h.values[g*o+b]+=f[p*o+b]:h.values[g*o+b]=0===t.rank?f[0]:f[p*o+b]}return h.toTensor().reshape(n)},e}();_e.registerBackend("cpu",function(){return new Ul},1,re);var ql="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:o;function Vl(){return new Promise(function(e){return ql(function(){return e()})})}var Hl={float32:4,int32:4,uint16:2,uint8:1,bool:1};function Wl(e,t){for(var n={},r=0,o=function(t){var o=t.name,i=t.dtype,a=t.shape,s=k(a),l=void 0;if("quantization"in t){var u=t.quantization;if("uint8"!==u.dtype&&"uint16"!==u.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+u.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=Hl[u.dtype],d=e.slice(r,r+s*c),f="uint8"===u.dtype?new Uint8Array(d):new Uint16Array(d);if("float32"===i)l=Float32Array.from(f,function(e){return e*u.scale+u.min});else{if("int32"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);l=Int32Array.from(f,function(e){return Math.round(e*u.scale+u.min)})}r+=s*c}else{var h=Hl[i];if(d=e.slice(r,r+s*h),"float32"===i)l=new Float32Array(d);else if("int32"===i)l=new Int32Array(d);else{if("bool"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);l=new Uint8Array(d)}r+=s*h}var p=void 0;if("float32"===i)p=ft(l,a,"float32");else if("int32"===i)p=ft(l,a,"int32");else{if("bool"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);p=ft(l,a,"bool")}n[o]=p},i=0,a=t;i<a.length;i++)o(a[i]);return n}function Gl(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)});var r=new Uint8Array(t),o=0;return n.forEach(function(e){r.set(new Uint8Array(e.buffer),o),o+=e.byteLength}),r.buffer}var Xl=void 0!==i&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Kl(e){return Xl?i.byteLength(e):new Blob([e]).size}function Yl(e){var t=0;e.forEach(function(e){t+=e.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e),r),r+=e.byteLength}),n.buffer}function $l(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Zl(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Kl(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Kl(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var Ql=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t){return e.getHandlers(t,"load")},e.getHandlers=function(e,t){var n=[];return("load"===t?this.getInstance().loadRouters:this.getInstance().saveRouters).forEach(function(t){var r=t(e);null!==r&&n.push(r)}),n},e}(),Jl="://",eu=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){b(null!=t,"scheme must not be undefined or null."),t.endsWith(Jl)&&(t=t.slice(0,t.indexOf(Jl))),b(t.length>0,"scheme must not be an empty string.");var r=e.getInstance();b(null==r.managers[t],"A model store manager is already registered for scheme '"+t+"'."),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function tu(e){if(-1===e.indexOf(Jl))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+eu.getSchemes().join(","));return{scheme:e.split(Jl)[0],path:e.split(Jl)[1]}}function nu(e,t,n){return void 0===n&&(n=!1),u(this,void 0,void 0,function(){var r,o,i,a,s,l,u,d,f;return c(this,function(c){switch(c.label){case 0:return b(e!==t,"Old path and new path are the same: '"+e+"'"),b((r=Ql.getLoadHandlers(e)).length>0,"Copying failed because no load handler is found for source URL "+e+"."),b(r.length<2,"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."),o=r[0],b((i=Ql.getSaveHandlers(t)).length>0,"Copying failed because no save handler is found for destination URL "+t+"."),b(i.length<2,"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."),a=i[0],s=tu(e).scheme,l=tu(e).path,u=s===tu(e).scheme,[4,o.load()];case 1:return d=c.sent(),n&&u?[4,eu.getManager(s).removeModel(l)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[4,a.save(d)];case 4:return f=c.sent(),!n||u?[3,6]:[4,eu.getManager(s).removeModel(l)];case 5:c.sent(),c.label=6;case 6:return[2,f.modelArtifactsInfo]}})})}var ru="models_store",ou="model_info_store";function iu(){if(!_e.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function au(e){var t=e.result;t.createObjectStore(ru,{keyPath:"modelPath"}),t.createObjectStore(ou,{keyPath:"modelPath"})}var su=function(){function e(e){if(this.indexedDB=iu(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(e,t){var n=this;return new Promise(function(e,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return au(o)},o.onsuccess=function(){var i=o.result;if(null==t){var a=i.transaction(ru,"readonly"),s=a.objectStore(ru).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},a.oncomplete=function(){return i.close()}}else{var l,u=Zl(t),c=i.transaction(ou,"readwrite"),d=c.objectStore(ou),f=d.put({modelPath:n.modelPath,modelArtifactsInfo:u});f.onsuccess=function(){var o=(l=i.transaction(ru,"readwrite")).objectStore(ru).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:u});o.onsuccess=function(){return e({modelArtifactsInfo:u})},o.onerror=function(e){var t=(d=c.objectStore(ou)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(o.error)},t.onerror=function(e){return i.close(),r(o.error)}}},f.onerror=function(e){return i.close(),r(f.error)},c.oncomplete=function(){null==l?i.close():l.oncomplete=function(){return i.close()}}}},o.onerror=function(e){return r(o.error)}})},e.URL_SCHEME="indexeddb://",e}(),lu=function(e){return _e.get("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(su.URL_SCHEME)?function(e){return new su(e)}(e.slice(su.URL_SCHEME.length)):null};Ql.registerSaveRouter(lu),Ql.registerLoadRouter(lu);var uu=function(){function e(){this.indexedDB=iu()}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e=this;return c(this,function(t){return[2,new Promise(function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return au(r)},r.onsuccess=function(){var e=r.result,o=e.transaction(ou,"readonly"),i=o.objectStore(ou).getAll();i.onsuccess=function(){for(var e={},n=0,r=i.result;n<r.length;n++){var o=r[n];e[o.modelPath]=o.modelArtifactsInfo}t(e)},i.onerror=function(t){return e.close(),n(i.error)},o.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}})]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t=this;return c(this,function(n){return e=function(e){return e.startsWith(su.URL_SCHEME)?e.slice(su.URL_SCHEME.length):e}(e),[2,new Promise(function(n,r){var o=t.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return au(o)},o.onsuccess=function(){var t,i=o.result,a=i.transaction(ou,"readwrite"),s=a.objectStore(ou),l=s.get(e);l.onsuccess=function(){if(null==l.result)return i.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),a=function(){var o=(t=i.transaction(ru,"readwrite")).objectStore(ru).delete(e);o.onsuccess=function(){return n(l.result.modelArtifactsInfo)},o.onerror=function(e){return r(l.error)}};o.onsuccess=a,o.onerror=function(e){return a(),i.close(),r(l.error)}},l.onerror=function(e){return i.close(),r(l.error)},a.oncomplete=function(){null==t?i.close():t.oncomplete=function(){return i.close()}}},o.onerror=function(e){return r(o.error)}})]})})},e}();if(_e.get("IS_BROWSER"))try{eu.registerManager(su.URL_SCHEME,new uu)}catch(ce){}var cu="/",du="tensorflowjs_models",fu="info",hu="model_topology",pu="weight_specs",mu="weight_data";function gu(e){return{info:[du,e,fu].join(cu),topology:[du,e,hu].join(cu),weightSpecs:[du,e,pu].join(cu),weightData:[du,e,mu].join(cu)}}function vu(e){var t=e.split(cu);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(cu)}var yu=function(){function e(e){if(!_e.get("IS_BROWSER")||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=gu(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r,o;return c(this,function(a){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Zl(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){return Xl?i.from(e).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(e)))}(e.weightData)),[2,{modelArtifactsInfo:r}]}catch(e){for(o in this.keys)this.LS.removeItem(this.keys[o]);throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o;return c(this,function(a){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null==(o=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(Xl){var t=i.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r.set([n.charCodeAt(o)],o);return r.buffer}(o),[2,t]})})},e.URL_SCHEME="localstorage://",e}(),bu=function(e){return _e.get("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(yu.URL_SCHEME)?function(e){return new yu(e)}(e.slice(yu.URL_SCHEME.length)):null};Ql.registerSaveRouter(bu),Ql.registerLoadRouter(bu);var _u=function(){function e(){b(_e.get("IS_BROWSER"),"Current environment is not a web browser"),b(void 0!==window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,i;return c(this,function(a){for(e={},t=du+cu,n=cu+fu,r=0;r<this.LS.length;++r)(o=this.LS.key(r)).startsWith(t)&&o.endsWith(n)&&(i=vu(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){if(e=function(e){return e.startsWith(yu.URL_SCHEME)?e.slice(yu.URL_SCHEME.length):e}(e),t=gu(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]})})},e}();if(_e.get("IS_BROWSER"))try{eu.registerManager(yu.URL_SCHEME,new _u)}catch(ce){}var xu="model",wu=".json",ku=".weights.bin",Eu=function(){function e(t){if(!_e.get("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=xu),this.modelTopologyFileName=t+wu,this.weightDataFileName=t+ku}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r,o,i,a;return c(this,function(s){if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=o,i.click(),null!=e.weightData&&((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=t,a.click()),[2,{modelArtifactsInfo:Zl(e)}]})})},e.URL_SCHEME="downloads://",e}(),Tu=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n=this;return c(this,function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(r,o){var i=new FileReader;i.onload=function(i){var a=JSON.parse(i.target.result),s=a.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var l=a.weightsManifest;if(null!=l){var u;try{u=n.checkManifestAndWeightFiles(l,t)}catch(e){return void o(e)}var c=[],d=[],f=[];l.forEach(function(e){e.paths.forEach(function(e){d.push(e),f.push(null)}),c.push.apply(c,e.weights)}),l.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,o=d.indexOf(e);f[o]=n,-1===f.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:Yl(f)})},t.onerror=function(t){return o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(u[e])})})}else o(new Error("weightManifest field is missing from file "+e.name))}else o(new Error("modelTopology field is missing from file "+e.name))},i.onerror=function(t){return o("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},i.readAsText(e)})]})})},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map(function(e){return $l(e.name)}),o={},i=0,a=e;i<a.length;i++)a[i].paths.forEach(function(e){var i=$l(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: '"+i+"'");if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '"+i+"' is not provided.");o[e]=t[r.indexOf(i)]});if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return o},e}();function Au(e,t){return u(this,void 0,void 0,function(){var n,r;return c(this,function(o){switch(o.label){case 0:return n=e.map(function(e){return fetch(e,t)}),[4,Promise.all(n)];case 1:return r=o.sent(),[4,Promise.all(r.map(function(e){return e.arrayBuffer()}))];case 2:return[2,o.sent()]}})})}function Su(e){var t=this;return function(n,r,o){return void 0===r&&(r=""),u(t,void 0,void 0,function(){var t,i,a,s,l,u,d,f,h,p;return c(this,function(c){switch(c.label){case 0:if(t=n.map(function(){return!1}),i={},a=null!=o?o.map(function(){return!1}):[],s=[],n.forEach(function(e,n){var r=0;e.weights.forEach(function(e){var l="quantization"in e?e.quantization.dtype:e.dtype,u=Hl[l]*k(e.shape),c=function(){t[n]=!0,null==i[n]&&(i[n]=[]),i[n].push({manifestEntry:e,groupOffset:r,sizeBytes:u})};null!=o?o.forEach(function(t,n){t===e.name&&(c(),a[n]=!0)}):c(),s.push(e.name),r+=u})}),!a.every(function(e){return e}))throw l=o.filter(function(e,t){return!a[t]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return u=t.reduce(function(e,t,n){return t&&e.push(n),e},[]),d=[],u.forEach(function(e){n[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;d.push(t)})}),[4,e(d)];case 1:return f=c.sent(),h={},p=0,u.forEach(function(e){for(var t=n[e].paths.length,r=0,o=0;o<t;o++)r+=f[p+o].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),l=0,u=0;u<t;u++){var c=new Uint8Array(f[p+u]);s.set(c,l),l+=c.byteLength}i[e].forEach(function(e){var t=Wl(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)h[n]=t[n]}),p+=t}),[2,h]}})})}}Ql.registerSaveRouter(function(e){return _e.get("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Eu.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new Eu(e)}(e.slice(Eu.URL_SCHEME.length)):null});var Mu=function(){function e(e,t,n){if(this.weightPathPrefix=n,this.DEFAULT_METHOD="POST","undefined"==typeof fetch)throw new Error("browserHTTPRequest is not supported outside the web browser without a fetch polyfill.");if(b(null!=e&&e.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),Array.isArray(e)&&b(2===e.length,"URL paths for browserHTTPRequest must have a length of 2, (actual length is "+e.length+")."),this.path=e,null!=t&&null!=t.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t||{}}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r,o;return c(this,function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,fetch(this.path,t)];case 1:if((o=i.sent()).ok)return[2,{modelArtifactsInfo:Zl(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,Array.isArray(this.path)?this.loadBinaryModel():this.loadJSONModel()]})})},e.prototype.loadBinaryTopology=function(){return u(this,void 0,void 0,function(){var e,t;return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(this.path[0],this.requestInit)];case 1:if(!(e=n.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+e.statusText);return[4,e.arrayBuffer()];case 2:return[2,n.sent()];case 3:throw t=n.sent(),new Error(this.path[0]+" not found. "+t);case 4:return[2]}})})},e.prototype.loadBinaryModel=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,i,a,s;return c(this,function(l){switch(l.label){case 0:return e=this.loadBinaryTopology(),[4,fetch(this.path[1],this.requestInit)];case 1:if(!(t=l.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+t.statusText);return[4,Promise.all([e,t])];case 2:return n=l.sent(),r=n[0],[4,n[1].json()];case 3:return null==(o=l.sent())?[3,5]:[4,this.loadWeights(o)];case 4:s=l.sent(),i=s[0],a=s[1],l.label=5;case 5:return[2,{modelTopology:r,weightSpecs:i,weightData:a}]}})})},e.prototype.loadJSONModel=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,i,a,s;return c(this,function(l){switch(l.label){case 0:return[4,fetch(this.path,this.requestInit)];case 1:if(!(e=l.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+e.statusText);return[4,e.json()];case 2:if(t=l.sent(),n=t.modelTopology,r=t.weightsManifest,null==n&&null==r)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==r?[3,4]:(a=t.weightsManifest,[4,this.loadWeights(a)]);case 3:s=l.sent(),o=s[0],i=s[1],l.label=4;case 4:return[2,{modelTopology:n,weightSpecs:o,weightData:i}]}})})},e.prototype.loadWeights=function(e){return u(this,void 0,void 0,function(){var t,n,r,o,i,a,s,l,u,d,f,h;return c(this,function(c){switch(c.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],o=n[1],i=this.weightPathPrefix||r,a=[],s=0,l=e;s<l.length;s++)u=l[s],a.push.apply(a,u.weights);return d=[],e.forEach(function(e){e.paths.forEach(function(e){d.push(i+e+o)})}),f=[a],h=Yl,[4,Au(d,this.requestInit)];case 1:return[2,f.concat([h.apply(void 0,[c.sent()])])]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function Cu(e){return null!=e.match(Mu.URL_SCHEME_REGEX)}var ju=function(e){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every(function(e){return Cu(e)}):Cu(e))?Ou(e):null};function Ou(e,t,n){return new Mu(e,t,n)}Ql.registerSaveRouter(ju),Ql.registerLoadRouter(ju);var Nu=function(){function e(e,t,n){this.modelTopology=e,this.weightSpecs=t,this.weightData=n}return e.prototype.load=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){return e={},null!=this.modelTopology&&(e=l({modelTopology:this.modelTopology},e)),null!=this.weightSpecs&&this.weightSpecs.length>0&&(e=l({weightSpecs:this.weightSpecs},e)),null!=this.weightData&&this.weightData.byteLength>0&&(e=l({weightData:this.weightData},e)),[2,e]})})},e}(),Ru=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,this.saveHandler(e)]})})},e}();var Pu=Ql.registerSaveRouter,Iu=Ql.registerLoadRouter,Du=Ql.getSaveHandlers,Lu=Ql.getLoadHandlers,Bu=Object.freeze({browserFiles:function(e){return new Tu(e)},browserHTTPRequest:Ou,concatenateArrayBuffers:Yl,decodeWeights:Wl,encodeWeights:function(e){return u(this,void 0,void 0,function(){var t,n,r,o;return c(this,function(i){switch(i.label){case 0:for(r in t=[],n=[],e){if("float32"!==(o=e[r]).dtype&&"int32"!==o.dtype&&"bool"!==o.dtype)throw new Error("Unsupported dtype in weight '"+r+"': "+o.dtype);t.push({name:r,shape:o.shape,dtype:o.dtype}),n.push(o.data())}return[4,Promise.all(n)];case 1:return[2,{data:Gl(i.sent()),specs:t}]}})})},fromMemory:function(e,t,n){return new Nu(e,t,n)},getLoadHandlers:Lu,getModelArtifactsInfoForJSON:Zl,getSaveHandlers:Du,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),u(this,void 0,void 0,function(){return c(this,function(o){return[2,Su(function(e){return Au(e,r)})(e,t,n)]})})},registerLoadRouter:Iu,registerSaveRouter:Pu,weightsLoaderFactory:Su,withSaveHandler:function(e){return new Ru(e)},copyModel:function(e,t){return u(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,nu(e,t,!1)];case 1:return[2,n.sent()]}})})},listModels:function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,i,a;return c(this,function(s){switch(s.label){case 0:e=eu.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(o=r[n],[4,eu.getManager(o).listModels()]):[3,4];case 2:for(a in i=s.sent())t[o+Jl+a]=i[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return u(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,nu(e,t,!0)];case 1:return[2,n.sent()]}})})},removeModel:function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return t=tu(e),[4,eu.getManager(t.scheme).removeModel(t.path)];case 1:return[2,n.sent()]}})})}});var Fu=at({confusionMatrix_:function(e,t,n){var r=ot(e,"label","confusionMatrix","int32"),o=ot(t,"label","confusionMatrix","int32");b(null==n||n>0&&Number.isInteger(n),"If provided, numClasses must be a positive integer, but got "+n),b(1===r.rank,"Expected the rank of labels to be 1, but got "+r.rank),b(1===o.rank,"Expected the rank of predictions to be 1, but got "+o.rank),b(r.shape[0]===o.shape[0],"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."),b(n>0&&Number.isInteger(n),"numClasses is required to be a positive integer, but got "+n);var i=hi(r.asType("int32"),n),a=hi(o.asType("int32"),n);return i.transpose().matMul(a).asType("int32")}}),zu=Object.freeze({confusionMatrix:Fu}),Uu=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),qu=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function Vu(e){b(null!=e.className,"Class being registered does not have the static className property defined."),b("string"==typeof e.className,"className is required to be a string, but got type "+typeof e.className),b(e.className.length>0,"Class being registered has an empty-string as its className, which is disallowed."),qu.register(e)}var Hu=Object.freeze({Serializable:Uu,SerializationMap:qu,registerClass:Vu});function Wu(e,t,n){if(null==n&&(n=_e.get("TEST_EPSILON")),e instanceof oe||t instanceof oe){if(e instanceof oe&&t instanceof oe){if(e.dtype!==t.dtype)throw new Error("Arrays are of different type actual: "+e.dtype+" vs expected: "+t.dtype+".");if(!E(e.shape,t.shape))throw new Error("Arrays are of different shape actual: "+e.shape+" vs expected: "+t.shape+".")}}else{var r=e.constructor.name,o=t.constructor.name;if(r!==o)throw new Error("Arrays are of different type actual: "+r+" vs expected: "+o)}var i,a;if(i=e instanceof oe?e.dataSync():e,a=t instanceof oe?t.dataSync():t,i.length!==a.length)throw new Error("Arrays have different lengths actual: "+i.length+" vs expected: "+a.length+".\nActual:   "+i+".\nExpected: "+a+".");for(var s=0;s<a.length;++s){var l=i[s],u=a[s];if(!Gu(l,Number(u),n))throw new Error("Arrays differ: actual["+s+"] = "+l+", expected["+s+"] = "+u+".\nActual:   "+i+".\nExpected: "+a+".")}}function Gu(e,t,n){return!(!isNaN(e)||!isNaN(t))||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}var Xu=Object.freeze({WEBGL_ENVS:{HAS_WEBGL:!0},NODE_ENVS:{IS_NODE:!0},CHROME_ENVS:{IS_CHROME:!0},BROWSER_ENVS:{IS_BROWSER:!0},CPU_ENVS:{HAS_WEBGL:!1},BROWSER_CPU_ENVS:{BACKEND:"test-cpu"},ALL_ENVS:{},expectArraysClose:Wu,expectPromiseToFail:function(e,t){e().then(function(){return t.fail()},function(){return t()})},expectArraysEqual:function(e,t){return Wu(e,t,0)},expectNumbersClose:function(e,t,n){if(null==n&&(n=_e.get("TEST_EPSILON")),!Gu(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){var r;r=e instanceof oe?e.dataSync():e;for(var o=0;o<r.length;o++)if(r[o]<t||r[o]>n)throw new Error("Value out of range:"+r[o]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Ku="0.13.12",Yu=Object.freeze({gpgpu_util:Kr,webgl_util:Sr,MathBackendWebGL:Ni,GPGPUContext:Yr}),$u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),o=r.value,i=r.grads;return this.applyGradients(i),Object.keys(i).forEach(function(e){return i[e].dispose()}),t?o:(o.dispose(),null)},t.prototype.computeGradients=function(e,t){return Ae(e,t)},t}(Uu),Zu=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=r,o.accumulatedGrads={},o.accumulatedUpdates={},o.c=je(ht(-t)),o.rhoScalar=je(ht(n)),o.oneMinusRho=je(ht(1-n)),null===r&&(r=_e.get("EPSILON")),o.epsilonScalar=je(ht(r)),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=function(n){var o=_e.engine.registeredVariables[n];null==r.accumulatedGrads[n]&&Ce(function(){t.accumulatedGrads[n]=Nt(o).variable(!1)}),null==r.accumulatedUpdates[n]&&Ce(function(){t.accumulatedUpdates[n]=Nt(o).variable(!1)});var i=e[n],a=r.accumulatedGrads[n],s=r.accumulatedUpdates[n];Ce(function(){var e=t.rhoScalar.mul(a).add(t.oneMinusRho.mul(i.square())),r=s.add(t.epsilonScalar).sqrt().div(a.add(t.epsilonScalar).sqrt()).mul(i),l=t.rhoScalar.mul(s).add(t.oneMinusRho.mul(r.square()));t.accumulatedGrads[n].assign(e),t.accumulatedUpdates[n].assign(l);var u=t.c.mul(r).add(o);o.assign(u)})},r=this;for(var o in e)n(o)},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(t){return e.accumulatedUpdates[t].dispose()}),Object.keys(this.accumulatedGrads).forEach(function(t){return e.accumulatedGrads[t].dispose()}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="AdadeltaOptimizer",t}($u);Vu(Zu);var Qu=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads={},r.c=je(ht(-t)),r.epsilon=je(ht(_e.get("EPSILON"))),r}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=function(n){var o=_e.engine.registeredVariables[n];null==r.accumulatedGrads[n]&&Ce(function(){t.accumulatedGrads[n]=wt(o.shape,t.initialAccumulatorValue).variable(!1)});var i=e[n],a=r.accumulatedGrads[n];Ce(function(){var e=a.add(i.square());t.accumulatedGrads[n].assign(e);var r=t.c.mul(i.div(e.add(t.epsilon).sqrt())).add(o);o.assign(r)})},r=this;for(var o in e)n(o)},t.prototype.dispose=function(){var e=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(t){return e.accumulatedGrads[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="AdagradOptimizer",t}($u);Vu(Qu);var Ju=function(e){function t(t,n,r,o){void 0===o&&(o=null);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=o,i.accumulatedFirstMoment={},i.accumulatedSecondMoment={},i.c=je(ht(-t)),i.beta1Scalar=je(ht(n)),i.beta2Scalar=je(ht(r)),Ce(function(){i.accBeta1=ht(n).variable(),i.accBeta2=ht(r).variable()}),i.oneMinusBeta1=je(ht(1-n)),i.oneMinusBeta2=je(ht(1-r)),i.one=je(ht(1)),null===o&&(o=_e.get("EPSILON")),i.epsScalar=je(ht(o)),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this;Ce(function(){var n=t.one.sub(t.accBeta1),r=t.one.sub(t.accBeta2);for(var o in e){var i=_e.engine.registeredVariables[o];if(null==t.accumulatedFirstMoment[o]){var a=!1;t.accumulatedFirstMoment[o]=Nt(i).variable(a)}null==t.accumulatedSecondMoment[o]&&(a=!1,t.accumulatedSecondMoment[o]=Nt(i).variable(a));var s=e[o],l=t.accumulatedFirstMoment[o],u=t.accumulatedSecondMoment[o],c=t.beta1Scalar.mul(l).add(t.oneMinusBeta1.mul(s)),d=t.beta2Scalar.mul(u).add(t.oneMinusBeta2.mul(s.square())),f=c.div(n),h=d.div(r);t.accumulatedFirstMoment[o].assign(c),t.accumulatedSecondMoment[o].assign(d);var p=t.c.mul(f.div(t.epsScalar.add(h.sqrt()))).add(i);i.assign(p)}t.accBeta1.assign(t.accBeta1.mul(t.beta1Scalar)),t.accBeta2.assign(t.accBeta2.mul(t.beta2Scalar))})},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(t){return e.accumulatedFirstMoment[t].dispose()}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(t){return e.accumulatedSecondMoment[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="AdamOptimizer",t}($u);Vu(Ju);var ec=function(e){function t(t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=0);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=o,a.decay=i,a.accumulatedFirstMoment={},a.accumulatedWeightedInfNorm={},a.c=je(ht(-t)),a.beta1Scalar=je(ht(n)),a.beta2Scalar=je(ht(r)),a.decayScalar=je(ht(i)),Ce(function(){a.iteration=ht(0).variable(),a.accBeta1=ht(n).variable()}),a.oneMinusBeta1=je(ht(1-n)),a.one=je(ht(1)),null===o&&(o=_e.get("EPSILON")),a.epsScalar=je(ht(o)),a}return s(t,e),t.prototype.applyGradients=function(e){var t=this;Ce(function(){var n=t.one.sub(t.accBeta1),r=t.c.div(t.one.add(t.decayScalar.mul(t.iteration)));for(var o in e){var i=_e.engine.registeredVariables[o];if(null==t.accumulatedFirstMoment[o]){var a=!1;t.accumulatedFirstMoment[o]=Nt(i).variable(a)}null==t.accumulatedWeightedInfNorm[o]&&(a=!1,t.accumulatedWeightedInfNorm[o]=Nt(i).variable(a));var s=e[o],l=t.accumulatedFirstMoment[o],u=t.accumulatedWeightedInfNorm[o],c=t.beta1Scalar.mul(l).add(t.oneMinusBeta1.mul(s)),d=t.beta2Scalar.mul(u),f=s.abs(),h=d.maximum(f);t.accumulatedFirstMoment[o].assign(c),t.accumulatedWeightedInfNorm[o].assign(h);var p=r.div(n).mul(c.div(t.epsScalar.add(h))).add(i);i.assign(p)}t.iteration.assign(t.iteration.add(t.one)),t.accBeta1.assign(t.accBeta1.mul(t.beta1Scalar))})},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(t){return e.accumulatedFirstMoment[t].dispose()}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(t){return e.accumulatedWeightedInfNorm[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="AdamaxOptimizer",t}($u);Vu(ec);var tc=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return s(t,e),t.prototype.applyGradients=function(e){var t=this;Object.keys(e).forEach(function(n){var r=e[n],o=_e.engine.registeredVariables[n];Ce(function(){var e=t.c.mul(r).add(o);o.assign(e)})})},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=je(ht(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGDOptimizer",t}($u);Vu(tc);var nc=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=r,o.m=ht(o.momentum),o.accumulations={},o}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=function(n){var o=_e.engine.registeredVariables[n];null==r.accumulations[n]&&Ce(function(){t.accumulations[n]=Nt(o).variable(!1)});var i=r.accumulations[n],a=e[n];Ce(function(){var e,r=t.m.mul(i).add(a);e=t.useNesterov?t.c.mul(a.add(r.mul(t.m))).add(o):t.c.mul(r).add(o),t.accumulations[n].assign(r),o.assign(e)})},r=this;for(var o in e)n(o)},t.prototype.dispose=function(){if(e.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var t in this.accumulations)this.accumulations[t].dispose()},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="MomentumOptimizer",t}(tc);Vu(nc);var rc=function(e){function t(t,n,r,o,i){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===i&&(i=!1);var a=e.call(this)||this;return a.learningRate=t,a.decay=n,a.momentum=r,a.epsilon=o,a.accumulatedMeanSquares={},a.accumulatedMeanGrads={},a.accumulatedMoments={},a.c=je(ht(t)),a.decayScalar=je(ht(n)),a.momentumScalar=je(ht(r)),a.oneMinusDecay=je(ht(1-n)),a.centered=i,null===o&&(o=_e.get("EPSILON")),a.epsilonScalar=je(ht(o)),a}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=function(n){var o=_e.engine.registeredVariables[n];null==r.accumulatedMeanSquares[n]&&Ce(function(){t.accumulatedMeanSquares[n]=Nt(o).variable(!1)}),null==r.accumulatedMeanGrads[n]&&r.centered&&Ce(function(){t.accumulatedMeanGrads[n]=Nt(o).variable(!1)}),null==r.accumulatedMoments[n]&&Ce(function(){t.accumulatedMoments[n]=Nt(o).variable(!1)});var i=r.accumulatedMeanSquares[n],a=r.accumulatedMeanGrads[n],s=r.accumulatedMoments[n],l=e[n];Ce(function(){var e=t.decayScalar.mul(i).add(t.oneMinusDecay.mul(l.square()));if(t.centered){var r=t.decayScalar.mul(a).add(t.oneMinusDecay.mul(l)),u=t.momentumScalar.mul(s).add(t.c.mul(l).div(e.sub(r.square().add(t.epsilonScalar)).sqrt()));t.accumulatedMeanSquares[n].assign(e),t.accumulatedMeanGrads[n].assign(r),t.accumulatedMoments[n].assign(u);var c=o.sub(u);o.assign(c)}else{var d=t.decayScalar.mul(i).add(t.oneMinusDecay.mul(l.square()));u=t.momentumScalar.mul(s).add(t.c.mul(l).div(d.add(t.epsilonScalar).sqrt())),t.accumulatedMeanSquares[n].assign(d),t.accumulatedMoments[n].assign(u),c=o.sub(u),o.assign(c)}})},r=this;for(var o in e)n(o)},t.prototype.dispose=function(){var e=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(t){return e.accumulatedMeanSquares[t].dispose()}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(t){return e.accumulatedMeanGrads[t].dispose()}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(t){return e.accumulatedMoments[t].dispose()})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSPropOptimizer",t}($u);Vu(rc);var oc=function(){function e(){}return e.sgd=function(e){return new tc(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new nc(e,t,n)},e.rmsprop=function(e,t,n,r,o){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new rc(e,t,n,r,o)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Ju(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new Zu(e,t,n)},e.adamax=function(e,t,n,r,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new ec(e,t,n,r,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new Qu(e,t)},e}(),ic={sgd:oc.sgd,momentum:oc.momentum,adadelta:oc.adadelta,adagrad:oc.adagrad,rmsprop:oc.rmsprop,adamax:oc.adamax,adam:oc.adam},ac=be.setBackend,sc=be.getBackend,lc=be.disposeVariables,uc=be.memory;!function(e){ne=e}(zl)}.call(this,n("./node_modules/node-libs-browser/node_modules/process/browser.js"),n("./node_modules/webpack/buildin/global.js"),n("./node_modules/timers-browserify/main.js").setImmediate,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/@tensorflow/tfjs-tsne/dist-es6/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js");function o(e,t,n){var o=r.webgl.webgl_util.createVertexShader(e,t),i=r.webgl.webgl_util.createFragmentShader(e,n),a=r.webgl.webgl_util.createProgram(e);return r.webgl.webgl_util.callAndCheck(e,function(){return e.attachShader(a,o)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.attachShader(a,i)}),r.webgl.webgl_util.linkProgram(e,a),r.webgl.webgl_util.validateProgram(e,a),a}function i(e,t,n,o,i){r.webgl.webgl_util.validateTextureSize(e,t,n);var a=r.webgl.webgl_util.createTexture(e),c=e.TEXTURE_2D,d=s(e,o),f=l(e,o);return r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(c,a)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MIN_FILTER,e.LINEAR)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MAG_FILTER,e.LINEAR)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texImage2D(c,0,d,t,n,0,f,u(e),i)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),a}function a(e,t,n,o,i){r.webgl.webgl_util.validateTextureSize(e,t,n);var a=r.webgl.webgl_util.createTexture(e),c=e.TEXTURE_2D,d=s(e,o),f=l(e,o);return r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(c,a)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MIN_FILTER,e.NEAREST)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MAG_FILTER,e.NEAREST)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texImage2D(c,0,d,t,n,0,f,u(e),i)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),a}function s(e,t){return 4===t?e.RGBA32F:3===t?e.RGB32F:2===t?e.RG32F:e.R32F}function l(e,t){return 4===t?e.RGBA:3===t?e.RGB:2===t?e.RG:e.RED}function u(e){return e.FLOAT}function c(e,t){return"#version 300 es\n    precision highp float;\n    uniform sampler2D data_tex;\n    uniform float num_points;\n    uniform float points_per_row_knn;\n    uniform float num_rows_knn;\n    uniform float num_neighs;\n    uniform float iteration;\n\n    #define NUM_PACKED_NEIGHBORS "+t/4+"\n\n    flat in vec4 knn[NUM_PACKED_NEIGHBORS];\n    flat in int point_id;\n    in float neighbor_id;\n\n    const float MAX_DIST = 10e30;\n\n    "+e+"\n\n    out vec4 fragmentColor;\n    void main() {\n      int id = int(neighbor_id/4.);\n      int channel = int(mod(neighbor_id,4.)+0.1);\n\n      if(channel == 0) {\n        fragmentColor = vec4(knn[id].r,0,0,1);\n      }else if(channel == 1) {\n        fragmentColor = vec4(knn[id].g,0,0,1);\n      }else if(channel == 2) {\n        fragmentColor = vec4(knn[id].b,0,0,1);\n      }else if(channel == 3) {\n        fragmentColor = vec4(knn[id].a,0,0,1);\n      }\n\n      //If the neighbor has a valid id i compute the distance squared\n      //otherwise I set it to invalid\n      if(fragmentColor.r >= 0.) {\n        fragmentColor.g = pointDistanceSquared(int(fragmentColor.r),point_id);\n      }else{\n        fragmentColor.g = MAX_DIST;\n      }\n    }\n  "}function d(e){return"\n  precision highp float;\n  #define NEIGH_PER_ITER 20\n  #define NUM_NEIGHBORS "+e+"\n  #define NUM_NEIGHBORS_FLOAT "+e+".\n  #define NUM_PACKED_NEIGHBORS "+e/4+"\n  #define MAX_DIST 10e30\n\n  //attributes\n  in float vertex_id;\n  //uniforms\n  uniform sampler2D data_tex;\n  uniform sampler2D starting_knn_tex;\n  uniform float num_points;\n  uniform float points_per_row_knn;\n  uniform float num_rows_knn;\n  uniform float num_neighs;\n  uniform float iteration;\n\n  //output\n  //the indices are packed in varying vectors\n  flat out vec4 knn[NUM_PACKED_NEIGHBORS];\n  //used to recover the neighbor id in the fragment shader\n  out float neighbor_id;\n  //used to recover the point id in the fragment shader\n  //(for recomputing distances)\n  flat out int point_id;\n\n  float distances_heap[NUM_NEIGHBORS];\n  int knn_heap[NUM_NEIGHBORS];\n  "}var f="\n//Random function developed by Inigo Quilez\n//https://www.shadertoy.com/view/llGSzw\nfloat hash1( uint n ) {\n    // integer hash copied from Hugo Elias\n\t  n = (n << 13U) ^ n;\n    n = n * (n * n * 15731U + 789221U) + 1376312589U;\n    return float( n & uvec3(0x7fffffffU))/float(0x7fffffff);\n}\n\nuint hash( uint x ) {\n    x += ( x << 10u );\n    x ^= ( x >>  6u );\n    x += ( x <<  3u );\n    x ^= ( x >> 11u );\n    x += ( x << 15u );\n    return x;\n}\nfloat random( float f ) {\n    const uint mantissaMask = 0x007FFFFFu;\n    const uint one          = 0x3F800000u;\n\n    uint h = hash( floatBitsToUint( f ) );\n    h &= mantissaMask;\n    h |= one;\n\n    float  r2 = uintBitsToFloat( h );\n    return r2 - 1.0;\n}\n\n\n// #define HASHSCALE1 .1031\n// float random(float p) {\n// \tvec3 p3  = fract(vec3(p) * HASHSCALE1);\n//   p3 += dot(p3, p3.yzx + 19.19);\n//   return fract((p3.x + p3.y) * p3.z);\n// }\n\n// const vec2 randomConst = vec2(\n//   23.14069263277926, // e^pi (Gelfond's constant)\n//    2.665144142690225 // 2^sqrt(2) (GelfondSchneider constant)\n// );\n// float random(float seed) {\n//     return fract(cos(dot(vec2(seed,seed), randomConst)) * 12345.6789);\n// }\n\n",h="\n//Reads the distances and indices from the knn texture\nvoid initializeDistances(int pnt_id) {\n  //row coordinate in the texture\n  float row = (floor(float(pnt_id)/points_per_row_knn)+0.5)/num_rows_knn;\n  //column of the first neighbor\n  float start_col = mod(float(pnt_id),points_per_row_knn)*NUM_NEIGHBORS_FLOAT;\n  for(int n = 0; n < NUM_NEIGHBORS; n++) {\n    float col = (start_col+float(n)+0.5);\n    //normalized by the width of the texture\n    col /= (points_per_row_knn*NUM_NEIGHBORS_FLOAT);\n    //reads the index in the red channel and the distances in the green one\n    vec4 init = texture(starting_knn_tex,vec2(col,row));\n\n    knn_heap[n] = int(init.r);\n    distances_heap[n] = init.g;\n  }\n}\n",p="\n//Swaps two points in the knn-heap\nvoid swap(int i, int j) {\n  float swap_value = distances_heap[i];\n  distances_heap[i] = distances_heap[j];\n  distances_heap[j] = swap_value;\n  int swap_id = knn_heap[i];\n  knn_heap[i] = knn_heap[j];\n  knn_heap[j] = swap_id;\n}\n\n//I can make use of the heap property but\n//I have to implement a recursive function\nbool inTheHeap(float dist_sq, int id) {\n  for(int i = 0; i < NUM_NEIGHBORS; ++i) {\n    if(knn_heap[i] == id) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvoid insertInKNN(float dist_sq, int j) {\n  //not in the KNN\n  if(dist_sq >= distances_heap[0]) {\n    return;\n  }\n\n  //the point is already in the KNN\n  if(inTheHeap(dist_sq,j)) {\n    return;\n  }\n\n  //Insert in the new point in the root\n  distances_heap[0] = dist_sq;\n  knn_heap[0] = j;\n  //Sink procedure\n  int swap_id = 0;\n  while(swap_id*2+1 < NUM_NEIGHBORS) {\n    int left_id = swap_id*2+1;\n    int right_id = swap_id*2+2;\n    if(distances_heap[left_id] > distances_heap[swap_id] ||\n        (right_id < NUM_NEIGHBORS &&\n                            distances_heap[right_id] > distances_heap[swap_id])\n      ) {\n      if(distances_heap[left_id] > distances_heap[right_id]\n         || right_id >= NUM_NEIGHBORS) {\n        swap(swap_id,left_id);\n        swap_id = left_id;\n      }else{\n        swap(swap_id,right_id);\n        swap_id = right_id;\n      }\n    }else{\n      break;\n    }\n  }\n}\n",m="\n  //Line positions\n  float row = (floor(float(point_id)/points_per_row_knn)+0.5)/num_rows_knn;\n  row = row*2.0-1.0;\n  if(line_id < int(1)) {\n    //for the first vertex only the position is important\n    float col = (mod(float(point_id),points_per_row_knn))/(points_per_row_knn);\n    col = col*2.0-1.0;\n    gl_Position = vec4(col,row,0,1);\n    neighbor_id = 0.;\n    return;\n  }\n  //The computation of the KNN happens only for the second vertex\n  float col = (mod(float(point_id),points_per_row_knn)+1.)/(points_per_row_knn);\n  col = col*2.0-1.0;\n  gl_Position = vec4(col,row,0,1);\n";function g(e,t,n,o,i,a,s,l){var u=e.gl,c=e.program,d=u.getParameter(u.LINE_WIDTH);null!=l?e.setOutputMatrixTexture(l,a.numRows,a.pointsPerRow*a.pixelsPerPoint):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),1!==d&&u.lineWidth(1),e.setProgram(t),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),r.webgl.webgl_util.callAndCheck(u,function(){return u.bindBuffer(u.ARRAY_BUFFER,s)}),r.webgl.webgl_util.bindVertexBufferToProgramAttribute(u,t,"vertex_id",s,1,0,0);var f=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"data_tex");e.setInputMatrixTexture(n,f,0);var h=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"starting_knn_tex");e.setInputMatrixTexture(o,h,1);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"iteration");u.uniform1f(p,i);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"num_points");u.uniform1f(m,a.numPoints);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"points_per_row_knn");u.uniform1f(g,a.pointsPerRow);var v=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"num_rows_knn");u.uniform1f(v,a.numRows),r.webgl.webgl_util.callAndCheck(u,function(){return u.drawArrays(u.LINES,0,2*a.numPoints)}),null!=c&&(e.setProgram(c),r.webgl.gpgpu_util.bindVertexProgramAttributeStreams(e.gl,c,e.vertexBuffer)),1!==d&&u.lineWidth(d)}function v(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D knn_tex;\n    uniform float width;\n    uniform float height;\n\n    void main() {\n      vec2 coordinates = gl_FragCoord.xy / vec2(width,height);\n      float id = texture2D(knn_tex,coordinates).r;\n      gl_FragColor = vec4(id,0,0,1);\n\n      if(id < 0.) {\n        gl_FragColor.b = 1.;\n      }\n    }\n  ")}function y(e,t,n,o,i){var a=e.gl;null!=i?e.setOutputMatrixTexture(i,o.numRows,o.pointsPerRow*o.pixelsPerPoint):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var s=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"knn_tex");e.setInputMatrixTexture(n,s,0);var l=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"width");a.uniform1f(l,o.pointsPerRow*o.pixelsPerPoint);var u=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"height");a.uniform1f(u,o.numRows),e.executeProgram()}var b=function(){function e(e,t,n,o,i,a){if(null!=a?this.verbose=a:a=!1,this.backend=r.ENV.findBackend("webgl"),this.gpgpu=this.backend.getGPGPUContext(),this._iteration=0,this.dataTexture=e,i>128)throw new Error("kNN size must not be greater than 128");if(i%4!=0)throw new Error("kNN size must be a multiple of 4");this.numNeighs=i;var s,l,u,c=Math.ceil(Math.sqrt(i*n)/i);if(this.knnDataShape={numPoints:n,pixelsPerPoint:i,pointsPerRow:c,numRows:Math.ceil(n/c)},this.log("knn-pntsPerRow",this.knnDataShape.pointsPerRow),this.log("knn-numRows",this.knnDataShape.numRows),this.log("knn-pixelsPerPoint",this.knnDataShape.pixelsPerPoint),"numPoints"in(u=t)&&"pointsPerRow"in u&&"pixelsPerPoint"in u&&"numRows"in u)s="\n    #define DATA_NUM_PACKED_DIMENSIONS "+(l=t).pixelsPerPoint+".\n    #define DATA_POINTS_PER_ROW "+l.pointsPerRow+".\n    #define DATA_NUM_ROWS "+l.numRows+".\n    #define TEXTURE_WIDTH "+l.pointsPerRow*l.pixelsPerPoint+".\n\n    //returns the texture coordinate for point/dimension\n    vec2 dataTexCoordinates(int id, int dimension) {\n      float id_f = float(id);\n      float row = (floor(id_f/DATA_POINTS_PER_ROW)+0.5) / DATA_NUM_ROWS;\n      float col = ((mod(id_f,DATA_POINTS_PER_ROW)*(DATA_NUM_PACKED_DIMENSIONS)\n                  + float(dimension)) + 0.5) / (TEXTURE_WIDTH);\n      return vec2(col,row);\n    }\n\n    //compute the euclidean squared distances between two points i and j\n    float pointDistanceSquared(int i, int j) {\n      vec4 result = vec4(0,0,0,0);\n      int num_iter = int(DATA_NUM_PACKED_DIMENSIONS);\n      for(int d = 0; d < num_iter; ++d) {\n        vec4 vi = texture(data_tex,dataTexCoordinates(i,d));\n        vec4 vj = texture(data_tex,dataTexCoordinates(j,d));\n        result += (vi-vj)*(vi-vj);\n      }\n      return (result.r+result.g+result.b+result.a);\n    }\n\n    //compute the euclidean squared distances between two points i and j\n    vec4 pointDistanceSquaredBatch(int i, int j0, int j1, int j2, int j3) {\n      vec4 result = vec4(0,0,0,0);\n      int num_iter = int(DATA_NUM_PACKED_DIMENSIONS);\n      for(int d = 0; d < num_iter; ++d) {\n        vec4 vi = texture(data_tex,dataTexCoordinates(i,d));\n        vec4 vj0 = texture(data_tex,dataTexCoordinates(j0,d));\n        vec4 vj1 = texture(data_tex,dataTexCoordinates(j1,d));\n        vec4 vj2 = texture(data_tex,dataTexCoordinates(j2,d));\n        vec4 vj3 = texture(data_tex,dataTexCoordinates(j3,d));\n        vj0 = (vi-vj0); vj0 *= vj0;\n        vj1 = (vi-vj1); vj1 *= vj1;\n        vj2 = (vi-vj2); vj2 *= vj2;\n        vj3 = (vi-vj3); vj3 *= vj3;\n        result.r += (vj0.r+vj0.g+vj0.b+vj0.a);\n        result.g += (vj1.r+vj1.g+vj1.b+vj1.a);\n        result.b += (vj2.r+vj2.g+vj2.b+vj2.a);\n        result.a += (vj3.r+vj3.g+vj3.b+vj3.a);\n      }\n      return result;\n    }\n    ";else if(function(e){return"distanceComputationCode"in e}(t)){s=t.distanceComputationCode}this.initializeTextures(),this.initilizeCustomWebGLPrograms(s)}return Object.defineProperty(e.prototype,"knnShape",{get:function(){return this.knnDataShape},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iteration",{get:function(){return this._iteration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointsPerIteration",{get:function(){return 20},enumerable:!0,configurable:!0}),e.prototype.log=function(e,t){this.verbose&&(null!=t?console.log(e+": \t"+t):console.log(e))},e.prototype.initializeTextures=function(){for(var e=new Float32Array(this.knnDataShape.pointsPerRow*this.knnDataShape.pixelsPerPoint*2*this.knnDataShape.numRows),t=this.knnDataShape.pixelsPerPoint,n=0;n<this.knnDataShape.numPoints;++n)for(var r=0;r<t;++r)e[2*(n*t+r)]=-1,e[2*(n*t+r)+1]=1e31;this.knnTexture0=a(this.gpgpu.gl,this.knnDataShape.pointsPerRow*this.knnDataShape.pixelsPerPoint,this.knnDataShape.numRows,2,e),this.knnTexture1=a(this.gpgpu.gl,this.knnDataShape.pointsPerRow*this.knnDataShape.pixelsPerPoint,this.knnDataShape.numRows,2,e)},e.prototype.initilizeCustomWebGLPrograms=function(e){this.copyDistancesProgram=this.gpgpu.createProgram("\n    precision highp float;\n    uniform sampler2D knn_tex;\n    uniform float width;\n    uniform float height;\n\n    void main() {\n      vec2 coordinates = gl_FragCoord.xy / vec2(width,height);\n      float distance = texture2D(knn_tex,coordinates).g;\n      gl_FragColor = vec4(distance,0,0,1);\n    }\n  "),this.copyIndicesProgram=v(this.gpgpu),this.bruteForceKNNProgram=function(e,t,n){var r="#version 300 es\n    "+d(t)+h+n+p+"\n    void main() {\n      //Getting the id of the point and the line id (0/1)\n      point_id = int((vertex_id / 2.0) + 0.1);\n      int line_id = int(mod(vertex_id + 0.1, 2.));\n      if(float(point_id) >= num_points) {\n        return;\n      }\n\n      "+m+"\n\n      //////////////////////////////////\n      //KNN computation\n      initializeDistances(point_id);\n      for(int i = 0; i < NEIGH_PER_ITER; i += 4) {\n        //TODO make it more readable\n\n        int j = int(mod(\n                    float(point_id + i) //point id + current offset\n                    + iteration * float(NEIGH_PER_ITER) //iteration offset\n                    + 1.25,// +1 for avoid checking the point itself,\n                           // +0.25 for error compensation\n                    num_points\n                  ));\n        vec4 dist_squared = pointDistanceSquaredBatch(point_id,j,j+1,j+2,j+3);\n        insertInKNN(dist_squared.r, j);\n        insertInKNN(dist_squared.g, j+1);\n        insertInKNN(dist_squared.b, j+2);\n        insertInKNN(dist_squared.a, j+3);\n      }\n\n      for(int n = 0; n < NUM_PACKED_NEIGHBORS; n++) {\n        knn[n].r = float(knn_heap[n*4]);\n        knn[n].g = float(knn_heap[n*4+1]);\n        knn[n].b = float(knn_heap[n*4+2]);\n        knn[n].a = float(knn_heap[n*4+3]);\n      }\n\n      neighbor_id = NUM_NEIGHBORS_FLOAT;\n    }\n  ",i=c(n,t);return o(e.gl,r,i)}(this.gpgpu,this.numNeighs,e),this.randomSamplingKNNProgram=function(e,t,n){var r="#version 300 es\n    "+d(t)+h+f+n+p+"\n    void main() {\n      //Getting the id of the point and the line id (0/1)\n      point_id = int((vertex_id/2.0)+0.1);\n      int line_id = int(mod(vertex_id+0.1,2.));\n      if(float(point_id) >= num_points) {\n        return;\n      }\n\n      "+m+"\n\n      //////////////////////////////////\n      //KNN computation\n\n      initializeDistances(point_id);\n      for(int i = 0; i < NEIGH_PER_ITER; i += 4) {\n        //BAD SEED\n        //uint seed\n        //= uint(float(point_id) + float(NEIGH_PER_ITER)*iteration + float(i));\n        //GOOD SEED\n        //uint seed\n        //= uint(float(point_id) + float(num_points)*iteration + float(i));\n\n        float seed\n            = float(float(point_id) + float(num_points)*iteration + float(i));\n        int j0 = int(random(seed)*num_points);\n        int j1 = int(random(seed+1.)*num_points);\n        int j2 = int(random(seed+2.)*num_points);\n        int j3 = int(random(seed+3.)*num_points);\n\n        vec4 dist_squared = pointDistanceSquaredBatch(point_id,j0,j1,j2,j3);\n        if(j0!=point_id)insertInKNN(dist_squared.r, j0);\n        if(j1!=point_id)insertInKNN(dist_squared.g, j1);\n        if(j2!=point_id)insertInKNN(dist_squared.b, j2);\n        if(j3!=point_id)insertInKNN(dist_squared.a, j3);\n      }\n\n      for(int n = 0; n < NUM_PACKED_NEIGHBORS; n++) {\n        knn[n].r = float(knn_heap[n*4]);\n        knn[n].g = float(knn_heap[n*4+1]);\n        knn[n].b = float(knn_heap[n*4+2]);\n        knn[n].a = float(knn_heap[n*4+3]);\n      }\n      neighbor_id = NUM_NEIGHBORS_FLOAT;\n    }\n  ",i=c(n,t);return o(e.gl,r,i)}(this.gpgpu,this.numNeighs,e),this.kNNDescentProgram=function(e,t,n){var r="#version 300 es\n    "+d(t)+h+f+n+p+"\n    int fetchNeighborIdFromKNNTexture(int id, int neighbor_id) {\n      //row coordinate in the texture\n      float row = (floor(float(id)/points_per_row_knn)+0.5)/num_rows_knn;\n      //column of the first neighbor\n      float start_col = mod(float(id),points_per_row_knn)*NUM_NEIGHBORS_FLOAT;\n      //column of the neighbor of interest\n      float col = (start_col+float(neighbor_id)+0.5);\n      //normalized by the width of the texture\n      col /= (points_per_row_knn*NUM_NEIGHBORS_FLOAT);\n      //reads the index in the red channel and the distances in the green one\n      vec4 knn_link = texture(starting_knn_tex,vec2(col,row));\n      //return the index\n      return int(knn_link.r);\n    }\n\n    int neighborOfANeighbor(int my_id, uint seed) {\n      //float random0 = hash1(seed);\n      float random0 = random(float(seed));\n      // random0 = random0*random0;\n      // random0 = 1. - random0;\n\n      //float random1 = hash1(seed*1798191U);\n      float random1 = random(float(seed+7U));\n      // random1 = random1*random1;\n      // random1 = 1. - random1;\n\n      //fetch a neighbor from the heap\n      int neighbor = knn_heap[int(random0*NUM_NEIGHBORS_FLOAT)];\n      //if it is not a valid pick a random point\n      if(neighbor < 0) {\n        return int(random(float(seed))*num_points);\n      }\n\n      //if it is valid I fetch from the knn graph texture one of its neighbors\n      int neighbor2ndDegree = fetchNeighborIdFromKNNTexture(\n                                    neighbor,int(random1*NUM_NEIGHBORS_FLOAT));\n      //if it is not a valid pick a random point\n      if(neighbor2ndDegree < 0) {\n        return int(random(float(seed))*num_points);\n      }\n      return neighbor2ndDegree;\n    }\n\n    void main() {\n      //Getting the id of the point and the line id (0/1)\n      point_id = int((vertex_id/2.0)+0.1);\n      int line_id = int(mod(vertex_id+0.1,2.));\n      if(float(point_id) >= num_points) {\n        return;\n      }\n      "+m+"\n\n      //////////////////////////////////\n      //KNN computation\n      initializeDistances(point_id);\n      for(int i = 0; i < NEIGH_PER_ITER; i += 4) {\n        //BAD SEED\n        //uint seed\n        //= uint(float(point_id) + float(NEIGH_PER_ITER)*iteration + float(i));\n        //GOOD SEED\n        uint seed\n              = uint(float(point_id) + float(num_points)*iteration + float(i));\n        int j0 = neighborOfANeighbor(point_id,seed);\n        int j1 = neighborOfANeighbor(point_id,seed+1U);\n        int j2 = neighborOfANeighbor(point_id,seed+2U);\n        int j3 = neighborOfANeighbor(point_id,seed+3U);\n\n        vec4 dist_squared = pointDistanceSquaredBatch(point_id,j0,j1,j2,j3);\n        if(j0!=point_id)insertInKNN(dist_squared.r, j0);\n        if(j1!=point_id)insertInKNN(dist_squared.g, j1);\n        if(j2!=point_id)insertInKNN(dist_squared.b, j2);\n        if(j3!=point_id)insertInKNN(dist_squared.a, j3);\n      }\n\n      for(int n = 0; n < NUM_PACKED_NEIGHBORS; n++) {\n        knn[n].r = float(knn_heap[n*4]);\n        knn[n].g = float(knn_heap[n*4+1]);\n        knn[n].b = float(knn_heap[n*4+2]);\n        knn[n].a = float(knn_heap[n*4+3]);\n      }\n      neighbor_id = NUM_NEIGHBORS_FLOAT;\n    }\n  ",i=c(n,t);return o(e.gl,r,i)}(this.gpgpu,this.numNeighs,e);for(var t=new Float32Array(2*this.knnDataShape.numPoints),n=0;n<2*this.knnDataShape.numPoints;++n)t[n]=n;this.linesVertexIdBuffer=r.webgl.webgl_util.createStaticVertexBuffer(this.gpgpu.gl,t)},e.prototype.iterateBruteForce=function(){this._iteration%2==0?this.iterateGPU(this.dataTexture,this._iteration,this.knnTexture0,this.knnTexture1):this.iterateGPU(this.dataTexture,this._iteration,this.knnTexture1,this.knnTexture0),++this._iteration,this.gpgpu.gl.finish()},e.prototype.iterateRandomSampling=function(){this._iteration%2==0?this.iterateRandomSamplingGPU(this.dataTexture,this._iteration,this.knnTexture0,this.knnTexture1):this.iterateRandomSamplingGPU(this.dataTexture,this._iteration,this.knnTexture1,this.knnTexture0),++this._iteration,this.gpgpu.gl.finish()},e.prototype.iterateKNNDescent=function(){this._iteration%2==0?this.iterateKNNDescentGPU(this.dataTexture,this._iteration,this.knnTexture0,this.knnTexture1):this.iterateKNNDescentGPU(this.dataTexture,this._iteration,this.knnTexture1,this.knnTexture0),++this._iteration,this.gpgpu.gl.finish()},e.prototype.knn=function(){return this._iteration%2==0?this.knnTexture0:this.knnTexture1},e.prototype.distancesTensor=function(){var e=this;return r.tidy(function(){var t=r.zeros([e.knnDataShape.numRows,e.knnDataShape.pointsPerRow*e.knnDataShape.pixelsPerPoint]),n=e.knn();return function(e,t,n,o,i){var a=e.gl;null!=i?e.setOutputMatrixTexture(i,o.numRows,o.pointsPerRow*o.pixelsPerPoint):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var s=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"knn_tex");e.setInputMatrixTexture(n,s,0);var l=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"width");a.uniform1f(l,o.pointsPerRow*o.pixelsPerPoint);var u=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"height");a.uniform1f(u,o.numRows),e.executeProgram()}(e.gpgpu,e.copyDistancesProgram,n,e.knnDataShape,e.backend.getTexture(t.dataId)),t.reshape([e.knnDataShape.numRows*e.knnDataShape.pointsPerRow,e.knnDataShape.pixelsPerPoint]).slice([0,0],[e.knnDataShape.numPoints,e.knnDataShape.pixelsPerPoint])})},e.prototype.indicesTensor=function(){var e=this;return r.tidy(function(){var t=r.zeros([e.knnDataShape.numRows,e.knnDataShape.pointsPerRow*e.knnDataShape.pixelsPerPoint]),n=e.knn();return y(e.gpgpu,e.copyIndicesProgram,n,e.knnDataShape,e.backend.getTexture(t.dataId)),t.reshape([e.knnDataShape.numRows*e.knnDataShape.pointsPerRow,e.knnDataShape.pixelsPerPoint]).slice([0,0],[e.knnDataShape.numPoints,e.knnDataShape.pixelsPerPoint])})},e.prototype.iterateGPU=function(e,t,n,r){g(this.gpgpu,this.bruteForceKNNProgram,e,n,t,this.knnDataShape,this.linesVertexIdBuffer,r)},e.prototype.iterateRandomSamplingGPU=function(e,t,n,r){g(this.gpgpu,this.randomSamplingKNNProgram,e,n,t,this.knnDataShape,this.linesVertexIdBuffer,r)},e.prototype.iterateKNNDescentGPU=function(e,t,n,r){g(this.gpgpu,this.kNNDescentProgram,e,n,t,this.knnDataShape,this.linesVertexIdBuffer,r)},e}(),_=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},x=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function w(e){return _(this,void 0,void 0,function(){var t,n,o,i,s,l,u,c,d,f,h,p,m,g,v;return x(this,function(y){if(2!==(t=e.shape).length)throw Error("tensorToDataTexture: input tensor must be 2-dimensional");if(null===(n=r.ENV.findBackend("webgl")))throw Error("WebGL backend is not available");for(o=n.getGPGPUContext(),i=t[0],s=t[1],4,l=Math.ceil(s/4),u=Math.floor(Math.sqrt(i*l)/l),c=Math.ceil(i/u),d=e.dataSync(),f=new Float32Array(u*l*c*4),h=0;h<i;++h)for(p=h*s,m=h*l*4,g=0;g<s;++g)f[m+g]=d[p+g];return v=a(o.gl,u*l,c,4,f),[2,{shape:{numPoints:i,pointsPerRow:u,numRows:c,pixelsPerPoint:l},texture:v}]})})}var k=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},T=function(){function e(e,t,n,o){if(null!=t?this.verbose=t:t=!1,this.log("Initializing the tSNE gradient descent computation..."),this.numPoints=e,this._iteration=0,1===r.ENV.get("WEBGL_VERSION"))throw Error("WebGL version 1 is not supported by tfjs-tsne");if(this.backend=r.ENV.findBackend("webgl"),null===this.backend)throw Error("WebGL backend is not available");this.gpgpu=this.backend.getGPGPUContext(),r.webgl.webgl_util.getExtensionOrThrow(this.gpgpu.gl,"OES_texture_float_linear"),this.pointsPerRow=Math.ceil(Math.sqrt(2*e)),this.pointsPerRow%2==1&&++this.pointsPerRow,this.pointsPerRow/=2,this.numRows=Math.ceil(e/this.pointsPerRow),this.log("\t# points per row",this.pointsPerRow),this.log("\t# rows",this.numRows),this._eta=2500,this._momentum=r.scalar(.8),this.rawExaggeration=[{iteration:200,value:4},{iteration:600,value:1}],this.updateExaggeration(),null==n&&(n=5),this.splatTextureDiameter=n,null==o&&(o=50),this.kernelTextureDiameter=2*o+1,this.initializeRepulsiveForceTextures(),this.log("\tSplat texture diameter",this.splatTextureDiameter),this.log("\tKernel texture diameter",this.kernelTextureDiameter),this.initilizeCustomWebGLPrograms(),this.initializeEmbedding(),this.log("\tEmbedding",this.embedding),this.log("\tGradient",this.gradient)}return Object.defineProperty(e.prototype,"minX",{get:function(){return this._minX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this._maxX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this._minY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this._maxY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iteration",{get:function(){return this._iteration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfPoints",{get:function(){return this.numPoints},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfPointsPerRow",{get:function(){return this.pointsPerRow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfRows",{get:function(){return this.numRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"embeddingCoordinates",{get:function(){return this.embedding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"embedding2D",{get:function(){var e=this;return r.tidy(function(){return e.embedding.reshape([e.numRows*e.pointsPerRow,2]).slice([0,0],[e.numPoints,2])})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"embeddingTexture",{get:function(){return this.backend.getTexture(this.embedding.dataId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"splatTexture",{get:function(){return this._splatTexture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normalizationQ",{get:function(){return this._normQ},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exaggerationAtCurrentIteration",{get:function(){return this._exaggeration.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exaggeration",{get:function(){return this.rawExaggeration},set:function(e){if(this.rawExaggeration=e,"number"==typeof e){if(e<1)throw Error("Exaggeration must be greater then or equal to one")}else{for(var t=0;t<e.length;++t){if(e[t].value<1)throw Error("Exaggeration must be greater then or equal to one");if(e[t].iteration<0)throw Error("Piecewise linear exaggeration function                                         must have poistive iteration values")}for(t=0;t<e.length-1;++t)if(e[t].iteration>=e[t+1].iteration)throw Error("Piecewise linear exaggeration function                                       must have increasing iteration values");1===e.length&&(this.exaggeration=e[0].value)}this.updateExaggeration()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"momentum",{get:function(){return this._momentum.get()},set:function(e){if(e<0||e>1)throw Error("Momentum must be in the [0,1] range");this._momentum.dispose(),this._momentum=r.scalar(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eta",{get:function(){return this._eta},set:function(e){if(e<=0)throw Error("ETA must be greater then zero");this._eta=e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.embedding.dispose(),this.gradient.dispose(),this._momentum.dispose(),this._exaggeration.dispose(),this.gpgpu.gl.deleteTexture(this._splatTexture),this.gpgpu.gl.deleteTexture(this.kernelTexture),null!=this.kernelTexture&&this.gpgpu.gl.deleteTexture(this.probOffsetTexture),null!=this.kernelTexture&&this.gpgpu.gl.deleteTexture(this.probNeighIdTexture),null!=this.kernelTexture&&this.gpgpu.gl.deleteTexture(this.probTexture),this.gpgpu.gl.deleteBuffer(this.splatVertexIdBuffer),this.gpgpu.gl.deleteProgram(this.embeddingInitializationProgram),this.gpgpu.gl.deleteProgram(this.embeddingSplatterProgram),this.gpgpu.gl.deleteProgram(this.qInterpolatorProgram),this.gpgpu.gl.deleteProgram(this.xyInterpolatorProgram),this.gpgpu.gl.deleteProgram(this.attractiveForcesProgram),this.gpgpu.gl.deleteProgram(this.distributionParameterssComputationProgram),this.gpgpu.gl.deleteProgram(this.gaussiaDistributionsFromDistancesProgram)},e.prototype.initializeEmbedding=function(){var e=this;null!=this.embedding&&this.embedding.dispose(),null!=this.gradient&&this.gradient.dispose(),this.gradient=r.zeros([this.numRows,2*this.pointsPerRow]),this.embedding=r.tidy(function(){var t=r.randomUniform([e.numRows,2*e.pointsPerRow]),n=r.zeros([e.numRows,2*e.pointsPerRow]);return e.initializeEmbeddingPositions(n,t),n});this._minX=-3,this._minY=-3,this._maxX=3,this._maxY=3,this.log("\tmin X",this._minX),this.log("\tmax X",this._maxX),this.log("\tmin Y",this._minY),this.log("\tmax Y",this._maxY),this._iteration=0},e.prototype.initializeNeighbors=function(e,t,n,r){this.numNeighPerRow=e,this.probOffsetTexture=t,this.probTexture=n,this.probNeighIdTexture=r},e.prototype.initializeNeighborsFromKNNGraph=function(e,t,n,r){return k(this,void 0,void 0,function(){var o,i,s,l,u,c,d,f;return E(this,function(h){switch(h.label){case 0:for(o=Math.floor(Math.sqrt(e*t)/t),i=Math.ceil(e/o),s={numPoints:e,pixelsPerPoint:t,numRows:i,pointsPerRow:o},l=new Float32Array(o*t*i*2),u=0;u<e;++u)for(c=0;c<t;++c)l[2*(d=u*t+c)]=r[d],l[2*d+1]=n[d];return f=a(this.gpgpu.gl,o*t,i,2,l),[4,this.initializeNeighborsFromKNNTexture(s,f)];case 1:return h.sent(),this.gpgpu.gl.deleteTexture(f),[2]}})})},e.prototype.initializeNeighborsFromKNNTexture=function(e,t){return k(this,void 0,void 0,function(){var n,o,i,s,l,u,c,d,f,h,p,m,g,b,_,x,w,k,T,A,S,M,C,j,O,N,R;return E(this,function(E){switch(E.label){case 0:if(this.log("Asymmetric neighborhood initialization..."),e.numPoints!==this.numPoints)throw new Error("KNN size and number of points must agree("+e.numPoints+","+this.numPoints+")");return n=a(this.gpgpu.gl,e.pointsPerRow,e.numRows,2),o=r.zeros([e.numRows,e.pointsPerRow*e.pixelsPerPoint]),i=e.pixelsPerPoint/3,this.computeDistributionParameters(n,e,i,t),this.computeGaussianDistributions(o,n,e,t),[4,o.data()];case 1:return s=E.sent(),this.log("Gaussian distributions",o),l=r.zeros([e.numRows,e.pointsPerRow*e.pixelsPerPoint]),u=v(this.gpgpu),y(this.gpgpu,u,t,e,this.backend.getTexture(l.dataId)),[4,l.data()];case 2:for(c=E.sent(),this.log("knn Indices",l),d=new Float32Array(e.numPoints*e.pixelsPerPoint),S=0;S<this.numPoints;++S)for(f=0;f<e.pixelsPerPoint;++f)C=S*e.pixelsPerPoint+f,d[S*e.pixelsPerPoint+f]=c[C];for(this.log("NeighIds",d),h=new Uint32Array(this.numPoints),p=new Uint32Array(this.numPoints),S=0;S<e.numPoints*e.pixelsPerPoint;++S)++h[d[S]];for(S=1;S<e.numPoints;++S)p[S]=p[S-1]+h[S-1]+e.pixelsPerPoint;for(this.log("Counter",h),this.log("Linear offset",p),m=0,g=0,b=0,S=0;S<h.length;++S)m+=h[S],h[S]>g&&(g=h[S],b=S);for(this.log("Number of indirect links",m),this.log("Most central point",b),this.log("Number of indirect links for the central point",g),this.numNeighPerRow=Math.ceil(Math.sqrt(e.numPoints*e.pixelsPerPoint*2)),this.log("numNeighPerRow",this.numNeighPerRow),_=new Float32Array(this.pointsPerRow*this.numRows*3),x=0,S=0;S<this.numPoints;++S)w=e.pixelsPerPoint+h[S],_[3*S+0]=x%this.numNeighPerRow,_[3*S+1]=Math.floor(x/this.numNeighPerRow),_[3*S+2]=w,x+=w;for(this.log("Offsets",_),this.probOffsetTexture=a(this.gpgpu.gl,this.pointsPerRow,this.numRows,3,_),k=new Float32Array(this.numNeighPerRow*this.numNeighPerRow),T=new Float32Array(this.numNeighPerRow*this.numNeighPerRow),A=new Uint32Array(this.numPoints),S=0;S<this.numPoints;++S)for(M=0;M<e.pixelsPerPoint;++M)C=S*e.pixelsPerPoint+M,j=c[C],O=s[C],N=p[S]+M,R=p[j]+e.pixelsPerPoint+A[j],k[N]=O,k[R]=O,T[N]=j,T[R]=S,++A[j];return this.log("Probabilities",k),this.log("Neighbors",T),this.probTexture=a(this.gpgpu.gl,this.numNeighPerRow,this.numNeighPerRow,1,k),this.probNeighIdTexture=a(this.gpgpu.gl,this.numNeighPerRow,this.numNeighPerRow,1,T),o.dispose(),l.dispose(),this.log("...done!"),[2]}})})},e.prototype.initializedNeighborhoods=function(){return null!=this.probNeighIdTexture},e.prototype.updateExaggeration=function(){if(void 0!==this._exaggeration&&this._exaggeration.dispose(),"number"!=typeof this.rawExaggeration)if(this._iteration<=this.rawExaggeration[0].iteration)this._exaggeration=r.scalar(this.rawExaggeration[0].value);else if(this._iteration>=this.rawExaggeration[this.rawExaggeration.length-1].iteration)this._exaggeration=r.scalar(this.rawExaggeration[this.rawExaggeration.length-1].value);else{for(var e=0;e<this.rawExaggeration.length&&this._iteration<this.rawExaggeration[e].iteration;)++e;var t=this.rawExaggeration[e].iteration,n=this.rawExaggeration[e+1].iteration,o=this.rawExaggeration[e].value,i=this.rawExaggeration[e+1].value,a=(n-this._iteration)/(n-t),s=o*a+i*(1-a);this._exaggeration=r.scalar(s)}else this._exaggeration=r.scalar(this.rawExaggeration)},e.prototype.iterate=function(){return k(this,void 0,void 0,function(){var e,t,n,o=this;return E(this,function(i){switch(i.label){case 0:if(!this.initializedNeighborhoods())throw new Error("No neighborhoods defined. You may want to call                    initializeNeighbors or initializeNeighborsFromKNNGraph");return this.updateSplatTextureDiameter(),this.updateExaggeration(),n=r.tidy(function(){o.splatPoints();var e=r.zeros([o.numRows,o.pointsPerRow]),t=r.zeros([o.numRows,2*o.pointsPerRow]);o.computeInterpolatedQ(e),o.computeInterpolatedXY(t);var n=e.sum(),i=t.div(n),a=r.zeros([o.numRows,2*o.pointsPerRow]);o.computeAttractiveForces(a);var s=a.mul(o._exaggeration).sub(i),l=o.gradient.mul(o._momentum).sub(s);return o.gradient.dispose(),[l,n]}),this.gradient=n[0],e=n[1],t=this,[4,e.data()];case 1:return t._normQ=i.sent()[0],e.dispose(),this.embedding=r.tidy(function(){var e=o.embedding.add(o.gradient);return o.embedding.dispose(),e}),[4,this.computeBoundaries()];case 2:return i.sent(),++this._iteration,[2]}})})},e.prototype.log=function(e,t){this.verbose&&(null!=t?console.log(e+": \t"+t):console.log(e))},e.prototype.initializeRepulsiveForceTextures=function(){this._splatTexture=i(this.gpgpu.gl,this.splatTextureDiameter,this.splatTextureDiameter,4,null),this.kernelSupport=2.5;var e=new Float32Array(this.kernelTextureDiameter*this.kernelTextureDiameter*4),t=Math.floor(this.kernelTextureDiameter/2),n=0,r=0;for(n=0;n<this.kernelTextureDiameter;++n)for(r=0;r<this.kernelTextureDiameter;++r){var o=(r-t)/t*this.kernelSupport,a=(n-t)/t*this.kernelSupport,s=1/(1+(o*o+a*a)),l=4*(n*this.kernelTextureDiameter+r);e[l+0]=s,e[l+1]=s*s*o,e[l+2]=s*s*a,e[l+3]=1}this.kernelTexture=i(this.gpgpu.gl,this.kernelTextureDiameter,this.kernelTextureDiameter,4,e)},e.prototype.initilizeCustomWebGLPrograms=function(){this.log("\tCreating custom programs..."),this.embeddingInitializationProgram=this.gpgpu.createProgram("\n    precision highp float;\n\n    uniform sampler2D random_tex;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n\n    void main() {\n      //add for nearest pixel interpolation\n      vec2 half_pxl = vec2(0.5,0.5);\n\n      // Dimension of the fragment\n      // 0 -> x :1 -> y\n      float dimension = mod(gl_FragCoord.x - 0.4,2.);\n      vec2 pnt_location = gl_FragCoord.xy - half_pxl;\n      pnt_location.x = floor(pnt_location.x / 2.);\n\n      //just an extra fragment -> return\n      if(pnt_location.y*points_per_row + pnt_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,1);\n        return;\n      }\n\n      float width = (points_per_row * 2.0);\n      float row_coord = (pnt_location.y + 0.5)/num_rows;\n      vec2 rad_coord = vec2((pnt_location.x * 2. + 0.5) / width, row_coord);\n      vec2 ang_coord = vec2((pnt_location.x * 2. + 1.5) / width, row_coord);\n\n      float rad = texture2D(random_tex,rad_coord).r * 3.;\n      float ang = texture2D(random_tex,ang_coord).r * 3.1415 * 2.;\n\n      gl_FragColor = vec4(rad,ang,0,1);\n\n      if(dimension < 0.5) {\n        gl_FragColor = vec4(cos(ang) * rad,0,0,0);\n      }else{\n        gl_FragColor = vec4(sin(ang) * rad,0,0,0);\n      }\n    }\n  "),this.embeddingSplatterProgram=function(e){return o(e.gl,"#version 300 es\n    precision highp float;\n    in float vertex_id;\n\n    uniform sampler2D embedding_tex;\n    uniform vec2 minV;\n    uniform vec2 maxV;\n    uniform float kernel_support;\n    uniform float points_per_row;\n    uniform float num_rows;\n\n    out vec2 kernel_coords;\n\n    void main() {\n      //TODO Clean up and check performance loss due to the conversions\n      uint pnt_id = uint((vertex_id / 4.0) + 0.1);\n      uint quad_id = uint(mod(vertex_id + 0.1,4.));\n\n      uint row    = uint((float(pnt_id) + 0.1)/points_per_row);\n      uint column = uint(float(pnt_id) - float(row) * points_per_row);\n\n      float width = (points_per_row * 2.0);\n      float row_tex = (float(row) + 0.5) / num_rows;\n      vec2 tex_coords_x = vec2((float(column) * 2. + 0.5) / width, row_tex);\n      vec2 tex_coords_y = vec2((float(column) * 2. + 1.5) / width, row_tex);\n\n      float x_pnt = texture(embedding_tex,tex_coords_x).r;\n      float y_pnt = texture(embedding_tex,tex_coords_y).r;\n      vec2 vertex_coords = vec2(x_pnt,y_pnt);\n\n      if(quad_id == uint(0)) {kernel_coords = vec2(-1,-1);}\n      else if(quad_id == uint(1)) {kernel_coords = vec2(1,-1);}\n      else if(quad_id == uint(2)) {kernel_coords = vec2(1,1);}\n      else if(quad_id == uint(3)) {kernel_coords = vec2(-1,1);}\n\n      vertex_coords += kernel_coords * kernel_support;      // embedding space\n      vertex_coords = (vertex_coords - minV) / (maxV-minV); //  0:1 space\n      vertex_coords = vertex_coords * 2.0 - 1.0;            // -1:1 space\n\n      gl_Position = vec4(vertex_coords,0,1);\n    }\n  ","#version 300 es\n    precision highp float;\n    uniform sampler2D kernel_tex;\n    in vec2 kernel_coords;\n    out vec4 fragmentColor;\n\n    void main() {\n      fragmentColor = texture(kernel_tex,(kernel_coords + 1.) / 2.0);\n    }\n  ")}(this.gpgpu);var e=new Float32Array(6*this.numPoints),t=0,n=0;for(t=0;t<this.numPoints;++t)e[(n=6*t)+0]=0+4*t,e[n+1]=1+4*t,e[n+2]=2+4*t,e[n+3]=0+4*t,e[n+4]=2+4*t,e[n+5]=3+4*t;this.splatVertexIdBuffer=r.webgl.webgl_util.createStaticVertexBuffer(this.gpgpu.gl,e),this.qInterpolatorProgram=function(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D embedding_tex;\n    uniform sampler2D splat_tex;\n    uniform vec2 minV;\n    uniform vec2 maxV;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n\n    void main() {\n      vec2 pnt_location = gl_FragCoord.xy - vec2(0.5,0.5);\n\n      if(pnt_location.y * points_per_row + pnt_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n\n      float emb_width = (points_per_row * 2.0);\n      float emb_row_coord = (pnt_location.y + 0.5) / num_rows;\n      vec2 emb_coords_x\n              = vec2((pnt_location.x * 2.+0.5) / emb_width, emb_row_coord);\n      vec2 emb_coords_y\n              = vec2((pnt_location.x * 2. + 1.5) / emb_width, emb_row_coord);\n\n      float x_pnt = texture2D(embedding_tex,emb_coords_x).r;\n      float y_pnt = texture2D(embedding_tex,emb_coords_y).r;\n\n      vec2 splat_coords = vec2(x_pnt,y_pnt);\n      splat_coords = (splat_coords - minV) / (maxV - minV); //  0:1 space\n\n      float q = (texture2D(splat_tex,splat_coords).r - 1.);\n\n      gl_FragColor = vec4(q, 0, 0, 1);\n    }\n  ")}(this.gpgpu),this.xyInterpolatorProgram=function(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D embedding_tex;\n    uniform sampler2D splat_tex;\n    uniform vec2 minV;\n    uniform vec2 maxV;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n    uniform float eta;\n\n    void main() {\n      vec2 pnt_location = gl_FragCoord.xy - vec2(0.5,0.5);\n      pnt_location.x = floor(pnt_location.x/2.+0.1);\n\n      if(pnt_location.y*points_per_row + pnt_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n\n      float emb_width = (points_per_row * 2.0);\n      float emb_row_coord = (pnt_location.y + 0.5) / num_rows;\n      vec2 emb_coords_x\n              = vec2((pnt_location.x * 2. + 0.5) / emb_width, emb_row_coord);\n      vec2 emb_coords_y\n              = vec2((pnt_location.x * 2. + 1.5) / emb_width, emb_row_coord);\n\n      float x_pnt = texture2D(embedding_tex,emb_coords_x).r;\n      float y_pnt = texture2D(embedding_tex,emb_coords_y).r;\n\n      vec2 splat_coords = vec2(x_pnt,y_pnt);\n      splat_coords = (splat_coords - minV) / (maxV - minV); //  0:1 space\n\n      float q = 0.;\n      if(mod(gl_FragCoord.x - 0.5,2.) < 0.5 ) {\n        q = texture2D(splat_tex,splat_coords).g * eta * 2.;\n      }else{\n        q = texture2D(splat_tex,splat_coords).b * eta * 2.;\n      }\n\n      gl_FragColor = vec4(q,0.0,0.0,1);\n    }\n  ")}(this.gpgpu),this.attractiveForcesProgram=function(e){return e.createProgram("\n    precision highp float;\n\n    uniform sampler2D embedding_tex;\n    uniform sampler2D offset_tex;\n    uniform sampler2D neigh_id_tex;\n    uniform sampler2D neigh_prob_tex;\n\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n    uniform float num_neighs_per_row;\n    uniform float eta;\n\n    void main() {\n      //add for nearest pixel interpolation\n      vec2 half_pxl = vec2(0.5,0.5);\n\n      // Dimension of the fragment\n      // 0 -> x :1 -> y\n      float dimension = mod(gl_FragCoord.x - 0.4,2.);\n\n      //Point location in the [points_per_row,num_rows] space\n      vec2 i_location = gl_FragCoord.xy - half_pxl;\n      i_location.x = floor(i_location.x / 2. + 0.1);\n\n      //just an extra fragment -> return\n      if(i_location.y*points_per_row + i_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n\n      //Offset coordinates for the point\n      vec2 offset_coord = (i_location + half_pxl) /\n                                              vec2(points_per_row,num_rows);\n      //Offset information ...\n      vec4 offset_info  = texture2D(offset_tex,offset_coord);\n      //... contains the number of neighbors for the point ...\n      float num_neighs  = offset_info.z;\n      //... and the coordinates of the firts neigh in the neigh textures\n      vec2 offset_neigh = offset_info.xy;\n\n      //Computing the coordinates of the point in the texture\n      //_i represent the point to move, _j the neighbors\n      float emb_width = (points_per_row * 2.0);\n      float emb_row_i = (i_location.y + 0.5) / num_rows;\n      vec2 x_i_coord = vec2((i_location.x * 2. + 0.5) / emb_width, emb_row_i);\n      vec2 y_i_coord = vec2((i_location.x * 2. + 1.5) / emb_width, emb_row_i);\n      //getting the coordinates in the embedding\n      float x_i = texture2D(embedding_tex,x_i_coord).r;\n      float y_i = texture2D(embedding_tex,y_i_coord).r;\n\n      //Sum of all attractive forces\n      float sum_pos = 0.;\n\n      //Can't be higher than 1000 (perplexity is usually around 30)\n      //and a 'while' can't be used\n      for(int n = 0; n < 2000; ++n) {\n        //Actual check on number of neighbors\n        if(float(n) >= num_neighs) {\n          break;\n        }\n\n        //Get the id and the probability for the neighbor\n        float pij = texture2D(neigh_prob_tex,\n                              (offset_neigh + half_pxl) / num_neighs_per_row\n                             ).r;\n        float neigh_id = texture2D(neigh_id_tex,\n                                  (offset_neigh + half_pxl) / num_neighs_per_row\n                                  ).r;\n\n        //Getting the coordinates of the neighbor\n        vec2 j_location = vec2(mod(neigh_id + 0.1, points_per_row),\n                               floor(neigh_id / points_per_row + 0.1));\n        float emb_row_j = (j_location.y + 0.5) / num_rows;\n        vec2 x_j_coord = vec2((j_location.x * 2. + 0.5) / emb_width, emb_row_j);\n        vec2 y_j_coord = vec2((j_location.x * 2. + 1.5) / emb_width, emb_row_j);\n        float x_j = texture2D(embedding_tex,x_j_coord).r;\n        float y_j = texture2D(embedding_tex,y_j_coord).r;\n\n        //Actual computation of the attractive forces\n        float dist_x    = (x_i - x_j);\n        float dist_y    = (y_i - y_j);\n        float qij       = 1. / (1. + dist_x * dist_x + dist_y * dist_y);\n        //the update depends on the dimension that this fragment represents\n        if(dimension < 0.5) {\n          // * 4 / (num_points*2) -> * 2 / num_points\n          sum_pos += eta * 2. * pij * qij * dist_x / (num_points);\n        }else{\n          sum_pos += eta * 2. * pij * qij * dist_y / (num_points);\n        }\n\n        //Increase the coordinate of the neigh in the neigh_id texture\n        offset_neigh.x += 1.;\n        //check if the new neigh is in the next row\n        if(offset_neigh.x + 0.2 > num_neighs_per_row) {\n          //in that case reset the column and increase the row\n          offset_neigh.x = 0.1;\n          offset_neigh.y += 1.0;\n        }\n      }\n\n      //The output is the sum of the attractive forces\n      gl_FragColor = vec4(sum_pos,0,0,0);\n    }\n  ")}(this.gpgpu),this.distributionParameterssComputationProgram=function(e){return e.createProgram("\n    precision highp float;\n\n    #define MAX_NEIGHBORS 128\n    #define MAX_ITERATIONS 500\n    #define FLOAT_MAX 10e30\n    #define TOLERANCE 1e-5\n\n    uniform sampler2D knn_graph_tex;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n    uniform float num_neighs;\n    uniform float perplexity;\n\n    vec2 half_pixel = vec2(0.5,0.5);\n    float distances_squared[MAX_NEIGHBORS];\n\n    void readDistances(vec2 point_location) {\n      for(int n = 0; n < MAX_NEIGHBORS; ++n ) {\n        if(float(n) >= num_neighs-0.1) {\n          break;\n        }\n        vec2 knn_coordinates = vec2(\n            (point_location.x * num_neighs + float(n) + half_pixel.x)\n                                        /(points_per_row * num_neighs),\n            (point_location.y + half_pixel.y) / num_rows\n        );\n        distances_squared[n] = texture2D(knn_graph_tex,knn_coordinates).g;\n      }\n    }\n\n    void main() {\n      vec2 point_location = gl_FragCoord.xy - half_pixel;\n      //invalid points\n      if(point_location.y*points_per_row + point_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n      readDistances(point_location);\n\n      //Beta computation\n      float beta = 1.;\n      float max_beta = FLOAT_MAX;\n      float min_beta = -FLOAT_MAX;\n      //To avoid computing the log at every iteration\n      float log_perplexity = log(perplexity);\n      float entropy_diff = 0.;\n      float entropy = 0.;\n      float sum_probabilities = 0.;\n\n      //Binary search for a maximum of MAX_ITERATIONS\n      for(int iteration = 0; iteration < MAX_ITERATIONS; ++iteration) {\n        //At every iteration I compute the\n        //entropy enforced by the current beta\n        sum_probabilities = 0.;\n        entropy = 0.;\n        for(int n = 0; n < MAX_NEIGHBORS; ++n ) {\n          if(float(n) >= num_neighs-0.1) {\n            break;\n          }\n          float neigh_probability = exp(-beta * distances_squared[n]);\n          sum_probabilities += neigh_probability;\n          entropy += beta * distances_squared[n] * neigh_probability;\n        }\n\n        entropy = entropy / sum_probabilities + log(sum_probabilities);\n        entropy_diff = entropy - log_perplexity;\n\n        //the current beta is good enough!\n        if(entropy_diff < TOLERANCE && -entropy_diff < TOLERANCE) {\n          break;\n        }\n\n        if(entropy_diff > 0.) {\n          min_beta = beta;\n          if(max_beta == FLOAT_MAX || max_beta == -FLOAT_MAX) {\n            beta *= 2.;\n          }else{\n            beta = (beta + max_beta) / 2.;\n          }\n        }else{\n          max_beta = beta;\n          if(min_beta == -FLOAT_MAX || min_beta == FLOAT_MAX) {\n            beta /= 2.;\n          }else{\n            beta = (beta + min_beta) / 2.;\n          }\n        }\n      }\n      gl_FragColor = vec4(beta,sum_probabilities,0,1);\n    }\n  ")}(this.gpgpu),this.gaussiaDistributionsFromDistancesProgram=function(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D knn_graph_tex;\n    uniform sampler2D parameters_tex;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n    uniform float num_neighs;\n\n    vec2 half_pixel = vec2(0.5,0.5);\n\n    void main() {\n      vec2 point_location = gl_FragCoord.xy - half_pixel;\n      point_location.x = floor(point_location.x / num_neighs);\n\n      //invalid points\n      if(point_location.y*points_per_row + point_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n      float distance_squared\n            = texture2D(knn_graph_tex,\n                        gl_FragCoord.xy /\n                        vec2(points_per_row*num_neighs,num_rows)\n                      ).g;\n      vec2 parameters\n            = texture2D(parameters_tex,\n                        (point_location.xy + half_pixel)/\n                        vec2(points_per_row,num_rows)\n                      ).rg;\n      float beta = parameters.r;\n      float normalization = parameters.g;\n\n      float probability = exp(-beta * distance_squared) / normalization;\n      //check for NaN for degenerated knn (d = 0 for every point)\n      if (!(probability < 0.0 || 0.0 < probability || probability == 0.0)) {\n        probability = 0.;\n      }\n\n      gl_FragColor = vec4(probability,0,0,1);\n    }\n  ")}(this.gpgpu)},e.prototype.computeBoundaries=function(){return k(this,void 0,void 0,function(){var e,t,n,o,i,a,s,l=this;return E(this,function(u){switch(u.label){case 0:return e=r.tidy(function(){var e=l.embedding.reshape([l.numRows*l.pointsPerRow,2]).slice([0,0],[l.numPoints,2]);return[e.min(0),e.max(0)]}),t=e[0],n=e[1],[4,t.data()];case 1:return o=u.sent(),[4,n.data()];case 2:return i=u.sent(),.05,a=.05*(i[0]-o[0]),this._minX=o[0]-a,this._maxX=i[0]+a,s=.05*(i[1]-o[1]),this._minY=o[1]-s,this._maxY=i[1]+s,t.dispose(),n.dispose(),[2]}})})},e.prototype.updateSplatTextureDiameter=function(){var e=Math.max(this._maxX-this._minX,this._maxY-this._minY),t=Math.min(Math.ceil(Math.max(e/.35,5)),5e3);Math.abs(this.splatTextureDiameter-t)/this.splatTextureDiameter>=.2&&(this.log("Updating splat-texture diameter",t),this.gpgpu.gl.deleteTexture(this._splatTexture),this.splatTextureDiameter=t,this._splatTexture=i(this.gpgpu.gl,this.splatTextureDiameter,this.splatTextureDiameter,4,null))},e.prototype.initializeEmbeddingPositions=function(e,t){!function(e,t,n,o,i,a,s){var l=e.gl;null!=s?e.setOutputMatrixTexture(s,a,2*i):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var u=r.webgl.webgl_util.getProgramUniformLocationOrThrow(l,t,"random_tex");e.setInputMatrixTexture(n,u,3);var c=r.webgl.webgl_util.getProgramUniformLocationOrThrow(l,t,"num_rows");l.uniform1f(c,a);var d=r.webgl.webgl_util.getProgramUniformLocationOrThrow(l,t,"num_points");l.uniform1f(d,o);var f=r.webgl.webgl_util.getProgramUniformLocationOrThrow(l,t,"points_per_row");l.uniform1f(f,i),e.executeProgram()}(this.gpgpu,this.embeddingInitializationProgram,this.backend.getTexture(t.dataId),this.numPoints,this.pointsPerRow,this.numRows,this.backend.getTexture(e.dataId))},e.prototype.splatPoints=function(){!function(e,t,n,o,i,a,s,l,u,c,d,f,h,p,m){var g=e.gl,v=e.program;null!=n?e.setOutputMatrixTexture(n,a,a):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE),r.webgl.webgl_util.callAndCheck(g,function(){return g.bindBuffer(g.ARRAY_BUFFER,m)}),r.webgl.webgl_util.bindVertexBufferToProgramAttribute(g,t,"vertex_id",m,1,0,0);var y=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"embedding_tex");e.setInputMatrixTexture(o,y,0);var b=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"kernel_tex");e.setInputMatrixTexture(i,b,1);var _=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"kernel_support");g.uniform1f(_,f);var x=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"points_per_row");g.uniform1f(x,h);var w=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"num_rows");g.uniform1f(w,p);var k=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"minV");g.uniform2f(k,l,u);var E=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"maxV");g.uniform2f(E,c,d),r.webgl.webgl_util.callAndCheck(g,function(){return g.drawArrays(g.TRIANGLES,0,2*s*3)}),g.disable(g.BLEND),null!=v&&(e.setProgram(v),r.webgl.gpgpu_util.bindVertexProgramAttributeStreams(e.gl,v,e.vertexBuffer))}(this.gpgpu,this.embeddingSplatterProgram,this._splatTexture,this.backend.getTexture(this.embedding.dataId),this.kernelTexture,this.splatTextureDiameter,this.numPoints,this._minX,this._minY,this._maxX,this._maxY,this.kernelSupport,this.pointsPerRow,this.numRows,this.splatVertexIdBuffer)},e.prototype.computeInterpolatedQ=function(e){!function(e,t,n,o,i,a,s,l,u,c,d,f){var h=e.gl;null!=f?e.setOutputMatrixTexture(f,d,c):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"embedding_tex");e.setInputMatrixTexture(o,p,0);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"splat_tex");e.setInputMatrixTexture(n,m,1);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"points_per_row");h.uniform1f(g,c);var v=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_rows");h.uniform1f(v,d);var y=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_points");h.uniform1f(y,i);var b=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"minV");h.uniform2f(b,a,s);var _=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"maxV");h.uniform2f(_,l,u),e.executeProgram()}(this.gpgpu,this.qInterpolatorProgram,this._splatTexture,this.backend.getTexture(this.embedding.dataId),this.numPoints,this._minX,this._minY,this._maxX,this._maxY,this.pointsPerRow,this.numRows,this.backend.getTexture(e.dataId))},e.prototype.computeInterpolatedXY=function(e){!function(e,t,n,o,i,a,s,l,u,c,d,f,h){var p=e.gl;null!=i?e.setOutputMatrixTexture(i,f,2*d):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"embedding_tex");e.setInputMatrixTexture(o,m,0);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"splat_tex");e.setInputMatrixTexture(n,g,1);var v=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"points_per_row");p.uniform1f(v,d);var y=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"num_rows");p.uniform1f(y,f);var b=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"num_points");p.uniform1f(b,a);var _=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"eta");p.uniform1f(_,h);var x=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"minV");p.uniform2f(x,s,l);var w=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"maxV");p.uniform2f(w,u,c),e.executeProgram()}(this.gpgpu,this.xyInterpolatorProgram,this._splatTexture,this.backend.getTexture(this.embedding.dataId),this.backend.getTexture(e.dataId),this.numPoints,this._minX,this._minY,this._maxX,this._maxY,this.pointsPerRow,this.numRows,this._eta)},e.prototype.computeAttractiveForces=function(e){!function(e,t,n,o,i,a,s,l,u,c,d,f){var h=e.gl;null!=f?e.setOutputMatrixTexture(f,c,2*u):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"embedding_tex");e.setInputMatrixTexture(n,p,3);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"offset_tex");e.setInputMatrixTexture(o,m,2);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"neigh_id_tex");e.setInputMatrixTexture(i,g,1);var v=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"neigh_prob_tex");e.setInputMatrixTexture(a,v,0);var y=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_rows");h.uniform1f(y,c);var b=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"eta");h.uniform1f(b,d);var _=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_neighs_per_row");h.uniform1f(_,l);var x=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_points");h.uniform1f(x,s);var w=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"points_per_row");h.uniform1f(w,u),e.executeProgram()}(this.gpgpu,this.attractiveForcesProgram,this.backend.getTexture(this.embedding.dataId),this.probOffsetTexture,this.probNeighIdTexture,this.probTexture,this.numPoints,this.numNeighPerRow,this.pointsPerRow,this.numRows,this._eta,this.backend.getTexture(e.dataId))},e.prototype.computeDistributionParameters=function(e,t,n,o){!function(e,t,n,o,i,a,s,l,u){var c=e.gl;null!=u?e.setOutputMatrixTexture(u,s,a):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var d=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"knn_graph_tex");e.setInputMatrixTexture(n,d,0);var f=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_rows");c.uniform1f(f,s);var h=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_points");c.uniform1f(h,o);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"points_per_row");c.uniform1f(p,a);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_neighs");c.uniform1f(m,i);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"perplexity");c.uniform1f(g,l),e.executeProgram()}(this.gpgpu,this.distributionParameterssComputationProgram,o,t.numPoints,t.pixelsPerPoint,t.pointsPerRow,t.numRows,n,e)},e.prototype.computeGaussianDistributions=function(e,t,n,o){!function(e,t,n,o,i,a,s,l,u){var c=e.gl;null!=u?e.setOutputMatrixTexture(u,l,s*a):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var d=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"knn_graph_tex");e.setInputMatrixTexture(n,d,0);var f=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"parameters_tex");e.setInputMatrixTexture(o,f,1);var h=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_rows");c.uniform1f(h,l);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_points");c.uniform1f(p,i);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"points_per_row");c.uniform1f(m,s);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_neighs");c.uniform1f(g,a),e.executeProgram()}(this.gpgpu,this.gaussiaDistributionsFromDistancesProgram,o,t,n.numPoints,n.pixelsPerPoint,n.pointsPerRow,n.numRows,this.backend.getTexture(e.dataId))},e}(),A=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function M(){var e=r.ENV.findBackend("webgl");if(null===e)throw Error("WebGL backend is not available");var t=e.getGPGPUContext().gl,n=4*(t.getParameter(t.MAX_VARYING_VECTORS)-1);return Math.floor(n/3)}function C(e,t){return new j(e,t)}var j=function(){function e(e,t){this.initialized=!1,this.probabilitiesInitialized=!1,this.data=e,this.config=t;var n=this.data.shape;if(this.numPoints=n[0],this.numDimensions=n[1],2!==n.length)throw Error("computeTSNE: input tensor must be 2-dimensional");var r=18;void 0!==this.config&&void 0!==this.config.perplexity&&(r=this.config.perplexity);var o=M();if(r>o)throw Error("computeTSNE: perplexity cannot be greater than"+o+" on this machine")}return e.prototype.initialize=function(){return A(this,void 0,void 0,function(){var e,t,n,r,o,i,a;return S(this,function(s){switch(s.label){case 0:return e=18,t=4,n=300,r=200,o=.8,this.verbose=!1,this.knnMode="auto",void 0!==this.config&&(void 0!==this.config.perplexity&&(e=this.config.perplexity),void 0!==this.config.exaggeration&&(t=this.config.exaggeration),void 0!==this.config.exaggerationIter&&(n=this.config.exaggerationIter),void 0!==this.config.exaggerationDecayIter&&(r=this.config.exaggerationDecayIter),void 0!==this.config.momentum&&(o=this.config.momentum),void 0!==this.config.verbose&&(this.verbose=this.config.verbose),void 0!==this.config.knnMode&&(this.knnMode=this.config.knnMode)),this.numNeighbors=4*Math.floor(3*e/4),i=this,[4,w(this.data)];case 1:return i.packedData=s.sent(),this.verbose&&(console.log("Number of points:\t"+this.numPoints),console.log("Number of dimensions:\t "+this.numDimensions),console.log("Number of neighbors:\t"+this.numNeighbors),console.log("kNN mode:\t"+this.knnMode)),this.knnEstimator=new b(this.packedData.texture,this.packedData.shape,this.numPoints,this.numDimensions,this.numNeighbors,!1),this.optimizer=new T(this.numPoints,!1),a=[{iteration:n,value:t},{iteration:n+r,value:1}],this.verbose&&console.log("Exaggerating for "+a[0].iteration+" iterations with a value of "+a[0].value+". Exaggeration is removed after "+a[1].iteration+"."),this.optimizer.exaggeration=a,this.optimizer.momentum=o,2500,250,2e3,this.numPoints>2e3?this.optimizer.eta=2500:this.optimizer.eta=250+this.numPoints/2e3*2250,[2]}})})},e.prototype.compute=function(e){return void 0===e&&(e=1e3),A(this,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return t=this.knnIterations(),this.verbose&&(console.log("Number of KNN iterations:\t"+t),console.log("Computing the KNN...")),[4,this.iterateKnn(t)];case 1:return n.sent(),this.verbose&&console.log("Computing the tSNE embedding..."),[4,this.iterate(e)];case 2:return n.sent(),this.verbose&&console.log("Done!"),[2]}})})},e.prototype.iterateKnn=function(e){return void 0===e&&(e=1),A(this,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:[4,this.initialize()];case 1:n.sent(),n.label=2;case 2:for(this.probabilitiesInitialized=!1,t=0;t<e;++t)this.knnEstimator.iterateBruteForce(),this.knnEstimator.iteration%100==0&&this.verbose&&console.log("Iteration KNN:\t"+this.knnEstimator.iteration);return[2]}})})},e.prototype.iterate=function(e){return void 0===e&&(e=1),A(this,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return this.probabilitiesInitialized?[3,2]:[4,this.initializeProbabilities()];case 1:n.sent(),n.label=2;case 2:t=0,n.label=3;case 3:return t<e?[4,this.optimizer.iterate()]:[3,6];case 4:n.sent(),this.optimizer.iteration%100==0&&this.verbose&&console.log("Iteration tSNE:\t"+this.optimizer.iteration),n.label=5;case 5:return++t,[3,3];case 6:return[2]}})})},e.prototype.knnIterations=function(){return Math.ceil(this.numPoints/20)},e.prototype.coordinates=function(e){var t=this;return void 0===e&&(e=!0),e?r.tidy(function(){var e=t.optimizer.maxX-t.optimizer.minX,n=t.optimizer.maxY-t.optimizer.minY,o=r.tensor2d([t.optimizer.minX,t.optimizer.minY],[1,2]),i=r.tensor2d([t.optimizer.maxX,t.optimizer.maxY],[1,2]).sub(o),a=r.max(i),s=r.tidy(function(){return e<n?r.tensor2d([(n-e)/2,0],[1,2]):r.tensor2d([0,(e-n)/2],[1,2])});return t.optimizer.embedding2D.sub(o).add(s).div(a)}):this.optimizer.embedding2D},e.prototype.coordsArray=function(e){return void 0===e&&(e=!0),A(this,void 0,void 0,function(){var t,n,r;return S(this,function(o){switch(o.label){case 0:return[4,this.coordinates(e).data()];case 1:for(t=o.sent(),n=[],r=0;r<t.length;r+=2)n.push([t[r],t[r+1]]);return[2,n]}})})},e.prototype.knnTotalDistance=function(){return A(this,void 0,void 0,function(){var e=this;return S(this,function(t){switch(t.label){case 0:return[4,r.tidy(function(){return e.knnEstimator.distancesTensor().sum()}).data()];case 1:return[2,t.sent()[0]]}})})},e.prototype.initializeProbabilities=function(){return A(this,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return this.verbose&&console.log("Initializing probabilities"),[4,this.optimizer.initializeNeighborsFromKNNTexture(this.knnEstimator.knnShape,this.knnEstimator.knn())];case 1:return e.sent(),this.probabilitiesInitialized=!0,[2]}})})},e}();n.d(t,"KNNEstimator",function(){return b}),n.d(t,"maximumPerplexity",function(){return M}),n.d(t,"tsne",function(){return C}),n.d(t,"TSNEOptimizer",function(){return T})},"./node_modules/@tensorflow/tfjs-tsne/dist/dataset_util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),o=n("./node_modules/@tensorflow/tfjs-tsne/dist/gl_util.js");t.generateDistanceComputationSource=function(e){return"\n    #define DATA_NUM_PACKED_DIMENSIONS "+e.pixelsPerPoint+".\n    #define DATA_POINTS_PER_ROW "+e.pointsPerRow+".\n    #define DATA_NUM_ROWS "+e.numRows+".\n    #define TEXTURE_WIDTH "+e.pointsPerRow*e.pixelsPerPoint+".\n\n    //returns the texture coordinate for point/dimension\n    vec2 dataTexCoordinates(int id, int dimension) {\n      float id_f = float(id);\n      float row = (floor(id_f/DATA_POINTS_PER_ROW)+0.5) / DATA_NUM_ROWS;\n      float col = ((mod(id_f,DATA_POINTS_PER_ROW)*(DATA_NUM_PACKED_DIMENSIONS)\n                  + float(dimension)) + 0.5) / (TEXTURE_WIDTH);\n      return vec2(col,row);\n    }\n\n    //compute the euclidean squared distances between two points i and j\n    float pointDistanceSquared(int i, int j) {\n      vec4 result = vec4(0,0,0,0);\n      int num_iter = int(DATA_NUM_PACKED_DIMENSIONS);\n      for(int d = 0; d < num_iter; ++d) {\n        vec4 vi = texture(data_tex,dataTexCoordinates(i,d));\n        vec4 vj = texture(data_tex,dataTexCoordinates(j,d));\n        result += (vi-vj)*(vi-vj);\n      }\n      return (result.r+result.g+result.b+result.a);\n    }\n\n    //compute the euclidean squared distances between two points i and j\n    vec4 pointDistanceSquaredBatch(int i, int j0, int j1, int j2, int j3) {\n      vec4 result = vec4(0,0,0,0);\n      int num_iter = int(DATA_NUM_PACKED_DIMENSIONS);\n      for(int d = 0; d < num_iter; ++d) {\n        vec4 vi = texture(data_tex,dataTexCoordinates(i,d));\n        vec4 vj0 = texture(data_tex,dataTexCoordinates(j0,d));\n        vec4 vj1 = texture(data_tex,dataTexCoordinates(j1,d));\n        vec4 vj2 = texture(data_tex,dataTexCoordinates(j2,d));\n        vec4 vj3 = texture(data_tex,dataTexCoordinates(j3,d));\n        vj0 = (vi-vj0); vj0 *= vj0;\n        vj1 = (vi-vj1); vj1 *= vj1;\n        vj2 = (vi-vj2); vj2 *= vj2;\n        vj3 = (vi-vj3); vj3 *= vj3;\n        result.r += (vj0.r+vj0.g+vj0.b+vj0.a);\n        result.g += (vj1.r+vj1.g+vj1.b+vj1.a);\n        result.b += (vj2.r+vj2.g+vj2.b+vj2.a);\n        result.a += (vj3.r+vj3.g+vj3.b+vj3.a);\n      }\n      return result;\n    }\n    "},t.generateMNISTDistanceComputationSource=function(){return"\n  #define POINTS_PER_ROW 250.\n  #define NUM_ROWS 240.\n  #define TEXTURE_WIDTH 3500.\n  #define TEXTURE_HEIGHT 3360.\n  #define DIGIT_WIDTH 14.\n  #define NUM_PACKED_DIMENSIONS 196\n\n  //returns the texture coordinate for point/dimension\n  vec2 dataTexCoordinates(int id, int dimension) {\n    float id_f = float(id);\n    float dimension_f = float(dimension);\n    float col = ((mod(id_f,POINTS_PER_ROW)*DIGIT_WIDTH));\n    float row = (floor(id_f/POINTS_PER_ROW)*DIGIT_WIDTH);\n\n    return (vec2(col,row)+\n            vec2(mod(dimension_f,DIGIT_WIDTH),floor(dimension_f/DIGIT_WIDTH))+\n            vec2(0.5,0.5)\n            )/\n            vec2(TEXTURE_WIDTH,TEXTURE_HEIGHT);\n  }\n\n  //compute the euclidean squared distances between two points i and j\n  float pointDistanceSquared(int i, int j) {\n    vec4 result = vec4(0,0,0,0);\n    for(int d = 0; d < NUM_PACKED_DIMENSIONS; d+=1) {\n      vec4 vi = texture(data_tex,dataTexCoordinates(i,d));\n      vec4 vj = texture(data_tex,dataTexCoordinates(j,d));\n      result += (vi-vj)*(vi-vj);\n    }\n    return (result.r+result.g+result.b+result.a);\n  }\n\n  //compute the euclidean squared distances between two points i and j\n  vec4 pointDistanceSquaredBatch(int i, int j0, int j1, int j2, int j3) {\n    vec4 result = vec4(0,0,0,0);\n    for(int d = 0; d < NUM_PACKED_DIMENSIONS; d+=1) {\n      vec4 vi = texture(data_tex,dataTexCoordinates(i,d));\n      vec4 vj0 = texture(data_tex,dataTexCoordinates(j0,d));\n      vec4 vj1 = texture(data_tex,dataTexCoordinates(j1,d));\n      vec4 vj2 = texture(data_tex,dataTexCoordinates(j2,d));\n      vec4 vj3 = texture(data_tex,dataTexCoordinates(j3,d));\n      vj0 = (vi-vj0); vj0 *= vj0;\n      vj1 = (vi-vj1); vj1 *= vj1;\n      vj2 = (vi-vj2); vj2 *= vj2;\n      vj3 = (vi-vj3); vj3 *= vj3;\n      result.r += (vj0.r+vj0.g+vj0.b+vj0.a);\n      result.g += (vj1.r+vj1.g+vj1.b+vj1.a);\n      result.b += (vj2.r+vj2.g+vj2.b+vj2.a);\n      result.a += (vj3.r+vj3.g+vj3.b+vj3.a);\n    }\n    return result;\n  }\n  "},t.generateKNNClusterTexture=function(e,t,n){for(var i=Math.floor(Math.sqrt(e*n)/n),a=Math.ceil(e/i),s={numPoints:e,pixelsPerPoint:n,numRows:a,pointsPerRow:i},l=Math.ceil(e/t),u=new Float32Array(i*n*a*2),c=0;c<e;++c)for(var d=Math.floor(c/l),f=0;f<n;++f){var h=2*(c*n+f);u[h]=Math.floor(Math.random()*l)+d*l,u[h+1]=Math.random()}var p=r.ENV.findBackend("webgl");if(null===p)throw Error("WebGL backend is not available");var m=p.getGPGPUContext();return{knnGraph:o.createAndConfigureTexture(m.gl,i*n,a,2,u),dataShape:s}},t.generateKNNLineTexture=function(e,t){for(var n=Math.floor(Math.sqrt(e*t)/t),i=Math.ceil(e/n),a={numPoints:e,pixelsPerPoint:t,numRows:i,pointsPerRow:n},s=new Float32Array(n*t*i*2),l=0;l<e;++l)for(var u=0;u<t;++u){var c=2*(l*t+u);s[c]=Math.floor(l+u-t/2+e)%e,s[c+1]=1}var d=r.ENV.findBackend("webgl");if(null===d)throw Error("WebGL backend is not available");var f=d.getGPGPUContext();return{knnGraph:o.createAndConfigureTexture(f.gl,n*t,i,2,s),dataShape:a}},t.generateKNNClusterData=function(e,t,n){for(var r=Math.ceil(e/t),o=new Float32Array(e*n),i=new Uint32Array(e*n),a=0;a<e;++a)for(var s=Math.floor(a/r),l=0;l<n;++l){var u=a*n+l;o[u]=Math.random(),i[u]=Math.floor(Math.random()*r)+s*r}return{distances:o,indices:i}},t.generateKNNLineData=function(e,t){for(var n=new Float32Array(e*t),r=new Uint32Array(e*t),o=0;o<e;++o)for(var i=0;i<t;++i){var a=o*t+i;n[a]=1,r[a]=Math.floor(o+i-t/2+e)%e}return{distances:n,indices:r}}},"./node_modules/@tensorflow/tfjs-tsne/dist/gl_util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js");function o(e,t){return 4===t?e.RGBA32F:3===t?e.RGB32F:2===t?e.RG32F:e.R32F}function i(e,t){return 4===t?e.RGBA:3===t?e.RGB:2===t?e.RG:e.RED}function a(e){return e.FLOAT}t.createVertexProgram=function(e,t,n){var o=r.webgl.webgl_util.createVertexShader(e,t),i=r.webgl.webgl_util.createFragmentShader(e,n),a=r.webgl.webgl_util.createProgram(e);return r.webgl.webgl_util.callAndCheck(e,function(){return e.attachShader(a,o)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.attachShader(a,i)}),r.webgl.webgl_util.linkProgram(e,a),r.webgl.webgl_util.validateProgram(e,a),a},t.createAndConfigureInterpolatedTexture=function(e,t,n,s,l){r.webgl.webgl_util.validateTextureSize(e,t,n);var u=r.webgl.webgl_util.createTexture(e),c=e.TEXTURE_2D,d=o(e,s),f=i(e,s);return r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(c,u)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MIN_FILTER,e.LINEAR)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MAG_FILTER,e.LINEAR)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texImage2D(c,0,d,t,n,0,f,a(e),l)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),u},t.createAndConfigureTexture=function(e,t,n,s,l){r.webgl.webgl_util.validateTextureSize(e,t,n);var u=r.webgl.webgl_util.createTexture(e),c=e.TEXTURE_2D,d=o(e,s),f=i(e,s);return r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(c,u)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MIN_FILTER,e.NEAREST)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MAG_FILTER,e.NEAREST)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texImage2D(c,0,d,t,n,0,f,a(e),l)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),u},t.createAndConfigureUByteTexture=function(e,t,n,o,a){r.webgl.webgl_util.validateTextureSize(e,t,n);var s=r.webgl.webgl_util.createTexture(e),l=e.TEXTURE_2D,u=function(e,t){return 4===t?e.RGBA8:3===t?e.RGB8:2===t?e.RG8:e.R8}(e,o),c=i(e,o);return r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(l,s)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.texImage2D(l,0,u,t,n,0,c,function(e){return e.UNSIGNED_BYTE}(e),a)}),r.webgl.webgl_util.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}},"./node_modules/@tensorflow/tfjs-tsne/dist/knn.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),o=n("./node_modules/@tensorflow/tfjs-tsne/dist/dataset_util.js"),i=n("./node_modules/@tensorflow/tfjs-tsne/dist/gl_util.js"),a=n("./node_modules/@tensorflow/tfjs-tsne/dist/knn_util.js");var s=function(){function e(e,t,n,i,a,s){if(null!=s?this.verbose=s:s=!1,this.backend=r.ENV.findBackend("webgl"),this.gpgpu=this.backend.getGPGPUContext(),this._iteration=0,this.dataTexture=e,a>128)throw new Error("kNN size must not be greater than 128");if(a%4!=0)throw new Error("kNN size must be a multiple of 4");this.numNeighs=a;var l,u,c=Math.ceil(Math.sqrt(a*n)/a);if(this.knnDataShape={numPoints:n,pixelsPerPoint:a,pointsPerRow:c,numRows:Math.ceil(n/c)},this.log("knn-pntsPerRow",this.knnDataShape.pointsPerRow),this.log("knn-numRows",this.knnDataShape.numRows),this.log("knn-pixelsPerPoint",this.knnDataShape.pixelsPerPoint),"numPoints"in(u=t)&&"pointsPerRow"in u&&"pixelsPerPoint"in u&&"numRows"in u){var d=t;l=o.generateDistanceComputationSource(d)}else if(function(e){return"distanceComputationCode"in e}(t)){l=t.distanceComputationCode}this.initializeTextures(),this.initilizeCustomWebGLPrograms(l)}return Object.defineProperty(e.prototype,"knnShape",{get:function(){return this.knnDataShape},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iteration",{get:function(){return this._iteration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointsPerIteration",{get:function(){return 20},enumerable:!0,configurable:!0}),e.prototype.log=function(e,t){this.verbose&&(null!=t?console.log(e+": \t"+t):console.log(e))},e.prototype.initializeTextures=function(){for(var e=new Float32Array(this.knnDataShape.pointsPerRow*this.knnDataShape.pixelsPerPoint*2*this.knnDataShape.numRows),t=this.knnDataShape.pixelsPerPoint,n=0;n<this.knnDataShape.numPoints;++n)for(var r=0;r<t;++r)e[2*(n*t+r)]=-1,e[2*(n*t+r)+1]=1e31;this.knnTexture0=i.createAndConfigureTexture(this.gpgpu.gl,this.knnDataShape.pointsPerRow*this.knnDataShape.pixelsPerPoint,this.knnDataShape.numRows,2,e),this.knnTexture1=i.createAndConfigureTexture(this.gpgpu.gl,this.knnDataShape.pointsPerRow*this.knnDataShape.pixelsPerPoint,this.knnDataShape.numRows,2,e)},e.prototype.initilizeCustomWebGLPrograms=function(e){this.copyDistancesProgram=a.createCopyDistancesProgram(this.gpgpu),this.copyIndicesProgram=a.createCopyIndicesProgram(this.gpgpu),this.bruteForceKNNProgram=a.createBruteForceKNNProgram(this.gpgpu,this.numNeighs,e),this.randomSamplingKNNProgram=a.createRandomSamplingKNNProgram(this.gpgpu,this.numNeighs,e),this.kNNDescentProgram=a.createKNNDescentProgram(this.gpgpu,this.numNeighs,e);for(var t=new Float32Array(2*this.knnDataShape.numPoints),n=0;n<2*this.knnDataShape.numPoints;++n)t[n]=n;this.linesVertexIdBuffer=r.webgl.webgl_util.createStaticVertexBuffer(this.gpgpu.gl,t)},e.prototype.iterateBruteForce=function(){this._iteration%2==0?this.iterateGPU(this.dataTexture,this._iteration,this.knnTexture0,this.knnTexture1):this.iterateGPU(this.dataTexture,this._iteration,this.knnTexture1,this.knnTexture0),++this._iteration,this.gpgpu.gl.finish()},e.prototype.iterateRandomSampling=function(){this._iteration%2==0?this.iterateRandomSamplingGPU(this.dataTexture,this._iteration,this.knnTexture0,this.knnTexture1):this.iterateRandomSamplingGPU(this.dataTexture,this._iteration,this.knnTexture1,this.knnTexture0),++this._iteration,this.gpgpu.gl.finish()},e.prototype.iterateKNNDescent=function(){this._iteration%2==0?this.iterateKNNDescentGPU(this.dataTexture,this._iteration,this.knnTexture0,this.knnTexture1):this.iterateKNNDescentGPU(this.dataTexture,this._iteration,this.knnTexture1,this.knnTexture0),++this._iteration,this.gpgpu.gl.finish()},e.prototype.knn=function(){return this._iteration%2==0?this.knnTexture0:this.knnTexture1},e.prototype.distancesTensor=function(){var e=this;return r.tidy(function(){var t=r.zeros([e.knnDataShape.numRows,e.knnDataShape.pointsPerRow*e.knnDataShape.pixelsPerPoint]),n=e.knn();return a.executeCopyDistancesProgram(e.gpgpu,e.copyDistancesProgram,n,e.knnDataShape,e.backend.getTexture(t.dataId)),t.reshape([e.knnDataShape.numRows*e.knnDataShape.pointsPerRow,e.knnDataShape.pixelsPerPoint]).slice([0,0],[e.knnDataShape.numPoints,e.knnDataShape.pixelsPerPoint])})},e.prototype.indicesTensor=function(){var e=this;return r.tidy(function(){var t=r.zeros([e.knnDataShape.numRows,e.knnDataShape.pointsPerRow*e.knnDataShape.pixelsPerPoint]),n=e.knn();return a.executeCopyIndicesProgram(e.gpgpu,e.copyIndicesProgram,n,e.knnDataShape,e.backend.getTexture(t.dataId)),t.reshape([e.knnDataShape.numRows*e.knnDataShape.pointsPerRow,e.knnDataShape.pixelsPerPoint]).slice([0,0],[e.knnDataShape.numPoints,e.knnDataShape.pixelsPerPoint])})},e.prototype.iterateGPU=function(e,t,n,r){a.executeKNNProgram(this.gpgpu,this.bruteForceKNNProgram,e,n,t,this.knnDataShape,this.linesVertexIdBuffer,r)},e.prototype.iterateRandomSamplingGPU=function(e,t,n,r){a.executeKNNProgram(this.gpgpu,this.randomSamplingKNNProgram,e,n,t,this.knnDataShape,this.linesVertexIdBuffer,r)},e.prototype.iterateKNNDescentGPU=function(e,t,n,r){a.executeKNNProgram(this.gpgpu,this.kNNDescentProgram,e,n,t,this.knnDataShape,this.linesVertexIdBuffer,r)},e}();t.KNNEstimator=s},"./node_modules/@tensorflow/tfjs-tsne/dist/knn_util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),o=n("./node_modules/@tensorflow/tfjs-tsne/dist/gl_util.js");function i(e,t){return"#version 300 es\n    precision highp float;\n    uniform sampler2D data_tex;\n    uniform float num_points;\n    uniform float points_per_row_knn;\n    uniform float num_rows_knn;\n    uniform float num_neighs;\n    uniform float iteration;\n\n    #define NUM_PACKED_NEIGHBORS "+t/4+"\n\n    flat in vec4 knn[NUM_PACKED_NEIGHBORS];\n    flat in int point_id;\n    in float neighbor_id;\n\n    const float MAX_DIST = 10e30;\n\n    "+e+"\n\n    out vec4 fragmentColor;\n    void main() {\n      int id = int(neighbor_id/4.);\n      int channel = int(mod(neighbor_id,4.)+0.1);\n\n      if(channel == 0) {\n        fragmentColor = vec4(knn[id].r,0,0,1);\n      }else if(channel == 1) {\n        fragmentColor = vec4(knn[id].g,0,0,1);\n      }else if(channel == 2) {\n        fragmentColor = vec4(knn[id].b,0,0,1);\n      }else if(channel == 3) {\n        fragmentColor = vec4(knn[id].a,0,0,1);\n      }\n\n      //If the neighbor has a valid id i compute the distance squared\n      //otherwise I set it to invalid\n      if(fragmentColor.r >= 0.) {\n        fragmentColor.g = pointDistanceSquared(int(fragmentColor.r),point_id);\n      }else{\n        fragmentColor.g = MAX_DIST;\n      }\n    }\n  "}function a(e){return"\n  precision highp float;\n  #define NEIGH_PER_ITER 20\n  #define NUM_NEIGHBORS "+e+"\n  #define NUM_NEIGHBORS_FLOAT "+e+".\n  #define NUM_PACKED_NEIGHBORS "+e/4+"\n  #define MAX_DIST 10e30\n\n  //attributes\n  in float vertex_id;\n  //uniforms\n  uniform sampler2D data_tex;\n  uniform sampler2D starting_knn_tex;\n  uniform float num_points;\n  uniform float points_per_row_knn;\n  uniform float num_rows_knn;\n  uniform float num_neighs;\n  uniform float iteration;\n\n  //output\n  //the indices are packed in varying vectors\n  flat out vec4 knn[NUM_PACKED_NEIGHBORS];\n  //used to recover the neighbor id in the fragment shader\n  out float neighbor_id;\n  //used to recover the point id in the fragment shader\n  //(for recomputing distances)\n  flat out int point_id;\n\n  float distances_heap[NUM_NEIGHBORS];\n  int knn_heap[NUM_NEIGHBORS];\n  "}var s="\n//Random function developed by Inigo Quilez\n//https://www.shadertoy.com/view/llGSzw\nfloat hash1( uint n ) {\n    // integer hash copied from Hugo Elias\n\t  n = (n << 13U) ^ n;\n    n = n * (n * n * 15731U + 789221U) + 1376312589U;\n    return float( n & uvec3(0x7fffffffU))/float(0x7fffffff);\n}\n\nuint hash( uint x ) {\n    x += ( x << 10u );\n    x ^= ( x >>  6u );\n    x += ( x <<  3u );\n    x ^= ( x >> 11u );\n    x += ( x << 15u );\n    return x;\n}\nfloat random( float f ) {\n    const uint mantissaMask = 0x007FFFFFu;\n    const uint one          = 0x3F800000u;\n\n    uint h = hash( floatBitsToUint( f ) );\n    h &= mantissaMask;\n    h |= one;\n\n    float  r2 = uintBitsToFloat( h );\n    return r2 - 1.0;\n}\n\n\n// #define HASHSCALE1 .1031\n// float random(float p) {\n// \tvec3 p3  = fract(vec3(p) * HASHSCALE1);\n//   p3 += dot(p3, p3.yzx + 19.19);\n//   return fract((p3.x + p3.y) * p3.z);\n// }\n\n// const vec2 randomConst = vec2(\n//   23.14069263277926, // e^pi (Gelfond's constant)\n//    2.665144142690225 // 2^sqrt(2) (GelfondSchneider constant)\n// );\n// float random(float seed) {\n//     return fract(cos(dot(vec2(seed,seed), randomConst)) * 12345.6789);\n// }\n\n",l="\n//Reads the distances and indices from the knn texture\nvoid initializeDistances(int pnt_id) {\n  //row coordinate in the texture\n  float row = (floor(float(pnt_id)/points_per_row_knn)+0.5)/num_rows_knn;\n  //column of the first neighbor\n  float start_col = mod(float(pnt_id),points_per_row_knn)*NUM_NEIGHBORS_FLOAT;\n  for(int n = 0; n < NUM_NEIGHBORS; n++) {\n    float col = (start_col+float(n)+0.5);\n    //normalized by the width of the texture\n    col /= (points_per_row_knn*NUM_NEIGHBORS_FLOAT);\n    //reads the index in the red channel and the distances in the green one\n    vec4 init = texture(starting_knn_tex,vec2(col,row));\n\n    knn_heap[n] = int(init.r);\n    distances_heap[n] = init.g;\n  }\n}\n",u="\n//Swaps two points in the knn-heap\nvoid swap(int i, int j) {\n  float swap_value = distances_heap[i];\n  distances_heap[i] = distances_heap[j];\n  distances_heap[j] = swap_value;\n  int swap_id = knn_heap[i];\n  knn_heap[i] = knn_heap[j];\n  knn_heap[j] = swap_id;\n}\n\n//I can make use of the heap property but\n//I have to implement a recursive function\nbool inTheHeap(float dist_sq, int id) {\n  for(int i = 0; i < NUM_NEIGHBORS; ++i) {\n    if(knn_heap[i] == id) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvoid insertInKNN(float dist_sq, int j) {\n  //not in the KNN\n  if(dist_sq >= distances_heap[0]) {\n    return;\n  }\n\n  //the point is already in the KNN\n  if(inTheHeap(dist_sq,j)) {\n    return;\n  }\n\n  //Insert in the new point in the root\n  distances_heap[0] = dist_sq;\n  knn_heap[0] = j;\n  //Sink procedure\n  int swap_id = 0;\n  while(swap_id*2+1 < NUM_NEIGHBORS) {\n    int left_id = swap_id*2+1;\n    int right_id = swap_id*2+2;\n    if(distances_heap[left_id] > distances_heap[swap_id] ||\n        (right_id < NUM_NEIGHBORS &&\n                            distances_heap[right_id] > distances_heap[swap_id])\n      ) {\n      if(distances_heap[left_id] > distances_heap[right_id]\n         || right_id >= NUM_NEIGHBORS) {\n        swap(swap_id,left_id);\n        swap_id = left_id;\n      }else{\n        swap(swap_id,right_id);\n        swap_id = right_id;\n      }\n    }else{\n      break;\n    }\n  }\n}\n",c="\n  //Line positions\n  float row = (floor(float(point_id)/points_per_row_knn)+0.5)/num_rows_knn;\n  row = row*2.0-1.0;\n  if(line_id < int(1)) {\n    //for the first vertex only the position is important\n    float col = (mod(float(point_id),points_per_row_knn))/(points_per_row_knn);\n    col = col*2.0-1.0;\n    gl_Position = vec4(col,row,0,1);\n    neighbor_id = 0.;\n    return;\n  }\n  //The computation of the KNN happens only for the second vertex\n  float col = (mod(float(point_id),points_per_row_knn)+1.)/(points_per_row_knn);\n  col = col*2.0-1.0;\n  gl_Position = vec4(col,row,0,1);\n";t.createBruteForceKNNProgram=function(e,t,n){var r="#version 300 es\n    "+a(t)+l+n+u+"\n    void main() {\n      //Getting the id of the point and the line id (0/1)\n      point_id = int((vertex_id / 2.0) + 0.1);\n      int line_id = int(mod(vertex_id + 0.1, 2.));\n      if(float(point_id) >= num_points) {\n        return;\n      }\n\n      "+c+"\n\n      //////////////////////////////////\n      //KNN computation\n      initializeDistances(point_id);\n      for(int i = 0; i < NEIGH_PER_ITER; i += 4) {\n        //TODO make it more readable\n\n        int j = int(mod(\n                    float(point_id + i) //point id + current offset\n                    + iteration * float(NEIGH_PER_ITER) //iteration offset\n                    + 1.25,// +1 for avoid checking the point itself,\n                           // +0.25 for error compensation\n                    num_points\n                  ));\n        vec4 dist_squared = pointDistanceSquaredBatch(point_id,j,j+1,j+2,j+3);\n        insertInKNN(dist_squared.r, j);\n        insertInKNN(dist_squared.g, j+1);\n        insertInKNN(dist_squared.b, j+2);\n        insertInKNN(dist_squared.a, j+3);\n      }\n\n      for(int n = 0; n < NUM_PACKED_NEIGHBORS; n++) {\n        knn[n].r = float(knn_heap[n*4]);\n        knn[n].g = float(knn_heap[n*4+1]);\n        knn[n].b = float(knn_heap[n*4+2]);\n        knn[n].a = float(knn_heap[n*4+3]);\n      }\n\n      neighbor_id = NUM_NEIGHBORS_FLOAT;\n    }\n  ",s=i(n,t);return o.createVertexProgram(e.gl,r,s)},t.createRandomSamplingKNNProgram=function(e,t,n){var r="#version 300 es\n    "+a(t)+l+s+n+u+"\n    void main() {\n      //Getting the id of the point and the line id (0/1)\n      point_id = int((vertex_id/2.0)+0.1);\n      int line_id = int(mod(vertex_id+0.1,2.));\n      if(float(point_id) >= num_points) {\n        return;\n      }\n\n      "+c+"\n\n      //////////////////////////////////\n      //KNN computation\n\n      initializeDistances(point_id);\n      for(int i = 0; i < NEIGH_PER_ITER; i += 4) {\n        //BAD SEED\n        //uint seed\n        //= uint(float(point_id) + float(NEIGH_PER_ITER)*iteration + float(i));\n        //GOOD SEED\n        //uint seed\n        //= uint(float(point_id) + float(num_points)*iteration + float(i));\n\n        float seed\n            = float(float(point_id) + float(num_points)*iteration + float(i));\n        int j0 = int(random(seed)*num_points);\n        int j1 = int(random(seed+1.)*num_points);\n        int j2 = int(random(seed+2.)*num_points);\n        int j3 = int(random(seed+3.)*num_points);\n\n        vec4 dist_squared = pointDistanceSquaredBatch(point_id,j0,j1,j2,j3);\n        if(j0!=point_id)insertInKNN(dist_squared.r, j0);\n        if(j1!=point_id)insertInKNN(dist_squared.g, j1);\n        if(j2!=point_id)insertInKNN(dist_squared.b, j2);\n        if(j3!=point_id)insertInKNN(dist_squared.a, j3);\n      }\n\n      for(int n = 0; n < NUM_PACKED_NEIGHBORS; n++) {\n        knn[n].r = float(knn_heap[n*4]);\n        knn[n].g = float(knn_heap[n*4+1]);\n        knn[n].b = float(knn_heap[n*4+2]);\n        knn[n].a = float(knn_heap[n*4+3]);\n      }\n      neighbor_id = NUM_NEIGHBORS_FLOAT;\n    }\n  ",d=i(n,t);return o.createVertexProgram(e.gl,r,d)},t.createKNNDescentProgram=function(e,t,n){var r="#version 300 es\n    "+a(t)+l+s+n+u+"\n    int fetchNeighborIdFromKNNTexture(int id, int neighbor_id) {\n      //row coordinate in the texture\n      float row = (floor(float(id)/points_per_row_knn)+0.5)/num_rows_knn;\n      //column of the first neighbor\n      float start_col = mod(float(id),points_per_row_knn)*NUM_NEIGHBORS_FLOAT;\n      //column of the neighbor of interest\n      float col = (start_col+float(neighbor_id)+0.5);\n      //normalized by the width of the texture\n      col /= (points_per_row_knn*NUM_NEIGHBORS_FLOAT);\n      //reads the index in the red channel and the distances in the green one\n      vec4 knn_link = texture(starting_knn_tex,vec2(col,row));\n      //return the index\n      return int(knn_link.r);\n    }\n\n    int neighborOfANeighbor(int my_id, uint seed) {\n      //float random0 = hash1(seed);\n      float random0 = random(float(seed));\n      // random0 = random0*random0;\n      // random0 = 1. - random0;\n\n      //float random1 = hash1(seed*1798191U);\n      float random1 = random(float(seed+7U));\n      // random1 = random1*random1;\n      // random1 = 1. - random1;\n\n      //fetch a neighbor from the heap\n      int neighbor = knn_heap[int(random0*NUM_NEIGHBORS_FLOAT)];\n      //if it is not a valid pick a random point\n      if(neighbor < 0) {\n        return int(random(float(seed))*num_points);\n      }\n\n      //if it is valid I fetch from the knn graph texture one of its neighbors\n      int neighbor2ndDegree = fetchNeighborIdFromKNNTexture(\n                                    neighbor,int(random1*NUM_NEIGHBORS_FLOAT));\n      //if it is not a valid pick a random point\n      if(neighbor2ndDegree < 0) {\n        return int(random(float(seed))*num_points);\n      }\n      return neighbor2ndDegree;\n    }\n\n    void main() {\n      //Getting the id of the point and the line id (0/1)\n      point_id = int((vertex_id/2.0)+0.1);\n      int line_id = int(mod(vertex_id+0.1,2.));\n      if(float(point_id) >= num_points) {\n        return;\n      }\n      "+c+"\n\n      //////////////////////////////////\n      //KNN computation\n      initializeDistances(point_id);\n      for(int i = 0; i < NEIGH_PER_ITER; i += 4) {\n        //BAD SEED\n        //uint seed\n        //= uint(float(point_id) + float(NEIGH_PER_ITER)*iteration + float(i));\n        //GOOD SEED\n        uint seed\n              = uint(float(point_id) + float(num_points)*iteration + float(i));\n        int j0 = neighborOfANeighbor(point_id,seed);\n        int j1 = neighborOfANeighbor(point_id,seed+1U);\n        int j2 = neighborOfANeighbor(point_id,seed+2U);\n        int j3 = neighborOfANeighbor(point_id,seed+3U);\n\n        vec4 dist_squared = pointDistanceSquaredBatch(point_id,j0,j1,j2,j3);\n        if(j0!=point_id)insertInKNN(dist_squared.r, j0);\n        if(j1!=point_id)insertInKNN(dist_squared.g, j1);\n        if(j2!=point_id)insertInKNN(dist_squared.b, j2);\n        if(j3!=point_id)insertInKNN(dist_squared.a, j3);\n      }\n\n      for(int n = 0; n < NUM_PACKED_NEIGHBORS; n++) {\n        knn[n].r = float(knn_heap[n*4]);\n        knn[n].g = float(knn_heap[n*4+1]);\n        knn[n].b = float(knn_heap[n*4+2]);\n        knn[n].a = float(knn_heap[n*4+3]);\n      }\n      neighbor_id = NUM_NEIGHBORS_FLOAT;\n    }\n  ",d=i(n,t);return o.createVertexProgram(e.gl,r,d)},t.executeKNNProgram=function(e,t,n,o,i,a,s,l){var u=e.gl,c=e.program,d=u.getParameter(u.LINE_WIDTH);null!=l?e.setOutputMatrixTexture(l,a.numRows,a.pointsPerRow*a.pixelsPerPoint):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),1!==d&&u.lineWidth(1),e.setProgram(t),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),r.webgl.webgl_util.callAndCheck(u,function(){return u.bindBuffer(u.ARRAY_BUFFER,s)}),r.webgl.webgl_util.bindVertexBufferToProgramAttribute(u,t,"vertex_id",s,1,0,0);var f=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"data_tex");e.setInputMatrixTexture(n,f,0);var h=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"starting_knn_tex");e.setInputMatrixTexture(o,h,1);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"iteration");u.uniform1f(p,i);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"num_points");u.uniform1f(m,a.numPoints);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"points_per_row_knn");u.uniform1f(g,a.pointsPerRow);var v=r.webgl.webgl_util.getProgramUniformLocationOrThrow(u,t,"num_rows_knn");u.uniform1f(v,a.numRows),r.webgl.webgl_util.callAndCheck(u,function(){return u.drawArrays(u.LINES,0,2*a.numPoints)}),null!=c&&(e.setProgram(c),r.webgl.gpgpu_util.bindVertexProgramAttributeStreams(e.gl,c,e.vertexBuffer)),1!==d&&u.lineWidth(d)},t.createCopyDistancesProgram=function(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D knn_tex;\n    uniform float width;\n    uniform float height;\n\n    void main() {\n      vec2 coordinates = gl_FragCoord.xy / vec2(width,height);\n      float distance = texture2D(knn_tex,coordinates).g;\n      gl_FragColor = vec4(distance,0,0,1);\n    }\n  ")},t.executeCopyDistancesProgram=function(e,t,n,o,i){var a=e.gl;null!=i?e.setOutputMatrixTexture(i,o.numRows,o.pointsPerRow*o.pixelsPerPoint):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var s=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"knn_tex");e.setInputMatrixTexture(n,s,0);var l=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"width");a.uniform1f(l,o.pointsPerRow*o.pixelsPerPoint);var u=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"height");a.uniform1f(u,o.numRows),e.executeProgram()},t.createCopyIndicesProgram=function(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D knn_tex;\n    uniform float width;\n    uniform float height;\n\n    void main() {\n      vec2 coordinates = gl_FragCoord.xy / vec2(width,height);\n      float id = texture2D(knn_tex,coordinates).r;\n      gl_FragColor = vec4(id,0,0,1);\n\n      if(id < 0.) {\n        gl_FragColor.b = 1.;\n      }\n    }\n  ")},t.executeCopyIndicesProgram=function(e,t,n,o,i){var a=e.gl;null!=i?e.setOutputMatrixTexture(i,o.numRows,o.pointsPerRow*o.pixelsPerPoint):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var s=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"knn_tex");e.setInputMatrixTexture(n,s,0);var l=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"width");a.uniform1f(l,o.pointsPerRow*o.pixelsPerPoint);var u=r.webgl.webgl_util.getProgramUniformLocationOrThrow(a,t,"height");a.uniform1f(u,o.numRows),e.executeProgram()}},"./node_modules/@tensorflow/tfjs-tsne/dist/tensor_to_data_texture.js":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),a=n("./node_modules/@tensorflow/tfjs-tsne/dist/gl_util.js");t.tensorToDataTexture=function(e){return r(this,void 0,void 0,function(){var t,n,r,s,l,u,c,d,f,h,p,m,g,v,y;return o(this,function(o){if(2!==(t=e.shape).length)throw Error("tensorToDataTexture: input tensor must be 2-dimensional");if(null===(n=i.ENV.findBackend("webgl")))throw Error("WebGL backend is not available");for(r=n.getGPGPUContext(),s=t[0],l=t[1],u=Math.ceil(l/4),c=Math.floor(Math.sqrt(s*u)/u),d=Math.ceil(s/c),f=e.dataSync(),h=new Float32Array(c*u*d*4),p=0;p<s;++p)for(m=p*l,g=p*u*4,v=0;v<l;++v)h[g+v]=f[m+v];return y=a.createAndConfigureTexture(r.gl,c*u,d,4,h),[2,{shape:{numPoints:s,pointsPerRow:c,numRows:d,pixelsPerPoint:u},texture:y}]})})}},"./node_modules/@tensorflow/tfjs-tsne/dist/tsne.js":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),a=n("./node_modules/@tensorflow/tfjs-tsne/dist/knn.js"),s=n("./node_modules/@tensorflow/tfjs-tsne/dist/tensor_to_data_texture.js"),l=n("./node_modules/@tensorflow/tfjs-tsne/dist/tsne_optimizer.js");function u(){var e=i.ENV.findBackend("webgl");if(null===e)throw Error("WebGL backend is not available");var t=e.getGPGPUContext().gl,n=4*(t.getParameter(t.MAX_VARYING_VECTORS)-1);return Math.floor(n/3)}t.maximumPerplexity=u,t.tsne=function(e,t){return new c(e,t)};var c=function(){function e(e,t){this.initialized=!1,this.probabilitiesInitialized=!1,this.data=e,this.config=t;var n=this.data.shape;if(this.numPoints=n[0],this.numDimensions=n[1],2!==n.length)throw Error("computeTSNE: input tensor must be 2-dimensional");var r=18;void 0!==this.config&&void 0!==this.config.perplexity&&(r=this.config.perplexity);var o=u();if(r>o)throw Error("computeTSNE: perplexity cannot be greater than"+o+" on this machine")}return e.prototype.initialize=function(){return r(this,void 0,void 0,function(){var e,t,n,r,i,u,c;return o(this,function(o){switch(o.label){case 0:return e=18,t=4,n=300,r=200,i=.8,this.verbose=!1,this.knnMode="auto",void 0!==this.config&&(void 0!==this.config.perplexity&&(e=this.config.perplexity),void 0!==this.config.exaggeration&&(t=this.config.exaggeration),void 0!==this.config.exaggerationIter&&(n=this.config.exaggerationIter),void 0!==this.config.exaggerationDecayIter&&(r=this.config.exaggerationDecayIter),void 0!==this.config.momentum&&(i=this.config.momentum),void 0!==this.config.verbose&&(this.verbose=this.config.verbose),void 0!==this.config.knnMode&&(this.knnMode=this.config.knnMode)),this.numNeighbors=4*Math.floor(3*e/4),u=this,[4,s.tensorToDataTexture(this.data)];case 1:return u.packedData=o.sent(),this.verbose&&(console.log("Number of points:\t"+this.numPoints),console.log("Number of dimensions:\t "+this.numDimensions),console.log("Number of neighbors:\t"+this.numNeighbors),console.log("kNN mode:\t"+this.knnMode)),this.knnEstimator=new a.KNNEstimator(this.packedData.texture,this.packedData.shape,this.numPoints,this.numDimensions,this.numNeighbors,!1),this.optimizer=new l.TSNEOptimizer(this.numPoints,!1),c=[{iteration:n,value:t},{iteration:n+r,value:1}],this.verbose&&console.log("Exaggerating for "+c[0].iteration+" iterations with a value of "+c[0].value+". Exaggeration is removed after "+c[1].iteration+"."),this.optimizer.exaggeration=c,this.optimizer.momentum=i,2500,250,2e3,this.numPoints>2e3?this.optimizer.eta=2500:this.optimizer.eta=250+this.numPoints/2e3*2250,[2]}})})},e.prototype.compute=function(e){return void 0===e&&(e=1e3),r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return t=this.knnIterations(),this.verbose&&(console.log("Number of KNN iterations:\t"+t),console.log("Computing the KNN...")),[4,this.iterateKnn(t)];case 1:return n.sent(),this.verbose&&console.log("Computing the tSNE embedding..."),[4,this.iterate(e)];case 2:return n.sent(),this.verbose&&console.log("Done!"),[2]}})})},e.prototype.iterateKnn=function(e){return void 0===e&&(e=1),r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:[4,this.initialize()];case 1:n.sent(),n.label=2;case 2:for(this.probabilitiesInitialized=!1,t=0;t<e;++t)this.knnEstimator.iterateBruteForce(),this.knnEstimator.iteration%100==0&&this.verbose&&console.log("Iteration KNN:\t"+this.knnEstimator.iteration);return[2]}})})},e.prototype.iterate=function(e){return void 0===e&&(e=1),r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return this.probabilitiesInitialized?[3,2]:[4,this.initializeProbabilities()];case 1:n.sent(),n.label=2;case 2:t=0,n.label=3;case 3:return t<e?[4,this.optimizer.iterate()]:[3,6];case 4:n.sent(),this.optimizer.iteration%100==0&&this.verbose&&console.log("Iteration tSNE:\t"+this.optimizer.iteration),n.label=5;case 5:return++t,[3,3];case 6:return[2]}})})},e.prototype.knnIterations=function(){return Math.ceil(this.numPoints/20)},e.prototype.coordinates=function(e){var t=this;return void 0===e&&(e=!0),e?i.tidy(function(){var e=t.optimizer.maxX-t.optimizer.minX,n=t.optimizer.maxY-t.optimizer.minY,r=i.tensor2d([t.optimizer.minX,t.optimizer.minY],[1,2]),o=i.tensor2d([t.optimizer.maxX,t.optimizer.maxY],[1,2]).sub(r),a=i.max(o),s=i.tidy(function(){return e<n?i.tensor2d([(n-e)/2,0],[1,2]):i.tensor2d([0,(e-n)/2],[1,2])});return t.optimizer.embedding2D.sub(r).add(s).div(a)}):this.optimizer.embedding2D},e.prototype.coordsArray=function(e){return void 0===e&&(e=!0),r(this,void 0,void 0,function(){var t,n,r;return o(this,function(o){switch(o.label){case 0:return[4,this.coordinates(e).data()];case 1:for(t=o.sent(),n=[],r=0;r<t.length;r+=2)n.push([t[r],t[r+1]]);return[2,n]}})})},e.prototype.knnTotalDistance=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(t){switch(t.label){case 0:return[4,i.tidy(function(){return e.knnEstimator.distancesTensor().sum()}).data()];case 1:return[2,t.sent()[0]]}})})},e.prototype.initializeProbabilities=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.verbose&&console.log("Initializing probabilities"),[4,this.optimizer.initializeNeighborsFromKNNTexture(this.knnEstimator.knnShape,this.knnEstimator.knn())];case 1:return e.sent(),this.probabilitiesInitialized=!0,[2]}})})},e}();t.TSNE=c},"./node_modules/@tensorflow/tfjs-tsne/dist/tsne_optimizer.js":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),a=n("./node_modules/@tensorflow/tfjs-tsne/dist/gl_util.js"),s=n("./node_modules/@tensorflow/tfjs-tsne/dist/knn_util.js"),l=n("./node_modules/@tensorflow/tfjs-tsne/dist/tsne_optimizer_util.js"),u=function(){function e(e,t,n,r){if(null!=t?this.verbose=t:t=!1,this.log("Initializing the tSNE gradient descent computation..."),this.numPoints=e,this._iteration=0,1===i.ENV.get("WEBGL_VERSION"))throw Error("WebGL version 1 is not supported by tfjs-tsne");if(this.backend=i.ENV.findBackend("webgl"),null===this.backend)throw Error("WebGL backend is not available");this.gpgpu=this.backend.getGPGPUContext(),i.webgl.webgl_util.getExtensionOrThrow(this.gpgpu.gl,"OES_texture_float_linear"),this.pointsPerRow=Math.ceil(Math.sqrt(2*e)),this.pointsPerRow%2==1&&++this.pointsPerRow,this.pointsPerRow/=2,this.numRows=Math.ceil(e/this.pointsPerRow),this.log("\t# points per row",this.pointsPerRow),this.log("\t# rows",this.numRows),this._eta=2500,this._momentum=i.scalar(.8),this.rawExaggeration=[{iteration:200,value:4},{iteration:600,value:1}],this.updateExaggeration(),null==n&&(n=5),this.splatTextureDiameter=n,null==r&&(r=50),this.kernelTextureDiameter=2*r+1,this.initializeRepulsiveForceTextures(),this.log("\tSplat texture diameter",this.splatTextureDiameter),this.log("\tKernel texture diameter",this.kernelTextureDiameter),this.initilizeCustomWebGLPrograms(),this.initializeEmbedding(),this.log("\tEmbedding",this.embedding),this.log("\tGradient",this.gradient)}return Object.defineProperty(e.prototype,"minX",{get:function(){return this._minX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this._maxX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this._minY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this._maxY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iteration",{get:function(){return this._iteration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfPoints",{get:function(){return this.numPoints},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfPointsPerRow",{get:function(){return this.pointsPerRow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfRows",{get:function(){return this.numRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"embeddingCoordinates",{get:function(){return this.embedding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"embedding2D",{get:function(){var e=this;return i.tidy(function(){return e.embedding.reshape([e.numRows*e.pointsPerRow,2]).slice([0,0],[e.numPoints,2])})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"embeddingTexture",{get:function(){return this.backend.getTexture(this.embedding.dataId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"splatTexture",{get:function(){return this._splatTexture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normalizationQ",{get:function(){return this._normQ},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exaggerationAtCurrentIteration",{get:function(){return this._exaggeration.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exaggeration",{get:function(){return this.rawExaggeration},set:function(e){if(this.rawExaggeration=e,"number"==typeof e){if(e<1)throw Error("Exaggeration must be greater then or equal to one")}else{for(var t=0;t<e.length;++t){if(e[t].value<1)throw Error("Exaggeration must be greater then or equal to one");if(e[t].iteration<0)throw Error("Piecewise linear exaggeration function                                         must have poistive iteration values")}for(t=0;t<e.length-1;++t)if(e[t].iteration>=e[t+1].iteration)throw Error("Piecewise linear exaggeration function                                       must have increasing iteration values");1===e.length&&(this.exaggeration=e[0].value)}this.updateExaggeration()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"momentum",{get:function(){return this._momentum.get()},set:function(e){if(e<0||e>1)throw Error("Momentum must be in the [0,1] range");this._momentum.dispose(),this._momentum=i.scalar(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eta",{get:function(){return this._eta},set:function(e){if(e<=0)throw Error("ETA must be greater then zero");this._eta=e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.embedding.dispose(),this.gradient.dispose(),this._momentum.dispose(),this._exaggeration.dispose(),this.gpgpu.gl.deleteTexture(this._splatTexture),this.gpgpu.gl.deleteTexture(this.kernelTexture),null!=this.kernelTexture&&this.gpgpu.gl.deleteTexture(this.probOffsetTexture),null!=this.kernelTexture&&this.gpgpu.gl.deleteTexture(this.probNeighIdTexture),null!=this.kernelTexture&&this.gpgpu.gl.deleteTexture(this.probTexture),this.gpgpu.gl.deleteBuffer(this.splatVertexIdBuffer),this.gpgpu.gl.deleteProgram(this.embeddingInitializationProgram),this.gpgpu.gl.deleteProgram(this.embeddingSplatterProgram),this.gpgpu.gl.deleteProgram(this.qInterpolatorProgram),this.gpgpu.gl.deleteProgram(this.xyInterpolatorProgram),this.gpgpu.gl.deleteProgram(this.attractiveForcesProgram),this.gpgpu.gl.deleteProgram(this.distributionParameterssComputationProgram),this.gpgpu.gl.deleteProgram(this.gaussiaDistributionsFromDistancesProgram)},e.prototype.initializeEmbedding=function(){var e=this;null!=this.embedding&&this.embedding.dispose(),null!=this.gradient&&this.gradient.dispose(),this.gradient=i.zeros([this.numRows,2*this.pointsPerRow]),this.embedding=i.tidy(function(){var t=i.randomUniform([e.numRows,2*e.pointsPerRow]),n=i.zeros([e.numRows,2*e.pointsPerRow]);return e.initializeEmbeddingPositions(n,t),n});this._minX=-3,this._minY=-3,this._maxX=3,this._maxY=3,this.log("\tmin X",this._minX),this.log("\tmax X",this._maxX),this.log("\tmin Y",this._minY),this.log("\tmax Y",this._maxY),this._iteration=0},e.prototype.initializeNeighbors=function(e,t,n,r){this.numNeighPerRow=e,this.probOffsetTexture=t,this.probTexture=n,this.probNeighIdTexture=r},e.prototype.initializeNeighborsFromKNNGraph=function(e,t,n,i){return r(this,void 0,void 0,function(){var r,s,l,u,c,d,f,h;return o(this,function(o){switch(o.label){case 0:for(r=Math.floor(Math.sqrt(e*t)/t),s=Math.ceil(e/r),l={numPoints:e,pixelsPerPoint:t,numRows:s,pointsPerRow:r},u=new Float32Array(r*t*s*2),c=0;c<e;++c)for(d=0;d<t;++d)u[2*(f=c*t+d)]=i[f],u[2*f+1]=n[f];return h=a.createAndConfigureTexture(this.gpgpu.gl,r*t,s,2,u),[4,this.initializeNeighborsFromKNNTexture(l,h)];case 1:return o.sent(),this.gpgpu.gl.deleteTexture(h),[2]}})})},e.prototype.initializeNeighborsFromKNNTexture=function(e,t){return r(this,void 0,void 0,function(){var n,r,l,u,c,d,f,h,p,m,g,v,y,b,_,x,w,k,E,T,A,S,M,C,j,O,N;return o(this,function(o){switch(o.label){case 0:if(this.log("Asymmetric neighborhood initialization..."),e.numPoints!==this.numPoints)throw new Error("KNN size and number of points must agree("+e.numPoints+","+this.numPoints+")");return n=a.createAndConfigureTexture(this.gpgpu.gl,e.pointsPerRow,e.numRows,2),r=i.zeros([e.numRows,e.pointsPerRow*e.pixelsPerPoint]),l=e.pixelsPerPoint/3,this.computeDistributionParameters(n,e,l,t),this.computeGaussianDistributions(r,n,e,t),[4,r.data()];case 1:return u=o.sent(),this.log("Gaussian distributions",r),c=i.zeros([e.numRows,e.pointsPerRow*e.pixelsPerPoint]),d=s.createCopyIndicesProgram(this.gpgpu),s.executeCopyIndicesProgram(this.gpgpu,d,t,e,this.backend.getTexture(c.dataId)),[4,c.data()];case 2:for(f=o.sent(),this.log("knn Indices",c),h=new Float32Array(e.numPoints*e.pixelsPerPoint),A=0;A<this.numPoints;++A)for(p=0;p<e.pixelsPerPoint;++p)M=A*e.pixelsPerPoint+p,h[A*e.pixelsPerPoint+p]=f[M];for(this.log("NeighIds",h),m=new Uint32Array(this.numPoints),g=new Uint32Array(this.numPoints),A=0;A<e.numPoints*e.pixelsPerPoint;++A)++m[h[A]];for(A=1;A<e.numPoints;++A)g[A]=g[A-1]+m[A-1]+e.pixelsPerPoint;for(this.log("Counter",m),this.log("Linear offset",g),v=0,y=0,b=0,A=0;A<m.length;++A)v+=m[A],m[A]>y&&(y=m[A],b=A);for(this.log("Number of indirect links",v),this.log("Most central point",b),this.log("Number of indirect links for the central point",y),this.numNeighPerRow=Math.ceil(Math.sqrt(e.numPoints*e.pixelsPerPoint*2)),this.log("numNeighPerRow",this.numNeighPerRow),_=new Float32Array(this.pointsPerRow*this.numRows*3),x=0,A=0;A<this.numPoints;++A)w=e.pixelsPerPoint+m[A],_[3*A+0]=x%this.numNeighPerRow,_[3*A+1]=Math.floor(x/this.numNeighPerRow),_[3*A+2]=w,x+=w;for(this.log("Offsets",_),this.probOffsetTexture=a.createAndConfigureTexture(this.gpgpu.gl,this.pointsPerRow,this.numRows,3,_),k=new Float32Array(this.numNeighPerRow*this.numNeighPerRow),E=new Float32Array(this.numNeighPerRow*this.numNeighPerRow),T=new Uint32Array(this.numPoints),A=0;A<this.numPoints;++A)for(S=0;S<e.pixelsPerPoint;++S)M=A*e.pixelsPerPoint+S,C=f[M],j=u[M],O=g[A]+S,N=g[C]+e.pixelsPerPoint+T[C],k[O]=j,k[N]=j,E[O]=C,E[N]=A,++T[C];return this.log("Probabilities",k),this.log("Neighbors",E),this.probTexture=a.createAndConfigureTexture(this.gpgpu.gl,this.numNeighPerRow,this.numNeighPerRow,1,k),this.probNeighIdTexture=a.createAndConfigureTexture(this.gpgpu.gl,this.numNeighPerRow,this.numNeighPerRow,1,E),r.dispose(),c.dispose(),this.log("...done!"),[2]}})})},e.prototype.initializedNeighborhoods=function(){return null!=this.probNeighIdTexture},e.prototype.updateExaggeration=function(){if(void 0!==this._exaggeration&&this._exaggeration.dispose(),"number"!=typeof this.rawExaggeration)if(this._iteration<=this.rawExaggeration[0].iteration)this._exaggeration=i.scalar(this.rawExaggeration[0].value);else if(this._iteration>=this.rawExaggeration[this.rawExaggeration.length-1].iteration)this._exaggeration=i.scalar(this.rawExaggeration[this.rawExaggeration.length-1].value);else{for(var e=0;e<this.rawExaggeration.length&&this._iteration<this.rawExaggeration[e].iteration;)++e;var t=this.rawExaggeration[e].iteration,n=this.rawExaggeration[e+1].iteration,r=this.rawExaggeration[e].value,o=this.rawExaggeration[e+1].value,a=(n-this._iteration)/(n-t),s=r*a+o*(1-a);this._exaggeration=i.scalar(s)}else this._exaggeration=i.scalar(this.rawExaggeration)},e.prototype.iterate=function(){return r(this,void 0,void 0,function(){var e,t,n,r=this;return o(this,function(o){switch(o.label){case 0:if(!this.initializedNeighborhoods())throw new Error("No neighborhoods defined. You may want to call                    initializeNeighbors or initializeNeighborsFromKNNGraph");return this.updateSplatTextureDiameter(),this.updateExaggeration(),n=i.tidy(function(){r.splatPoints();var e=i.zeros([r.numRows,r.pointsPerRow]),t=i.zeros([r.numRows,2*r.pointsPerRow]);r.computeInterpolatedQ(e),r.computeInterpolatedXY(t);var n=e.sum(),o=t.div(n),a=i.zeros([r.numRows,2*r.pointsPerRow]);r.computeAttractiveForces(a);var s=a.mul(r._exaggeration).sub(o),l=r.gradient.mul(r._momentum).sub(s);return r.gradient.dispose(),[l,n]}),this.gradient=n[0],e=n[1],t=this,[4,e.data()];case 1:return t._normQ=o.sent()[0],e.dispose(),this.embedding=i.tidy(function(){var e=r.embedding.add(r.gradient);return r.embedding.dispose(),e}),[4,this.computeBoundaries()];case 2:return o.sent(),++this._iteration,[2]}})})},e.prototype.log=function(e,t){this.verbose&&(null!=t?console.log(e+": \t"+t):console.log(e))},e.prototype.initializeRepulsiveForceTextures=function(){this._splatTexture=a.createAndConfigureInterpolatedTexture(this.gpgpu.gl,this.splatTextureDiameter,this.splatTextureDiameter,4,null),this.kernelSupport=2.5;var e=new Float32Array(this.kernelTextureDiameter*this.kernelTextureDiameter*4),t=Math.floor(this.kernelTextureDiameter/2),n=0,r=0;for(n=0;n<this.kernelTextureDiameter;++n)for(r=0;r<this.kernelTextureDiameter;++r){var o=(r-t)/t*this.kernelSupport,i=(n-t)/t*this.kernelSupport,s=1/(1+(o*o+i*i)),l=4*(n*this.kernelTextureDiameter+r);e[l+0]=s,e[l+1]=s*s*o,e[l+2]=s*s*i,e[l+3]=1}this.kernelTexture=a.createAndConfigureInterpolatedTexture(this.gpgpu.gl,this.kernelTextureDiameter,this.kernelTextureDiameter,4,e)},e.prototype.initilizeCustomWebGLPrograms=function(){this.log("\tCreating custom programs..."),this.embeddingInitializationProgram=l.createEmbeddingInitializationProgram(this.gpgpu),this.embeddingSplatterProgram=l.createEmbeddingSplatterProgram(this.gpgpu);var e=new Float32Array(6*this.numPoints),t=0,n=0;for(t=0;t<this.numPoints;++t)e[(n=6*t)+0]=0+4*t,e[n+1]=1+4*t,e[n+2]=2+4*t,e[n+3]=0+4*t,e[n+4]=2+4*t,e[n+5]=3+4*t;this.splatVertexIdBuffer=i.webgl.webgl_util.createStaticVertexBuffer(this.gpgpu.gl,e),this.qInterpolatorProgram=l.createQInterpolatorProgram(this.gpgpu),this.xyInterpolatorProgram=l.createXYInterpolatorProgram(this.gpgpu),this.attractiveForcesProgram=l.createAttractiveForcesComputationProgram(this.gpgpu),this.distributionParameterssComputationProgram=l.createDistributionParametersComputationProgram(this.gpgpu),this.gaussiaDistributionsFromDistancesProgram=l.createGaussiaDistributionsFromDistancesProgram(this.gpgpu)},e.prototype.computeBoundaries=function(){return r(this,void 0,void 0,function(){var e,t,n,r,a,s,l,u=this;return o(this,function(o){switch(o.label){case 0:return e=i.tidy(function(){var e=u.embedding.reshape([u.numRows*u.pointsPerRow,2]).slice([0,0],[u.numPoints,2]);return[e.min(0),e.max(0)]}),t=e[0],n=e[1],[4,t.data()];case 1:return r=o.sent(),[4,n.data()];case 2:return a=o.sent(),.05,s=.05*(a[0]-r[0]),this._minX=r[0]-s,this._maxX=a[0]+s,l=.05*(a[1]-r[1]),this._minY=r[1]-l,this._maxY=a[1]+l,t.dispose(),n.dispose(),[2]}})})},e.prototype.updateSplatTextureDiameter=function(){var e=Math.max(this._maxX-this._minX,this._maxY-this._minY),t=Math.min(Math.ceil(Math.max(e/.35,5)),5e3);Math.abs(this.splatTextureDiameter-t)/this.splatTextureDiameter>=.2&&(this.log("Updating splat-texture diameter",t),this.gpgpu.gl.deleteTexture(this._splatTexture),this.splatTextureDiameter=t,this._splatTexture=a.createAndConfigureInterpolatedTexture(this.gpgpu.gl,this.splatTextureDiameter,this.splatTextureDiameter,4,null))},e.prototype.initializeEmbeddingPositions=function(e,t){l.executeEmbeddingInitializationProgram(this.gpgpu,this.embeddingInitializationProgram,this.backend.getTexture(t.dataId),this.numPoints,this.pointsPerRow,this.numRows,this.backend.getTexture(e.dataId))},e.prototype.splatPoints=function(){l.executeEmbeddingSplatterProgram(this.gpgpu,this.embeddingSplatterProgram,this._splatTexture,this.backend.getTexture(this.embedding.dataId),this.kernelTexture,this.splatTextureDiameter,this.numPoints,this._minX,this._minY,this._maxX,this._maxY,this.kernelSupport,this.pointsPerRow,this.numRows,this.splatVertexIdBuffer)},e.prototype.computeInterpolatedQ=function(e){l.executeQInterpolatorProgram(this.gpgpu,this.qInterpolatorProgram,this._splatTexture,this.backend.getTexture(this.embedding.dataId),this.numPoints,this._minX,this._minY,this._maxX,this._maxY,this.pointsPerRow,this.numRows,this.backend.getTexture(e.dataId))},e.prototype.computeInterpolatedXY=function(e){l.executeXYInterpolatorProgram(this.gpgpu,this.xyInterpolatorProgram,this._splatTexture,this.backend.getTexture(this.embedding.dataId),this.backend.getTexture(e.dataId),this.numPoints,this._minX,this._minY,this._maxX,this._maxY,this.pointsPerRow,this.numRows,this._eta)},e.prototype.computeAttractiveForces=function(e){l.executeAttractiveForcesComputationProgram(this.gpgpu,this.attractiveForcesProgram,this.backend.getTexture(this.embedding.dataId),this.probOffsetTexture,this.probNeighIdTexture,this.probTexture,this.numPoints,this.numNeighPerRow,this.pointsPerRow,this.numRows,this._eta,this.backend.getTexture(e.dataId))},e.prototype.computeDistributionParameters=function(e,t,n,r){l.executeDistributionParametersComputationProgram(this.gpgpu,this.distributionParameterssComputationProgram,r,t.numPoints,t.pixelsPerPoint,t.pointsPerRow,t.numRows,n,e)},e.prototype.computeGaussianDistributions=function(e,t,n,r){l.executeGaussiaDistributionsFromDistancesProgram(this.gpgpu,this.gaussiaDistributionsFromDistancesProgram,r,t,n.numPoints,n.pixelsPerPoint,n.pointsPerRow,n.numRows,this.backend.getTexture(e.dataId))},e}();t.TSNEOptimizer=u},"./node_modules/@tensorflow/tfjs-tsne/dist/tsne_optimizer_util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),o=n("./node_modules/@tensorflow/tfjs-tsne/dist/gl_util.js");t.createEmbeddingSplatterProgram=function(e){return o.createVertexProgram(e.gl,"#version 300 es\n    precision highp float;\n    in float vertex_id;\n\n    uniform sampler2D embedding_tex;\n    uniform vec2 minV;\n    uniform vec2 maxV;\n    uniform float kernel_support;\n    uniform float points_per_row;\n    uniform float num_rows;\n\n    out vec2 kernel_coords;\n\n    void main() {\n      //TODO Clean up and check performance loss due to the conversions\n      uint pnt_id = uint((vertex_id / 4.0) + 0.1);\n      uint quad_id = uint(mod(vertex_id + 0.1,4.));\n\n      uint row    = uint((float(pnt_id) + 0.1)/points_per_row);\n      uint column = uint(float(pnt_id) - float(row) * points_per_row);\n\n      float width = (points_per_row * 2.0);\n      float row_tex = (float(row) + 0.5) / num_rows;\n      vec2 tex_coords_x = vec2((float(column) * 2. + 0.5) / width, row_tex);\n      vec2 tex_coords_y = vec2((float(column) * 2. + 1.5) / width, row_tex);\n\n      float x_pnt = texture(embedding_tex,tex_coords_x).r;\n      float y_pnt = texture(embedding_tex,tex_coords_y).r;\n      vec2 vertex_coords = vec2(x_pnt,y_pnt);\n\n      if(quad_id == uint(0)) {kernel_coords = vec2(-1,-1);}\n      else if(quad_id == uint(1)) {kernel_coords = vec2(1,-1);}\n      else if(quad_id == uint(2)) {kernel_coords = vec2(1,1);}\n      else if(quad_id == uint(3)) {kernel_coords = vec2(-1,1);}\n\n      vertex_coords += kernel_coords * kernel_support;      // embedding space\n      vertex_coords = (vertex_coords - minV) / (maxV-minV); //  0:1 space\n      vertex_coords = vertex_coords * 2.0 - 1.0;            // -1:1 space\n\n      gl_Position = vec4(vertex_coords,0,1);\n    }\n  ","#version 300 es\n    precision highp float;\n    uniform sampler2D kernel_tex;\n    in vec2 kernel_coords;\n    out vec4 fragmentColor;\n\n    void main() {\n      fragmentColor = texture(kernel_tex,(kernel_coords + 1.) / 2.0);\n    }\n  ")},t.executeEmbeddingSplatterProgram=function(e,t,n,o,i,a,s,l,u,c,d,f,h,p,m){var g=e.gl,v=e.program;null!=n?e.setOutputMatrixTexture(n,a,a):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE),r.webgl.webgl_util.callAndCheck(g,function(){return g.bindBuffer(g.ARRAY_BUFFER,m)}),r.webgl.webgl_util.bindVertexBufferToProgramAttribute(g,t,"vertex_id",m,1,0,0);var y=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"embedding_tex");e.setInputMatrixTexture(o,y,0);var b=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"kernel_tex");e.setInputMatrixTexture(i,b,1);var _=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"kernel_support");g.uniform1f(_,f);var x=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"points_per_row");g.uniform1f(x,h);var w=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"num_rows");g.uniform1f(w,p);var k=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"minV");g.uniform2f(k,l,u);var E=r.webgl.webgl_util.getProgramUniformLocationOrThrow(g,t,"maxV");g.uniform2f(E,c,d),r.webgl.webgl_util.callAndCheck(g,function(){return g.drawArrays(g.TRIANGLES,0,2*s*3)}),g.disable(g.BLEND),null!=v&&(e.setProgram(v),r.webgl.gpgpu_util.bindVertexProgramAttributeStreams(e.gl,v,e.vertexBuffer))},t.createQInterpolatorProgram=function(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D embedding_tex;\n    uniform sampler2D splat_tex;\n    uniform vec2 minV;\n    uniform vec2 maxV;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n\n    void main() {\n      vec2 pnt_location = gl_FragCoord.xy - vec2(0.5,0.5);\n\n      if(pnt_location.y * points_per_row + pnt_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n\n      float emb_width = (points_per_row * 2.0);\n      float emb_row_coord = (pnt_location.y + 0.5) / num_rows;\n      vec2 emb_coords_x\n              = vec2((pnt_location.x * 2.+0.5) / emb_width, emb_row_coord);\n      vec2 emb_coords_y\n              = vec2((pnt_location.x * 2. + 1.5) / emb_width, emb_row_coord);\n\n      float x_pnt = texture2D(embedding_tex,emb_coords_x).r;\n      float y_pnt = texture2D(embedding_tex,emb_coords_y).r;\n\n      vec2 splat_coords = vec2(x_pnt,y_pnt);\n      splat_coords = (splat_coords - minV) / (maxV - minV); //  0:1 space\n\n      float q = (texture2D(splat_tex,splat_coords).r - 1.);\n\n      gl_FragColor = vec4(q, 0, 0, 1);\n    }\n  ")},t.executeQInterpolatorProgram=function(e,t,n,o,i,a,s,l,u,c,d,f){var h=e.gl;null!=f?e.setOutputMatrixTexture(f,d,c):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"embedding_tex");e.setInputMatrixTexture(o,p,0);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"splat_tex");e.setInputMatrixTexture(n,m,1);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"points_per_row");h.uniform1f(g,c);var v=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_rows");h.uniform1f(v,d);var y=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_points");h.uniform1f(y,i);var b=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"minV");h.uniform2f(b,a,s);var _=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"maxV");h.uniform2f(_,l,u),e.executeProgram()},t.createXYInterpolatorProgram=function(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D embedding_tex;\n    uniform sampler2D splat_tex;\n    uniform vec2 minV;\n    uniform vec2 maxV;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n    uniform float eta;\n\n    void main() {\n      vec2 pnt_location = gl_FragCoord.xy - vec2(0.5,0.5);\n      pnt_location.x = floor(pnt_location.x/2.+0.1);\n\n      if(pnt_location.y*points_per_row + pnt_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n\n      float emb_width = (points_per_row * 2.0);\n      float emb_row_coord = (pnt_location.y + 0.5) / num_rows;\n      vec2 emb_coords_x\n              = vec2((pnt_location.x * 2. + 0.5) / emb_width, emb_row_coord);\n      vec2 emb_coords_y\n              = vec2((pnt_location.x * 2. + 1.5) / emb_width, emb_row_coord);\n\n      float x_pnt = texture2D(embedding_tex,emb_coords_x).r;\n      float y_pnt = texture2D(embedding_tex,emb_coords_y).r;\n\n      vec2 splat_coords = vec2(x_pnt,y_pnt);\n      splat_coords = (splat_coords - minV) / (maxV - minV); //  0:1 space\n\n      float q = 0.;\n      if(mod(gl_FragCoord.x - 0.5,2.) < 0.5 ) {\n        q = texture2D(splat_tex,splat_coords).g * eta * 2.;\n      }else{\n        q = texture2D(splat_tex,splat_coords).b * eta * 2.;\n      }\n\n      gl_FragColor = vec4(q,0.0,0.0,1);\n    }\n  ")},t.executeXYInterpolatorProgram=function(e,t,n,o,i,a,s,l,u,c,d,f,h){var p=e.gl;null!=i?e.setOutputMatrixTexture(i,f,2*d):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"embedding_tex");e.setInputMatrixTexture(o,m,0);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"splat_tex");e.setInputMatrixTexture(n,g,1);var v=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"points_per_row");p.uniform1f(v,d);var y=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"num_rows");p.uniform1f(y,f);var b=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"num_points");p.uniform1f(b,a);var _=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"eta");p.uniform1f(_,h);var x=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"minV");p.uniform2f(x,s,l);var w=r.webgl.webgl_util.getProgramUniformLocationOrThrow(p,t,"maxV");p.uniform2f(w,u,c),e.executeProgram()},t.createAttractiveForcesComputationProgram=function(e){return e.createProgram("\n    precision highp float;\n\n    uniform sampler2D embedding_tex;\n    uniform sampler2D offset_tex;\n    uniform sampler2D neigh_id_tex;\n    uniform sampler2D neigh_prob_tex;\n\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n    uniform float num_neighs_per_row;\n    uniform float eta;\n\n    void main() {\n      //add for nearest pixel interpolation\n      vec2 half_pxl = vec2(0.5,0.5);\n\n      // Dimension of the fragment\n      // 0 -> x :1 -> y\n      float dimension = mod(gl_FragCoord.x - 0.4,2.);\n\n      //Point location in the [points_per_row,num_rows] space\n      vec2 i_location = gl_FragCoord.xy - half_pxl;\n      i_location.x = floor(i_location.x / 2. + 0.1);\n\n      //just an extra fragment -> return\n      if(i_location.y*points_per_row + i_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n\n      //Offset coordinates for the point\n      vec2 offset_coord = (i_location + half_pxl) /\n                                              vec2(points_per_row,num_rows);\n      //Offset information ...\n      vec4 offset_info  = texture2D(offset_tex,offset_coord);\n      //... contains the number of neighbors for the point ...\n      float num_neighs  = offset_info.z;\n      //... and the coordinates of the firts neigh in the neigh textures\n      vec2 offset_neigh = offset_info.xy;\n\n      //Computing the coordinates of the point in the texture\n      //_i represent the point to move, _j the neighbors\n      float emb_width = (points_per_row * 2.0);\n      float emb_row_i = (i_location.y + 0.5) / num_rows;\n      vec2 x_i_coord = vec2((i_location.x * 2. + 0.5) / emb_width, emb_row_i);\n      vec2 y_i_coord = vec2((i_location.x * 2. + 1.5) / emb_width, emb_row_i);\n      //getting the coordinates in the embedding\n      float x_i = texture2D(embedding_tex,x_i_coord).r;\n      float y_i = texture2D(embedding_tex,y_i_coord).r;\n\n      //Sum of all attractive forces\n      float sum_pos = 0.;\n\n      //Can't be higher than 1000 (perplexity is usually around 30)\n      //and a 'while' can't be used\n      for(int n = 0; n < 2000; ++n) {\n        //Actual check on number of neighbors\n        if(float(n) >= num_neighs) {\n          break;\n        }\n\n        //Get the id and the probability for the neighbor\n        float pij = texture2D(neigh_prob_tex,\n                              (offset_neigh + half_pxl) / num_neighs_per_row\n                             ).r;\n        float neigh_id = texture2D(neigh_id_tex,\n                                  (offset_neigh + half_pxl) / num_neighs_per_row\n                                  ).r;\n\n        //Getting the coordinates of the neighbor\n        vec2 j_location = vec2(mod(neigh_id + 0.1, points_per_row),\n                               floor(neigh_id / points_per_row + 0.1));\n        float emb_row_j = (j_location.y + 0.5) / num_rows;\n        vec2 x_j_coord = vec2((j_location.x * 2. + 0.5) / emb_width, emb_row_j);\n        vec2 y_j_coord = vec2((j_location.x * 2. + 1.5) / emb_width, emb_row_j);\n        float x_j = texture2D(embedding_tex,x_j_coord).r;\n        float y_j = texture2D(embedding_tex,y_j_coord).r;\n\n        //Actual computation of the attractive forces\n        float dist_x    = (x_i - x_j);\n        float dist_y    = (y_i - y_j);\n        float qij       = 1. / (1. + dist_x * dist_x + dist_y * dist_y);\n        //the update depends on the dimension that this fragment represents\n        if(dimension < 0.5) {\n          // * 4 / (num_points*2) -> * 2 / num_points\n          sum_pos += eta * 2. * pij * qij * dist_x / (num_points);\n        }else{\n          sum_pos += eta * 2. * pij * qij * dist_y / (num_points);\n        }\n\n        //Increase the coordinate of the neigh in the neigh_id texture\n        offset_neigh.x += 1.;\n        //check if the new neigh is in the next row\n        if(offset_neigh.x + 0.2 > num_neighs_per_row) {\n          //in that case reset the column and increase the row\n          offset_neigh.x = 0.1;\n          offset_neigh.y += 1.0;\n        }\n      }\n\n      //The output is the sum of the attractive forces\n      gl_FragColor = vec4(sum_pos,0,0,0);\n    }\n  ")},t.executeAttractiveForcesComputationProgram=function(e,t,n,o,i,a,s,l,u,c,d,f){var h=e.gl;null!=f?e.setOutputMatrixTexture(f,c,2*u):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"embedding_tex");e.setInputMatrixTexture(n,p,3);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"offset_tex");e.setInputMatrixTexture(o,m,2);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"neigh_id_tex");e.setInputMatrixTexture(i,g,1);var v=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"neigh_prob_tex");e.setInputMatrixTexture(a,v,0);var y=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_rows");h.uniform1f(y,c);var b=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"eta");h.uniform1f(b,d);var _=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_neighs_per_row");h.uniform1f(_,l);var x=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"num_points");h.uniform1f(x,s);var w=r.webgl.webgl_util.getProgramUniformLocationOrThrow(h,t,"points_per_row");h.uniform1f(w,u),e.executeProgram()},t.createEmbeddingInitializationProgram=function(e){return e.createProgram("\n    precision highp float;\n\n    uniform sampler2D random_tex;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n\n    void main() {\n      //add for nearest pixel interpolation\n      vec2 half_pxl = vec2(0.5,0.5);\n\n      // Dimension of the fragment\n      // 0 -> x :1 -> y\n      float dimension = mod(gl_FragCoord.x - 0.4,2.);\n      vec2 pnt_location = gl_FragCoord.xy - half_pxl;\n      pnt_location.x = floor(pnt_location.x / 2.);\n\n      //just an extra fragment -> return\n      if(pnt_location.y*points_per_row + pnt_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,1);\n        return;\n      }\n\n      float width = (points_per_row * 2.0);\n      float row_coord = (pnt_location.y + 0.5)/num_rows;\n      vec2 rad_coord = vec2((pnt_location.x * 2. + 0.5) / width, row_coord);\n      vec2 ang_coord = vec2((pnt_location.x * 2. + 1.5) / width, row_coord);\n\n      float rad = texture2D(random_tex,rad_coord).r * 3.;\n      float ang = texture2D(random_tex,ang_coord).r * 3.1415 * 2.;\n\n      gl_FragColor = vec4(rad,ang,0,1);\n\n      if(dimension < 0.5) {\n        gl_FragColor = vec4(cos(ang) * rad,0,0,0);\n      }else{\n        gl_FragColor = vec4(sin(ang) * rad,0,0,0);\n      }\n    }\n  ")},t.executeEmbeddingInitializationProgram=function(e,t,n,o,i,a,s){var l=e.gl;null!=s?e.setOutputMatrixTexture(s,a,2*i):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var u=r.webgl.webgl_util.getProgramUniformLocationOrThrow(l,t,"random_tex");e.setInputMatrixTexture(n,u,3);var c=r.webgl.webgl_util.getProgramUniformLocationOrThrow(l,t,"num_rows");l.uniform1f(c,a);var d=r.webgl.webgl_util.getProgramUniformLocationOrThrow(l,t,"num_points");l.uniform1f(d,o);var f=r.webgl.webgl_util.getProgramUniformLocationOrThrow(l,t,"points_per_row");l.uniform1f(f,i),e.executeProgram()},t.createDistributionParametersComputationProgram=function(e){return e.createProgram("\n    precision highp float;\n\n    #define MAX_NEIGHBORS 128\n    #define MAX_ITERATIONS 500\n    #define FLOAT_MAX 10e30\n    #define TOLERANCE 1e-5\n\n    uniform sampler2D knn_graph_tex;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n    uniform float num_neighs;\n    uniform float perplexity;\n\n    vec2 half_pixel = vec2(0.5,0.5);\n    float distances_squared[MAX_NEIGHBORS];\n\n    void readDistances(vec2 point_location) {\n      for(int n = 0; n < MAX_NEIGHBORS; ++n ) {\n        if(float(n) >= num_neighs-0.1) {\n          break;\n        }\n        vec2 knn_coordinates = vec2(\n            (point_location.x * num_neighs + float(n) + half_pixel.x)\n                                        /(points_per_row * num_neighs),\n            (point_location.y + half_pixel.y) / num_rows\n        );\n        distances_squared[n] = texture2D(knn_graph_tex,knn_coordinates).g;\n      }\n    }\n\n    void main() {\n      vec2 point_location = gl_FragCoord.xy - half_pixel;\n      //invalid points\n      if(point_location.y*points_per_row + point_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n      readDistances(point_location);\n\n      //Beta computation\n      float beta = 1.;\n      float max_beta = FLOAT_MAX;\n      float min_beta = -FLOAT_MAX;\n      //To avoid computing the log at every iteration\n      float log_perplexity = log(perplexity);\n      float entropy_diff = 0.;\n      float entropy = 0.;\n      float sum_probabilities = 0.;\n\n      //Binary search for a maximum of MAX_ITERATIONS\n      for(int iteration = 0; iteration < MAX_ITERATIONS; ++iteration) {\n        //At every iteration I compute the\n        //entropy enforced by the current beta\n        sum_probabilities = 0.;\n        entropy = 0.;\n        for(int n = 0; n < MAX_NEIGHBORS; ++n ) {\n          if(float(n) >= num_neighs-0.1) {\n            break;\n          }\n          float neigh_probability = exp(-beta * distances_squared[n]);\n          sum_probabilities += neigh_probability;\n          entropy += beta * distances_squared[n] * neigh_probability;\n        }\n\n        entropy = entropy / sum_probabilities + log(sum_probabilities);\n        entropy_diff = entropy - log_perplexity;\n\n        //the current beta is good enough!\n        if(entropy_diff < TOLERANCE && -entropy_diff < TOLERANCE) {\n          break;\n        }\n\n        if(entropy_diff > 0.) {\n          min_beta = beta;\n          if(max_beta == FLOAT_MAX || max_beta == -FLOAT_MAX) {\n            beta *= 2.;\n          }else{\n            beta = (beta + max_beta) / 2.;\n          }\n        }else{\n          max_beta = beta;\n          if(min_beta == -FLOAT_MAX || min_beta == FLOAT_MAX) {\n            beta /= 2.;\n          }else{\n            beta = (beta + min_beta) / 2.;\n          }\n        }\n      }\n      gl_FragColor = vec4(beta,sum_probabilities,0,1);\n    }\n  ")},t.executeDistributionParametersComputationProgram=function(e,t,n,o,i,a,s,l,u){var c=e.gl;null!=u?e.setOutputMatrixTexture(u,s,a):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var d=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"knn_graph_tex");e.setInputMatrixTexture(n,d,0);var f=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_rows");c.uniform1f(f,s);var h=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_points");c.uniform1f(h,o);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"points_per_row");c.uniform1f(p,a);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_neighs");c.uniform1f(m,i);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"perplexity");c.uniform1f(g,l),e.executeProgram()},t.createGaussiaDistributionsFromDistancesProgram=function(e){return e.createProgram("\n    precision highp float;\n    uniform sampler2D knn_graph_tex;\n    uniform sampler2D parameters_tex;\n    uniform float points_per_row;\n    uniform float num_rows;\n    uniform float num_points;\n    uniform float num_neighs;\n\n    vec2 half_pixel = vec2(0.5,0.5);\n\n    void main() {\n      vec2 point_location = gl_FragCoord.xy - half_pixel;\n      point_location.x = floor(point_location.x / num_neighs);\n\n      //invalid points\n      if(point_location.y*points_per_row + point_location.x >= num_points) {\n        gl_FragColor = vec4(0,0,0,0);\n        return;\n      }\n      float distance_squared\n            = texture2D(knn_graph_tex,\n                        gl_FragCoord.xy /\n                        vec2(points_per_row*num_neighs,num_rows)\n                      ).g;\n      vec2 parameters\n            = texture2D(parameters_tex,\n                        (point_location.xy + half_pixel)/\n                        vec2(points_per_row,num_rows)\n                      ).rg;\n      float beta = parameters.r;\n      float normalization = parameters.g;\n\n      float probability = exp(-beta * distance_squared) / normalization;\n      //check for NaN for degenerated knn (d = 0 for every point)\n      if (!(probability < 0.0 || 0.0 < probability || probability == 0.0)) {\n        probability = 0.;\n      }\n\n      gl_FragColor = vec4(probability,0,0,1);\n    }\n  ")},t.executeGaussiaDistributionsFromDistancesProgram=function(e,t,n,o,i,a,s,l,u){var c=e.gl;null!=u?e.setOutputMatrixTexture(u,l,s*a):r.webgl.webgl_util.bindCanvasToFramebuffer(e.gl),e.setProgram(t);var d=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"knn_graph_tex");e.setInputMatrixTexture(n,d,0);var f=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"parameters_tex");e.setInputMatrixTexture(o,f,1);var h=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_rows");c.uniform1f(h,l);var p=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_points");c.uniform1f(p,i);var m=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"points_per_row");c.uniform1f(m,s);var g=r.webgl.webgl_util.getProgramUniformLocationOrThrow(c,t,"num_neighs");c.uniform1f(g,a),e.executeProgram()}},"./node_modules/add-dom-event-listener/lib/EventBaseObject.js":function(e,t,n){"use strict";function r(){return!1}function o(){return!0}function i(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype={isEventObject:1,constructor:i,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=o},stopPropagation:function(){this.isPropagationStopped=o},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=i,e.exports=t.default},"./node_modules/add-dom-event-listener/lib/EventObject.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n("./node_modules/add-dom-event-listener/lib/EventBaseObject.js")),i=r(n("./node_modules/object-assign/index.js")),a=!0,s=!1,l=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function u(e){return null==e}var c=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){u(e.which)&&(e.which=u(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,r=void 0,o=void 0,i=t.wheelDelta,a=t.axis,s=t.wheelDeltaY,l=t.wheelDeltaX,u=t.detail;i&&(o=i/120),u&&(o=0-(u%3==0?u/3:u)),void 0!==a&&(a===e.HORIZONTAL_AXIS?(r=0,n=0-o):a===e.VERTICAL_AXIS&&(n=0,r=o)),void 0!==s&&(r=s/120),void 0!==l&&(n=-1*l/120),n||r||(r=o),void 0!==n&&(e.deltaX=n),void 0!==r&&(e.deltaY=r),void 0!==o&&(e.delta=o)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,r=void 0,o=void 0,i=e.target,a=t.button;return i&&u(e.pageX)&&!u(t.clientX)&&(r=(n=i.ownerDocument||document).documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===i?e.toElement:e.fromElement),e}}];function d(){return a}function f(){return s}function h(e){var t=e.type,n="function"==typeof e.stopPropagation||"boolean"==typeof e.cancelBubble;o.default.call(this),this.nativeEvent=e;var r=f;"defaultPrevented"in e?r=e.defaultPrevented?d:f:"getPreventDefault"in e?r=e.getPreventDefault()?d:f:"returnValue"in e&&(r=e.returnValue===s?d:f),this.isDefaultPrevented=r;var i=[],a=void 0,u=void 0,h=l.concat();for(c.forEach(function(e){t.match(e.reg)&&(h=h.concat(e.props),e.fix&&i.push(e.fix))}),a=h.length;a;)this[u=h[--a]]=e[u];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),a=i.length;a;)(0,i[--a])(this,e);this.timeStamp=e.timeStamp||Date.now()}var p=o.default.prototype;(0,i.default)(h.prototype,p,{constructor:h,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=s,p.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=a,p.stopPropagation.call(this)}}),t.default=h,e.exports=t.default},"./node_modules/add-dom-event-listener/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){function o(t){var r=new i.default(t);n.call(e,r)}if(e.addEventListener){var a=(s=!1,"object"==typeof r?s=r.capture||!1:"boolean"==typeof r&&(s=r),e.addEventListener(t,o,r||!1),{v:{remove:function(){e.removeEventListener(t,o,s)}}});if("object"==typeof a)return a.v}else if(e.attachEvent)return e.attachEvent("on"+t,o),{remove:function(){e.detachEvent("on"+t,o)}};var s};var r,o=n("./node_modules/add-dom-event-listener/lib/EventObject.js"),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},"./node_modules/anatomogram/lib/Anatomogram.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("./node_modules/anatomogram/node_modules/react/index.js")),a=c(n("./node_modules/prop-types/index.js")),s=c(n("./node_modules/anatomogram/lib/Switcher.js")),l=c(n("./node_modules/anatomogram/lib/AnatomogramSvg.js")),u=n("./node_modules/anatomogram/lib/Assets.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedView:(0,u.getDefaultView)(e.species)},n._switchAnatomogramView=n._switchAnatomogramView.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"_switchAnatomogramView",value:function(e){this.setState({selectedView:e})}},{key:"componentWillReceiveProps",value:function(e){e.species!==this.props.species&&this.setState({selectedView:(0,u.getDefaultView)(e.species)})}},{key:"render",value:function(){return u.supportedSpecies.includes(this.props.species)&&i.default.createElement("div",null,i.default.createElement(s.default,{atlasUrl:this.props.atlasUrl,species:this.props.species,selectedView:this.state.selectedView,onChangeView:this._switchAnatomogramView}),i.default.createElement(l.default,r({atlasUrl:this.props.atlasUrl},this.props,{selectedView:this.state.selectedView})))}}]),t}();d.propTypes={species:a.default.string.isRequired},d.defaultProps={atlasUrl:"https://www.ebi.ac.uk/gxa/"},t.default=d},"./node_modules/anatomogram/lib/AnatomogramSvg.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=(r=["\n  display: inline-block;\n  vertical-align: top;\n  width: 90%;\n"],o=["\n  display: inline-block;\n  vertical-align: top;\n  width: 90%;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(o)}}))),a=f(n("./node_modules/anatomogram/node_modules/react/index.js")),s=f(n("./node_modules/prop-types/index.js")),l=f(n("./node_modules/urijs/src/URI.js")),u=f(n("./node_modules/anatomogram/node_modules/styled-components/dist/styled-components.browser.esm.js")),c=f(n("./node_modules/anatomogram/node_modules/react-svg/esm/index.js")),d=n("./node_modules/lodash/lodash.js");function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){return e&&t&&Object.assign(e.style,t)},p=function(e,t,n,r){e&&e.addEventListener(t,function(){h(e,n),r()})},m=function(e,t){var n,r,o=t.idsWithMarkup,i=t.onMouseOver,a=t.onMouseOut,s=t.onClick;(n=o.map(function(e){return e.id}).filter(function(e,t,n){return n.indexOf(e)==t}).map(function(t){return[e(t),t]}),r="[0].id",Object.entries((0,d.groupBy)(n,r))).forEach(function(e){var t=e[1][0][0],n=e[1].map(function(e){return e[1]}),r=o.find(function(e){return n.includes(e.id)});h(t,r.markupNormal),p(t,"mouseover",r.markupUnderFocus,i.bind(void 0,n)),p(t,"mouseout",r.markupNormal,a.bind(void 0,n)),p(t,"click",{},s.bind(void 0,n))})},g=u.default.div(i),v=function(e){return a.default.createElement(g,null,a.default.createElement(c.default,{path:(o=e.species,i=e.selectedView,t=n("./node_modules/anatomogram/lib/svg sync recursive ^\\.\\/.*\\.svg$")("./"+o+(i?"."+i:"")+".svg"),r=e.atlasUrl,(0,l.default)(t).is("absolute")?(0,l.default)(t):(0,l.default)(t,r)).toString(),onInjected:function(t){m(function(e){var t=function(e){for(var t=e.getElementsByTagName("g"),n=0;n<t.length;n++)if("LAYER_EFO"===t[n].id)return t[n]}(e);return function e(n){if(t)for(var r=0;r<t.children.length;r++)if(t.children[r].id===n)return t.children[r].attributes["xlink:href"]?e(t.children[r].attributes["xlink:href"].value.substring(1)):t.children[r]}}(t),e)},svgStyle:{width:"100%",height:"auto",paddingLeft:e.selectedView?"10px":""}}));var t,r,o,i};v.propTypes={atlasUrl:s.default.string.isRequired,species:s.default.string.isRequired,selectedView:s.default.string,idsWithMarkup:s.default.arrayOf(s.default.shape({id:s.default.string.isRequired,markupNormal:s.default.object.isRequired,markupUnderFocus:s.default.object.isRequired})).isRequired,onMouseOver:s.default.func.isRequired,onMouseOut:s.default.func.isRequired,onClick:s.default.func.isRequired},t.default=v},"./node_modules/anatomogram/lib/Assets.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedSpecies=t.getDefaultView=t.getAnatomogramViews=void 0;var r,o=n("./node_modules/anatomogram/lib/json/svgsMetadata.json"),i=(r=o)&&r.__esModule?r:{default:r};var a=function(e,t,n){return n.indexOf(e)===t},s=function(e){return"string"==typeof e&&""!==e.trim()},l=i.default.map(function(e){return e.species}).filter(a),u=i.default.filter(function(e){return""!==e.view}).map(function(e){return e.species}).filter(a).reduce(function(e,t){return e[t]=i.default.filter(function(e){return e.species===t}).map(function(e){return e.view}).filter(s).sort().reverse(),e},{}),c=function(e){if(l.includes(e))return u[e]||[]};t.getAnatomogramViews=c,t.getDefaultView=function(e){if(l.includes(e))return c(e)[0]||null},t.supportedSpecies=l},"./node_modules/anatomogram/lib/Main.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/anatomogram/node_modules/recompose/dist/Recompose.esm.js"),i=s(n("./node_modules/anatomogram/lib/Anatomogram.js")),a=s(n("./node_modules/prop-types/index.js"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(e,t){return Array.isArray(e)&&Array.isArray(t)?e.filter(function(e){return!t.includes(e)}):e},c=function(e,t){return{fill:e,opacity:t}},d=(0,o.compose)((0,o.defaultProps)({showIds:[],highlightIds:[],selectIds:[],showColour:"grey",highlightColour:"red",selectColour:"purple",showOpacity:.4,highlightOpacity:.4,selectOpacity:.4}),(0,o.withPropsOnChange)((0,r.negate)(r.isEqual),function(e){return{idsWithMarkup:(t=e,n=t.showIds,r=t.showColour,o=t.showOpacity,i=t.highlightIds,a=t.highlightColour,s=t.highlightOpacity,d=t.selectIds,f=t.selectColour,h=t.selectOpacity,p=u(n,[].concat(l(i),l(d))),m=u(i,d),[].concat(d.map(function(e){return{id:e,markupNormal:c(f,h),markupUnderFocus:c(f,h+.2)}}),m.map(function(e){return{id:e,markupNormal:c(a,s),markupUnderFocus:c(a,s+.2)}}),p.map(function(e){return{id:e,markupNormal:c(r,o),markupUnderFocus:c(a,s+.2)}})))};var t,n,r,o,i,a,s,d,f,h,p,m})),f=(0,o.mapProps)(function(e){return Object.assign({},e,{species:e.species.toLowerCase().replace(/ +/,"_")})}),h=(0,o.defaultProps)({onMouseOver:function(){},onMouseOut:function(){},onClick:function(){}}),p=(0,o.setPropTypes)({atlasUrl:a.default.string.isRequired,species:a.default.string.isRequired,idsWithMarkup:a.default.arrayOf(a.default.shape({id:a.default.string.isRequired,markupNormal:a.default.object.isRequired,markupUnderFocus:a.default.object.isRequired})).isRequired,onMouseOver:a.default.func.isRequired,onMouseOut:a.default.func.isRequired,onClick:a.default.func.isRequired}),m=(0,o.defaultProps)({atlasUrl:"https://www.ebi.ac.uk/gxa/"});t.default=(0,o.compose)(d,o.onlyUpdateForPropTypes,p,m,h,f)(i.default)},"./node_modules/anatomogram/lib/Switcher.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(["\n  display: inline-block;\n  vertical-align: top;\n  width: 10%;\n  max-width: 44px;\n  line-height: 0;\n"],["\n  display: inline-block;\n  vertical-align: top;\n  width: 10%;\n  max-width: 44px;\n  line-height: 0;\n"]),o=d(["\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  width: 100%;\n  height: auto;\n  padding: 2px;\n\n  &:hover {\n    border: 1px solid orange;\n    background: lightgoldenrodyellow;\n    cursor: pointer;\n  }\n"],["\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  width: 100%;\n  height: auto;\n  padding: 2px;\n\n  &:hover {\n    border: 1px solid orange;\n    background: lightgoldenrodyellow;\n    cursor: pointer;\n  }\n"]),i=c(n("./node_modules/anatomogram/node_modules/react/index.js")),a=c(n("./node_modules/prop-types/index.js")),s=c(n("./node_modules/urijs/src/URI.js")),l=c(n("./node_modules/anatomogram/node_modules/styled-components/dist/styled-components.browser.esm.js")),u=n("./node_modules/anatomogram/lib/Assets.js");function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=function(e,t){return n("./node_modules/anatomogram/lib/img sync recursive ^\\.\\/.*selected\\.png$")("./"+e+"."+(e===t?"":"un")+"selected.png")},h=l.default.div(r),p=l.default.img(o),m=function(e){var t=e.atlasUrl,n=e.species,r=e.selectedView,o=e.onChangeView;return i.default.createElement(h,null,(0,u.getAnatomogramViews)(n).map(function(e){return i.default.createElement(p,{key:e,onClick:function(){return o(e)},src:(n=f(e,r),a=t,(0,s.default)(n).is("absolute")?(0,s.default)(n):(0,s.default)(n,a)).toString()});var n,a}))};m.propTypes={atlasUrl:a.default.string.isRequired,species:a.default.string.isRequired,selectedView:a.default.string,onChangeView:a.default.func.isRequired},m.defaultProps={atlasUrl:"https://www.ebi.ac.uk/gxa/"},t.default=m},"./node_modules/anatomogram/lib/img/brain.selected.png":function(e,t,n){e.exports=n.p+"brain.selected.png"},"./node_modules/anatomogram/lib/img/brain.unselected.png":function(e,t,n){e.exports=n.p+"brain.unselected.png"},"./node_modules/anatomogram/lib/img/female.selected.png":function(e,t,n){e.exports=n.p+"female.selected.png"},"./node_modules/anatomogram/lib/img/female.unselected.png":function(e,t,n){e.exports=n.p+"female.unselected.png"},"./node_modules/anatomogram/lib/img/flower_parts.selected.png":function(e,t,n){e.exports=n.p+"flower_parts.selected.png"},"./node_modules/anatomogram/lib/img/flower_parts.unselected.png":function(e,t,n){e.exports=n.p+"flower_parts.unselected.png"},"./node_modules/anatomogram/lib/img/male.selected.png":function(e,t,n){e.exports=n.p+"male.selected.png"},"./node_modules/anatomogram/lib/img/male.unselected.png":function(e,t,n){e.exports=n.p+"male.unselected.png"},"./node_modules/anatomogram/lib/img/whole_plant.selected.png":function(e,t,n){e.exports=n.p+"whole_plant.selected.png"},"./node_modules/anatomogram/lib/img/whole_plant.unselected.png":function(e,t,n){e.exports=n.p+"whole_plant.unselected.png"},"./node_modules/anatomogram/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anatomogramSpecies=t.render=t.default=void 0;var r=s(n("./node_modules/anatomogram/node_modules/react/index.js")),o=s(n("./node_modules/anatomogram/node_modules/react-dom/index.js")),i=s(n("./node_modules/anatomogram/lib/Main.js")),a=n("./node_modules/anatomogram/lib/Assets.js");function s(e){return e&&e.__esModule?e:{default:e}}t.default=i.default,t.render=function(e,t){o.default.render(r.default.createElement(i.default,e),document.getElementById(t))},t.anatomogramSpecies=a.supportedSpecies},"./node_modules/anatomogram/lib/json/svgsMetadata.json":function(e){e.exports=[{filename:"anolis_carolinensis.svg",species:"anolis_carolinensis",view:"",ids:["UBERON_0000955","UBERON_0000948","UBERON_0002113","UBERON_0014892"]},{filename:"arabidopsis_thaliana.svg",species:"arabidopsis_thaliana",view:"",ids:["PO_0025034","PO_0009005","PO_0009046","PO_0009001"]},{filename:"bos_taurus.svg",species:"bos_taurus",view:"",ids:["UBERON_0001013","UBERON_0014892","UBERON_0002114","UBERON_0000955","UBERON_0002113","UBERON_0002048","UBERON_0001155","UBERON_0000948","UBERON_0002107","UBERON_0002016","UBERON_0001898"]},{filename:"brachypodium_distachyon.flower_parts.svg",species:"brachypodium_distachyon",view:"flower_parts",ids:["PO_0009066","PO_0009030","PO_0009001","PO_0009009","PO_0009089"]},{filename:"brachypodium_distachyon.whole_plant.svg",species:"brachypodium_distachyon",view:"whole_plant",ids:["PO_0009010","PO_0009049","PO_0025034"]},{filename:"gallus_gallus.svg",species:"gallus_gallus",view:"",ids:["UBERON_0000955","UBERON_0000948","UBERON_0002113","UBERON_0002107","UBERON_0001155","UBERON_0002106","UBERON_0002048","UBERON_0014892"]},{filename:"homo_sapiens.brain.svg",species:"homo_sapiens",view:"brain",ids:["UBERON_0002148","UBERON_0001894","UBERON_0001896","UBERON_0002771","UBERON_0002702","UBERON_0002021","UBERON_0001905","UBERON_0001897","UBERON_0001898","UBERON_0002421","UBERON_0003027","UBERON_0001876","UBERON_0001870","UBERON_0001871","UBERON_0001882","UBERON_0002285","UBERON_0001873","UBERON_0001872","UBERON_0002038","UBERON_0001874","UBERON_0001875","UBERON_0002360","UBERON_0000451","UBERON_0000956","UBERON_0002037","UBERON_0002363","UBERON_0001954","UBERON_0002245"]},{filename:"homo_sapiens.female.svg",species:"homo_sapiens",view:"female",ids:["UBERON_0001981","UBERON_0000178","UBERON_0001637","CL_0000236","CL_0000084","CL_0000623","CL_0000576","CL_0000233","UBERON_0000966","UBERON_0001831","UBERON_0001013","UBERON_0000948","UBERON_0001135","UBERON_0000955","UBERON_0000310","UBERON_0002369","UBERON_0000029","UBERON_0001134","UBERON_0000992","CL_0000738","UBERON_0001044","UBERON_0003889","UBERON_0000995","UBERON_0000002","UBERON_0001021","UBERON_0006618","UBERON_0012249","UBERON_0002421","UBERON_0000977","UBERON_0002185","UBERON_0003126","UBERON_0002048","UBERON_0002372","UBERON_0000970","UBERON_0001876","UBERON_0001736","UBERON_0001264","UBERON_0002107","UBERON_0001155","UBERON_0002371","UBERON_0001255","UBERON_0000945","UBERON_0002114","UBERON_0001043","UBERON_0002110","UBERON_0002106","UBERON_0002108","UBERON_0001987","UBERON_0001295","UBERON_0000996","UBERON_0000947","UBERON_0000007","UBERON_0007650","UBERON_0001153","UBERON_0001154","UBERON_0002116","UBERON_0002079","UBERON_0002084","UBERON_0002146","UBERON_0002135","UBERON_0001103","UBERON_0002481","UBERON_0007844","UBERON_0000341","UBERON_0001052","UBERON_0001706","UBERON_0001728","UBERON_0002037","UBERON_0002245","UBERON_0000451","UBERON_0001870","UBERON_0000004","UBERON_0001871","UBERON_0000956","UBERON_0002113","UBERON_0001225","UBERON_0001621","UBERON_0002134","UBERON_0002046","UBERON_0000014","UBERON_0000167","UBERON_0001723"]},{filename:"homo_sapiens.male.svg",species:"homo_sapiens",view:"male",ids:["UBERON_0000956","UBERON_0000977","UBERON_0000955","UBERON_0000948","UBERON_0000310","UBERON_0002369","UBERON_0000029","UBERON_0001013","UBERON_0001134","CL_0000738","UBERON_0001871","UBERON_0006618","UBERON_0001621","UBERON_0002421","UBERON_0001000","UBERON_0000998","UBERON_0000473","UBERON_0001301","UBERON_0000970","UBERON_0002372","UBERON_0002048","UBERON_0001876","UBERON_0003126","UBERON_0002185","UBERON_0001021","UBERON_0002037","UBERON_0002245","UBERON_0002113","UBERON_0001225","UBERON_0002046","UBERON_0002371","UBERON_0001870","UBERON_0000451","UBERON_0000007","UBERON_0000947","UBERON_0007650","UBERON_0002084","UBERON_0001153","UBERON_0002116","UBERON_0001052","UBERON_0000004","UBERON_0001723","UBERON_0002079","UBERON_0002146","UBERON_0002135","UBERON_0000989","UBERON_0001728","UBERON_0002240","UBERON_0000341","UBERON_0002134","UBERON_0001103","UBERON_0002107","UBERON_0000945","UBERON_0002106","UBERON_0002114","UBERON_0002110","UBERON_0001264","UBERON_0001155","UBERON_0002108","UBERON_0001154","UBERON_0001135","UBERON_0001255","UBERON_00024818","UBERON_0007844","UBERON_0001043","UBERON_0001044","UBERON_0001831","UBERON_0001736","UBERON_0000014","UBERON_0000178","UBERON_0001981","UBERON_0001637","CL_0000236","CL_0000084","CL_0000623","CL_0000576","CL_0000233","UBERON_0001954","UBERON_0000966","UBERON_0001706","UBERON_0000167","UBERON_0002367"]},{filename:"hordeum_vulgare.flower_parts.svg",species:"hordeum_vulgare",view:"flower_parts",ids:["PO_0009001","PO_0009030","PO_0009073","PO_0009072","PO_0009009","PO_0009066"]},{filename:"hordeum_vulgare.whole_plant.svg",species:"hordeum_vulgare",view:"whole_plant",ids:["PO_0020142","PO_0009005","PO_0009006","PO_0009049","PO_0025034"]},{filename:"macaca_mulatta.svg",species:"macaca_mulatta",view:"",ids:["UBERON_0000955","UBERON_0000451","UBERON_0002037","UBERON_0000948","UBERON_0002113","UBERON_0002107","UBERON_0000473"]},{filename:"monodelphis_domestica.svg",species:"monodelphis_domestica",view:"",ids:["UBERON_0000955","UBERON_0002037","UBERON_0000948","UBERON_0002113","UBERON_0002107","UBERON_0000473"]},{filename:"mus_musculus.brain.svg",species:"mus_musculus",view:"brain",ids:["UBERON_0001896","UBERON_0000956","UBERON_0000369","UBERON_0001894","UBERON_0000007","UBERON_0002037","UBERON_0002298","UBERON_0001891","UBERON_0001897","UBERON_0001898","UBERON_0000004","UBERON_0002259","EFO_0000530"]},{filename:"mus_musculus.female.svg",species:"mus_musculus",view:"female",ids:["UBERON_0000947","UBERON_0001009","UBERON_0001348","UBERON_0001347","UBERON_0000945","UBERON_0002114","UBERON_0001264","UBERON_0002106","UBERON_0002369","UBERON_0002113","UBERON_0001155","UBERON_0002108","UBERON_0001153","UBERON_0002115","UBERON_0002116","UBERON_0001043","UBERON_0002110","UBERON_0000996","UBERON_0000995","UBERON_0001255","UBERON_0001831","UBERON_0001736","UBERON_0001723","UBERON_0001211","UBERON_0000981","UBERON_0002371","UBERON_0007844","UBERON_0001377","UBERON_0014892","UBERON_0002240","UBERON_0001103","UBERON_0002103","UBERON_0001645","UBERON_0000970","UBERON_0001242","UBERON_0000955","UBERON_0000948","UBERON_0002107","UBERON_0001322","UBERON_0001981","UBERON_0000014","UBERON_0001911","UBERON_0003134","UBERON_0000990","UBERON_0000029","UBERON_0001132","UBERON_0002370","UBERON_0002046","UBERON_0002048","UBERON_0000010","UBERON_0003126"]},{filename:"mus_musculus.male.svg",species:"mus_musculus",view:"male",ids:["UBERON_0000947","UBERON_0001348","UBERON_0001347","UBERON_0000945","UBERON_0002114","UBERON_0001264","UBERON_0002106","UBERON_0002369","UBERON_0002113","UBERON_0001155","UBERON_0002108","UBERON_0001153","UBERON_0002115","UBERON_0002116","UBERON_0001043","UBERON_0002110","UBERON_0001831","UBERON_0001736","UBERON_0000029","UBERON_0000998","UBERON_0000989","UBERON_0000981","UBERON_0002371","UBERON_0007844","UBERON_0001377","UBERON_0002240","UBERON_0002048","UBERON_0001103","UBERON_0003126","UBERON_0002103","UBERON_0001645","UBERON_0001322","UBERON_0001242","UBERON_0002107","UBERON_0000948","UBERON_0000955","UBERON_0014892","UBERON_0001009","UBERON_0001981","UBERON_0000014","UBERON_0001132","UBERON_0001211","UBERON_0002367","UBERON_0001000","UBERON_0001301","UBERON_0000473","UBERON_0001255","UBERON_0002370","UBERON_0000010","UBERON_0000970","UBERON_0001723"]},{filename:"oryza_sativa.flower_parts.svg",species:"oryza_sativa",view:"flower_parts",ids:["PO_0009010","PO_0009009","PO_0009089","PO_0009030","PO_0009066"]},{filename:"oryza_sativa.whole_plant.svg",species:"oryza_sativa",view:"whole_plant",ids:["PO_0025034","PO_0009005","PO_0009049","PO_0009006","PO_0005052"]},{filename:"papio_anubis.svg",species:"papio_anubis",view:"",ids:["UBERON_0000948","UBERON_0002107","UBERON_0000945","UBERON_0001155","UBERON_0002371","UBERON_0002113","UBERON_0002106","UBERON_0014892","UBERON_0002370","UBERON_0000955","UBERON_0001871","UBERON_0001870","UBERON_0000007","UBERON_0002048","UBERON_0000029","UBERON_0002037"]},{filename:"rattus_norvegicus.svg",species:"rattus_norvegicus",view:"",ids:["UBERON_0000955","UBERON_0002113","CL_0000336","UBERON_0001388","UBERON_0000948","UBERON_0002107","UBERON_0002048","UBERON_0002106","UBERON_0002370","UBERON_0000995","UBERON_0000473","UBERON_0001155"]},{filename:"solanum_lycopersicum.flower_parts.svg",species:"solanum_lycopersicum",view:"flower_parts",ids:["PO_0009084","PO_0009030","PO_0009072","PO_0009073","PO_0009074","PO_0009066","PO_0009010"]},{filename:"solanum_lycopersicum.whole_plant.svg",species:"solanum_lycopersicum",view:"whole_plant",ids:["PO_0025034","PO_0000056","PO_0009046","PO_0009001","PO_0009005"]},{filename:"solanum_tuberosum.svg",species:"solanum_tuberosum",view:"",ids:[]},{filename:"sorghum_bicolor.flower_parts.svg",species:"sorghum_bicolor",view:"flower_parts",ids:["PO_0009049","PO_0009051","PO_0009001","PO_0009009","PO_0009089","PO_0009066","PO_0009030"]},{filename:"sorghum_bicolor.whole_plant.svg",species:"sorghum_bicolor",view:"whole_plant",ids:["PO_0009006","PO_0006079","PO_0009047","PO_0000230","PO_0009049","PO_0025034","PO_0009005"]},{filename:"tetraodon_nigroviridis.svg",species:"tetraodon_nigroviridis",view:"",ids:["UBERON_0000955","UBERON_0000948","UBERON_0002113","UBERON_0014892"]},{filename:"triticum_aestivum.flower_parts.svg",species:"triticum_aestivum",view:"flower_parts",ids:["PO_0020033","PO_0020031","PO_0009089","PO_0009085","PO_0009086","PO_0009084","PO_0009009","PO_0009001","PO_0009088","PO_0009030","PO_0009066"]},{filename:"triticum_aestivum.whole_plant.svg",species:"triticum_aestivum",view:"whole_plant",ids:["PO_0009047","PO_0009005","PO_0009049","PO_0025034"]},{filename:"xenopus_tropicalis.svg",species:"xenopus_tropicalis",view:"",ids:["UBERON_0000955","UBERON_0002113","UBERON_0014892","UBERON_0000948","UBERON_0002107"]},{filename:"zea_mays.flower_parts.svg",species:"zea_mays",view:"flower_parts",ids:["PO_0009001","PO_0020033","PO_0020031","PO_0020136","PO_0025597","PO_0009066","PO_0009009","PO_0009089","PO_0009084"]},{filename:"zea_mays.whole_plant.svg",species:"zea_mays",view:"whole_plant",ids:["PO_0020126","PO_0020136","PO_0020142","PO_0020127","PO_0009005","PO_0009074","PO_0025034"]}]},"./node_modules/anatomogram/lib/svg/anolis_carolinensis.svg":function(e,t,n){e.exports=n.p+"anolis_carolinensis.svg"},"./node_modules/anatomogram/lib/svg/arabidopsis_thaliana.svg":function(e,t,n){e.exports=n.p+"arabidopsis_thaliana.svg"},"./node_modules/anatomogram/lib/svg/bos_taurus.svg":function(e,t,n){e.exports=n.p+"bos_taurus.svg"},"./node_modules/anatomogram/lib/svg/brachypodium_distachyon.flower_parts.svg":function(e,t,n){e.exports=n.p+"brachypodium_distachyon.flower_parts.svg"},"./node_modules/anatomogram/lib/svg/brachypodium_distachyon.whole_plant.svg":function(e,t,n){e.exports=n.p+"brachypodium_distachyon.whole_plant.svg"},"./node_modules/anatomogram/lib/svg/gallus_gallus.svg":function(e,t,n){e.exports=n.p+"gallus_gallus.svg"},"./node_modules/anatomogram/lib/svg/homo_sapiens.brain.svg":function(e,t,n){e.exports=n.p+"homo_sapiens.brain.svg"},"./node_modules/anatomogram/lib/svg/homo_sapiens.female.svg":function(e,t,n){e.exports=n.p+"homo_sapiens.female.svg"},"./node_modules/anatomogram/lib/svg/homo_sapiens.male.svg":function(e,t,n){e.exports=n.p+"homo_sapiens.male.svg"},"./node_modules/anatomogram/lib/svg/hordeum_vulgare.flower_parts.svg":function(e,t,n){e.exports=n.p+"hordeum_vulgare.flower_parts.svg"},"./node_modules/anatomogram/lib/svg/hordeum_vulgare.whole_plant.svg":function(e,t,n){e.exports=n.p+"hordeum_vulgare.whole_plant.svg"},"./node_modules/anatomogram/lib/svg/macaca_mulatta.svg":function(e,t,n){e.exports=n.p+"macaca_mulatta.svg"},"./node_modules/anatomogram/lib/svg/monodelphis_domestica.svg":function(e,t,n){e.exports=n.p+"monodelphis_domestica.svg"},"./node_modules/anatomogram/lib/svg/mus_musculus.brain.svg":function(e,t,n){e.exports=n.p+"mus_musculus.brain.svg"},"./node_modules/anatomogram/lib/svg/mus_musculus.female.svg":function(e,t,n){e.exports=n.p+"mus_musculus.female.svg"},"./node_modules/anatomogram/lib/svg/mus_musculus.male.svg":function(e,t,n){e.exports=n.p+"mus_musculus.male.svg"},"./node_modules/anatomogram/lib/svg/oryza_sativa.flower_parts.svg":function(e,t,n){e.exports=n.p+"oryza_sativa.flower_parts.svg"},"./node_modules/anatomogram/lib/svg/oryza_sativa.whole_plant.svg":function(e,t,n){e.exports=n.p+"oryza_sativa.whole_plant.svg"},"./node_modules/anatomogram/lib/svg/papio_anubis.svg":function(e,t,n){e.exports=n.p+"papio_anubis.svg"},"./node_modules/anatomogram/lib/svg/rattus_norvegicus.svg":function(e,t,n){e.exports=n.p+"rattus_norvegicus.svg"},"./node_modules/anatomogram/lib/svg/solanum_lycopersicum.flower_parts.svg":function(e,t,n){e.exports=n.p+"solanum_lycopersicum.flower_parts.svg"},"./node_modules/anatomogram/lib/svg/solanum_lycopersicum.whole_plant.svg":function(e,t,n){e.exports=n.p+"solanum_lycopersicum.whole_plant.svg"},"./node_modules/anatomogram/lib/svg/solanum_tuberosum.svg":function(e,t,n){e.exports=n.p+"solanum_tuberosum.svg"},"./node_modules/anatomogram/lib/svg/sorghum_bicolor.flower_parts.svg":function(e,t,n){e.exports=n.p+"sorghum_bicolor.flower_parts.svg"},"./node_modules/anatomogram/lib/svg/sorghum_bicolor.whole_plant.svg":function(e,t,n){e.exports=n.p+"sorghum_bicolor.whole_plant.svg"},"./node_modules/anatomogram/lib/svg/tetraodon_nigroviridis.svg":function(e,t,n){e.exports=n.p+"tetraodon_nigroviridis.svg"},"./node_modules/anatomogram/lib/svg/triticum_aestivum.flower_parts.svg":function(e,t,n){e.exports=n.p+"triticum_aestivum.flower_parts.svg"},"./node_modules/anatomogram/lib/svg/triticum_aestivum.whole_plant.svg":function(e,t,n){e.exports=n.p+"triticum_aestivum.whole_plant.svg"},"./node_modules/anatomogram/lib/svg/xenopus_tropicalis.svg":function(e,t,n){e.exports=n.p+"xenopus_tropicalis.svg"},"./node_modules/anatomogram/lib/svg/zea_mays.flower_parts.svg":function(e,t,n){e.exports=n.p+"zea_mays.flower_parts.svg"},"./node_modules/anatomogram/lib/svg/zea_mays.whole_plant.svg":function(e,t,n){e.exports=n.p+"zea_mays.whole_plant.svg"},"./node_modules/anatomogram/node_modules/react-dom/cjs/react-dom-server.browser.production.min.js":function(e,t,n){"use strict";
/** @license React v16.6.1
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("./node_modules/object-assign/index.js"),o=n("./node_modules/anatomogram/node_modules/react/index.js");function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,u=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,d=a?Symbol.for("react.provider"):60109,f=a?Symbol.for("react.context"):60110,h=a?Symbol.for("react.concurrent_mode"):60111,p=a?Symbol.for("react.forward_ref"):60112,m=a?Symbol.for("react.suspense"):60113,g=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116;function y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case h:return"ConcurrentMode";case l:return"Fragment";case s:return"Portal";case c:return"Profiler";case u:return"StrictMode";case m:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case f:return"Context.Consumer";case d:return"Context.Provider";case p:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return y(e.type);case v:if(e=1===e._status?e._result:null)return y(e)}return null}var b=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x=Object.prototype.hasOwnProperty,w={},k={};function E(e){return!!x.call(k,e)||!x.call(w,e)&&(_.test(e)?k[e]=!0:(w[e]=!0,!1))}function T(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new A(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new A(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new A(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new A(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new A(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new A(e,3,!0,e,null)}),["capture","download"].forEach(function(e){S[e]=new A(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){S[e]=new A(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){S[e]=new A(e,5,!1,e.toLowerCase(),null)});var M=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,C);S[t]=new A(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,C);S[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,C);S[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),S.tabIndex=new A("tabIndex",1,!1,"tabindex",null);var j=/["'&<>]/;function O(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=j.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}var N=!1;function R(e,t,n,r){for(;N;)N=!1,n=e(t,r);return n}var P={readContext:function(e){return e._currentValue}},I={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function D(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var L={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},B=r({menuitem:!0},L),F={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z=["Webkit","ms","Moz","O"];Object.keys(F).forEach(function(e){z.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),F[t]=F[e]})});var U=/([A-Z])/g,q=/^ms-/,V=o.Children.toArray,H=b.ReactCurrentOwner,W={listing:!0,pre:!0,textarea:!0},G=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,X={},K={};var Y={};var $=Object.prototype.hasOwnProperty,Z={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Q(e,t){void 0===e&&i("152",y(t)||"Component")}function J(e,t){function n(n,o){var a=function(e,t){var n=e.contextType;if("object"==typeof n&&null!==n)return n._currentValue;if(e=e.contextTypes){for(var r in n={},e)n[r]=t[r];t=n}else t=Y;return t}(o,t),s=[],l=!1,u={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===s)return null},enqueueReplaceState:function(e,t){l=!0,s=[t]},enqueueSetState:function(e,t){if(null===s)return null;s.push(t)}},c=void 0;if(o.prototype&&o.prototype.isReactComponent){if(c=new o(n.props,a,u),"function"==typeof o.getDerivedStateFromProps){var d=o.getDerivedStateFromProps.call(null,n.props,c.state);null!=d&&(c.state=r({},c.state,d))}}else if(c=o(n.props,a,u),null==(c=R(o,n.props,c,a))||null==c.render)return void Q(e=c,o);if(c.props=n.props,c.context=a,c.updater=u,void 0===(u=c.state)&&(c.state=u=null),"function"==typeof c.UNSAFE_componentWillMount||"function"==typeof c.componentWillMount)if("function"==typeof c.componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&c.componentWillMount(),"function"==typeof c.UNSAFE_componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&c.UNSAFE_componentWillMount(),s.length){u=s;var f=l;if(s=null,l=!1,f&&1===u.length)c.state=u[0];else{d=f?u[0]:c.state;var h=!0;for(f=f?1:0;f<u.length;f++){var p=u[f];null!=(p="function"==typeof p?p.call(c,d,n.props,a):p)&&(h?(h=!1,d=r({},d,p)):r(d,p))}c.state=d}}else s=null;if(Q(e=c.render(),o),n=void 0,"function"==typeof c.getChildContext&&"object"==typeof(a=o.childContextTypes))for(var m in n=c.getChildContext())m in a||i("108",y(o)||"Unknown",m);n&&(t=r({},t,n))}for(;o.isValidElement(e);){var a=e,s=a.type;if("function"!=typeof s)break;n(a,s)}return{child:e,context:t}}var ee=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");o.isValidElement(t)?t.type!==l?t=[t]:(t=t.props.children,t=o.isValidElement(t)?[t]:V(t)):t=V(t),this.stack=[{type:null,domNamespace:I.html,children:t,childIndex:0,context:Y,footer:""}],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=n._currentValue;this.contextStack[t]=n,this.contextValueStack[t]=r,n._currentValue=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t._currentValue=n},e.prototype.read=function(e){if(this.exhausted)return null;var t=H.currentDispatcher;H.currentDispatcher=P;try{for(var n="";n.length<e;){if(0===this.stack.length){this.exhausted=!0;break}var r=this.stack[this.stack.length-1];if(r.childIndex>=r.children.length){var o=r.footer;n+=o,""!==o&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===r.type?this.currentSelectValue=null:null!=r.type&&null!=r.type.type&&r.type.type.$$typeof===d&&this.popProvider(r.type)}else{var i=r.children[r.childIndex++];n+=this.render(i,r.context,r.domNamespace)}}return n}finally{H.currentDispatcher=t}},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?O(n):this.previousWasTextNode?"\x3c!-- --\x3e"+O(n):(this.previousWasTextNode=!0,O(n));if(e=(t=J(e,t)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){var a=e.$$typeof;a===s&&i("257"),i("258",a.toString())}return e=V(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if("string"==typeof(a=e.type))return this.renderDOM(e,t,n);switch(a){case u:case h:case c:case l:return e=V(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case m:i("294")}if("object"==typeof a&&null!==a)switch(a.$$typeof){case p:var y=a.render(e.props,e.ref);return y=R(a.render,e.props,y,e.ref),y=V(y),this.stack.push({type:null,domNamespace:n,children:y,childIndex:0,context:t,footer:""}),"";case g:return e=[o.createElement(a.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:a=V(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case f:return a=V(e.props.children(e.type._currentValue)),this.stack.push({type:e,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case v:i("295")}i("130",null==a?a:typeof a,"")},e.prototype.renderDOM=function(e,t,n){var a=e.type.toLowerCase();n===I.html&&D(a),X.hasOwnProperty(a)||(G.test(a)||i("65",a),X[a]=!0);var s=e.props;if("input"===a)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===a){var l=s.value;if(null==l){l=s.defaultValue;var u=s.children;null!=u&&(null!=l&&i("92"),Array.isArray(u)&&(1>=u.length||i("93"),u=u[0]),l=""+u),null==l&&(l="")}s=r({},s,{value:void 0,children:""+l})}else if("select"===a)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===a){u=this.currentSelectValue;var c=function(e){if(null==e)return e;var t="";return o.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=u){var d=null!=s.value?s.value+"":c;if(l=!1,Array.isArray(u)){for(var f=0;f<u.length;f++)if(""+u[f]===d){l=!0;break}}else l=""+u===d;s=r({selected:void 0,children:void 0},s,{selected:l,children:c})}}for(_ in(l=s)&&(B[a]&&(null!=l.children||null!=l.dangerouslySetInnerHTML)&&i("137",a,""),null!=l.dangerouslySetInnerHTML&&(null!=l.children&&i("60"),"object"==typeof l.dangerouslySetInnerHTML&&"__html"in l.dangerouslySetInnerHTML||i("61")),null!=l.style&&"object"!=typeof l.style&&i("62","")),l=s,u=this.makeStaticMarkup,c=1===this.stack.length,d="<"+e.type,l)if($.call(l,_)){var h=l[_];if(null!=h){if("style"===_){f=void 0;var p="",m="";for(f in h)if(h.hasOwnProperty(f)){var g=0===f.indexOf("--"),v=h[f];if(null!=v){var y=f;if(K.hasOwnProperty(y))y=K[y];else{var b=y.replace(U,"-$1").toLowerCase().replace(q,"-ms-");y=K[y]=b}p+=m+y+":",m=f,p+=g=null==v||"boolean"==typeof v||""===v?"":g||"number"!=typeof v||0===v||F.hasOwnProperty(m)&&F[m]?(""+v).trim():v+"px",m=";"}}h=p||null}f=null;e:if(g=a,v=l,-1===g.indexOf("-"))g="string"==typeof v.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break e;default:g=!0}g?Z.hasOwnProperty(_)||(f=E(f=_)&&null!=h?f+'="'+O(h)+'"':""):(g=_,f=h,h=S.hasOwnProperty(g)?S[g]:null,(v="style"!==g)&&(v=null!==h?0===h.type:2<g.length&&("o"===g[0]||"O"===g[0])&&("n"===g[1]||"N"===g[1])),v||T(g,f,h,!1)?f="":null!==h?(g=h.attributeName,f=3===(h=h.type)||4===h&&!0===f?g+'=""':g+'="'+O(f)+'"'):f=E(g)?g+'="'+O(f)+'"':""),f&&(d+=" "+f)}}u||c&&(d+=' data-reactroot=""');var _=d;l="",L.hasOwnProperty(a)?_+="/>":(_+=">",l="</"+e.type+">");e:{if(null!=(u=s.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"==typeof(u=s.children)||"number"==typeof u){u=O(u);break e}u=null}return null!=u?(s=[],W[a]&&"\n"===u.charAt(0)&&(_+="\n"),_+=u):s=V(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?D(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:s,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,_},e}(),te={renderToString:function(e){return new ee(e,!1).read(1/0)},renderToStaticMarkup:function(e){return new ee(e,!0).read(1/0)},renderToNodeStream:function(){i("207")},renderToStaticNodeStream:function(){i("208")},version:"16.6.1"},ne={default:te},re=ne&&te||ne;e.exports=re.default||re},"./node_modules/anatomogram/node_modules/react-dom/cjs/react-dom.production.min.js":function(e,t,n){"use strict";
/** @license React v16.6.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("./node_modules/anatomogram/node_modules/react/index.js"),o=n("./node_modules/object-assign/index.js"),i=n("./node_modules/anatomogram/node_modules/scheduler/index.js");function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,l=null,u=!1,c=null,d={onError:function(e){s=!0,l=e}};function f(e,t,n,r,o,i,a,u,c){s=!1,l=null,function(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(d,arguments)}var h=null,p={};function m(){if(h)for(var e in p){var t=p[e],n=h.indexOf(e);if(-1<n||a("96",e),!v[n])for(var r in t.extractEvents||a("97",e),v[n]=t,n=t.eventTypes){var o=void 0,i=n[r],s=t,l=r;y.hasOwnProperty(l)&&a("99",l),y[l]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&g(u[o],s,l);o=!0}else i.registrationName?(g(i.registrationName,s,l),o=!0):o=!1;o||a("98",r,e)}}}function g(e,t,n){b[e]&&a("100",e),b[e]=t,_[e]=t.eventTypes[n].dependencies}var v=[],y={},b={},_={},x=null,w=null,k=null;function E(e,t,n){var r=e.type||"unknown-event";e.currentTarget=k(n),function(e,t,n,r,o,i,d,h,p){if(f.apply(this,arguments),s){if(s){var m=l;s=!1,l=null}else a("198"),m=void 0;u||(u=!0,c=m)}}(r,t,void 0,e),e.currentTarget=null}function T(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function A(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var S=null;function M(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)E(e,t[r],n[r]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var C={injectEventPluginOrder:function(e){h&&a("101"),h=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];p.hasOwnProperty(t)&&p[t]===r||(p[t]&&a("102",t),p[t]=r,n=!0)}n&&m()}};function j(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function O(e){if(null!==e&&(S=T(S,e)),e=S,S=null,e&&(A(e,M),S&&a("95"),u))throw e=c,u=!1,c=null,e}var N=Math.random().toString(36).slice(2),R="__reactInternalInstance$"+N,P="__reactEventHandlers$"+N;function I(e){if(e[R])return e[R];for(;!e[R];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[R]).tag||6===e.tag?e:null}function D(e){return!(e=e[R])||5!==e.tag&&6!==e.tag?null:e}function L(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function B(e){return e[P]||null}function F(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function z(e,t,n){(t=j(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function U(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=F(t);for(t=n.length;0<t--;)z(n[t],"captured",e);for(t=0;t<n.length;t++)z(n[t],"bubbled",e)}}function q(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=j(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&q(e._targetInst,null,e)}function H(e){A(e,U)}var W=!("undefined"==typeof window||!window.document||!window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var X={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},K={},Y={};function $(e){if(K[e])return K[e];if(!X[e])return e;var t,n=X[e];for(t in n)if(n.hasOwnProperty(t)&&t in Y)return K[e]=n[t];return e}W&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var Z=$("animationend"),Q=$("animationiteration"),J=$("animationstart"),ee=$("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,oe=null;function ie(){if(oe)return oe;var e,t,n=re,r=n.length,o="value"in ne?ne.value:ne.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return oe=o.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function le(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ue(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function ce(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ue,e.release=ce}o(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,de(n),n},de(le);var fe=le.extend({data:null}),he=le.extend({data:null}),pe=[9,13,27,32],me=W&&"CompositionEvent"in window,ge=null;W&&"documentMode"in document&&(ge=document.documentMode);var ve=W&&"TextEvent"in window&&!ge,ye=W&&(!me||ge&&8<ge&&11>=ge),be=String.fromCharCode(32),_e={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xe=!1;function we(e,t){switch(e){case"keyup":return-1!==pe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ke(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ee=!1;var Te={eventTypes:_e,extractEvents:function(e,t,n,r){var o=void 0,i=void 0;if(me)e:{switch(e){case"compositionstart":o=_e.compositionStart;break e;case"compositionend":o=_e.compositionEnd;break e;case"compositionupdate":o=_e.compositionUpdate;break e}o=void 0}else Ee?we(e,n)&&(o=_e.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=_e.compositionStart);return o?(ye&&"ko"!==n.locale&&(Ee||o!==_e.compositionStart?o===_e.compositionEnd&&Ee&&(i=ie()):(re="value"in(ne=r)?ne.value:ne.textContent,Ee=!0)),o=fe.getPooled(o,t,n,r),i?o.data=i:null!==(i=ke(n))&&(o.data=i),H(o),i=o):i=null,(e=ve?function(e,t){switch(e){case"compositionend":return ke(t);case"keypress":return 32!==t.which?null:(xe=!0,be);case"textInput":return(e=t.data)===be&&xe?null:e;default:return null}}(e,n):function(e,t){if(Ee)return"compositionend"===e||!me&&we(e,t)?(e=ie(),oe=re=ne=null,Ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(_e.beforeInput,t,n,r)).data=e,H(t)):t=null,null===i?t:null===t?i:[i,t]}},Ae=null,Se=null,Me=null;function Ce(e){if(e=w(e)){"function"!=typeof Ae&&a("280");var t=x(e.stateNode);Ae(e.stateNode,e.type,t)}}function je(e){Se?Me?Me.push(e):Me=[e]:Se=e}function Oe(){if(Se){var e=Se,t=Me;if(Me=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Re(e,t,n){return e(t,n)}function Pe(){}var Ie=!1;function De(e,t){if(Ie)return e(t);Ie=!0;try{return Ne(e,t)}finally{Ie=!1,(null!==Se||null!==Me)&&(Pe(),Oe())}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Le[e.type]:"textarea"===t}function Fe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ze(e){if(!W)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Ue(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function qe(e){e._valueTracker||(e._valueTracker=function(e){var t=Ue(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ue(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var He=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,We=/^(.*)[\\\/]/,Ge="function"==typeof Symbol&&Symbol.for,Xe=Ge?Symbol.for("react.element"):60103,Ke=Ge?Symbol.for("react.portal"):60106,Ye=Ge?Symbol.for("react.fragment"):60107,$e=Ge?Symbol.for("react.strict_mode"):60108,Ze=Ge?Symbol.for("react.profiler"):60114,Qe=Ge?Symbol.for("react.provider"):60109,Je=Ge?Symbol.for("react.context"):60110,et=Ge?Symbol.for("react.concurrent_mode"):60111,tt=Ge?Symbol.for("react.forward_ref"):60112,nt=Ge?Symbol.for("react.suspense"):60113,rt=Ge?Symbol.for("react.memo"):60115,ot=Ge?Symbol.for("react.lazy"):60116,it="function"==typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=it&&e[it]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ye:return"Fragment";case Ke:return"Portal";case Ze:return"Profiler";case $e:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case Qe:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case ot:if(e=1===e._status?e._result:null)return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 2:case 16:case 0:case 1:case 5:case 8:case 13:var n=e._debugOwner,r=e._debugSource,o=st(e.type),i=null;n&&(i=st(n.type)),n=o,o="",r?o=" (at "+r.fileName.replace(We,"")+":"+r.lineNumber+")":i&&(o=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+o;break e;default:i=""}t+=i,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,dt={},ft={};function ht(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){pt[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){pt[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){pt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var o=pt.hasOwnProperty(t)?pt[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!ct.call(ft,e)||!ct.call(dt,e)&&(ut.test(e)?ft[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _t(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function wt(e,t){xt(e,t);var n=yt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Et(e,t.type,n):t.hasOwnProperty("defaultValue")&&Et(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function kt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Et(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);pt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),pt.tabIndex=new ht("tabIndex",1,!1,"tabindex",null);var Tt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function At(e,t,n){return(e=le.getPooled(Tt.change,e,t,n)).type="change",je(n),H(e),e}var St=null,Mt=null;function Ct(e){O(e)}function jt(e){if(Ve(L(e)))return e}function Ot(e,t){if("change"===e)return t}var Nt=!1;function Rt(){St&&(St.detachEvent("onpropertychange",Pt),Mt=St=null)}function Pt(e){"value"===e.propertyName&&jt(Mt)&&De(Ct,e=At(Mt,e,Fe(e)))}function It(e,t,n){"focus"===e?(Rt(),Mt=n,(St=t).attachEvent("onpropertychange",Pt)):"blur"===e&&Rt()}function Dt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jt(Mt)}function Lt(e,t){if("click"===e)return jt(t)}function Bt(e,t){if("input"===e||"change"===e)return jt(t)}W&&(Nt=ze("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:Tt,_isInputEventSupported:Nt,extractEvents:function(e,t,n,r){var o=t?L(t):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=Ot:Be(o)?Nt?i=Bt:(i=Dt,a=It):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=Lt),i&&(i=i(e,t)))return At(i,n,r);a&&a(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Et(o,"number",o.value)}},zt=le.extend({view:null,detail:null}),Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ut[e])&&!!t[e]}function Vt(){return qt}var Ht=0,Wt=0,Gt=!1,Xt=!1,Kt=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ht;return Ht=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Wt;return Wt=e.screenY,Xt?"mousemove"===e.type?e.screenY-t:0:(Xt=!0,0)}}),Yt=Kt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$t={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zt={eventTypes:$t,extractEvents:function(e,t,n,r){var o="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(o&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?I(t):null):i=null,i===t)return null;var a=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=Kt,s=$t.mouseLeave,l=$t.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Yt,s=$t.pointerLeave,l=$t.pointerEnter,u="pointer");var c=null==i?o:L(i);if(o=null==t?o:L(t),(e=a.getPooled(s,i,n,r)).type=u+"leave",e.target=c,e.relatedTarget=o,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=c,r=t,i&&r)e:{for(o=r,u=0,a=t=i;a;a=F(a))u++;for(a=0,l=o;l;l=F(l))a++;for(;0<u-a;)t=F(t),u--;for(;0<a-u;)o=F(o),a--;for(;u--;){if(t===o||t===o.alternate)break e;t=F(t),o=F(o)}t=null}else t=null;for(o=t,t=[];i&&i!==o&&(null===(u=i.alternate)||u!==o);)t.push(i),i=F(i);for(i=[];r&&r!==o&&(null===(u=r.alternate)||u!==o);)i.push(r),r=F(r);for(r=0;r<t.length;r++)q(t[r],"bubbled",e);for(r=i.length;0<r--;)q(i[r],"captured",n);return[e,n]}},Qt=Object.prototype.hasOwnProperty;function Jt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function en(e,t){if(Jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qt.call(t,n[r])||!Jt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var s=o.child;s;){if(s===n)return nn(o),e;if(s===r)return nn(o),t;s=s.sibling}a("188")}if(n.return!==r.return)n=o,r=i;else{s=!1;for(var l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=zt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=zt.extend({key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),fn=Kt.extend({dataTransfer:null}),hn=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),pn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Kt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[Z,"animationEnd"],[Q,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},yn={};function bn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},vn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),gn.forEach(function(e){bn(e,!1)});var _n={eventTypes:vn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var o=yn[e];if(!o)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=hn;break;case Z:case Q:case J:e=on;break;case ee:e=pn;break;case"scroll":e=zt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Yt;break;default:e=le}return H(t=e.getPooled(o,t,n,r)),t}},xn=_n.isInteractiveTopLevelEventType,wn=[];function kn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=I(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=Fe(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,a=null,s=0;s<v.length;s++){var l=v[s];l&&(l=l.extractEvents(r,t,i,o))&&(a=T(a,l))}O(a)}}var En=!0;function Tn(e,t){if(!t)return null;var n=(xn(e)?Sn:Mn).bind(null,e);t.addEventListener(e,n,!1)}function An(e,t){if(!t)return null;var n=(xn(e)?Sn:Mn).bind(null,e);t.addEventListener(e,n,!0)}function Sn(e,t){Re(Mn,e,t)}function Mn(e,t){if(En){var n=Fe(t);if(null===(n=I(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),wn.length){var r=wn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{De(kn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wn.length&&wn.push(e)}}}var Cn={},jn=0,On="_reactListenersID"+(""+Math.random()).slice(2);function Nn(e){return Object.prototype.hasOwnProperty.call(e,On)||(e[On]=jn++,Cn[e[On]]={}),Cn[e[On]]}function Rn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Pn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function In(e,t){var n,r=Pn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pn(r)}}function Dn(){for(var e=window,t=Rn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Rn(e.document)}return t}function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Bn=W&&"documentMode"in document&&11>=document.documentMode,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Un=null,qn=null,Vn=!1;function Hn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Vn||null==zn||zn!==Rn(n)?null:("selectionStart"in(n=zn)&&Ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qn&&en(qn,n)?null:(qn=n,(e=le.getPooled(Fn.select,Un,e,t)).type="select",e.target=zn,H(e),e))}var Wn={eventTypes:Fn,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=Nn(i),o=_.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}o=!i}if(o)return null;switch(i=t?L(t):window,e){case"focus":(Be(i)||"true"===i.contentEditable)&&(zn=i,Un=t,qn=null);break;case"blur":qn=Un=zn=null;break;case"mousedown":Vn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Vn=!1,Hn(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return Hn(n,r)}return null}};function Gn(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Kn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function $n(e,t){var n=yt(t.value),r=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Zn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}C.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=B,w=D,k=L,C.injectEventPluginsByName({SimpleEventPlugin:_n,EnterLeaveEventPlugin:Zt,ChangeEventPlugin:Ft,SelectEventPlugin:Wn,BeforeInputEventPlugin:Te});var Qn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Jn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Jn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tr,nr=void 0,rr=(tr=function(e,t){if(e.namespaceURI!==Qn.svg||"innerHTML"in e)e.innerHTML=t;else{for((nr=nr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=nr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return tr(e,t)})}:tr);function or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ir={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];function sr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ir.hasOwnProperty(e)&&ir[e]?(""+t).trim():t+"px"}function lr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=sr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ir).forEach(function(e){ar.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ir[t]=ir[e]})});var ur=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cr(e,t){t&&(ur[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function dr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function fr(e,t){var n=Nn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var r=0;r<t.length;r++){var o=t[r];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":An("scroll",e);break;case"focus":case"blur":An("focus",e),An("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ze(o)&&An(o,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(o)&&Tn(o,e)}n[o]=!0}}}function hr(){}var pr=null,mr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"==typeof setTimeout?setTimeout:void 0,br="function"==typeof clearTimeout?clearTimeout:void 0;function _r(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function xr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var wr=[],kr=-1;function Er(e){0>kr||(e.current=wr[kr],wr[kr]=null,kr--)}function Tr(e,t){wr[++kr]=e.current,e.current=t}var Ar={},Sr={current:Ar},Mr={current:!1},Cr=Ar;function jr(e,t){var n=e.type.contextTypes;if(!n)return Ar;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Or(e){return null!=(e=e.childContextTypes)}function Nr(e){Er(Mr),Er(Sr)}function Rr(e){Er(Mr),Er(Sr)}function Pr(e,t,n){Sr.current!==Ar&&a("168"),Tr(Sr,t),Tr(Mr,n)}function Ir(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())i in e||a("108",st(t)||"Unknown",i);return o({},n,r)}function Dr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ar,Cr=Sr.current,Tr(Sr,t),Tr(Mr,Mr.current),!0}function Lr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=Ir(e,t,Cr),r.__reactInternalMemoizedMergedChildContext=t,Er(Mr),Er(Sr),Tr(Sr,t)):Er(Mr),Tr(Mr,n)}var Br=null,Fr=null;function zr(e){return function(t){try{return e(t)}catch(e){}}}function Ur(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qr(e,t,n,r){return new Ur(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hr(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.firstContextDependency=e.firstContextDependency,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wr(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)Vr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Ye:return Gr(n.children,o,i,t);case et:return Xr(n,3|o,i,t);case $e:return Xr(n,2|o,i,t);case Ze:return(e=qr(12,n,t,4|o)).elementType=Ze,e.type=Ze,e.expirationTime=i,e;case nt:return(e=qr(13,n,t,o)).elementType=nt,e.type=nt,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Qe:s=10;break e;case Je:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case ot:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=qr(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Gr(e,t,n,r){return(e=qr(7,e,r,t)).expirationTime=n,e}function Xr(e,t,n,r){return e=qr(8,e,r,t),t=0==(1&t)?$e:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Kr(e,t,n){return(e=qr(6,e,null,t)).expirationTime=n,e}function Yr(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $r(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),Jr(t,e)}function Zr(e,t){e.didError=!1;var n=e.latestPingedTime;0!==n&&n>=t&&(e.latestPingedTime=0),n=e.earliestPendingTime;var r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),Jr(t,e)}function Qr(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function Jr(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,o=t.earliestPendingTime,i=t.latestPingedTime;0===(o=0!==o?o:i)&&(0===e||r<e)&&(o=r),0!==(e=o)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=o,t.expirationTime=e}var eo=!1;function to(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function no(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ro(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function oo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function io(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,o=null;null===r&&(r=e.updateQueue=to(e.memoizedState))}else r=e.updateQueue,o=n.updateQueue,null===r?null===o?(r=e.updateQueue=to(e.memoizedState),o=n.updateQueue=to(n.memoizedState)):r=e.updateQueue=no(o):null===o&&(o=n.updateQueue=no(r));null===o||r===o?oo(r,t):null===r.lastUpdate||null===o.lastUpdate?(oo(r,t),oo(o,t)):(oo(r,t),o.lastUpdate=t)}function ao(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=to(e.memoizedState):so(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function so(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=no(t)),t}function lo(e,t,n,r,i,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,i):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(i="function"==typeof(e=n.payload)?e.call(a,r,i):e))break;return o({},r,i);case 2:eo=!0}return r}function uo(e,t,n,r,o){eo=!1;for(var i=(t=so(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=i;null!==l;){var c=l.expirationTime;c<o?(null===a&&(a=l,i=u),s<c&&(s=c)):(u=lo(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<o?(null===c&&(c=l,null===a&&(i=u)),s<d&&(s=d)):(u=lo(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(i=u),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function co(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),fo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,fo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function fo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function ho(e,t){return{value:e,source:t,stack:lt(t)}}var po={current:null},mo=null,go=null,vo=null;function yo(e,t){var n=e.type._context;Tr(po,n._currentValue),n._currentValue=t}function bo(e){var t=po.current;Er(po),e.type._context._currentValue=t}function _o(e){mo=e,vo=go=null,e.firstContextDependency=null}function xo(e,t){return vo!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(vo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===go?(null===mo&&a("293"),mo.firstContextDependency=go=t):go=go.next=t),e._currentValue}var wo={},ko={current:wo},Eo={current:wo},To={current:wo};function Ao(e){return e===wo&&a("174"),e}function So(e,t){Tr(To,t),Tr(Eo,e),Tr(ko,wo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:er(null,"");break;default:t=er(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Er(ko),Tr(ko,t)}function Mo(e){Er(ko),Er(Eo),Er(To)}function Co(e){Ao(To.current);var t=Ao(ko.current),n=er(t,e.type);t!==n&&(Tr(Eo,e),Tr(ko,n))}function jo(e){Eo.current===e&&(Er(ko),Er(Eo))}function Oo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var No=He.ReactCurrentOwner,Ro=(new r.Component).refs;function Po(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Io={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ta(),o=ro(r=Zi(r,e));o.payload=t,null!=n&&(o.callback=n),Gi(),io(e,o),ea(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ta(),o=ro(r=Zi(r,e));o.tag=1,o.payload=t,null!=n&&(o.callback=n),Gi(),io(e,o),ea(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ta(),r=ro(n=Zi(n,e));r.tag=2,null!=t&&(r.callback=t),Gi(),io(e,r),ea(e,n)}};function Do(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(o,i))}function Lo(e,t,n){var r=!1,o=Ar,i=t.contextType;return"object"==typeof i&&null!==i?i=No.currentDispatcher.readContext(i):(o=Or(t)?Cr:Sr.current,i=(r=null!=(r=t.contextTypes))?jr(e,o):Ar),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Io,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Fo(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ro;var i=t.contextType;"object"==typeof i&&null!==i?o.context=No.currentDispatcher.readContext(i):(i=Or(t)?Cr:Sr.current,o.context=jr(e,i)),null!==(i=e.updateQueue)&&(uo(e,i,n,o,r),o.state=e.memoizedState),"function"==typeof(i=t.getDerivedStateFromProps)&&(Po(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Io.enqueueReplaceState(o,o.state,null),null!==(i=e.updateQueue)&&(uo(e,i,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var zo=Array.isArray;function Uo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("289"),r=n.stateNode),r||a("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===Ro&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function qo(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Vo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Hr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Uo(e,t,n),r.return=e,r):((r=Wr(n.type,n.key,n.props,null,e.mode,r)).ref=Uo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Gr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Xe:return(n=Wr(t.type,t.key,t.props,null,e.mode,n)).ref=Uo(e,null,t),n.return=e,n;case Ke:return(t=Yr(t,e.mode,n)).return=e,t}if(zo(t)||at(t))return(t=Gr(t,e.mode,n,null)).return=e,t;qo(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Xe:return n.key===o?n.type===Ye?d(e,t,n.props.children,r,o):u(e,t,n,r):null;case Ke:return n.key===o?c(e,t,n,r):null}if(zo(n)||at(n))return null!==o?null:d(e,t,n,r,null);qo(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Xe:return e=e.get(null===r.key?n:r.key)||null,r.type===Ye?d(t,e,r.props.children,o,r.key):u(t,e,r,o);case Ke:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(zo(r)||at(r))return d(t,e=e.get(n)||null,r,o,null);qo(t,r)}return null}function m(o,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=i(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(o,d),u;if(null===d){for(;m<s.length;m++)(d=f(o,s[m],l))&&(a=i(d,a,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(o,d);m<s.length;m++)(g=p(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(o,e)}),u}function g(o,s,l,u){var c=at(l);"function"!=typeof c&&a("150"),null==(l=c.call(l))&&a("151");for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(o,m,y.value,u);if(null===b){m||(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(o,y.value,u))&&(s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),c}return function(e,r,i,l){var u="object"==typeof i&&null!==i&&i.type===Ye&&null===i.key;u&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case Xe:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?i.type===Ye:u.elementType===i.type){n(e,u.sibling),(r=o(u,i.type===Ye?i.props.children:i.props)).ref=Uo(e,u,i),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}i.type===Ye?((r=Gr(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Wr(i.type,i.key,i.props,null,e.mode,l)).ref=Uo(e,r,i),l.return=e,e=l)}return s(e);case Ke:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yr(i,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Kr(i,e.mode,l)).return=e,e=r),s(e);if(zo(i))return m(e,r,i,l);if(at(i))return g(e,r,i,l);if(c&&qo(e,i),void 0===i&&!u)switch(e.tag){case 1:case 0:a("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var Ho=Vo(!0),Wo=Vo(!1),Go=null,Xo=null,Ko=!1;function Yo(e,t){var n=qr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $o(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Zo(e){if(Ko){var t=Xo;if(t){var n=t;if(!$o(e,t)){if(!(t=_r(n))||!$o(e,t))return e.effectTag|=2,Ko=!1,void(Go=e);Yo(Go,n)}Go=e,Xo=xr(t)}else e.effectTag|=2,Ko=!1,Go=e}}function Qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Go=e}function Jo(e){if(e!==Go)return!1;if(!Ko)return Qo(e),Ko=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vr(t,e.memoizedProps))for(t=Xo;t;)Yo(e,t),t=_r(t);return Qo(e),Xo=Go?_r(e.stateNode):null,!0}function ei(){Xo=Go=null,Ko=!1}var ti=He.ReactCurrentOwner;function ni(e,t,n,r){t.child=null===e?Wo(t,null,n,r):Ho(t,e.child,n,r)}function ri(e,t,n,r,o){n=n.render;var i=t.ref;return _o(t),r=n(r,i),t.effectTag|=1,ni(e,t,r,o),t.child}function oi(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Vr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ii(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(o,r)&&e.ref===t.ref)?hi(e,t,i):((e=Hr(a,r)).ref=t.ref,e.return=t,t.child=e)}function ii(e,t,n,r,o,i){return null!==e&&o<i&&en(e.memoizedProps,r)&&e.ref===t.ref?hi(e,t,i):si(e,t,n,r,i)}function ai(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function si(e,t,n,r,o){var i=Or(n)?Cr:Sr.current;return i=jr(t,i),_o(t),n=n(r,i),t.effectTag|=1,ni(e,t,n,o),t.child}function li(e,t,n,r,o){if(Or(n)){var i=!0;Dr(t)}else i=!1;if(_o(t),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Lo(t,n,r),Fo(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=No.currentDispatcher.readContext(u):u=jr(t,u=Or(n)?Cr:Sr.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Bo(t,a,r,u),eo=!1;var f=t.memoizedState;l=a.state=f;var h=t.updateQueue;null!==h&&(uo(t,h,r,a,o),l=t.memoizedState),s!==r||f!==l||Mr.current||eo?("function"==typeof c&&(Po(t,n,c,r),l=t.memoizedState),(s=eo||Do(t,n,s,r,f,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Oo(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=No.currentDispatcher.readContext(u):u=jr(t,u=Or(n)?Cr:Sr.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Bo(t,a,r,u),eo=!1,l=t.memoizedState,f=a.state=l,null!==(h=t.updateQueue)&&(uo(t,h,r,a,o),f=t.memoizedState),s!==r||l!==f||Mr.current||eo?("function"==typeof c&&(Po(t,n,c,r),f=t.memoizedState),(c=eo||Do(t,n,s,r,l,f,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return ui(e,t,n,r,i,o)}function ui(e,t,n,r,o,i){ai(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&Lr(t,n,!1),hi(e,t,i);r=t.stateNode,ti.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ho(t,e.child,null,i),t.child=Ho(t,null,s,i)):ni(e,t,s,i),t.memoizedState=r.state,o&&Lr(t,n,!0),t.child}function ci(e){var t=e.stateNode;t.pendingContext?Pr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pr(0,t.context,!1),So(e,t.containerInfo)}function di(e,t,n){var r=t.mode,o=t.pendingProps,i=t.memoizedState;if(0==(64&t.effectTag)){i=null;var a=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},a=!0,t.effectTag&=-65;return null===e?a?(a=o.fallback,o=Gr(null,r,0,null),0==(1&t.mode)&&fi(t,o,null!==t.memoizedState?t.child.child:t.child),r=Gr(a,r,n,null),o.sibling=r,(n=o).return=r.return=t):n=r=Wo(t,null,o.children,n):null!==e.memoizedState?(e=(r=e.child).sibling,a?(n=o.fallback,(o=Hr(r,r.pendingProps)).effectTag|=2,0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&fi(t,o,a)),(r=o.sibling=Hr(e,n,e.expirationTime)).effectTag|=2,n=o,o.childExpirationTime=0,n.return=r.return=t):(a=e.child,r=Ho(t,r.child,o.children,n),Ho(t,a,null,n),n=r)):(e=e.child,a?(a=o.fallback,(o=Gr(null,r,0,null)).effectTag|=2,o.child=e,e.return=o,0==(1&t.mode)&&fi(t,o,null!==t.memoizedState?t.child.child:t.child),(r=o.sibling=Gr(a,r,n,null)).effectTag|=2,n=o,o.childExpirationTime=0,n.return=r.return=t):r=n=Ho(t,e,o.children,n)),t.memoizedState=i,t.child=n,r}function fi(e,t,n){for(n=t.child=n;null!==n;)null===t.firstEffect&&(t.firstEffect=n.firstEffect),null!==n.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=n.firstEffect),t.lastEffect=n.lastEffect),1<n.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=n:t.firstEffect=n,t.lastEffect=n),n.return=t,n=n.sibling;e.firstEffect=t.firstEffect,e.lastEffect=t.lastEffect}function hi(e,t,n){if(null!==e&&(t.firstContextDependency=e.firstContextDependency),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Hr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function pi(e,t,n){var r=t.expirationTime;if(null!==e&&e.memoizedProps===t.pendingProps&&!Mr.current&&r<n){switch(t.tag){case 3:ci(t),ei();break;case 5:Co(t);break;case 1:Or(t.type)&&Dr(t);break;case 4:So(t,t.stateNode.containerInfo);break;case 10:yo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?di(e,t,n):null!==(t=hi(e,t,n))?t.sibling:null}return hi(e,t,n)}switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var o=jr(t,Sr.current);if(_o(t),o=r(e,o),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,Or(r)){var i=!0;Dr(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Po(t,r,s,e),o.updater=Io,t.stateNode=o,o._reactInternalFiber=t,Fo(t,r,e,n),t=ui(null,t,r,!0,i,n)}else t.tag=0,ni(null,t,o,n),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),i=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:throw e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._result=t,t}}(o),t.type=e,o=t.tag=function(e){if("function"==typeof e)return Vr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),i=Oo(e,i),s=void 0,o){case 0:s=si(null,t,e,i,n);break;case 1:s=li(null,t,e,i,n);break;case 11:s=ri(null,t,e,i,n);break;case 14:s=oi(null,t,e,Oo(e.type,i),r,n);break;default:a("283",e)}return s;case 0:return r=t.type,o=t.pendingProps,si(e,t,r,o=t.elementType===r?o:Oo(r,o),n);case 1:return r=t.type,o=t.pendingProps,li(e,t,r,o=t.elementType===r?o:Oo(r,o),n);case 3:return ci(t),null===(r=t.updateQueue)&&a("282"),o=null!==(o=t.memoizedState)?o.element:null,uo(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o?(ei(),t=hi(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(Xo=xr(t.stateNode.containerInfo),Go=t,o=Ko=!0),o?(t.effectTag|=2,t.child=Wo(t,null,r,n)):(ni(e,t,r,n),ei()),t=t.child),t;case 5:return Co(t),null===e&&Zo(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,vr(r,o)?s=null:null!==i&&vr(r,i)&&(t.effectTag|=16),ai(e,t),1!==n&&1&t.mode&&o.hidden?(t.expirationTime=1,t=null):(ni(e,t,s,n),t=t.child),t;case 6:return null===e&&Zo(t),null;case 13:return di(e,t,n);case 4:return So(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ho(t,null,r,n):ni(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ri(e,t,r,o=t.elementType===r?o:Oo(r,o),n);case 7:return ni(e,t,t.pendingProps,n),t.child;case 8:case 12:return ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,yo(t,i=o.value),null!==s){var l=s.value;if(0===(i=l===i&&(0!==l||1/l==1/i)||l!=l&&i!=i?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!Mr.current){t=hi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){if(null!==(l=s.firstContextDependency))do{if(l.context===r&&0!=(l.observedBits&i)){if(1===s.tag){var u=ro(n);u.tag=2,io(s,u)}s.expirationTime<n&&(s.expirationTime=n),null!==(u=s.alternate)&&u.expirationTime<n&&(u.expirationTime=n);for(var c=s.return;null!==c;){if(u=c.alternate,c.childExpirationTime<n)c.childExpirationTime=n,null!==u&&u.childExpirationTime<n&&(u.childExpirationTime=n);else{if(!(null!==u&&u.childExpirationTime<n))break;u.childExpirationTime=n}c=c.return}}u=s.child,l=l.next}while(null!==l);else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}}ni(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,_o(t),r=r(o=xo(o,i.unstable_observedBits)),t.effectTag|=1,ni(e,t,r,n),t.child;case 14:return oi(e,t,o=t.type,i=Oo(o.type,t.pendingProps),r,n);case 15:return ii(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Oo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Or(r)?(e=!0,Dr(t)):e=!1,_o(t),Lo(t,r,o),Fo(t,r,o,n),ui(null,t,r,!0,e,n);default:a("156")}}function mi(e){e.effectTag|=4}var gi=void 0,vi=void 0,yi=void 0,bi=void 0;function _i(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function xi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){$i(e,t)}else t.current=null}function wi(e){switch("function"==typeof Fr&&Fr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(null!==r){var o=e;try{r()}catch(e){$i(o,e)}}n=n.next}while(n!==t)}break;case 1:if(xi(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){$i(e,t)}break;case 5:xi(e);break;case 4:Ti(e)}}function ki(e){return 5===e.tag||3===e.tag||4===e.tag}function Ei(e){e:{for(var t=e.return;null!==t;){if(ki(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(or(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ki(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(n)if(r){var i=t,s=o.stateNode,l=n;8===i.nodeType?i.parentNode.insertBefore(s,l):i.insertBefore(s,l)}else t.insertBefore(o.stateNode,n);else r?(s=t,l=o.stateNode,8===s.nodeType?(i=s.parentNode).insertBefore(l,s):(i=s).appendChild(l),null!=(s=s._reactRootContainer)||null!==i.onclick||(i.onclick=hr)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Ti(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,o=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,s=i;;)if(wi(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(i=r,s=t.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag?(r=t.stateNode.containerInfo,o=!0):wi(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Ai(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[P]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xt(n,r),dr(e,o),t=dr(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?lr(n,l):"dangerouslySetInnerHTML"===s?rr(n,l):"children"===s?or(n,l):vt(n,s,l,t)}switch(e){case"input":wt(n,r);break;case"textarea":$n(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Xn(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Xn(n,!!r.multiple,r.defaultValue,!0):Xn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(e=t,null===(n=t.memoizedState)?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Ta())),null!==e)e:for(t=n=e;;){if(5===t.tag)e=t.stateNode,r?e.style.display="none":(e=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,e.style.display=sr("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;null===t.sibling;){if(null===t.return||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}break;case 17:break;default:a("163")}}function Si(e,t,n){(n=ro(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ia(r),_i(e,t)},n}function Mi(e,t,n){(n=ro(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hi?Hi=new Set([this]):Hi.add(this));var n=t.value,o=t.stack;_i(e,t),this.componentDidCatch(n,{componentStack:null!==o?o:""})}),n}function Ci(e){switch(e.tag){case 1:Or(e.type)&&Nr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Mo(),Rr(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return jo(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 4:return Mo(),null;case 10:return bo(e),null;default:return null}}gi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vi=function(){},yi=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(Ao(ko.current),e=null,n){case"input":a=bt(s,a),r=bt(s,r),e=[];break;case"option":a=Gn(s,a),r=Gn(s,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Kn(s,a),r=Kn(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=hr)}cr(n,r),s=n=void 0;var l=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var u=a[n];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(e||(e=[]),e.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=c&&fr(i,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}l&&(e=e||[]).push("style",l),i=e,(t.updateQueue=i)&&mi(t)}},bi=function(e,t,n,r){n!==r&&mi(t)};var ji={readContext:xo},Oi=He.ReactCurrentOwner,Ni=1073741822,Ri=0,Pi=!1,Ii=null,Di=null,Li=0,Bi=-1,Fi=!1,zi=null,Ui=!1,qi=null,Vi=null,Hi=null;function Wi(){if(null!==Ii)for(var e=Ii.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Nr();break;case 3:Mo(),Rr();break;case 5:jo(t);break;case 4:Mo();break;case 10:bo(t)}e=e.return}Di=null,Li=0,Bi=-1,Fi=!1,Ii=null}function Gi(){null!==Vi&&(i.unstable_cancelCallback(qi),Vi())}function Xi(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){Ii=e;e:{var i=t,s=Li,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Or(t.type)&&Nr();break;case 3:Mo(),Rr(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==i&&null!==i.child||(Jo(t),t.effectTag&=-3),vi(t);break;case 5:jo(t);var u=Ao(To.current);if(s=t.type,null!==i&&null!=t.stateNode)yi(i,t,s,l,u),i.ref!==t.ref&&(t.effectTag|=128);else if(l){var c=Ao(ko.current);if(Jo(t)){i=(l=t).stateNode;var d=l.type,f=l.memoizedProps,h=u;switch(i[R]=l,i[P]=f,s=void 0,u=d){case"iframe":case"object":Tn("load",i);break;case"video":case"audio":for(d=0;d<te.length;d++)Tn(te[d],i);break;case"source":Tn("error",i);break;case"img":case"image":case"link":Tn("error",i),Tn("load",i);break;case"form":Tn("reset",i),Tn("submit",i);break;case"details":Tn("toggle",i);break;case"input":_t(i,f),Tn("invalid",i),fr(h,"onChange");break;case"select":i._wrapperState={wasMultiple:!!f.multiple},Tn("invalid",i),fr(h,"onChange");break;case"textarea":Yn(i,f),Tn("invalid",i),fr(h,"onChange")}for(s in cr(u,f),d=null,f)f.hasOwnProperty(s)&&(c=f[s],"children"===s?"string"==typeof c?i.textContent!==c&&(d=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(d=["children",""+c]):b.hasOwnProperty(s)&&null!=c&&fr(h,s));switch(u){case"input":qe(i),kt(i,f,!0);break;case"textarea":qe(i),Zn(i);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(i.onclick=hr)}s=d,l.updateQueue=s,(l=null!==s)&&mi(t)}else{f=t,i=s,h=l,d=9===u.nodeType?u:u.ownerDocument,c===Qn.html&&(c=Jn(i)),c===Qn.html?"script"===i?((i=d.createElement("div")).innerHTML="<script><\/script>",d=i.removeChild(i.firstChild)):"string"==typeof h.is?d=d.createElement(i,{is:h.is}):(d=d.createElement(i),"select"===i&&h.multiple&&(d.multiple=!0)):d=d.createElementNS(c,i),(i=d)[R]=f,i[P]=l,gi(i,t,!1,!1),h=i;var p=u,m=dr(d=s,f=l);switch(d){case"iframe":case"object":Tn("load",h),u=f;break;case"video":case"audio":for(u=0;u<te.length;u++)Tn(te[u],h);u=f;break;case"source":Tn("error",h),u=f;break;case"img":case"image":case"link":Tn("error",h),Tn("load",h),u=f;break;case"form":Tn("reset",h),Tn("submit",h),u=f;break;case"details":Tn("toggle",h),u=f;break;case"input":_t(h,f),u=bt(h,f),Tn("invalid",h),fr(p,"onChange");break;case"option":u=Gn(h,f);break;case"select":h._wrapperState={wasMultiple:!!f.multiple},u=o({},f,{value:void 0}),Tn("invalid",h),fr(p,"onChange");break;case"textarea":Yn(h,f),u=Kn(h,f),Tn("invalid",h),fr(p,"onChange");break;default:u=f}cr(d,u),c=void 0;var g=d,v=h,y=u;for(c in y)if(y.hasOwnProperty(c)){var _=y[c];"style"===c?lr(v,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&rr(v,_):"children"===c?"string"==typeof _?("textarea"!==g||""!==_)&&or(v,_):"number"==typeof _&&or(v,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=_&&fr(p,c):null!=_&&vt(v,c,_,m))}switch(d){case"input":qe(h),kt(h,f,!1);break;case"textarea":qe(h),Zn(h);break;case"option":null!=f.value&&h.setAttribute("value",""+yt(f.value));break;case"select":(u=h).multiple=!!f.multiple,null!=(h=f.value)?Xn(u,!!f.multiple,h,!1):null!=f.defaultValue&&Xn(u,!!f.multiple,f.defaultValue,!0);break;default:"function"==typeof u.onClick&&(h.onclick=hr)}(l=gr(s,l))&&mi(t),t.stateNode=i}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:i&&null!=t.stateNode?bi(i,t,i.memoizedProps,l):("string"!=typeof l&&(null===t.stateNode&&a("166")),i=Ao(To.current),Ao(ko.current),Jo(t)?(s=(l=t).stateNode,i=l.memoizedProps,s[R]=l,(l=s.nodeValue!==i)&&mi(t)):(s=t,(l=(9===i.nodeType?i:i.ownerDocument).createTextNode(l))[R]=t,s.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,t.firstEffect=t.lastEffect=null,Ii=t;break e}((l=null!==l)!==(null!==i&&null!==i.memoizedState)||0==(1&t.effectTag)&&l)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Mo(),vi(t);break;case 10:bo(t);break;case 9:case 14:break;case 17:Or(t.type)&&Nr();break;default:a("156")}Ii=null}if(t=e,1===Li||1!==t.childExpirationTime){for(l=0,s=t.child;null!==s;)(i=s.expirationTime)>l&&(l=i),(u=s.childExpirationTime)>l&&(l=u),s=s.sibling;t.childExpirationTime=l}if(null!==Ii)return Ii.firstEffect=Ii.lastEffect=null,Ii;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Ci(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Ki(e){var t=pi(e.alternate,e,Li);return e.memoizedProps=e.pendingProps,null===t&&(t=Xi(e)),Oi.current=null,t}function Yi(e,t){Pi&&a("243"),Gi(),Pi=!0,Oi.currentDispatcher=ji;var n=e.nextExpirationTimeToWorkOn;n===Li&&e===Di&&null!==Ii||(Wi(),Li=n,Ii=Hr((Di=e).current,null),e.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(t)for(;null!==Ii&&!Ca();)Ii=Ki(Ii);else for(;null!==Ii;)Ii=Ki(Ii)}catch(t){if(vo=go=mo=null,null===Ii)r=!0,Ia(t);else{null===Ii&&a("271");var o=Ii,i=o.return;if(null!==i){e:{var s=e,l=i,u=o,c=t;if(i=Li,u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c;c=l;var f=-1,h=-1;do{if(13===c.tag){var p=c.alternate;if(null!==p&&null!==(p=p.memoizedState)){h=10*(1073741822-p.timedOutAt);break}"number"==typeof(p=c.pendingProps.maxDuration)&&(0>=p?f=0:(-1===f||p<f)&&(f=p))}c=c.return}while(null!==c);c=l;do{if((p=13===c.tag)&&(p=void 0!==c.memoizedProps.fallback&&null===c.memoizedState),p){if(l=Qi.bind(null,s,c,u,0==(1&c.mode)?1073741823:i),d.then(l,l),0==(1&c.mode)){c.effectTag|=64,ni(u.alternate,u,null,i),u.effectTag&=-1025,u.effectTag&=-933,1===u.tag&&null===u.alternate&&(u.tag=17),u.expirationTime=i;break e}-1===f?s=1073741823:(-1===h&&(h=10*(1073741822-Qr(s,i))-5e3),s=h+f),0<=s&&Bi<s&&(Bi=s),c.effectTag|=2048,c.expirationTime=i;break e}c=c.return}while(null!==c);c=Error((st(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(u))}Fi=!0,c=ho(c,u),s=l;do{switch(s.tag){case 3:u=c,s.effectTag|=2048,s.expirationTime=i,ao(s,i=Si(s,u,i));break e;case 1:if(u=c,l=s.type,d=s.stateNode,0==(64&s.effectTag)&&("function"==typeof l.getDerivedStateFromError||null!==d&&"function"==typeof d.componentDidCatch&&(null===Hi||!Hi.has(d)))){s.effectTag|=2048,s.expirationTime=i,ao(s,i=Mi(s,u,i));break e}}s=s.return}while(null!==s)}Ii=Xi(o);continue}r=!0,Ia(t)}}break}if(Pi=!1,vo=go=mo=Oi.currentDispatcher=null,r)Di=null,e.finishedWork=null;else if(null!==Ii)e.finishedWork=null;else{if(null===(r=e.current.alternate)&&a("281"),Di=null,Fi){if(o=e.latestPendingTime,i=e.latestSuspendedTime,s=e.latestPingedTime,0!==o&&o<n||0!==i&&i<n||0!==s&&s<n)return Zr(e,n),void Ea(e,r,n,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,n=e.nextExpirationTimeToWorkOn=n,t=e.expirationTime=1073741823,void Ea(e,r,n,t,-1)}t&&-1!==Bi?(Zr(e,n),(t=10*(1073741822-Qr(e,n)))<Bi&&(Bi=t),t=10*(1073741822-Ta()),t=Bi-t,Ea(e,r,n,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=n,e.finishedWork=r)}}function $i(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hi||!Hi.has(r)))return io(n,e=Mi(n,e=ho(t,e),1073741823)),void ea(n,1073741823);break;case 3:return io(n,e=Si(n,e=ho(t,e),1073741823)),void ea(n,1073741823)}n=n.return}3===e.tag&&(io(e,n=Si(e,n=ho(t,e),1073741823)),ea(e,1073741823))}function Zi(e,t){return 0!==Ri?e=Ri:Pi?e=Ui?1073741823:Li:1&t.mode?(e=pa?1073741822-10*(1+((1073741822-e+15)/10|0)):1073741822-25*(1+((1073741822-e+500)/25|0)),null!==Di&&e===Li&&--e):e=1073741823,pa&&(0===ua||e<ua)&&(ua=e),e}function Qi(e,t,n,r){var o=e.earliestSuspendedTime,i=e.latestSuspendedTime;if(0!==o&&r<=o&&r>=i){i=o=r,e.didError=!1;var a=e.latestPingedTime;(0===a||a>i)&&(e.latestPingedTime=i),Jr(i,e)}else $r(e,o=Zi(o=Ta(),t));0!=(1&t.mode)&&e===Di&&Li===r&&(Di=null),Ji(t,o),0==(1&t.mode)&&(Ji(n,o),1===n.tag&&null!==n.stateNode&&((t=ro(o)).tag=2,io(n,t))),0!==(n=e.expirationTime)&&Aa(e,n)}function Ji(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null===o?null:o}function ea(e,t){null!==(e=Ji(e,t))&&(!Pi&&0!==Li&&t>Li&&Wi(),$r(e,t),Pi&&!Ui&&Di===e||Aa(e,e.expirationTime),_a>ba&&(_a=0,a("185")))}function ta(e,t,n,r,o){var i=Ri;Ri=1073741823;try{return e(t,n,r,o)}finally{Ri=i}}var na=null,ra=null,oa=0,ia=void 0,aa=!1,sa=null,la=0,ua=0,ca=!1,da=null,fa=!1,ha=!1,pa=!1,ma=null,ga=i.unstable_now(),va=1073741822-(ga/10|0),ya=va,ba=50,_a=0,xa=null;function wa(){va=1073741822-((i.unstable_now()-ga)/10|0)}function ka(e,t){if(0!==oa){if(t<oa)return;null!==ia&&i.unstable_cancelCallback(ia)}oa=t,e=i.unstable_now()-ga,ia=i.unstable_scheduleCallback(ja,{timeout:10*(1073741822-t)-e})}function Ea(e,t,n,r,o){e.expirationTime=r,0!==o||Ca()?0<o&&(e.timeoutHandle=yr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,wa(),ya=va,Na(e,n)}.bind(null,e,t,n),o)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Ta(){return aa?ya:(Sa(),0!==la&&1!==la||(wa(),ya=va),ya)}function Aa(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ra?(na=ra=e,e.nextScheduledRoot=e):(ra=ra.nextScheduledRoot=e).nextScheduledRoot=na):t>e.expirationTime&&(e.expirationTime=t),aa||(fa?ha&&(sa=e,la=1073741823,Ra(e,1073741823,!1)):1073741823===t?Oa(1073741823,!1):ka(e,t))}function Sa(){var e=0,t=null;if(null!==ra)for(var n=ra,r=na;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===ra)&&a("244"),r===r.nextScheduledRoot){na=ra=r.nextScheduledRoot=null;break}if(r===na)na=o=r.nextScheduledRoot,ra.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===ra){(ra=n).nextScheduledRoot=na,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(o>e&&(e=o,t=r),r===ra)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}sa=t,la=e}var Ma=!1;function Ca(){return!!Ma||!!i.unstable_shouldYield()&&(Ma=!0)}function ja(){try{if(!Ca()&&null!==na){wa();var e=na;do{var t=e.expirationTime;0!==t&&va<=t&&(e.nextExpirationTimeToWorkOn=va),e=e.nextScheduledRoot}while(e!==na)}Oa(0,!0)}finally{Ma=!1}}function Oa(e,t){if(Sa(),t)for(wa(),ya=va;null!==sa&&0!==la&&e<=la&&!(Ma&&va>la);)Ra(sa,la,va>la),Sa(),wa(),ya=va;else for(;null!==sa&&0!==la&&e<=la;)Ra(sa,la,!1),Sa();if(t&&(oa=0,ia=null),0!==la&&ka(sa,la),_a=0,xa=null,null!==ma)for(e=ma,ma=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ca||(ca=!0,da=e)}}if(ca)throw e=da,da=null,ca=!1,e}function Na(e,t){aa&&a("253"),sa=e,la=t,Ra(e,t,!1),Oa(1073741823,!1)}function Ra(e,t,n){if(aa&&a("245"),aa=!0,n){var r=e.finishedWork;null!==r?Pa(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),Yi(e,n),null!==(r=e.finishedWork)&&(Ca()?e.finishedWork=r:Pa(e,r,t)))}else null!==(r=e.finishedWork)?Pa(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),Yi(e,n),null!==(r=e.finishedWork)&&Pa(e,r,t));aa=!1}function Pa(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ma?ma=[r]:ma.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===xa?_a++:(xa=e,_a=0),Ui=Pi=!0,e.current===t&&a("177"),0===(n=e.pendingCommitExpirationTime)&&a("261"),e.pendingCommitExpirationTime=0,r=t.expirationTime;var o=t.childExpirationTime;if(r=o>r?o:r,e.didError=!1,0===r?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(0!==(o=e.latestPendingTime)&&(o>r?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>r&&(e.earliestPendingTime=e.latestPendingTime)),0===(o=e.earliestSuspendedTime)?$r(e,r):r<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,$r(e,r)):r>o&&$r(e,r)),Jr(0,e),Oi.current=null,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,pr=En,Ln(o=Dn())){if("selectionStart"in o)var i={start:o.selectionStart,end:o.selectionEnd};else e:{var s=(i=(i=o.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch(e){i=null;break e}var c=0,d=-1,f=-1,h=0,p=0,m=o,g=null;t:for(;;){for(var v;m!==i||0!==l&&3!==m.nodeType||(d=c+l),m!==u||0!==s&&3!==m.nodeType||(f=c+s),3===m.nodeType&&(c+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===o)break t;if(g===i&&++h===l&&(d=c),g===u&&++p===s&&(f=c),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}i=-1===d||-1===f?null:{start:d,end:f}}else i=null}i=i||{start:0,end:0}}else i=null;for(mr={focusedElem:o,selectionRange:i},En=!1,zi=r;null!==zi;){o=!1,i=void 0;try{for(;null!==zi;){if(256&zi.effectTag)e:{var y=zi.alternate;switch((l=zi).tag){case 0:case 11:case 15:break e;case 1:if(256&l.effectTag&&null!==y){var b=y.memoizedProps,_=y.memoizedState,x=l.stateNode,w=x.getSnapshotBeforeUpdate(l.elementType===l.type?b:Oo(l.type,b),_);x.__reactInternalSnapshotBeforeUpdate=w}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}zi=zi.nextEffect}}catch(e){o=!0,i=e}o&&(null===zi&&a("178"),$i(zi,i),null!==zi&&(zi=zi.nextEffect))}for(zi=r;null!==zi;){y=!1,b=void 0;try{for(;null!==zi;){var k=zi.effectTag;if(16&k&&or(zi.stateNode,""),128&k){var E=zi.alternate;if(null!==E){var T=E.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(14&k){case 2:Ei(zi),zi.effectTag&=-3;break;case 6:Ei(zi),zi.effectTag&=-3,Ai(zi.alternate,zi);break;case 4:Ai(zi.alternate,zi);break;case 8:Ti(_=zi),_.return=null,_.child=null,_.alternate&&(_.alternate.child=null,_.alternate.return=null)}zi=zi.nextEffect}}catch(e){y=!0,b=e}y&&(null===zi&&a("178"),$i(zi,b),null!==zi&&(zi=zi.nextEffect))}if(T=mr,E=Dn(),k=T.focusedElem,b=T.selectionRange,E!==k&&k&&k.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(k.ownerDocument.documentElement,k)){null!==b&&Ln(k)&&(E=b.start,void 0===(T=b.end)&&(T=E),"selectionStart"in k?(k.selectionStart=E,k.selectionEnd=Math.min(T,k.value.length)):(T=(E=k.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),_=k.textContent.length,y=Math.min(b.start,_),b=void 0===b.end?y:Math.min(b.end,_),!T.extend&&y>b&&(_=b,b=y,y=_),_=In(k,y),x=In(k,b),_&&x&&(1!==T.rangeCount||T.anchorNode!==_.node||T.anchorOffset!==_.offset||T.focusNode!==x.node||T.focusOffset!==x.offset)&&((E=E.createRange()).setStart(_.node,_.offset),T.removeAllRanges(),y>b?(T.addRange(E),T.extend(x.node,x.offset)):(E.setEnd(x.node,x.offset),T.addRange(E))))),E=[];for(T=k;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof k.focus&&k.focus(),k=0;k<E.length;k++)(T=E[k]).element.scrollLeft=T.left,T.element.scrollTop=T.top}for(mr=null,En=!!pr,pr=null,e.current=t,zi=r;null!==zi;){r=!1,k=void 0;try{for(E=n;null!==zi;){var A=zi.effectTag;if(36&A){var S=zi.alternate;switch(y=E,(T=zi).tag){case 0:case 11:case 15:break;case 1:var M=T.stateNode;if(4&T.effectTag)if(null===S)M.componentDidMount();else{var C=T.elementType===T.type?S.memoizedProps:Oo(T.type,S.memoizedProps);M.componentDidUpdate(C,S.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var j=T.updateQueue;null!==j&&co(0,j,M);break;case 3:var O=T.updateQueue;if(null!==O){if(b=null,null!==T.child)switch(T.child.tag){case 5:b=T.child.stateNode;break;case 1:b=T.child.stateNode}co(0,O,b)}break;case 5:var N=T.stateNode;null===S&&4&T.effectTag&&gr(T.type,T.memoizedProps)&&N.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}if(128&A){var R=zi.ref;if(null!==R){var P=zi.stateNode;switch(zi.tag){case 5:var I=P;break;default:I=P}"function"==typeof R?R(I):R.current=I}}zi=zi.nextEffect}}catch(e){r=!0,k=e}r&&(null===zi&&a("178"),$i(zi,k),null!==zi&&(zi=zi.nextEffect))}Pi=Ui=!1,"function"==typeof Br&&Br(t.stateNode),A=t.expirationTime,0===(t=(t=t.childExpirationTime)>A?t:A)&&(Hi=null),e.expirationTime=t,e.finishedWork=null}function Ia(e){null===sa&&a("246"),sa.expirationTime=0,ca||(ca=!0,da=e)}function Da(e,t){var n=fa;fa=!0;try{return e(t)}finally{(fa=n)||aa||Oa(1073741823,!1)}}function La(e,t){if(fa&&!ha){ha=!0;try{return e(t)}finally{ha=!1}}return e(t)}function Ba(e,t,n){if(pa)return e(t,n);fa||aa||0===ua||(Oa(ua,!1),ua=0);var r=pa,o=fa;fa=pa=!0;try{return e(t,n)}finally{pa=r,(fa=o)||aa||Oa(1073741823,!1)}}function Fa(e,t,n,r,o){var i=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Or(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var l=n.type;if(Or(l)){n=Ir(n,l,s);break e}}n=s}else n=Ar;return null===t.context?t.context=n:t.pendingContext=n,t=o,(o=ro(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Gi(),io(i,o),ea(i,r),r}function za(e,t,n,r){var o=t.current;return Fa(e,t,n,o=Zi(Ta(),o),r)}function Ua(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function qa(e){var t=1073741822-25*(1+((1073741822-Ta()+500)/25|0));t>=Ni&&(t=Ni-1),this._expirationTime=Ni=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Va(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ha(e,t,n){e={current:t=qr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Wa(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ga(e,t,n,r,o){Wa(n)||a("200");var i=n._reactRootContainer;if(i){if("function"==typeof o){var s=o;o=function(){var e=Ua(i._internalRoot);s.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ha(e,!1,t)}(n,r),"function"==typeof o){var l=o;o=function(){var e=Ua(i._internalRoot);l.call(e)}}La(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)})}return Ua(i._internalRoot)}function Xa(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Wa(t)||a("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ke,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ae=function(e,t,n){switch(t){case"input":if(wt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=B(r);o||a("90"),Ve(r),wt(r,o)}}}break;case"textarea":$n(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},qa.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Va;return Fa(e,t,null,n,r._onCommit),r},qa.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},qa.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)r=o,o=o._next;null===r&&a("251"),r._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,Na(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},qa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Va.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Va.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},Ha.prototype.render=function(e,t){var n=this._internalRoot,r=new Va;return null!==(t=void 0===t?null:t)&&r.then(t),za(e,n,null,r._onCommit),r},Ha.prototype.unmount=function(e){var t=this._internalRoot,n=new Va;return null!==(e=void 0===e?null:e)&&n.then(e),za(null,t,null,n._onCommit),n},Ha.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new Va;return null!==(n=void 0===n?null:n)&&o.then(n),za(t,r,e,o._onCommit),o},Ha.prototype.createBatch=function(){var e=new qa(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ne=Da,Re=Ba,Pe=function(){aa||0===ua||(Oa(ua,!1),ua=0)};var Ka={createPortal:Xa,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Ga(null,e,t,!0,n)},render:function(e,t,n){return Ga(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&a("38"),Ga(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Wa(e)||a("40"),!!e._reactRootContainer&&(La(function(){Ga(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Xa.apply(void 0,arguments)},unstable_batchedUpdates:Da,unstable_interactiveUpdates:Ba,flushSync:function(e,t){aa&&a("187");var n=fa;fa=!0;try{return ta(e,t)}finally{fa=n,Oa(1073741823,!1)}},unstable_flushControlled:function(e){var t=fa;fa=!0;try{ta(e)}finally{(fa=t)||aa||Oa(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[D,L,B,C.injectEventPluginsByName,y,H,function(e){A(e,V)},je,Oe,Mn,O]},unstable_createRoot:function(e,t){return Wa(e)||a("299","unstable_createRoot"),new Ha(e,!0,null!=t&&!0===t.hydrate)}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Br=zr(function(e){return t.onCommitFiberRoot(n,e)}),Fr=zr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(o({},e,{findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:I,bundleType:0,version:"16.6.1",rendererPackageName:"react-dom"});var Ya={default:Ka},$a=Ya&&Ka||Ya;e.exports=$a.default||$a},"./node_modules/anatomogram/node_modules/react-dom/index.js":function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n("./node_modules/anatomogram/node_modules/react-dom/cjs/react-dom.production.min.js")},"./node_modules/anatomogram/node_modules/react-dom/server.browser.js":function(e,t,n){"use strict";e.exports=n("./node_modules/anatomogram/node_modules/react-dom/cjs/react-dom-server.browser.production.min.js")},"./node_modules/anatomogram/node_modules/react-is/cjs/react-is.production.min.js":function(e,t,n){"use strict";
/** @license React v16.6.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case l:case s:return e;default:switch(e=e&&e.$$typeof){case c:case h:case u:return e;default:return t}}case i:return t}}}function y(e){return v(e)===f}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=h,t.Fragment=a,t.Profiler=l,t.Portal=i,t.StrictMode=s,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h)},t.isAsyncMode=function(e){return y(e)||v(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===h},t.isFragment=function(e){return v(e)===a},t.isProfiler=function(e){return v(e)===l},t.isPortal=function(e){return v(e)===i},t.isStrictMode=function(e){return v(e)===s}},"./node_modules/anatomogram/node_modules/react-is/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/anatomogram/node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/anatomogram/node_modules/react-svg/esm/index.js":function(e,t,n){"use strict";n.r(t);var r=function(e){return e.cloneNode(!0)},o={},i=[],a=function(e,t){i[e]=i[e]||[],i[e].push(t)},s=function(e,t){var n="file:"===window.location.protocol;if(void 0!==o[e])o[e]instanceof SVGSVGElement?t(r(o[e])):a(e,t);else{if(!window.XMLHttpRequest)return t("Browser does not support XMLHttpRequest"),!1;o[e]={},a(e,t);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState){if(404===s.status||null===s.responseXML)return t("Unable to load SVG file: "+e),n&&t("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),t(),!1;if(!(200===s.status||n&&0===s.status))return t("There was a problem injecting the SVG: "+s.status+" "+s.statusText),!1;if(s.responseXML instanceof Document)o[e]=s.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var a;try{a=(new DOMParser).parseFromString(s.responseText,"text/xml")}catch(e){a=void 0}if(!a||a.getElementsByTagName("parsererror").length)return t("Unable to parse SVG file: "+e),!1;o[e]=a.documentElement}!function(e){for(var t=0,n=i[e].length;t<n;t++)!function(t){setTimeout(function(){i[e][t](r(o[e]))},0)}(t)}(e)}},s.open("GET",e),s.overrideMimeType&&s.overrideMimeType("text/xml"),s.send()}},l=function(e){for(var t={},n=(e=e.split(" ")).length,r=[];n--;)t.hasOwnProperty(e[n])||(t[e[n]]=1,r.unshift(e[n]));return r.join(" ")},u="http://www.w3.org/1999/xlink",c=[],d={},f=0,h=function(e,t,n,r,o){var i=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),a=e.getAttribute("data-src")||e.getAttribute("src");if(/\.svg/i.test(a))if(i)-1===c.indexOf(e)&&(c.push(e),e.setAttribute("src",""),s(a,function(n){if(void 0===n||"string"==typeof n)return o(n),!1;var i=e.getAttribute("id");i&&n.setAttribute("id",i);var s=e.getAttribute("title");s&&n.setAttribute("title",s);var h=[].concat(n.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");n.setAttribute("class",l(h));var p=e.getAttribute("style");p&&n.setAttribute("style",p);var m=[].filter.call(e.attributes,function(e){return/^data-\w[\w-]*$/.test(e.name)});if(Array.prototype.forEach.call(m,function(e){e.name&&e.value&&n.setAttribute(e.name,e.value)}),r){var g,v,y,b,_,x={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(x).forEach(function(e){g=e,y=x[e];for(var t=0,r=(v=n.querySelectorAll("defs "+g+"[id]")).length;t<r;t++){var o;b=v[t].id,_=b+"-"+f,Array.prototype.forEach.call(y,function(e){for(var t=0,r=(o=n.querySelectorAll("["+e+'*="'+b+'"]')).length;t<r;t++)o[t].setAttribute(e,"url(#"+_+")")});for(var i=n.querySelectorAll("[*|href]"),a=[],s=0,l=i.length;s<l;s++)i[s].getAttributeNS(u,"href").toString()==="#"+v[t].id&&a.push(i[s]);for(var c=0,d=a.length;c<d;c++)a[c].setAttributeNS(u,"href","#"+_);v[t].id=_}})}n.removeAttribute("xmlns:a");for(var w,k,E=n.querySelectorAll("script"),T=[],A=0,S=E.length;A<S;A++)(k=E[A].getAttribute("type"))&&"application/ecmascript"!==k&&"application/javascript"!==k||(w=E[A].innerText||E[A].textContent,T.push(w),n.removeChild(E[A]));if(T.length>0&&("always"===t||"once"===t&&!d[a])){for(var M=0,C=T.length;M<C;M++)new Function(T[M])(window);d[a]=!0}var j=n.querySelectorAll("style");Array.prototype.forEach.call(j,function(e){e.textContent+=""}),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:xlink",u),e.parentNode.replaceChild(n,e),delete c[c.indexOf(e)],e=null,f++,o(n)}));else{var h=e.getAttribute("data-fallback")||e.getAttribute("data-png");h?(e.setAttribute("src",h),o(null)):n?(e.setAttribute("src",n+"/"+a.split("/").pop().replace(".svg",".png")),o(null)):o("This browser does not support SVG and no PNG fallback was defined.")}else o("Attempted to inject a file with a non-svg extension: "+a)},p=function(e,t,n){var r=void 0===t?{}:t,o=r.evalScripts,i=void 0===o?"always":o,a=r.pngFallback,s=void 0!==a&&a,l=r.each,u=r.renumerateIRIElements,c=void 0===u||u;if(void 0!==e.length){var d=0;Array.prototype.forEach.call(e,function(t){h(t,i,s,c,function(t){l&&"function"==typeof l&&l(t),n&&e.length===++d&&n(d)})})}else e?h(e,i,s,c,function(t){l&&"function"==typeof l&&l(t),n&&n(1),e=null}):n&&n(0)},m=n("./node_modules/prop-types/index.js"),g=n.n(m),v=n("./node_modules/anatomogram/node_modules/react/index.js"),y=n.n(v),b=n("./node_modules/anatomogram/node_modules/react-dom/server.browser.js"),_=n.n(b);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"default",function(){return w});var w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).refCallback=function(e){t.container=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderSVG=function(){if(this.container instanceof Node){var e=this.props,t=e.evalScripts,n=e.onInjected,r=e.path,o=e.renumerateIRIElements,i=e.svgClassName,a=e.svgStyle,s=document.createElement("div");s.innerHTML=_.a.renderToStaticMarkup(y.a.createElement("div",null,y.a.createElement("div",{className:i,"data-src":r,style:a})));var l=this.container.appendChild(s.firstChild);p(l.firstChild,{each:n,evalScripts:t,renumerateIRIElements:o})}},o.removeSVG=function(){this.container instanceof Node&&this.container.firstChild instanceof Node&&this.container.removeChild(this.container.firstChild)},o.componentDidMount=function(){this.renderSVG()},o.componentDidUpdate=function(){this.removeSVG(),this.renderSVG()},o.componentWillUnmount=function(){this.removeSVG()},o.render=function(){var e=this.props,t=(e.evalScripts,e.onInjected,e.path,e.renumerateIRIElements,e.svgClassName,e.svgStyle,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["evalScripts","onInjected","path","renumerateIRIElements","svgClassName","svgStyle"]));return y.a.createElement("div",x({},t,{ref:this.refCallback}))},r}(y.a.Component);w.defaultProps={evalScripts:"never",onInjected:function(){},renumerateIRIElements:!0,svgClassName:null,svgStyle:{}},w.propTypes={evalScripts:g.a.oneOf(["always","once","never"]),onInjected:g.a.func,path:g.a.string.isRequired,renumerateIRIElements:g.a.bool,svgClassName:g.a.string,svgStyle:g.a.object}},"./node_modules/anatomogram/node_modules/react/cjs/react.production.min.js":function(e,t,n){"use strict";
/** @license React v16.6.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("./node_modules/object-assign/index.js"),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function x(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}function w(){}function k(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var E=k.prototype=new w;E.constructor=k,r(E,x.prototype),E.isPureReactComponent=!0;var T={current:null,currentDispatcher:null},A=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r=void 0,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:T.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var j=/\/+/g,O=[];function N(e,t,n,r){if(O.length){var o=O.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function P(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return r(o,t,""===n?"."+I(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+I(s=t[u],u);l+=e(s,c,r,o)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+I(s,u++),r,o);else"object"===s&&y("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,function(e){return e}):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(j,"$&/")+"/"),P(e,L,t=N(t,i,r,o)),R(t)}var F={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;P(e,D,t=N(null,null,t,n)),R(t)},count:function(e){return P(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){return C(e)||y("143"),e}},createRef:function(){return{current:null}},Component:x,PureComponent:k,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},Fragment:s,StrictMode:l,Suspense:p,createElement:M,cloneElement:function(e,t,n){null==e&&y("267",e);var o=void 0,a=r({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=T.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(o in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)A.call(t,o)&&!S.hasOwnProperty(o)&&(a[o]=void 0===t[o]&&void 0!==c?c[o]:t[o])}if(1===(o=arguments.length-2))a.children=n;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:i,type:e.type,key:s,ref:l,props:a,_owner:u}},createFactory:function(e){var t=M.bind(null,e);return t.type=e,t},isValidElement:C,version:"16.6.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:T,assign:r}};F.unstable_ConcurrentMode=f,F.unstable_Profiler=u;var z={default:F},U=z&&F||z;e.exports=U.default||U},"./node_modules/anatomogram/node_modules/react/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/anatomogram/node_modules/react/cjs/react.production.min.js")},"./node_modules/anatomogram/node_modules/recompose/dist/Recompose.esm.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/anatomogram/node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/babel-runtime/helpers/extends.js"),a=n.n(i),s=n("./node_modules/fbjs/lib/shallowEqual.js"),l=n.n(s),u=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),c=n.n(u),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),f=n.n(d),h=n("./node_modules/babel-runtime/helpers/inherits.js"),p=n.n(h);function m(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function g(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function v(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function y(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=m,t.componentWillReceiveProps=g),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=v;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}m.__suppressDeprecationWarning=!0,g.__suppressDeprecationWarning=!0,v.__suppressDeprecationWarning=!0;var b=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),_=n.n(b),x=n("./node_modules/babel-runtime/core-js/object/keys.js"),w=n.n(x),k=n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),E=n.n(k),T=n("./node_modules/change-emitter/lib/index.js"),A=n("./node_modules/symbol-observable/es/index.js");n.d(t,"mapProps",function(){return O}),n.d(t,"withProps",function(){return N}),n.d(t,"withPropsOnChange",function(){return P}),n.d(t,"withHandlers",function(){return D}),n.d(t,"defaultProps",function(){return L}),n.d(t,"renameProp",function(){return F}),n.d(t,"renameProps",function(){return U}),n.d(t,"flattenProp",function(){return q}),n.d(t,"withState",function(){return V}),n.d(t,"withStateHandlers",function(){return H}),n.d(t,"withReducer",function(){return G}),n.d(t,"branch",function(){return K}),n.d(t,"renderComponent",function(){return Y}),n.d(t,"renderNothing",function(){return Z}),n.d(t,"shouldUpdate",function(){return Q}),n.d(t,"pure",function(){return J}),n.d(t,"onlyUpdateForKeys",function(){return ee}),n.d(t,"onlyUpdateForPropTypes",function(){return te}),n.d(t,"withContext",function(){return ne}),n.d(t,"getContext",function(){return re}),n.d(t,"lifecycle",function(){return oe}),n.d(t,"toClass",function(){return ae}),n.d(t,"withRenderProps",function(){return se}),n.d(t,"setStatic",function(){return S}),n.d(t,"setPropTypes",function(){return le}),n.d(t,"setDisplayName",function(){return M}),n.d(t,"compose",function(){return ue}),n.d(t,"getDisplayName",function(){return C}),n.d(t,"wrapDisplayName",function(){return j}),n.d(t,"isClassComponent",function(){return ie}),n.d(t,"createSink",function(){return ce}),n.d(t,"componentFromProp",function(){return de}),n.d(t,"nest",function(){return fe}),n.d(t,"hoistStatics",function(){return he}),n.d(t,"componentFromStream",function(){return ye}),n.d(t,"componentFromStreamWithConfig",function(){return ve}),n.d(t,"mapPropsStream",function(){return xe}),n.d(t,"mapPropsStreamWithConfig",function(){return _e}),n.d(t,"createEventHandler",function(){return ke}),n.d(t,"createEventHandlerWithConfig",function(){return we}),n.d(t,"setObservableConfig",function(){return me}),n.d(t,"shallowEqual",function(){return l.a});var S=function(e,t){return function(n){return n[e]=t,n}},M=function(e){return S("displayName",e)},C=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0},j=function(e,t){return t+"("+C(e)+")"},O=function(e){return function(t){var n=Object(r.createFactory)(t);return function(t){return n(e(t))}}},N=function(e){return O(function(t){return a()({},t,"function"==typeof e?e(t):e)})},R=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r];e.hasOwnProperty(o)&&(n[o]=e[o])}return n},P=function(e,t){return function(n){var o=Object(r.createFactory)(n),i="function"==typeof e?e:function(t,n){return!l()(R(t,e),R(n,e))},s=function(e){function n(){var r,o,i;c()(this,n);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return r=o=f()(this,e.call.apply(e,[this].concat(s))),o.state={computedProps:t(o.props),prevProps:o.props},i=r,f()(o,i)}return p()(n,e),n.getDerivedStateFromProps=function(e,n){return i(n.prevProps,e)?{computedProps:t(e),prevProps:e}:null},n.prototype.render=function(){return o(a()({},this.props,this.state.computedProps))},n}(r.Component);return y(s),s}},I=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n},D=function(e){return function(t){var n=Object(r.createFactory)(t),o=function(e){function t(){var n,r,o;c()(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=f()(this,e.call.apply(e,[this].concat(s))),i.call(r),o=n,f()(r,o)}return p()(t,e),t.prototype.render=function(){return n(a()({},this.props,this.handlers))},t}(r.Component),i=function(){var t=this;this.handlers=I("function"==typeof e?e(this.props):e,function(e){return function(){return e(t.props).apply(void 0,arguments)}})};return o}},L=function(e){return function(t){var n=Object(r.createFactory)(t),o=function(e){return n(e)};return o.defaultProps=e,o}},B=function(e,t){for(var n=_()(e,[]),r=0;r<t.length;r++){var o=t[r];n.hasOwnProperty(o)&&delete n[o]}return n},F=function(e,t){return O(function(n){var r;return a()({},B(n,[e]),((r={})[t]=n[e],r))})},z=w.a,U=function(e){return O(function(t){return a()({},B(t,z(e)),(n=R(t,z(e)),r=function(t,n){return e[n]},z(n).reduce(function(e,t){var o=n[t];return e[r(o,t)]=o,e},{})));var n,r})},q=function(e){return function(t){var n=Object(r.createFactory)(t);return function(t){return n(a()({},t,t[e]))}}},V=function(e,t,n){return function(o){var i=Object(r.createFactory)(o);return function(r){function o(){var e,t,i;c()(this,o);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return e=t=f()(this,r.call.apply(r,[this].concat(s))),t.state={stateValue:"function"==typeof n?n(t.props):n},t.updateStateValue=function(e,n){return t.setState(function(t){var n=t.stateValue;return{stateValue:"function"==typeof e?e(n):e}},n)},i=e,f()(t,i)}return p()(o,r),o.prototype.render=function(){var n;return i(a()({},this.props,((n={})[e]=this.state.stateValue,n[t]=this.updateStateValue,n)))},o}(r.Component)}},H=function(e,t){return function(n){var o=Object(r.createFactory)(n),i=function(e){function t(){var n,r,o;c()(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=r=f()(this,e.call.apply(e,[this].concat(a))),s.call(r),o=n,f()(r,o)}return p()(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=e!==this.props,r=!l()(t,this.state);return n||r},t.prototype.render=function(){return o(a()({},this.props,this.state,this.stateUpdaters))},t}(r.Component),s=function(){var n=this;this.state="function"==typeof e?e(this.props):e,this.stateUpdaters=I(t,function(e){return function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&"function"==typeof t.persist&&t.persist(),n.setState(function(n,r){return e(n,r).apply(void 0,[t].concat(o))})}})};return i}},W=function(){},G=function(e,t,n,o){return function(i){var s=Object(r.createFactory)(i);return function(r){function i(){var e,t,o;c()(this,i);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return e=t=f()(this,r.call.apply(r,[this].concat(s))),t.state={stateValue:t.initializeStateValue()},t.dispatch=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W;return t.setState(function(t){var r=t.stateValue;return{stateValue:n(r,e)}},function(){return r(t.state.stateValue)})},o=e,f()(t,o)}return p()(i,r),i.prototype.initializeStateValue=function(){return void 0!==o?"function"==typeof o?o(this.props):o:n(void 0,{type:"@@recompose/INIT"})},i.prototype.render=function(){var n;return s(a()({},this.props,((n={})[e]=this.state.stateValue,n[t]=this.dispatch,n)))},i}(r.Component)}},X=function(e){return e},K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;return function(o){var i=void 0,a=void 0;return function(s){return e(s)?(i=i||Object(r.createFactory)(t(o)))(s):(a=a||Object(r.createFactory)(n(o)))(s)}}},Y=function(e){return function(t){var n=Object(r.createFactory)(e);return function(e){return n(e)}}},$=function(e){function t(){return c()(this,t),f()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){return null},t}(r.Component),Z=function(e){return $},Q=function(e){return function(t){var n=Object(r.createFactory)(t);return function(t){function r(){return c()(this,r),f()(this,t.apply(this,arguments))}return p()(r,t),r.prototype.shouldComponentUpdate=function(t){return e(this.props,t)},r.prototype.render=function(){return n(this.props)},r}(r.Component)}},J=function(e){return Q(function(e,t){return!l()(e,t)})(e)},ee=function(e){return Q(function(t,n){return!l()(R(n,e),R(t,e))})},te=function(e){var t=e.propTypes;var n=w()(t||{});return ee(n)(e)},ne=function(e,t){return function(n){var o=Object(r.createFactory)(n),i=function(e){function n(){var r,o,i;c()(this,n);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return r=o=f()(this,e.call.apply(e,[this].concat(s))),o.getChildContext=function(){return t(o.props)},i=r,f()(o,i)}return p()(n,e),n.prototype.render=function(){return o(this.props)},n}(r.Component);return i.childContextTypes=e,i}},re=function(e){return function(t){var n=Object(r.createFactory)(t),o=function(e,t){return n(a()({},e,t))};return o.contextTypes=e,o}},oe=function(e){return function(t){var n=Object(r.createFactory)(t);var o=function(e){function t(){return c()(this,t),f()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){return n(a()({},this.props,this.state))},t}(r.Component);return w()(e).forEach(function(t){return o.prototype[t]=e[t]}),o}},ie=function(e){return Boolean(e&&e.prototype&&"function"==typeof e.prototype.render)},ae=function(e){var t,n;return ie(e)?e:(n=t=function(t){function n(){return c()(this,n),f()(this,t.apply(this,arguments))}return p()(n,t),n.prototype.render=function(){return"string"==typeof e?o.a.createElement(e,this.props):e(this.props,this.context)},n}(r.Component),t.displayName=C(e),t.propTypes=e.propTypes,t.contextTypes=e.contextTypes,t.defaultProps=e.defaultProps,n)};function se(e){return e(function(e){return e.children(e)})}var le=function(e){return S("propTypes",e)},ue=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}},function(e){return e})},ce=function(e){var t=function(t){function n(){var e,r,o;c()(this,n);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=r=f()(this,t.call.apply(t,[this].concat(a))),r.state={},o=e,f()(r,o)}return p()(n,t),n.getDerivedStateFromProps=function(t){return e(t),null},n.prototype.render=function(){return null},n}(r.Component);return y(t),t},de=function(e){var t=function(t){return Object(r.createElement)(t[e],B(t,[e]))};return t.displayName="componentFromProp("+e+")",t},fe=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.map(r.createFactory);return function(e){var t=e.children,n=_()(e,["children"]);return o.reduceRight(function(e,t){return t(n,e)},t)}},he=function(e,t){return function(n){var r=e(n);return E()(r,n,t),r}},pe={fromESObservable:null,toESObservable:null},me=function(e){pe=e},ge={fromESObservable:function(e){return"function"==typeof pe.fromESObservable?pe.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof pe.toESObservable?pe.toESObservable(e):e}},ve=function(e){return function(t){return function(n){function r(){var o,i,a,s;c()(this,r);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return i=a=f()(this,n.call.apply(n,[this].concat(u))),a.state={vdom:null},a.propsEmitter=Object(T.createChangeEmitter)(),a.props$=e.fromESObservable(((o={subscribe:function(e){return{unsubscribe:a.propsEmitter.listen(function(t){t?e.next(t):e.complete()})}}})[A.a]=function(){return this},o)),a.vdom$=e.toESObservable(t(a.props$)),s=i,f()(a,s)}return p()(r,n),r.prototype.componentWillMount=function(){var e=this;this.subscription=this.vdom$.subscribe({next:function(t){e.setState({vdom:t})}}),this.propsEmitter.emit(this.props)},r.prototype.componentWillReceiveProps=function(e){this.propsEmitter.emit(e)},r.prototype.shouldComponentUpdate=function(e,t){return t.vdom!==this.state.vdom},r.prototype.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},r.prototype.render=function(){return this.state.vdom},r}(r.Component)}},ye=function(e){return ve(ge)(e)},be=function(e){return e},_e=function(e){var t=ve({fromESObservable:be,toESObservable:be});return function(n){return function(o){var i=Object(r.createFactory)(o),a=e.fromESObservable,s=e.toESObservable;return t(function(e){var t;return(t={subscribe:function(t){var r=s(n(a(e))).subscribe({next:function(e){return t.next(i(e))}});return{unsubscribe:function(){return r.unsubscribe()}}}})[A.a]=function(){return this},t})}}},xe=function(e){return _e(ge)(e)},we=function(e){return function(){var t,n=Object(T.createChangeEmitter)(),r=e.fromESObservable(((t={subscribe:function(e){return{unsubscribe:n.listen(function(t){return e.next(t)})}}})[A.a]=function(){return this},t));return{handler:n.emit,stream:r}}},ke=we(ge)},"./node_modules/anatomogram/node_modules/scheduler/cjs/scheduler.production.min.js":function(e,t,n){"use strict";(function(e){
/** @license React v0.11.3
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,o=3,i=-1,a=-1,s=!1,l=!1;function u(){if(!s){var e=n.expirationTime;l?k():l=!0,w(f,e)}}function c(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=o,s=a;o=e,a=t;try{var l=r()}finally{o=i,a=s}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=l,u()),(t=r.previous).next=r.previous=l,l.next=r,l.previous=t}}function d(){if(-1===i&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?u():l=!1}}}function f(e){s=!0;var o=r;r=e;try{if(e)for(;null!==n;){var i=t.unstable_now();if(!(n.expirationTime<=i))break;do{c()}while(null!==n&&n.expirationTime<=i)}else if(null!==n)do{c()}while(null!==n&&!E())}finally{s=!1,r=o,null!==n?u():l=!1,d()}}var h,p,m=Date,g="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,y="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(e){h=y(function(t){v(p),e(t)}),p=g(function(){b(h),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var x=performance;t.unstable_now=function(){return x.now()}}else t.unstable_now=function(){return m.now()};var w,k,E,T=null;if("undefined"!=typeof window?T=window:void 0!==e&&(T=e),T&&T._schedMock){var A=T._schedMock;w=A[0],k=A[1],E=A[2],t.unstable_now=A[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var S=null,M=function(e){if(null!==S)try{S(e)}finally{S=null}};w=function(e){null!==S?setTimeout(w,0,e):(S=e,setTimeout(M,0,!1))},k=function(){S=null},E=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var C=null,j=!1,O=-1,N=!1,R=!1,P=0,I=33,D=33;E=function(){return P<=t.unstable_now()};var L=new MessageChannel,B=L.port2;L.port1.onmessage=function(){j=!1;var e=C,n=O;C=null,O=-1;var r=t.unstable_now(),o=!1;if(0>=P-r){if(!(-1!==n&&n<=r))return N||(N=!0,_(F)),C=e,void(O=n);o=!0}if(null!==e){R=!0;try{e(o)}finally{R=!1}}};var F=function(e){if(null!==C){_(F);var t=e-P+D;t<D&&I<D?(8>t&&(t=8),D=t<I?I:t):I=t,P=e+D,j||(j=!0,B.postMessage(void 0))}else N=!1};w=function(e,t){C=e,O=t,R||0>t?B.postMessage(void 0):N||(N=!0,_(F))},k=function(){C=null,j=!1,O=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=o,a=i;o=e,i=t.unstable_now();try{return n()}finally{o=r,i=a,d()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==i?i:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=a+r.timeout;else switch(o){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:o,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,u();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,u()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=o;return function(){var r=o,a=i;o=n,i=t.unstable_now();try{return e.apply(this,arguments)}finally{o=r,i=a,d()}}},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||E())}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/anatomogram/node_modules/scheduler/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/anatomogram/node_modules/scheduler/cjs/scheduler.production.min.js")},"./node_modules/anatomogram/node_modules/styled-components/dist/styled-components.browser.esm.js":function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"css",function(){return U}),n.d(t,"keyframes",function(){return We}),n.d(t,"injectGlobal",function(){return Ge}),n.d(t,"isStyledComponent",function(){return P}),n.d(t,"consolidateStreamedStyles",function(){return I}),n.d(t,"ThemeProvider",function(){return je}),n.d(t,"withTheme",function(){return ze}),n.d(t,"ServerStyleSheet",function(){return pe}),n.d(t,"StyleSheetManager",function(){return he}),n.d(t,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",function(){return Ue});var o=n("./node_modules/fbjs/lib/hyphenateStyleName.js"),i=n.n(o),a=n("./node_modules/anatomogram/node_modules/react/index.js"),s=n.n(a),l=n("./node_modules/stylis/stylis.js"),u=n.n(l),c=n("./node_modules/stylis-rule-sheet/index.js"),d=n.n(c),f=n("./node_modules/prop-types/index.js"),h=n.n(f),p=n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),m=n.n(p),g=n("./node_modules/anatomogram/node_modules/react-is/index.js"),v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},w=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},E=function(e){return"object"===(void 0===e?"undefined":v(e))&&e.constructor===Object};var T=function(e){function t(n){y(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=k(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+n+" for more information. "+(o?"Additional arguments: "+o.join(", "):"")));return k(a)}return x(t,e),t}(Error),A=function e(t,n){return t.reduce(function(t,r){if(null==r||!1===r||""===r)return t;if(Array.isArray(r))return t.push.apply(t,e(r,n)),t;if(r.hasOwnProperty("styledComponentId"))return t.push("."+r.styledComponentId),t;if("function"==typeof r){if(n){var o=r(n);if(s.a.isValidElement(o)){var a=r.displayName||r.name;throw new T(11,a)}t.push.apply(t,e([o],n))}else t.push(r);return t}return t.push(E(r)?function e(t,n){var r=Object.keys(t).filter(function(e){var n=t[e];return null!=n&&!1!==n&&""!==n}).map(function(n){return E(t[n])?e(t[n],n):i()(n)+": "+t[n]+";"}).join(" ");return n?n+" {\n  "+r+"\n}":r}(r):r.toString()),t},[])},S=/^\s*\/\/.*$/gm,M=new u.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),C=new u.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),j=[],O=function(e){if(-2===e){var t=j;return j=[],t}},N=d()(function(e){j.push(e)});C.use([N,O]),M.use([N,O]);var R=function(e,t,n){var r=e.join("").replace(S,"");return C(n||!t?"":t,t&&n?n+" "+t+" { "+r+" }":r)};function P(e){return"function"==typeof e&&"string"==typeof e.styledComponentId}function I(){0}var D=function(e){return String.fromCharCode(e+(e>25?39:97))},L=function(e){var t="",n=void 0;for(n=e;n>52;n=Math.floor(n/52))t=D(n%52)+t;return D(n%52)+t},B=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},F=Object.freeze([]),z=Object.freeze({}),U=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e||E(e)?A(B(F,[e].concat(n))):A(B(e,n))},q=void 0!==e&&e.env.SC_ATTR||"data-styled-components",V="__styled-components-stylesheet__",H="undefined"!=typeof window&&"HTMLElement"in window,W=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,G=function(e){var t=""+(e||""),n=[];return t.replace(W,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var o=e.componentId,i=e.matchIndex,a=n[r+1];return{componentId:o,cssFromDOM:a?t.slice(i,a.matchIndex):t.slice(i)}})},X=function(){return n.nc},K=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},Y=function(e,t){e[t]=Object.create(null)},$=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},Z=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},Q=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new T(10)},J=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},ee=function(e){return"\n/* sc-component-id: "+e+" */\n"},te=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},ne=function(e,t){return function(n){var r=X();return"<style "+[r&&'nonce="'+r+'"',q+'="'+Z(t)+'"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},re=function(e,t){return function(){var n,r=((n={})[q]=Z(t),n),o=X();return o&&(r.nonce=o),s.a.createElement("style",_({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},oe=function(e){return function(){return Object.keys(e)}},ie=function e(t,n){var r=void 0===t?Object.create(null):t,o=void 0===n?Object.create(null):n,i=function(e){var t=o[e];return void 0!==t?t:o[e]=[""]},a=function(){var e="";for(var t in o){var n=o[t][0];n&&(e+=ee(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=_({},e[n]);return t}(r),n=Object.create(null);for(var i in o)n[i]=[o[i][0]];return e(t,n)},css:a,getIds:oe(o),hasNameForId:$(r),insertMarker:i,insertRules:function(e,t,n){i(e)[0]+=t.join(" "),K(r,e,n)},removeRules:function(e){var t=o[e];void 0!==t&&(t[0]="",Y(r,e))},sealed:!1,styleTag:null,toElement:re(a,r),toHTML:ne(a,r)}},ae=function(e,t,n,r,o){if(H&&!n){var i=function(e,t,n){var r=document.createElement("style");r.setAttribute(q,"");var o=X();if(o&&r.setAttribute("nonce",o),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new T(6);t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r}(e,t,r);return function(e,t){var n=Object.create(null),r=Object.create(null),o=[],i=void 0!==t,a=!1,s=function(e){var t=r[e];return void 0!==t?t:(r[e]=o.length,o.push(0),Y(n,e),r[e])},l=function(){var t=Q(e).cssRules,n="";for(var i in r){n+=ee(i);for(var a=r[i],s=te(o,a),l=s-o[a];l<s;l+=1){var u=t[l];void 0!==u&&(n+=u.cssText)}}return n};return{clone:function(){throw new T(5)},css:l,getIds:oe(r),hasNameForId:$(n),insertMarker:s,insertRules:function(r,l,u){for(var c=s(r),d=Q(e),f=te(o,c),h=0,p=[],m=l.length,g=0;g<m;g+=1){var v=l[g],y=i;y&&-1!==v.indexOf("@import")?p.push(v):J(d,v,f+h)&&(y=!1,h+=1)}i&&p.length>0&&(a=!0,t().insertRules(r+"-import",p)),o[c]+=h,K(n,r,u)},removeRules:function(s){var l=r[s];if(void 0!==l){var u=o[l];!function(e,t,n){for(var r=t-n,o=t;o>r;o-=1)e.deleteRule(o)}(Q(e),te(o,l),u),o[l]=0,Y(n,s),i&&a&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:re(l,n),toHTML:ne(l,n)}}(i,o)}return ie()},se=/\s+/,le=void 0;le=H?1e3:-1;var ue,ce=0,de=void 0,fe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=ae(t.target,n?n.styleTag:null,t.forceServer,!0)},ce+=1,this.id=ce,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!H||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+q+"]"),o=r.length;if(0===o)return this;for(var i=0;i<o;i+=1){var a=r[i];n||(n=!!a.getAttribute("data-styled-streamed"));for(var s=(a.getAttribute(q)||"").trim().split(se),l=s.length,u=0;u<l;u+=1){var c=s[u];this.rehydratedNames[c]=!0}t.push.apply(t,G(a.textContent)),e.push(a)}var d=t.length;if(0===d)return this;var f=function(e,t,n,r){var o,i,a=(o=function(){for(var r=0,o=n.length;r<o;r+=1){var i=n[r],a=i.componentId,s=i.cssFromDOM,l=M("",s);e.insertRules(a,l)}for(var u=0,c=t.length;u<c;u+=1){var d=t[u];d.parentNode&&d.parentNode.removeChild(d)}},i=!1,function(){i||(i=!0,o())});return r&&a(),_({},e,{insertMarker:function(t){return a(),e.insertMarker(t)},insertRules:function(t,n,r){return a(),e.insertRules(t,n,r)}})}(this.makeTag(null),e,t,n);this.capacity=Math.max(1,le-d),this.tags.push(f);for(var h=0;h<d;h+=1)this.tagMap[t[h].componentId]=f;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];de=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),o=0;o<n.length;o+=1)t.tagMap[n[o]]=r;return r}),t.rehydratedNames=_({},this.rehydratedNames),t.deferred=_({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(e){e.sealed=!0})},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ae(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=le,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,o=0;o<r.length;o+=1)r[o].inject(e,t,n);var i=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);i.insertRules(e,a,n),this.deferred[e]=void 0}else i.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){var r="sc-"+e+"-"+n;return Object(a.cloneElement)(t.toElement(),{key:r})})},b(e,null,[{key:"master",get:function(){return de||(de=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),he=function(e){function t(){return y(this,t),k(this,e.apply(this,arguments))}return x(t,e),t.prototype.getChildContext=function(){var e;return(e={})[V]=this.sheetInstance,e},t.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new T(4);this.sheetInstance=new fe(this.props.target)}},t.prototype.render=function(){return s.a.Children.only(this.props.children)},t}(a.Component);he.childContextTypes=((ue={})[V]=h.a.oneOfType([h.a.instanceOf(fe),h.a.instanceOf(pe)]).isRequired,ue);var pe=function(){function e(){y(this,e),this.masterSheet=fe.master,this.instance=this.masterSheet.clone(),this.closed=!1}return e.prototype.complete=function(){if(!this.closed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.closed=!0}},e.prototype.collectStyles=function(e){if(this.closed)throw new T(2);return s.a.createElement(he,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.complete(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.complete(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new T(3)},e}(),me=function(e,t,n){var r=n&&e.theme===n.theme;return e.theme&&!r?e.theme:t},ge=/[[\].#*$><+~=|^:(),"'`-]+/g,ve=/(^-|-$)/g;function ye(e){return e.replace(ge,"-").replace(ve,"")}function be(e){return e.displayName||e.name||"Component"}function _e(e){return"string"==typeof e}var xe=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:Animation|Touch|Load|Drag)Start|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|Lo(?:stPointer|ad)|TimeUpdate|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|GotPointer|MouseDown|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|KeyPress|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|P(?:rogress|laying)|DragEnd|Key(?:Down|Up)|(?:MouseU|Dro)p|(?:Wait|Seek)ing|Scroll|Focus|Paste|Abort|Drag|Play|Blur)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|onPointerLeav|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|onPointerMov|(?:attribute|glyph)Nam|playsInlin|(?:writing|input|edge)Mod|(?:formE|e)ncTyp|(?:amplitu|mo)d|(?:xlinkTy|itemSco|keyTy|slo)p|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|l(?:ip(?:Path)?|ass)|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|auto[Ff]ocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|on(?:PointerDow|FocusI)|formActio|zoomAndPa|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)|rient)|p(?:reserveAspectRatio|ointsAt[X-Z]|anose1)|(?:(?:allowPaymentReque|(?:fontSize|length)Adju|manife)s|strokeMiterlimi|(?:(?:specularE|e)xpon|renderingInt|asc)en|(?:specularConsta|repeatCou|fontVaria)n|d(?:iffuseConsta|esce)n|baselineShif|vectorEffec|onPointerOu|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|markerStar|a(?:utoCorrec|bou)|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:gradientT|patternT|t)ransform|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|(?:markerM|onInval)i|preloa|metho|kin)d|k(?:ernel(?:UnitLength|Matrix)|[1-4])|strokeDasharray|(?:onPointerCanc|lab)el|(?:allowFullScre|hidd)en|a(?:l(?:lowUserMedia|phabetic|t)|rabicForm|sync)|systemLanguage|(?:(?:o(?:nPointer(?:Ent|Ov)|rd)|allowReord|placehold|frameBord|paintOrd|post)e|repeatDu|d(?:efe|u))r|(?:pointerEve|keyPoi)nts|preserveAlpha|(?:strokeLineca|onPointerU|itemPro|useMa|wra|loo)p|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|unicodeRange|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|(?:vI|i)deographic|mathematical|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|vAlphabetic|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|(?:xmlnsXl|valueL)ink|mediaGroup|spellCheck|(?:text|m(?:in|ax))Length|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|pathLength|(?:xlinkHr|glyphR)ef|innerHTML|xlinkShow|f(?:o(?:ntSize|rm?)|il(?:ter|l))|(?:tabInde|(?:sand|b)bo|viewBo)x|autoPlay|r(?:e(?:quired|sult|f))?|(?:(?:href|xml|src)La|kerni)ng|o(?:verflow|pen)|i(?:temRef|n2|s)|p(?:attern|oints)|unicode|d(?:efault|ata|ir)?|divisor|t(?:arget[XY]|o)|(?:stri|la)ng|(?:width|size)s|prefix|typeof|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|s(?:t(?:roke|art)|hape|cope|rc)|a(?:ccept|llow|s)|itemID|t(?:arget|ype)|m(?:edia|a(?:sk|x)|in)|value|width|x(?:mlns)?|size|href|k(?:ey)?|end|low|by|x[12]|y[12]|g[12]|i[dn]|f[xy]|[yz])$/,we=RegExp.prototype.test.bind(new RegExp("^(x|data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"));var ke,Ee,Te="__styled-components__",Ae=Te+"next__",Se=h.a.shape({getTheme:h.a.func,subscribe:h.a.func,unsubscribe:h.a.func}),Me=((ke={})[Te]=h.a.func,ke[Ae]=Se,ke);var Ce,je=function(e){function t(){y(this,t);var n=k(this,e.call(this));return n.unsubscribeToOuterId=-1,n.getTheme=n.getTheme.bind(n),n}return x(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.context[Ae];void 0!==t&&(this.unsubscribeToOuterId=t.subscribe(function(t){e.outerTheme=t,void 0!==e.broadcast&&e.publish(e.props.theme)})),this.broadcast=function(e){var t={},n=0,r=e;return{publish:function(e){for(var n in r=e,t){var o=t[n];void 0!==o&&o(r)}},subscribe:function(e){var o=n;return t[o]=e,n+=1,e(r),o},unsubscribe:function(e){t[e]=void 0}}}(this.getTheme())},t.prototype.getChildContext=function(){var e,t=this;return _({},this.context,((e={})[Ae]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[Te]=function(e){var n=t.broadcast.subscribe(e);return function(){return t.broadcast.unsubscribe(n)}},e))},t.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},t.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[Ae].unsubscribe(this.unsubscribeToOuterId)},t.prototype.getTheme=function(e){var t=e||this.props.theme;if("function"==typeof t)return t(this.outerTheme);if(null===t||Array.isArray(t)||"object"!==(void 0===t?"undefined":v(t)))throw new T(8);return _({},this.outerTheme,t)},t.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},t.prototype.render=function(){return this.props.children?s.a.Children.only(this.props.children):null},t}(a.Component);je.childContextTypes=Me,je.contextTypes=((Ee={})[Ae]=Se,Ee);var Oe={},Ne=_({},Me,((Ce={})[V]=h.a.oneOfType([h.a.instanceOf(fe),h.a.instanceOf(pe)]),Ce)),Re={};var Pe=function(e){function t(){var n,r;y(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=k(this,e.call.apply(e,[this].concat(i))),r.attrs={},r.state={theme:null,generatedClassName:""},r.unsubscribeId=-1,k(r,n)}return x(t,e),t.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[Ae].unsubscribe(this.unsubscribeId)},t.prototype.buildExecutionContext=function(e,t){var n=this.constructor.attrs,r=_({},t,{theme:e});return void 0===n?r:(this.attrs=Object.keys(n).reduce(function(e,t){var o=n[t];return e[t]="function"!=typeof o||function(e,t){for(var n=e;n;)if((n=Object.getPrototypeOf(n))&&n===t)return!0;return!1}(o,a.Component)?o:o(r),e},{}),_({},r,this.attrs))},t.prototype.generateAndInjectStyles=function(e,t){var n=this.constructor,r=n.attrs,o=n.componentStyle,i=(n.warnTooManyClasses,this.context[V]||fe.master);if(o.isStatic&&void 0===r)return o.generateAndInjectStyles(Oe,i);var a=this.buildExecutionContext(e,t);return o.generateAndInjectStyles(a,i)},t.prototype.componentWillMount=function(){var e=this,t=this.constructor.componentStyle,n=this.context[Ae];if(t.isStatic){var r=this.generateAndInjectStyles(Oe,this.props);this.setState({generatedClassName:r})}else if(void 0!==n){var o=n.subscribe;this.unsubscribeId=o(function(t){var n=me(e.props,t,e.constructor.defaultProps),r=e.generateAndInjectStyles(n,e.props);e.setState({theme:n,generatedClassName:r})})}else{var i=this.props.theme||z,a=this.generateAndInjectStyles(i,this.props);this.setState({theme:i,generatedClassName:a})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.constructor.componentStyle.isStatic||this.setState(function(n){var r=me(e,n.theme,t.constructor.defaultProps);return{theme:r,generatedClassName:t.generateAndInjectStyles(r,e)}})},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},t.prototype.render=function(){var e=this.props.innerRef,t=this.state.generatedClassName,n=this.constructor,r=n.styledComponentId,o=n.target,i=_e(o),s=[this.props.className,r,this.attrs.className,t].filter(Boolean).join(" "),l=_({},this.attrs,{className:s});P(o)?l.innerRef=e:l.ref=e;var u,c=l,d=void 0;for(d in this.props)"innerRef"===d||"className"===d||i&&(u=d,!xe.test(u)&&!we(u.toLowerCase()))||(c[d]="style"===d&&d in this.attrs?_({},this.attrs[d],this.props[d]):this.props[d]);return Object(a.createElement)(o,c)},t}(a.Component);function Ie(e){for(var t,n=0|e.length,r=0|n,o=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}var De=H,Le=function e(t,n){for(var r=0,o=t.length;r<o;r+=1){var i=t[r];if(Array.isArray(i)&&!e(i))return!1;if("function"==typeof i&&!P(i))return!1}if(void 0!==n)for(var a in n)if("function"==typeof n[a])return!1;return!0},Be=r.hot&&!1,Fe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ze=function(e){var t="function"==typeof e&&!(e.prototype&&"isReactComponent"in e.prototype),n=P(e)||t,r=function(t){function r(){var e,n;y(this,r);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n=k(this,t.call.apply(t,[this].concat(i))),n.state=z,n.unsubscribeId=-1,k(n,e)}return x(r,t),r.prototype.componentWillMount=function(){var e=this,t=this.constructor.defaultProps,n=this.context[Ae],r=me(this.props,void 0,t);if(void 0===n&&void 0!==r)this.setState({theme:r});else{var o=n.subscribe;this.unsubscribeId=o(function(n){var r=me(e.props,n,t);e.setState({theme:r})})}},r.prototype.componentWillReceiveProps=function(e){var t=this.constructor.defaultProps;this.setState(function(n){return{theme:me(e,n.theme,t)}})},r.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[Ae].unsubscribe(this.unsubscribeId)},r.prototype.render=function(){var t=_({theme:this.state.theme},this.props);return n||(t.ref=t.innerRef,delete t.innerRef),s.a.createElement(e,t)},r}(s.a.Component);return r.contextTypes=Me,r.displayName="WithTheme("+be(e)+")",r.styledComponentId="withTheme",m()(r,e)},Ue={StyleSheet:fe};var qe=function(e,t,n){var r=function(t){return e(Ie(t))};return function(){function e(t,n,r){if(y(this,e),this.rules=t,this.isStatic=!Be&&Le(t,n),this.componentId=r,!fe.master.hasId(r)){var o=[];fe.master.deferredInject(r,o)}}return e.prototype.generateAndInjectStyles=function(e,o){var i=this.isStatic,a=this.componentId,s=this.lastClassName;if(De&&i&&void 0!==s&&o.hasNameForId(a,s))return s;var l=t(this.rules,e),u=r(this.componentId+l.join(""));return o.hasNameForId(a,u)||o.inject(this.componentId,n(l,"."+u),u),this.lastClassName=u,u},e.generateName=function(e){return r(e)},e}()}(L,A,R),Ve=function(e){return function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;if(!Object(g.isValidElementType)(r))throw new T(1,String(r));var i=function(){return n(r,o,e.apply(void 0,arguments))};return i.withConfig=function(e){return t(n,r,_({},o,e))},i.attrs=function(e){return t(n,r,_({},o,{attrs:_({},o.attrs||z,e)}))},i}}(U),He=function(e,t){return function n(r,o,i){var a=o.isClass,s=void 0===a?!_e(r):a,l=o.displayName,u=void 0===l?function(e){return _e(e)?"styled."+e:"Styled("+be(e)+")"}(r):l,c=o.componentId,d=void 0===c?function(e,t,n){var r="string"!=typeof t?"sc":ye(t),o=(Re[r]||0)+1;Re[r]=o;var i=r+"-"+e.generateName(r+o);return void 0!==n?n+"-"+i:i}(e,o.displayName,o.parentComponentId):c,f=o.ParentComponent,h=void 0===f?Pe:f,p=o.rules,g=o.attrs,v=o.displayName&&o.componentId?ye(o.displayName)+"-"+o.componentId:o.componentId||d,E=new e(void 0===p?i:p.concat(i),g,v),T=function(e){function a(){return y(this,a),k(this,e.apply(this,arguments))}return x(a,e),a.withComponent=function(e){var t=o.componentId,r=w(o,["componentId"]),s=t&&t+"-"+(_e(e)?e:ye(be(e))),l=_({},r,{componentId:s,ParentComponent:a});return n(e,l,i)},b(a,null,[{key:"extend",get:function(){var e=o.rules,s=o.componentId,l=w(o,["rules","componentId"]),u=void 0===e?i:e.concat(i),c=_({},l,{rules:u,parentComponentId:s,ParentComponent:a});return t(n,r,c)}}]),a}(h);return T.attrs=g,T.componentStyle=E,T.contextTypes=Ne,T.displayName=u,T.styledComponentId=v,T.target=r,s&&m()(T,r,{attrs:!0,componentStyle:!0,displayName:!0,extend:!0,styledComponentId:!0,target:!0,warnTooManyClasses:!0,withComponent:!0}),T}}(qe,Ve),We=function(e,t,n){return function(){var r=fe.master,o=n.apply(void 0,arguments),i=e(Ie(JSON.stringify(o).replace(/\s|\\n/g,""))),a="sc-keyframes-"+i;return r.hasNameForId(a,i)||r.inject(a,t(o,i,"@keyframes"),i),i}}(L,R,U),Ge=function(e,t){return function(){var n=fe.master,r=t.apply(void 0,arguments),o="sc-global-"+Ie(JSON.stringify(r));n.hasId(o)||n.inject(o,e(r))}}(R,U),Xe=function(e,t){var n=function(n){return t(e,n)};return Fe.forEach(function(e){n[e]=n(e)}),n}(He,Ve);t.default=Xe}.call(this,n("./node_modules/node-libs-browser/node_modules/process/browser.js"),n("./node_modules/webpack/buildin/harmony-module.js")(e))},"./node_modules/asn1.js/lib/asn1.js":function(e,t,n){var r=t;r.bignum=n("./node_modules/bn.js/lib/bn.js"),r.define=n("./node_modules/asn1.js/lib/asn1/api.js").define,r.base=n("./node_modules/asn1.js/lib/asn1/base/index.js"),r.constants=n("./node_modules/asn1.js/lib/asn1/constants/index.js"),r.decoders=n("./node_modules/asn1.js/lib/asn1/decoders/index.js"),r.encoders=n("./node_modules/asn1.js/lib/asn1/encoders/index.js")},"./node_modules/asn1.js/lib/asn1/api.js":function(e,t,n){var r=n("./node_modules/asn1.js/lib/asn1.js"),o=n("./node_modules/inherits/inherits_browser.js");function i(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new i(e,t)},i.prototype._createNamed=function(e){var t;try{t=n("./node_modules/vm-browserify/index.js").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return o(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},i.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},i.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},i.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},i.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},"./node_modules/asn1.js/lib/asn1/base/buffer.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/asn1.js/lib/asn1/base/index.js").Reporter,i=n("./node_modules/buffer/index.js").Buffer;function a(e,t){o.call(this,t),i.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=i.byteLength(e);else{if(!i.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,o),t.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,o.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.prototype.join=function(e,t){return e||(e=new i(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):i.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},"./node_modules/asn1.js/lib/asn1/base/index.js":function(e,t,n){var r=t;r.Reporter=n("./node_modules/asn1.js/lib/asn1/base/reporter.js").Reporter,r.DecoderBuffer=n("./node_modules/asn1.js/lib/asn1/base/buffer.js").DecoderBuffer,r.EncoderBuffer=n("./node_modules/asn1.js/lib/asn1/base/buffer.js").EncoderBuffer,r.Node=n("./node_modules/asn1.js/lib/asn1/base/node.js")},"./node_modules/asn1.js/lib/asn1/base/node.js":function(e,t,n){var r=n("./node_modules/asn1.js/lib/asn1/base/index.js").Reporter,o=n("./node_modules/asn1.js/lib/asn1/base/index.js").EncoderBuffer,i=n("./node_modules/asn1.js/lib/asn1/base/index.js").DecoderBuffer,a=n("./node_modules/minimalistic-assert/index.js"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function u(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=u;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};c.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},u.prototype._wrap=function(){var e=this._baseState;l.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},u.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),s.forEach(function(e){u.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}}),u.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},u.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,o=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var l=null;if(null!==n.explicit?l=n.explicit:null!==n.implicit?l=n.implicit:null!==n.tag&&(l=n.tag),null!==l||n.any){if(a=this._peekTag(e,l,n.any),e.isError(a))return a}else{var u=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(u)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){var c=this._decodeTag(e,n.explicit);if(e.isError(c))return c;e=c}var d=e.offset;if(null===n.use&&null===n.choice){if(n.any)u=e.save();var f=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(f))return f;n.any?o=e.raw(u):e=f}if(t&&t.track&&null!==n.tag&&t.track(e.path(),d,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),o=n.any?o:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(o))return o;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var h=new i(o);o=this._getUse(n.contains,e._reporterState.obj)._decode(h,t)}}return n.obj&&a&&(o=e.leaveObject(r)),null===n.key||null===o&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,o),o},u.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,o=!1;return Object.keys(n.choice).some(function(i){var a=e.save(),s=n.choice[i];try{var l=s._decode(e,t);if(e.isError(l))return!1;r={type:i,value:l},o=!0}catch(t){return e.restore(a),!1}return!0},this),o?r:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new o(e,this.reporter)},u.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var o=this._encodeValue(e,t,n);if(void 0!==o&&!this._skipDefault(o,t,n))return o}},u.prototype._encodeValue=function(e,t,n){var o=this._baseState;if(null===o.parent)return o.children[0]._encode(e,t||new r);var i=null;if(this.reporter=t,o.optional&&void 0===e){if(null===o.default)return;e=o.default}var a=null,s=!1;if(o.any)i=this._createEncoderBuffer(e);else if(o.choice)i=this._encodeChoice(e,t);else if(o.contains)a=this._getUse(o.contains,n)._encode(e,t),s=!0;else if(o.children)a=o.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var o=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),o},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===o.tag||"setof"===o.tag){if(!o.args||1!==o.args.length)return t.error("Too many args for : "+o.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)},l))}else null!==o.use?i=this._getUse(o.use,n)._encode(e,t):(a=this._encodePrimitive(o.tag,e),s=!0);if(!o.any&&null===o.choice){var u=null!==o.implicit?o.implicit:o.tag,c=null===o.implicit?"universal":"context";null===u?null===o.use&&t.error("Tag could be omitted only for .use()"):null===o.use&&(i=this._encodeComposite(u,s,c,a))}return null!==o.explicit&&(i=this._encodeComposite(o.explicit,!1,"context",i)),i},u.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},"./node_modules/asn1.js/lib/asn1/base/reporter.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js");function o(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}t.Reporter=o,o.prototype.isError=function(e){return e instanceof i},o.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},o.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},o.prototype.enterKey=function(e){return this._reporterState.path.push(e)},o.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},o.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},o.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},o.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof i;if(t=r?e:new i(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},o.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(i,Error),i.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},"./node_modules/asn1.js/lib/asn1/constants/der.js":function(e,t,n){var r=n("./node_modules/asn1.js/lib/asn1/constants/index.js");t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},"./node_modules/asn1.js/lib/asn1/constants/index.js":function(e,t,n){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n}),t},r.der=n("./node_modules/asn1.js/lib/asn1/constants/der.js")},"./node_modules/asn1.js/lib/asn1/decoders/der.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/asn1.js/lib/asn1.js"),i=o.base,a=o.bignum,s=o.constants.der;function l(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){i.Node.call(this,"der",e)}function c(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],o=0==(32&n);if(31==(31&n)){var i=n;for(n=0;128==(128&i);){if(i=e.readUInt8(t),e.isError(i))return i;n<<=7,n|=127&i}}else n&=31;return{cls:r,primitive:o,tag:n,tagStr:s.tag[n]}}function d(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var o=127&r;if(o>4)return e.error("length octect is too long");r=0;for(var i=0;i<o;i++){r<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;r|=a}return r}e.exports=l,l.prototype.decode=function(e,t){return e instanceof i.DecoderBuffer||(e=new i.DecoderBuffer(e,t)),this.tree._decode(e,t)},r(u,i.Node),u.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),o=c(e,'Failed to peek tag: "'+t+'"');return e.isError(o)?o:(e.restore(r),o.tag===t||o.tagStr===t||o.tagStr+"of"===t||n)},u.prototype._decodeTag=function(e,t,n){var r=c(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var o=d(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(o))return o;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==o)return e.skip(o,'Failed to match body of: "'+t+'"');var i=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(o=e.offset-i.offset,e.restore(i),e.skip(o,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var n=c(e,t);if(e.isError(n))return n;var r,o=d(e,n.primitive,t);if(e.isError(o))return o;if(r=n.primitive||null!==o?e.skip(o):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},u.prototype._decodeList=function(e,t,n,r){for(var o=[];!e.isEmpty();){var i=this._peekTag(e,"end");if(e.isError(i))return i;var a=n.decode(e,"der",r);if(e.isError(a)&&i)break;o.push(a)}return o},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var o="",i=0;i<r.length/2;i++)o+=String.fromCharCode(r.readUInt16BE(2*i));return o}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,n){for(var r,o=[],i=0;!e.isEmpty();){var a=e.readUInt8();i<<=7,i|=127&a,0==(128&a)&&(o.push(i),i=0)}128&a&&o.push(i);var s=o[0]/40|0,l=o[0]%40;if(r=n?o:[s,l].concat(o.slice(1)),t){var u=t[r.join(" ")];void 0===u&&(u=t[r.join(".")]),void 0!==u&&(r=u)}return r},u.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),o=0|n.slice(4,6),i=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),l=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),o=0|n.slice(2,4),i=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),l=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,o-1,i,a,s,l,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var n=e.raw(),r=new a(n);return t&&(r=t[r.toString(10)]||r),r},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},"./node_modules/asn1.js/lib/asn1/decoders/index.js":function(e,t,n){var r=t;r.der=n("./node_modules/asn1.js/lib/asn1/decoders/der.js"),r.pem=n("./node_modules/asn1.js/lib/asn1/decoders/pem.js")},"./node_modules/asn1.js/lib/asn1/decoders/pem.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/buffer/index.js").Buffer,i=n("./node_modules/asn1.js/lib/asn1/decoders/der.js");function a(e){i.call(this,e),this.enc="pem"}r(a,i),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,l=-1,u=0;u<n.length;u++){var c=n[u].match(a);if(null!==c&&c[2]===r){if(-1!==s){if("END"!==c[1])break;l=u;break}if("BEGIN"!==c[1])break;s=u}}if(-1===s||-1===l)throw new Error("PEM section not found for: "+r);var d=n.slice(s+1,l).join("");d.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new o(d,"base64");return i.prototype.decode.call(this,f,t)}},"./node_modules/asn1.js/lib/asn1/encoders/der.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/buffer/index.js").Buffer,i=n("./node_modules/asn1.js/lib/asn1.js"),a=i.base,s=i.constants.der;function l(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.Node.call(this,"der",e)}function c(e){return e<10?"0"+e:e}e.exports=l,l.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(u,a.Node),u.prototype._encodeComposite=function(e,t,n,r){var i,a=function(e,t,n,r){var o;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))o=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);o=e}if(o>=31)return r.error("Multi-octet tag encoding unsupported");t||(o|=32);return o|=s.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(r.length<128)return(i=new o(2))[0]=a,i[1]=r.length,this._createEncoderBuffer([i,r]);for(var l=1,u=r.length;u>=256;u>>=8)l++;(i=new o(2+l))[0]=a,i[1]=128|l;u=1+l;for(var c=r.length;c>0;u--,c>>=8)i[u]=255&c;return this._createEncoderBuffer([i,r])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new o(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var i=0;for(r=0;r<e.length;r++){var a=e[r];for(i++;a>=128;a>>=7)i++}var s=new o(i),l=s.length-1;for(r=e.length-1;r>=0;r--){a=e[r];for(s[l--]=127&a;(a>>=7)>0;)s[l--]=128|127&a}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[c(r.getFullYear()),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[c(r.getFullYear()%100),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!o.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new o(n)}if(o.isBuffer(e)){var r=e.length;0===e.length&&r++;var i=new o(r);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var a=e;a>=256;a>>=8)r++;for(a=(i=new Array(r)).length-1;a>=0;a--)i[a]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new o(i))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,n){var r,o=this._baseState;if(null===o.default)return!1;var i=e.join();if(void 0===o.defaultBuffer&&(o.defaultBuffer=this._encodeValue(o.default,t,n).join()),i.length!==o.defaultBuffer.length)return!1;for(r=0;r<i.length;r++)if(i[r]!==o.defaultBuffer[r])return!1;return!0}},"./node_modules/asn1.js/lib/asn1/encoders/index.js":function(e,t,n){var r=t;r.der=n("./node_modules/asn1.js/lib/asn1/encoders/der.js"),r.pem=n("./node_modules/asn1.js/lib/asn1/encoders/pem.js")},"./node_modules/asn1.js/lib/asn1/encoders/pem.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/asn1.js/lib/asn1/encoders/der.js");function i(e){o.call(this,e),this.enc="pem"}r(i,o),e.exports=i,i.prototype.encode=function(e,t){for(var n=o.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],i=0;i<n.length;i+=64)r.push(n.slice(i,i+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},"./node_modules/babel-runtime/core-js/array/from.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/array/from.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/assign.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/assign.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/create.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/create.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/define-property.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/define-property.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/get-own-property-descriptor.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/get-prototype-of.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/get-prototype-of.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/keys.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/keys.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/set-prototype-of.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/set-prototype-of.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/symbol.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/symbol/index.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/symbol/iterator.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/symbol/iterator.js"),__esModule:!0}},"./node_modules/babel-runtime/helpers/classCallCheck.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/babel-runtime/helpers/createClass.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/core-js/object/define-property.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},"./node_modules/babel-runtime/helpers/defineProperty.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/core-js/object/define-property.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/babel-runtime/helpers/extends.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/core-js/object/assign.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},"./node_modules/babel-runtime/helpers/get.js":function(e,t,n){"use strict";t.__esModule=!0;var r=i(n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js")),o=i(n("./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,i){null===t&&(t=Function.prototype);var a=(0,o.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,i)}if("value"in a)return a.value;var l=a.get;return void 0!==l?l.call(i):void 0}},"./node_modules/babel-runtime/helpers/inherits.js":function(e,t,n){"use strict";t.__esModule=!0;var r=a(n("./node_modules/babel-runtime/core-js/object/set-prototype-of.js")),o=a(n("./node_modules/babel-runtime/core-js/object/create.js")),i=a(n("./node_modules/babel-runtime/helpers/typeof.js"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},"./node_modules/babel-runtime/helpers/objectWithoutProperties.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},"./node_modules/babel-runtime/helpers/possibleConstructorReturn.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/helpers/typeof.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},"./node_modules/babel-runtime/helpers/toConsumableArray.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/core-js/array/from.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},"./node_modules/babel-runtime/helpers/typeof.js":function(e,t,n){"use strict";t.__esModule=!0;var r=a(n("./node_modules/babel-runtime/core-js/symbol/iterator.js")),o=a(n("./node_modules/babel-runtime/core-js/symbol.js")),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},"./node_modules/base64-js/index.js":function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],a=n[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),l=0,c=a>0?r-4:r,d=0;d<c;d+=4)t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===a&&(t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4,s[l++]=255&t);1===a&&(t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(c(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},"./node_modules/bn.js/lib/bn.js":function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function o(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a=n(2).Buffer}catch(e){}function s(e,t,n){for(var r=0,o=Math.min(e.length,n),i=t;i<o;i++){var a=e.charCodeAt(i)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function l(e,t,n,r){for(var o=0,i=Math.min(e.length,n),a=t;a<i;a++){var s=e.charCodeAt(a)-48;o*=r,o+=s>=49?s-49+10:s>=17?s-17+10:s}return o}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var o=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&o++,16===t?this._parseHex(e,o):this._parseBase(e,t,o),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var i,a,s=0;if("be"===n)for(o=e.length-1,i=0;o>=0;o-=3)a=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=a<<s&67108863,this.words[i+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);else if("le"===n)for(o=0,i=0;o<e.length;o+=3)a=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=a<<s&67108863,this.words[i+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,o,i=0;for(n=e.length-6,r=0;n>=t;n-=6)o=s(e,n,n+6),this.words[r]|=o<<i&67108863,this.words[r+1]|=o>>>26-i&4194303,(i+=24)>=26&&(i-=26,r++);n+6!==t&&(o=s(e,t,n+6),this.words[r]|=o<<i&67108863,this.words[r+1]|=o>>>26-i&4194303),this.strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,o=1;o<=67108863;o*=t)r++;r--,o=o/t|0;for(var i=e.length-n,a=i%r,s=Math.min(i,i-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(o),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var o=0|e.words[0],i=0|t.words[0],a=o*i,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,d=67108863&l,f=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=f;h++){var p=u-h|0;c+=(a=(o=0|e.words[p])*(i=0|t.words[h])+d)/67108864|0,d=67108863&a}n.words[u]=0|d,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var o=0,i=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<o|i)).toString(16);n=0!==(i=s>>>24-o&16777215)||a!==this.length-1?u[6-l.length]+l+n:l+n,(o+=2)>=26&&(o-=26,a--)}for(0!==i&&(n=i.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var f=c[e],h=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?m+n:u[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var o=this.byteLength(),i=n||Math.max(1,o);r(o<=i,"byte array longer than desired length"),r(i>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===t,u=new e(i),c=this.clone();if(l){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[s]=a;for(;s<i;s++)u[s]=0}else{for(s=0;s<i-o;s++)u[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[i-s-1]=a}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var o=0;o<t;o++)this.words[o]=67108863&~this.words[o];return n>0&&(this.words[o]=~this.words[o]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,o=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<o:this.words[n]&~(1<<o),this.strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var o=0,i=0;i<r.length;i++)t=(0|n.words[i])+(0|r.words[i])+o,this.words[i]=67108863&t,o=t>>>26;for(;0!==o&&i<n.length;i++)t=(0|n.words[i])+o,this.words[i]=67108863&t,o=t>>>26;if(this.length=n.length,0!==o)this.words[this.length]=o,this.length++;else if(n!==this)for(;i<n.length;i++)this.words[i]=n.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,o=this.cmp(e);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)i=(t=(0|n.words[a])-(0|r.words[a])+i)>>26,this.words[a]=67108863&t;for(;0!==i&&a<n.length;a++)i=(t=(0|n.words[a])+i)>>26,this.words[a]=67108863&t;if(0===i&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,o,i,a=e.words,s=t.words,l=n.words,u=0,c=0|a[0],d=8191&c,f=c>>>13,h=0|a[1],p=8191&h,m=h>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],_=8191&b,x=b>>>13,w=0|a[4],k=8191&w,E=w>>>13,T=0|a[5],A=8191&T,S=T>>>13,M=0|a[6],C=8191&M,j=M>>>13,O=0|a[7],N=8191&O,R=O>>>13,P=0|a[8],I=8191&P,D=P>>>13,L=0|a[9],B=8191&L,F=L>>>13,z=0|s[0],U=8191&z,q=z>>>13,V=0|s[1],H=8191&V,W=V>>>13,G=0|s[2],X=8191&G,K=G>>>13,Y=0|s[3],$=8191&Y,Z=Y>>>13,Q=0|s[4],J=8191&Q,ee=Q>>>13,te=0|s[5],ne=8191&te,re=te>>>13,oe=0|s[6],ie=8191&oe,ae=oe>>>13,se=0|s[7],le=8191&se,ue=se>>>13,ce=0|s[8],de=8191&ce,fe=ce>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(r=Math.imul(d,U))|0)+((8191&(o=(o=Math.imul(d,q))+Math.imul(f,U)|0))<<13)|0;u=((i=Math.imul(f,q))+(o>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,U),o=(o=Math.imul(p,q))+Math.imul(m,U)|0,i=Math.imul(m,q);var ve=(u+(r=r+Math.imul(d,H)|0)|0)+((8191&(o=(o=o+Math.imul(d,W)|0)+Math.imul(f,H)|0))<<13)|0;u=((i=i+Math.imul(f,W)|0)+(o>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,U),o=(o=Math.imul(v,q))+Math.imul(y,U)|0,i=Math.imul(y,q),r=r+Math.imul(p,H)|0,o=(o=o+Math.imul(p,W)|0)+Math.imul(m,H)|0,i=i+Math.imul(m,W)|0;var ye=(u+(r=r+Math.imul(d,X)|0)|0)+((8191&(o=(o=o+Math.imul(d,K)|0)+Math.imul(f,X)|0))<<13)|0;u=((i=i+Math.imul(f,K)|0)+(o>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,U),o=(o=Math.imul(_,q))+Math.imul(x,U)|0,i=Math.imul(x,q),r=r+Math.imul(v,H)|0,o=(o=o+Math.imul(v,W)|0)+Math.imul(y,H)|0,i=i+Math.imul(y,W)|0,r=r+Math.imul(p,X)|0,o=(o=o+Math.imul(p,K)|0)+Math.imul(m,X)|0,i=i+Math.imul(m,K)|0;var be=(u+(r=r+Math.imul(d,$)|0)|0)+((8191&(o=(o=o+Math.imul(d,Z)|0)+Math.imul(f,$)|0))<<13)|0;u=((i=i+Math.imul(f,Z)|0)+(o>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(k,U),o=(o=Math.imul(k,q))+Math.imul(E,U)|0,i=Math.imul(E,q),r=r+Math.imul(_,H)|0,o=(o=o+Math.imul(_,W)|0)+Math.imul(x,H)|0,i=i+Math.imul(x,W)|0,r=r+Math.imul(v,X)|0,o=(o=o+Math.imul(v,K)|0)+Math.imul(y,X)|0,i=i+Math.imul(y,K)|0,r=r+Math.imul(p,$)|0,o=(o=o+Math.imul(p,Z)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,Z)|0;var _e=(u+(r=r+Math.imul(d,J)|0)|0)+((8191&(o=(o=o+Math.imul(d,ee)|0)+Math.imul(f,J)|0))<<13)|0;u=((i=i+Math.imul(f,ee)|0)+(o>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(A,U),o=(o=Math.imul(A,q))+Math.imul(S,U)|0,i=Math.imul(S,q),r=r+Math.imul(k,H)|0,o=(o=o+Math.imul(k,W)|0)+Math.imul(E,H)|0,i=i+Math.imul(E,W)|0,r=r+Math.imul(_,X)|0,o=(o=o+Math.imul(_,K)|0)+Math.imul(x,X)|0,i=i+Math.imul(x,K)|0,r=r+Math.imul(v,$)|0,o=(o=o+Math.imul(v,Z)|0)+Math.imul(y,$)|0,i=i+Math.imul(y,Z)|0,r=r+Math.imul(p,J)|0,o=(o=o+Math.imul(p,ee)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,ee)|0;var xe=(u+(r=r+Math.imul(d,ne)|0)|0)+((8191&(o=(o=o+Math.imul(d,re)|0)+Math.imul(f,ne)|0))<<13)|0;u=((i=i+Math.imul(f,re)|0)+(o>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(C,U),o=(o=Math.imul(C,q))+Math.imul(j,U)|0,i=Math.imul(j,q),r=r+Math.imul(A,H)|0,o=(o=o+Math.imul(A,W)|0)+Math.imul(S,H)|0,i=i+Math.imul(S,W)|0,r=r+Math.imul(k,X)|0,o=(o=o+Math.imul(k,K)|0)+Math.imul(E,X)|0,i=i+Math.imul(E,K)|0,r=r+Math.imul(_,$)|0,o=(o=o+Math.imul(_,Z)|0)+Math.imul(x,$)|0,i=i+Math.imul(x,Z)|0,r=r+Math.imul(v,J)|0,o=(o=o+Math.imul(v,ee)|0)+Math.imul(y,J)|0,i=i+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,o=(o=o+Math.imul(p,re)|0)+Math.imul(m,ne)|0,i=i+Math.imul(m,re)|0;var we=(u+(r=r+Math.imul(d,ie)|0)|0)+((8191&(o=(o=o+Math.imul(d,ae)|0)+Math.imul(f,ie)|0))<<13)|0;u=((i=i+Math.imul(f,ae)|0)+(o>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(N,U),o=(o=Math.imul(N,q))+Math.imul(R,U)|0,i=Math.imul(R,q),r=r+Math.imul(C,H)|0,o=(o=o+Math.imul(C,W)|0)+Math.imul(j,H)|0,i=i+Math.imul(j,W)|0,r=r+Math.imul(A,X)|0,o=(o=o+Math.imul(A,K)|0)+Math.imul(S,X)|0,i=i+Math.imul(S,K)|0,r=r+Math.imul(k,$)|0,o=(o=o+Math.imul(k,Z)|0)+Math.imul(E,$)|0,i=i+Math.imul(E,Z)|0,r=r+Math.imul(_,J)|0,o=(o=o+Math.imul(_,ee)|0)+Math.imul(x,J)|0,i=i+Math.imul(x,ee)|0,r=r+Math.imul(v,ne)|0,o=(o=o+Math.imul(v,re)|0)+Math.imul(y,ne)|0,i=i+Math.imul(y,re)|0,r=r+Math.imul(p,ie)|0,o=(o=o+Math.imul(p,ae)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,ae)|0;var ke=(u+(r=r+Math.imul(d,le)|0)|0)+((8191&(o=(o=o+Math.imul(d,ue)|0)+Math.imul(f,le)|0))<<13)|0;u=((i=i+Math.imul(f,ue)|0)+(o>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(I,U),o=(o=Math.imul(I,q))+Math.imul(D,U)|0,i=Math.imul(D,q),r=r+Math.imul(N,H)|0,o=(o=o+Math.imul(N,W)|0)+Math.imul(R,H)|0,i=i+Math.imul(R,W)|0,r=r+Math.imul(C,X)|0,o=(o=o+Math.imul(C,K)|0)+Math.imul(j,X)|0,i=i+Math.imul(j,K)|0,r=r+Math.imul(A,$)|0,o=(o=o+Math.imul(A,Z)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,Z)|0,r=r+Math.imul(k,J)|0,o=(o=o+Math.imul(k,ee)|0)+Math.imul(E,J)|0,i=i+Math.imul(E,ee)|0,r=r+Math.imul(_,ne)|0,o=(o=o+Math.imul(_,re)|0)+Math.imul(x,ne)|0,i=i+Math.imul(x,re)|0,r=r+Math.imul(v,ie)|0,o=(o=o+Math.imul(v,ae)|0)+Math.imul(y,ie)|0,i=i+Math.imul(y,ae)|0,r=r+Math.imul(p,le)|0,o=(o=o+Math.imul(p,ue)|0)+Math.imul(m,le)|0,i=i+Math.imul(m,ue)|0;var Ee=(u+(r=r+Math.imul(d,de)|0)|0)+((8191&(o=(o=o+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;u=((i=i+Math.imul(f,fe)|0)+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(B,U),o=(o=Math.imul(B,q))+Math.imul(F,U)|0,i=Math.imul(F,q),r=r+Math.imul(I,H)|0,o=(o=o+Math.imul(I,W)|0)+Math.imul(D,H)|0,i=i+Math.imul(D,W)|0,r=r+Math.imul(N,X)|0,o=(o=o+Math.imul(N,K)|0)+Math.imul(R,X)|0,i=i+Math.imul(R,K)|0,r=r+Math.imul(C,$)|0,o=(o=o+Math.imul(C,Z)|0)+Math.imul(j,$)|0,i=i+Math.imul(j,Z)|0,r=r+Math.imul(A,J)|0,o=(o=o+Math.imul(A,ee)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,ee)|0,r=r+Math.imul(k,ne)|0,o=(o=o+Math.imul(k,re)|0)+Math.imul(E,ne)|0,i=i+Math.imul(E,re)|0,r=r+Math.imul(_,ie)|0,o=(o=o+Math.imul(_,ae)|0)+Math.imul(x,ie)|0,i=i+Math.imul(x,ae)|0,r=r+Math.imul(v,le)|0,o=(o=o+Math.imul(v,ue)|0)+Math.imul(y,le)|0,i=i+Math.imul(y,ue)|0,r=r+Math.imul(p,de)|0,o=(o=o+Math.imul(p,fe)|0)+Math.imul(m,de)|0,i=i+Math.imul(m,fe)|0;var Te=(u+(r=r+Math.imul(d,pe)|0)|0)+((8191&(o=(o=o+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;u=((i=i+Math.imul(f,me)|0)+(o>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,H),o=(o=Math.imul(B,W))+Math.imul(F,H)|0,i=Math.imul(F,W),r=r+Math.imul(I,X)|0,o=(o=o+Math.imul(I,K)|0)+Math.imul(D,X)|0,i=i+Math.imul(D,K)|0,r=r+Math.imul(N,$)|0,o=(o=o+Math.imul(N,Z)|0)+Math.imul(R,$)|0,i=i+Math.imul(R,Z)|0,r=r+Math.imul(C,J)|0,o=(o=o+Math.imul(C,ee)|0)+Math.imul(j,J)|0,i=i+Math.imul(j,ee)|0,r=r+Math.imul(A,ne)|0,o=(o=o+Math.imul(A,re)|0)+Math.imul(S,ne)|0,i=i+Math.imul(S,re)|0,r=r+Math.imul(k,ie)|0,o=(o=o+Math.imul(k,ae)|0)+Math.imul(E,ie)|0,i=i+Math.imul(E,ae)|0,r=r+Math.imul(_,le)|0,o=(o=o+Math.imul(_,ue)|0)+Math.imul(x,le)|0,i=i+Math.imul(x,ue)|0,r=r+Math.imul(v,de)|0,o=(o=o+Math.imul(v,fe)|0)+Math.imul(y,de)|0,i=i+Math.imul(y,fe)|0;var Ae=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(o=(o=o+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),o=(o=Math.imul(B,K))+Math.imul(F,X)|0,i=Math.imul(F,K),r=r+Math.imul(I,$)|0,o=(o=o+Math.imul(I,Z)|0)+Math.imul(D,$)|0,i=i+Math.imul(D,Z)|0,r=r+Math.imul(N,J)|0,o=(o=o+Math.imul(N,ee)|0)+Math.imul(R,J)|0,i=i+Math.imul(R,ee)|0,r=r+Math.imul(C,ne)|0,o=(o=o+Math.imul(C,re)|0)+Math.imul(j,ne)|0,i=i+Math.imul(j,re)|0,r=r+Math.imul(A,ie)|0,o=(o=o+Math.imul(A,ae)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,ae)|0,r=r+Math.imul(k,le)|0,o=(o=o+Math.imul(k,ue)|0)+Math.imul(E,le)|0,i=i+Math.imul(E,ue)|0,r=r+Math.imul(_,de)|0,o=(o=o+Math.imul(_,fe)|0)+Math.imul(x,de)|0,i=i+Math.imul(x,fe)|0;var Se=(u+(r=r+Math.imul(v,pe)|0)|0)+((8191&(o=(o=o+Math.imul(v,me)|0)+Math.imul(y,pe)|0))<<13)|0;u=((i=i+Math.imul(y,me)|0)+(o>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(B,$),o=(o=Math.imul(B,Z))+Math.imul(F,$)|0,i=Math.imul(F,Z),r=r+Math.imul(I,J)|0,o=(o=o+Math.imul(I,ee)|0)+Math.imul(D,J)|0,i=i+Math.imul(D,ee)|0,r=r+Math.imul(N,ne)|0,o=(o=o+Math.imul(N,re)|0)+Math.imul(R,ne)|0,i=i+Math.imul(R,re)|0,r=r+Math.imul(C,ie)|0,o=(o=o+Math.imul(C,ae)|0)+Math.imul(j,ie)|0,i=i+Math.imul(j,ae)|0,r=r+Math.imul(A,le)|0,o=(o=o+Math.imul(A,ue)|0)+Math.imul(S,le)|0,i=i+Math.imul(S,ue)|0,r=r+Math.imul(k,de)|0,o=(o=o+Math.imul(k,fe)|0)+Math.imul(E,de)|0,i=i+Math.imul(E,fe)|0;var Me=(u+(r=r+Math.imul(_,pe)|0)|0)+((8191&(o=(o=o+Math.imul(_,me)|0)+Math.imul(x,pe)|0))<<13)|0;u=((i=i+Math.imul(x,me)|0)+(o>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,J),o=(o=Math.imul(B,ee))+Math.imul(F,J)|0,i=Math.imul(F,ee),r=r+Math.imul(I,ne)|0,o=(o=o+Math.imul(I,re)|0)+Math.imul(D,ne)|0,i=i+Math.imul(D,re)|0,r=r+Math.imul(N,ie)|0,o=(o=o+Math.imul(N,ae)|0)+Math.imul(R,ie)|0,i=i+Math.imul(R,ae)|0,r=r+Math.imul(C,le)|0,o=(o=o+Math.imul(C,ue)|0)+Math.imul(j,le)|0,i=i+Math.imul(j,ue)|0,r=r+Math.imul(A,de)|0,o=(o=o+Math.imul(A,fe)|0)+Math.imul(S,de)|0,i=i+Math.imul(S,fe)|0;var Ce=(u+(r=r+Math.imul(k,pe)|0)|0)+((8191&(o=(o=o+Math.imul(k,me)|0)+Math.imul(E,pe)|0))<<13)|0;u=((i=i+Math.imul(E,me)|0)+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ne),o=(o=Math.imul(B,re))+Math.imul(F,ne)|0,i=Math.imul(F,re),r=r+Math.imul(I,ie)|0,o=(o=o+Math.imul(I,ae)|0)+Math.imul(D,ie)|0,i=i+Math.imul(D,ae)|0,r=r+Math.imul(N,le)|0,o=(o=o+Math.imul(N,ue)|0)+Math.imul(R,le)|0,i=i+Math.imul(R,ue)|0,r=r+Math.imul(C,de)|0,o=(o=o+Math.imul(C,fe)|0)+Math.imul(j,de)|0,i=i+Math.imul(j,fe)|0;var je=(u+(r=r+Math.imul(A,pe)|0)|0)+((8191&(o=(o=o+Math.imul(A,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(o>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(B,ie),o=(o=Math.imul(B,ae))+Math.imul(F,ie)|0,i=Math.imul(F,ae),r=r+Math.imul(I,le)|0,o=(o=o+Math.imul(I,ue)|0)+Math.imul(D,le)|0,i=i+Math.imul(D,ue)|0,r=r+Math.imul(N,de)|0,o=(o=o+Math.imul(N,fe)|0)+Math.imul(R,de)|0,i=i+Math.imul(R,fe)|0;var Oe=(u+(r=r+Math.imul(C,pe)|0)|0)+((8191&(o=(o=o+Math.imul(C,me)|0)+Math.imul(j,pe)|0))<<13)|0;u=((i=i+Math.imul(j,me)|0)+(o>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,le),o=(o=Math.imul(B,ue))+Math.imul(F,le)|0,i=Math.imul(F,ue),r=r+Math.imul(I,de)|0,o=(o=o+Math.imul(I,fe)|0)+Math.imul(D,de)|0,i=i+Math.imul(D,fe)|0;var Ne=(u+(r=r+Math.imul(N,pe)|0)|0)+((8191&(o=(o=o+Math.imul(N,me)|0)+Math.imul(R,pe)|0))<<13)|0;u=((i=i+Math.imul(R,me)|0)+(o>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(B,de),o=(o=Math.imul(B,fe))+Math.imul(F,de)|0,i=Math.imul(F,fe);var Re=(u+(r=r+Math.imul(I,pe)|0)|0)+((8191&(o=(o=o+Math.imul(I,me)|0)+Math.imul(D,pe)|0))<<13)|0;u=((i=i+Math.imul(D,me)|0)+(o>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Pe=(u+(r=Math.imul(B,pe))|0)+((8191&(o=(o=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return u=((i=Math.imul(F,me))+(o>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,l[0]=ge,l[1]=ve,l[2]=ye,l[3]=be,l[4]=_e,l[5]=xe,l[6]=we,l[7]=ke,l[8]=Ee,l[9]=Te,l[10]=Ae,l[11]=Se,l[12]=Me,l[13]=Ce,l[14]=je,l[15]=Oe,l[16]=Ne,l[17]=Re,l[18]=Pe,0!==u&&(l[19]=u,n.length++),n};function p(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=f),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,o=0,i=0;i<n.length-1;i++){var a=o;o=0;for(var s=67108863&r,l=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=l;u++){var c=i-u,d=(0|e.words[c])*(0|t.words[u]),f=67108863&d;s=67108863&(f=f+s|0),o+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[i]=s,r=a,a=o}return 0!==r?n.words[i]=r:n.length--,n.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=i.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,o=0;o<t;o++)r|=(1&e)<<t-o-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,o,i){for(var a=0;a<i;a++)r[a]=t[e[a]],o[a]=n[e[a]]},m.prototype.transform=function(e,t,n,r,o,i){this.permute(i,e,t,n,r,o);for(var a=1;a<o;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<o;c+=s)for(var d=l,f=u,h=0;h<a;h++){var p=n[c+h],m=r[c+h],g=n[c+h+a],v=r[c+h+a],y=d*g-f*v;v=d*v+f*g,g=y,n[c+h]=p+g,r[c+h]=m+v,n[c+h+a]=p-g,r[c+h+a]=m-v,h!==s&&(y=l*d-u*f,f=l*f+u*d,d=y)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,o=0;for(n=n/2|0;n;n>>>=1)o++;return 1<<o+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var o=e[r];e[r]=e[n-r-1],e[n-r-1]=o,o=t[r],t[r]=-t[n-r-1],t[n-r-1]=-o}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var o=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&o,n=o<67108864?0:o/67108864|0}return e},m.prototype.convert13b=function(e,t,n,o){for(var i=0,a=0;a<t;a++)i+=0|e[a],n[2*a]=8191&i,i>>>=13,n[2*a+1]=8191&i,i>>>=13;for(a=2*t;a<o;++a)n[a]=0;r(0===i),r(0==(-8192&i))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),o=this.makeRBT(r),i=this.stub(r),a=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,i,s,l,r,o),this.transform(u,i,c,d,r,o);for(var h=0;h<r;h++){var p=s[h]*c[h]-l[h]*d[h];l[h]=s[h]*d[h]+l[h]*c[h],s[h]=p}return this.conjugate(s,l,r),this.transform(s,l,f,i,r,o),this.conjugate(f,i,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var o=(0|this.words[n])*e,i=(67108863&o)+(67108863&t);t>>=26,t+=o/67108864|0,t+=i>>>26,this.words[n]=67108863&i}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,o=n%26;t[n]=(e.words[r]&1<<o)>>>o}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var o=n.sqr();r<t.length;r++,o=o.sqr())0!==t[r]&&(n=n.mul(o));return n},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,o=(e-n)/26,i=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&i,l=(0|this.words[t])-s<<n;this.words[t]=l|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==o){for(t=this.length-1;t>=0;t--)this.words[t+o]=this.words[t];for(t=0;t<o;t++)this.words[t]=0;this.length+=o}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var o;r("number"==typeof e&&e>=0),o=t?(t-t%26)/26:0;var i=e%26,a=Math.min((e-i)/26,this.length),s=67108863^67108863>>>i<<i,l=n;if(o-=a,o=Math.max(0,o),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=o);u--){var d=0|this.words[u];this.words[u]=c<<26-i|d>>>i,c=d&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,o=1<<t;return!(this.length<=n)&&!!(this.words[n]&o)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var o,i,a=e.length+n;this._expand(a);var s=0;for(o=0;o<e.length;o++){i=(0|this.words[o+n])+s;var l=(0|e.words[o])*t;s=((i-=67108863&l)>>26)-(l/67108864|0),this.words[o+n]=67108863&i}for(;o<this.length-n;o++)s=(i=(0|this.words[o+n])+s)>>26,this.words[o+n]=67108863&i;if(0===s)return this.strip();for(r(-1===s),s=0,o=0;o<this.length;o++)s=(i=-(0|this.words[o])+s)>>26,this.words[o]=67108863&i;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),o=e,a=0|o.words[o.length-1];0!==(n=26-this._countBits(a))&&(o=o.ushln(n),r.iushln(n),a=0|o.words[o.length-1]);var s,l=r.length-o.length;if("mod"!==t){(s=new i(null)).length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var c=r.clone()._ishlnsubmul(o,1,l);0===c.negative&&(r=c,s&&(s.words[l]=1));for(var d=l-1;d>=0;d--){var f=67108864*(0|r.words[o.length+d])+(0|r.words[o.length+d-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(o,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(o,1,d),r.isZero()||(r.negative^=1);s&&(s.words[d]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),o=e.andln(1),i=n.cmp(r);return i<0||1===o&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,o=this.length-1;o>=0;o--)n=(t*n+(0|this.words[o]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*t;this.words[n]=o/e|0,t=o%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),l=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(c),a.isub(d)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(d)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(l)):(n.isub(t),s.isub(o),l.isub(a))}return{a:s,b:l,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var o=t.cmp(n);if(o<0){var i=t;t=n,n=i}else if(0===o||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,o=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=o,this;for(var i=o,a=n;0!==i&&a<this.length;a++){var s=0|this.words[a];i=(s+=i)>>>26,s&=67108863,this.words[a]=s}return 0!==i&&(this.words[a]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var o=0|this.words[0];t=o===e?0:o<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],o=0|e.words[n];if(r!==o){r<o?t=-1:r>o&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new w(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},o(y,v),y.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=4194303&o,r=10;r<e.length;r++){var i=0|e.words[r];e.words[r-10]=(4194303&i)<<4|o>>>22,o=i}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},o(b,v),o(_,v),o(x,v),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,o=67108863&r;r>>>=26,e.words[n]=o,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new b;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},w.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},w.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var d=this.pow(c,o),f=this.pow(e,o.addn(1).iushrn(1)),h=this.pow(e,o),p=a;0!==h.cmp(s);){for(var m=h,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var v=this.pow(d,new i(1).iushln(p-g-1));f=f.redMul(v),d=v.redSqr(),h=h.redMul(d),p=g}return f},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var o=n[0],a=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],c=l-1;c>=0;c--){var d=u>>c&1;o!==n[0]&&(o=this.sqr(o)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===r&&0===c)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}l=26}return o},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},o(k,w),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),i=o;return o.cmp(this.m)>=0?i=o.isub(this.m):o.cmpn(0)<0&&(i=o.iadd(this.m)),i._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/brorand/index.js":function(e,t,n){var r;function o(e){this.rand=e}if(e.exports=function(e){return r||(r=new o(null)),r.generate(e)},e.exports.Rand=o,o.prototype.generate=function(e){return this._rand(e)},o.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=n(3);if("function"!=typeof i.randomBytes)throw new Error("Not supported");o.prototype._rand=function(e){return i.randomBytes(e)}}catch(e){}},"./node_modules/browserify-aes/aes.js":function(e,t,n){var r=n("./node_modules/safe-buffer/index.js").Buffer;function o(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),o=0;o<t;o++)n[o]=e.readUInt32BE(4*o);return n}function i(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,o){for(var i,a,s,l,u=n[0],c=n[1],d=n[2],f=n[3],h=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],v=4,y=1;y<o;y++)i=u[h>>>24]^c[p>>>16&255]^d[m>>>8&255]^f[255&g]^t[v++],a=u[p>>>24]^c[m>>>16&255]^d[g>>>8&255]^f[255&h]^t[v++],s=u[m>>>24]^c[g>>>16&255]^d[h>>>8&255]^f[255&p]^t[v++],l=u[g>>>24]^c[h>>>16&255]^d[p>>>8&255]^f[255&m]^t[v++],h=i,p=a,m=s,g=l;return i=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&g])^t[v++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[g>>>8&255]<<8|r[255&h])^t[v++],s=(r[m>>>24]<<24|r[g>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^t[v++],l=(r[g>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[v++],[i>>>=0,a>>>=0,s>>>=0,l>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],o=[[],[],[],[]],i=[[],[],[],[]],a=0,s=0,l=0;l<256;++l){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,n[a]=u,r[u]=a;var c=e[a],d=e[c],f=e[d],h=257*e[u]^16843008*u;o[0][a]=h<<24|h>>>8,o[1][a]=h<<16|h>>>16,o[2][a]=h<<8|h>>>24,o[3][a]=h,h=16843009*f^65537*d^257*c^16843008*a,i[0][u]=h<<24|h>>>8,i[1][u]=h<<16|h>>>16,i[2][u]=h<<8|h>>>24,i[3][u]=h,0===a?a=s=1:(a=c^e[e[e[f^c]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:o,INV_SUB_MIX:i}}();function u(e){this._key=o(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),o=[],i=0;i<t;i++)o[i]=e[i];for(i=t;i<r;i++){var a=o[i-1];i%t==0?(a=a<<8|a>>>24,a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=s[i/t|0]<<24):t>6&&i%t==4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),o[i]=o[i-t]^a}for(var u=[],c=0;c<r;c++){var d=r-c,f=o[d-(c%4?0:4)];u[c]=c<4||d<=4?f:l.INV_SUB_MIX[0][l.SBOX[f>>>24]]^l.INV_SUB_MIX[1][l.SBOX[f>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[f>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&f]]}this._nRounds=n,this._keySchedule=o,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return a(e=o(e),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},u.prototype.decryptBlock=function(e){var t=(e=o(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),i=r.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},u.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},e.exports.AES=u},"./node_modules/browserify-aes/authCipher.js":function(e,t,n){var r=n("./node_modules/browserify-aes/aes.js"),o=n("./node_modules/safe-buffer/index.js").Buffer,i=n("./node_modules/cipher-base/index.js"),a=n("./node_modules/inherits/inherits_browser.js"),s=n("./node_modules/browserify-aes/ghash.js"),l=n("./node_modules/buffer-xor/index.js"),u=n("./node_modules/browserify-aes/incr32.js");function c(e,t,n,a){i.call(this);var l=o.alloc(4,0);this._cipher=new r.AES(t);var c=this._cipher.encryptBlock(l);this._ghash=new s(c),n=function(e,t,n){if(12===t.length)return e._finID=o.concat([t,o.from([0,0,0,1])]),o.concat([t,o.from([0,0,0,2])]);var r=new s(n),i=t.length,a=i%16;r.update(t),a&&(a=16-a,r.update(o.alloc(a,0))),r.update(o.alloc(8,0));var l=8*i,c=o.alloc(8);c.writeUIntBE(l,0,8),r.update(c),e._finID=r.state;var d=o.from(e._finID);return u(d),d}(this,n,c),this._prev=o.from(n),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(c,i),c.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=o.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),o=0;o<r;++o)n+=e[o]^t[o];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},c.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=c},"./node_modules/browserify-aes/browser.js":function(e,t,n){var r=n("./node_modules/browserify-aes/encrypter.js"),o=n("./node_modules/browserify-aes/decrypter.js"),i=n("./node_modules/browserify-aes/modes/list.json");t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=o.createDecipher,t.createDecipheriv=t.Decipheriv=o.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(i)}},"./node_modules/browserify-aes/decrypter.js":function(e,t,n){var r=n("./node_modules/browserify-aes/authCipher.js"),o=n("./node_modules/safe-buffer/index.js").Buffer,i=n("./node_modules/browserify-aes/modes/index.js"),a=n("./node_modules/browserify-aes/streamCipher.js"),s=n("./node_modules/cipher-base/index.js"),l=n("./node_modules/browserify-aes/aes.js"),u=n("./node_modules/evp_bytestokey/index.js");function c(e,t,n){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new l.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}function d(){this.cache=o.allocUnsafe(0)}function f(e,t,n){var s=i[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new c(s.module,t,n)}n("./node_modules/inherits/inherits_browser.js")(c,s),c.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return o.concat(r)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=i[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(t,!1,n.key,n.iv);return f(e,r.key,r.iv)},t.createDecipheriv=f},"./node_modules/browserify-aes/encrypter.js":function(e,t,n){var r=n("./node_modules/browserify-aes/modes/index.js"),o=n("./node_modules/browserify-aes/authCipher.js"),i=n("./node_modules/safe-buffer/index.js").Buffer,a=n("./node_modules/browserify-aes/streamCipher.js"),s=n("./node_modules/cipher-base/index.js"),l=n("./node_modules/browserify-aes/aes.js"),u=n("./node_modules/evp_bytestokey/index.js");function c(e,t,n){s.call(this),this._cache=new f,this._cipher=new l.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}n("./node_modules/inherits/inherits_browser.js")(c,s),c.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return i.concat(r)};var d=i.alloc(16,16);function f(){this.cache=i.allocUnsafe(0)}function h(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new o(s.module,t,n):new c(s.module,t,n)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=i.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return i.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var o=u(t,!1,n.key,n.iv);return h(e,o.key,o.iv)}},"./node_modules/browserify-aes/ghash.js":function(e,t,n){var r=n("./node_modules/safe-buffer/index.js").Buffer,o=r.alloc(16,0);function i(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],o=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(o[0]^=r[0],o[1]^=r[1],o[2]^=r[2],o[3]^=r[3]),n=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=i(o)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,o],16)),this.ghash(i([0,e,0,t])),this.state},e.exports=a},"./node_modules/browserify-aes/incr32.js":function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},"./node_modules/browserify-aes/modes/cbc.js":function(e,t,n){var r=n("./node_modules/buffer-xor/index.js");t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var o=e._cipher.decryptBlock(t);return r(o,n)}},"./node_modules/browserify-aes/modes/cfb.js":function(e,t,n){var r=n("./node_modules/safe-buffer/index.js").Buffer,o=n("./node_modules/buffer-xor/index.js");function i(e,t,n){var i=t.length,a=o(t,e._cache);return e._cache=e._cache.slice(i),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var o,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,i(e,t,n)]);break}o=e._cache.length,a=r.concat([a,i(e,t.slice(0,o),n)]),t=t.slice(o)}return a}},"./node_modules/browserify-aes/modes/cfb1.js":function(e,t,n){var r=n("./node_modules/safe-buffer/index.js").Buffer;function o(e,t,n){for(var r,o,a=-1,s=0;++a<8;)r=t&1<<7-a?128:0,s+=(128&(o=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=i(e._prev,n?r:o);return s}function i(e,t){var n=e.length,o=-1,i=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++o<n;)i[o]=e[o]<<1|e[o+1]>>7;return i}t.encrypt=function(e,t,n){for(var i=t.length,a=r.allocUnsafe(i),s=-1;++s<i;)a[s]=o(e,t[s],n);return a}},"./node_modules/browserify-aes/modes/cfb8.js":function(e,t,n){var r=n("./node_modules/safe-buffer/index.js").Buffer;function o(e,t,n){var o=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:o])]),o}t.encrypt=function(e,t,n){for(var i=t.length,a=r.allocUnsafe(i),s=-1;++s<i;)a[s]=o(e,t[s],n);return a}},"./node_modules/browserify-aes/modes/ctr.js":function(e,t,n){var r=n("./node_modules/buffer-xor/index.js"),o=n("./node_modules/safe-buffer/index.js").Buffer,i=n("./node_modules/browserify-aes/incr32.js");function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return i(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),i=e._cache.length;e._cache=o.concat([e._cache,o.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var l=a(e),u=i+16*s;e._cache.writeUInt32BE(l[0],u+0),e._cache.writeUInt32BE(l[1],u+4),e._cache.writeUInt32BE(l[2],u+8),e._cache.writeUInt32BE(l[3],u+12)}var c=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,c)}},"./node_modules/browserify-aes/modes/ecb.js":function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},"./node_modules/browserify-aes/modes/index.js":function(e,t,n){var r={ECB:n("./node_modules/browserify-aes/modes/ecb.js"),CBC:n("./node_modules/browserify-aes/modes/cbc.js"),CFB:n("./node_modules/browserify-aes/modes/cfb.js"),CFB8:n("./node_modules/browserify-aes/modes/cfb8.js"),CFB1:n("./node_modules/browserify-aes/modes/cfb1.js"),OFB:n("./node_modules/browserify-aes/modes/ofb.js"),CTR:n("./node_modules/browserify-aes/modes/ctr.js"),GCM:n("./node_modules/browserify-aes/modes/ctr.js")},o=n("./node_modules/browserify-aes/modes/list.json");for(var i in o)o[i].module=r[o[i].mode];e.exports=o},"./node_modules/browserify-aes/modes/list.json":function(e){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"./node_modules/browserify-aes/modes/ofb.js":function(e,t,n){(function(e){var r=n("./node_modules/buffer-xor/index.js");function o(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,o(t)]);var i=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,i)}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/browserify-aes/streamCipher.js":function(e,t,n){var r=n("./node_modules/browserify-aes/aes.js"),o=n("./node_modules/safe-buffer/index.js").Buffer,i=n("./node_modules/cipher-base/index.js");function a(e,t,n,a){i.call(this),this._cipher=new r.AES(t),this._prev=o.from(n),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=a,this._mode=e}n("./node_modules/inherits/inherits_browser.js")(a,i),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},"./node_modules/browserify-cipher/browser.js":function(e,t,n){var r=n("./node_modules/browserify-des/index.js"),o=n("./node_modules/browserify-aes/browser.js"),i=n("./node_modules/browserify-aes/modes/index.js"),a=n("./node_modules/browserify-des/modes.js"),s=n("./node_modules/evp_bytestokey/index.js");function l(e,t,n){if(e=e.toLowerCase(),i[e])return o.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function u(e,t,n){if(e=e.toLowerCase(),i[e])return o.createDecipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),i[e])n=i[e].key,r=i[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var o=s(t,!1,n,r);return l(e,o.key,o.iv)},t.createCipheriv=t.Cipheriv=l,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),i[e])n=i[e].key,r=i[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var o=s(t,!1,n,r);return u(e,o.key,o.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(o.getCiphers())}},"./node_modules/browserify-des/index.js":function(e,t,n){var r=n("./node_modules/cipher-base/index.js"),o=n("./node_modules/des.js/lib/des.js"),i=n("./node_modules/inherits/inherits_browser.js"),a=n("./node_modules/safe-buffer/index.js").Buffer,s={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function l(e){r.call(this);var t,n=e.mode.toLowerCase(),o=s[n];t=e.decrypt?"decrypt":"encrypt";var i=e.key;a.isBuffer(i)||(i=a.from(i)),"des-ede"!==n&&"des-ede-cbc"!==n||(i=a.concat([i,i.slice(0,8)]));var l=e.iv;a.isBuffer(l)||(l=a.from(l)),this._des=o.create({key:i,iv:l,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=l,i(l,r),l.prototype._update=function(e){return a.from(this._des.update(e))},l.prototype._final=function(){return a.from(this._des.final())}},"./node_modules/browserify-des/modes.js":function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},"./node_modules/browserify-rsa/index.js":function(e,t,n){(function(t){var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/randombytes/browser.js");function i(e,n){var o=function(e){var t=a(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),i=n.modulus.byteLength(),s=(r.mont(n.modulus),new r(e).mul(o.blinder).umod(n.modulus)),l=s.toRed(r.mont(n.prime1)),u=s.toRed(r.mont(n.prime2)),c=n.coefficient,d=n.prime1,f=n.prime2,h=l.redPow(n.exponent1),p=u.redPow(n.exponent2);h=h.fromRed(),p=p.fromRed();var m=h.isub(p).imul(c).umod(d);return m.imul(f),p.iadd(m),new t(p.imul(o.unblinder).umod(n.modulus).toArray(!1,i))}function a(e){for(var t=e.modulus.byteLength(),n=new r(o(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new r(o(t));return n}e.exports=i,i.getr=a}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/browserify-sign/algos.js":function(e,t,n){e.exports=n("./node_modules/browserify-sign/browser/algorithms.json")},"./node_modules/browserify-sign/browser/algorithms.json":function(e){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},"./node_modules/browserify-sign/browser/curves.json":function(e){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},"./node_modules/browserify-sign/browser/index.js":function(e,t,n){(function(t){var r=n("./node_modules/create-hash/browser.js"),o=n("./node_modules/stream-browserify/index.js"),i=n("./node_modules/inherits/inherits_browser.js"),a=n("./node_modules/browserify-sign/browser/sign.js"),s=n("./node_modules/browserify-sign/browser/verify.js"),l=n("./node_modules/browserify-sign/browser/algorithms.json");function u(e){o.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function c(e){o.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new u(e)}function f(e){return new c(e)}Object.keys(l).forEach(function(e){l[e].id=new t(l[e].id,"hex"),l[e.toLowerCase()]=l[e]}),i(u,o.Writable),u.prototype._write=function(e,t,n){this._hash.update(e),n()},u.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},u.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=a(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},i(c,o.Writable),c.prototype._write=function(e,t,n){this._hash.update(e),n()},c.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},c.prototype.verify=function(e,n,r){"string"==typeof n&&(n=new t(n,r)),this.end();var o=this._hash.digest();return s(n,o,e,this._signType,this._tag)},e.exports={Sign:d,Verify:f,createSign:d,createVerify:f}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/browserify-sign/browser/sign.js":function(e,t,n){(function(t){var r=n("./node_modules/create-hmac/browser.js"),o=n("./node_modules/browserify-rsa/index.js"),i=n("./node_modules/elliptic/lib/elliptic.js").ec,a=n("./node_modules/bn.js/lib/bn.js"),s=n("./node_modules/parse-asn1/index.js"),l=n("./node_modules/browserify-sign/browser/curves.json");function u(e,n,o,i){if((e=new t(e.toArray())).length<n.byteLength()){var a=new t(n.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var s=o.length,l=function(e,n){e=(e=c(e,n)).mod(n);var r=new t(e.toArray());if(r.length<n.byteLength()){var o=new t(n.byteLength()-r.length);o.fill(0),r=t.concat([o,r])}return r}(o,n),u=new t(s);u.fill(1);var d=new t(s);return d.fill(0),d=r(i,d).update(u).update(new t([0])).update(e).update(l).digest(),u=r(i,d).update(u).digest(),{k:d=r(i,d).update(u).update(new t([1])).update(e).update(l).digest(),v:u=r(i,d).update(u).digest()}}function c(e,t){var n=new a(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function d(e,n,o){var i,a;do{for(i=new t(0);8*i.length<e.bitLength();)n.v=r(o,n.k).update(n.v).digest(),i=t.concat([i,n.v]);a=c(i,e),n.k=r(o,n.k).update(n.v).update(new t([0])).digest(),n.v=r(o,n.k).update(n.v).digest()}while(-1!==a.cmp(e));return a}function f(e,t,n,r){return e.toRed(a.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,n,r,h,p){var m=s(n);if(m.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(e,n){var r=l[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var o=new i(r).keyFromPrivate(n.privateKey).sign(e);return new t(o.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==h)throw new Error("wrong private key type");return function(e,n,r){for(var o,i=n.params.priv_key,s=n.params.p,l=n.params.q,h=n.params.g,p=new a(0),m=c(e,l).mod(l),g=!1,v=u(i,l,e,r);!1===g;)o=d(l,v,r),p=f(h,o,s,l),0===(g=o.invm(l).imul(m.add(i.mul(p))).mod(l)).cmpn(0)&&(g=!1,p=new a(0));return function(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n));var r=[48,e.length+n.length+4,2,e.length];return r=r.concat(e,[2,n.length],n),new t(r)}(p,g)}(e,m,r)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");e=t.concat([p,e]);for(var g=m.modulus.byteLength(),v=[0,1];e.length+v.length+1<g;)v.push(255);v.push(0);for(var y=-1;++y<e.length;)v.push(e[y]);return o(v,m)},e.exports.getKey=u,e.exports.makeKey=d}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/browserify-sign/browser/verify.js":function(e,t,n){(function(t){var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/elliptic/lib/elliptic.js").ec,i=n("./node_modules/parse-asn1/index.js"),a=n("./node_modules/browserify-sign/browser/curves.json");function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,n,l,u,c){var d=i(l);if("ec"===d.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var r=a[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),s=n.data.subjectPrivateKey.data;return i.verify(t,e,s)}(e,n,d)}if("dsa"===d.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var o=n.data.p,a=n.data.q,l=n.data.g,u=n.data.pub_key,c=i.signature.decode(e,"der"),d=c.s,f=c.r;s(d,a),s(f,a);var h=r.mont(o),p=d.invm(a);return 0===l.toRed(h).redPow(new r(t).mul(p).mod(a)).fromRed().mul(u.toRed(h).redPow(f.mul(p).mod(a)).fromRed()).mod(o).mod(a).cmp(f)}(e,n,d)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");n=t.concat([c,n]);for(var f=d.modulus.byteLength(),h=[1],p=0;n.length+h.length+2<f;)h.push(255),p++;h.push(0);for(var m=-1;++m<n.length;)h.push(n[m]);h=new t(h);var g=r.mont(d.modulus);e=(e=new r(e).toRed(g)).redPow(new r(d.publicExponent)),e=new t(e.fromRed().toArray());var v=p<8?1:0;for(f=Math.min(e.length,h.length),e.length!==h.length&&(v=1),m=-1;++m<f;)v|=e[m]^h[m];return 0===v}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/buffer-xor/index.js":function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),o=new t(r),i=0;i<r;++i)o[i]=e[i]^n[i];return o}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/buffer/index.js":function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n("./node_modules/base64-js/index.js"),o=n("./node_modules/ieee754/index.js"),i=n("./node_modules/isarray/index.js");function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(u(e,i+f)!==u(t,f)){d=!1;break}if(d)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function _(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return _(e,t,n,r)}function w(e,t,n,r){return q(U(t),e,n,r)}function k(e,t,n,r){return q(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,u=e[o],c=null,d=u>239?4:u>223?3:u>191?2:1;if(o+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&u)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){i=u[d],a=c[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function S(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function j(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function I(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||I(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||I(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:z(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/change-emitter/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createChangeEmitter=function(){var e=[],t=e;function n(){t===e&&(t=e.slice())}return{listen:function(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var r=!0;return n(),t.push(e),function(){if(r){r=!1,n();var o=t.indexOf(e);t.splice(o,1)}}},emit:function(){for(var n=e=t,r=0;r<n.length;r++)n[r].apply(n,arguments)}}}},"./node_modules/cipher-base/index.js":function(e,t,n){var r=n("./node_modules/safe-buffer/index.js").Buffer,o=n("./node_modules/stream-browserify/index.js").Transform,i=n("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;function a(e){o.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n("./node_modules/inherits/inherits_browser.js")(a,o),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var o=this._update(e);return this.hashMode?this:(n&&(o=this._toString(o,n)),o)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new i(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},"./node_modules/classnames/index.js":function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},"./node_modules/component-classes/index.js":function(e,t,n){try{var r=n("./node_modules/component-indexof/index.js")}catch(e){r=n("./node_modules/component-indexof/index.js")}var o=/\s+/,i=Object.prototype.toString;function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"==i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},a.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},"./node_modules/component-indexof/index.js":function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},"./node_modules/core-js/library/fn/array/from.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.string.iterator.js"),n("./node_modules/core-js/library/modules/es6.array.from.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Array.from},"./node_modules/core-js/library/fn/object/assign.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.assign.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Object.assign},"./node_modules/core-js/library/fn/object/create.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.create.js");var r=n("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t){return r.create(e,t)}},"./node_modules/core-js/library/fn/object/define-property.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.define-property.js");var r=n("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},"./node_modules/core-js/library/fn/object/get-own-property-descriptor.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js");var r=n("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},"./node_modules/core-js/library/fn/object/get-prototype-of.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.get-prototype-of.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Object.getPrototypeOf},"./node_modules/core-js/library/fn/object/keys.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.keys.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Object.keys},"./node_modules/core-js/library/fn/object/set-prototype-of.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.set-prototype-of.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Object.setPrototypeOf},"./node_modules/core-js/library/fn/symbol/index.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.symbol.js"),n("./node_modules/core-js/library/modules/es6.object.to-string.js"),n("./node_modules/core-js/library/modules/es7.symbol.async-iterator.js"),n("./node_modules/core-js/library/modules/es7.symbol.observable.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Symbol},"./node_modules/core-js/library/fn/symbol/iterator.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.string.iterator.js"),n("./node_modules/core-js/library/modules/web.dom.iterable.js"),e.exports=n("./node_modules/core-js/library/modules/_wks-ext.js").f("iterator")},"./node_modules/core-js/library/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/library/modules/_add-to-unscopables.js":function(e,t){e.exports=function(){}},"./node_modules/core-js/library/modules/_an-object.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/library/modules/_array-includes.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-iobject.js"),o=n("./node_modules/core-js/library/modules/_to-length.js"),i=n("./node_modules/core-js/library/modules/_to-absolute-index.js");e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},"./node_modules/core-js/library/modules/_classof.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_cof.js"),o=n("./node_modules/core-js/library/modules/_wks.js")("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},"./node_modules/core-js/library/modules/_cof.js":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js/library/modules/_core.js":function(e,t){var n=e.exports={version:"2.6.0"};"number"==typeof __e&&(__e=n)},"./node_modules/core-js/library/modules/_create-property.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_object-dp.js"),o=n("./node_modules/core-js/library/modules/_property-desc.js");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},"./node_modules/core-js/library/modules/_ctx.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_a-function.js");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/library/modules/_defined.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/library/modules/_descriptors.js":function(e,t,n){e.exports=!n("./node_modules/core-js/library/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/library/modules/_dom-create.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_is-object.js"),o=n("./node_modules/core-js/library/modules/_global.js").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"./node_modules/core-js/library/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/library/modules/_enum-keys.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-keys.js"),o=n("./node_modules/core-js/library/modules/_object-gops.js"),i=n("./node_modules/core-js/library/modules/_object-pie.js");e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),l=i.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},"./node_modules/core-js/library/modules/_export.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_global.js"),o=n("./node_modules/core-js/library/modules/_core.js"),i=n("./node_modules/core-js/library/modules/_ctx.js"),a=n("./node_modules/core-js/library/modules/_hide.js"),s=n("./node_modules/core-js/library/modules/_has.js"),l=function(e,t,n){var u,c,d,f=e&l.F,h=e&l.G,p=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=h?o:o[t]||(o[t]={}),b=y.prototype,_=h?r:p?r[t]:(r[t]||{}).prototype;for(u in h&&(n=t),n)(c=!f&&_&&void 0!==_[u])&&s(y,u)||(d=c?_[u]:n[u],y[u]=h&&"function"!=typeof _[u]?n[u]:g&&c?i(d,r):v&&_[u]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[u]=d,e&l.R&&b&&!b[u]&&a(b,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"./node_modules/core-js/library/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/library/modules/_global.js":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"./node_modules/core-js/library/modules/_has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/core-js/library/modules/_hide.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-dp.js"),o=n("./node_modules/core-js/library/modules/_property-desc.js");e.exports=n("./node_modules/core-js/library/modules/_descriptors.js")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/library/modules/_html.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_global.js").document;e.exports=r&&r.documentElement},"./node_modules/core-js/library/modules/_ie8-dom-define.js":function(e,t,n){e.exports=!n("./node_modules/core-js/library/modules/_descriptors.js")&&!n("./node_modules/core-js/library/modules/_fails.js")(function(){return 7!=Object.defineProperty(n("./node_modules/core-js/library/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/library/modules/_iobject.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"./node_modules/core-js/library/modules/_is-array-iter.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_iterators.js"),o=n("./node_modules/core-js/library/modules/_wks.js")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},"./node_modules/core-js/library/modules/_is-array.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"./node_modules/core-js/library/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/library/modules/_iter-call.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_an-object.js");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},"./node_modules/core-js/library/modules/_iter-create.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_object-create.js"),o=n("./node_modules/core-js/library/modules/_property-desc.js"),i=n("./node_modules/core-js/library/modules/_set-to-string-tag.js"),a={};n("./node_modules/core-js/library/modules/_hide.js")(a,n("./node_modules/core-js/library/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},"./node_modules/core-js/library/modules/_iter-define.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_library.js"),o=n("./node_modules/core-js/library/modules/_export.js"),i=n("./node_modules/core-js/library/modules/_redefine.js"),a=n("./node_modules/core-js/library/modules/_hide.js"),s=n("./node_modules/core-js/library/modules/_iterators.js"),l=n("./node_modules/core-js/library/modules/_iter-create.js"),u=n("./node_modules/core-js/library/modules/_set-to-string-tag.js"),c=n("./node_modules/core-js/library/modules/_object-gpo.js"),d=n("./node_modules/core-js/library/modules/_wks.js")("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,g,v){l(n,t,p);var y,b,_,x=function(e){if(!f&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",k="values"==m,E=!1,T=e.prototype,A=T[d]||T["@@iterator"]||m&&T[m],S=A||x(m),M=m?k?x("entries"):S:void 0,C="Array"==t&&T.entries||A;if(C&&(_=c(C.call(new e)))!==Object.prototype&&_.next&&(u(_,w,!0),r||"function"==typeof _[d]||a(_,d,h)),k&&A&&"values"!==A.name&&(E=!0,S=function(){return A.call(this)}),r&&!v||!f&&!E&&T[d]||a(T,d,S),s[t]=S,s[w]=h,m)if(y={values:k?S:x("values"),keys:g?S:x("keys"),entries:M},v)for(b in y)b in T||i(T,b,y[b]);else o(o.P+o.F*(f||E),t,y);return y}},"./node_modules/core-js/library/modules/_iter-detect.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_wks.js")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},"./node_modules/core-js/library/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/library/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/library/modules/_library.js":function(e,t){e.exports=!0},"./node_modules/core-js/library/modules/_meta.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_uid.js")("meta"),o=n("./node_modules/core-js/library/modules/_is-object.js"),i=n("./node_modules/core-js/library/modules/_has.js"),a=n("./node_modules/core-js/library/modules/_object-dp.js").f,s=0,l=Object.isExtensible||function(){return!0},u=!n("./node_modules/core-js/library/modules/_fails.js")(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&d.NEED&&l(e)&&!i(e,r)&&c(e),e}}},"./node_modules/core-js/library/modules/_object-assign.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_object-keys.js"),o=n("./node_modules/core-js/library/modules/_object-gops.js"),i=n("./node_modules/core-js/library/modules/_object-pie.js"),a=n("./node_modules/core-js/library/modules/_to-object.js"),s=n("./node_modules/core-js/library/modules/_iobject.js"),l=Object.assign;e.exports=!l||n("./node_modules/core-js/library/modules/_fails.js")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=o.f,d=i.f;l>u;)for(var f,h=s(arguments[u++]),p=c?r(h).concat(c(h)):r(h),m=p.length,g=0;m>g;)d.call(h,f=p[g++])&&(n[f]=h[f]);return n}:l},"./node_modules/core-js/library/modules/_object-create.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_an-object.js"),o=n("./node_modules/core-js/library/modules/_object-dps.js"),i=n("./node_modules/core-js/library/modules/_enum-bug-keys.js"),a=n("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),s=function(){},l=function(){var e,t=n("./node_modules/core-js/library/modules/_dom-create.js")("iframe"),r=i.length;for(t.style.display="none",n("./node_modules/core-js/library/modules/_html.js").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},"./node_modules/core-js/library/modules/_object-dp.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_an-object.js"),o=n("./node_modules/core-js/library/modules/_ie8-dom-define.js"),i=n("./node_modules/core-js/library/modules/_to-primitive.js"),a=Object.defineProperty;t.f=n("./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/library/modules/_object-dps.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-dp.js"),o=n("./node_modules/core-js/library/modules/_an-object.js"),i=n("./node_modules/core-js/library/modules/_object-keys.js");e.exports=n("./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},"./node_modules/core-js/library/modules/_object-gopd.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-pie.js"),o=n("./node_modules/core-js/library/modules/_property-desc.js"),i=n("./node_modules/core-js/library/modules/_to-iobject.js"),a=n("./node_modules/core-js/library/modules/_to-primitive.js"),s=n("./node_modules/core-js/library/modules/_has.js"),l=n("./node_modules/core-js/library/modules/_ie8-dom-define.js"),u=Object.getOwnPropertyDescriptor;t.f=n("./node_modules/core-js/library/modules/_descriptors.js")?u:function(e,t){if(e=i(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},"./node_modules/core-js/library/modules/_object-gopn-ext.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-iobject.js"),o=n("./node_modules/core-js/library/modules/_object-gopn.js").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},"./node_modules/core-js/library/modules/_object-gopn.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-keys-internal.js"),o=n("./node_modules/core-js/library/modules/_enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"./node_modules/core-js/library/modules/_object-gops.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/library/modules/_object-gpo.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_has.js"),o=n("./node_modules/core-js/library/modules/_to-object.js"),i=n("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"./node_modules/core-js/library/modules/_object-keys-internal.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_has.js"),o=n("./node_modules/core-js/library/modules/_to-iobject.js"),i=n("./node_modules/core-js/library/modules/_array-includes.js")(!1),a=n("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(u,n)||u.push(n));return u}},"./node_modules/core-js/library/modules/_object-keys.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-keys-internal.js"),o=n("./node_modules/core-js/library/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,o)}},"./node_modules/core-js/library/modules/_object-pie.js":function(e,t){t.f={}.propertyIsEnumerable},"./node_modules/core-js/library/modules/_object-sap.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js"),o=n("./node_modules/core-js/library/modules/_core.js"),i=n("./node_modules/core-js/library/modules/_fails.js");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},"./node_modules/core-js/library/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/library/modules/_redefine.js":function(e,t,n){e.exports=n("./node_modules/core-js/library/modules/_hide.js")},"./node_modules/core-js/library/modules/_set-proto.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_is-object.js"),o=n("./node_modules/core-js/library/modules/_an-object.js"),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n("./node_modules/core-js/library/modules/_ctx.js")(Function.call,n("./node_modules/core-js/library/modules/_object-gopd.js").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},"./node_modules/core-js/library/modules/_set-to-string-tag.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-dp.js").f,o=n("./node_modules/core-js/library/modules/_has.js"),i=n("./node_modules/core-js/library/modules/_wks.js")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/library/modules/_shared-key.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_shared.js")("keys"),o=n("./node_modules/core-js/library/modules/_uid.js");e.exports=function(e){return r[e]||(r[e]=o(e))}},"./node_modules/core-js/library/modules/_shared.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_core.js"),o=n("./node_modules/core-js/library/modules/_global.js"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("./node_modules/core-js/library/modules/_library.js")?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/library/modules/_string-at.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-integer.js"),o=n("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},"./node_modules/core-js/library/modules/_to-absolute-index.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-integer.js"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},"./node_modules/core-js/library/modules/_to-integer.js":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"./node_modules/core-js/library/modules/_to-iobject.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_iobject.js"),o=n("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return r(o(e))}},"./node_modules/core-js/library/modules/_to-length.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"./node_modules/core-js/library/modules/_to-object.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return Object(r(e))}},"./node_modules/core-js/library/modules/_to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/library/modules/_uid.js":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"./node_modules/core-js/library/modules/_wks-define.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_global.js"),o=n("./node_modules/core-js/library/modules/_core.js"),i=n("./node_modules/core-js/library/modules/_library.js"),a=n("./node_modules/core-js/library/modules/_wks-ext.js"),s=n("./node_modules/core-js/library/modules/_object-dp.js").f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},"./node_modules/core-js/library/modules/_wks-ext.js":function(e,t,n){t.f=n("./node_modules/core-js/library/modules/_wks.js")},"./node_modules/core-js/library/modules/_wks.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_shared.js")("wks"),o=n("./node_modules/core-js/library/modules/_uid.js"),i=n("./node_modules/core-js/library/modules/_global.js").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},"./node_modules/core-js/library/modules/core.get-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_classof.js"),o=n("./node_modules/core-js/library/modules/_wks.js")("iterator"),i=n("./node_modules/core-js/library/modules/_iterators.js");e.exports=n("./node_modules/core-js/library/modules/_core.js").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},"./node_modules/core-js/library/modules/es6.array.from.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_ctx.js"),o=n("./node_modules/core-js/library/modules/_export.js"),i=n("./node_modules/core-js/library/modules/_to-object.js"),a=n("./node_modules/core-js/library/modules/_iter-call.js"),s=n("./node_modules/core-js/library/modules/_is-array-iter.js"),l=n("./node_modules/core-js/library/modules/_to-length.js"),u=n("./node_modules/core-js/library/modules/_create-property.js"),c=n("./node_modules/core-js/library/modules/core.get-iterator-method.js");o(o.S+o.F*!n("./node_modules/core-js/library/modules/_iter-detect.js")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,d,f=i(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(f);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||h==Array&&s(y))for(n=new h(t=l(f.length));t>v;v++)u(n,v,g?m(f[v],v):f[v]);else for(d=y.call(f),n=new h;!(o=d.next()).done;v++)u(n,v,g?a(d,m,[o.value,v],!0):o.value);return n.length=v,n}})},"./node_modules/core-js/library/modules/es6.array.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_add-to-unscopables.js"),o=n("./node_modules/core-js/library/modules/_iter-step.js"),i=n("./node_modules/core-js/library/modules/_iterators.js"),a=n("./node_modules/core-js/library/modules/_to-iobject.js");e.exports=n("./node_modules/core-js/library/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},"./node_modules/core-js/library/modules/es6.object.assign.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js");r(r.S+r.F,"Object",{assign:n("./node_modules/core-js/library/modules/_object-assign.js")})},"./node_modules/core-js/library/modules/es6.object.create.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js");r(r.S,"Object",{create:n("./node_modules/core-js/library/modules/_object-create.js")})},"./node_modules/core-js/library/modules/es6.object.define-property.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js");r(r.S+r.F*!n("./node_modules/core-js/library/modules/_descriptors.js"),"Object",{defineProperty:n("./node_modules/core-js/library/modules/_object-dp.js").f})},"./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-iobject.js"),o=n("./node_modules/core-js/library/modules/_object-gopd.js").f;n("./node_modules/core-js/library/modules/_object-sap.js")("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},"./node_modules/core-js/library/modules/es6.object.get-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-object.js"),o=n("./node_modules/core-js/library/modules/_object-gpo.js");n("./node_modules/core-js/library/modules/_object-sap.js")("getPrototypeOf",function(){return function(e){return o(r(e))}})},"./node_modules/core-js/library/modules/es6.object.keys.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-object.js"),o=n("./node_modules/core-js/library/modules/_object-keys.js");n("./node_modules/core-js/library/modules/_object-sap.js")("keys",function(){return function(e){return o(r(e))}})},"./node_modules/core-js/library/modules/es6.object.set-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js");r(r.S,"Object",{setPrototypeOf:n("./node_modules/core-js/library/modules/_set-proto.js").set})},"./node_modules/core-js/library/modules/es6.object.to-string.js":function(e,t){},"./node_modules/core-js/library/modules/es6.string.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_string-at.js")(!0);n("./node_modules/core-js/library/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/library/modules/es6.symbol.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_global.js"),o=n("./node_modules/core-js/library/modules/_has.js"),i=n("./node_modules/core-js/library/modules/_descriptors.js"),a=n("./node_modules/core-js/library/modules/_export.js"),s=n("./node_modules/core-js/library/modules/_redefine.js"),l=n("./node_modules/core-js/library/modules/_meta.js").KEY,u=n("./node_modules/core-js/library/modules/_fails.js"),c=n("./node_modules/core-js/library/modules/_shared.js"),d=n("./node_modules/core-js/library/modules/_set-to-string-tag.js"),f=n("./node_modules/core-js/library/modules/_uid.js"),h=n("./node_modules/core-js/library/modules/_wks.js"),p=n("./node_modules/core-js/library/modules/_wks-ext.js"),m=n("./node_modules/core-js/library/modules/_wks-define.js"),g=n("./node_modules/core-js/library/modules/_enum-keys.js"),v=n("./node_modules/core-js/library/modules/_is-array.js"),y=n("./node_modules/core-js/library/modules/_an-object.js"),b=n("./node_modules/core-js/library/modules/_is-object.js"),_=n("./node_modules/core-js/library/modules/_to-iobject.js"),x=n("./node_modules/core-js/library/modules/_to-primitive.js"),w=n("./node_modules/core-js/library/modules/_property-desc.js"),k=n("./node_modules/core-js/library/modules/_object-create.js"),E=n("./node_modules/core-js/library/modules/_object-gopn-ext.js"),T=n("./node_modules/core-js/library/modules/_object-gopd.js"),A=n("./node_modules/core-js/library/modules/_object-dp.js"),S=n("./node_modules/core-js/library/modules/_object-keys.js"),M=T.f,C=A.f,j=E.f,O=r.Symbol,N=r.JSON,R=N&&N.stringify,P=h("_hidden"),I=h("toPrimitive"),D={}.propertyIsEnumerable,L=c("symbol-registry"),B=c("symbols"),F=c("op-symbols"),z=Object.prototype,U="function"==typeof O,q=r.QObject,V=!q||!q.prototype||!q.prototype.findChild,H=i&&u(function(){return 7!=k(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=M(z,t);r&&delete z[t],C(e,t,n),r&&e!==z&&C(z,t,r)}:C,W=function(e){var t=B[e]=k(O.prototype);return t._k=e,t},G=U&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},X=function(e,t,n){return e===z&&X(F,t,n),y(e),t=x(t,!0),y(n),o(B,t)?(n.enumerable?(o(e,P)&&e[P][t]&&(e[P][t]=!1),n=k(n,{enumerable:w(0,!1)})):(o(e,P)||C(e,P,w(1,{})),e[P][t]=!0),H(e,t,n)):C(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=_(t)),o=0,i=r.length;i>o;)X(e,n=r[o++],t[n]);return e},Y=function(e){var t=D.call(this,e=x(e,!0));return!(this===z&&o(B,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(B,e)||o(this,P)&&this[P][e])||t)},$=function(e,t){if(e=_(e),t=x(t,!0),e!==z||!o(B,t)||o(F,t)){var n=M(e,t);return!n||!o(B,t)||o(e,P)&&e[P][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=j(_(e)),r=[],i=0;n.length>i;)o(B,t=n[i++])||t==P||t==l||r.push(t);return r},Q=function(e){for(var t,n=e===z,r=j(n?F:_(e)),i=[],a=0;r.length>a;)!o(B,t=r[a++])||n&&!o(z,t)||i.push(B[t]);return i};U||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(F,n),o(this,P)&&o(this[P],e)&&(this[P][e]=!1),H(this,e,w(1,n))};return i&&V&&H(z,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),T.f=$,A.f=X,n("./node_modules/core-js/library/modules/_object-gopn.js").f=E.f=Z,n("./node_modules/core-js/library/modules/_object-pie.js").f=Y,n("./node_modules/core-js/library/modules/_object-gops.js").f=Q,i&&!n("./node_modules/core-js/library/modules/_library.js")&&s(z,"propertyIsEnumerable",Y,!0),p.f=function(e){return W(h(e))}),a(a.G+a.W+a.F*!U,{Symbol:O});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;J.length>ee;)h(J[ee++]);for(var te=S(h.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=O(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?k(e):K(k(e),t)},defineProperty:X,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),N&&a(a.S+a.F*(!U||u(function(){var e=O();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,R.apply(N,r)}}),O.prototype[I]||n("./node_modules/core-js/library/modules/_hide.js")(O.prototype,I,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},"./node_modules/core-js/library/modules/es7.symbol.async-iterator.js":function(e,t,n){n("./node_modules/core-js/library/modules/_wks-define.js")("asyncIterator")},"./node_modules/core-js/library/modules/es7.symbol.observable.js":function(e,t,n){n("./node_modules/core-js/library/modules/_wks-define.js")("observable")},"./node_modules/core-js/library/modules/web.dom.iterable.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.array.iterator.js");for(var r=n("./node_modules/core-js/library/modules/_global.js"),o=n("./node_modules/core-js/library/modules/_hide.js"),i=n("./node_modules/core-js/library/modules/_iterators.js"),a=n("./node_modules/core-js/library/modules/_wks.js")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],d=c&&c.prototype;d&&!d[a]&&o(d,a,u),i[u]=i.Array}},"./node_modules/core-util-is/lib/util.js":function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/create-ecdh/browser.js":function(e,t,n){(function(t){var r=n("./node_modules/elliptic/lib/elliptic.js"),o=n("./node_modules/bn.js/lib/bn.js");e.exports=function(e){return new a(e)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=i[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,n,r){Array.isArray(e)||(e=e.toArray());var o=new t(e);if(r&&o.length<r){var i=new t(r-o.length);i.fill(0),o=t.concat([i,o])}return n?o.toString(n):o}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new o(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/create-hash/browser.js":function(e,t,n){"use strict";var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/md5.js/index.js"),i=n("./node_modules/ripemd160/index.js"),a=n("./node_modules/sha.js/index.js"),s=n("./node_modules/cipher-base/index.js");function l(e){s.call(this,"digest"),this._hash=e}r(l,s),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new o:"rmd160"===e||"ripemd160"===e?new i:new l(a(e))}},"./node_modules/create-hash/md5.js":function(e,t,n){var r=n("./node_modules/md5.js/index.js");e.exports=function(e){return(new r).update(e).digest()}},"./node_modules/create-hmac/browser.js":function(e,t,n){"use strict";var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/create-hmac/legacy.js"),i=n("./node_modules/cipher-base/index.js"),a=n("./node_modules/safe-buffer/index.js").Buffer,s=n("./node_modules/create-hash/md5.js"),l=n("./node_modules/ripemd160/index.js"),u=n("./node_modules/sha.js/index.js"),c=a.alloc(128);function d(e,t){i.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new l:u(e)).update(t).digest():t.length<n&&(t=a.concat([t,c],n));for(var r=this._ipad=a.allocUnsafe(n),o=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],o[s]=92^t[s];this._hash="rmd160"===e?new l:u(e),this._hash.update(r)}r(d,i),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new l:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",t):"md5"===e?new o(s,t):new d(e,t)}},"./node_modules/create-hmac/legacy.js":function(e,t,n){"use strict";var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/safe-buffer/index.js").Buffer,i=n("./node_modules/cipher-base/index.js"),a=o.alloc(128),s=64;function l(e,t){i.call(this,"digest"),"string"==typeof t&&(t=o.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=o.concat([t,a],s));for(var n=this._ipad=o.allocUnsafe(s),r=this._opad=o.allocUnsafe(s),l=0;l<s;l++)n[l]=54^t[l],r[l]=92^t[l];this._hash=[n]}r(l,i),l.prototype._update=function(e){this._hash.push(e)},l.prototype._final=function(){var e=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,e]))},e.exports=l},"./node_modules/create-react-class/factory.js":function(e,t,n){"use strict";var r=n("./node_modules/object-assign/index.js"),o=n("./node_modules/fbjs/lib/emptyObject.js"),i=n("./node_modules/fbjs/lib/invariant.js"),a="mixins";e.exports=function(e,t,n){var s=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in c;i(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;if(a){var s=u.hasOwnProperty(n)?u[n]:null;return i("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function d(e,t){var n=l.hasOwnProperty(t)?l[t]:null;b.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var u=n[s],f=r.hasOwnProperty(s);if(d(f,s),c.hasOwnProperty(s))c[s](e,u);else{var h=l.hasOwnProperty(s);if("function"!=typeof u||h||f||!1===n.autobind)if(f){var g=l[s];i(h&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,s),"DEFINE_MANY_MERGED"===g?r[s]=p(r[s],u):"DEFINE_MANY"===g&&(r[s]=m(r[s],u))}else r[s]=u;else o.push(s,u),r[s]=u}}}}function h(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return h(o,n),h(o,r),o}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,t){return t.bind(e)}var v={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return r(_.prototype,e.prototype,b),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=g(e,o)}}(this),this.props=e,this.context=r,this.refs=o,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(f.bind(null,t)),f(t,v),f(t,e),f(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[r]||(t.prototype[r]=null);return t}}},"./node_modules/crypto-browserify/index.js":function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n("./node_modules/randombytes/browser.js"),t.createHash=t.Hash=n("./node_modules/create-hash/browser.js"),t.createHmac=t.Hmac=n("./node_modules/create-hmac/browser.js");var r=n("./node_modules/browserify-sign/algos.js"),o=Object.keys(r),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);t.getHashes=function(){return i};var a=n("./node_modules/pbkdf2/browser.js");t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n("./node_modules/browserify-cipher/browser.js");t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var l=n("./node_modules/diffie-hellman/browser.js");t.DiffieHellmanGroup=l.DiffieHellmanGroup,t.createDiffieHellmanGroup=l.createDiffieHellmanGroup,t.getDiffieHellman=l.getDiffieHellman,t.createDiffieHellman=l.createDiffieHellman,t.DiffieHellman=l.DiffieHellman;var u=n("./node_modules/browserify-sign/browser/index.js");t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=n("./node_modules/create-ecdh/browser.js");var c=n("./node_modules/public-encrypt/browser.js");t.publicEncrypt=c.publicEncrypt,t.privateEncrypt=c.privateEncrypt,t.publicDecrypt=c.publicDecrypt,t.privateDecrypt=c.privateDecrypt;var d=n("./node_modules/randomfill/browser.js");t.randomFill=d.randomFill,t.randomFillSync=d.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},"./node_modules/css-loader/index.js!./node_modules/rc-slider/assets/index.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".rc-slider {\n  position: relative;\n  height: 14px;\n  padding: 5px 0;\n  width: 100%;\n  border-radius: 6px;\n  -ms-touch-action: none;\n      touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  background-color: #e9e9e9;\n  height: 4px;\n  border-radius: 6px;\n}\n.rc-slider-track {\n  position: absolute;\n  left: 0;\n  height: 4px;\n  border-radius: 6px;\n  background-color: #abe2fb;\n}\n.rc-slider-handle {\n  position: absolute;\n  margin-left: -7px;\n  margin-top: -5px;\n  width: 14px;\n  height: 14px;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  border-radius: 50%;\n  border: solid 2px #96dbfa;\n  background-color: #fff;\n  -ms-touch-action: pan-x;\n      touch-action: pan-x;\n}\n.rc-slider-handle:focus {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n  outline: none;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n  cursor: pointer;\n  color: #999;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  margin-left: -4px;\n  width: 8px;\n  height: 8px;\n  border: 2px solid #e9e9e9;\n  background-color: #fff;\n  cursor: pointer;\n  border-radius: 50%;\n  vertical-align: middle;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  border-color: #ccc;\n  box-shadow: none;\n  background-color: #fff;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  height: 100%;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track {\n  left: 5px;\n  bottom: 0;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-handle {\n  margin-left: -5px;\n  margin-bottom: -7px;\n  -ms-touch-action: pan-y;\n      touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  height: 100%;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-dot {\n  left: 2px;\n  margin-bottom: -4px;\n}\n.rc-slider-vertical .rc-slider-dot:first-child {\n  margin-bottom: -4px;\n}\n.rc-slider-vertical .rc-slider-dot:last-child {\n  margin-bottom: -4px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  animation-duration: .3s;\n  animation-fill-mode: both;\n  display: block !important;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-duration: .3s;\n  animation-fill-mode: both;\n  display: block !important;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    opacity: 0;\n    transform-origin: 50% 100%;\n    transform: scale(0, 0);\n  }\n  100% {\n    transform-origin: 50% 100%;\n    transform: scale(1, 1);\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform-origin: 50% 100%;\n    transform: scale(1, 1);\n  }\n  100% {\n    opacity: 0;\n    transform-origin: 50% 100%;\n    transform: scale(0, 0);\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  left: -9999px;\n  top: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  padding: 6px 2px;\n  min-width: 24px;\n  height: 24px;\n  font-size: 12px;\n  line-height: 1;\n  color: #fff;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n",""])},"./node_modules/css-loader/lib/css-base.js":function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},"./node_modules/des.js/lib/des.js":function(e,t,n){"use strict";t.utils=n("./node_modules/des.js/lib/des/utils.js"),t.Cipher=n("./node_modules/des.js/lib/des/cipher.js"),t.DES=n("./node_modules/des.js/lib/des/des.js"),t.CBC=n("./node_modules/des.js/lib/des/cbc.js"),t.EDE=n("./node_modules/des.js/lib/des/ede.js")},"./node_modules/des.js/lib/des/cbc.js":function(e,t,n){"use strict";var r=n("./node_modules/minimalistic-assert/index.js"),o=n("./node_modules/inherits/inherits_browser.js"),i={};function a(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}o(t,e);for(var n=Object.keys(i),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=i[a]}return t.create=function(e){return new t(e)},t},i._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},i._update=function(e,t,n,r){var o=this._cbcState,i=this.constructor.super_.prototype,a=o.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];i._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{i._update.call(this,e,t,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},"./node_modules/des.js/lib/des/cipher.js":function(e,t,n){"use strict";var r=n("./node_modules/minimalistic-assert/index.js");function o(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=o,o.prototype._init=function(){},o.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},o.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},o.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(o,n)));for(var i=e.length-(e.length-t)%this.blockSize;t<i;t+=this.blockSize)this._update(e,t,o,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return o},o.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(o,n);return t+=this._buffer(e,t),o},o.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},o.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},o.prototype._unpad=function(e){return e},o.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},"./node_modules/des.js/lib/des/des.js":function(e,t,n){"use strict";var r=n("./node_modules/minimalistic-assert/index.js"),o=n("./node_modules/inherits/inherits_browser.js"),i=n("./node_modules/des.js/lib/des.js"),a=i.utils,s=i.Cipher;function l(){this.tmp=new Array(2),this.keys=null}function u(e){s.call(this,e);var t=new l;this._desState=t,this.deriveKeys(t,e.key)}o(u,s),e.exports=u,u.create=function(e){return new u(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=a.readUInt32BE(t,0),o=a.readUInt32BE(t,4);a.pc1(n,o,e.tmp,0),n=e.tmp[0],o=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var s=c[i>>>1];n=a.r28shl(n,s),o=a.r28shl(o,s),a.pc2(n,o,e.keys,i)}},u.prototype._update=function(e,t,n,r){var o=this._desState,i=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(i,s,o.tmp,0),i=o.tmp[0],s=o.tmp[1],"encrypt"===this.type?this._encrypt(o,i,s,o.tmp,0):this._decrypt(o,i,s,o.tmp,0),i=o.tmp[0],s=o.tmp[1],a.writeUInt32BE(n,i,r),a.writeUInt32BE(n,s,r+4)},u.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},u.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,n,r,o){for(var i=t,s=n,l=0;l<e.keys.length;l+=2){var u=e.keys[l],c=e.keys[l+1];a.expand(s,e.tmp,0),u^=e.tmp[0],c^=e.tmp[1];var d=a.substitute(u,c),f=s;s=(i^a.permute(d))>>>0,i=f}a.rip(s,i,r,o)},u.prototype._decrypt=function(e,t,n,r,o){for(var i=n,s=t,l=e.keys.length-2;l>=0;l-=2){var u=e.keys[l],c=e.keys[l+1];a.expand(i,e.tmp,0),u^=e.tmp[0],c^=e.tmp[1];var d=a.substitute(u,c),f=i;i=(s^a.permute(d))>>>0,s=f}a.rip(i,s,r,o)}},"./node_modules/des.js/lib/des/ede.js":function(e,t,n){"use strict";var r=n("./node_modules/minimalistic-assert/index.js"),o=n("./node_modules/inherits/inherits_browser.js"),i=n("./node_modules/des.js/lib/des.js"),a=i.Cipher,s=i.DES;function l(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),o=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i})]:[s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o}),s.create({type:"decrypt",key:n})]}function u(e){a.call(this,e);var t=new l(this.type,this.options.key);this._edeState=t}o(u,a),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,n,r){var o=this._edeState;o.ciphers[0]._update(e,t,n,r),o.ciphers[1]._update(n,r,n,r),o.ciphers[2]._update(n,r,n,r)},u.prototype._pad=s.prototype._pad,u.prototype._unpad=s.prototype._unpad},"./node_modules/des.js/lib/des/utils.js":function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var o=0,i=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)o<<=1,o|=t>>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)i<<=1,i|=t>>>s+a&1;for(s=1;s<=25;s+=8)i<<=1,i|=e>>>s+a&1}n[r+0]=o>>>0,n[r+1]=i>>>0},t.rip=function(e,t,n,r){for(var o=0,i=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;n[r+0]=o>>>0,n[r+1]=i>>>0},t.pc1=function(e,t,n,r){for(var o=0,i=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;n[r+0]=o>>>0,n[r+1]=i>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,o){for(var i=0,a=0,s=r.length>>>1,l=0;l<s;l++)i<<=1,i|=e>>>r[l]&1;for(l=s;l<r.length;l++)a<<=1,a|=t>>>r[l]&1;n[o+0]=i>>>0,n[o+1]=a>>>0},t.expand=function(e,t,n){var r=0,o=0;r=(1&e)<<5|e>>>27;for(var i=23;i>=15;i-=4)r<<=6,r|=e>>>i&63;for(i=11;i>=3;i-=4)o|=e>>>i&63,o<<=6;o|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=o>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){n<<=4,n|=o[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=o[256+64*r+(t>>>18-6*r&63)]}return n>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<i.length;n++)t<<=1,t|=e>>>i[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var o=[],i=0;i<t;i+=n)o.push(r.slice(i,i+n));return o.join(" ")}},"./node_modules/diffie-hellman/browser.js":function(e,t,n){(function(e){var r=n("./node_modules/diffie-hellman/lib/generatePrime.js"),o=n("./node_modules/diffie-hellman/lib/primes.json"),i=n("./node_modules/diffie-hellman/lib/dh.js");var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(o[t].prime,"hex"),r=new e(o[t].gen,"hex");return new i(n,r)},t.createDiffieHellman=t.DiffieHellman=function t(n,o,s,l){return e.isBuffer(o)||void 0===a[o]?t(n,"binary",o,s):(o=o||"binary",l=l||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,l)),"number"==typeof n?new i(r(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,o)),new i(n,s,!0)))}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/diffie-hellman/lib/dh.js":function(e,t,n){(function(t){var r=n("./node_modules/bn.js/lib/bn.js"),o=new(n("./node_modules/miller-rabin/lib/mr.js")),i=new r(24),a=new r(11),s=new r(10),l=new r(3),u=new r(7),c=n("./node_modules/diffie-hellman/lib/generatePrime.js"),d=n("./node_modules/randombytes/browser.js");function f(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new r(e),this}function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new r(e),this}e.exports=m;var p={};function m(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=f,this.setPrivateKey=h):this._primeCode=8}function g(e,n){var r=new t(e.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var d,f=0;if(e.isEven()||!c.simpleSieve||!c.fermatTest(e)||!o.test(e))return f+=1,f+="02"===n||"05"===n?8:4,p[r]=f,f;switch(o.test(e.shrn(1))||(f+=2),n){case"02":e.mod(i).cmp(a)&&(f+=8);break;case"05":(d=e.mod(s)).cmp(l)&&d.cmp(u)&&(f+=8);break;default:f+=4}return p[r]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var n=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),o=new t(n.toArray()),i=this.getPrime();if(o.length<i.length){var a=new t(i.length-o.length);a.fill(0),o=t.concat([a,o])}return o},m.prototype.getPublicKey=function(e){return g(this._pub,e)},m.prototype.getPrivateKey=function(e){return g(this._priv,e)},m.prototype.getPrime=function(e){return g(this.__prime,e)},m.prototype.getGenerator=function(e){return g(this._gen,e)},m.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new r(e),this}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/diffie-hellman/lib/generatePrime.js":function(e,t,n){var r=n("./node_modules/randombytes/browser.js");e.exports=y,y.simpleSieve=g,y.fermatTest=v;var o=n("./node_modules/bn.js/lib/bn.js"),i=new o(24),a=new(n("./node_modules/miller-rabin/lib/mr.js")),s=new o(1),l=new o(2),u=new o(5),c=(new o(16),new o(8),new o(10)),d=new o(3),f=(new o(7),new o(11)),h=new o(4),p=(new o(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),o=0;o<t&&e[o]<=r&&n%e[o]!=0;o++);t!==o&&e[o]<=r||(e[t++]=n)}return p=e,e}function g(e){for(var t=m(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function v(e){var t=o.mont(e);return 0===l.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new o(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new o(t);;){for(n=new o(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(l),t.cmp(l)){if(!t.cmp(u))for(;n.mod(c).cmp(d);)n.iadd(h)}else for(;n.mod(i).cmp(f);)n.iadd(h);if(g(p=n.shrn(1))&&g(n)&&v(p)&&v(n)&&a.test(p)&&a.test(n))return n}}},"./node_modules/diffie-hellman/lib/primes.json":function(e){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},"./node_modules/elliptic/lib/elliptic.js":function(e,t,n){"use strict";var r=t;r.version=n("./node_modules/elliptic/package.json").version,r.utils=n("./node_modules/elliptic/lib/elliptic/utils.js"),r.rand=n("./node_modules/brorand/index.js"),r.curve=n("./node_modules/elliptic/lib/elliptic/curve/index.js"),r.curves=n("./node_modules/elliptic/lib/elliptic/curves.js"),r.ec=n("./node_modules/elliptic/lib/elliptic/ec/index.js"),r.eddsa=n("./node_modules/elliptic/lib/elliptic/eddsa/index.js")},"./node_modules/elliptic/lib/elliptic/curve/base.js":function(e,t,n){"use strict";var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/elliptic/lib/elliptic.js").utils,i=o.getNAF,a=o.getJSF,s=o.assert;function l(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=i(t,1),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;for(var a=[],l=0;l<r.length;l+=n.step){var u=0;for(t=l+n.step-1;t>=l;t--)u=(u<<1)+r[t];a.push(u)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=o;f>0;f--){for(l=0;l<a.length;l++){(u=a[l])===f?d=d.mixedAdd(n.points[l]):u===-f&&(d=d.mixedAdd(n.points[l].neg()))}c=c.add(d)}return c.toP()},l.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var o=r.points,a=i(t,n),l=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(t=0;u>=0&&0===a[u];u--)t++;if(u>=0&&t++,l=l.dblp(t),u<0)break;var c=a[u];s(0!==c),l="affine"===e.type?c>0?l.mixedAdd(o[c-1>>1]):l.mixedAdd(o[-c-1>>1].neg()):c>0?l.add(o[c-1>>1]):l.add(o[-c-1>>1].neg())}return"affine"===e.type?l.toP():l},l.prototype._wnafMulAdd=function(e,t,n,r,o){for(var s=this._wnafT1,l=this._wnafT2,u=this._wnafT3,c=0,d=0;d<r;d++){var f=(T=t[d])._getNAFPoints(e);s[d]=f.wnd,l[d]=f.points}for(d=r-1;d>=1;d-=2){var h=d-1,p=d;if(1===s[h]&&1===s[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=a(n[h],n[p]);c=Math.max(v[0].length,c),u[h]=new Array(c),u[p]=new Array(c);for(var y=0;y<c;y++){var b=0|v[0][y],_=0|v[1][y];u[h][y]=g[3*(b+1)+(_+1)],u[p][y]=0,l[h]=m}}else u[h]=i(n[h],s[h]),u[p]=i(n[p],s[p]),c=Math.max(u[h].length,c),c=Math.max(u[p].length,c)}var x=this.jpoint(null,null,null),w=this._wnafT4;for(d=c;d>=0;d--){for(var k=0;d>=0;){var E=!0;for(y=0;y<r;y++)w[y]=0|u[y][d],0!==w[y]&&(E=!1);if(!E)break;k++,d--}if(d>=0&&k++,x=x.dblp(k),d<0)break;for(y=0;y<r;y++){var T,A=w[y];0!==A&&(A>0?T=l[y][A-1>>1]:A<0&&(T=l[y][-A-1>>1].neg()),x="affine"===T.type?x.mixedAdd(T):x.add(T))}}for(d=0;d<r;d++)l[d]=null;return o?x:x.toP()},l.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(e,t){e=o.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return o.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,o=0;o<t;o+=e){for(var i=0;i<e;i++)r=r.dbl();n.push(r)}return{step:e,points:n}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),o=1;o<n;o++)t[o]=t[o-1].add(r);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},"./node_modules/elliptic/lib/elliptic/curve/edwards.js":function(e,t,n){"use strict";var r=n("./node_modules/elliptic/lib/elliptic/curve/index.js"),o=n("./node_modules/elliptic/lib/elliptic.js"),i=n("./node_modules/bn.js/lib/bn.js"),a=n("./node_modules/inherits/inherits_browser.js"),s=r.base,l=o.utils.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,n,r,o){s.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(u,s),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var l=s.fromRed().isOdd();return(t&&!l||!t&&l)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(o)},a(c,s.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,n,r){return new c(this,e,t,n,r)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),i=r.redAdd(t),a=i.redSub(n),s=r.redSub(t),l=o.redMul(a),u=i.redMul(s),c=o.redMul(s),d=a.redMul(i);return this.curve.point(l,u,d,c)},c.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),i=this.y.redSqr();if(this.curve.twisted){var a=(u=this.curve._mulA(o)).redAdd(i);if(this.zOne)e=r.redSub(o).redSub(i).redMul(a.redSub(this.curve.two)),t=a.redMul(u.redSub(i)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),l=a.redSub(s).redISub(s);e=r.redSub(o).redISub(i).redMul(l),t=a.redMul(u.redSub(i)),n=a.redMul(l)}}else{var u=o.redAdd(i);s=this.curve._mulC(this.z).redSqr(),l=u.redSub(s).redSub(s);e=this.curve._mulC(r.redISub(u)).redMul(l),t=this.curve._mulC(u).redMul(o.redISub(i)),n=u.redMul(l)}return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),i=n.redSub(t),a=o.redSub(r),s=o.redAdd(r),l=n.redAdd(t),u=i.redMul(a),c=s.redMul(l),d=i.redMul(l),f=a.redMul(s);return this.curve.point(u,c,f,d)},c.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),o=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),l=o.redSub(s),u=o.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),d=r.redMul(l).redMul(c);return this.curve.twisted?(t=r.redMul(u).redMul(a.redSub(this.curve._mulA(i))),n=l.redMul(u)):(t=r.redMul(u).redMul(a.redSub(i)),n=this.curve._mulC(l).redMul(u)),this.curve.point(d,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},"./node_modules/elliptic/lib/elliptic/curve/index.js":function(e,t,n){"use strict";var r=t;r.base=n("./node_modules/elliptic/lib/elliptic/curve/base.js"),r.short=n("./node_modules/elliptic/lib/elliptic/curve/short.js"),r.mont=n("./node_modules/elliptic/lib/elliptic/curve/mont.js"),r.edwards=n("./node_modules/elliptic/lib/elliptic/curve/edwards.js")},"./node_modules/elliptic/lib/elliptic/curve/mont.js":function(e,t,n){"use strict";var r=n("./node_modules/elliptic/lib/elliptic/curve/index.js"),o=n("./node_modules/bn.js/lib/bn.js"),i=n("./node_modules/inherits/inherits_browser.js"),a=r.base,s=n("./node_modules/elliptic/lib/elliptic.js").utils;function l(e){a.call(this,"mont",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,n){a.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(t,16),this.z=new o(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(l,a),e.exports=l,l.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(u,a.BasePoint),l.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},l.prototype.point=function(e,t){return new u(this,e,t)},l.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),o=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,o)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),o=e.x.redAdd(e.z),i=e.x.redSub(e.z).redMul(n),a=o.redMul(r),s=t.z.redMul(i.redAdd(a).redSqr()),l=t.x.redMul(i.redISub(a).redSqr());return this.curve.point(s,l)},u.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),o=[];0!==t.cmpn(0);t.iushrn(1))o.push(t.andln(1));for(var i=o.length-1;i>=0;i--)0===o[i]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},"./node_modules/elliptic/lib/elliptic/curve/short.js":function(e,t,n){"use strict";var r=n("./node_modules/elliptic/lib/elliptic/curve/index.js"),o=n("./node_modules/elliptic/lib/elliptic.js"),i=n("./node_modules/bn.js/lib/bn.js"),a=n("./node_modules/inherits/inherits_browser.js"),s=r.base,l=o.utils.assert;function u(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,r){s.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(e,t,n,r){s.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(u,s),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],l(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map(function(e){return{a:new i(e.a,16),b:new i(e.b,16)}}):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,s,l,u,c,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),p=new i(1),m=new i(0),g=new i(0),v=new i(1),y=0;0!==f.cmpn(0);){var b=h.div(f);u=h.sub(b.mul(f)),c=g.sub(b.mul(p));var _=v.sub(b.mul(m));if(!r&&u.cmp(d)<0)t=l.neg(),n=p,r=u.neg(),o=c;else if(r&&2==++y)break;l=u,h=f,f=u,g=p,p=c,v=m,m=_}a=u.neg(),s=c;var x=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(x)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],o=r.b.mul(e).divRound(this.n),i=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),s=i.mul(r.a),l=o.mul(n.b),u=i.mul(r.b);return{k1:e.sub(a).sub(s),k2:l.add(u).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(o).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,o=this._endoWnafT2,i=0;i<e.length;i++){var a=this._endoSplit(t[i]),s=e[i],l=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),r[2*i]=s,r[2*i+1]=l,o[2*i]=a.k1,o[2*i+1]=a.k2}for(var u=this._wnafMulAdd(1,r,o,2*i,n),c=0;c<2*i;c++)r[c]=null,o[c]=null;return u},a(c,s.BasePoint),u.prototype.point=function(e,t,n){return new c(this,e,t,n)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function o(t){return e.point(t[0],t[1],n)}var i=t[2];return r.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[r].concat(i.doubles.points.map(o))},naf:i.naf&&{wnd:i.naf.wnd,points:[r].concat(i.naf.points.map(o))}},r},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),i=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var r=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,o):this.curve._wnafMulAdd(1,r,o,2)},c.prototype.jmulAdd=function(e,t,n){var r=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,o,!0):this.curve._wnafMulAdd(1,r,o,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(d,s.BasePoint),u.prototype.jpoint=function(e,t,n){return new d(this,e,t,n)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),o=e.x.redMul(n),i=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(o),l=i.redSub(a);if(0===s.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),d=r.redMul(u),f=l.redSqr().redIAdd(c).redISub(d).redISub(d),h=l.redMul(d.redISub(f)).redISub(i.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,h,p)},d.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),o=this.y,i=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=o.redSub(i);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),c=n.redMul(l),d=s.redSqr().redIAdd(u).redISub(c).redISub(c),f=s.redMul(c.redISub(d)).redISub(o.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(d,f,h)},d.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var r=this.curve.a,o=this.curve.tinv,i=this.x,a=this.y,s=this.z,l=s.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var c=i.redSqr(),d=u.redSqr(),f=d.redSqr(),h=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(l)),p=i.redMul(d),m=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=h.redMul(g);v=v.redIAdd(v).redISub(f);var y=u.redMul(s);n+1<e&&(l=l.redMul(f)),i=m,s=y,u=v}return this.curve.jpoint(i,u.redMul(o),s)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(r).redISub(i);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),l=s.redSqr().redISub(a).redISub(a),u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),e=l,t=s.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(c).redISub(f);h=h.redIAdd(h);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},d.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(r).redISub(i);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),l=s.redSqr().redISub(a).redISub(a);e=l;var u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),h=this.x.redSub(c).redMul(this.x.redAdd(c));h=h.redAdd(h).redIAdd(h);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(c);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=h.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},d.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,o=r.redSqr().redSqr(),i=t.redSqr(),a=n.redSqr(),s=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(o)),l=t.redAdd(t),u=(l=l.redIAdd(l)).redMul(a),c=s.redSqr().redISub(u.redAdd(u)),d=u.redISub(c),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=s.redMul(d).redISub(f),p=n.redAdd(n).redMul(r);return this.curve.jpoint(c,h,p)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),o=e.redAdd(e).redIAdd(e),i=o.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(i)).redSqr(),l=r.redIAdd(r);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=o.redIAdd(a).redSqr().redISub(i).redISub(s).redISub(l),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.x.redMul(s).redISub(c);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(d,f,h)},d.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},d.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),o=n.redMul(e.z);return 0===this.y.redMul(o).redISub(e.y.redMul(r)).cmpn(0)},d.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),o=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),0===this.x.cmp(n))return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},"./node_modules/elliptic/lib/elliptic/curves.js":function(e,t,n){"use strict";var r,o=t,i=n("./node_modules/hash.js/lib/hash.js"),a=n("./node_modules/elliptic/lib/elliptic.js"),s=a.utils.assert;function l(e){"short"===e.type?this.curve=new a.curve.short(e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(o,e,{configurable:!0,enumerable:!0,get:function(){var n=new l(t);return Object.defineProperty(o,e,{configurable:!0,enumerable:!0,value:n}),n}})}o.PresetCurve=l,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n("./node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js")}catch(e){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},"./node_modules/elliptic/lib/elliptic/ec/index.js":function(e,t,n){"use strict";var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/hmac-drbg/lib/hmac-drbg.js"),i=n("./node_modules/elliptic/lib/elliptic.js"),a=i.utils.assert,s=n("./node_modules/elliptic/lib/elliptic/ec/key.js"),l=n("./node_modules/elliptic/lib/elliptic/ec/signature.js");function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(a(i.curves.hasOwnProperty(e),"Unknown curve "+e),e=i.curves[e]),e instanceof i.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=u,u.prototype.keyPair=function(e){return new s(this,e)},u.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){e||(e={});for(var t=new o({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||i.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new r(2));;){var s=new r(t.generate(n));if(!(s.cmp(a)>0))return s.iaddn(1),this.keyFromPrivate(s)}},u.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(e,t,n,i){"object"==typeof n&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),u=e.toArray("be",a),c=new o({hash:this.hash,entropy:s,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new r(1)),f=0;;f++){var h=i.k?i.k(f):new r(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=h.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return i.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new l({r:g,s:v,recoveryParam:y})}}}}}},u.prototype.verify=function(e,t,n,o){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,o);var i=(t=new l(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),c=u.mul(e).umod(this.n),d=u.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),d)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,n.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},u.prototype.recoverPubKey=function(e,t,n,o){a((3&n)===n,"The recovery param is more than two bits"),t=new l(t,o);var i=this.n,s=new r(e),u=t.r,c=t.s,d=1&n,f=n>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");u=f?this.curve.pointFromX(u.add(this.curve.n),d):this.curve.pointFromX(u,d);var h=t.r.invm(i),p=i.sub(s).mul(h).umod(i),m=c.mul(h).umod(i);return this.g.mulAdd(p,u,m)},u.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new l(t,r)).recoveryParam)return t.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(n))return o}throw new Error("Unable to find valid recovery factor")}},"./node_modules/elliptic/lib/elliptic/ec/key.js":function(e,t,n){"use strict";var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/elliptic/lib/elliptic.js").utils.assert;function i(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=i,i.fromPublic=function(e,t,n){return t instanceof i?t:new i(e,{pub:t,pubEnc:n})},i.fromPrivate=function(e,t,n){return t instanceof i?t:new i(e,{priv:t,privEnc:n})},i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},i.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?o(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||o(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},i.prototype.derive=function(e){return e.mul(this.priv).getX()},i.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},"./node_modules/elliptic/lib/elliptic/ec/signature.js":function(e,t,n){"use strict";var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/elliptic/lib/elliptic.js").utils,i=o.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(i(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function l(e,t){var n=e[t.place++];if(!(128&n))return n;for(var r=15&n,o=0,i=0,a=t.place;i<r;i++,a++)o<<=8,o|=e[a];return t.place=a,o}function u(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function c(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=o.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;if(l(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var i=l(e,n),a=e.slice(n.place,i+n.place);if(n.place+=i,2!==e[n.place++])return!1;var u=l(e,n);if(e.length!==u+n.place)return!1;var c=e.slice(n.place,u+n.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===c[0]&&128&c[1]&&(c=c.slice(1)),this.r=new r(a),this.s=new r(c),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=u(t),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];c(r,t.length),(r=r.concat(t)).push(2),c(r,n.length);var i=r.concat(n),a=[48];return c(a,i.length),a=a.concat(i),o.encode(a,e)}},"./node_modules/elliptic/lib/elliptic/eddsa/index.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash.js"),o=n("./node_modules/elliptic/lib/elliptic.js"),i=o.utils,a=i.assert,s=i.parseBytes,l=n("./node_modules/elliptic/lib/elliptic/eddsa/key.js"),u=n("./node_modules/elliptic/lib/elliptic/eddsa/signature.js");function c(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=o.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=c,c.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),o=this.g.mul(r),i=this.encodePoint(o),a=this.hashInt(i,n.pubBytes(),e).mul(n.priv()),l=r.add(a).umod(this.curve.n);return this.makeSignature({R:o,S:l,Rencoded:i})},c.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),o=this.hashInt(t.Rencoded(),r.pubBytes(),e),i=this.g.mul(t.S());return t.R().add(r.pub().mul(o)).eq(i)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return i.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return l.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return l.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=i.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),o=i.intFromLE(n);return this.curve.pointFromY(o,r)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return i.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},"./node_modules/elliptic/lib/elliptic/eddsa/key.js":function(e,t,n){"use strict";var r=n("./node_modules/elliptic/lib/elliptic.js").utils,o=r.assert,i=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=i(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=i(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),a(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return o(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},"./node_modules/elliptic/lib/elliptic/eddsa/signature.js":function(e,t,n){"use strict";var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/elliptic/lib/elliptic.js").utils,i=o.assert,a=o.cachedProperty,s=o.parseBytes;function l(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=l},"./node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js":function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},"./node_modules/elliptic/lib/elliptic/utils.js":function(e,t,n){"use strict";var r=t,o=n("./node_modules/bn.js/lib/bn.js"),i=n("./node_modules/minimalistic-assert/index.js"),a=n("./node_modules/minimalistic-crypto-utils/lib/utils.js");r.assert=i,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t){for(var n=[],r=1<<t+1,o=e.clone();o.cmpn(1)>=0;){var i;if(o.isOdd()){var a=o.andln(r-1);i=a>(r>>1)-1?(r>>1)-a:a,o.isubn(i)}else i=0;n.push(i);for(var s=0!==o.cmpn(0)&&0===o.andln(r-1)?t+1:1,l=1;l<s;l++)n.push(0);o.iushrn(s)}return n},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,o=0;e.cmpn(-r)>0||t.cmpn(-o)>0;){var i,a,s,l=e.andln(3)+r&3,u=t.andln(3)+o&3;3===l&&(l=-1),3===u&&(u=-1),i=0==(1&l)?0:3!=(s=e.andln(7)+r&7)&&5!==s||2!==u?l:-l,n[0].push(i),a=0==(1&u)?0:3!=(s=t.andln(7)+o&7)&&5!==s||2!==l?u:-u,n[1].push(a),2*r===i+1&&(r=1-r),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new o(e,"hex","le")}},"./node_modules/elliptic/package.json":function(e){e.exports={name:"elliptic",version:"6.4.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}},"./node_modules/events/events.js":function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/evp_bytestokey/index.js":function(e,t,n){var r=n("./node_modules/safe-buffer/index.js").Buffer,o=n("./node_modules/md5.js/index.js");e.exports=function(e,t,n,i){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),l=r.alloc(i||0),u=r.alloc(0);a>0||i>0;){var c=new o;c.update(u),c.update(e),t&&c.update(t),u=c.digest();var d=0;if(a>0){var f=s.length-a;d=Math.min(a,u.length),u.copy(s,f,0,d),a-=d}if(d<u.length&&i>0){var h=l.length-i,p=Math.min(i,u.length-d);u.copy(l,h,d,d+p),i-=p}}return u.fill(0),{key:s,iv:l}}},"./node_modules/exenv/index.js":function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},"./node_modules/fbjs/lib/emptyFunction.js":function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},"./node_modules/fbjs/lib/emptyObject.js":function(e,t,n){"use strict";e.exports={}},"./node_modules/fbjs/lib/hyphenate.js":function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},"./node_modules/fbjs/lib/hyphenateStyleName.js":function(e,t,n){"use strict";var r=n("./node_modules/fbjs/lib/hyphenate.js"),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},"./node_modules/fbjs/lib/invariant.js":function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,i,a,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,l],d=0;(u=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},"./node_modules/fbjs/lib/shallowEqual.js":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}},"./node_modules/fbjs/lib/warning.js":function(e,t,n){"use strict";var r=n("./node_modules/fbjs/lib/emptyFunction.js");e.exports=r},"./node_modules/hash-base/index.js":function(e,t,n){"use strict";var r=n("./node_modules/safe-buffer/index.js").Buffer,o=n("./node_modules/stream-browserify/index.js").Transform;function i(e){o.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n("./node_modules/inherits/inherits_browser.js")(i,o),i.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,o=0;this._blockOffset+e.length-o>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)n[i++]=e[o++];this._update(),this._blockOffset=0}for(;o<e.length;)n[this._blockOffset++]=e[o++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i},"./node_modules/hash.js/lib/hash.js":function(e,t,n){var r=t;r.utils=n("./node_modules/hash.js/lib/hash/utils.js"),r.common=n("./node_modules/hash.js/lib/hash/common.js"),r.sha=n("./node_modules/hash.js/lib/hash/sha.js"),r.ripemd=n("./node_modules/hash.js/lib/hash/ripemd.js"),r.hmac=n("./node_modules/hash.js/lib/hash/hmac.js"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},"./node_modules/hash.js/lib/hash/common.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js"),o=n("./node_modules/minimalistic-assert/index.js");function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=i,i.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var o=1;o<n;o++)r[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=e>>>24&255,r[o++]=e>>>16&255,r[o++]=e>>>8&255,r[o++]=255&e}else for(r[o++]=255&e,r[o++]=e>>>8&255,r[o++]=e>>>16&255,r[o++]=e>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,i=8;i<this.padLength;i++)r[o++]=0;return r}},"./node_modules/hash.js/lib/hash/hmac.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js"),o=n("./node_modules/minimalistic-assert/index.js");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},"./node_modules/hash.js/lib/hash/ripemd.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js"),o=n("./node_modules/hash.js/lib/hash/common.js"),i=r.rotl32,a=r.sum32,s=r.sum32_3,l=r.sum32_4,u=o.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(c,u),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],o=this.h[2],u=this.h[3],c=this.h[4],y=n,b=r,_=o,x=u,w=c,k=0;k<80;k++){var E=a(i(l(n,d(k,r,o,u),e[p[k]+t],f(k)),g[k]),c);n=c,c=u,u=i(o,10),o=r,r=E,E=a(i(l(y,d(79-k,b,_,x),e[m[k]+t],h(k)),v[k]),w),y=w,w=x,x=i(_,10),_=b,b=E}E=s(this.h[1],o,x),this.h[1]=s(this.h[2],u,w),this.h[2]=s(this.h[3],c,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,_),this.h[0]=E},c.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},"./node_modules/hash.js/lib/hash/sha.js":function(e,t,n){"use strict";t.sha1=n("./node_modules/hash.js/lib/hash/sha/1.js"),t.sha224=n("./node_modules/hash.js/lib/hash/sha/224.js"),t.sha256=n("./node_modules/hash.js/lib/hash/sha/256.js"),t.sha384=n("./node_modules/hash.js/lib/hash/sha/384.js"),t.sha512=n("./node_modules/hash.js/lib/hash/sha/512.js")},"./node_modules/hash.js/lib/hash/sha/1.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js"),o=n("./node_modules/hash.js/lib/hash/common.js"),i=n("./node_modules/hash.js/lib/hash/sha/common.js"),a=r.rotl32,s=r.sum32,l=r.sum32_5,u=i.ft_1,c=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,c),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var o=this.h[0],i=this.h[1],c=this.h[2],f=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=l(a(o,5),u(p,i,c,f),h,n[r],d[p]);h=f,f=c,c=a(i,30),i=o,o=m}this.h[0]=s(this.h[0],o),this.h[1]=s(this.h[1],i),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],h)},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},"./node_modules/hash.js/lib/hash/sha/224.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js"),o=n("./node_modules/hash.js/lib/hash/sha/256.js");function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(i,o),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},"./node_modules/hash.js/lib/hash/sha/256.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js"),o=n("./node_modules/hash.js/lib/hash/common.js"),i=n("./node_modules/hash.js/lib/hash/sha/common.js"),a=n("./node_modules/minimalistic-assert/index.js"),s=r.sum32,l=r.sum32_4,u=r.sum32_5,c=i.ch32,d=i.maj32,f=i.s0_256,h=i.s1_256,p=i.g0_256,m=i.g1_256,g=o.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=l(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var o=this.h[0],i=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],_=this.h[6],x=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var w=u(x,h(y),c(y,b,_),this.k[r],n[r]),k=s(f(o),d(o,i,g));x=_,_=b,b=y,y=s(v,w),v=g,g=i,i=o,o=s(w,k)}this.h[0]=s(this.h[0],o),this.h[1]=s(this.h[1],i),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],v),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],x)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},"./node_modules/hash.js/lib/hash/sha/384.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js"),o=n("./node_modules/hash.js/lib/hash/sha/512.js");function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(i,o),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},"./node_modules/hash.js/lib/hash/sha/512.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js"),o=n("./node_modules/hash.js/lib/hash/common.js"),i=n("./node_modules/minimalistic-assert/index.js"),a=r.rotr64_hi,s=r.rotr64_lo,l=r.shr64_hi,u=r.shr64_lo,c=r.sum64,d=r.sum64_hi,f=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,v=o.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function _(e,t,n,r,o){var i=e&n^~e&o;return i<0&&(i+=4294967296),i}function x(e,t,n,r,o,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function w(e,t,n,r,o){var i=e&n^e&o^n&o;return i<0&&(i+=4294967296),i}function k(e,t,n,r,o,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function E(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function S(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function M(e,t){var n=a(e,t,1)^a(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=s(e,t,1)^s(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function j(e,t){var n=a(e,t,19)^a(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}function O(e,t){var n=s(e,t,19)^s(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var o=j(n[r-4],n[r-3]),i=O(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],l=M(n[r-30],n[r-29]),u=C(n[r-30],n[r-29]),c=n[r-32],d=n[r-31];n[r]=h(o,i,a,s,l,u,c,d),n[r+1]=p(o,i,a,s,l,u,c,d)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],l=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],M=this.h[11],C=this.h[12],j=this.h[13],O=this.h[14],N=this.h[15];i(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var P=O,I=N,D=A(v,y),L=S(v,y),B=_(v,y,b,M,C),F=x(v,y,b,M,C,j),z=this.k[R],U=this.k[R+1],q=n[R],V=n[R+1],H=m(P,I,D,L,B,F,z,U,q,V),W=g(P,I,D,L,B,F,z,U,q,V);P=E(r,o),I=T(r,o),D=w(r,o,a,s,l),L=k(r,o,a,s,l,u);var G=d(P,I,D,L),X=f(P,I,D,L);O=C,N=j,C=b,j=M,b=v,M=y,v=d(h,p,H,W),y=f(p,p,H,W),h=l,p=u,l=a,u=s,a=r,s=o,r=d(H,W,G,X),o=f(H,W,G,X)}c(this.h,0,r,o),c(this.h,2,a,s),c(this.h,4,l,u),c(this.h,6,h,p),c(this.h,8,v,y),c(this.h,10,b,M),c(this.h,12,C,j),c(this.h,14,O,N)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},"./node_modules/hash.js/lib/hash/sha/common.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash/utils.js").rotr32;function o(e,t,n){return e&t^~e&n}function i(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?o(t,n,r):1===e||3===e?a(t,n,r):2===e?i(t,n,r):void 0},t.ch32=o,t.maj32=i,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},"./node_modules/hash.js/lib/hash/utils.js":function(e,t,n){"use strict";var r=n("./node_modules/minimalistic-assert/index.js"),o=n("./node_modules/inherits/inherits_browser.js");function i(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=o,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)n.push(parseInt(e[o]+e[o+1],16))}else for(var r=0,o=0;o<e.length;o++){var a=e.charCodeAt(o);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):i(e,o)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++o)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(o=0;o<e.length;o++)n[o]=0|e[o];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e[r];"little"===t&&(o=a(o)),n+=l(o.toString(16))}return n},t.zero2=s,t.zero8=l,t.join32=function(e,t,n,o){var i=n-t;r(i%4==0);for(var a=new Array(i/4),s=0,l=t;s<a.length;s++,l+=4){var u;u="big"===o?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],a[s]=u>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,o=0;r<e.length;r++,o+=4){var i=e[r];"big"===t?(n[o]=i>>>24,n[o+1]=i>>>16&255,n[o+2]=i>>>8&255,n[o+3]=255&i):(n[o+3]=i>>>24,n[o+2]=i>>>16&255,n[o+1]=i>>>8&255,n[o]=255&i)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,o){return e+t+n+r+o>>>0},t.sum64=function(e,t,n,r){var o=e[t],i=r+e[t+1]>>>0,a=(i<r?1:0)+n+o;e[t]=a>>>0,e[t+1]=i},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,o,i,a,s){var l=0,u=t;return l+=(u=u+r>>>0)<t?1:0,l+=(u=u+i>>>0)<i?1:0,e+n+o+a+(l+=(u=u+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,o,i,a,s){return t+r+i+s>>>0},t.sum64_5_hi=function(e,t,n,r,o,i,a,s,l,u){var c=0,d=t;return c+=(d=d+r>>>0)<t?1:0,c+=(d=d+i>>>0)<i?1:0,c+=(d=d+s>>>0)<s?1:0,e+n+o+a+l+(c+=(d=d+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,o,i,a,s,l,u){return t+r+i+s+u>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},"./node_modules/hmac-drbg/lib/hmac-drbg.js":function(e,t,n){"use strict";var r=n("./node_modules/hash.js/lib/hash.js"),o=n("./node_modules/minimalistic-crypto-utils/lib/utils.js"),i=n("./node_modules/minimalistic-assert/index.js");function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),n=o.toArray(e.nonce,e.nonceEnc||"hex"),r=o.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=o.toArray(e,t),n=o.toArray(n,r),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=o.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,o.encode(a,t)}},"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,c=u&&u(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(c){var f=u(n);f&&f!==c&&e(t,f,d)}var h=a(n);s&&(h=h.concat(s(n)));for(var p=0;p<h.length;++p){var m=h[p];if(!(r[m]||o[m]||d&&d[m])){var g=l(n,m);try{i(t,m,g)}catch(e){}}}return t}return t}},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,d=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},"./node_modules/immutable/dist/immutable.js":function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:X(e)}function o(e){return l(e)?e:K(e)}function i(e){return a(e)&&!u(e)?e:Y(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[f])}function l(e){return!(!e||!e[h])}function u(e){return s(e)||l(e)}function c(e){return!(!e||!e[p])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=l,n.isAssociative=u,n.isOrdered=c,n.Keyed=r,n.Indexed=o,n.Set=i;var d="@@__IMMUTABLE_ITERABLE__@@",f="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",m=5,g=1<<m,v=g-1,y={},b={value:!1},_={value:!1};function x(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function k(){}function E(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function T(e){return void 0===e.size&&(e.size=e.__iterate(S)),e.size}function A(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?T(e)+t:t}function S(){return!0}function M(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function C(e,t){return O(e,t,0)}function j(e,t){return O(e,t,t)}function O(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var N=0,R=1,P=2,I="function"==typeof Symbol&&Symbol.iterator,D="@@iterator",L=I||D;function B(e){this.next=e}function F(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function z(){return{value:void 0,done:!0}}function U(e){return!!H(e)}function q(e){return e&&"function"==typeof e.next}function V(e){var t=H(e);return t&&t.call(e)}function H(e){var t=e&&(I&&e[I]||e[D]);if("function"==typeof t)return t}function W(e){return e&&"number"==typeof e.length}function G(e){return null==e?ie():a(e)?e.toSeq():function(e){var t=le(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function X(e){return null==e?ie().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():ae(e)}function K(e){return null==e?ie():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function Y(e){return(null==e?ie():a(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}B.prototype.toString=function(){return"[Iterator]"},B.KEYS=N,B.VALUES=R,B.ENTRIES=P,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[L]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},G.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(X,G),X.prototype.toKeyedSeq=function(){return this},t(K,G),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},K.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t(Y,G),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=X,G.Set=Y,G.Indexed=K;var $,Z,Q,J="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[J])}function ie(){return $||($=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():q(e)?new re(e).fromEntrySeq():U(e)?new ne(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){return W(e)?new ee(e):q(e)?new re(e):U(e)?new ne(e):void 0}function ue(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function ce(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new B(function(){var e=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:F(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function de(e,t){return t?function e(t,n,r,o){return Array.isArray(n)?t.call(o,r,K(n).map(function(r,o){return e(t,r,o,n)})):he(n)?t.call(o,r,X(n).map(function(r,o){return e(t,r,o,n)})):n}(t,e,"",{"":e}):fe(e)}function fe(e){return Array.isArray(e)?K(e).map(fe).toList():he(e)?X(e).map(fe).toMap():e}function he(e){return e&&(e.constructor===Object||void 0===e.constructor)}function pe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function me(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(c(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&pe(o[1],e)&&(n||pe(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var d=!0,f=t.__iterate(function(t,r){if(n?!e.has(t):o?!pe(t,e.get(r,y)):!pe(e.get(r,y),t))return d=!1,!1});return d&&e.size===f}function ge(e,t){if(!(this instanceof ge))return new ge(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function ve(e,t){if(!e)throw new Error(t)}function ye(e,t,n){if(!(this instanceof ye))return new ye(e,t,n);if(ve(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Q)return Q;Q=this}}function be(){throw TypeError("Abstract")}function _e(){}function xe(){}function we(){}G.prototype[J]=!0,t(ee,K),ee.prototype.get=function(e,t){return this.has(e)?this._array[A(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new B(function(){return o>r?{value:void 0,done:!0}:F(e,o,n[t?r-o++:o++])})},t(te,X),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new B(function(){var a=r[t?o-i:i];return i++>o?{value:void 0,done:!0}:F(e,a,n[a])})},te.prototype[p]=!0,t(ne,K),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=V(n),o=0;if(q(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,o++,this););return o},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=V(n);if(!q(r))return new B(z);var o=0;return new B(function(){var t=r.next();return t.done?t:F(e,o++,t.value)})},t(re,K),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new B(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return F(e,o,r[o++])})},t(ge,K),ge.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ge.prototype.get=function(e,t){return this.has(e)?this._value:t},ge.prototype.includes=function(e){return pe(this._value,e)},ge.prototype.slice=function(e,t){var n=this.size;return M(e,t,n)?this:new ge(this._value,j(t,n)-C(e,n))},ge.prototype.reverse=function(){return this},ge.prototype.indexOf=function(e){return pe(this._value,e)?0:-1},ge.prototype.lastIndexOf=function(e){return pe(this._value,e)?this.size:-1},ge.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ge.prototype.__iterator=function(e,t){var n=this,r=0;return new B(function(){return r<n.size?F(e,r++,n._value):{value:void 0,done:!0}})},ge.prototype.equals=function(e){return e instanceof ge?pe(this._value,e._value):me(e)},t(ye,K),ye.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ye.prototype.get=function(e,t){return this.has(e)?this._start+A(this,e)*this._step:t},ye.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ye.prototype.slice=function(e,t){return M(e,t,this.size)?this:(e=C(e,this.size),(t=j(t,this.size))<=e?new ye(0,0):new ye(this.get(e,this._end),this.get(t,this._end),this._step))},ye.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ye.prototype.lastIndexOf=function(e){return this.indexOf(e)},ye.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},ye.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new B(function(){var a=o;return o+=t?-r:r,i>n?{value:void 0,done:!0}:F(e,i++,a)})},ye.prototype.equals=function(e){return e instanceof ye?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},t(be,n),t(_e,be),t(xe,be),t(we,be),be.Keyed=_e,be.Indexed=xe,be.Set=we;var ke="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ee(e){return e>>>1&1073741824|3221225471&e}function Te(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t,n,r=typeof e;if("number"===r){if(e!=e||e===1/0)return 0;var o=0|e;for(o!==e&&(o^=4294967295*e);e>4294967295;)o^=e/=4294967295;return Ee(o)}if("string"===r)return e.length>Re?(void 0===(n=De[t=e])&&(n=Ae(t),Ie===Pe&&(Ie=0,De={}),Ie++,De[t]=n),n):Ae(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===r)return function(e){var t;if(je&&void 0!==(t=Se.get(e)))return t;if(void 0!==(t=e[Ne]))return t;if(!Ce){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Oe,1073741824&Oe&&(Oe=0),je)Se.set(e,t);else{if(void 0!==Me&&!1===Me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ce)Object.defineProperty(e,Ne,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ne]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}(e);if("function"==typeof e.toString)return Ae(e.toString());throw new Error("Value type "+r+" cannot be hashed.")}function Ae(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ee(t)}var Se,Me=Object.isExtensible,Ce=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),je="function"==typeof WeakMap;je&&(Se=new WeakMap);var Oe=0,Ne="__immutablehash__";"function"==typeof Symbol&&(Ne=Symbol(Ne));var Re=16,Pe=255,Ie=0,De={};function Le(e){ve(e!==1/0,"Cannot perform this action with an infinite size.")}function Be(e){return null==e?Qe():Fe(e)&&!c(e)?e:Qe().withMutations(function(t){var n=r(e);Le(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Fe(e){return!(!e||!e[Ue])}t(Be,_e),Be.of=function(){var t=e.call(arguments,0);return Qe().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},Be.prototype.toString=function(){return this.__toString("Map {","}")},Be.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Be.prototype.set=function(e,t){return Je(this,e,t)},Be.prototype.setIn=function(e,t){return this.updateIn(e,y,function(){return t})},Be.prototype.remove=function(e){return Je(this,e,y)},Be.prototype.deleteIn=function(e){return this.updateIn(e,function(){return y})},Be.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Be.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,o){var i=t===y,a=n.next();if(a.done){var s=i?r:t,l=o(s);return l===s?t:l}ve(i||t&&t.set,"invalid keyPath");var u=a.value,c=i?y:t.get(u,y),d=e(c,n,r,o);return d===c?t:d===y?t.remove(u):(i?Qe():t).set(u,d)}(this,nn(e),t,n);return r===y?void 0:r},Be.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qe()},Be.prototype.merge=function(){return rt(this,void 0,arguments)},Be.prototype.mergeWith=function(t){var n=e.call(arguments,1);return rt(this,t,n)},Be.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Qe(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Be.prototype.mergeDeep=function(){return rt(this,ot,arguments)},Be.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,it(t),n)},Be.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Qe(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Be.prototype.sort=function(e){return Ct(Wt(this,e))},Be.prototype.sortBy=function(e,t){return Ct(Wt(this,t,e))},Be.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Be.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new k)},Be.prototype.asImmutable=function(){return this.__ensureOwner()},Be.prototype.wasAltered=function(){return this.__altered},Be.prototype.__iterator=function(e,t){return new Ke(this,e,t)},Be.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Be.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ze(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Be.isMap=Fe;var ze,Ue="@@__IMMUTABLE_MAP__@@",qe=Be.prototype;function Ve(e,t){this.ownerID=e,this.entries=t}function He(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function We(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Xe(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ke(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&$e(e._root)}function Ye(e,t){return F(e,t[0],t[1])}function $e(e,t){return{node:e,index:0,__prev:t}}function Ze(e,t,n,r){var o=Object.create(qe);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Qe(){return ze||(ze=Ze(0))}function Je(e,t,n){var r,o;if(e._root){var i=x(b),a=x(_);if(r=et(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===y?-1:1:0)}else{if(n===y)return e;o=1,r=new Ve(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Ze(o,r):Qe()}function et(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===y?e:(w(s),w(a),new Xe(t,r,[o,i]))}function tt(e){return e.constructor===Xe||e.constructor===Ge}function nt(e,t,n,r,o){if(e.keyHash===r)return new Ge(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v,l=a===s?[nt(e,t,n+m,r,o)]:(i=new Xe(t,r,o),a<s?[e,i]:[i,e]);return new He(t,1<<a|1<<s,l)}function rt(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],l=r(s);a(s)||(l=l.map(function(e){return de(e)})),o.push(l)}return at(e,t,o)}function ot(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):pe(e,t)?e:t}function it(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return pe(t,o)?t:o}}function at(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,y,function(e){return e===y?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function lt(e,t,n,r){var o=r?e:E(e);return o[t]=n,o}qe[Ue]=!0,qe.delete=qe.remove,qe.removeIn=qe.deleteIn,Ve.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(pe(n,o[i][0]))return o[i][1];return r},Ve.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===y,l=this.entries,u=0,c=l.length;u<c&&!pe(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===o:s)return this;if(w(a),(s||!d)&&w(i),!s||1!==l.length){if(!d&&!s&&l.length>=ut)return function(e,t,n,r){e||(e=new k);for(var o=new Xe(e,Te(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,l,r,o);var f=e&&e===this.ownerID,h=f?l:E(l);return d?s?u===c-1?h.pop():h[u]=h.pop():h[u]=[r,o]:h.push([r,o]),f?(this.entries=h,this):new Ve(e,h)}},He.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var o=1<<((0===e?t:t>>>e)&v),i=this.bitmap;return 0==(i&o)?r:this.nodes[st(i&o-1)].get(e+m,t,n,r)},He.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&v,l=1<<s,u=this.bitmap,c=0!=(u&l);if(!c&&o===y)return this;var d=st(u&l-1),f=this.nodes,h=c?f[d]:void 0,p=et(h,e,t+m,n,r,o,i,a);if(p===h)return this;if(!c&&p&&f.length>=ct)return function(e,t,n,r,o){for(var i=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new We(e,i+1,a)}(e,f,u,s,p);if(c&&!p&&2===f.length&&tt(f[1^d]))return f[1^d];if(c&&p&&1===f.length&&tt(p))return p;var b=e&&e===this.ownerID,_=c?p?u:u^l:u|l,x=c?p?lt(f,d,p,b):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(f,d,b):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(f,d,p,b);return b?(this.bitmap=_,this.nodes=x,this):new He(e,_,x)},We.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var o=(0===e?t:t>>>e)&v,i=this.nodes[o];return i?i.get(e+m,t,n,r):r},We.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&v,l=o===y,u=this.nodes,c=u[s];if(l&&!c)return this;var d=et(c,e,t+m,n,r,o,i,a);if(d===c)return this;var f=this.count;if(c){if(!d&&--f<dt)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==r&&(o|=l,a[i++]=c)}return new He(e,o,a)}(e,u,f,s)}else f++;var h=e&&e===this.ownerID,p=lt(u,s,d,h);return h?(this.count=f,this.nodes=p,this):new We(e,f,p)},Ge.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(pe(n,o[i][0]))return o[i][1];return r},Ge.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Te(r));var s=o===y;if(n!==this.keyHash)return s?this:(w(a),w(i),nt(this,e,t,n,[r,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!pe(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===o:s)return this;if(w(a),(s||!d)&&w(i),s&&2===c)return new Xe(e,this.keyHash,l[1^u]);var f=e&&e===this.ownerID,h=f?l:E(l);return d?s?u===c-1?h.pop():h[u]=h.pop():h[u]=[r,o]:h.push([r,o]),f?(this.entries=h,this):new Ge(e,this.keyHash,h)},Xe.prototype.get=function(e,t,n,r){return pe(n,this.entry[0])?this.entry[1]:r},Xe.prototype.update=function(e,t,n,r,o,i,a){var s=o===y,l=pe(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(w(a),s?void w(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new Xe(e,this.keyHash,[r,o]):(w(i),nt(this,e,t,Te(r),[r,o])))},Ve.prototype.iterate=Ge.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},He.prototype.iterate=We.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Xe.prototype.iterate=function(e,t){return e(this.entry)},t(Ke,B),Ke.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return Ye(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return Ye(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return Ye(e,i.entry);t=this._stack=$e(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ut=g/4,ct=g/2,dt=g/4;function ft(e){var t=wt();if(null==e)return t;if(ht(e))return e;var n=o(e),r=n.size;return 0===r?t:(Le(r),r>0&&r<g?xt(0,r,m,null,new gt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function ht(e){return!(!e||!e[pt])}t(ft,xe),ft.of=function(){return this(arguments)},ft.prototype.toString=function(){return this.__toString("List [","]")},ft.prototype.get=function(e,t){if((e=A(this,e))>=0&&e<this.size){var n=Tt(this,e+=this._origin);return n&&n.array[e&v]}return t},ft.prototype.set=function(e,t){return function(e,t,n){if((t=A(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?At(e,t).set(0,n):At(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=x(_);return t>=Mt(e._capacity)?r=kt(r,e.__ownerID,0,t,n,i):o=kt(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):xt(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},ft.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ft.prototype.insert=function(e,t){return this.splice(e,0,t)},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):wt()},ft.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){At(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},ft.prototype.pop=function(){return At(this,0,-1)},ft.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){At(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},ft.prototype.shift=function(){return At(this,1)},ft.prototype.merge=function(){return St(this,void 0,arguments)},ft.prototype.mergeWith=function(t){var n=e.call(arguments,1);return St(this,t,n)},ft.prototype.mergeDeep=function(){return St(this,ot,arguments)},ft.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return St(this,it(t),n)},ft.prototype.setSize=function(e){return At(this,0,e)},ft.prototype.slice=function(e,t){var n=this.size;return M(e,t,n)?this:At(this,C(e,n),j(t,n))},ft.prototype.__iterator=function(e,t){var n=0,r=_t(this,t);return new B(function(){var t=r();return t===bt?{value:void 0,done:!0}:F(e,n++,t)})},ft.prototype.__iterate=function(e,t){for(var n,r=0,o=_t(this,t);(n=o())!==bt&&!1!==e(n,r++,this););return r},ft.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ft.isList=ht;var pt="@@__IMMUTABLE_LIST__@@",mt=ft.prototype;function gt(e,t){this.array=e,this.ownerID=t}mt[pt]=!0,mt.delete=mt.remove,mt.setIn=qe.setIn,mt.deleteIn=mt.removeIn=qe.removeIn,mt.update=qe.update,mt.updateIn=qe.updateIn,mt.mergeIn=qe.mergeIn,mt.mergeDeepIn=qe.mergeDeepIn,mt.withMutations=qe.withMutations,mt.asMutable=qe.asMutable,mt.asImmutable=qe.asImmutable,mt.wasAltered=qe.wasAltered,gt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new gt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-m,n))===a&&i)return this}if(i&&!o)return this;var s=Et(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return o&&(s.array[r]=o),s},gt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&v;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-m,n))===i&&o===this.array.length-1)return this}var a=Et(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var vt,yt,bt={};function _t(e,t){var n=e._origin,r=e._capacity,o=Mt(r),i=e._tail;return a(e._root,e._level,0);function a(e,s,l){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,l=a>n?0:n-a,u=r-a;return u>g&&(u=g),function(){if(l===u)return bt;var e=t?--u:l++;return s&&s[e]}}(e,l):function(e,o,i){var s,l=e&&e.array,u=i>n?0:n-i>>o,c=1+(r-i>>o);return c>g&&(c=g),function(){for(;;){if(s){var e=s();if(e!==bt)return e;s=null}if(u===c)return bt;var n=t?--c:u++;s=a(l&&l[n],o-m,i+(n<<o))}}}(e,s,l)}}function xt(e,t,n,r,o,i,a){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function wt(){return vt||(vt=xt(0,0,m))}function kt(e,t,n,r,o,i){var a,s=r>>>n&v,l=e&&s<e.array.length;if(!l&&void 0===o)return e;if(n>0){var u=e&&e.array[s],c=kt(u,t,n-m,r,o,i);return c===u?e:((a=Et(e,t)).array[s]=c,a)}return l&&e.array[s]===o?e:(w(i),a=Et(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Et(e,t){return t&&e&&t===e.ownerID?e:new gt(e?e.array.slice():[],t)}function Tt(e,t){if(t>=Mt(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=m;return n}}function At(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new k,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;a+c<0;)u=new gt(u&&u.array.length?[void 0,u]:[],r),c+=1<<(l+=m);c&&(a+=c,o+=c,s+=c,i+=c);for(var d=Mt(i),f=Mt(s);f>=1<<l+m;)u=new gt(u&&u.array.length?[u]:[],r),l+=m;var h=e._tail,p=f<d?Tt(e,s-1):f>d?new gt([],r):h;if(h&&f>d&&a<i&&h.array.length){for(var g=u=Et(u,r),y=l;y>m;y-=m){var b=d>>>y&v;g=g.array[b]=Et(g.array[b],r)}g.array[d>>>m&v]=h}if(s<i&&(p=p&&p.removeAfter(r,0,s)),a>=f)a-=f,s-=f,l=m,u=null,p=p&&p.removeBefore(r,0,a);else if(a>o||f<d){for(c=0;u;){var _=a>>>l&v;if(_!==f>>>l&v)break;_&&(c+=(1<<l)*_),l-=m,u=u.array[_]}u&&a>o&&(u=u.removeBefore(r,l,a-c)),u&&f<d&&(u=u.removeAfter(r,l,f-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=p,e.__hash=void 0,e.__altered=!0,e):xt(a,s,l,u,p)}function St(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var l=n[s],u=o(l);u.size>i&&(i=u.size),a(l)||(u=u.map(function(e){return de(e)})),r.push(u)}return i>e.size&&(e=e.setSize(i)),at(e,t,r)}function Mt(e){return e<g?0:e-1>>>m<<m}function Ct(e){return null==e?Nt():jt(e)?e:Nt().withMutations(function(t){var n=r(e);Le(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function jt(e){return Fe(e)&&c(e)}function Ot(e,t,n,r){var o=Object.create(Ct.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Nt(){return yt||(yt=Ot(Qe(),wt()))}function Rt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(n===y){if(!l)return e;a.size>=g&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&s!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Ot(r,o)}function Pt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function It(e){this._iter=e,this.size=e.size}function Dt(e){this._iter=e,this.size=e.size}function Lt(e){this._iter=e,this.size=e.size}function Bt(e){var t=Jt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===P){var r=e.__iterator(t,n);return new B(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===R?N:R,n)},t}function Ft(e,t,n){var r=Jt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,y);return i===y?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(P,o);return new B(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return F(r,s,t.call(n,a[1],s,e),o)})},r}function zt(e,t){var n=Jt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Bt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Ut(e,t,n,r){var o=Jt(e);return r&&(o.has=function(r){var o=e.get(r,y);return o!==y&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,y);return i!==y&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,l){if(t.call(n,e,i,l))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(P,i),s=0;return new B(function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return F(o,r?u:s++,c,i)}})},o}function qt(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=o:n|=0),M(t,n,o))return e;var i=C(t,o),a=j(n,o);if(i!=i||a!=a)return qt(e.toSeq().cacheResult(),t,n,r);var s,l=a-i;l==l&&(s=l<0?0:l);var u=Jt(e);return u.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(u.get=function(t,n){return(t=A(this,t))>=0&&t<s?e.get(t+i,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate(function(e,n){if(!l||!(l=a++<i))return u++,!1!==t(e,r?n:u-1,o)&&u!==s}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,l=0;return new B(function(){for(;a++<i;)o.next();if(++l>s)return{value:void 0,done:!0};var e=o.next();return r||t===R?e:F(t,l-1,t===N?void 0:e.value[1],e)})},u}function Vt(e,t,n,r){var o=Jt(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate(function(e,i,u){if(!s||!(s=t.call(n,e,i,u)))return l++,o(e,r?i:l-1,a)}),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(P,i),l=!0,u=0;return new B(function(){var e,i,c;do{if((e=s.next()).done)return r||o===R?e:F(o,u++,o===N?void 0:e.value[1],e);var d=e.value;i=d[0],c=d[1],l&&(l=t.call(n,c,i,a))}while(l);return o===P?e:F(o,i,c,e)})},o}function Ht(e,t,n){var r=Jt(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;return function e(l,u){var c=this;l.__iterate(function(o,l){return(!t||u<t)&&a(o)?e(o,u+1):!1===r(o,n?l:i++,c)&&(s=!0),!s},o)}(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],l=0;return new B(function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(r===P&&(u=u[1]),t&&!(s.length<t)||!a(u))return n?e:F(r,l++,u,e);s.push(i),i=u.__iterator(r,o)}else i=s.pop()}return{value:void 0,done:!0}})},r}function Wt(e,t,n){t||(t=tn);var r=s(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?X(i):l(e)?K(i):Y(i)}function Gt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Xt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Xt(t,e,n)?n:e})}function Xt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Kt(e,t,r){var o=Jt(e);return o.size=new ee(r).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(R,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map(function(e){return e=n(e),V(o?e.reverse():e)}),a=0,s=!1;return new B(function(){var n;return s||(n=i.map(function(e){return e.next()}),s=n.some(function(e){return e.done})),s?{value:void 0,done:!0}:F(e,a++,t.apply(null,n.map(function(e){return e.value})))})},o}function Yt(e,t){return oe(e)?t:e.constructor(t)}function $t(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Zt(e){return Le(e.size),T(e)}function Qt(e){return s(e)?r:l(e)?o:i}function Jt(e){return Object.create((s(e)?X:l(e)?K:Y).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=V(e);if(!t){if(!W(e))throw new TypeError("Expected iterable or array-like: "+e);t=V(n(e))}return t}function rn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ve(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Be(i)},o=r.prototype=Object.create(on);return o.constructor=r,r}t(Ct,Be),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ct.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Nt()},Ct.prototype.set=function(e,t){return Rt(this,e,t)},Ct.prototype.remove=function(e){return Rt(this,e,y)},Ct.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ct.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Ct.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ct.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ot(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ct.isOrderedMap=jt,Ct.prototype[p]=!0,Ct.prototype.delete=Ct.prototype.remove,t(Pt,X),Pt.prototype.get=function(e,t){return this._iter.get(e,t)},Pt.prototype.has=function(e){return this._iter.has(e)},Pt.prototype.valueSeq=function(){return this._iter.valueSeq()},Pt.prototype.reverse=function(){var e=this,t=zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Pt.prototype.map=function(e,t){var n=this,r=Ft(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Pt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Zt(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Pt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(R,t),r=t?Zt(this):0;return new B(function(){var o=n.next();return o.done?o:F(e,t?--r:r++,o.value,o)})},Pt.prototype[p]=!0,t(It,K),It.prototype.includes=function(e){return this._iter.includes(e)},It.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},It.prototype.__iterator=function(e,t){var n=this._iter.__iterator(R,t),r=0;return new B(function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)})},t(Dt,Y),Dt.prototype.has=function(e){return this._iter.includes(e)},Dt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Dt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(R,t);return new B(function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)})},t(Lt,X),Lt.prototype.entrySeq=function(){return this._iter.toSeq()},Lt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){$t(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Lt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(R,t);return new B(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){$t(r);var o=a(r);return F(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},It.prototype.cacheResult=Pt.prototype.cacheResult=Dt.prototype.cacheResult=Lt.prototype.cacheResult=en,t(rn,_e),rn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=an(this,Qe()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sn(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:an(this,r)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:an(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?an(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function an(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function sn(e){return e._name||e.constructor.name||"Record"}function ln(e){return null==e?mn():un(e)&&!c(e)?e:mn().withMutations(function(t){var n=i(e);Le(n.size),n.forEach(function(e){return t.add(e)})})}function un(e){return!(!e||!e[dn])}on.delete=on.remove,on.deleteIn=on.removeIn=qe.removeIn,on.merge=qe.merge,on.mergeWith=qe.mergeWith,on.mergeIn=qe.mergeIn,on.mergeDeep=qe.mergeDeep,on.mergeDeepWith=qe.mergeDeepWith,on.mergeDeepIn=qe.mergeDeepIn,on.setIn=qe.setIn,on.update=qe.update,on.updateIn=qe.updateIn,on.withMutations=qe.withMutations,on.asMutable=qe.asMutable,on.asImmutable=qe.asImmutable,t(ln,we),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("Set {","}")},ln.prototype.has=function(e){return this._map.has(e)},ln.prototype.add=function(e){return hn(this,this._map.set(e,!0))},ln.prototype.remove=function(e){return hn(this,this._map.remove(e))},ln.prototype.clear=function(){return hn(this,this._map.clear())},ln.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},ln.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},ln.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},ln.prototype.merge=function(){return this.union.apply(this,arguments)},ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},ln.prototype.sort=function(e){return gn(Wt(this,e))},ln.prototype.sortBy=function(e,t){return gn(Wt(this,t,e))},ln.prototype.wasAltered=function(){return this._map.wasAltered()},ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},ln.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},ln.isSet=un;var cn,dn="@@__IMMUTABLE_SET__@@",fn=ln.prototype;function hn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function pn(e,t){var n=Object.create(fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mn(){return cn||(cn=pn(Qe()))}function gn(e){return null==e?xn():vn(e)?e:xn().withMutations(function(t){var n=i(e);Le(n.size),n.forEach(function(e){return t.add(e)})})}function vn(e){return un(e)&&c(e)}fn[dn]=!0,fn.delete=fn.remove,fn.mergeDeep=fn.merge,fn.mergeDeepWith=fn.mergeWith,fn.withMutations=qe.withMutations,fn.asMutable=qe.asMutable,fn.asImmutable=qe.asImmutable,fn.__empty=mn,fn.__make=pn,t(gn,ln),gn.of=function(){return this(arguments)},gn.fromKeys=function(e){return this(r(e).keySeq())},gn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},gn.isOrderedSet=vn;var yn,bn=gn.prototype;function _n(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function xn(){return yn||(yn=_n(Nt()))}function wn(e){return null==e?Mn():kn(e)?e:Mn().unshiftAll(e)}function kn(e){return!(!e||!e[Tn])}bn[p]=!0,bn.__empty=xn,bn.__make=_n,t(wn,xe),wn.of=function(){return this(arguments)},wn.prototype.toString=function(){return this.__toString("Stack [","]")},wn.prototype.get=function(e,t){var n=this._head;for(e=A(this,e);n&&e--;)n=n.next;return n?n.value:t},wn.prototype.peek=function(){return this._head&&this._head.value},wn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Sn(e,t)},wn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Le(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Sn(t,n)},wn.prototype.pop=function(){return this.slice(1)},wn.prototype.unshift=function(){return this.push.apply(this,arguments)},wn.prototype.unshiftAll=function(e){return this.pushAll(e)},wn.prototype.shift=function(){return this.pop.apply(this,arguments)},wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mn()},wn.prototype.slice=function(e,t){if(M(e,t,this.size))return this;var n=C(e,this.size),r=j(t,this.size);if(r!==this.size)return xe.prototype.slice.call(this,e,t);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Sn(o,i)},wn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Sn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},wn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},wn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new B(function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return{value:void 0,done:!0}})},wn.isStack=kn;var En,Tn="@@__IMMUTABLE_STACK__@@",An=wn.prototype;function Sn(e,t,n,r){var o=Object.create(An);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Mn(){return En||(En=Sn(0))}function Cn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}An[Tn]=!0,An.withMutations=qe.withMutations,An.asMutable=qe.asMutable,An.asImmutable=qe.asImmutable,An.wasAltered=qe.wasAltered,n.Iterator=B,Cn(n,{toArray:function(){Le(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new It(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Pt(this,!0)},toMap:function(){return Be(this.toKeyedSeq())},toObject:function(){Le(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Ct(this.toKeyedSeq())},toOrderedSet:function(){return gn(s(this)?this.valueSeq():this)},toSet:function(){return ln(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Dt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wn(s(this)?this.valueSeq():this)},toList:function(){return ft(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Yt(this,function(e,t){var n=s(e),o=[e].concat(t).map(function(e){return a(e)?n&&(e=r(e)):e=n?ae(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||l(e)&&l(i))return i}var u=new ee(o);return n?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}(this,t))},includes:function(e){return this.some(function(t){return pe(t,e)})},entries:function(){return this.__iterator(P)},every:function(e,t){Le(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return Yt(this,Ut(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Le(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Le(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""}),t},keys:function(){return this.__iterator(N)},map:function(e,t){return Yt(this,Ft(this,e,t))},reduce:function(e,t,n){var r,o;return Le(this.size),arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Yt(this,zt(this,!0))},slice:function(e,t){return Yt(this,qt(this,e,t,!0))},some:function(e,t){return!this.every(Pn(e),t)},sort:function(e){return Yt(this,Wt(this,e))},values:function(){return this.__iterator(R)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return T(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Be().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Rn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Pn(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(S)},flatMap:function(e,t){return Yt(this,function(e,t,n){var r=Qt(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Yt(this,Ht(this,e,!0))},fromEntrySeq:function(){return new Lt(this)},get:function(e,t){return this.find(function(t,n){return pe(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=nn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,y):y)===y)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),o=(c(e)?Ct():Be()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return(e=e||[]).push(r?[a,i]:i),e})});var i=Qt(e);return o.map(function(t){return Yt(e,i(t))})}(this,e,t)},has:function(e){return this.get(e,y)!==y},hasIn:function(e){return this.getIn(e,y)!==y},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return pe(t,e)})},keySeq:function(){return this.toSeq().map(Nn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Gt(this,e)},maxBy:function(e,t){return Gt(this,t,e)},min:function(e){return Gt(this,e?In(e):Bn)},minBy:function(e,t){return Gt(this,t?In(t):Bn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Yt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Yt(this,Vt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Pn(e),t)},sortBy:function(e,t){return Yt(this,Wt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Yt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Yt(this,function(e,t,n){var r=Jt(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(P,o),s=!0;return new B(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(n,u,l,i)?r===P?e:F(r,l,u,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Pn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=c(e),n=s(e),r=t?1:0;return function(e,t){return t=ke(t,3432918353),t=ke(t<<15|t>>>-15,461845907),t=ke(t<<13|t>>>-13,5),t=ke((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ee((t=ke(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Fn(Te(e),Te(t))|0}:function(e,t){r=r+Fn(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0}),r)}(this))}});var jn=n.prototype;jn[d]=!0,jn[L]=jn.values,jn.__toJS=jn.toArray,jn.__toStringMapper=Dn,jn.inspect=jn.toSource=function(){return this.toString()},jn.chain=jn.flatMap,jn.contains=jn.includes,Cn(r,{flip:function(){return Yt(this,Bt(this))},mapEntries:function(e,t){var n=this,r=0;return Yt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Yt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var On=r.prototype;function Nn(e,t){return t}function Rn(e,t){return[t,e]}function Pn(e){return function(){return!e.apply(this,arguments)}}function In(e){return function(){return-e.apply(this,arguments)}}function Dn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Ln(){return E(arguments)}function Bn(e,t){return e<t?1:e>t?-1:0}function Fn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return On[f]=!0,On[L]=jn.entries,On.__toJS=jn.toObject,On.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Dn(e)},Cn(o,{toKeyedSeq:function(){return new Pt(this,!1)},filter:function(e,t){return Yt(this,Ut(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Yt(this,zt(this,!1))},slice:function(e,t){return Yt(this,qt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=C(e,e<0?this.count():this.size);var r=this.slice(0,e);return Yt(this,1===n?r:r.concat(E(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Yt(this,Ht(this,e,!1))},get:function(e,t){return(e=A(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=A(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Yt(this,function(e,t){var n=Jt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(R,r),a=0;return new B(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?F(n,a++,t):F(n,a++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(E(arguments)),t=Kt(this.toSeq(),K.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Yt(this,n)},keySeq:function(){return ye(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Yt(this,Vt(this,e,t,!1))},zip:function(){return Yt(this,Kt(this,Ln,[this].concat(E(arguments))))},zipWith:function(e){var t=E(arguments);return t[0]=this,Yt(this,Kt(this,e,t))}}),o.prototype[h]=!0,o.prototype[p]=!0,Cn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=jn.includes,i.prototype.contains=i.prototype.includes,Cn(X,r.prototype),Cn(K,o.prototype),Cn(Y,i.prototype),Cn(_e,r.prototype),Cn(xe,o.prototype),Cn(we,i.prototype),{Iterable:n,Seq:G,Collection:be,Map:Be,OrderedMap:Ct,List:ft,Stack:wn,Set:ln,OrderedSet:gn,Record:rn,Range:ye,Repeat:ge,is:pe,fromJS:de}}()},"./node_modules/indexof/index.js":function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},"./node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"./node_modules/invariant/browser.js":function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},"./node_modules/isarray/index.js":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"./node_modules/keyboard-key/src/keyboardKey.js":function(e,t,n){"use strict";for(var r=function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e},o={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},i=0;i<24;i+=1)o[112+i]="F"+(i+1);for(var a=0;a<26;a+=1){var s=a+65;o[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var l={codes:o,getCode:function(e){return r(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var t=r(e),n=o[t?e.keyCode||e.which:e];return Array.isArray(n)&&(n=t?n[e.shiftKey?1:0]:n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};l.Spacebar=l[" "],l.Digit0=l[0],l.Digit1=l[1],l.Digit2=l[2],l.Digit3=l[3],l.Digit4=l[4],l.Digit5=l[5],l.Digit6=l[6],l.Digit7=l[7],l.Digit8=l[8],l.Digit9=l[9],l.Tilde=l["~"],l.GraveAccent=l["`"],l.ExclamationPoint=l["!"],l.AtSign=l["@"],l.PoundSign=l["#"],l.PercentSign=l["%"],l.Caret=l["^"],l.Ampersand=l["&"],l.PlusSign=l["+"],l.MinusSign=l["-"],l.EqualsSign=l["="],l.DivisionSign=l["/"],l.MultiplicationSign=l["*"],l.Comma=l[","],l.Decimal=l["."],l.Colon=l[":"],l.Semicolon=l[";"],l.Pipe=l["|"],l.BackSlash=l["\\"],l.QuestionMark=l["?"],l.SingleQuote=l["'"],l.DoubleQuote=l['"'],l.LeftCurlyBrace=l["{"],l.RightCurlyBrace=l["}"],l.LeftParenthesis=l["("],l.RightParenthesis=l[")"],l.LeftAngleBracket=l["<"],l.RightAngleBracket=l[">"],l.LeftSquareBracket=l["["],l.RightSquareBracket=l["]"],e.exports=l},"./node_modules/lodash/_DataView.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"DataView");e.exports=r},"./node_modules/lodash/_Hash.js":function(e,t,n){var r=n("./node_modules/lodash/_hashClear.js"),o=n("./node_modules/lodash/_hashDelete.js"),i=n("./node_modules/lodash/_hashGet.js"),a=n("./node_modules/lodash/_hashHas.js"),s=n("./node_modules/lodash/_hashSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},"./node_modules/lodash/_LazyWrapper.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),o=n("./node_modules/lodash/_baseLodash.js"),i=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}a.prototype=r(o.prototype),a.prototype.constructor=a,e.exports=a},"./node_modules/lodash/_ListCache.js":function(e,t,n){var r=n("./node_modules/lodash/_listCacheClear.js"),o=n("./node_modules/lodash/_listCacheDelete.js"),i=n("./node_modules/lodash/_listCacheGet.js"),a=n("./node_modules/lodash/_listCacheHas.js"),s=n("./node_modules/lodash/_listCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},"./node_modules/lodash/_LodashWrapper.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),o=n("./node_modules/lodash/_baseLodash.js");function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},"./node_modules/lodash/_Map.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Map");e.exports=r},"./node_modules/lodash/_MapCache.js":function(e,t,n){var r=n("./node_modules/lodash/_mapCacheClear.js"),o=n("./node_modules/lodash/_mapCacheDelete.js"),i=n("./node_modules/lodash/_mapCacheGet.js"),a=n("./node_modules/lodash/_mapCacheHas.js"),s=n("./node_modules/lodash/_mapCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},"./node_modules/lodash/_Promise.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Promise");e.exports=r},"./node_modules/lodash/_Set.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Set");e.exports=r},"./node_modules/lodash/_SetCache.js":function(e,t,n){var r=n("./node_modules/lodash/_MapCache.js"),o=n("./node_modules/lodash/_setCacheAdd.js"),i=n("./node_modules/lodash/_setCacheHas.js");function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},"./node_modules/lodash/_Stack.js":function(e,t,n){var r=n("./node_modules/lodash/_ListCache.js"),o=n("./node_modules/lodash/_stackClear.js"),i=n("./node_modules/lodash/_stackDelete.js"),a=n("./node_modules/lodash/_stackGet.js"),s=n("./node_modules/lodash/_stackHas.js"),l=n("./node_modules/lodash/_stackSet.js");function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},"./node_modules/lodash/_Symbol.js":function(e,t,n){var r=n("./node_modules/lodash/_root.js").Symbol;e.exports=r},"./node_modules/lodash/_Uint8Array.js":function(e,t,n){var r=n("./node_modules/lodash/_root.js").Uint8Array;e.exports=r},"./node_modules/lodash/_WeakMap.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"WeakMap");e.exports=r},"./node_modules/lodash/_apply.js":function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},"./node_modules/lodash/_arrayAggregator.js":function(e,t){e.exports=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}},"./node_modules/lodash/_arrayEach.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash/_arrayEvery.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},"./node_modules/lodash/_arrayFilter.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},"./node_modules/lodash/_arrayIncludes.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},"./node_modules/lodash/_arrayIncludesWith.js":function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},"./node_modules/lodash/_arrayLikeKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_baseTimes.js"),o=n("./node_modules/lodash/isArguments.js"),i=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/isBuffer.js"),s=n("./node_modules/lodash/_isIndex.js"),l=n("./node_modules/lodash/isTypedArray.js"),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),d=!n&&!c&&a(e),f=!n&&!c&&!d&&l(e),h=n||c||d||f,p=h?r(e.length,String):[],m=p.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},"./node_modules/lodash/_arrayMap.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},"./node_modules/lodash/_arrayPush.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},"./node_modules/lodash/_arrayReduce.js":function(e,t){e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},"./node_modules/lodash/_arraySome.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},"./node_modules/lodash/_asciiSize.js":function(e,t,n){var r=n("./node_modules/lodash/_baseProperty.js")("length");e.exports=r},"./node_modules/lodash/_asciiToArray.js":function(e,t){e.exports=function(e){return e.split("")}},"./node_modules/lodash/_asciiWords.js":function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},"./node_modules/lodash/_assignValue.js":function(e,t,n){var r=n("./node_modules/lodash/_baseAssignValue.js"),o=n("./node_modules/lodash/eq.js"),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},"./node_modules/lodash/_assocIndexOf.js":function(e,t,n){var r=n("./node_modules/lodash/eq.js");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},"./node_modules/lodash/_baseAggregator.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t,n,o){return r(e,function(e,r,i){t(o,e,n(e),i)}),o}},"./node_modules/lodash/_baseAssign.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&r(t,o(t),e)}},"./node_modules/lodash/_baseAssignIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/keysIn.js");e.exports=function(e,t){return e&&r(t,o(t),e)}},"./node_modules/lodash/_baseAssignValue.js":function(e,t,n){var r=n("./node_modules/lodash/_defineProperty.js");e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},"./node_modules/lodash/_baseClamp.js":function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},"./node_modules/lodash/_baseClone.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_arrayEach.js"),i=n("./node_modules/lodash/_assignValue.js"),a=n("./node_modules/lodash/_baseAssign.js"),s=n("./node_modules/lodash/_baseAssignIn.js"),l=n("./node_modules/lodash/_cloneBuffer.js"),u=n("./node_modules/lodash/_copyArray.js"),c=n("./node_modules/lodash/_copySymbols.js"),d=n("./node_modules/lodash/_copySymbolsIn.js"),f=n("./node_modules/lodash/_getAllKeys.js"),h=n("./node_modules/lodash/_getAllKeysIn.js"),p=n("./node_modules/lodash/_getTag.js"),m=n("./node_modules/lodash/_initCloneArray.js"),g=n("./node_modules/lodash/_initCloneByTag.js"),v=n("./node_modules/lodash/_initCloneObject.js"),y=n("./node_modules/lodash/isArray.js"),b=n("./node_modules/lodash/isBuffer.js"),_=n("./node_modules/lodash/isMap.js"),x=n("./node_modules/lodash/isObject.js"),w=n("./node_modules/lodash/isSet.js"),k=n("./node_modules/lodash/keys.js"),E=1,T=2,A=4,S="[object Arguments]",M="[object Function]",C="[object GeneratorFunction]",j="[object Object]",O={};O[S]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[j]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[M]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,N,R,P,I){var D,L=n&E,B=n&T,F=n&A;if(N&&(D=P?N(t,R,P,I):N(t)),void 0!==D)return D;if(!x(t))return t;var z=y(t);if(z){if(D=m(t),!L)return u(t,D)}else{var U=p(t),q=U==M||U==C;if(b(t))return l(t,L);if(U==j||U==S||q&&!P){if(D=B||q?{}:v(t),!L)return B?d(t,s(D,t)):c(t,a(D,t))}else{if(!O[U])return P?t:{};D=g(t,U,L)}}I||(I=new r);var V=I.get(t);if(V)return V;if(I.set(t,D),w(t))return t.forEach(function(r){D.add(e(r,n,N,r,t,I))}),D;if(_(t))return t.forEach(function(r,o){D.set(o,e(r,n,N,o,t,I))}),D;var H=F?B?h:f:B?keysIn:k,W=z?void 0:H(t);return o(W||t,function(r,o){W&&(r=t[o=r]),i(D,o,e(r,n,N,o,t,I))}),D}},"./node_modules/lodash/_baseCreate.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},"./node_modules/lodash/_baseDifference.js":function(e,t,n){var r=n("./node_modules/lodash/_SetCache.js"),o=n("./node_modules/lodash/_arrayIncludes.js"),i=n("./node_modules/lodash/_arrayIncludesWith.js"),a=n("./node_modules/lodash/_arrayMap.js"),s=n("./node_modules/lodash/_baseUnary.js"),l=n("./node_modules/lodash/_cacheHas.js"),u=200;e.exports=function(e,t,n,c){var d=-1,f=o,h=!0,p=e.length,m=[],g=t.length;if(!p)return m;n&&(t=a(t,s(n))),c?(f=i,h=!1):t.length>=u&&(f=l,h=!1,t=new r(t));e:for(;++d<p;){var v=e[d],y=null==n?v:n(v);if(v=c||0!==v?v:0,h&&y==y){for(var b=g;b--;)if(t[b]===y)continue e;m.push(v)}else f(t,y,c)||m.push(v)}return m}},"./node_modules/lodash/_baseEach.js":function(e,t,n){var r=n("./node_modules/lodash/_baseForOwn.js"),o=n("./node_modules/lodash/_createBaseEach.js")(r);e.exports=o},"./node_modules/lodash/_baseEvery.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t){var n=!0;return r(e,function(e,r,o){return n=!!t(e,r,o)}),n}},"./node_modules/lodash/_baseFilter.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t){var n=[];return r(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}},"./node_modules/lodash/_baseFindIndex.js":function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},"./node_modules/lodash/_baseFlatten.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayPush.js"),o=n("./node_modules/lodash/_isFlattenable.js");e.exports=function e(t,n,i,a,s){var l=-1,u=t.length;for(i||(i=o),s||(s=[]);++l<u;){var c=t[l];n>0&&i(c)?n>1?e(c,n-1,i,a,s):r(s,c):a||(s[s.length]=c)}return s}},"./node_modules/lodash/_baseFor.js":function(e,t,n){var r=n("./node_modules/lodash/_createBaseFor.js")();e.exports=r},"./node_modules/lodash/_baseForOwn.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFor.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&r(e,t,o)}},"./node_modules/lodash/_baseGet.js":function(e,t,n){var r=n("./node_modules/lodash/_castPath.js"),o=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},"./node_modules/lodash/_baseGetAllKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayPush.js"),o=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},"./node_modules/lodash/_baseGetTag.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/_getRawTag.js"),i=n("./node_modules/lodash/_objectToString.js"),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?o(e):i(e)}},"./node_modules/lodash/_baseHas.js":function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},"./node_modules/lodash/_baseHasIn.js":function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},"./node_modules/lodash/_baseInRange.js":function(e,t){var n=Math.max,r=Math.min;e.exports=function(e,t,o){return e>=r(t,o)&&e<n(t,o)}},"./node_modules/lodash/_baseIndexOf.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFindIndex.js"),o=n("./node_modules/lodash/_baseIsNaN.js"),i=n("./node_modules/lodash/_strictIndexOf.js");e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},"./node_modules/lodash/_baseIntersection.js":function(e,t,n){var r=n("./node_modules/lodash/_SetCache.js"),o=n("./node_modules/lodash/_arrayIncludes.js"),i=n("./node_modules/lodash/_arrayIncludesWith.js"),a=n("./node_modules/lodash/_arrayMap.js"),s=n("./node_modules/lodash/_baseUnary.js"),l=n("./node_modules/lodash/_cacheHas.js"),u=Math.min;e.exports=function(e,t,n){for(var c=n?i:o,d=e[0].length,f=e.length,h=f,p=Array(f),m=1/0,g=[];h--;){var v=e[h];h&&t&&(v=a(v,s(t))),m=u(v.length,m),p[h]=!n&&(t||d>=120&&v.length>=120)?new r(h&&v):void 0}v=e[0];var y=-1,b=p[0];e:for(;++y<d&&g.length<m;){var _=v[y],x=t?t(_):_;if(_=n||0!==_?_:0,!(b?l(b,x):c(g,x,n))){for(h=f;--h;){var w=p[h];if(!(w?l(w,x):c(e[h],x,n)))continue e}b&&b.push(x),g.push(_)}}return g}},"./node_modules/lodash/_baseInvoke.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),o=n("./node_modules/lodash/_castPath.js"),i=n("./node_modules/lodash/last.js"),a=n("./node_modules/lodash/_parent.js"),s=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n){t=o(t,e);var l=null==(e=a(e,t))?e:e[s(i(t))];return null==l?void 0:r(l,e,n)}},"./node_modules/lodash/_baseIsArguments.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},"./node_modules/lodash/_baseIsEqual.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsEqualDeep.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},"./node_modules/lodash/_baseIsEqualDeep.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_equalArrays.js"),i=n("./node_modules/lodash/_equalByTag.js"),a=n("./node_modules/lodash/_equalObjects.js"),s=n("./node_modules/lodash/_getTag.js"),l=n("./node_modules/lodash/isArray.js"),u=n("./node_modules/lodash/isBuffer.js"),c=n("./node_modules/lodash/isTypedArray.js"),d=1,f="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,y){var b=l(e),_=l(t),x=b?h:s(e),w=_?h:s(t),k=(x=x==f?p:x)==p,E=(w=w==f?p:w)==p,T=x==w;if(T&&u(e)){if(!u(t))return!1;b=!0,k=!1}if(T&&!k)return y||(y=new r),b||c(e)?o(e,t,n,g,v,y):i(e,t,x,n,g,v,y);if(!(n&d)){var A=k&&m.call(e,"__wrapped__"),S=E&&m.call(t,"__wrapped__");if(A||S){var M=A?e.value():e,C=S?t.value():t;return y||(y=new r),v(M,C,n,g,y)}}return!!T&&(y||(y=new r),a(e,t,n,g,v,y))}},"./node_modules/lodash/_baseIsMap.js":function(e,t,n){var r=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object Map]";e.exports=function(e){return o(e)&&r(e)==i}},"./node_modules/lodash/_baseIsMatch.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_baseIsEqual.js"),i=1,a=2;e.exports=function(e,t,n,s){var l=n.length,u=l,c=!s;if(null==e)return!u;for(e=Object(e);l--;){var d=n[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){var f=(d=n[l])[0],h=e[f],p=d[1];if(c&&d[2]){if(void 0===h&&!(f in e))return!1}else{var m=new r;if(s)var g=s(h,p,f,e,t,m);if(!(void 0===g?o(p,h,i|a,s,m):g))return!1}}return!0}},"./node_modules/lodash/_baseIsNaN.js":function(e,t){e.exports=function(e){return e!=e}},"./node_modules/lodash/_baseIsNative.js":function(e,t,n){var r=n("./node_modules/lodash/isFunction.js"),o=n("./node_modules/lodash/_isMasked.js"),i=n("./node_modules/lodash/isObject.js"),a=n("./node_modules/lodash/_toSource.js"),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},"./node_modules/lodash/_baseIsRegExp.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object RegExp]";e.exports=function(e){return o(e)&&r(e)==i}},"./node_modules/lodash/_baseIsSet.js":function(e,t,n){var r=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object Set]";e.exports=function(e){return o(e)&&r(e)==i}},"./node_modules/lodash/_baseIsTypedArray.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isLength.js"),i=n("./node_modules/lodash/isObjectLike.js"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},"./node_modules/lodash/_baseIteratee.js":function(e,t,n){var r=n("./node_modules/lodash/_baseMatches.js"),o=n("./node_modules/lodash/_baseMatchesProperty.js"),i=n("./node_modules/lodash/identity.js"),a=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/property.js");e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},"./node_modules/lodash/_baseKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_isPrototype.js"),o=n("./node_modules/lodash/_nativeKeys.js"),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},"./node_modules/lodash/_baseKeysIn.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),o=n("./node_modules/lodash/_isPrototype.js"),i=n("./node_modules/lodash/_nativeKeysIn.js"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},"./node_modules/lodash/_baseLodash.js":function(e,t){e.exports=function(){}},"./node_modules/lodash/_baseMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js"),o=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},"./node_modules/lodash/_baseMatches.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsMatch.js"),o=n("./node_modules/lodash/_getMatchData.js"),i=n("./node_modules/lodash/_matchesStrictComparable.js");e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},"./node_modules/lodash/_baseMatchesProperty.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsEqual.js"),o=n("./node_modules/lodash/get.js"),i=n("./node_modules/lodash/hasIn.js"),a=n("./node_modules/lodash/_isKey.js"),s=n("./node_modules/lodash/_isStrictComparable.js"),l=n("./node_modules/lodash/_matchesStrictComparable.js"),u=n("./node_modules/lodash/_toKey.js"),c=1,d=2;e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,c|d)}}},"./node_modules/lodash/_basePick.js":function(e,t,n){var r=n("./node_modules/lodash/_basePickBy.js"),o=n("./node_modules/lodash/hasIn.js");e.exports=function(e,t){return r(e,t,function(t,n){return o(e,n)})}},"./node_modules/lodash/_basePickBy.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGet.js"),o=n("./node_modules/lodash/_baseSet.js"),i=n("./node_modules/lodash/_castPath.js");e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&o(l,i(u,e),c)}return l}},"./node_modules/lodash/_baseProperty.js":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"./node_modules/lodash/_basePropertyDeep.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGet.js");e.exports=function(e){return function(t){return r(t,e)}}},"./node_modules/lodash/_basePropertyOf.js":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"./node_modules/lodash/_baseRange.js":function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,o,i){for(var a=-1,s=r(n((t-e)/(o||1)),0),l=Array(s);s--;)l[i?s:++a]=e,e+=o;return l}},"./node_modules/lodash/_baseReduce.js":function(e,t){e.exports=function(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}},"./node_modules/lodash/_baseRest.js":function(e,t,n){var r=n("./node_modules/lodash/identity.js"),o=n("./node_modules/lodash/_overRest.js"),i=n("./node_modules/lodash/_setToString.js");e.exports=function(e,t){return i(o(e,t,r),e+"")}},"./node_modules/lodash/_baseSet.js":function(e,t,n){var r=n("./node_modules/lodash/_assignValue.js"),o=n("./node_modules/lodash/_castPath.js"),i=n("./node_modules/lodash/_isIndex.js"),a=n("./node_modules/lodash/isObject.js"),s=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=o(t,e)).length,d=c-1,f=e;null!=f&&++u<c;){var h=s(t[u]),p=n;if(u!=d){var m=f[h];void 0===(p=l?l(m,h,f):void 0)&&(p=a(m)?m:i(t[u+1])?[]:{})}r(f,h,p),f=f[h]}return e}},"./node_modules/lodash/_baseSetData.js":function(e,t,n){var r=n("./node_modules/lodash/identity.js"),o=n("./node_modules/lodash/_metaMap.js"),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},"./node_modules/lodash/_baseSetToString.js":function(e,t,n){var r=n("./node_modules/lodash/constant.js"),o=n("./node_modules/lodash/_defineProperty.js"),i=n("./node_modules/lodash/identity.js"),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},"./node_modules/lodash/_baseSlice.js":function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},"./node_modules/lodash/_baseSome.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t){var n;return r(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}},"./node_modules/lodash/_baseSum.js":function(e,t){e.exports=function(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}},"./node_modules/lodash/_baseTimes.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},"./node_modules/lodash/_baseToString.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/_arrayMap.js"),i=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/isSymbol.js"),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},"./node_modules/lodash/_baseUnary.js":function(e,t){e.exports=function(e){return function(t){return e(t)}}},"./node_modules/lodash/_baseUniq.js":function(e,t,n){var r=n("./node_modules/lodash/_SetCache.js"),o=n("./node_modules/lodash/_arrayIncludes.js"),i=n("./node_modules/lodash/_arrayIncludesWith.js"),a=n("./node_modules/lodash/_cacheHas.js"),s=n("./node_modules/lodash/_createSet.js"),l=n("./node_modules/lodash/_setToArray.js"),u=200;e.exports=function(e,t,n){var c=-1,d=o,f=e.length,h=!0,p=[],m=p;if(n)h=!1,d=i;else if(f>=u){var g=t?null:s(e);if(g)return l(g);h=!1,d=a,m=new r}else m=t?[]:p;e:for(;++c<f;){var v=e[c],y=t?t(v):v;if(v=n||0!==v?v:0,h&&y==y){for(var b=m.length;b--;)if(m[b]===y)continue e;t&&m.push(y),p.push(v)}else d(m,y,n)||(m!==p&&m.push(y),p.push(v))}return p}},"./node_modules/lodash/_baseValues.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js");e.exports=function(e,t){return r(t,function(t){return e[t]})}},"./node_modules/lodash/_cacheHas.js":function(e,t){e.exports=function(e,t){return e.has(t)}},"./node_modules/lodash/_castArrayLikeObject.js":function(e,t,n){var r=n("./node_modules/lodash/isArrayLikeObject.js");e.exports=function(e){return r(e)?e:[]}},"./node_modules/lodash/_castFunction.js":function(e,t,n){var r=n("./node_modules/lodash/identity.js");e.exports=function(e){return"function"==typeof e?e:r}},"./node_modules/lodash/_castPath.js":function(e,t,n){var r=n("./node_modules/lodash/isArray.js"),o=n("./node_modules/lodash/_isKey.js"),i=n("./node_modules/lodash/_stringToPath.js"),a=n("./node_modules/lodash/toString.js");e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},"./node_modules/lodash/_castSlice.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSlice.js");e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},"./node_modules/lodash/_cloneArrayBuffer.js":function(e,t,n){var r=n("./node_modules/lodash/_Uint8Array.js");e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},"./node_modules/lodash/_cloneBuffer.js":function(e,t,n){(function(e){var r=n("./node_modules/lodash/_root.js"),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/_cloneDataView.js":function(e,t,n){var r=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"./node_modules/lodash/_cloneRegExp.js":function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},"./node_modules/lodash/_cloneSymbol.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},"./node_modules/lodash/_cloneTypedArray.js":function(e,t,n){var r=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},"./node_modules/lodash/_composeArgs.js":function(e,t){var n=Math.max;e.exports=function(e,t,r,o){for(var i=-1,a=e.length,s=r.length,l=-1,u=t.length,c=n(a-s,0),d=Array(u+c),f=!o;++l<u;)d[l]=t[l];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;c--;)d[l++]=e[i++];return d}},"./node_modules/lodash/_composeArgsRight.js":function(e,t){var n=Math.max;e.exports=function(e,t,r,o){for(var i=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,d=n(a-l,0),f=Array(d+c),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<c;)f[p+u]=t[u];for(;++s<l;)(h||i<a)&&(f[p+r[s]]=e[i++]);return f}},"./node_modules/lodash/_copyArray.js":function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},"./node_modules/lodash/_copyObject.js":function(e,t,n){var r=n("./node_modules/lodash/_assignValue.js"),o=n("./node_modules/lodash/_baseAssignValue.js");e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},"./node_modules/lodash/_copySymbols.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/_getSymbols.js");e.exports=function(e,t){return r(e,o(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=function(e,t){return r(e,o(e),t)}},"./node_modules/lodash/_coreJsData.js":function(e,t,n){var r=n("./node_modules/lodash/_root.js")["__core-js_shared__"];e.exports=r},"./node_modules/lodash/_countHolders.js":function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},"./node_modules/lodash/_createAggregator.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayAggregator.js"),o=n("./node_modules/lodash/_baseAggregator.js"),i=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return function(n,s){var l=a(n)?r:o,u=t?t():{};return l(n,e,i(s,2),u)}}},"./node_modules/lodash/_createAssigner.js":function(e,t,n){var r=n("./node_modules/lodash/_baseRest.js"),o=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t})}},"./node_modules/lodash/_createBaseEach.js":function(e,t,n){var r=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},"./node_modules/lodash/_createBaseFor.js":function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},"./node_modules/lodash/_createBind.js":function(e,t,n){var r=n("./node_modules/lodash/_createCtor.js"),o=n("./node_modules/lodash/_root.js"),i=1;e.exports=function(e,t,n){var a=t&i,s=r(e);return function t(){return(this&&this!==o&&this instanceof t?s:e).apply(a?n:this,arguments)}}},"./node_modules/lodash/_createCaseFirst.js":function(e,t,n){var r=n("./node_modules/lodash/_castSlice.js"),o=n("./node_modules/lodash/_hasUnicode.js"),i=n("./node_modules/lodash/_stringToArray.js"),a=n("./node_modules/lodash/toString.js");e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},"./node_modules/lodash/_createCompounder.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayReduce.js"),o=n("./node_modules/lodash/deburr.js"),i=n("./node_modules/lodash/words.js"),a=RegExp("[']","g");e.exports=function(e){return function(t){return r(i(o(t).replace(a,"")),e,"")}}},"./node_modules/lodash/_createCtor.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),o=n("./node_modules/lodash/isObject.js");e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},"./node_modules/lodash/_createCurry.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),o=n("./node_modules/lodash/_createCtor.js"),i=n("./node_modules/lodash/_createHybrid.js"),a=n("./node_modules/lodash/_createRecurry.js"),s=n("./node_modules/lodash/_getHolder.js"),l=n("./node_modules/lodash/_replaceHolders.js"),u=n("./node_modules/lodash/_root.js");e.exports=function(e,t,n){var c=o(e);return function o(){for(var d=arguments.length,f=Array(d),h=d,p=s(o);h--;)f[h]=arguments[h];var m=d<3&&f[0]!==p&&f[d-1]!==p?[]:l(f,p);return(d-=m.length)<n?a(e,t,i,o.placeholder,void 0,f,m,void 0,void 0,n-d):r(this&&this!==u&&this instanceof o?c:e,this,f)}}},"./node_modules/lodash/_createFind.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIteratee.js"),o=n("./node_modules/lodash/isArrayLike.js"),i=n("./node_modules/lodash/keys.js");e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},"./node_modules/lodash/_createFlow.js":function(e,t,n){var r=n("./node_modules/lodash/_LodashWrapper.js"),o=n("./node_modules/lodash/_flatRest.js"),i=n("./node_modules/lodash/_getData.js"),a=n("./node_modules/lodash/_getFuncName.js"),s=n("./node_modules/lodash/isArray.js"),l=n("./node_modules/lodash/_isLaziable.js"),u="Expected a function",c=8,d=32,f=128,h=256;e.exports=function(e){return o(function(t){var n=t.length,o=n,p=r.prototype.thru;for(e&&t.reverse();o--;){var m=t[o];if("function"!=typeof m)throw new TypeError(u);if(p&&!g&&"wrapper"==a(m))var g=new r([],!0)}for(o=g?o:n;++o<n;){m=t[o];var v=a(m),y="wrapper"==v?i(m):void 0;g=y&&l(y[0])&&y[1]==(f|c|d|h)&&!y[4].length&&1==y[9]?g[a(y[0])].apply(g,y[3]):1==m.length&&l(m)?g[v]():g.thru(m)}return function(){var e=arguments,r=e[0];if(g&&1==e.length&&s(r))return g.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}},"./node_modules/lodash/_createHybrid.js":function(e,t,n){var r=n("./node_modules/lodash/_composeArgs.js"),o=n("./node_modules/lodash/_composeArgsRight.js"),i=n("./node_modules/lodash/_countHolders.js"),a=n("./node_modules/lodash/_createCtor.js"),s=n("./node_modules/lodash/_createRecurry.js"),l=n("./node_modules/lodash/_getHolder.js"),u=n("./node_modules/lodash/_reorder.js"),c=n("./node_modules/lodash/_replaceHolders.js"),d=n("./node_modules/lodash/_root.js"),f=1,h=2,p=8,m=16,g=128,v=512;e.exports=function e(t,n,y,b,_,x,w,k,E,T){var A=n&g,S=n&f,M=n&h,C=n&(p|m),j=n&v,O=M?void 0:a(t);return function f(){for(var h=arguments.length,p=Array(h),m=h;m--;)p[m]=arguments[m];if(C)var g=l(f),v=i(p,g);if(b&&(p=r(p,b,_,C)),x&&(p=o(p,x,w,C)),h-=v,C&&h<T){var N=c(p,g);return s(t,n,e,f.placeholder,y,p,N,k,E,T-h)}var R=S?y:this,P=M?R[t]:t;return h=p.length,k?p=u(p,k):j&&h>1&&p.reverse(),A&&E<h&&(p.length=E),this&&this!==d&&this instanceof f&&(P=O||a(P)),P.apply(R,p)}}},"./node_modules/lodash/_createPartial.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),o=n("./node_modules/lodash/_createCtor.js"),i=n("./node_modules/lodash/_root.js"),a=1;e.exports=function(e,t,n,s){var l=t&a,u=o(e);return function t(){for(var o=-1,a=arguments.length,c=-1,d=s.length,f=Array(d+a),h=this&&this!==i&&this instanceof t?u:e;++c<d;)f[c]=s[c];for(;a--;)f[c++]=arguments[++o];return r(h,l?n:this,f)}}},"./node_modules/lodash/_createRange.js":function(e,t,n){var r=n("./node_modules/lodash/_baseRange.js"),o=n("./node_modules/lodash/_isIterateeCall.js"),i=n("./node_modules/lodash/toFinite.js");e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},"./node_modules/lodash/_createRecurry.js":function(e,t,n){var r=n("./node_modules/lodash/_isLaziable.js"),o=n("./node_modules/lodash/_setData.js"),i=n("./node_modules/lodash/_setWrapToString.js"),a=1,s=2,l=4,u=8,c=32,d=64;e.exports=function(e,t,n,f,h,p,m,g,v,y){var b=t&u;t|=b?c:d,(t&=~(b?d:c))&l||(t&=~(a|s));var _=[e,t,h,b?p:void 0,b?m:void 0,b?void 0:p,b?void 0:m,g,v,y],x=n.apply(void 0,_);return r(e)&&o(x,_),x.placeholder=f,i(x,e,t)}},"./node_modules/lodash/_createRound.js":function(e,t,n){var r=n("./node_modules/lodash/toInteger.js"),o=n("./node_modules/lodash/toNumber.js"),i=n("./node_modules/lodash/toString.js"),a=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=o(e),n=null==n?0:a(r(n),292)){var s=(i(e)+"e").split("e"),l=t(s[0]+"e"+(+s[1]+n));return+((s=(i(l)+"e").split("e"))[0]+"e"+(+s[1]-n))}return t(e)}}},"./node_modules/lodash/_createSet.js":function(e,t,n){var r=n("./node_modules/lodash/_Set.js"),o=n("./node_modules/lodash/noop.js"),i=n("./node_modules/lodash/_setToArray.js"),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},"./node_modules/lodash/_createWrap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSetData.js"),o=n("./node_modules/lodash/_createBind.js"),i=n("./node_modules/lodash/_createCurry.js"),a=n("./node_modules/lodash/_createHybrid.js"),s=n("./node_modules/lodash/_createPartial.js"),l=n("./node_modules/lodash/_getData.js"),u=n("./node_modules/lodash/_mergeData.js"),c=n("./node_modules/lodash/_setData.js"),d=n("./node_modules/lodash/_setWrapToString.js"),f=n("./node_modules/lodash/toInteger.js"),h="Expected a function",p=1,m=2,g=8,v=16,y=32,b=64,_=Math.max;e.exports=function(e,t,n,x,w,k,E,T){var A=t&m;if(!A&&"function"!=typeof e)throw new TypeError(h);var S=x?x.length:0;if(S||(t&=~(y|b),x=w=void 0),E=void 0===E?E:_(f(E),0),T=void 0===T?T:f(T),S-=w?w.length:0,t&b){var M=x,C=w;x=w=void 0}var j=A?void 0:l(e),O=[e,t,n,x,w,M,C,k,E,T];if(j&&u(O,j),e=O[0],t=O[1],n=O[2],x=O[3],w=O[4],!(T=O[9]=void 0===O[9]?A?0:e.length:_(O[9]-S,0))&&t&(g|v)&&(t&=~(g|v)),t&&t!=p)N=t==g||t==v?i(e,t,T):t!=y&&t!=(p|y)||w.length?a.apply(void 0,O):s(e,t,n,x);else var N=o(e,t,n);return d((j?r:c)(N,O),e,t)}},"./node_modules/lodash/_deburrLetter.js":function(e,t,n){var r=n("./node_modules/lodash/_basePropertyOf.js")({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});e.exports=r},"./node_modules/lodash/_defineProperty.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js"),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},"./node_modules/lodash/_equalArrays.js":function(e,t,n){var r=n("./node_modules/lodash/_SetCache.js"),o=n("./node_modules/lodash/_arraySome.js"),i=n("./node_modules/lodash/_cacheHas.js"),a=1,s=2;e.exports=function(e,t,n,l,u,c){var d=n&a,f=e.length,h=t.length;if(f!=h&&!(d&&h>f))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,g=!0,v=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<f;){var y=e[m],b=t[m];if(l)var _=d?l(b,y,m,t,e,c):l(y,b,m,e,t,c);if(void 0!==_){if(_)continue;g=!1;break}if(v){if(!o(t,function(e,t){if(!i(v,t)&&(y===e||u(y,e,n,l,c)))return v.push(t)})){g=!1;break}}else if(y!==b&&!u(y,b,n,l,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},"./node_modules/lodash/_equalByTag.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/_Uint8Array.js"),i=n("./node_modules/lodash/eq.js"),a=n("./node_modules/lodash/_equalArrays.js"),s=n("./node_modules/lodash/_mapToArray.js"),l=n("./node_modules/lodash/_setToArray.js"),u=1,c=2,d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,k=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,E,T){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!E(new o(e),new o(t)));case d:case f:case m:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case p:var A=s;case v:var S=r&u;if(A||(A=l),e.size!=t.size&&!S)return!1;var M=T.get(e);if(M)return M==t;r|=c,T.set(e,t);var C=a(A(e),A(t),r,w,E,T);return T.delete(e),C;case b:if(k)return k.call(e)==k.call(t)}return!1}},"./node_modules/lodash/_equalObjects.js":function(e,t,n){var r=n("./node_modules/lodash/_getAllKeys.js"),o=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,l){var u=n&o,c=r(e),d=c.length;if(d!=r(t).length&&!u)return!1;for(var f=d;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=u;++f<d;){var v=e[h=c[f]],y=t[h];if(a)var b=u?a(y,v,h,t,e,l):a(v,y,h,e,t,l);if(!(void 0===b?v===y||s(v,y,n,a,l):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(e),l.delete(t),m}},"./node_modules/lodash/_flatRest.js":function(e,t,n){var r=n("./node_modules/lodash/flatten.js"),o=n("./node_modules/lodash/_overRest.js"),i=n("./node_modules/lodash/_setToString.js");e.exports=function(e){return i(o(e,void 0,r),e+"")}},"./node_modules/lodash/_freeGlobal.js":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/_getAllKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetAllKeys.js"),o=n("./node_modules/lodash/_getSymbols.js"),i=n("./node_modules/lodash/keys.js");e.exports=function(e){return r(e,i,o)}},"./node_modules/lodash/_getAllKeysIn.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetAllKeys.js"),o=n("./node_modules/lodash/_getSymbolsIn.js"),i=n("./node_modules/lodash/keysIn.js");e.exports=function(e){return r(e,i,o)}},"./node_modules/lodash/_getData.js":function(e,t,n){var r=n("./node_modules/lodash/_metaMap.js"),o=n("./node_modules/lodash/noop.js"),i=r?function(e){return r.get(e)}:o;e.exports=i},"./node_modules/lodash/_getFuncName.js":function(e,t,n){var r=n("./node_modules/lodash/_realNames.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},"./node_modules/lodash/_getHolder.js":function(e,t){e.exports=function(e){return e.placeholder}},"./node_modules/lodash/_getMapData.js":function(e,t,n){var r=n("./node_modules/lodash/_isKeyable.js");e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},"./node_modules/lodash/_getMatchData.js":function(e,t,n){var r=n("./node_modules/lodash/_isStrictComparable.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},"./node_modules/lodash/_getNative.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsNative.js"),o=n("./node_modules/lodash/_getValue.js");e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},"./node_modules/lodash/_getPrototype.js":function(e,t,n){var r=n("./node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);e.exports=r},"./node_modules/lodash/_getRawTag.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},"./node_modules/lodash/_getSymbols.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayFilter.js"),o=n("./node_modules/lodash/stubArray.js"),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},"./node_modules/lodash/_getSymbolsIn.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayPush.js"),o=n("./node_modules/lodash/_getPrototype.js"),i=n("./node_modules/lodash/_getSymbols.js"),a=n("./node_modules/lodash/stubArray.js"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},"./node_modules/lodash/_getTag.js":function(e,t,n){var r=n("./node_modules/lodash/_DataView.js"),o=n("./node_modules/lodash/_Map.js"),i=n("./node_modules/lodash/_Promise.js"),a=n("./node_modules/lodash/_Set.js"),s=n("./node_modules/lodash/_WeakMap.js"),l=n("./node_modules/lodash/_baseGetTag.js"),u=n("./node_modules/lodash/_toSource.js"),c=u(r),d=u(o),f=u(i),h=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},"./node_modules/lodash/_getValue.js":function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},"./node_modules/lodash/_getWrapDetails.js":function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},"./node_modules/lodash/_hasPath.js":function(e,t,n){var r=n("./node_modules/lodash/_castPath.js"),o=n("./node_modules/lodash/isArguments.js"),i=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/_isIndex.js"),s=n("./node_modules/lodash/isLength.js"),l=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var f=l(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(f,c)&&(i(e)||o(e))}},"./node_modules/lodash/_hasUnicode.js":function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},"./node_modules/lodash/_hasUnicodeWord.js":function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},"./node_modules/lodash/_hashClear.js":function(e,t,n){var r=n("./node_modules/lodash/_nativeCreate.js");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},"./node_modules/lodash/_hashDelete.js":function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},"./node_modules/lodash/_hashGet.js":function(e,t,n){var r=n("./node_modules/lodash/_nativeCreate.js"),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}},"./node_modules/lodash/_hashHas.js":function(e,t,n){var r=n("./node_modules/lodash/_nativeCreate.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},"./node_modules/lodash/_hashSet.js":function(e,t,n){var r=n("./node_modules/lodash/_nativeCreate.js"),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},"./node_modules/lodash/_initCloneArray.js":function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},"./node_modules/lodash/_initCloneByTag.js":function(e,t,n){var r=n("./node_modules/lodash/_cloneArrayBuffer.js"),o=n("./node_modules/lodash/_cloneDataView.js"),i=n("./node_modules/lodash/_cloneRegExp.js"),a=n("./node_modules/lodash/_cloneSymbol.js"),s=n("./node_modules/lodash/_cloneTypedArray.js"),l="[object Boolean]",u="[object Date]",c="[object Map]",d="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]";e.exports=function(e,t,n){var S=e.constructor;switch(t){case g:return r(e);case l:case u:return new S(+e);case v:return o(e,n);case y:case b:case _:case x:case w:case k:case E:case T:case A:return s(e,n);case c:return new S;case d:case p:return new S(e);case f:return i(e);case h:return new S;case m:return a(e)}}},"./node_modules/lodash/_initCloneObject.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),o=n("./node_modules/lodash/_getPrototype.js"),i=n("./node_modules/lodash/_isPrototype.js");e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},"./node_modules/lodash/_insertWrapDetails.js":function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var o=r-1;return t[o]=(r>1?"& ":"")+t[o],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},"./node_modules/lodash/_isFlattenable.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/isArguments.js"),i=n("./node_modules/lodash/isArray.js"),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},"./node_modules/lodash/_isIndex.js":function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},"./node_modules/lodash/_isIterateeCall.js":function(e,t,n){var r=n("./node_modules/lodash/eq.js"),o=n("./node_modules/lodash/isArrayLike.js"),i=n("./node_modules/lodash/_isIndex.js"),a=n("./node_modules/lodash/isObject.js");e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},"./node_modules/lodash/_isKey.js":function(e,t,n){var r=n("./node_modules/lodash/isArray.js"),o=n("./node_modules/lodash/isSymbol.js"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},"./node_modules/lodash/_isKeyable.js":function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},"./node_modules/lodash/_isLaziable.js":function(e,t,n){var r=n("./node_modules/lodash/_LazyWrapper.js"),o=n("./node_modules/lodash/_getData.js"),i=n("./node_modules/lodash/_getFuncName.js"),a=n("./node_modules/lodash/wrapperLodash.js");e.exports=function(e){var t=i(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},"./node_modules/lodash/_isMasked.js":function(e,t,n){var r,o=n("./node_modules/lodash/_coreJsData.js"),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},"./node_modules/lodash/_isPrototype.js":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"./node_modules/lodash/_isStrictComparable.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js");e.exports=function(e){return e==e&&!r(e)}},"./node_modules/lodash/_iteratorToArray.js":function(e,t){e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},"./node_modules/lodash/_listCacheClear.js":function(e,t){e.exports=function(){this.__data__=[],this.size=0}},"./node_modules/lodash/_listCacheDelete.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js"),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},"./node_modules/lodash/_listCacheGet.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},"./node_modules/lodash/_listCacheHas.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e){return r(this.__data__,e)>-1}},"./node_modules/lodash/_listCacheSet.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},"./node_modules/lodash/_mapCacheClear.js":function(e,t,n){var r=n("./node_modules/lodash/_Hash.js"),o=n("./node_modules/lodash/_ListCache.js"),i=n("./node_modules/lodash/_Map.js");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},"./node_modules/lodash/_mapCacheDelete.js":function(e,t,n){var r=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},"./node_modules/lodash/_mapCacheGet.js":function(e,t,n){var r=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){return r(this,e).get(e)}},"./node_modules/lodash/_mapCacheHas.js":function(e,t,n){var r=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){return r(this,e).has(e)}},"./node_modules/lodash/_mapCacheSet.js":function(e,t,n){var r=n("./node_modules/lodash/_getMapData.js");e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},"./node_modules/lodash/_mapToArray.js":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},"./node_modules/lodash/_matchesStrictComparable.js":function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},"./node_modules/lodash/_memoizeCapped.js":function(e,t,n){var r=n("./node_modules/lodash/memoize.js"),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},"./node_modules/lodash/_mergeData.js":function(e,t,n){var r=n("./node_modules/lodash/_composeArgs.js"),o=n("./node_modules/lodash/_composeArgsRight.js"),i=n("./node_modules/lodash/_replaceHolders.js"),a="__lodash_placeholder__",s=1,l=2,u=4,c=8,d=128,f=256,h=Math.min;e.exports=function(e,t){var n=e[1],p=t[1],m=n|p,g=m<(s|l|d),v=p==d&&n==c||p==d&&n==f&&e[7].length<=t[8]||p==(d|f)&&t[7].length<=t[8]&&n==c;if(!g&&!v)return e;p&s&&(e[2]=t[2],m|=n&s?0:u);var y=t[3];if(y){var b=e[3];e[3]=b?r(b,y,t[4]):y,e[4]=b?i(e[3],a):t[4]}return(y=t[5])&&(b=e[5],e[5]=b?o(b,y,t[6]):y,e[6]=b?i(e[5],a):t[6]),(y=t[7])&&(e[7]=y),p&d&&(e[8]=null==e[8]?t[8]:h(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}},"./node_modules/lodash/_metaMap.js":function(e,t,n){var r=n("./node_modules/lodash/_WeakMap.js"),o=r&&new r;e.exports=o},"./node_modules/lodash/_nativeCreate.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(Object,"create");e.exports=r},"./node_modules/lodash/_nativeKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_overArg.js")(Object.keys,Object);e.exports=r},"./node_modules/lodash/_nativeKeysIn.js":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"./node_modules/lodash/_nodeUtil.js":function(e,t,n){(function(e){var r=n("./node_modules/lodash/_freeGlobal.js"),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/_objectToString.js":function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},"./node_modules/lodash/_overArg.js":function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},"./node_modules/lodash/_overRest.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},"./node_modules/lodash/_parent.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGet.js"),o=n("./node_modules/lodash/_baseSlice.js");e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},"./node_modules/lodash/_realNames.js":function(e,t){e.exports={}},"./node_modules/lodash/_reorder.js":function(e,t,n){var r=n("./node_modules/lodash/_copyArray.js"),o=n("./node_modules/lodash/_isIndex.js"),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var l=t[a];e[a]=o(l,n)?s[l]:void 0}return e}},"./node_modules/lodash/_replaceHolders.js":function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[i++]=r)}return a}},"./node_modules/lodash/_root.js":function(e,t,n){var r=n("./node_modules/lodash/_freeGlobal.js"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},"./node_modules/lodash/_setCacheAdd.js":function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},"./node_modules/lodash/_setCacheHas.js":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"./node_modules/lodash/_setData.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSetData.js"),o=n("./node_modules/lodash/_shortOut.js")(r);e.exports=o},"./node_modules/lodash/_setToArray.js":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},"./node_modules/lodash/_setToString.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSetToString.js"),o=n("./node_modules/lodash/_shortOut.js")(r);e.exports=o},"./node_modules/lodash/_setWrapToString.js":function(e,t,n){var r=n("./node_modules/lodash/_getWrapDetails.js"),o=n("./node_modules/lodash/_insertWrapDetails.js"),i=n("./node_modules/lodash/_setToString.js"),a=n("./node_modules/lodash/_updateWrapDetails.js");e.exports=function(e,t,n){var s=t+"";return i(e,o(s,a(r(s),n)))}},"./node_modules/lodash/_shortOut.js":function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},"./node_modules/lodash/_stackClear.js":function(e,t,n){var r=n("./node_modules/lodash/_ListCache.js");e.exports=function(){this.__data__=new r,this.size=0}},"./node_modules/lodash/_stackDelete.js":function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},"./node_modules/lodash/_stackGet.js":function(e,t){e.exports=function(e){return this.__data__.get(e)}},"./node_modules/lodash/_stackHas.js":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"./node_modules/lodash/_stackSet.js":function(e,t,n){var r=n("./node_modules/lodash/_ListCache.js"),o=n("./node_modules/lodash/_Map.js"),i=n("./node_modules/lodash/_MapCache.js"),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},"./node_modules/lodash/_strictIndexOf.js":function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},"./node_modules/lodash/_stringSize.js":function(e,t,n){var r=n("./node_modules/lodash/_asciiSize.js"),o=n("./node_modules/lodash/_hasUnicode.js"),i=n("./node_modules/lodash/_unicodeSize.js");e.exports=function(e){return o(e)?i(e):r(e)}},"./node_modules/lodash/_stringToArray.js":function(e,t,n){var r=n("./node_modules/lodash/_asciiToArray.js"),o=n("./node_modules/lodash/_hasUnicode.js"),i=n("./node_modules/lodash/_unicodeToArray.js");e.exports=function(e){return o(e)?i(e):r(e)}},"./node_modules/lodash/_stringToPath.js":function(e,t,n){var r=n("./node_modules/lodash/_memoizeCapped.js"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},"./node_modules/lodash/_toKey.js":function(e,t,n){var r=n("./node_modules/lodash/isSymbol.js"),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},"./node_modules/lodash/_toSource.js":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},"./node_modules/lodash/_unicodeSize.js":function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[i+r+"?",r,a,s,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+c+u,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},"./node_modules/lodash/_unicodeToArray.js":function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[i+r+"?",r,a,s,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+c+u,"g");e.exports=function(e){return e.match(d)||[]}},"./node_modules/lodash/_unicodeWords.js":function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",o="\\d+",i="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",s="[^\\ud800-\\udfff"+n+o+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+a+"|"+s+")",f="(?:"+c+"|"+s+")",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",p="[\\ufe0e\\ufe0f]?"+h+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,u].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*"),m="(?:"+[i,l,u].join("|")+")"+p,g=RegExp([c+"?"+a+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[r,c,"$"].join("|")+")",f+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[r,c+d,"$"].join("|")+")",c+"?"+d+"+(?:['](?:d|ll|m|re|s|t|ve))?",c+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,m].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},"./node_modules/lodash/_updateWrapDetails.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayEach.js"),o=n("./node_modules/lodash/_arrayIncludes.js"),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)}),e.sort()}},"./node_modules/lodash/_wrapperClone.js":function(e,t,n){var r=n("./node_modules/lodash/_LazyWrapper.js"),o=n("./node_modules/lodash/_LodashWrapper.js"),i=n("./node_modules/lodash/_copyArray.js");e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},"./node_modules/lodash/ary.js":function(e,t,n){var r=n("./node_modules/lodash/_createWrap.js"),o=128;e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,o,void 0,void 0,void 0,void 0,t)}},"./node_modules/lodash/assign.js":function(e,t,n){var r=n("./node_modules/lodash/_assignValue.js"),o=n("./node_modules/lodash/_copyObject.js"),i=n("./node_modules/lodash/_createAssigner.js"),a=n("./node_modules/lodash/isArrayLike.js"),s=n("./node_modules/lodash/_isPrototype.js"),l=n("./node_modules/lodash/keys.js"),u=Object.prototype.hasOwnProperty,c=i(function(e,t){if(s(t)||a(t))o(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])});e.exports=c},"./node_modules/lodash/clamp.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClamp.js"),o=n("./node_modules/lodash/toNumber.js");e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==t&&(t=(t=o(t))==t?t:0),r(o(e),t,n)}},"./node_modules/lodash/clone.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClone.js"),o=4;e.exports=function(e){return r(e,o)}},"./node_modules/lodash/compact.js":function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}},"./node_modules/lodash/constant.js":function(e,t){e.exports=function(e){return function(){return e}}},"./node_modules/lodash/curry.js":function(e,t,n){var r=n("./node_modules/lodash/_createWrap.js"),o=8;function i(e,t,n){var a=r(e,o,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return a.placeholder=i.placeholder,a}i.placeholder={},e.exports=i},"./node_modules/lodash/deburr.js":function(e,t,n){var r=n("./node_modules/lodash/_deburrLetter.js"),o=n("./node_modules/lodash/toString.js"),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,r).replace(a,"")}},"./node_modules/lodash/difference.js":function(e,t,n){var r=n("./node_modules/lodash/_baseDifference.js"),o=n("./node_modules/lodash/_baseFlatten.js"),i=n("./node_modules/lodash/_baseRest.js"),a=n("./node_modules/lodash/isArrayLikeObject.js"),s=i(function(e,t){return a(e)?r(e,o(t,1,a,!0)):[]});e.exports=s},"./node_modules/lodash/dropRight.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSlice.js"),o=n("./node_modules/lodash/toInteger.js");e.exports=function(e,t,n){var i=null==e?0:e.length;return i?(t=n||void 0===t?1:o(t),r(e,0,(t=i-t)<0?0:t)):[]}},"./node_modules/lodash/each.js":function(e,t,n){e.exports=n("./node_modules/lodash/forEach.js")},"./node_modules/lodash/eq.js":function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"./node_modules/lodash/escapeRegExp.js":function(e,t,n){var r=n("./node_modules/lodash/toString.js"),o=/[\\^$.*+?()[\]{}|]/g,i=RegExp(o.source);e.exports=function(e){return(e=r(e))&&i.test(e)?e.replace(o,"\\$&"):e}},"./node_modules/lodash/every.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayEvery.js"),o=n("./node_modules/lodash/_baseEvery.js"),i=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},"./node_modules/lodash/filter.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayFilter.js"),o=n("./node_modules/lodash/_baseFilter.js"),i=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},"./node_modules/lodash/find.js":function(e,t,n){var r=n("./node_modules/lodash/_createFind.js")(n("./node_modules/lodash/findIndex.js"));e.exports=r},"./node_modules/lodash/findIndex.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFindIndex.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/toInteger.js"),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=a(s+l,0)),r(e,o(t,3),l)}},"./node_modules/lodash/first.js":function(e,t,n){e.exports=n("./node_modules/lodash/head.js")},"./node_modules/lodash/flatMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFlatten.js"),o=n("./node_modules/lodash/map.js");e.exports=function(e,t){return r(o(e,t),1)}},"./node_modules/lodash/flatten.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFlatten.js");e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},"./node_modules/lodash/flow.js":function(e,t,n){var r=n("./node_modules/lodash/_createFlow.js")();e.exports=r},"./node_modules/lodash/forEach.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayEach.js"),o=n("./node_modules/lodash/_baseEach.js"),i=n("./node_modules/lodash/_castFunction.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},"./node_modules/lodash/fp/_baseConvert.js":function(e,t,n){var r=n("./node_modules/lodash/fp/_mapping.js"),o=n("./node_modules/lodash/fp/placeholder.js"),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,c){var d="function"==typeof n,f=n===Object(n);if(f&&(c=u,u=n,n=void 0),null==u)throw new TypeError;c||(c={});var h={cap:!("cap"in c)||c.cap,curry:!("curry"in c)||c.curry,fixed:!("fixed"in c)||c.fixed,immutable:!("immutable"in c)||c.immutable,rearg:!("rearg"in c)||c.rearg},p=d?u:o,m="curry"in c&&c.curry,g="fixed"in c&&c.fixed,v="rearg"in c&&c.rearg,y=d?u.runInContext():void 0,b=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},_=b.ary,x=b.assign,w=b.clone,k=b.curry,E=b.forEach,T=b.isArray,A=b.isError,S=b.isFunction,M=b.isWeakMap,C=b.keys,j=b.rearg,O=b.toInteger,N=b.toPath,R=C(r.aryMethod),P={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),o=r.length;return h.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:a(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!S(n))return e(n,Object(t));var r=[];return E(C(t),function(e){S(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),E(r,function(e){var t=e[1];S(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:O(t)+1;return k(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return k(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),c)}}};function I(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return z(e,function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(j(a(e,n),t),n)})}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return z(e,function(e){return"function"==typeof e?a(e,t):e})}(t,o)}return t}function D(e,t,n){if(h.fixed&&(g||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?_(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function L(e,t,n){return h.rearg&&n>1&&(v||!r.skipRearg[e])?j(t,r.methodRearg[e]||r.aryRearg[n]):t}function B(e,t){for(var n=-1,r=(t=N(t)).length,o=r-1,i=w(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],l=a[s];null==l||S(l)||A(l)||M(l)||(a[s]=w(n==o?l:Object(l))),a=a[s]}return i}function F(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=c;return function(t){var r=d?y:b,s=d?y[i]:n,l=x(x({},a),t);return e(r,o,s,l)}}function z(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=h.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function U(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=P[i];return u?a=u(t):h.immutable&&(r.mutate.array[i]?a=l(t,s):r.mutate.object[i]?a=l(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=l(t,B))),E(R,function(e){return E(r.aryMethod[e],function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?D(i,L(i,a,e),e):L(i,D(i,a,e),e),o=I(i,o),l=o,u=e,o=m||h.curry&&u>1?k(l,u):l,!1}var l,u}),!o}),o||(o=a),o==t&&(o=m?k(o,1):function(){return t.apply(this,arguments)}),o.convert=F(i,t),o.placeholder=t.placeholder=n,o}if(!f)return U(n,u,p);var q=u,V=[];return E(R,function(e){E(r.aryMethod[e],function(e){var t=q[r.remap[e]||e];t&&V.push([e,U(e,t,q)])})}),E(C(q),function(e){var t=q[e];if("function"==typeof t){for(var n=V.length;n--;)if(V[n][0]==e)return;t.convert=F(e,t),V.push([e,t])}}),E(V,function(e){q[e[0]]=e[1]}),q.convert=function(e){return q.runInContext.convert(e)(void 0)},q.placeholder=q,E(C(q),function(e){E(r.realToAlias[e]||[],function(t){q[t]=q[e]})}),q}},"./node_modules/lodash/fp/_falseOptions.js":function(e,t){e.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},"./node_modules/lodash/fp/_mapping.js":function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},"./node_modules/lodash/fp/_util.js":function(e,t,n){e.exports={ary:n("./node_modules/lodash/ary.js"),assign:n("./node_modules/lodash/_baseAssign.js"),clone:n("./node_modules/lodash/clone.js"),curry:n("./node_modules/lodash/curry.js"),forEach:n("./node_modules/lodash/_arrayEach.js"),isArray:n("./node_modules/lodash/isArray.js"),isError:n("./node_modules/lodash/isError.js"),isFunction:n("./node_modules/lodash/isFunction.js"),isWeakMap:n("./node_modules/lodash/isWeakMap.js"),iteratee:n("./node_modules/lodash/iteratee.js"),keys:n("./node_modules/lodash/_baseKeys.js"),rearg:n("./node_modules/lodash/rearg.js"),toInteger:n("./node_modules/lodash/toInteger.js"),toPath:n("./node_modules/lodash/toPath.js")}},"./node_modules/lodash/fp/convert.js":function(e,t,n){var r=n("./node_modules/lodash/fp/_baseConvert.js"),o=n("./node_modules/lodash/fp/_util.js");e.exports=function(e,t,n){return r(o,e,t,n)}},"./node_modules/lodash/fp/filter.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("filter",n("./node_modules/lodash/filter.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/flatMap.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("flatMap",n("./node_modules/lodash/flatMap.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/flow.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("flow",n("./node_modules/lodash/flow.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/identity.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("identity",n("./node_modules/lodash/identity.js"),n("./node_modules/lodash/fp/_falseOptions.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/map.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("map",n("./node_modules/lodash/map.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/placeholder.js":function(e,t){e.exports={}},"./node_modules/lodash/fp/split.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("split",n("./node_modules/lodash/split.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/toArray.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("toArray",n("./node_modules/lodash/toArray.js"),n("./node_modules/lodash/fp/_falseOptions.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/uniq.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("uniq",n("./node_modules/lodash/uniq.js"),n("./node_modules/lodash/fp/_falseOptions.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/get.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGet.js");e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},"./node_modules/lodash/has.js":function(e,t,n){var r=n("./node_modules/lodash/_baseHas.js"),o=n("./node_modules/lodash/_hasPath.js");e.exports=function(e,t){return null!=e&&o(e,t,r)}},"./node_modules/lodash/hasIn.js":function(e,t,n){var r=n("./node_modules/lodash/_baseHasIn.js"),o=n("./node_modules/lodash/_hasPath.js");e.exports=function(e,t){return null!=e&&o(e,t,r)}},"./node_modules/lodash/head.js":function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},"./node_modules/lodash/identity.js":function(e,t){e.exports=function(e){return e}},"./node_modules/lodash/inRange.js":function(e,t,n){var r=n("./node_modules/lodash/_baseInRange.js"),o=n("./node_modules/lodash/toFinite.js"),i=n("./node_modules/lodash/toNumber.js");e.exports=function(e,t,n){return t=o(t),void 0===n?(n=t,t=0):n=o(n),e=i(e),r(e,t,n)}},"./node_modules/lodash/includes.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIndexOf.js"),o=n("./node_modules/lodash/isArrayLike.js"),i=n("./node_modules/lodash/isString.js"),a=n("./node_modules/lodash/toInteger.js"),s=n("./node_modules/lodash/values.js"),l=Math.max;e.exports=function(e,t,n,u){e=o(e)?e:s(e),n=n&&!u?a(n):0;var c=e.length;return n<0&&(n=l(c+n,0)),i(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&r(e,t,n)>-1}},"./node_modules/lodash/intersection.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),o=n("./node_modules/lodash/_baseIntersection.js"),i=n("./node_modules/lodash/_baseRest.js"),a=n("./node_modules/lodash/_castArrayLikeObject.js"),s=i(function(e){var t=r(e,a);return t.length&&t[0]===e[0]?o(t):[]});e.exports=s},"./node_modules/lodash/invoke.js":function(e,t,n){var r=n("./node_modules/lodash/_baseInvoke.js"),o=n("./node_modules/lodash/_baseRest.js")(r);e.exports=o},"./node_modules/lodash/isArguments.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsArguments.js"),o=n("./node_modules/lodash/isObjectLike.js"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},"./node_modules/lodash/isArray.js":function(e,t){var n=Array.isArray;e.exports=n},"./node_modules/lodash/isArrayLike.js":function(e,t,n){var r=n("./node_modules/lodash/isFunction.js"),o=n("./node_modules/lodash/isLength.js");e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},"./node_modules/lodash/isArrayLikeObject.js":function(e,t,n){var r=n("./node_modules/lodash/isArrayLike.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&r(e)}},"./node_modules/lodash/isBoolean.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object Boolean]";e.exports=function(e){return!0===e||!1===e||o(e)&&r(e)==i}},"./node_modules/lodash/isBuffer.js":function(e,t,n){(function(e){var r=n("./node_modules/lodash/_root.js"),o=n("./node_modules/lodash/stubFalse.js"),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l}).call(this,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/isEmpty.js":function(e,t,n){var r=n("./node_modules/lodash/_baseKeys.js"),o=n("./node_modules/lodash/_getTag.js"),i=n("./node_modules/lodash/isArguments.js"),a=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/isArrayLike.js"),l=n("./node_modules/lodash/isBuffer.js"),u=n("./node_modules/lodash/_isPrototype.js"),c=n("./node_modules/lodash/isTypedArray.js"),d="[object Map]",f="[object Set]",h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||i(e)))return!e.length;var t=o(e);if(t==d||t==f)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},"./node_modules/lodash/isEqual.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsEqual.js");e.exports=function(e,t){return r(e,t)}},"./node_modules/lodash/isError.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i=n("./node_modules/lodash/isPlainObject.js"),a="[object DOMException]",s="[object Error]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==s||t==a||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},"./node_modules/lodash/isFunction.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObject.js"),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==l}},"./node_modules/lodash/isLength.js":function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},"./node_modules/lodash/isMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsMap.js"),o=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_nodeUtil.js"),a=i&&i.isMap,s=a?o(a):r;e.exports=s},"./node_modules/lodash/isNil.js":function(e,t){e.exports=function(e){return null==e}},"./node_modules/lodash/isNumber.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object Number]";e.exports=function(e){return"number"==typeof e||o(e)&&r(e)==i}},"./node_modules/lodash/isObject.js":function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"./node_modules/lodash/isObjectLike.js":function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash/isPlainObject.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/_getPrototype.js"),i=n("./node_modules/lodash/isObjectLike.js"),a="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,d=u.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}},"./node_modules/lodash/isRegExp.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsRegExp.js"),o=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_nodeUtil.js"),a=i&&i.isRegExp,s=a?o(a):r;e.exports=s},"./node_modules/lodash/isSet.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsSet.js"),o=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_nodeUtil.js"),a=i&&i.isSet,s=a?o(a):r;e.exports=s},"./node_modules/lodash/isString.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isArray.js"),i=n("./node_modules/lodash/isObjectLike.js"),a="[object String]";e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&r(e)==a}},"./node_modules/lodash/isSymbol.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},"./node_modules/lodash/isTypedArray.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsTypedArray.js"),o=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_nodeUtil.js"),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},"./node_modules/lodash/isUndefined.js":function(e,t){e.exports=function(e){return void 0===e}},"./node_modules/lodash/isWeakMap.js":function(e,t,n){var r=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object WeakMap]";e.exports=function(e){return o(e)&&r(e)==i}},"./node_modules/lodash/iteratee.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClone.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=1;e.exports=function(e){return o("function"==typeof e?e:r(e,i))}},"./node_modules/lodash/keyBy.js":function(e,t,n){var r=n("./node_modules/lodash/_baseAssignValue.js"),o=n("./node_modules/lodash/_createAggregator.js")(function(e,t,n){r(e,n,t)});e.exports=o},"./node_modules/lodash/keys.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayLikeKeys.js"),o=n("./node_modules/lodash/_baseKeys.js"),i=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e){return i(e)?r(e):o(e)}},"./node_modules/lodash/keysIn.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayLikeKeys.js"),o=n("./node_modules/lodash/_baseKeysIn.js"),i=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e){return i(e)?r(e,!0):o(e)}},"./node_modules/lodash/last.js":function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},"./node_modules/lodash/map.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_baseMap.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},"./node_modules/lodash/mapValues.js":function(e,t,n){var r=n("./node_modules/lodash/_baseAssignValue.js"),o=n("./node_modules/lodash/_baseForOwn.js"),i=n("./node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){var n={};return t=i(t,3),o(e,function(e,o,i){r(n,o,t(e,o,i))}),n}},"./node_modules/lodash/memoize.js":function(e,t,n){var r=n("./node_modules/lodash/_MapCache.js"),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},"./node_modules/lodash/noop.js":function(e,t){e.exports=function(){}},"./node_modules/lodash/partialRight.js":function(e,t,n){var r=n("./node_modules/lodash/_baseRest.js"),o=n("./node_modules/lodash/_createWrap.js"),i=n("./node_modules/lodash/_getHolder.js"),a=n("./node_modules/lodash/_replaceHolders.js"),s=r(function(e,t){var n=a(t,i(s));return o(e,64,void 0,t,n)});s.placeholder={},e.exports=s},"./node_modules/lodash/pick.js":function(e,t,n){var r=n("./node_modules/lodash/_basePick.js"),o=n("./node_modules/lodash/_flatRest.js")(function(e,t){return null==e?{}:r(e,t)});e.exports=o},"./node_modules/lodash/pickBy.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_basePickBy.js"),a=n("./node_modules/lodash/_getAllKeysIn.js");e.exports=function(e,t){if(null==e)return{};var n=r(a(e),function(e){return[e]});return t=o(t),i(e,n,function(e,n){return t(e,n[0])})}},"./node_modules/lodash/property.js":function(e,t,n){var r=n("./node_modules/lodash/_baseProperty.js"),o=n("./node_modules/lodash/_basePropertyDeep.js"),i=n("./node_modules/lodash/_isKey.js"),a=n("./node_modules/lodash/_toKey.js");e.exports=function(e){return i(e)?r(a(e)):o(e)}},"./node_modules/lodash/range.js":function(e,t,n){var r=n("./node_modules/lodash/_createRange.js")();e.exports=r},"./node_modules/lodash/rearg.js":function(e,t,n){var r=n("./node_modules/lodash/_createWrap.js"),o=n("./node_modules/lodash/_flatRest.js"),i=o(function(e,t){return r(e,256,void 0,void 0,void 0,t)});e.exports=i},"./node_modules/lodash/reduce.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayReduce.js"),o=n("./node_modules/lodash/_baseEach.js"),i=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/_baseReduce.js"),s=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var l=s(e)?r:a,u=arguments.length<3;return l(e,i(t,4),n,u,o)}},"./node_modules/lodash/round.js":function(e,t,n){var r=n("./node_modules/lodash/_createRound.js")("round");e.exports=r},"./node_modules/lodash/size.js":function(e,t,n){var r=n("./node_modules/lodash/_baseKeys.js"),o=n("./node_modules/lodash/_getTag.js"),i=n("./node_modules/lodash/isArrayLike.js"),a=n("./node_modules/lodash/isString.js"),s=n("./node_modules/lodash/_stringSize.js"),l="[object Map]",u="[object Set]";e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return t==l||t==u?e.size:r(e).length}},"./node_modules/lodash/some.js":function(e,t,n){var r=n("./node_modules/lodash/_arraySome.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_baseSome.js"),a=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},"./node_modules/lodash/split.js":function(e,t,n){var r=n("./node_modules/lodash/_baseToString.js"),o=n("./node_modules/lodash/_castSlice.js"),i=n("./node_modules/lodash/_hasUnicode.js"),a=n("./node_modules/lodash/_isIterateeCall.js"),s=n("./node_modules/lodash/isRegExp.js"),l=n("./node_modules/lodash/_stringToArray.js"),u=n("./node_modules/lodash/toString.js"),c=4294967295;e.exports=function(e,t,n){return n&&"number"!=typeof n&&a(e,t,n)&&(t=n=void 0),(n=void 0===n?c:n>>>0)?(e=u(e))&&("string"==typeof t||null!=t&&!s(t))&&!(t=r(t))&&i(e)?o(l(e),0,n):e.split(t,n):[]}},"./node_modules/lodash/startCase.js":function(e,t,n){var r=n("./node_modules/lodash/_createCompounder.js"),o=n("./node_modules/lodash/upperFirst.js"),i=r(function(e,t,n){return e+(n?" ":"")+o(t)});e.exports=i},"./node_modules/lodash/startsWith.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClamp.js"),o=n("./node_modules/lodash/_baseToString.js"),i=n("./node_modules/lodash/toInteger.js"),a=n("./node_modules/lodash/toString.js");e.exports=function(e,t,n){return e=a(e),n=null==n?0:r(i(n),0,e.length),t=o(t),e.slice(n,n+t.length)==t}},"./node_modules/lodash/stubArray.js":function(e,t){e.exports=function(){return[]}},"./node_modules/lodash/stubFalse.js":function(e,t){e.exports=function(){return!1}},"./node_modules/lodash/sum.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSum.js"),o=n("./node_modules/lodash/identity.js");e.exports=function(e){return e&&e.length?r(e,o):0}},"./node_modules/lodash/times.js":function(e,t,n){var r=n("./node_modules/lodash/_baseTimes.js"),o=n("./node_modules/lodash/_castFunction.js"),i=n("./node_modules/lodash/toInteger.js"),a=9007199254740991,s=4294967295,l=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>a)return[];var n=s,u=l(e,s);t=o(t),e-=s;for(var c=r(u,t);++n<e;)t(n);return c}},"./node_modules/lodash/toArray.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),o=n("./node_modules/lodash/_copyArray.js"),i=n("./node_modules/lodash/_getTag.js"),a=n("./node_modules/lodash/isArrayLike.js"),s=n("./node_modules/lodash/isString.js"),l=n("./node_modules/lodash/_iteratorToArray.js"),u=n("./node_modules/lodash/_mapToArray.js"),c=n("./node_modules/lodash/_setToArray.js"),d=n("./node_modules/lodash/_stringToArray.js"),f=n("./node_modules/lodash/values.js"),h="[object Map]",p="[object Set]",m=r?r.iterator:void 0;e.exports=function(e){if(!e)return[];if(a(e))return s(e)?d(e):o(e);if(m&&e[m])return l(e[m]());var t=i(e);return(t==h?u:t==p?c:f)(e)}},"./node_modules/lodash/toFinite.js":function(e,t,n){var r=n("./node_modules/lodash/toNumber.js"),o=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},"./node_modules/lodash/toInteger.js":function(e,t,n){var r=n("./node_modules/lodash/toFinite.js");e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},"./node_modules/lodash/toNumber.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),o=n("./node_modules/lodash/isSymbol.js"),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?i:+e}},"./node_modules/lodash/toPath.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),o=n("./node_modules/lodash/_copyArray.js"),i=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/isSymbol.js"),s=n("./node_modules/lodash/_stringToPath.js"),l=n("./node_modules/lodash/_toKey.js"),u=n("./node_modules/lodash/toString.js");e.exports=function(e){return i(e)?r(e,l):a(e)?[e]:o(s(u(e)))}},"./node_modules/lodash/toString.js":function(e,t,n){var r=n("./node_modules/lodash/_baseToString.js");e.exports=function(e){return null==e?"":r(e)}},"./node_modules/lodash/union.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFlatten.js"),o=n("./node_modules/lodash/_baseRest.js"),i=n("./node_modules/lodash/_baseUniq.js"),a=n("./node_modules/lodash/isArrayLikeObject.js"),s=o(function(e){return i(r(e,1,a,!0))});e.exports=s},"./node_modules/lodash/uniq.js":function(e,t,n){var r=n("./node_modules/lodash/_baseUniq.js");e.exports=function(e){return e&&e.length?r(e):[]}},"./node_modules/lodash/upperFirst.js":function(e,t,n){var r=n("./node_modules/lodash/_createCaseFirst.js")("toUpperCase");e.exports=r},"./node_modules/lodash/values.js":function(e,t,n){var r=n("./node_modules/lodash/_baseValues.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e){return null==e?[]:r(e,o(e))}},"./node_modules/lodash/without.js":function(e,t,n){var r=n("./node_modules/lodash/_baseDifference.js"),o=n("./node_modules/lodash/_baseRest.js"),i=n("./node_modules/lodash/isArrayLikeObject.js"),a=o(function(e,t){return i(e)?r(e,t):[]});e.exports=a},"./node_modules/lodash/words.js":function(e,t,n){var r=n("./node_modules/lodash/_asciiWords.js"),o=n("./node_modules/lodash/_hasUnicodeWord.js"),i=n("./node_modules/lodash/toString.js"),a=n("./node_modules/lodash/_unicodeWords.js");e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?o(e)?a(e):r(e):e.match(t)||[]}},"./node_modules/lodash/wrapperLodash.js":function(e,t,n){var r=n("./node_modules/lodash/_LazyWrapper.js"),o=n("./node_modules/lodash/_LodashWrapper.js"),i=n("./node_modules/lodash/_baseLodash.js"),a=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/isObjectLike.js"),l=n("./node_modules/lodash/_wrapperClone.js"),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return l(e)}return new o(e)}c.prototype=i.prototype,c.prototype.constructor=c,e.exports=c},"./node_modules/md5.js/index.js":function(e,t,n){"use strict";var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/hash-base/index.js"),i=n("./node_modules/safe-buffer/index.js").Buffer,a=new Array(16);function s(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(e,t){return e<<t|e>>>32-t}function u(e,t,n,r,o,i,a){return l(e+(t&n|~t&r)+o+i|0,a)+t|0}function c(e,t,n,r,o,i,a){return l(e+(t&r|n&~r)+o+i|0,a)+t|0}function d(e,t,n,r,o,i,a){return l(e+(t^n^r)+o+i|0,a)+t|0}function f(e,t,n,r,o,i,a){return l(e+(n^(t|~r))+o+i|0,a)+t|0}r(s,o),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,o=this._c,i=this._d;n=u(n,r,o,i,e[0],3614090360,7),i=u(i,n,r,o,e[1],3905402710,12),o=u(o,i,n,r,e[2],606105819,17),r=u(r,o,i,n,e[3],3250441966,22),n=u(n,r,o,i,e[4],4118548399,7),i=u(i,n,r,o,e[5],1200080426,12),o=u(o,i,n,r,e[6],2821735955,17),r=u(r,o,i,n,e[7],4249261313,22),n=u(n,r,o,i,e[8],1770035416,7),i=u(i,n,r,o,e[9],2336552879,12),o=u(o,i,n,r,e[10],4294925233,17),r=u(r,o,i,n,e[11],2304563134,22),n=u(n,r,o,i,e[12],1804603682,7),i=u(i,n,r,o,e[13],4254626195,12),o=u(o,i,n,r,e[14],2792965006,17),n=c(n,r=u(r,o,i,n,e[15],1236535329,22),o,i,e[1],4129170786,5),i=c(i,n,r,o,e[6],3225465664,9),o=c(o,i,n,r,e[11],643717713,14),r=c(r,o,i,n,e[0],3921069994,20),n=c(n,r,o,i,e[5],3593408605,5),i=c(i,n,r,o,e[10],38016083,9),o=c(o,i,n,r,e[15],3634488961,14),r=c(r,o,i,n,e[4],3889429448,20),n=c(n,r,o,i,e[9],568446438,5),i=c(i,n,r,o,e[14],3275163606,9),o=c(o,i,n,r,e[3],4107603335,14),r=c(r,o,i,n,e[8],1163531501,20),n=c(n,r,o,i,e[13],2850285829,5),i=c(i,n,r,o,e[2],4243563512,9),o=c(o,i,n,r,e[7],1735328473,14),n=d(n,r=c(r,o,i,n,e[12],2368359562,20),o,i,e[5],4294588738,4),i=d(i,n,r,o,e[8],2272392833,11),o=d(o,i,n,r,e[11],1839030562,16),r=d(r,o,i,n,e[14],4259657740,23),n=d(n,r,o,i,e[1],2763975236,4),i=d(i,n,r,o,e[4],1272893353,11),o=d(o,i,n,r,e[7],4139469664,16),r=d(r,o,i,n,e[10],3200236656,23),n=d(n,r,o,i,e[13],681279174,4),i=d(i,n,r,o,e[0],3936430074,11),o=d(o,i,n,r,e[3],3572445317,16),r=d(r,o,i,n,e[6],76029189,23),n=d(n,r,o,i,e[9],3654602809,4),i=d(i,n,r,o,e[12],3873151461,11),o=d(o,i,n,r,e[15],530742520,16),n=f(n,r=d(r,o,i,n,e[2],3299628645,23),o,i,e[0],4096336452,6),i=f(i,n,r,o,e[7],1126891415,10),o=f(o,i,n,r,e[14],2878612391,15),r=f(r,o,i,n,e[5],4237533241,21),n=f(n,r,o,i,e[12],1700485571,6),i=f(i,n,r,o,e[3],2399980690,10),o=f(o,i,n,r,e[10],4293915773,15),r=f(r,o,i,n,e[1],2240044497,21),n=f(n,r,o,i,e[8],1873313359,6),i=f(i,n,r,o,e[15],4264355552,10),o=f(o,i,n,r,e[6],2734768916,15),r=f(r,o,i,n,e[13],1309151649,21),n=f(n,r,o,i,e[4],4149444226,6),i=f(i,n,r,o,e[11],3174756917,10),o=f(o,i,n,r,e[2],718787259,15),r=f(r,o,i,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+o|0,this._d=this._d+i|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},"./node_modules/memoize-one/dist/memoize-one.esm.js":function(e,t,n){"use strict";n.r(t);var r=function(e,t){return e===t};t.default=function(e,t){var n;void 0===t&&(t=r);var o,i=[],a=!1,s=function(e,n){return t(e,i[n],n)};return function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return a&&n===this&&r.length===i.length&&r.every(s)?o:(o=e.apply(this,r),a=!0,n=this,i=r,o)}}},"./node_modules/miller-rabin/lib/mr.js":function(e,t,n){var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/brorand/index.js");function i(e){this.rand=e||new o.Rand}e.exports=i,i.create=function(e){return new i(e)},i.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var o=new r(this.rand.generate(n))}while(o.cmp(e)>=0);return o},i.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},i.prototype.test=function(e,t,n){var o=e.bitLength(),i=r.mont(e),a=new r(1).toRed(i);t||(t=Math.max(1,o/48|0));for(var s=e.subn(1),l=0;!s.testn(l);l++);for(var u=e.shrn(l),c=s.toRed(i);t>0;t--){var d=this._randrange(new r(2),s);n&&n(d);var f=d.toRed(i).redPow(u);if(0!==f.cmp(a)&&0!==f.cmp(c)){for(var h=1;h<l;h++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(c))break}if(h===l)return!1}}return!0},i.prototype.getDivisor=function(e,t){var n=e.bitLength(),o=r.mont(e),i=new r(1).toRed(o);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var l=e.shrn(s),u=a.toRed(o);t>0;t--){var c=this._randrange(new r(2),a),d=e.gcd(c);if(0!==d.cmpn(1))return d;var f=c.toRed(o).redPow(l);if(0!==f.cmp(i)&&0!==f.cmp(u)){for(var h=1;h<s;h++){if(0===(f=f.redSqr()).cmp(i))return f.fromRed().subn(1).gcd(e);if(0===f.cmp(u))break}if(h===s)return(f=f.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},"./node_modules/minimalistic-assert/index.js":function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},"./node_modules/minimalistic-crypto-utils/lib/utils.js":function(e,t,n){"use strict";var r=t;function o(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=o(e[n].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var o=e.charCodeAt(r),i=o>>8,a=255&o;i?n.push(i,a):n.push(a)}return n},r.zero2=o,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},"./node_modules/parse-asn1/aesid.json":function(e){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},"./node_modules/parse-asn1/asn1.js":function(e,t,n){"use strict";var r=n("./node_modules/asn1.js/lib/asn1.js");t.certificate=n("./node_modules/parse-asn1/certificate.js");var o=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=o;var i=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=i;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=l;var u=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=u;var c=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=c,t.DSAparam=r.define("DSAparam",function(){this.int()});var d=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=d;var f=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},"./node_modules/parse-asn1/certificate.js":function(e,t,n){"use strict";var r=n("./node_modules/asn1.js/lib/asn1.js"),o=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),l=r.define("RelativeDistinguishedName",function(){this.setof(i)}),u=r.define("RDNSequence",function(){this.seqof(l)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),h=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(c),this.key("validity").use(d),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},"./node_modules/parse-asn1/fixProc.js":function(e,t,n){(function(t){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n("./node_modules/evp_bytestokey/index.js"),s=n("./node_modules/browserify-aes/browser.js");e.exports=function(e,n){var l,u=e.toString(),c=u.match(r);if(c){var d="aes"+c[1],f=new t(c[2],"hex"),h=new t(c[3].replace(/[\r\n]/g,""),"base64"),p=a(n,f.slice(0,8),parseInt(c[1],10)).key,m=[],g=s.createDecipheriv(d,p,f);m.push(g.update(h)),m.push(g.final()),l=t.concat(m)}else{var v=u.match(i);l=new t(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(o)[1],data:l}}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/parse-asn1/index.js":function(e,t,n){(function(t){var r=n("./node_modules/parse-asn1/asn1.js"),o=n("./node_modules/parse-asn1/aesid.json"),i=n("./node_modules/parse-asn1/fixProc.js"),a=n("./node_modules/browserify-aes/browser.js"),s=n("./node_modules/pbkdf2/browser.js");function l(e){var n;"object"!=typeof e||t.isBuffer(e)||(n=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var l,u,c=i(e,n),d=c.tag,f=c.data;switch(d){case"CERTIFICATE":u=r.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=r.PublicKey.decode(f,"der")),l=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=r.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+l)}throw new Error("unknown key type "+d);case"ENCRYPTED PRIVATE KEY":f=function(e,n){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),l=o[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,d=parseInt(l.split("-")[1],10)/8,f=s.pbkdf2Sync(n,r,i,d),h=a.createDecipheriv(l,f,u),p=[];return p.push(h.update(c)),p.push(h.final()),t.concat(p)}(f=r.EncryptedPrivateKey.decode(f,"der"),n);case"PRIVATE KEY":switch(l=(u=r.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:r.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=r.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+l)}throw new Error("unknown key type "+d);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=r.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+d)}}e.exports=l,l.signature=r.signature}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/path-to-regexp/index.js":function(e,t,n){var r=n("./node_modules/path-to-regexp/node_modules/isarray/index.js");e.exports=h,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],f=n[1],h=n.index;if(s+=e.slice(a,h),a=h+d.length,f)s+=f[1];else{var p=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var x=null!=m&&null!=p&&p!==m,w="+"===b||"*"===b,k="?"===b||"*"===b,E=n[2]||c,T=v||y;r.push({name:g||i++,prefix:m||"",delimiter:E,optional:k,repeat:w,partial:x,asterisk:!!_,pattern:T?u(T):_?".*":"[^"+l(E)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,o){for(var i="",s=n||{},l=(o||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var d,f=s[c.name];if(null==f){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(d=l(f[h]),!t[u].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===h?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):l(f),!t[u].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');i+=c.prefix+d}}else i+=c}return i}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"==typeof u)a+=l(u);else{var f=l(u.prefix),h="(?:"+u.pattern+")";t.push(u),u.repeat&&(h+="(?:"+f+h+")*"),a+=h=u.optional?u.partial?f+"("+h+")?":"(?:"+f+"("+h+"))?":f+"("+h+")"}}var p=l(n.delimiter||"/"),m=a.slice(-p.length)===p;return o||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=i?"$":o&&m?"":"(?="+p+"|$)",c(new RegExp("^"+a,d(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(h(e[o],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(i(e,n),t,n)}(e,t,n)}},"./node_modules/path-to-regexp/node_modules/isarray/index.js":function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},"./node_modules/pbkdf2/browser.js":function(e,t,n){t.pbkdf2=n("./node_modules/pbkdf2/lib/async.js"),t.pbkdf2Sync=n("./node_modules/pbkdf2/lib/sync-browser.js")},"./node_modules/pbkdf2/lib/async.js":function(e,t,n){(function(t,r){var o,i=n("./node_modules/pbkdf2/lib/precondition.js"),a=n("./node_modules/pbkdf2/lib/default-encoding.js"),s=n("./node_modules/pbkdf2/lib/sync-browser.js"),l=n("./node_modules/safe-buffer/index.js").Buffer,u=t.crypto&&t.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function f(e,t,n,r,o){return u.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return u.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:o}},e,r<<3)}).then(function(e){return l.from(e)})}e.exports=function(e,n,h,p,m,g){"function"==typeof m&&(g=m,m=void 0);var v=c[(m=m||"sha1").toLowerCase()];if(!v||"function"!=typeof t.Promise)return r.nextTick(function(){var t;try{t=s(e,n,h,p,m)}catch(e){return g(e)}g(null,t)});if(i(e,n,h,p),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");l.isBuffer(e)||(e=l.from(e,a)),l.isBuffer(n)||(n=l.from(n,a)),function(e,t){e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})})}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var n=f(o=o||l.alloc(8),o,10,128,e).then(function(){return!0}).catch(function(){return!1});return d[e]=n,n}(v).then(function(t){return t?f(e,n,h,p,v):s(e,n,h,p,m)}),g)}}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/pbkdf2/lib/default-encoding.js":function(e,t,n){(function(t){var n;t.browser?n="utf-8":n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=n}).call(this,n("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/pbkdf2/lib/precondition.js":function(e,t,n){(function(t){var n=Math.pow(2,30)-1;function r(e,n){if("string"!=typeof e&&!t.isBuffer(e))throw new TypeError(n+" must be a buffer or string")}e.exports=function(e,t,o,i){if(r(e,"Password"),r(t,"Salt"),"number"!=typeof o)throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if("number"!=typeof i)throw new TypeError("Key length not a number");if(i<0||i>n||i!=i)throw new TypeError("Bad key length")}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/pbkdf2/lib/sync-browser.js":function(e,t,n){var r=n("./node_modules/create-hash/md5.js"),o=n("./node_modules/ripemd160/index.js"),i=n("./node_modules/sha.js/index.js"),a=n("./node_modules/pbkdf2/lib/precondition.js"),s=n("./node_modules/pbkdf2/lib/default-encoding.js"),l=n("./node_modules/safe-buffer/index.js").Buffer,u=l.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,n){var a=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new o).update(e).digest()}:"md5"===e?r:function(t){return i(e).update(t).digest()}}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=a(t):t.length<s&&(t=l.concat([t,u],s));for(var d=l.allocUnsafe(s+c[e]),f=l.allocUnsafe(s+c[e]),h=0;h<s;h++)d[h]=54^t[h],f[h]=92^t[h];var p=l.allocUnsafe(s+n+4);d.copy(p,0,0,s),this.ipad1=p,this.ipad2=d,this.opad=f,this.alg=e,this.blocksize=s,this.hash=a,this.size=c[e]}d.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,o){a(e,t,n,r),l.isBuffer(e)||(e=l.from(e,s)),l.isBuffer(t)||(t=l.from(t,s));var i=new d(o=o||"sha1",e,t.length),u=l.allocUnsafe(r),f=l.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var h=0,p=c[o],m=Math.ceil(r/p),g=1;g<=m;g++){f.writeUInt32BE(g,t.length);for(var v=i.run(f,i.ipad1),y=v,b=1;b<n;b++){y=i.run(y,i.ipad2);for(var _=0;_<p;_++)v[_]^=y[_]}v.copy(u,h),h+=p}return u}},"./node_modules/plotly.js-gl2d-dist/plotly-gl2d.js":function(e,t,n){(function(t){var n;e.exports=function e(t,r,o){function i(s,l){if(!r[s]){if(!t[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return i(n||e)},d,d.exports,e,t,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"use strict";var r=e("../src/lib"),o={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;margin-left:0px;margin-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in o){var a=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(a,o[i])}},{"../src/lib":441}],2:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #119dff;} .cls-2 {fill: #25fefd;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],3:[function(e,t,n){"use strict";t.exports=e("../src/traces/contourgl")},{"../src/traces/contourgl":553}],4:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":422}],5:[function(e,t,n){"use strict";t.exports=e("../src/traces/heatmapgl")},{"../src/traces/heatmapgl":568}],6:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./scattergl"),e("./splom"),e("./pointcloud"),e("./heatmapgl"),e("./contourgl"),e("./parcoords")]),t.exports=r},{"./contourgl":3,"./core":4,"./heatmapgl":5,"./parcoords":7,"./pointcloud":8,"./scattergl":9,"./splom":10}],7:[function(e,t,n){"use strict";t.exports=e("../src/traces/parcoords")},{"../src/traces/parcoords":580}],8:[function(e,t,n){"use strict";t.exports=e("../src/traces/pointcloud")},{"../src/traces/pointcloud":590}],9:[function(e,t,n){"use strict";t.exports=e("../src/traces/scattergl")},{"../src/traces/scattergl":624}],10:[function(e,t,n){"use strict";t.exports=e("../src/traces/splom")},{"../src/traces/splom":628}],11:[function(e,t,n){t.exports=function(e){var t=0,n=0,r=0,o=0;return e.map(function(e){var i=(e=e.slice())[0],a=i.toUpperCase();if(i!=a)switch(e[0]=a,i){case"a":e[6]+=r,e[7]+=o;break;case"v":e[1]+=o;break;case"h":e[1]+=r;break;default:for(var s=1;s<e.length;)e[s++]+=r,e[s++]+=o}switch(a){case"Z":r=t,o=n;break;case"H":r=e[1];break;case"V":o=e[1];break;case"M":r=t=e[1],o=n=e[2];break;default:r=e[e.length-2],o=e[e.length-1]}return e})}},{}],12:[function(e,t,n){var r=e("pad-left");t.exports=function(e,t,n){t="number"==typeof t?t:1,n=n||": ";var o=e.split(/\r?\n/),i=String(o.length+t-1).length;return o.map(function(e,o){var a=o+t,s=String(a).length,l=r(a,i-s);return l+n+e}).join("\n")}},{"pad-left":224}],13:[function(e,t,n){"use strict";t.exports=function(e,t){if(!e||null==e.length)throw Error("Argument should be an array");t=null==t?1:Math.floor(t);for(var n=Array(2*t),r=0;r<t;r++){for(var o=-1/0,i=1/0,a=r,s=e.length;a<s;a+=t)e[a]>o&&(o=e[a]),e[a]<i&&(i=e[a]);n[r]=i,n[t+r]=o}return n}},{}],14:[function(e,t,n){"use strict";var r=e("array-bounds");t.exports=function(e,t,n){if(!e||null==e.length)throw Error("Argument should be an array");null==t&&(t=1),null==n&&(n=r(e,t));for(var o=0;o<t;o++){var i=n[t+o],a=n[o],s=o,l=e.length;if(i===1/0&&a===-1/0)for(s=o;s<l;s+=t)e[s]=e[s]===i?1:e[s]===a?0:.5;else if(i===1/0)for(s=o;s<l;s+=t)e[s]=e[s]===i?1:0;else if(a===-1/0)for(s=o;s<l;s+=t)e[s]=e[s]===a?0:1;else{var u=i-a;for(s=o;s<l;s+=t)e[s]=0===u?.5:(e[s]-a)/u}}return e}},{"array-bounds":13}],15:[function(e,t,n){t.exports=function(e,t){var n="number"==typeof e,r="number"==typeof t;n&&!r?(t=e,e=0):n||r||(e=0,t=0);var o=(t|=0)-(e|=0);if(o<0)throw new Error("array length must be positive");for(var i=new Array(o),a=0,s=e;a<o;a++,s++)i[a]=s;return i}},{}],16:[function(e,n,r){(function(t){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=e("util/"),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function c(e){return!o(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=n.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(i.isFunction(e)){if(l)return e.name;var t=e.toString(),n=t.match(f);return n&&n[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(l||!i.isFunction(e))return i.inspect(e);var t=h(e),n=t?": "+t:"";return"[Function"+n+"]"}function g(e,t,n,r,o){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function v(e,t){e||g(e,!0,t,"==",d.ok)}function y(e,t,n,a){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=b(e),a=b(t);if(o&&!a||!o&&a)return!1;if(o)return e=s.call(e),t=s.call(t),y(e,t,n);var l,u,c=w(e),d=w(t);if(c.length!==d.length)return!1;for(c.sort(),d.sort(),u=c.length-1;u>=0;u--)if(c[u]!==d[u])return!1;for(u=c.length-1;u>=0;u--)if(l=c[u],!y(e[l],t[l],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&g(o,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&i.isError(o),l=!e&&o&&!n;if((s&&a&&_(o,n)||l)&&g(o,n,"Got unwanted exception"+r),e&&o&&n&&!_(o,n)||!e&&o)throw o}d.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(m((t=this).actual),128)+" "+t.operator+" "+p(m(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,i=h(n),a=o.indexOf("\n"+i);if(a>=0){var s=o.indexOf("\n",a+1);o=o.substring(s+1)}this.stack=o}}},i.inherits(d.AssertionError,Error),d.fail=g,d.ok=v,d.equal=function(e,t,n){e!=t&&g(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){y(e,t,!1)||g(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){y(e,t,!0)||g(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){y(e,t,!1)&&g(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){x(!0,e,t,n)},d.doesNotThrow=function(e,t,n){x(!1,e,t,n)},d.ifError=function(e){if(e)throw e};var w=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":19}],17:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],18:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],19:[function(e,n,r){(function(t,n){var o=/%[sdj%]/g;r.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<i;l=r[++n])m(l)||!_(l)?a+=" "+l:a+=" "+s(l);return a},r.deprecate=function(e,o){if(y(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),i=!0}return e.apply(this,arguments)}};var i,a={};function s(e,t){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&r._extend(n,t),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),c(n,e,n.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return v(o)||(o=c(e,o,n)),o}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var a=Object.keys(t),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),w(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(t);if(0===a.length){if(k(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(w(t))return d(t)}var u,_="",E=!1,T=["{","}"];if(h(t)&&(E=!0,T=["[","]"]),k(t)){var A=t.name?": "+t.name:"";_=" [Function"+A+"]"}return b(t)&&(_=" "+RegExp.prototype.toString.call(t)),x(t)&&(_=" "+Date.prototype.toUTCString.call(t)),w(t)&&(_=" "+d(t)),0!==a.length||E&&0!=t.length?n<0?b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=E?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)S(t,String(a))?i.push(f(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(e,t,n,r,o,!0))}),i}(e,t,n,s,a):a.map(function(r){return f(e,t,n,s,r,E)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,_,T)):T[0]+_+T[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o,i){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),S(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===E(e)}function _(e){return"object"==typeof e&&null!==e}function x(e){return _(e)&&"[object Date]"===E(e)}function w(e){return _(e)&&("[object Error]"===E(e)||e instanceof Error)}function k(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(y(i)&&(i=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=t.pid;a[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else a[e]=function(){};return a[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=h,r.isBoolean=p,r.isNull=m,r.isNullOrUndefined=function(e){return null==e},r.isNumber=g,r.isString=v,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=y,r.isRegExp=b,r.isObject=_,r.isDate=x,r.isError=w,r.isFunction=k,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":"),[e.getDate(),A[e.getMonth()],t].join(" ")),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":18,_process:248,inherits:17}],20:[function(e,t,n){t.exports=function(e){return atob(e)}},{}],21:[function(e,t,n){"use strict";n.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){for(var t,n=u(e),r=n[0],a=n[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),l=0,c=a>0?r-4:r,d=0;d<c;d+=4)t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4,s[l++]=255&t),1===a&&(t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},n.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(c(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function c(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],22:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]).add(t[0].mul(e[1])),e[1].mul(t[1]))}},{"./lib/rationalize":32}],23:[function(e,t,n){"use strict";t.exports=function(e,t){return e[0].mul(t[1]).cmp(t[0].mul(e[1]))}},{}],24:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]),e[1].mul(t[0]))}},{"./lib/rationalize":32}],25:[function(e,t,n){"use strict";var r=e("./is-rat"),o=e("./lib/is-bn"),i=e("./lib/num-to-bn"),a=e("./lib/str-to-bn"),s=e("./lib/rationalize"),l=e("./div");t.exports=function e(t,n){if(r(t))return n?l(t,e(n)):[t[0].clone(),t[1].clone()];var u,c,d=0;if(o(t))u=t.clone();else if("string"==typeof t)u=a(t);else{if(0===t)return[i(0),i(1)];if(t===Math.floor(t))u=i(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),d-=256;u=i(t)}}if(r(n))u.mul(n[1]),c=n[0].clone();else if(o(n))c=n.clone();else if("string"==typeof n)c=a(n);else if(n)if(n===Math.floor(n))c=i(n);else{for(;n!==Math.floor(n);)n*=Math.pow(2,256),d+=256;c=i(n)}else c=i(1);return d>0?u=u.ushln(d):d<0&&(c=c.ushln(-d)),s(u,c)}},{"./div":24,"./is-rat":26,"./lib/is-bn":30,"./lib/num-to-bn":31,"./lib/rationalize":32,"./lib/str-to-bn":33}],26:[function(e,t,n){"use strict";var r=e("./lib/is-bn");t.exports=function(e){return Array.isArray(e)&&2===e.length&&r(e[0])&&r(e[1])}},{"./lib/is-bn":30}],27:[function(e,t,n){"use strict";var r=e("bn.js");t.exports=function(e){return e.cmp(new r(0))}},{"bn.js":41}],28:[function(e,t,n){"use strict";var r=e("./bn-sign");t.exports=function(e){var t=e.length,n=e.words,o=0;if(1===t)o=n[0];else if(2===t)o=n[0]+67108864*n[1];else for(var i=0;i<t;i++){var a=n[i];o+=a*Math.pow(67108864,i)}return r(e)*o}},{"./bn-sign":27}],29:[function(e,t,n){"use strict";var r=e("double-bits"),o=e("bit-twiddle").countTrailingZeros;t.exports=function(e){var t=o(r.lo(e));if(t<32)return t;var n=o(r.hi(e));return n>20?52:n+32}},{"bit-twiddle":39,"double-bits":88}],30:[function(e,t,n){"use strict";e("bn.js"),t.exports=function(e){return e&&"object"==typeof e&&Boolean(e.words)}},{"bn.js":41}],31:[function(e,t,n){"use strict";var r=e("bn.js"),o=e("double-bits");t.exports=function(e){var t=o.exponent(e);return t<52?new r(e):new r(e*Math.pow(2,52-t)).ushln(t-52)}},{"bn.js":41,"double-bits":88}],32:[function(e,t,n){"use strict";var r=e("./num-to-bn"),o=e("./bn-sign");t.exports=function(e,t){var n=o(e),i=o(t);if(0===n)return[r(0),r(1)];if(0===i)return[r(0),r(0)];i<0&&(e=e.neg(),t=t.neg());var a=e.gcd(t);return a.cmpn(1)?[e.div(a),t.div(a)]:[e,t]}},{"./bn-sign":27,"./num-to-bn":31}],33:[function(e,t,n){"use strict";var r=e("bn.js");t.exports=function(e){return new r(e)}},{"bn.js":41}],34:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[0]),e[1].mul(t[1]))}},{"./lib/rationalize":32}],35:[function(e,t,n){"use strict";var r=e("./lib/bn-sign");t.exports=function(e){return r(e[0])*r(e[1])}},{"./lib/bn-sign":27}],36:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]).sub(e[1].mul(t[0])),e[1].mul(t[1]))}},{"./lib/rationalize":32}],37:[function(e,t,n){"use strict";var r=e("./lib/bn-to-num"),o=e("./lib/ctz");t.exports=function(e){var t=e[0],n=e[1];if(0===t.cmpn(0))return 0;var i=t.abs().divmod(n.abs()),a=i.div,s=r(a),l=i.mod,u=t.negative!==n.negative?-1:1;if(0===l.cmpn(0))return u*s;if(s){var c=o(s)+4,d=r(l.ushln(c).divRound(n));return u*(s+d*Math.pow(2,-c))}var f=n.bitLength()-l.bitLength()+53,d=r(l.ushln(f).divRound(n));return f<1023?u*d*Math.pow(2,-f):(d*=Math.pow(2,-1023),u*d*Math.pow(2,1023-f))}},{"./lib/bn-to-num":28,"./lib/ctz":29}],38:[function(e,t,n){"use strict";function r(e,t,n,r,o,i){var a=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",o?".get(m)":"[m]"];return i?t.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",t,"){i=m;"),n?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),i?a.push("return -1};"):a.push("return i};"),a.join("")}function o(e,t,n,o){var i=new Function([r("A","x"+e+"y",t,["y"],!1,o),r("B","x"+e+"y",t,["y"],!0,o),r("P","c(x,y)"+e+"0",t,["y","c"],!1,o),r("Q","c(x,y)"+e+"0",t,["y","c"],!0,o),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""));return i()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},{}],39:[function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(e){return(e>0)-(e<0)},n.abs=function(e){var t=e>>31;return(e^t)-t},n.min=function(e,t){return t^(e^t)&-(e<t)},n.max=function(e,t){return e^(e^t)&-(e<t)},n.isPow2=function(e){return!(e&e-1||!e)},n.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},n.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},n.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},n.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},n.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var o=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,o=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--o;e[t]=r<<o&255}}(o),n.reverse=function(e){return o[255&e]<<24|o[e>>>8&255]<<16|o[e>>>16&255]<<8|o[e>>>24&255]},n.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},n.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},n.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},n.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},{}],40:[function(e,t,n){"use strict";var r=e("clamp");t.exports=function(e,t){t||(t={});var n,a,s,l,u,c,d,f,h,p,m,g=null==t.cutoff?.25:t.cutoff,v=null==t.radius?8:t.radius,y=t.channel||0;if(ArrayBuffer.isView(e)||Array.isArray(e)){if(!t.width||!t.height)throw Error("For raw data width and height should be provided by options");n=t.width,a=t.height,l=e,c=t.stride?t.stride:Math.floor(e.length/n/a)}else window.HTMLCanvasElement&&e instanceof window.HTMLCanvasElement?(d=(f=e).getContext("2d"),n=f.width,a=f.height,h=d.getImageData(0,0,n,a),l=h.data,c=4):window.CanvasRenderingContext2D&&e instanceof window.CanvasRenderingContext2D?(f=e.canvas,d=e,n=f.width,a=f.height,h=d.getImageData(0,0,n,a),l=h.data,c=4):window.ImageData&&e instanceof window.ImageData&&(h=e,n=e.width,a=e.height,l=h.data,c=4);if(s=Math.max(n,a),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(u=l,l=Array(n*a),p=0,m=u.length;p<m;p++)l[p]=u[p*c+y]/255;else if(1!==c)throw Error("Raw data can have only 1 value per pixel");var b=Array(n*a),_=Array(n*a),x=Array(s),w=Array(s),k=Array(s+1),E=Array(s);for(p=0,m=n*a;p<m;p++){var T=l[p];b[p]=1===T?0:0===T?o:Math.pow(Math.max(0,.5-T),2),_[p]=1===T?o:0===T?0:Math.pow(Math.max(0,T-.5),2)}i(b,n,a,x,w,E,k),i(_,n,a,x,w,E,k);var A=window.Float32Array?new Float32Array(n*a):new Array(n*a);for(p=0,m=n*a;p<m;p++)A[p]=r(1-((b[p]-_[p])/v+g),0,1);return A};var o=1e20;function i(e,t,n,r,o,i,s){for(var l=0;l<t;l++){for(var u=0;u<n;u++)r[u]=e[u*t+l];for(a(r,o,i,s,n),u=0;u<n;u++)e[u*t+l]=o[u]}for(u=0;u<n;u++){for(l=0;l<t;l++)r[l]=e[u*t+l];for(a(r,o,i,s,t),l=0;l<t;l++)e[u*t+l]=Math.sqrt(o[l])}}function a(e,t,n,r,i){n[0]=0,r[0]=-o,r[1]=+o;for(var a=1,s=0;a<i;a++){for(var l=(e[a]+a*a-(e[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);l<=r[s];)s--,l=(e[a]+a*a-(e[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);n[++s]=a,r[s]=l,r[s+1]=+o}for(a=0,s=0;a<i;a++){for(;r[s+1]<a;)s++;t[a]=(a-n[s])*(a-n[s])+e[n[s]]}}},{clamp:58}],41:[function(e,t,n){!function(t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function o(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof t?t.exports=i:n.BN=i,i.BN=i,i.wordSize=26;try{a=e("buffer").Buffer}catch(e){}function s(e,t,n){for(var r=0,o=Math.min(e.length,n),i=t;i<o;i++){var a=e.charCodeAt(i)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function l(e,t,n,r){for(var o=0,i=Math.min(e.length,n),a=t;a<i;a++){var s=e.charCodeAt(a)-48;o*=r,o+=s>=49?s-49+10:s>=17?s-17+10:s}return o}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var o=0;"-"===e[0]&&o++,16===t?this._parseHex(e,o):this._parseBase(e,t,o),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var i,a,s=0;if("be"===n)for(o=e.length-1,i=0;o>=0;o-=3)a=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=a<<s&67108863,this.words[i+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);else if("le"===n)for(o=0,i=0;o<e.length;o+=3)a=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=a<<s&67108863,this.words[i+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,i++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,o,i=0;for(n=e.length-6,r=0;n>=t;n-=6)o=s(e,n,n+6),this.words[r]|=o<<i&67108863,this.words[r+1]|=o>>>26-i&4194303,(i+=24)>=26&&(i-=26,r++);n+6!==t&&(o=s(e,t,n+6),this.words[r]|=o<<i&67108863,this.words[r+1]|=o>>>26-i&4194303),this.strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,o=1;o<=67108863;o*=t)r++;r--,o=o/t|0;for(var i=e.length-n,a=i%r,s=Math.min(i,i-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(o),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var o=0|e.words[0],i=0|t.words[0],a=o*i,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,d=67108863&l,f=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=f;h++){var p=u-h|0;o=0|e.words[p],i=0|t.words[h],c+=(a=o*i+d)/67108864|0,d=67108863&a}n.words[u]=0|d,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var o=0,i=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<o|i)).toString(16);n=0!=(i=s>>>24-o&16777215)||a!==this.length-1?u[6-l.length]+l+n:l+n,(o+=2)>=26&&(o-=26,a--)}for(0!==i&&(n=i.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var f=c[e],h=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);p=p.idivn(h),n=p.isZero()?m+n:u[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var o=this.byteLength(),i=n||Math.max(1,o);r(o<=i,"byte array longer than desired length"),r(i>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===t,u=new e(i),c=this.clone();if(l){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[s]=a;for(;s<i;s++)u[s]=0}else{for(s=0;s<i-o;s++)u[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[i-s-1]=a}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var o=0;o<t;o++)this.words[o]=67108863&~this.words[o];return n>0&&(this.words[o]=~this.words[o]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,o=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<o:this.words[n]&~(1<<o),this.strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var o=0,i=0;i<r.length;i++)t=(0|n.words[i])+(0|r.words[i])+o,this.words[i]=67108863&t,o=t>>>26;for(;0!==o&&i<n.length;i++)t=(0|n.words[i])+o,this.words[i]=67108863&t,o=t>>>26;if(this.length=n.length,0!==o)this.words[this.length]=o,this.length++;else if(n!==this)for(;i<n.length;i++)this.words[i]=n.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,o=this.cmp(e);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])-(0|r.words[a])+i,i=t>>26,this.words[a]=67108863&t;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,i=t>>26,this.words[a]=67108863&t;if(0===i&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,o,i,a=e.words,s=t.words,l=n.words,u=0,c=0|a[0],d=8191&c,f=c>>>13,h=0|a[1],p=8191&h,m=h>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],_=8191&b,x=b>>>13,w=0|a[4],k=8191&w,E=w>>>13,T=0|a[5],A=8191&T,S=T>>>13,M=0|a[6],C=8191&M,j=M>>>13,O=0|a[7],N=8191&O,R=O>>>13,P=0|a[8],I=8191&P,D=P>>>13,L=0|a[9],B=8191&L,F=L>>>13,z=0|s[0],U=8191&z,q=z>>>13,V=0|s[1],H=8191&V,W=V>>>13,G=0|s[2],X=8191&G,K=G>>>13,Y=0|s[3],$=8191&Y,Z=Y>>>13,Q=0|s[4],J=8191&Q,ee=Q>>>13,te=0|s[5],ne=8191&te,re=te>>>13,oe=0|s[6],ie=8191&oe,ae=oe>>>13,se=0|s[7],le=8191&se,ue=se>>>13,ce=0|s[8],de=8191&ce,fe=ce>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19,r=Math.imul(d,U),o=(o=Math.imul(d,q))+Math.imul(f,U)|0,i=Math.imul(f,q);var ge=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,U),o=(o=Math.imul(p,q))+Math.imul(m,U)|0,i=Math.imul(m,q),r=r+Math.imul(d,H)|0,o=(o=o+Math.imul(d,W)|0)+Math.imul(f,H)|0,i=i+Math.imul(f,W)|0;var ve=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,U),o=(o=Math.imul(v,q))+Math.imul(y,U)|0,i=Math.imul(y,q),r=r+Math.imul(p,H)|0,o=(o=o+Math.imul(p,W)|0)+Math.imul(m,H)|0,i=i+Math.imul(m,W)|0,r=r+Math.imul(d,X)|0,o=(o=o+Math.imul(d,K)|0)+Math.imul(f,X)|0,i=i+Math.imul(f,K)|0;var ye=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,U),o=(o=Math.imul(_,q))+Math.imul(x,U)|0,i=Math.imul(x,q),r=r+Math.imul(v,H)|0,o=(o=o+Math.imul(v,W)|0)+Math.imul(y,H)|0,i=i+Math.imul(y,W)|0,r=r+Math.imul(p,X)|0,o=(o=o+Math.imul(p,K)|0)+Math.imul(m,X)|0,i=i+Math.imul(m,K)|0,r=r+Math.imul(d,$)|0,o=(o=o+Math.imul(d,Z)|0)+Math.imul(f,$)|0,i=i+Math.imul(f,Z)|0;var be=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(k,U),o=(o=Math.imul(k,q))+Math.imul(E,U)|0,i=Math.imul(E,q),r=r+Math.imul(_,H)|0,o=(o=o+Math.imul(_,W)|0)+Math.imul(x,H)|0,i=i+Math.imul(x,W)|0,r=r+Math.imul(v,X)|0,o=(o=o+Math.imul(v,K)|0)+Math.imul(y,X)|0,i=i+Math.imul(y,K)|0,r=r+Math.imul(p,$)|0,o=(o=o+Math.imul(p,Z)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,Z)|0,r=r+Math.imul(d,J)|0,o=(o=o+Math.imul(d,ee)|0)+Math.imul(f,J)|0,i=i+Math.imul(f,ee)|0;var _e=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(A,U),o=(o=Math.imul(A,q))+Math.imul(S,U)|0,i=Math.imul(S,q),r=r+Math.imul(k,H)|0,o=(o=o+Math.imul(k,W)|0)+Math.imul(E,H)|0,i=i+Math.imul(E,W)|0,r=r+Math.imul(_,X)|0,o=(o=o+Math.imul(_,K)|0)+Math.imul(x,X)|0,i=i+Math.imul(x,K)|0,r=r+Math.imul(v,$)|0,o=(o=o+Math.imul(v,Z)|0)+Math.imul(y,$)|0,i=i+Math.imul(y,Z)|0,r=r+Math.imul(p,J)|0,o=(o=o+Math.imul(p,ee)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,ee)|0,r=r+Math.imul(d,ne)|0,o=(o=o+Math.imul(d,re)|0)+Math.imul(f,ne)|0,i=i+Math.imul(f,re)|0;var xe=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(C,U),o=(o=Math.imul(C,q))+Math.imul(j,U)|0,i=Math.imul(j,q),r=r+Math.imul(A,H)|0,o=(o=o+Math.imul(A,W)|0)+Math.imul(S,H)|0,i=i+Math.imul(S,W)|0,r=r+Math.imul(k,X)|0,o=(o=o+Math.imul(k,K)|0)+Math.imul(E,X)|0,i=i+Math.imul(E,K)|0,r=r+Math.imul(_,$)|0,o=(o=o+Math.imul(_,Z)|0)+Math.imul(x,$)|0,i=i+Math.imul(x,Z)|0,r=r+Math.imul(v,J)|0,o=(o=o+Math.imul(v,ee)|0)+Math.imul(y,J)|0,i=i+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,o=(o=o+Math.imul(p,re)|0)+Math.imul(m,ne)|0,i=i+Math.imul(m,re)|0,r=r+Math.imul(d,ie)|0,o=(o=o+Math.imul(d,ae)|0)+Math.imul(f,ie)|0,i=i+Math.imul(f,ae)|0;var we=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(N,U),o=(o=Math.imul(N,q))+Math.imul(R,U)|0,i=Math.imul(R,q),r=r+Math.imul(C,H)|0,o=(o=o+Math.imul(C,W)|0)+Math.imul(j,H)|0,i=i+Math.imul(j,W)|0,r=r+Math.imul(A,X)|0,o=(o=o+Math.imul(A,K)|0)+Math.imul(S,X)|0,i=i+Math.imul(S,K)|0,r=r+Math.imul(k,$)|0,o=(o=o+Math.imul(k,Z)|0)+Math.imul(E,$)|0,i=i+Math.imul(E,Z)|0,r=r+Math.imul(_,J)|0,o=(o=o+Math.imul(_,ee)|0)+Math.imul(x,J)|0,i=i+Math.imul(x,ee)|0,r=r+Math.imul(v,ne)|0,o=(o=o+Math.imul(v,re)|0)+Math.imul(y,ne)|0,i=i+Math.imul(y,re)|0,r=r+Math.imul(p,ie)|0,o=(o=o+Math.imul(p,ae)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,ae)|0,r=r+Math.imul(d,le)|0,o=(o=o+Math.imul(d,ue)|0)+Math.imul(f,le)|0,i=i+Math.imul(f,ue)|0;var ke=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(I,U),o=(o=Math.imul(I,q))+Math.imul(D,U)|0,i=Math.imul(D,q),r=r+Math.imul(N,H)|0,o=(o=o+Math.imul(N,W)|0)+Math.imul(R,H)|0,i=i+Math.imul(R,W)|0,r=r+Math.imul(C,X)|0,o=(o=o+Math.imul(C,K)|0)+Math.imul(j,X)|0,i=i+Math.imul(j,K)|0,r=r+Math.imul(A,$)|0,o=(o=o+Math.imul(A,Z)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,Z)|0,r=r+Math.imul(k,J)|0,o=(o=o+Math.imul(k,ee)|0)+Math.imul(E,J)|0,i=i+Math.imul(E,ee)|0,r=r+Math.imul(_,ne)|0,o=(o=o+Math.imul(_,re)|0)+Math.imul(x,ne)|0,i=i+Math.imul(x,re)|0,r=r+Math.imul(v,ie)|0,o=(o=o+Math.imul(v,ae)|0)+Math.imul(y,ie)|0,i=i+Math.imul(y,ae)|0,r=r+Math.imul(p,le)|0,o=(o=o+Math.imul(p,ue)|0)+Math.imul(m,le)|0,i=i+Math.imul(m,ue)|0,r=r+Math.imul(d,de)|0,o=(o=o+Math.imul(d,fe)|0)+Math.imul(f,de)|0,i=i+Math.imul(f,fe)|0;var Ee=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(B,U),o=(o=Math.imul(B,q))+Math.imul(F,U)|0,i=Math.imul(F,q),r=r+Math.imul(I,H)|0,o=(o=o+Math.imul(I,W)|0)+Math.imul(D,H)|0,i=i+Math.imul(D,W)|0,r=r+Math.imul(N,X)|0,o=(o=o+Math.imul(N,K)|0)+Math.imul(R,X)|0,i=i+Math.imul(R,K)|0,r=r+Math.imul(C,$)|0,o=(o=o+Math.imul(C,Z)|0)+Math.imul(j,$)|0,i=i+Math.imul(j,Z)|0,r=r+Math.imul(A,J)|0,o=(o=o+Math.imul(A,ee)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,ee)|0,r=r+Math.imul(k,ne)|0,o=(o=o+Math.imul(k,re)|0)+Math.imul(E,ne)|0,i=i+Math.imul(E,re)|0,r=r+Math.imul(_,ie)|0,o=(o=o+Math.imul(_,ae)|0)+Math.imul(x,ie)|0,i=i+Math.imul(x,ae)|0,r=r+Math.imul(v,le)|0,o=(o=o+Math.imul(v,ue)|0)+Math.imul(y,le)|0,i=i+Math.imul(y,ue)|0,r=r+Math.imul(p,de)|0,o=(o=o+Math.imul(p,fe)|0)+Math.imul(m,de)|0,i=i+Math.imul(m,fe)|0,r=r+Math.imul(d,pe)|0,o=(o=o+Math.imul(d,me)|0)+Math.imul(f,pe)|0,i=i+Math.imul(f,me)|0;var Te=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,H),o=(o=Math.imul(B,W))+Math.imul(F,H)|0,i=Math.imul(F,W),r=r+Math.imul(I,X)|0,o=(o=o+Math.imul(I,K)|0)+Math.imul(D,X)|0,i=i+Math.imul(D,K)|0,r=r+Math.imul(N,$)|0,o=(o=o+Math.imul(N,Z)|0)+Math.imul(R,$)|0,i=i+Math.imul(R,Z)|0,r=r+Math.imul(C,J)|0,o=(o=o+Math.imul(C,ee)|0)+Math.imul(j,J)|0,i=i+Math.imul(j,ee)|0,r=r+Math.imul(A,ne)|0,o=(o=o+Math.imul(A,re)|0)+Math.imul(S,ne)|0,i=i+Math.imul(S,re)|0,r=r+Math.imul(k,ie)|0,o=(o=o+Math.imul(k,ae)|0)+Math.imul(E,ie)|0,i=i+Math.imul(E,ae)|0,r=r+Math.imul(_,le)|0,o=(o=o+Math.imul(_,ue)|0)+Math.imul(x,le)|0,i=i+Math.imul(x,ue)|0,r=r+Math.imul(v,de)|0,o=(o=o+Math.imul(v,fe)|0)+Math.imul(y,de)|0,i=i+Math.imul(y,fe)|0,r=r+Math.imul(p,pe)|0,o=(o=o+Math.imul(p,me)|0)+Math.imul(m,pe)|0,i=i+Math.imul(m,me)|0;var Ae=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),o=(o=Math.imul(B,K))+Math.imul(F,X)|0,i=Math.imul(F,K),r=r+Math.imul(I,$)|0,o=(o=o+Math.imul(I,Z)|0)+Math.imul(D,$)|0,i=i+Math.imul(D,Z)|0,r=r+Math.imul(N,J)|0,o=(o=o+Math.imul(N,ee)|0)+Math.imul(R,J)|0,i=i+Math.imul(R,ee)|0,r=r+Math.imul(C,ne)|0,o=(o=o+Math.imul(C,re)|0)+Math.imul(j,ne)|0,i=i+Math.imul(j,re)|0,r=r+Math.imul(A,ie)|0,o=(o=o+Math.imul(A,ae)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,ae)|0,r=r+Math.imul(k,le)|0,o=(o=o+Math.imul(k,ue)|0)+Math.imul(E,le)|0,i=i+Math.imul(E,ue)|0,r=r+Math.imul(_,de)|0,o=(o=o+Math.imul(_,fe)|0)+Math.imul(x,de)|0,i=i+Math.imul(x,fe)|0,r=r+Math.imul(v,pe)|0,o=(o=o+Math.imul(v,me)|0)+Math.imul(y,pe)|0,i=i+Math.imul(y,me)|0;var Se=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(B,$),o=(o=Math.imul(B,Z))+Math.imul(F,$)|0,i=Math.imul(F,Z),r=r+Math.imul(I,J)|0,o=(o=o+Math.imul(I,ee)|0)+Math.imul(D,J)|0,i=i+Math.imul(D,ee)|0,r=r+Math.imul(N,ne)|0,o=(o=o+Math.imul(N,re)|0)+Math.imul(R,ne)|0,i=i+Math.imul(R,re)|0,r=r+Math.imul(C,ie)|0,o=(o=o+Math.imul(C,ae)|0)+Math.imul(j,ie)|0,i=i+Math.imul(j,ae)|0,r=r+Math.imul(A,le)|0,o=(o=o+Math.imul(A,ue)|0)+Math.imul(S,le)|0,i=i+Math.imul(S,ue)|0,r=r+Math.imul(k,de)|0,o=(o=o+Math.imul(k,fe)|0)+Math.imul(E,de)|0,i=i+Math.imul(E,fe)|0,r=r+Math.imul(_,pe)|0,o=(o=o+Math.imul(_,me)|0)+Math.imul(x,pe)|0,i=i+Math.imul(x,me)|0;var Me=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,J),o=(o=Math.imul(B,ee))+Math.imul(F,J)|0,i=Math.imul(F,ee),r=r+Math.imul(I,ne)|0,o=(o=o+Math.imul(I,re)|0)+Math.imul(D,ne)|0,i=i+Math.imul(D,re)|0,r=r+Math.imul(N,ie)|0,o=(o=o+Math.imul(N,ae)|0)+Math.imul(R,ie)|0,i=i+Math.imul(R,ae)|0,r=r+Math.imul(C,le)|0,o=(o=o+Math.imul(C,ue)|0)+Math.imul(j,le)|0,i=i+Math.imul(j,ue)|0,r=r+Math.imul(A,de)|0,o=(o=o+Math.imul(A,fe)|0)+Math.imul(S,de)|0,i=i+Math.imul(S,fe)|0,r=r+Math.imul(k,pe)|0,o=(o=o+Math.imul(k,me)|0)+Math.imul(E,pe)|0,i=i+Math.imul(E,me)|0;var Ce=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ne),o=(o=Math.imul(B,re))+Math.imul(F,ne)|0,i=Math.imul(F,re),r=r+Math.imul(I,ie)|0,o=(o=o+Math.imul(I,ae)|0)+Math.imul(D,ie)|0,i=i+Math.imul(D,ae)|0,r=r+Math.imul(N,le)|0,o=(o=o+Math.imul(N,ue)|0)+Math.imul(R,le)|0,i=i+Math.imul(R,ue)|0,r=r+Math.imul(C,de)|0,o=(o=o+Math.imul(C,fe)|0)+Math.imul(j,de)|0,i=i+Math.imul(j,fe)|0,r=r+Math.imul(A,pe)|0,o=(o=o+Math.imul(A,me)|0)+Math.imul(S,pe)|0,i=i+Math.imul(S,me)|0;var je=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(B,ie),o=(o=Math.imul(B,ae))+Math.imul(F,ie)|0,i=Math.imul(F,ae),r=r+Math.imul(I,le)|0,o=(o=o+Math.imul(I,ue)|0)+Math.imul(D,le)|0,i=i+Math.imul(D,ue)|0,r=r+Math.imul(N,de)|0,o=(o=o+Math.imul(N,fe)|0)+Math.imul(R,de)|0,i=i+Math.imul(R,fe)|0,r=r+Math.imul(C,pe)|0,o=(o=o+Math.imul(C,me)|0)+Math.imul(j,pe)|0,i=i+Math.imul(j,me)|0;var Oe=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,le),o=(o=Math.imul(B,ue))+Math.imul(F,le)|0,i=Math.imul(F,ue),r=r+Math.imul(I,de)|0,o=(o=o+Math.imul(I,fe)|0)+Math.imul(D,de)|0,i=i+Math.imul(D,fe)|0,r=r+Math.imul(N,pe)|0,o=(o=o+Math.imul(N,me)|0)+Math.imul(R,pe)|0,i=i+Math.imul(R,me)|0;var Ne=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(B,de),o=(o=Math.imul(B,fe))+Math.imul(F,de)|0,i=Math.imul(F,fe),r=r+Math.imul(I,pe)|0,o=(o=o+Math.imul(I,me)|0)+Math.imul(D,pe)|0,i=i+Math.imul(D,me)|0;var Re=(u+r|0)+((8191&o)<<13)|0;u=(i+(o>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,pe),o=(o=Math.imul(B,me))+Math.imul(F,pe)|0,i=Math.imul(F,me);var Pe=(u+r|0)+((8191&o)<<13)|0;return u=(i+(o>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,l[0]=ge,l[1]=ve,l[2]=ye,l[3]=be,l[4]=_e,l[5]=xe,l[6]=we,l[7]=ke,l[8]=Ee,l[9]=Te,l[10]=Ae,l[11]=Se,l[12]=Me,l[13]=Ce,l[14]=je,l[15]=Oe,l[16]=Ne,l[17]=Re,l[18]=Pe,0!==u&&(l[19]=u,n.length++),n};function p(e,t,n){var r=new m;return r.mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=f),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,o=0,i=0;i<n.length-1;i++){var a=o;o=0;for(var s=67108863&r,l=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=l;u++){var c=i-u,d=0|e.words[c],f=0|t.words[u],h=d*f,p=67108863&h;s=67108863&(p=p+s|0),o+=(a=(a=a+(h/67108864|0)|0)+(p>>>26)|0)>>>26,a&=67108863}n.words[i]=s,r=a,a=o}return 0!==r?n.words[i]=r:n.length--,n.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=i.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,o=0;o<t;o++)r|=(1&e)<<t-o-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,o,i){for(var a=0;a<i;a++)r[a]=t[e[a]],o[a]=n[e[a]]},m.prototype.transform=function(e,t,n,r,o,i){this.permute(i,e,t,n,r,o);for(var a=1;a<o;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<o;c+=s)for(var d=l,f=u,h=0;h<a;h++){var p=n[c+h],m=r[c+h],g=n[c+h+a],v=r[c+h+a],y=d*g-f*v;v=d*v+f*g,g=y,n[c+h]=p+g,r[c+h]=m+v,n[c+h+a]=p-g,r[c+h+a]=m-v,h!==s&&(y=l*d-u*f,f=l*f+u*d,d=y)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,o=0;for(n=n/2|0;n;n>>>=1)o++;return 1<<o+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var o=e[r];e[r]=e[n-r-1],e[n-r-1]=o,o=t[r],t[r]=-t[n-r-1],t[n-r-1]=-o}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var o=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&o,n=o<67108864?0:o/67108864|0}return e},m.prototype.convert13b=function(e,t,n,o){for(var i=0,a=0;a<t;a++)i+=0|e[a],n[2*a]=8191&i,i>>>=13,n[2*a+1]=8191&i,i>>>=13;for(a=2*t;a<o;++a)n[a]=0;r(0===i),r(0==(-8192&i))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),o=this.makeRBT(r),i=this.stub(r),a=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,i,s,l,r,o),this.transform(u,i,c,d,r,o);for(var h=0;h<r;h++){var p=s[h]*c[h]-l[h]*d[h];l[h]=s[h]*d[h]+l[h]*c[h],s[h]=p}return this.conjugate(s,l,r),this.transform(s,l,f,i,r,o),this.conjugate(f,i,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var o=(0|this.words[n])*e,i=(67108863&o)+(67108863&t);t>>=26,t+=o/67108864|0,t+=i>>>26,this.words[n]=67108863&i}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,o=n%26;t[n]=(e.words[r]&1<<o)>>>o}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var o=n.sqr();r<t.length;r++,o=o.sqr())0!==t[r]&&(n=n.mul(o));return n},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,o=(e-n)/26,i=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&i,l=(0|this.words[t])-s<<n;this.words[t]=l|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==o){for(t=this.length-1;t>=0;t--)this.words[t+o]=this.words[t];for(t=0;t<o;t++)this.words[t]=0;this.length+=o}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var o;r("number"==typeof e&&e>=0),o=t?(t-t%26)/26:0;var i=e%26,a=Math.min((e-i)/26,this.length),s=67108863^67108863>>>i<<i,l=n;if(o-=a,o=Math.max(0,o),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=o);u--){var d=0|this.words[u];this.words[u]=c<<26-i|d>>>i,c=d&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,o=1<<t;if(this.length<=n)return!1;var i=this.words[n];return!!(i&o)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var o,i,a=e.length+n;this._expand(a);var s=0;for(o=0;o<e.length;o++){i=(0|this.words[o+n])+s;var l=(0|e.words[o])*t;s=((i-=67108863&l)>>26)-(l/67108864|0),this.words[o+n]=67108863&i}for(;o<this.length-n;o++)i=(0|this.words[o+n])+s,s=i>>26,this.words[o+n]=67108863&i;if(0===s)return this.strip();for(r(-1===s),s=0,o=0;o<this.length;o++)i=-(0|this.words[o])+s,s=i>>26,this.words[o]=67108863&i;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),o=e,a=0|o.words[o.length-1],s=this._countBits(a);0!=(n=26-s)&&(o=o.ushln(n),r.iushln(n),a=0|o.words[o.length-1]);var l,u=r.length-o.length;if("mod"!==t){(l=new i(null)).length=u+1,l.words=new Array(l.length);for(var c=0;c<l.length;c++)l.words[c]=0}var d=r.clone()._ishlnsubmul(o,1,u);0===d.negative&&(r=d,l&&(l.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[o.length+f])+(0|r.words[o.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(o,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(o,1,f),r.isZero()||(r.negative^=1);l&&(l.words[f]=h)}return l&&l.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:l||null,mod:r}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),o=e.andln(1),i=n.cmp(r);return i<0||1===o&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,o=this.length-1;o>=0;o--)n=(t*n+(0|this.words[o]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*t;this.words[n]=o/e|0,t=o%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),l=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(c),a.isub(d)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(d)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(l)):(n.isub(t),s.isub(o),l.isub(a))}return{a:s,b:l,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var o=t.cmp(n);if(o<0){var i=t;t=n,n=i}else if(0===o||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,o=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=o,this;for(var i=o,a=n;0!==i&&a<this.length;a++){var s=0|this.words[a];i=(s+=i)>>>26,s&=67108863,this.words[a]=s}return 0!==i&&(this.words[a]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var o=0|this.words[0];t=o===e?0:o<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],o=0|e.words[n];if(r!==o){r<o?t=-1:r>o&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new w(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),n=(n=this.imulK(n)).iadd(this.tmp),t=n.bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},o(y,v),y.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=4194303&o,r=10;r<e.length;r++){var i=0|e.words[r];e.words[r-10]=(4194303&i)<<4|o>>>22,o=i}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},o(b,v),o(_,v),o(x,v),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,o=67108863&r;r>>>=26,e.words[n]=o,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new b;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},w.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},w.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var d=this.pow(c,o),f=this.pow(e,o.addn(1).iushrn(1)),h=this.pow(e,o),p=a;0!==h.cmp(s);){for(var m=h,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var v=this.pow(d,new i(1).iushln(p-g-1));f=f.redMul(v),d=v.redSqr(),h=h.redMul(d),p=g}return f},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var o=n[0],a=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],c=l-1;c>=0;c--){var d=u>>c&1;o!==n[0]&&(o=this.sqr(o)),0!==d||0!==a?(a<<=1,a|=d,(4==++s||0===r&&0===c)&&(o=this.mul(o,n[a]),s=0,a=0)):s=0}l=26}return o},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},o(k,w),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),i=o;return o.cmp(this.m)>=0?i=o.isub(this.m):o.cmpn(0)<0&&(i=o.iadd(this.m)),i._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}(void 0===t||t,this)},{buffer:49}],42:[function(e,t,n){"use strict";t.exports=function(e,t,n){switch(arguments.length){case 1:return r=[],u(o=e,o,c,!0),r;case 2:return"function"==typeof t?u(e,e,t,!0):function(e,t){return r=[],u(e,t,c,!1),r}(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}var o};var r,o=e("typedarray-pool"),i=e("./lib/sweep"),a=e("./lib/intersect");function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var o=0,i=0,a=0,l=e.length;a<l;++a){var u=e[a];if(!s(t,u)){for(var c=0;c<2*t;++c)n[o++]=u[c];r[i++]=a}}return i}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var d,f=o.mallocDouble(2*c*s),h=o.mallocInt32(s);if((s=l(e,c,f,h))>0){if(1===c&&r)i.init(s),d=i.sweepComplete(c,n,0,s,f,h,0,s,f,h);else{var p=o.mallocDouble(2*c*u),m=o.mallocInt32(u);(u=l(t,c,p,m))>0&&(i.init(s+u),d=1===c?i.sweepBipartite(c,n,0,s,f,h,0,u,p,m):a(c,n,r,s,f,h,u,p,m),o.free(p),o.free(m))}o.free(f),o.free(h)}return d}}}function c(e,t){r.push([e,t])}},{"./lib/intersect":44,"./lib/sweep":48,"typedarray-pool":290}],43:[function(e,t,n){"use strict";var r="d",o="ax",i="vv",a="fp",s="es",l="rs",u="re",c="rb",d="ri",f="rp",h="bs",p="be",m="bb",g="bi",v="bp",y="rv",b="Q",_=[r,o,i,l,u,c,d,h,p,m,g];function x(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],x=_.slice();e||x.splice(3,0,a);var w=["function "+t+"("+x.join()+"){"];function k(t,a){var x=function(e,t,n){var a="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),x=["function ",a,"(",_.join(),"){","var ",s,"=2*",r,";"],w="for(var i="+l+","+f+"="+s+"*"+l+";i<"+u+";++i,"+f+"+="+s+"){var x0="+c+"["+o+"+"+f+"],x1="+c+"["+o+"+"+f+"+"+r+"],xi="+d+"[i];",k="for(var j="+h+","+v+"="+s+"*"+h+";j<"+p+";++j,"+v+"+="+s+"){var y0="+m+"["+o+"+"+v+"],"+(n?"y1="+m+"["+o+"+"+v+"+"+r+"],":"")+"yi="+g+"[j];";return e?x.push(w,b,":",k):x.push(k,b,":",w),n?x.push("if(y1<x0||x1<y0)continue;"):t?x.push("if(y0<=x0||x1<y0)continue;"):x.push("if(y0<x0||x1<y0)continue;"),x.push("for(var k="+o+"+1;k<"+r+";++k){var r0="+c+"[k+"+f+"],r1="+c+"[k+"+r+"+"+f+"],b0="+m+"[k+"+v+"],b1="+m+"[k+"+r+"+"+v+"];if(r1<b0||b1<r0)continue "+b+";}var "+y+"="+i+"("),t?x.push("yi,xi"):x.push("xi,yi"),x.push(");if("+y+"!==void 0)return "+y+";}}}"),{name:a,code:x.join("")}}(t,a,e);n.push(x.code),w.push("return "+x.name+"("+_.join()+");")}w.push("if("+u+"-"+l+">"+p+"-"+h+"){"),e?(k(!0,!1),w.push("}else{"),k(!1,!1)):(w.push("if("+a+"){"),k(!0,!0),w.push("}else{"),k(!0,!1),w.push("}}else{if("+a+"){"),k(!1,!0),w.push("}else{"),k(!1,!1),w.push("}")),w.push("}}return "+t);var E=n.join("")+w.join(""),T=new Function(E);return T()}n.partial=x(!1),n.full=x(!0)},{}],44:[function(e,t,n){"use strict";t.exports=function(e,t,n,i,c,S,M,C,j){!function(e,t){var n=8*o.log2(t+1)*(e+1)|0,i=o.nextPow2(_*n);w.length<i&&(r.free(w),w=r.mallocInt32(i));var a=o.nextPow2(x*n);k<a&&(r.free(k),k=r.mallocDouble(a))}(e,i+M);var O,N=0,R=2*e;for(E(N++,0,0,i,0,M,n?16:0,-1/0,1/0),n||E(N++,0,0,M,0,i,1,-1/0,1/0);N>0;){var P=(N-=1)*_,I=w[P],D=w[P+1],L=w[P+2],B=w[P+3],F=w[P+4],z=w[P+5],U=N*x,q=k[U],V=k[U+1],H=1&z,W=!!(16&z),G=c,X=S,K=C,Y=j;if(H&&(G=C,X=j,K=c,Y=S),!(2&z&&(L=g(e,I,D,L,G,X,V),D>=L)||4&z&&(D=v(e,I,D,L,G,X,q))>=L)){var $=L-D,Z=F-B;if(W){if(e*$*($+Z)<h){if(void 0!==(O=l.scanComplete(e,I,t,D,L,G,X,B,F,K,Y)))return O;continue}}else{if(e*Math.min($,Z)<d){if(void 0!==(O=a(e,I,t,H,D,L,G,X,B,F,K,Y)))return O;continue}if(e*$*Z<f){if(void 0!==(O=l.scanBipartite(e,I,t,H,D,L,G,X,B,F,K,Y)))return O;continue}}var Q=p(e,I,D,L,G,X,q,V);if(D<Q)if(e*(Q-D)<d){if(void 0!==(O=s(e,I+1,t,D,Q,G,X,B,F,K,Y)))return O}else if(I===e-2){if(void 0!==(O=H?l.sweepBipartite(e,t,B,F,K,Y,D,Q,G,X):l.sweepBipartite(e,t,D,Q,G,X,B,F,K,Y)))return O}else E(N++,I+1,D,Q,B,F,H,-1/0,1/0),E(N++,I+1,B,F,D,Q,1^H,-1/0,1/0);if(Q<L){var J=u(e,I,B,F,K,Y),ee=K[R*J+I],te=m(e,I,J,F,K,Y,ee);if(te<F&&E(N++,I,Q,L,te,F,(4|H)+(W?16:0),ee,V),B<J&&E(N++,I,Q,L,B,J,(2|H)+(W?16:0),q,ee),J+1===te){if(void 0!==(O=W?A(e,I,t,Q,L,G,X,J,K,Y[J]):T(e,I,t,H,Q,L,G,X,J,K,Y[J])))return O}else if(J<te){var ne;if(W){if(ne=y(e,I,Q,L,G,X,ee),Q<ne){var re=m(e,I,Q,ne,G,X,ee);if(I===e-2){if(Q<re&&void 0!==(O=l.sweepComplete(e,t,Q,re,G,X,J,te,K,Y)))return O;if(re<ne&&void 0!==(O=l.sweepBipartite(e,t,re,ne,G,X,J,te,K,Y)))return O}else Q<re&&E(N++,I+1,Q,re,J,te,16,-1/0,1/0),re<ne&&(E(N++,I+1,re,ne,J,te,0,-1/0,1/0),E(N++,I+1,J,te,re,ne,1,-1/0,1/0))}}else ne=H?b(e,I,Q,L,G,X,ee):y(e,I,Q,L,G,X,ee),Q<ne&&(I===e-2?O=H?l.sweepBipartite(e,t,J,te,K,Y,Q,ne,G,X):l.sweepBipartite(e,t,Q,ne,G,X,J,te,K,Y):(E(N++,I+1,Q,ne,J,te,H,-1/0,1/0),E(N++,I+1,J,te,Q,ne,1^H,-1/0,1/0)))}}}}};var r=e("typedarray-pool"),o=e("bit-twiddle"),i=e("./brute"),a=i.partial,s=i.full,l=e("./sweep"),u=e("./median"),c=e("./partition"),d=128,f=1<<22,h=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),m=c("lo===p0",["p0"]),g=c("lo<p0",["p0"]),v=c("hi<=p0",["p0"]),y=c("lo<=p0&&p0<=hi",["p0"]),b=c("lo<p0&&p0<=hi",["p0"]),_=6,x=2,w=r.mallocInt32(1024),k=r.mallocDouble(1024);function E(e,t,n,r,o,i,a,s,l){var u=_*e;w[u]=t,w[u+1]=n,w[u+2]=r,w[u+3]=o,w[u+4]=i,w[u+5]=a;var c=x*e;k[c]=s,k[c+1]=l}function T(e,t,n,r,o,i,a,s,l,u,c){var d=2*e,f=l*d,h=u[f+t];e:for(var p=o,m=o*d;p<i;++p,m+=d){var g=a[m+t],v=a[m+t+e];if(!(h<g||v<h||r&&h===g)){for(var y,b=s[p],_=t+1;_<e;++_){var g=a[m+_],v=a[m+_+e],x=u[f+_],w=u[f+_+e];if(v<x||w<g)continue e}if(void 0!==(y=r?n(c,b):n(b,c)))return y}}}function A(e,t,n,r,o,i,a,s,l,u){var c=2*e,d=s*c,f=l[d+t];e:for(var h=r,p=r*c;h<o;++h,p+=c){var m=a[h];if(m!==u){var g=i[p+t],v=i[p+t+e];if(!(f<g||v<f)){for(var y=t+1;y<e;++y){var g=i[p+y],v=i[p+y+e],b=l[d+y],_=l[d+y+e];if(v<b||_<g)continue e}var x=n(m,u);if(void 0!==x)return x}}}}},{"./brute":43,"./median":45,"./partition":46,"./sweep":48,"bit-twiddle":39,"typedarray-pool":290}],45:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,s,l){if(r<=n+1)return n;for(var u=n,c=r,d=r+n>>>1,f=2*e,h=d,p=s[f*d+t];u<c;){if(c-u<i){a(e,t,u,c,s,l),p=s[f*d+t];break}var m=c-u,g=Math.random()*m+u|0,v=s[f*g+t],y=Math.random()*m+u|0,b=s[f*y+t],_=Math.random()*m+u|0,x=s[f*_+t];v<=b?x>=b?(h=y,p=b):v>=x?(h=g,p=v):(h=_,p=x):b>=x?(h=y,p=b):x>=v?(h=g,p=v):(h=_,p=x);for(var w=f*(c-1),k=f*h,E=0;E<f;++E,++w,++k){var T=s[w];s[w]=s[k],s[k]=T}var A=l[c-1];l[c-1]=l[h],l[h]=A,h=o(e,t,u,c-1,s,l,p);for(var w=f*(c-1),k=f*h,E=0;E<f;++E,++w,++k){var T=s[w];s[w]=s[k],s[k]=T}var A=l[c-1];if(l[c-1]=l[h],l[h]=A,d<h){for(c=h-1;u<c&&s[f*(c-1)+t]===p;)c-=1;c+=1}else{if(!(h<d))break;for(u=h+1;u<c&&s[f*u+t]===p;)u+=1}}return o(e,t,n,d,s,l,s[f*d+t])};var r=e("./partition"),o=r("lo<p0",["p0"]),i=8;function a(e,t,n,r,o,i){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=o[s],c=l,d=a*(l-1);c>n&&o[d+t]>u;--c,d-=a){for(var f=d,h=d+a,p=0;p<a;++p,++f,++h){var m=o[f];o[f]=o[h],o[h]=m}var g=i[c];i[c]=i[c-1],i[c-1]=g}}},{"./partition":46}],46:[function(e,t,n){"use strict";t.exports=function(e,t){var n="abcdef".split("").concat(t),o=[];return e.indexOf("lo")>=0&&o.push("lo=e[k+n]"),e.indexOf("hi")>=0&&o.push("hi=e[k+o]"),n.push(r.replace("_",o.join()).replace("$",e)),Function.apply(void 0,n)};var r="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],47:[function(e,t,n){"use strict";t.exports=function(e,t){t<=4*r?o(0,t-1,e):function e(t,n,d){var f=(n-t+1)/6|0,h=t+f,p=n-f,m=t+n>>1,g=m-f,v=m+f,y=h,b=g,_=m,x=v,w=p,k=t+1,E=n-1,T=0;u(y,b,d)&&(T=y,y=b,b=T),u(x,w,d)&&(T=x,x=w,w=T),u(y,_,d)&&(T=y,y=_,_=T),u(b,_,d)&&(T=b,b=_,_=T),u(y,x,d)&&(T=y,y=x,x=T),u(_,x,d)&&(T=_,_=x,x=T),u(b,w,d)&&(T=b,b=w,w=T),u(b,_,d)&&(T=b,b=_,_=T),u(x,w,d)&&(T=x,x=w,w=T);for(var A=d[2*b],S=d[2*b+1],M=d[2*x],C=d[2*x+1],j=2*y,O=2*_,N=2*w,R=2*h,P=2*m,I=2*p,D=0;D<2;++D){var L=d[j+D],B=d[O+D],F=d[N+D];d[R+D]=L,d[P+D]=B,d[I+D]=F}a(g,t,d),a(v,n,d);for(var z=k;z<=E;++z)if(c(z,A,S,d))z!==k&&i(z,k,d),++k;else if(!c(z,M,C,d))for(;;){if(c(E,M,C,d)){c(E,A,S,d)?(s(z,k,E,d),++k,--E):(i(z,E,d),--E);break}if(--E<z)break}l(t,k-1,A,S,d),l(n,E+1,M,C,d),k-2-t<=r?o(t,k-2,d):e(t,k-2,d),n-(E+2)<=r?o(E+2,n,d):e(E+2,n,d),E-k<=r?o(k,E,d):e(k,E,d)}(0,t-1,e)};var r=32;function o(e,t,n){for(var r=2*(e+1),o=e+1;o<=t;++o){for(var i=n[r++],a=n[r++],s=o,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<i)break;if(u===i&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=i,n[l+1]=a}}function i(e,t,n){t*=2;var r=n[e*=2],o=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=o}function a(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function s(e,t,n,r){t*=2,n*=2;var o=r[e*=2],i=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=o,r[n+1]=i}function l(e,t,n,r,o){t*=2,o[e*=2]=o[t],o[t]=n,o[e+1]=o[t+1],o[t+1]=r}function u(e,t,n){t*=2;var r=n[e*=2],o=n[t];return!(r<o)&&(r!==o||n[e+1]>n[t+1])}function c(e,t,n,r){var o=r[e*=2];return o<t||o===t&&r[e+1]<n}},{}],48:[function(e,t,n){"use strict";t.exports={init:function(e){var t=o.nextPow2(e);s.length<t&&(r.free(s),s=r.mallocInt32(t)),l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),c.length<t&&(r.free(c),c=r.mallocInt32(t)),d.length<t&&(r.free(d),d=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t));var n=8*t;h.length<n&&(r.free(h),h=r.mallocDouble(n))},sweepBipartite:function(e,t,n,r,o,d,f,g,v,y){for(var b=0,_=2*e,x=e-1,w=_-1,k=n;k<r;++k){var E=d[k],T=_*k;h[b++]=o[T+x],h[b++]=-(E+1),h[b++]=o[T+w],h[b++]=E}for(var k=f;k<g;++k){var E=y[k]+a,A=_*k;h[b++]=v[A+x],h[b++]=-E,h[b++]=v[A+w],h[b++]=E}var S=b>>>1;i(h,S);for(var M=0,C=0,k=0;k<S;++k){var j=0|h[2*k+1];if(j>=a)p(u,c,C--,j=j-a|0);else if(j>=0)p(s,l,M--,j);else if(j<=-a){j=-j-a|0;for(var O=0;O<M;++O){var N=t(s[O],j);if(void 0!==N)return N}m(u,c,C++,j)}else{j=-j-1|0;for(var O=0;O<C;++O){var N=t(j,u[O]);if(void 0!==N)return N}m(s,l,M++,j)}}},sweepComplete:function(e,t,n,r,o,a,g,v,y,b){for(var _=0,x=2*e,w=e-1,k=x-1,E=n;E<r;++E){var T=a[E]+1<<1,A=x*E;h[_++]=o[A+w],h[_++]=-T,h[_++]=o[A+k],h[_++]=T}for(var E=g;E<v;++E){var T=b[E]+1<<1,S=x*E;h[_++]=y[S+w],h[_++]=1|-T,h[_++]=y[S+k],h[_++]=1|T}var M=_>>>1;i(h,M);for(var C=0,j=0,O=0,E=0;E<M;++E){var N=0|h[2*E+1],R=1&N;if(E<M-1&&N>>1==h[2*E+3]>>1&&(R=2,E+=1),N<0){for(var P=-(N>>1)-1,I=0;I<O;++I){var D=t(d[I],P);if(void 0!==D)return D}if(0!==R)for(var I=0;I<C;++I){var D=t(s[I],P);if(void 0!==D)return D}if(1!==R)for(var I=0;I<j;++I){var D=t(u[I],P);if(void 0!==D)return D}0===R?m(s,l,C++,P):1===R?m(u,c,j++,P):2===R&&m(d,f,O++,P)}else{var P=(N>>1)-1;0===R?p(s,l,C--,P):1===R?p(u,c,j--,P):2===R&&p(d,f,O--,P)}}},scanBipartite:function(e,t,n,r,o,u,c,d,f,g,v,y){var b=0,_=2*e,x=t,w=t+e,k=1,E=1;r?E=a:k=a;for(var T=o;T<u;++T){var A=T+k,S=_*T;h[b++]=c[S+x],h[b++]=-A,h[b++]=c[S+w],h[b++]=A}for(var T=f;T<g;++T){var A=T+E,M=_*T;h[b++]=v[M+x],h[b++]=-A}var C=b>>>1;i(h,C);for(var j=0,T=0;T<C;++T){var O=0|h[2*T+1];if(O<0){var A=-O,N=!1;if(A>=a?(N=!r,A-=a):(N=!!r,A-=1),N)m(s,l,j++,A);else{var R=y[A],P=_*A,I=v[P+t+1],D=v[P+t+1+e];e:for(var L=0;L<j;++L){var B=s[L],F=_*B;if(!(D<c[F+t+1]||c[F+t+1+e]<I)){for(var z=t+2;z<e;++z)if(v[P+z+e]<c[F+z]||c[F+z+e]<v[P+z])continue e;var U,q=d[B];if(void 0!==(U=r?n(R,q):n(q,R)))return U}}}}else p(s,l,j--,O-k)}},scanComplete:function(e,t,n,r,o,l,u,c,d,f,p){for(var m=0,g=2*e,v=t,y=t+e,b=r;b<o;++b){var _=b+a,x=g*b;h[m++]=l[x+v],h[m++]=-_,h[m++]=l[x+y],h[m++]=_}for(var b=c;b<d;++b){var _=b+1,w=g*b;h[m++]=f[w+v],h[m++]=-_}var k=m>>>1;i(h,k);for(var E=0,b=0;b<k;++b){var T=0|h[2*b+1];if(T<0){var _=-T;if(_>=a)s[E++]=_-a;else{var A=p[_-=1],S=g*_,M=f[S+t+1],C=f[S+t+1+e];e:for(var j=0;j<E;++j){var O=s[j],N=u[O];if(N===A)break;var R=g*O;if(!(C<l[R+t+1]||l[R+t+1+e]<M)){for(var P=t+2;P<e;++P)if(f[S+P+e]<l[R+P]||l[R+P+e]<f[S+P])continue e;var I=n(N,A);if(void 0!==I)return I}}}}else{for(var _=T-a,j=E-1;j>=0;--j)if(s[j]===_){for(var P=j+1;P<E;++P)s[P-1]=s[P];break}--E}}}};var r=e("typedarray-pool"),o=e("bit-twiddle"),i=e("./sort"),a=1<<28,s=r.mallocInt32(1024),l=r.mallocInt32(1024),u=r.mallocInt32(1024),c=r.mallocInt32(1024),d=r.mallocInt32(1024),f=r.mallocInt32(1024),h=r.mallocDouble(8192);function p(e,t,n,r){var o=t[r],i=e[n-1];e[o]=i,t[i]=o}function m(e,t,n,r){e[n]=r,t[r]=n}},{"./sort":47,"bit-twiddle":39,"typedarray-pool":290}],49:[function(e,t,n){},{}],50:[function(e,t,n){var r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),s=0===u.x}catch(e){s=!1}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,o){var i,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=r(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=o?[n,s]:[s,n]:o?s.unshift(n):s.push(n),!s.warned&&(i=c(e))&&i>0&&s.length>i){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[t]=n,++e._eventsCount;return e}function f(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=i.call(f,r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(!r)return[];var o=r[t];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length):[]}function m(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):a.defaultMaxListeners=l,a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){var t,n,r,o,i,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=a[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,o=g(e,r),i=0;i<r;++i)o[i].call(n)}(n,u,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=g(e,o),a=0;a<o;++a)i[a].call(n,r)}(n,u,this,arguments[1]);break;case 3:!function(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,a=g(e,i),s=0;s<i;++s)a[s].call(n,r,o)}(n,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var a=e.length,s=g(e,a),l=0;l<a;++l)s[l].call(n,r,o,i)}(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];!function(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=g(e,o),a=0;a<o;++a)i[a].apply(n,r)}(n,u,this,o)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,o,i,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(n=o[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i),1===n.length&&(o[e]=n[0]),o.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,i;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){var a,s=o(n);for(i=0;i<s.length;++i)"removeListener"!==(a=s[i])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],51:[function(e,t,n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var r=e("base64-js"),o=e("ieee754");n.Buffer=s,n.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function a(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=a(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var o=function(e){if(s.isBuffer(e)){var t=0|f(e.length),n=a(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}return void 0!==e.length?"number"!=typeof e.length||z(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),a(e<0?0:0|f(e))}function d(e){for(var t=e.length<0?0:0|f(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(e).length;default:if(o)return r?-1:D(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(u(e,i+f)!==u(t,f)){d=!1;break}if(d)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(z(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return B(D(t,e.length-n),e,n,r)}function b(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return b(e,t,n,r)}function x(e,t,n,r){return B(L(t),e,n,r)}function w(e,t,n,r){return B(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,u=e[o],c=null,d=u>239?4:u>223?3:u>191?2:1;if(o+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&u)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}n.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(F(i,Uint8Array)&&(i=s.from(i)),!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,o){if(F(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var i=o-r,a=n-t,l=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n),d=0;d<l;++d)if(u[d]!==c[d]){i=u[d],a=c[d];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function M(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",a=t;a<n;++a)i+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return i}function C(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var o=Math.pow(2,8*n)-1;O(this,e,t,n,o,0)}var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var o=Math.pow(2,8*n)-1;O(this,e,t,n,o,0)}var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);O(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);O(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var i=o-1;i>=0;--i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:s.from(e,r),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%l]}return this};var I=/[^+\/0-9A-Za-z-_]/g;function D(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function L(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}},{"base64-js":21,ieee754:202}],52:[function(e,t,n){"use strict";var r=e("./lib/monotone"),o=e("./lib/triangulation"),i=e("./lib/delaunay"),a=e("./lib/filter");function s(e){return[Math.min(e[0],e[1]),Math.max(e[0],e[1])]}function l(e,t){return e[0]-t[0]||e[1]-t[1]}function u(e,t,n){return t in e?e[t]:n}t.exports=function(e,t,n){Array.isArray(t)?(n=n||{},t=t||[]):(n=t||{},t=[]);var c=!!u(n,"delaunay",!0),d=!!u(n,"interior",!0),f=!!u(n,"exterior",!0),h=!!u(n,"infinity",!1);if(!d&&!f||0===e.length)return[];var p=r(e,t);if(c||d!==f||h){for(var m=o(e.length,function(e){return e.map(s).sort(l)}(t)),g=0;g<p.length;++g){var v=p[g];m.addTriangle(v[0],v[1],v[2])}return c&&i(e,m),f?d?h?a(m,0,h):m.cells():a(m,1,h):a(m,-1)}return p}},{"./lib/delaunay":53,"./lib/filter":54,"./lib/monotone":55,"./lib/triangulation":56}],53:[function(e,t,n){"use strict";var r=e("robust-in-sphere")[4];function o(e,t,n,o,i,a){var s=t.opposite(o,i);if(!(s<0)){if(i<o){var l=o;o=i,i=l,l=a,a=s,s=l}t.isConstraint(o,i)||r(e[o],e[i],e[a],e[s])<0&&n.push(o,i)}}e("binary-search-bounds"),t.exports=function(e,t){for(var n=[],i=e.length,a=t.stars,s=0;s<i;++s)for(var l=a[s],u=1;u<l.length;u+=2){var c=l[u];if(!(c<s||t.isConstraint(s,c))){for(var d=l[u-1],f=-1,h=1;h<l.length;h+=2)if(l[h-1]===c){f=l[h];break}f<0||r(e[s],e[c],e[d],e[f])<0&&n.push(s,c)}}for(;n.length>0;){for(var c=n.pop(),s=n.pop(),d=-1,f=-1,l=a[s],p=1;p<l.length;p+=2){var m=l[p-1],g=l[p];m===c?f=g:g===c&&(d=m)}d<0||f<0||r(e[s],e[c],e[d],e[f])>=0||(t.flip(s,c),o(e,t,n,d,s,f),o(e,t,n,s,f,d),o(e,t,n,f,c,d),o(e,t,n,c,d,f))}}},{"binary-search-bounds":57,"robust-in-sphere":261}],54:[function(e,t,n){"use strict";var r=e("binary-search-bounds");function o(e,t,n,r,o,i,a){this.cells=e,this.neighbor=t,this.flags=r,this.constraint=n,this.active=o,this.next=i,this.boundary=a}t.exports=function(e,t,n){var r=function(e,t){for(var n=e.cells(),r=n.length,i=0;i<r;++i){var a=n[i],l=a[0],u=a[1],c=a[2];u<c?u<l&&(a[0]=u,a[1]=c,a[2]=l):c<l&&(a[0]=c,a[1]=l,a[2]=u)}n.sort(s);for(var d=new Array(r),i=0;i<d.length;++i)d[i]=0;var f=[],h=[],p=new Array(3*r),m=new Array(3*r),g=null;t&&(g=[]);for(var v=new o(n,p,m,d,f,h,g),i=0;i<r;++i)for(var a=n[i],y=0;y<3;++y){var l=a[y],u=a[(y+1)%3],b=p[3*i+y]=v.locate(u,l,e.opposite(u,l)),_=m[3*i+y]=e.isConstraint(l,u);b<0&&(_?h.push(i):(f.push(i),d[i]=1),t&&g.push([u,l,-1]))}return v}(e,n);if(0===t)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,a=r.active,l=r.next,u=r.flags,c=r.cells,d=r.constraint,f=r.neighbor;a.length>0||l.length>0;){for(;a.length>0;){var h=a.pop();if(u[h]!==-i){u[h]=i,c[h];for(var p=0;p<3;++p){var m=f[3*h+p];m>=0&&0===u[m]&&(d[3*h+p]?l.push(m):(a.push(m),u[m]=i))}}}var g=l;l=a,a=g,l.length=0,i=-i}var v=function(e,t,n){for(var r=0,o=0;o<e.length;++o)t[o]===n&&(e[r++]=e[o]);return e.length=r,e}(c,u,t);return n?v.concat(r.boundary):v};var i,a=o.prototype;function s(e,t){return e[0]-t[0]||e[1]-t[1]||e[2]-t[2]}a.locate=(i=[0,0,0],function(e,t,n){var o=e,a=t,l=n;return t<n?t<e&&(o=t,a=n,l=e):n<e&&(o=n,a=e,l=t),o<0?-1:(i[0]=o,i[1]=a,i[2]=l,r.eq(this.cells,i,s))})},{"binary-search-bounds":57}],55:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),o=e("robust-orientation")[3],i=0,a=1,s=2;function l(e,t,n,r,o){this.a=e,this.b=t,this.idx=n,this.lowerIds=r,this.upperIds=o}function u(e,t,n,r){this.a=e,this.b=t,this.type=n,this.idx=r}function c(e,t){var n=e.a[0]-t.a[0]||e.a[1]-t.a[1]||e.type-t.type;return n||(e.type!==i&&(n=o(e.a,e.b,t.b))?n:e.idx-t.idx)}function d(e,t){return o(e.a,e.b,t)}function f(e,t,n,i,a){for(var s=r.lt(t,i,d),l=r.gt(t,i,d),u=s;u<l;++u){for(var c=t[u],f=c.lowerIds,h=f.length;h>1&&o(n[f[h-2]],n[f[h-1]],i)>0;)e.push([f[h-1],f[h-2],a]),h-=1;f.length=h,f.push(a);for(var p=c.upperIds,h=p.length;h>1&&o(n[p[h-2]],n[p[h-1]],i)<0;)e.push([p[h-2],p[h-1],a]),h-=1;p.length=h,p.push(a)}}function h(e,t){var n;return(n=e.a[0]<t.a[0]?o(e.a,e.b,t.a):o(t.b,t.a,e.a))?n:(n=t.b[0]<e.b[0]?o(e.a,e.b,t.b):o(t.b,t.a,e.b))||e.idx-t.idx}function p(e,t,n){var o=r.le(e,n,h),i=e[o],a=i.upperIds,s=a[a.length-1];i.upperIds=[s],e.splice(o+1,0,new l(n.a,n.b,n.idx,[s],a))}function m(e,t,n){var o=n.a;n.a=n.b,n.b=o;var i=r.eq(e,n,h),a=e[i],s=e[i-1];s.upperIds=a.upperIds,e.splice(i,1)}t.exports=function(e,t){for(var n=e.length,r=t.length,o=[],d=0;d<n;++d)o.push(new u(e[d],null,i,d));for(var d=0;d<r;++d){var h=t[d],g=e[h[0]],v=e[h[1]];g[0]<v[0]?o.push(new u(g,v,s,d),new u(v,g,a,d)):g[0]>v[0]&&o.push(new u(v,g,s,d),new u(g,v,a,d))}o.sort(c);for(var y=o[0].a[0]-(1+Math.abs(o[0].a[0]))*Math.pow(2,-52),b=[new l([y,1],[y,0],-1,[],[],[],[])],_=[],d=0,x=o.length;d<x;++d){var w=o[d],k=w.type;k===i?f(_,b,e,w.a,w.idx):k===s?p(b,0,w):m(b,0,w)}return _}},{"binary-search-bounds":57,"robust-orientation":262}],56:[function(e,t,n){"use strict";var r=e("binary-search-bounds");function o(e,t){this.stars=e,this.edges=t}t.exports=function(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=[];return new o(n,t)};var i=o.prototype;function a(e,t,n){for(var r=1,o=e.length;r<o;r+=2)if(e[r-1]===t&&e[r]===n)return e[r-1]=e[o-2],e[r]=e[o-1],void(e.length=o-2)}i.isConstraint=function(){var e=[0,0];function t(e,t){return e[0]-t[0]||e[1]-t[1]}return function(n,o){return e[0]=Math.min(n,o),e[1]=Math.max(n,o),r.eq(this.edges,e,t)>=0}}(),i.removeTriangle=function(e,t,n){var r=this.stars;a(r[e],t,n),a(r[t],n,e),a(r[n],e,t)},i.addTriangle=function(e,t,n){var r=this.stars;r[e].push(t,n),r[t].push(n,e),r[n].push(e,t)},i.opposite=function(e,t){for(var n=this.stars[t],r=1,o=n.length;r<o;r+=2)if(n[r]===e)return n[r-1];return-1},i.flip=function(e,t){var n=this.opposite(e,t),r=this.opposite(t,e);this.removeTriangle(e,t,n),this.removeTriangle(t,e,r),this.addTriangle(e,r,n),this.addTriangle(t,n,r)},i.edges=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length;i<a;i+=2)t.push([o[i],o[i+1]]);return t},i.cells=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length;i<a;i+=2){var s=o[i],l=o[i+1];n<Math.min(s,l)&&t.push([n,s,l])}return t}},{"binary-search-bounds":57}],57:[function(e,t,n){"use strict";function r(e,t,n,r,o){var i=["function ",e,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return o?t.indexOf("c")<0?i.push(";if(x===y){return m}else if(x<=y){"):i.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):i.push(";if(",t,"){i=m;"),n?i.push("l=m+1}else{h=m-1}"):i.push("h=m-1}else{l=m+1}"),i.push("}"),o?i.push("return -1};"):i.push("return i};"),i.join("")}function o(e,t,n,o){var i=new Function([r("A","x"+e+"y",t,["y"],o),r("P","c(x,y)"+e+"0",t,["y","c"],o),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""));return i()}t.exports={ge:o(">=",!1,"GE"),gt:o(">",!1,"GT"),lt:o("<",!0,"LT"),le:o("<=",!0,"LE"),eq:o("-",!0,"EQ",!0)}},{}],58:[function(e,t,n){t.exports=function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}},{}],59:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r;if(n){r=t;for(var o=new Array(t.length),i=0;i<t.length;++i){var a=t[i];o[i]=[a[0],a[1],n[i]]}t=o}for(var s=function(e,t,n){var r=p(e,[],h(e));return v(t,r,n),!!r}(e,t,!!n);y(e,t,!!n);)s=!0;if(n&&s){r.length=0,n.length=0;for(var i=0;i<t.length;++i){var a=t[i];r.push([a[0],a[1]]),n.push(a[2])}}return s};var r=e("union-find"),o=e("box-intersect"),i=e("robust-segment-intersect"),a=e("big-rat"),s=e("big-rat/cmp"),l=e("big-rat/to-float"),u=e("rat-vec"),c=e("nextafter"),d=e("./lib/rat-seg-intersect");function f(e){var t=l(e);return[c(t,-1/0),c(t,1/0)]}function h(e){for(var t=new Array(e.length),n=0;n<e.length;++n){var r=e[n];t[n]=[c(r[0],-1/0),c(r[1],-1/0),c(r[0],1/0),c(r[1],1/0)]}return t}function p(e,t,n){for(var i=t.length,a=new r(i),s=[],l=0;l<t.length;++l){var u=t[l],d=f(u[0]),h=f(u[1]);s.push([c(d[0],-1/0),c(h[0],-1/0),c(d[1],1/0),c(h[1],1/0)])}o(s,function(e,t){a.link(e,t)});for(var p=!0,m=new Array(i),l=0;l<i;++l){var g=a.find(l);g!==l&&(p=!1,e[g]=[Math.min(e[l][0],e[g][0]),Math.min(e[l][1],e[g][1])])}if(p)return null;for(var v=0,l=0;l<i;++l){var g=a.find(l);g===l?(m[l]=v,e[v++]=e[l]):m[l]=-1}e.length=v;for(var l=0;l<i;++l)m[l]<0&&(m[l]=m[a.find(l)]);return m}function m(e,t){return e[0]-t[0]||e[1]-t[1]}function g(e,t){var n=e[0]-t[0]||e[1]-t[1];return n||(e[2]<t[2]?-1:e[2]>t[2]?1:0)}function v(e,t,n){if(0!==e.length){if(t)for(var r=0;r<e.length;++r){var o=e[r],i=t[o[0]],a=t[o[1]];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}else for(var r=0;r<e.length;++r){var o=e[r],i=o[0],a=o[1];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}n?e.sort(g):e.sort(m);for(var s=1,r=1;r<e.length;++r){var l=e[r-1],u=e[r];(u[0]!==l[0]||u[1]!==l[1]||n&&u[2]!==l[2])&&(e[s++]=u)}e.length=s}}function y(e,t,n){var r=function(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r){var o=t[r],i=e[o[0]],a=e[o[1]];n[r]=[c(Math.min(i[0],a[0]),-1/0),c(Math.min(i[1],a[1]),-1/0),c(Math.max(i[0],a[0]),1/0),c(Math.max(i[1],a[1]),1/0)]}return n}(e,t),f=function(e,t,n){var r=[];return o(n,function(n,o){var a=t[n],s=t[o];if(a[0]!==s[0]&&a[0]!==s[1]&&a[1]!==s[0]&&a[1]!==s[1]){var l=e[a[0]],u=e[a[1]],c=e[s[0]],d=e[s[1]];i(l,u,c,d)&&r.push([n,o])}}),r}(e,t,r),m=h(e),g=function(e,t,n,r){var a=[];return o(n,r,function(n,r){var o=t[n];if(o[0]!==r&&o[1]!==r){var s=e[r],l=e[o[0]],u=e[o[1]];i(l,u,s,s)&&a.push([n,r])}}),a}(e,t,r,m),y=function(e,t,n,r,o){var i,c,f=e.map(function(e){return[a(e[0]),a(e[1])]});for(i=0;i<n.length;++i){var h=n[i];c=h[0];var p=h[1],m=t[c],g=t[p],v=d(u(e[m[0]]),u(e[m[1]]),u(e[g[0]]),u(e[g[1]]));if(v){var y=e.length;e.push([l(v[0]),l(v[1])]),f.push(v),r.push([c,y],[p,y])}}for(r.sort(function(e,t){if(e[0]!==t[0])return e[0]-t[0];var n=f[e[1]],r=f[t[1]];return s(n[0],r[0])||s(n[1],r[1])}),i=r.length-1;i>=0;--i){var b=r[i];c=b[0];var _=t[c],x=_[0],w=_[1],k=e[x],E=e[w];if((k[0]-E[0]||k[1]-E[1])<0){var T=x;x=w,w=T}_[0]=x;var A,S=_[1]=b[1];for(o&&(A=_[2]);i>0&&r[i-1][0]===c;){var b=r[--i],M=b[1];o?t.push([S,M,A]):t.push([S,M]),S=M}o?t.push([S,w,A]):t.push([S,w])}return f}(e,t,f,g,n),b=p(e,y);return v(t,b,n),!!b||f.length>0||g.length>0}},{"./lib/rat-seg-intersect":60,"big-rat":25,"big-rat/cmp":23,"big-rat/to-float":37,"box-intersect":42,nextafter:221,"rat-vec":251,"robust-segment-intersect":265,"union-find":291}],60:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=s(t,e),d=s(r,n),f=c(i,d);if(0===a(f))return null;var h=s(e,n),p=c(d,h),m=o(p,f),g=u(i,m);return l(e,g)};var r=e("big-rat/mul"),o=e("big-rat/div"),i=e("big-rat/sub"),a=e("big-rat/sign"),s=e("rat-vec/sub"),l=e("rat-vec/add"),u=e("rat-vec/muls");function c(e,t){return i(r(e[0],t[1]),r(e[1],t[0]))}},{"big-rat/div":24,"big-rat/mul":34,"big-rat/sign":35,"big-rat/sub":36,"rat-vec/add":250,"rat-vec/muls":252,"rat-vec/sub":253}],61:[function(e,t,n){"use strict";var r=e("clamp");function o(e,t){null==t&&(t=!0);var n=e[0],o=e[1],i=e[2],a=e[3];null==a&&(a=t?1:255),t&&(n*=255,o*=255,i*=255,a*=255),n=255&r(n,0,255),o=255&r(o,0,255),i=255&r(i,0,255),a=255&r(a,0,255);var s=16777216*n+(o<<16)+(i<<8)+a;return s}t.exports=o,t.exports.to=o,t.exports.from=function(e,t){var n=(e=+e)>>>24,r=(16711680&e)>>>16,o=(65280&e)>>>8,i=255&e;return!1===t?[n,r,o,i]:[n/255,r/255,o/255,i/255]}},{clamp:58}],62:[function(e,t,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],63:[function(e,t,n){"use strict";var r=e("color-rgba"),o=e("clamp"),i=e("dtype");t.exports=function(e,t){"float"!==t&&t||(t="array"),"uint"===t&&(t="uint8"),"uint_clamped"===t&&(t="uint8_clamped");var n=i(t),a=new n(4),s="uint8"!==t&&"uint8_clamped"!==t;return e.length&&"string"!=typeof e||((e=r(e))[0]/=255,e[1]/=255,e[2]/=255),function(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||!!(Array.isArray(e)&&(e[0]>1||0===e[0])&&(e[1]>1||0===e[1])&&(e[2]>1||0===e[2])&&(!e[3]||e[3]>1))}(e)?(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=null!=e[3]?e[3]:255,s&&(a[0]/=255,a[1]/=255,a[2]/=255,a[3]/=255),a):(s?(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=null!=e[3]?e[3]:1):(a[0]=o(Math.floor(255*e[0]),0,255),a[1]=o(Math.floor(255*e[1]),0,255),a[2]=o(Math.floor(255*e[2]),0,255),a[3]=null==e[3]?255:o(Math.floor(255*e[3]),0,255)),a)}},{clamp:58,"color-rgba":65,dtype:90}],64:[function(e,n,r){(function(t){"use strict";var r=e("color-name"),o=e("is-plain-obj"),i=e("defined");n.exports=function(e){var n,s,l=[],u=1;if("string"==typeof e)if(r[e])l=r[e].slice(),s="rgb";else if("transparent"===e)u=0,s="rgb",l=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var c=e.slice(1),d=c.length,f=d<=4;u=1,f?(l=[parseInt(c[0]+c[0],16),parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16)],4===d&&(u=parseInt(c[3]+c[3],16)/255)):(l=[parseInt(c[0]+c[1],16),parseInt(c[2]+c[3],16),parseInt(c[4]+c[5],16)],8===d&&(u=parseInt(c[6]+c[7],16)/255)),l[0]||(l[0]=0),l[1]||(l[1]=0),l[2]||(l[2]=0),s="rgb"}else if(n=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var h=n[1],c=h.replace(/a$/,"");s=c;var d="cmyk"===c?4:"gray"===c?1:3;l=n[2].trim().split(/\s*,\s*/).map(function(e,t){if(/%$/.test(e))return t===d?parseFloat(e)/100:"rgb"===c?255*parseFloat(e)/100:parseFloat(e);if("h"===c[t]){if(/deg$/.test(e))return parseFloat(e);if(void 0!==a[e])return a[e]}return parseFloat(e)}),h===c&&l.push(1),u=void 0===l[d]?1:l[d],l=l.slice(0,d)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(l=e.match(/([0-9]+)/g).map(function(e){return parseFloat(e)}),s=e.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(e))if(o(e)){var p=i(e.r,e.red,e.R,null);null!==p?(s="rgb",l=[p,i(e.g,e.green,e.G),i(e.b,e.blue,e.B)]):(s="hsl",l=[i(e.h,e.hue,e.H),i(e.s,e.saturation,e.S),i(e.l,e.lightness,e.L,e.b,e.brightness)]),u=i(e.a,e.alpha,e.opacity,1),null!=e.opacity&&(u/=100)}else(Array.isArray(e)||t.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))&&(l=[e[0],e[1],e[2]],s="rgb",u=4===e.length?e[3]:1);else s="rgb",l=[e>>>16,(65280&e)>>>8,255&e];return{space:s,values:l,alpha:u}};var a={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"color-name":62,defined:86,"is-plain-obj":210}],65:[function(e,t,n){"use strict";var r=e("color-parse"),o=e("color-space/hsl"),i=e("clamp");t.exports=function(e){var t,n=r(e);return n.space?((t=Array(3))[0]=i(n.values[0],0,255),t[1]=i(n.values[1],0,255),t[2]=i(n.values[2],0,255),"h"===n.space[0]&&(t=o.rgb(t)),t.push(i(n.alpha,0,1)),t):[]}},{clamp:58,"color-parse":64,"color-space/hsl":66}],66:[function(e,t,n){"use strict";var r=e("./rgb");t.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,r,o,i,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[i=255*l,i,i];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0?r++:r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[u]=255*i;return o}},r.hsl=function(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),l=s-a;return s===a?t=0:r===s?t=(o-i)/l:o===s?t=2+(i-r)/l:i===s&&(t=4+(r-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}},{"./rgb":67}],67:[function(e,t,n){"use strict";t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],68:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var a=r(t,n,i);if(0===a){var s=o(r(e,t,n)),u=o(r(e,t,i));if(s===u){if(0===s){var c=l(e,t,n),d=l(e,t,i);return c===d?0:c?1:-1}return 0}return 0===u?s>0?-1:l(e,t,i)?-1:1:0===s?u>0?1:l(e,t,n)?1:-1:o(u-s)}var f=r(e,t,n);if(f>0)return a>0&&r(e,t,i)>0?1:-1;if(f<0)return a>0||r(e,t,i)>0?1:-1;var h=r(e,t,i);return h>0?1:l(e,t,n)?1:-1};var r=e("robust-orientation"),o=e("signum"),i=e("two-sum"),a=e("robust-product"),s=e("robust-sum");function l(e,t,n){var r=i(e[0],-t[0]),o=i(e[1],-t[1]),l=i(n[0],-t[0]),u=i(n[1],-t[1]),c=s(a(r,l),a(o,u));return c[c.length-1]>=0}},{"robust-orientation":262,"robust-product":263,"robust-sum":267,signum:268,"two-sum":289}],69:[function(e,t,n){t.exports=["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]},{}],70:[function(e,t,n){t.exports=["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]},{}],71:[function(e,t,n){t.exports=["normal","italic","oblique"]},{}],72:[function(e,t,n){t.exports=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},{}],73:[function(e,t,n){"use strict";t.exports={parse:e("./parse"),stringify:e("./stringify")}},{"./parse":75,"./stringify":76}],74:[function(e,t,n){"use strict";var r=e("css-font-size-keywords");t.exports={isSize:function(e){return/^[\d\.]/.test(e)||-1!==e.indexOf("/")||-1!==r.indexOf(e)}}},{"css-font-size-keywords":69}],75:[function(e,t,n){"use strict";var r=e("unquote"),o=e("css-global-keywords"),i=e("css-system-font-keywords"),a=e("css-font-weight-keywords"),s=e("css-font-style-keywords"),l=e("css-font-stretch-keywords"),u=e("string-split-by"),c=e("./lib/util").isSize;t.exports=f;var d=f.cache={};function f(e){if("string"!=typeof e)throw new Error("Font argument must be a string.");if(d[e])return d[e];if(""===e)throw new Error("Cannot parse an empty string.");if(-1!==i.indexOf(e))return d[e]={system:e};for(var t,n={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},f=u(e,/\s+/);t=f.shift();){if(-1!==o.indexOf(t))return["style","variant","weight","stretch"].forEach(function(e){n[e]=t}),d[e]=n;if(-1===s.indexOf(t))if("normal"!==t&&"small-caps"!==t)if(-1===l.indexOf(t)){if(-1===a.indexOf(t)){if(c(t)){var p=u(t,"/");if(n.size=p[0],null!=p[1]?n.lineHeight=h(p[1]):"/"===f[0]&&(f.shift(),n.lineHeight=h(f.shift())),!f.length)throw new Error("Missing required font-family.");return n.family=u(f.join(" "),/\s*,\s*/).map(r),d[e]=n}throw new Error("Unknown or unsupported font token: "+t)}n.weight=t}else n.stretch=t;else n.variant=t;else n.style=t}throw new Error("Missing required font-size.")}function h(e){var t=parseFloat(e);return t.toString()===e?t:e}},{"./lib/util":74,"css-font-stretch-keywords":70,"css-font-style-keywords":71,"css-font-weight-keywords":72,"css-global-keywords":77,"css-system-font-keywords":78,"string-split-by":276,unquote:293}],76:[function(e,t,n){"use strict";var r=e("pick-by-alias"),o=e("./lib/util").isSize,i=p(e("css-global-keywords")),a=p(e("css-system-font-keywords")),s=p(e("css-font-weight-keywords")),l=p(e("css-font-style-keywords")),u=p(e("css-font-stretch-keywords")),c={normal:1,"small-caps":1},d={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};function h(e,t){if(e&&!t[e]&&!i[e])throw Error("Unknown keyword `"+e+"`");return e}function p(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t}t.exports=function(e){if((e=r(e,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return e.system&&h(e.system,a),e.system;if(h(e.style,l),h(e.variant,c),h(e.weight,s),h(e.stretch,u),null==e.size&&(e.size=f.size),"number"==typeof e.size&&(e.size+="px"),!o)throw Error("Bad size value `"+e.size+"`");e.family||(e.family=f.family),Array.isArray(e.family)&&(e.family.length||(e.family=[f.family]),e.family=e.family.map(function(e){return d[e]?e:'"'+e+'"'}).join(", "));var t=[];return t.push(e.style),e.variant!==e.style&&t.push(e.variant),e.weight!==e.variant&&e.weight!==e.style&&t.push(e.weight),e.stretch!==e.weight&&e.stretch!==e.variant&&e.stretch!==e.style&&t.push(e.stretch),t.push(e.size+(null==e.lineHeight||"normal"===e.lineHeight||e.lineHeight+""=="1"?"":"/"+e.lineHeight)),t.push(e.family),t.filter(Boolean).join(" ")}},{"./lib/util":74,"css-font-stretch-keywords":70,"css-font-style-keywords":71,"css-font-weight-keywords":72,"css-global-keywords":77,"css-system-font-keywords":78,"pick-by-alias":232}],77:[function(e,t,n){t.exports=["inherit","initial","unset"]},{}],78:[function(e,t,n){t.exports=["caption","icon","menu","message-box","small-caption","status-bar"]},{}],79:[function(e,t,n){"use strict";var r=e("./lib/thunk.js");function o(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(e){var t=new o;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var i=0;i<n.length;++i){var a=n[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if("index"===a){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[i]);t.argTypes[i]="offset",t.offsetArgs.push({array:a.array,offset:a.offset}),t.offsetArgIndex.push(i)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,r(t)}},{"./lib/thunk.js":81}],80:[function(e,t,n){"use strict";var r=e("uniq");function o(e,t,n){var r,o,i=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],u=[],c=0,d=0;for(r=0;r<i;++r)u.push(["i",r,"=0"].join(""));for(o=0;o<a;++o)for(r=0;r<i;++r)d=c,c=e[r],0===r?u.push(["d",o,"s",r,"=t",o,"p",c].join("")):u.push(["d",o,"s",r,"=(t",o,"p",c,"-s",d,"*t",o,"p",d,")"].join(""));for(u.length>0&&l.push("var "+u.join(",")),r=i-1;r>=0;--r)c=e[r],l.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(l.push(n),r=0;r<i;++r){for(d=c,c=e[r],o=0;o<a;++o)l.push(["p",o,"+=d",o,"s",r].join(""));s&&(r>0&&l.push(["index[",d,"]-=s",d].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function i(e,t,n){for(var r=e.body,o=[],i=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var d=t.offsetArgIndex.indexOf(a),f=t.offsetArgs[d];c=f.array,u="+q"+d;case"array":u="p"+c+u;var h="l"+a,p="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(o.push(["var ",h,"=",p,".get(",u,")"].join("")),r=r.replace(l,h),i.push([p,".set(",u,",",h,")"].join(""))):r=r.replace(l,[p,".get(",u,")"].join("")):r=r.replace(l,[p,"[",u,"]"].join("")):"generic"===n[c]?(o.push(["var ",h,"=",p,".get(",u,")"].join("")),r=r.replace(l,h),s.lvalue&&i.push([p,".set(",u,",",h,")"].join(""))):(o.push(["var ",h,"=",p,"[",u,"]"].join("")),r=r.replace(l,h),s.lvalue&&i.push([p,"[",u,"]=",h].join("")));else{for(var m=[s.name],g=[u],v=0;v<Math.abs(t.arrayBlockIndices[c]);v++)m.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+c+"b"+v);if(l=new RegExp(m.join(""),"g"),u=g.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[p,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[o.join("\n"),r,i.join("\n")].join("\n").trim()}function a(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var o=e[r],i=o.match(/\d+/);i=i?i[0]:"",0===o.charAt(0)?t[r]="u"+o.charAt(1)+i:t[r]=o.charAt(0)+i,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}t.exports=function(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,s=new Array(e.arrayArgs.length),l=new Array(e.arrayArgs.length),u=0;u<e.arrayArgs.length;++u)l[u]=t[2*u],s[u]=t[2*u+1];for(var c=[],d=[],f=[],h=[],p=[],u=0;u<e.arrayArgs.length;++u){e.arrayBlockIndices[u]<0?(f.push(0),h.push(n),c.push(n),d.push(n+e.arrayBlockIndices[u])):(f.push(e.arrayBlockIndices[u]),h.push(e.arrayBlockIndices[u]+n),c.push(0),d.push(e.arrayBlockIndices[u]));for(var m=[],g=0;g<s[u].length;g++)f[u]<=s[u][g]&&s[u][g]<h[u]&&m.push(s[u][g]-f[u]);p.push(m)}for(var v=["SS"],y=["'use strict'"],b=[],g=0;g<n;++g)b.push(["s",g,"=SS[",g,"]"].join(""));for(var u=0;u<e.arrayArgs.length;++u){v.push("a"+u),v.push("t"+u),v.push("p"+u);for(var g=0;g<n;++g)b.push(["t",u,"p",g,"=t",u,"[",f[u]+g,"]"].join(""));for(var g=0;g<Math.abs(e.arrayBlockIndices[u]);++g)b.push(["t",u,"b",g,"=t",u,"[",c[u]+g,"]"].join(""))}for(var u=0;u<e.scalarArgs.length;++u)v.push("Y"+u);if(e.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var _=new Array(n),u=0;u<n;++u)_[u]="0";b.push(["index=[",_.join(","),"]"].join(""))}for(var u=0;u<e.offsetArgs.length;++u){for(var x=e.offsetArgs[u],w=[],g=0;g<x.offset.length;++g)0!==x.offset[g]&&(1===x.offset[g]?w.push(["t",x.array,"p",g].join("")):w.push([x.offset[g],"*t",x.array,"p",g].join("")));0===w.length?b.push("q"+u+"=0"):b.push(["q",u,"=",w.join("+")].join(""))}var k=r([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));(b=b.concat(k)).length>0&&y.push("var "+b.join(","));for(var u=0;u<e.arrayArgs.length;++u)y.push("p"+u+"|=0");e.pre.body.length>3&&y.push(i(e.pre,e,l));var E=i(e.body,e,l),T=function(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}(p);T<n?y.push(function(e,t,n,r){for(var i=t.length,a=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,u=[],c=0;c<a;++c)u.push(["var offset",c,"=p",c].join(""));for(var c=e;c<i;++c)u.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",t[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",t[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",t[c],"]=j",c].join(""));for(var c=0;c<a;++c){for(var d=["offset"+c],f=e;f<i;++f)d.push(["j",f,"*t",c,"p",t[f]].join(""));u.push(["p",c,"=(",d.join("+"),")"].join(""))}u.push(o(t,n,r));for(var c=e;c<i;++c)u.push("}");return u.join("\n")}(T,p[0],e,E)):y.push(o(p[0],e,E)),e.post.body.length>3&&y.push(i(e.post,e,l)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var A=[e.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",T,a(l)].join("");return new Function(["function ",A,"(",v.join(","),"){",y.join("\n"),"} return ",A].join(""))()}},{uniq:292}],81:[function(e,t,n){"use strict";var r=e("./compile.js");t.exports=function(e){var t=["'use strict'","var CACHED={}"],n=[],o=e.funcName+"_cwise_thunk";t.push(["return function ",o,"(",e.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<e.arrayArgs.length;++c){var d=e.arrayArgs[c];n.push(["t",d,"=array",d,".dtype,","r",d,"=array",d,".order"].join("")),i.push("t"+d),i.push("r"+d),a.push("t"+d),a.push("r"+d+".join()"),s.push("array"+d+".data"),s.push("array"+d+".stride"),s.push("array"+d+".offset|0"),c>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+d+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),u.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+d+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}},{"./compile.js":80}],82:[function(e,t,n){t.exports=e("cwise-compiler")},{"cwise-compiler":79}],83:[function(e,t,n){"use strict";var r,o=e("es5-ext/object/copy"),i=e("es5-ext/object/normalize-options"),a=e("es5-ext/object/valid-callable"),s=e("es5-ext/object/map"),l=e("es5-ext/object/valid-callable"),u=e("es5-ext/object/valid-value"),c=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,i=u(t)&&l(t.value);return delete(r=o(t)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,e)?i:(t.value=c.call(i,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},t.exports=function(e){var t=i(arguments[1]);return null!=t.resolveContext&&a(t.resolveContext),s(e,function(e,n){return r(n,e,t)})}},{"es5-ext/object/copy":110,"es5-ext/object/map":119,"es5-ext/object/normalize-options":120,"es5-ext/object/valid-callable":124,"es5-ext/object/valid-value":126}],84:[function(e,t,n){"use strict";var r=e("es5-ext/object/assign"),o=e("es5-ext/object/normalize-options"),i=e("es5-ext/object/is-callable"),a=e("es5-ext/string/#/contains");(t.exports=function(e,t){var n,i,s,l,u;return arguments.length<2||"string"!=typeof e?(l=t,t=e,e=null):l=arguments[2],null==e?(n=s=!0,i=!1):(n=a.call(e,"c"),i=a.call(e,"e"),s=a.call(e,"w")),u={value:t,configurable:n,enumerable:i,writable:s},l?r(o(l),u):u}).gs=function(e,t,n){var s,l,u,c;return"string"!=typeof e?(u=n,n=t,t=e,e=null):u=arguments[3],null==t?t=void 0:i(t)?null==n?n=void 0:i(n)||(u=n,n=void 0):(u=t,t=n=void 0),null==e?(s=!0,l=!1):(s=a.call(e,"c"),l=a.call(e,"e")),c={get:t,set:n,configurable:s,enumerable:l},u?r(o(u),c):c}},{"es5-ext/object/assign":107,"es5-ext/object/is-callable":113,"es5-ext/object/normalize-options":120,"es5-ext/string/#/contains":127}],85:[function(e,t,n){!function(){var e={version:"3.5.17"},n=[].slice,r=function(e){return n.call(e)},o=this.document;function i(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(o)try{r(o.documentElement.childNodes)[0].nodeType}catch(e){r=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),o)try{o.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var s=this.Element.prototype,l=s.setAttribute,u=s.setAttributeNS,c=this.CSSStyleDeclaration.prototype,d=c.setProperty;s.setAttribute=function(e,t){l.call(this,e,t+"")},s.setAttributeNS=function(e,t,n){u.call(this,e,t,n+"")},c.setProperty=function(e,t,n){d.call(this,e,t+"",n)}}function f(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h(e){return null===e?NaN:+e}function p(e){return!isNaN(e)}function m(e){return{left:function(t,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}e.ascending=f,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var n,r,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=e[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&n>r&&(n=r)}return n},e.max=function(e,t){var n,r,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=e[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&r>n&&(n=r)}return n},e.extent=function(e,t){var n,r,o,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e[i])&&(n>r&&(n=r),o<r&&(o=r))}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&(n>r&&(n=r),o<r&&(o=r))}return[n,o]},e.sum=function(e,t){var n,r=0,o=e.length,i=-1;if(1===arguments.length)for(;++i<o;)p(n=+e[i])&&(r+=n);else for(;++i<o;)p(n=+t.call(e,e[i],i))&&(r+=n);return r},e.mean=function(e,t){var n,r=0,o=e.length,i=-1,a=o;if(1===arguments.length)for(;++i<o;)p(n=h(e[i]))?r+=n:--a;else for(;++i<o;)p(n=h(t.call(e,e[i],i)))?r+=n:--a;if(a)return r/a},e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),o=+e[r-1],i=n-r;return i?o+i*(e[r]-o):o},e.median=function(t,n){var r,o=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)p(r=h(t[a]))&&o.push(r);else for(;++a<i;)p(r=h(n.call(t,t[a],a)))&&o.push(r);if(o.length)return e.quantile(o.sort(f),.5)},e.variance=function(e,t){var n,r,o=e.length,i=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<o;)p(n=h(e[s]))&&(i+=(r=n-i)/++l,a+=r*(n-i));else for(;++s<o;)p(n=h(t.call(e,e[s],s)))&&(i+=(r=n-i)/++l,a+=r*(n-i));if(l>1)return a/(l-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var g=m(f);function v(e){return e.length}e.bisectLeft=g.left,e.bisect=e.bisectRight=g.right,e.bisector=function(e){return m(1===e.length?function(t,n){return f(e(t),n)}:e)},e.shuffle=function(e,t,n){(i=arguments.length)<3&&(n=e.length,i<2&&(t=0));for(var r,o,i=n-t;i;)o=Math.random()*i--|0,r=e[i+t],e[i+t]=e[o+t],e[o+t]=r;return e},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],o=new Array(n<0?0:n);t<n;)o[t]=[r,r=e[++t]];return o},e.transpose=function(t){if(!(i=t.length))return[];for(var n=-1,r=e.min(t,v),o=new Array(r);++n<r;)for(var i,a=-1,s=o[n]=new Array(i);++a<i;)s[a]=t[a][n];return o},e.zip=function(){return e.transpose(arguments)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=new Array(a);--o>=0;)for(r=e[o],t=r.length;--t>=0;)n[--a]=r[t];return n};var y=Math.abs;function b(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function _(){this._=Object.create(null)}e.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,o=[],i=function(e){for(var t=1;e*t%1;)t*=10;return t}(y(n)),a=-1;if(e*=i,t*=i,(n*=i)<0)for(;(r=e+n*++a)>t;)o.push(r/i);else for(;(r=e+n*++a)<t;)o.push(r/i);return o},e.map=function(e,t){var n=new _;if(e instanceof _)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,o=-1,i=e.length;if(1===arguments.length)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t.call(e,r=e[o],o),r)}else for(var a in e)n.set(a,e[a]);return n};var x="__proto__",w="\0";function k(e){return(e+="")===x||e[0]===w?w+e:e}function E(e){return(e+="")[0]===w?e.slice(1):e}function T(e){return k(e)in this._}function A(e){return(e=k(e))in this._&&delete this._[e]}function S(){var e=[];for(var t in this._)e.push(E(t));return e}function M(){var e=0;for(var t in this._)++e;return e}function C(){for(var e in this._)return!1;return!0}function j(){this._=Object.create(null)}function O(e){return e}function N(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function R(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=P.length;n<r;++n){var o=P[n]+t;if(o in e)return o}}b(_,{has:T,get:function(e){return this._[k(e)]},set:function(e,t){return this._[k(e)]=t},remove:A,keys:S,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:E(t),value:this._[t]});return e},size:M,empty:C,forEach:function(e){for(var t in this._)e.call(this,E(t),this._[t])}}),e.nest=function(){var t,n,r={},o=[],i=[];function a(e,i,s){if(s>=o.length)return n?n.call(r,i):t?i.sort(t):i;for(var l,u,c,d,f=-1,h=i.length,p=o[s++],m=new _;++f<h;)(d=m.get(l=p(u=i[f])))?d.push(u):m.set(l,[u]);return e?(u=e(),c=function(t,n){u.set(t,a(e,n,s))}):(u={},c=function(t,n){u[t]=a(e,n,s)}),m.forEach(c),u}return r.map=function(e,t){return a(t,e,0)},r.entries=function(t){return function e(t,n){if(n>=o.length)return t;var r=[],a=i[n++];return t.forEach(function(t,o){r.push({key:t,values:e(o,n)})}),a?r.sort(function(e,t){return a(e.key,t.key)}):r}(a(e.map,t,0),0)},r.key=function(e){return o.push(e),r},r.sortKeys=function(e){return i[o.length-1]=e,r},r.sortValues=function(e){return t=e,r},r.rollup=function(e){return n=e,r},r},e.set=function(e){var t=new j;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},b(j,{has:T,add:function(e){return this._[k(e+="")]=!0,e},remove:A,values:S,size:M,empty:C,forEach:function(e){for(var t in this._)e.call(this,E(t))}}),e.behavior={},e.rebind=function(e,t){for(var n,r=1,o=arguments.length;++r<o;)e[n=arguments[r]]=N(e,t,t[n]);return e};var P=["webkit","ms","moz","Moz","o","O"];function I(){}function D(){}function L(e){var t=[],n=new _;function r(){for(var n,r=t,o=-1,i=r.length;++o<i;)(n=r[o].on)&&n.apply(this,arguments);return e}return r.on=function(r,o){var i,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,i=t.indexOf(a)).concat(t.slice(i+1)),n.remove(r)),o&&t.push(n.set(r,{on:o})),e)},r}function B(){e.event.preventDefault()}function F(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function z(t){for(var n=new D,r=0,o=arguments.length;++r<o;)n[arguments[r]]=L(n);return n.of=function(r,o){return function(i){try{var a=i.sourceEvent=e.event;i.target=t,e.event=i,n[i.type].apply(r,o)}finally{e.event=a}}},n}e.dispatch=function(){for(var e=new D,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=L(e);return e},D.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},e.event=null,e.requote=function(e){return e.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function V(e){return q(e,X),e}var H=function(e,t){return t.querySelector(e)},W=function(e,t){return t.querySelectorAll(e)},G=function(e,t){var n=e.matches||e[R(e,"matchesSelector")];return(G=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(H=function(e,t){return Sizzle(e,t)[0]||null},W=Sizzle,G=Sizzle.matchesSelector),e.selection=function(){return e.select(o.documentElement)};var X=e.selection.prototype=[];function K(e){return"function"==typeof e?e:function(){return H(e,this)}}function Y(e){return"function"==typeof e?e:function(){return W(e,this)}}X.select=function(e){var t,n,r,o,i=[];e=K(e);for(var a=-1,s=this.length;++a<s;){i.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(o=r[l])?(t.push(n=e.call(o,o.__data__,l,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):t.push(null)}return V(i)},X.selectAll=function(e){var t,n,o=[];e=Y(e);for(var i=-1,a=this.length;++i<a;)for(var s=this[i],l=-1,u=s.length;++l<u;)(n=s[l])&&(o.push(t=r(e.call(n,n.__data__,l,i))),t.parentNode=n);return V(o)};var $="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Q(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function J(e){return e.trim().replace(/\s+/g," ")}function ee(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function te(e){return(e+"").trim().split(/^|\s+/)}function ne(e,t){var n=(e=te(e).map(re)).length;return"function"==typeof t?function(){for(var r=-1,o=t.apply(this,arguments);++r<n;)e[r](this,o)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function re(e){var t=ee(e);return function(n,r){if(o=n.classList)return r?o.add(e):o.remove(e);var o=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(o)||n.setAttribute("class",J(o+" "+e))):n.setAttribute("class",J(o.replace(t," ")))}}function oe(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function ie(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function ae(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$&&e.documentElement.namespaceURI===$?e.createElement(t):e.createElementNS(n,t)}}function se(){var e=this.parentNode;e&&e.removeChild(this)}function le(e){return{__data__:e}}function ue(e){return function(){return G(this,e)}}function ce(e,t){for(var n=0,r=e.length;n<r;n++)for(var o,i=e[n],a=0,s=i.length;a<s;a++)(o=i[a])&&t(o,a,n);return e}function de(e){return q(e,fe),e}e.ns={prefix:Z,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Z.hasOwnProperty(n)?{space:Z[n],local:e}:e}},X.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(Q(n,t[n]));return this}return this.each(Q(t,n))},X.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=te(e)).length,o=-1;if(t=n.classList){for(;++o<r;)if(!t.contains(e[o]))return!1}else for(t=n.getAttribute("class");++o<r;)if(!ee(e[o]).test(t))return!1;return!0}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))},X.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(oe(n,e[n],t));return this}if(r<2){var o=this.node();return a(o).getComputedStyle(o,null).getPropertyValue(e)}n=""}return this.each(oe(e,t,n))},X.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ie(t,e[t]));return this}return this.each(ie(e,t))},X.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},X.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},X.append=function(e){return e=ae(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},X.insert=function(e,t){return e=ae(e),t=K(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},X.remove=function(){return this.each(se)},X.data=function(e,t){var n,r,o=-1,i=this.length;if(!arguments.length){for(e=new Array(i=(n=this[0]).length);++o<i;)(r=n[o])&&(e[o]=r.__data__);return e}function a(e,n){var r,o,i,a=e.length,c=n.length,d=Math.min(a,c),f=new Array(c),h=new Array(c),p=new Array(a);if(t){var m,g=new _,v=new Array(a);for(r=-1;++r<a;)(o=e[r])&&(g.has(m=t.call(o,o.__data__,r))?p[r]=o:g.set(m,o),v[r]=m);for(r=-1;++r<c;)(o=g.get(m=t.call(n,i=n[r],r)))?!0!==o&&(f[r]=o,o.__data__=i):h[r]=le(i),g.set(m,!0);for(r=-1;++r<a;)r in v&&!0!==g.get(v[r])&&(p[r]=e[r])}else{for(r=-1;++r<d;)o=e[r],i=n[r],o?(o.__data__=i,f[r]=o):h[r]=le(i);for(;r<c;++r)h[r]=le(n[r]);for(;r<a;++r)p[r]=e[r]}h.update=f,h.parentNode=f.parentNode=p.parentNode=e.parentNode,s.push(h),l.push(f),u.push(p)}var s=de([]),l=V([]),u=V([]);if("function"==typeof e)for(;++o<i;)a(n=this[o],e.call(n,n.parentNode.__data__,o));else for(;++o<i;)a(n=this[o],e);return l.enter=function(){return s},l.exit=function(){return u},l},X.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},X.filter=function(e){var t,n,r,o=[];"function"!=typeof e&&(e=ue(e));for(var i=0,a=this.length;i<a;i++){o.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return V(o)},X.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},X.sort=function(e){e=function(e){return arguments.length||(e=f),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},X.each=function(e){return ce(this,function(t,n,r){e.call(t,t.__data__,n,r)})},X.call=function(e){var t=r(arguments);return e.apply(t[0]=this,t),this},X.empty=function(){return!this.node()},X.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,o=n.length;r<o;r++){var i=n[r];if(i)return i}return null},X.size=function(){var e=0;return ce(this,function(){++e}),e};var fe=[];function he(t,n,o){var i="__on"+t,a=t.indexOf("."),s=me;a>0&&(t=t.slice(0,a));var l=pe.get(t);function u(){var e=this[i];e&&(this.removeEventListener(t,e,e.$),delete this[i])}return l&&(t=l,s=ge),a?n?function(){var e=s(n,r(arguments));u.call(this),this.addEventListener(t,this[i]=e,e.$=o),e._=n}:u:n?I:function(){var n,r=new RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var o in this)if(n=o.match(r)){var i=this[o];this.removeEventListener(n[1],i,i.$),delete this[o]}}}e.selection.enter=de,e.selection.enter.prototype=fe,fe.append=X.append,fe.empty=X.empty,fe.node=X.node,fe.call=X.call,fe.size=X.size,fe.select=function(e){for(var t,n,r,o,i,a=[],s=-1,l=this.length;++s<l;){r=(o=this[s]).update,a.push(t=[]),t.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(i=o[u])?(t.push(r[u]=n=e.call(o.parentNode,i.__data__,u,s)),n.__data__=i.__data__):t.push(null)}return V(a)},fe.insert=function(e,t){var n,r,o;return arguments.length<2&&(n=this,t=function(e,t,i){var a,s=n[i].update,l=s.length;for(i!=o&&(o=i,r=0),t>=r&&(r=t+1);!(a=s[r])&&++r<l;);return a}),X.insert.call(this,e,t)},e.select=function(e){var t;return"string"==typeof e?(t=[H(e,o)]).parentNode=o.documentElement:(t=[e]).parentNode=i(e),V([t])},e.selectAll=function(e){var t;return"string"==typeof e?(t=r(W(e,o))).parentNode=o.documentElement:(t=r(e)).parentNode=null,V([t])},X.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(he(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(he(e,t,n))};var pe=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function me(t,n){return function(r){var o=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=o}}}function ge(e,t){var n=me(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}o&&pe.forEach(function(e){"on"+e in o&&pe.remove(e)});var ve,ye=0;function be(t){var n=".dragsuppress-"+ ++ye,r="click"+n,o=e.select(a(t)).on("touchmove"+n,B).on("dragstart"+n,B).on("selectstart"+n,B);if(null==ve&&(ve=!("onselectstart"in t)&&R(t.style,"userSelect")),ve){var s=i(t).style,l=s[ve];s[ve]="none"}return function(e){if(o.on(n,null),ve&&(s[ve]=l),e){var t=function(){o.on(r,null)};o.on(r,function(){B(),t()},!0),setTimeout(t,0)}}}e.mouse=function(e){return xe(e,F())};var _e=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xe(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var o=r.createSVGPoint();if(_e<0){var i=a(t);if(i.scrollX||i.scrollY){var s=(r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_e=!(s.f||s.e),r.remove()}}return _e?(o.x=n.pageX,o.y=n.pageY):(o.x=n.clientX,o.y=n.clientY),[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}var l=t.getBoundingClientRect();return[n.clientX-l.left-t.clientLeft,n.clientY-l.top-t.clientTop]}function we(){return e.event.changedTouches[0].identifier}e.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=F().changedTouches),t)for(var r,o=0,i=t.length;o<i;++o)if((r=t[o]).identifier===n)return xe(e,r)},e.behavior.drag=function(){var t=z(i,"drag","dragstart","dragend"),n=null,r=s(I,e.mouse,a,"mousemove","mouseup"),o=s(we,e.touch,O,"touchmove","touchend");function i(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function s(r,o,i,a,s){return function(){var l,u=e.event.target.correspondingElement||e.event.target,c=this.parentNode,d=t.of(this,arguments),f=0,h=r(),p=".drag"+(null==h?"":"-"+h),m=e.select(i(u)).on(a+p,function(){var e,t,n=o(c,h);n&&(e=n[0]-v[0],t=n[1]-v[1],f|=e|t,v=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}).on(s+p,function(){o(c,h)&&(m.on(a+p,null).on(s+p,null),g(f),d({type:"dragend"}))}),g=be(u),v=o(c,h);l=n?[(l=n.apply(this,arguments)).x-v[0],l.y-v[1]]:[0,0],d({type:"dragstart"})}}return i.origin=function(e){return arguments.length?(n=e,i):n},e.rebind(i,t,"on")},e.touches=function(e,t){return arguments.length<2&&(t=F().touches),t?r(t).map(function(t){var n=xe(e,t);return n.identifier=t.identifier,n}):[]};var ke=1e-6,Ee=ke*ke,Te=Math.PI,Ae=2*Te,Se=Ae-ke,Me=Te/2,Ce=Te/180,je=180/Te;function Oe(e){return e>0?1:e<0?-1:0}function Ne(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Re(e){return e>1?0:e<-1?Te:Math.acos(e)}function Pe(e){return e>1?Me:e<-1?-Me:Math.asin(e)}function Ie(e){return((e=Math.exp(e))+1/e)/2}function De(e){return(e=Math.sin(e/2))*e}var Le=Math.SQRT2;e.interpolateZoom=function(e,t){var n,r,o=e[0],i=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-o,d=l-i,f=c*c+d*d;if(f<Ee)r=Math.log(u/a)/Le,n=function(e){return[o+e*c,i+e*d,a*Math.exp(Le*e*r)]};else{var h=Math.sqrt(f),p=(u*u-a*a+4*f)/(2*a*2*h),m=(u*u-a*a-4*f)/(2*u*2*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/Le,n=function(e){var t,n=e*r,s=Ie(g),l=a/(2*h)*(s*(t=Le*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[o+l*c,i+l*d,a*s/Ie(Le*n+g)]}}return n.duration=1e3*r,n},e.behavior.zoom=function(){var t,n,r,i,s,l,u,c,d,f={x:0,y:0,k:1},h=[960,500],p=ze,m=250,g=0,v="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",_="touchstart.zoom",x=z(w,"zoomstart","zoom","zoomend");function w(e){e.on(v,O).on(Fe+".zoom",R).on("dblclick.zoom",P).on(_,N)}function k(e){return[(e[0]-f.x)/f.k,(e[1]-f.y)/f.k]}function E(e){f.k=Math.max(p[0],Math.min(p[1],e))}function T(e,t){t=function(e){return[e[0]*f.k+f.x,e[1]*f.k+f.y]}(t),f.x+=e[0]-t[0],f.y+=e[1]-t[1]}function A(t,r,o,i){t.__chart__={x:f.x,y:f.y,k:f.k},E(Math.pow(2,i)),T(n=r,o),t=e.select(t),m>0&&(t=t.transition().duration(m)),t.call(w.event)}function S(){u&&u.domain(l.range().map(function(e){return(e-f.x)/f.k}).map(l.invert)),d&&d.domain(c.range().map(function(e){return(e-f.y)/f.k}).map(c.invert))}function M(e){g++||e({type:"zoomstart"})}function C(e){S(),e({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function j(e){--g||(e({type:"zoomend"}),n=null)}function O(){var t=this,n=x.of(t,arguments),r=0,o=e.select(a(t)).on(y,function(){r=1,T(e.mouse(t),i),C(n)}).on(b,function(){o.on(y,null).on(b,null),s(r),j(n)}),i=k(e.mouse(t)),s=be(t);hs.call(t),M(n)}function N(){var t,n=this,r=x.of(n,arguments),o={},i=0,a=".zoom-"+e.event.changedTouches[0].identifier,l="touchmove"+a,u="touchend"+a,c=[],d=e.select(n),h=be(n);function p(){var r=e.touches(n);return t=f.k,r.forEach(function(e){e.identifier in o&&(o[e.identifier]=k(e))}),r}function m(){var t=e.event.target;e.select(t).on(l,g).on(u,y),c.push(t);for(var r=e.event.changedTouches,a=0,d=r.length;a<d;++a)o[r[a].identifier]=null;var h=p(),m=Date.now();if(1===h.length){if(m-s<500){var v=h[0];A(n,v,o[v.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),B()}s=m}else if(h.length>1){var v=h[0],b=h[1],_=v[0]-b[0],x=v[1]-b[1];i=_*_+x*x}}function g(){var a,l,u,c,d=e.touches(n);hs.call(n);for(var f=0,h=d.length;f<h;++f,c=null)if(u=d[f],c=o[u.identifier]){if(l)break;a=u,l=c}if(c){var p=(p=u[0]-a[0])*p+(p=u[1]-a[1])*p,m=i&&Math.sqrt(p/i);a=[(a[0]+u[0])/2,(a[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],E(m*t)}s=null,T(a,l),C(r)}function y(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,i=t.length;n<i;++n)delete o[t[n].identifier];for(var s in o)return void p()}e.selectAll(c).on(a,null),d.on(v,O).on(_,N),h(),j(r)}m(),M(r),d.on(v,null).on(_,m)}function R(){var o=x.of(this,arguments);i?clearTimeout(i):(hs.call(this),t=k(n=r||e.mouse(this)),M(o)),i=setTimeout(function(){i=null,j(o)},50),B(),E(Math.pow(2,.002*Be())*f.k),T(n,t),C(o)}function P(){var t=e.mouse(this),n=Math.log(f.k)/Math.LN2;A(this,t,k(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Fe||(Fe="onwheel"in o?(Be=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in o?(Be=function(){return e.event.wheelDelta},"mousewheel"):(Be=function(){return-e.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each(function(){var t=x.of(this,arguments),r=f;gs?e.select(this).transition().each("start.zoom",function(){f=this.__chart__||{x:0,y:0,k:1},M(t)}).tween("zoom:zoom",function(){var o=h[0],i=h[1],a=n?n[0]:o/2,s=n?n[1]:i/2,l=e.interpolateZoom([(a-f.x)/f.k,(s-f.y)/f.k,o/f.k],[(a-r.x)/r.k,(s-r.y)/r.k,o/r.k]);return function(e){var n=l(e),r=o/n[2];this.__chart__=f={x:a-n[0]*r,y:s-n[1]*r,k:r},C(t)}}).each("interrupt.zoom",function(){j(t)}).each("end.zoom",function(){j(t)}):(this.__chart__=f,M(t),C(t),j(t))})},w.translate=function(e){return arguments.length?(f={x:+e[0],y:+e[1],k:f.k},S(),w):[f.x,f.y]},w.scale=function(e){return arguments.length?(f={x:f.x,y:f.y,k:null},E(+e),S(),w):f.k},w.scaleExtent=function(e){return arguments.length?(p=null==e?ze:[+e[0],+e[1]],w):p},w.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],w):r},w.size=function(e){return arguments.length?(h=e&&[+e[0],+e[1]],w):h},w.duration=function(e){return arguments.length?(m=+e,w):m},w.x=function(e){return arguments.length?(u=e,l=e.copy(),f={x:0,y:0,k:1},w):u},w.y=function(e){return arguments.length?(d=e,c=e.copy(),f={x:0,y:0,k:1},w):d},e.rebind(w,x,"on")};var Be,Fe,ze=[0,1/0];function Ue(){}function qe(e,t,n){return this instanceof qe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof qe?new qe(e.h,e.s,e.l):ct(""+e,dt,qe):new qe(e,t,n)}e.color=Ue,Ue.prototype.toString=function(){return this.rgb()+""},e.hsl=qe;var Ve=qe.prototype=new Ue;function He(e,t,n){var r,o;function i(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(o-r)*e/60:e<180?o:e<240?r+(o-r)*(240-e)/60:r}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(o=n<=.5?n*(1+t):n+t-n*t),new it(i(e+120),i(e),i(e-120))}function We(t,n,r){return this instanceof We?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof We?new We(t.h,t.c,t.l):tt(t instanceof Ke?t.l:(t=ft((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new We(t,n,r)}Ve.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new qe(this.h,this.s,this.l/e)},Ve.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new qe(this.h,this.s,e*this.l)},Ve.rgb=function(){return He(this.h,this.s,this.l)},e.hcl=We;var Ge=We.prototype=new Ue;function Xe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Ke(n,Math.cos(e*=Ce)*t,Math.sin(e)*t)}function Ke(e,t,n){return this instanceof Ke?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Ke?new Ke(e.l,e.a,e.b):e instanceof We?Xe(e.h,e.c,e.l):ft((e=it(e)).r,e.g,e.b):new Ke(e,t,n)}Ge.brighter=function(e){return new We(this.h,this.c,Math.min(100,this.l+Ye*(arguments.length?e:1)))},Ge.darker=function(e){return new We(this.h,this.c,Math.max(0,this.l-Ye*(arguments.length?e:1)))},Ge.rgb=function(){return Xe(this.h,this.c,this.l).rgb()},e.lab=Ke;var Ye=18,$e=.95047,Ze=1,Qe=1.08883,Je=Ke.prototype=new Ue;function et(e,t,n){var r=(e+16)/116,o=r+t/500,i=r-n/200;return o=nt(o)*$e,r=nt(r)*Ze,i=nt(i)*Qe,new it(ot(3.2404542*o-1.5371385*r-.4985314*i),ot(-.969266*o+1.8760108*r+.041556*i),ot(.0556434*o-.2040259*r+1.0572252*i))}function tt(e,t,n){return e>0?new We(Math.atan2(n,t)*je,Math.sqrt(t*t+n*n),e):new We(NaN,NaN,e)}function nt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function rt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ot(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function it(e,t,n){return this instanceof it?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof it?new it(e.r,e.g,e.b):ct(""+e,it,He):new it(e,t,n)}function at(e){return new it(e>>16,e>>8&255,255&e)}function st(e){return at(e)+""}Je.brighter=function(e){return new Ke(Math.min(100,this.l+Ye*(arguments.length?e:1)),this.a,this.b)},Je.darker=function(e){return new Ke(Math.max(0,this.l-Ye*(arguments.length?e:1)),this.a,this.b)},Je.rgb=function(){return et(this.l,this.a,this.b)},e.rgb=it;var lt=it.prototype=new Ue;function ut(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ct(e,t,n){var r,o,i,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return t(pt(o[0]),pt(o[1]),pt(o[2]))}return(i=mt.get(e))?t(i.r,i.g,i.b):(null==e||"#"!==e.charAt(0)||isNaN(i=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&i)>>4,a|=a>>4,s=240&i,s|=s>>4,l=15&i,l|=l<<4):7===e.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,l=255&i)),t(a,s,l))}function dt(e,t,n){var r,o,i=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-i,l=(a+i)/2;return s?(o=l<.5?s/(a+i):s/(2-a-i),r=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,o=l>0&&l<1?0:r),new qe(r,o,l)}function ft(e,t,n){e=ht(e),t=ht(t),n=ht(n);var r=rt((.4124564*e+.3575761*t+.1804375*n)/$e),o=rt((.2126729*e+.7151522*t+.072175*n)/Ze),i=rt((.0193339*e+.119192*t+.9503041*n)/Qe);return Ke(116*o-16,500*(r-o),200*(o-i))}function ht(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}lt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,o=30;return t||n||r?(t&&t<o&&(t=o),n&&n<o&&(n=o),r&&r<o&&(r=o),new it(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new it(o,o,o)},lt.darker=function(e){return new it((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},lt.hsl=function(){return dt(this.r,this.g,this.b)},lt.toString=function(){return"#"+ut(this.r)+ut(this.g)+ut(this.b)};var mt=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function gt(e){return"function"==typeof e?e:function(){return e}}function vt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),yt(t,n,e,r)}}function yt(t,n,o,i){var a={},s=e.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function d(){var e,t=u.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(u)||t>=200&&t<300||304===t){try{e=o.call(a,u)}catch(e){return void s.error.call(a,e)}s.load.call(a,e)}else s.error.call(a,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=d:u.onreadystatechange=function(){u.readyState>3&&d()},u.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(a,u)}finally{e.event=n}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",a):n},a.responseType=function(e){return arguments.length?(c=e,a):c},a.response=function(e){return o=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(r(arguments)))}}),a.send=function(e,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),u.open(e,t,!0),null==n||"accept"in l||(l.accept=n+",*/*"),u.setRequestHeader)for(var i in l)u.setRequestHeader(i,l[i]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=c&&(u.responseType=c),null!=o&&a.on("error",o).on("load",function(e){o(null,e)}),s.beforesend.call(a,u),u.send(null==r?null:r),a},a.abort=function(){return u.abort(),a},e.rebind(a,s,"on"),null==i?a:a.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(i))}mt.forEach(function(e,t){mt.set(e,at(t))}),e.functor=gt,e.xhr=vt(O),e.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function o(e,n,r){arguments.length<3&&(r=n,n=null);var o=yt(e,t,null==n?i:a(n),r);return o.row=function(e){return arguments.length?o.response(null==(n=e)?i:a(e)):n},o}function i(e){return o.parse(e.responseText)}function a(e){return function(t){return o.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return o.parse=function(e,t){var n;return o.parseRows(e,function(e,r){if(n)return n(e,r-1);var o=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(o(e),n)}:o})},o.parseRows=function(e,t){var n,o,i={},a={},s=[],l=e.length,u=0,c=0;function d(){if(u>=l)return a;if(o)return o=!1,i;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var s=e.charCodeAt(n+1);return 13===s?(o=!0,10===e.charCodeAt(n+2)&&++u):10===s&&(o=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<l;){var s=e.charCodeAt(u++),c=1;if(10===s)o=!0;else if(13===s)o=!0,10===e.charCodeAt(u)&&(++u,++c);else if(s!==r)continue;return e.slice(t,u-c)}return e.slice(t)}for(;(n=d())!==a;){for(var f=[];n!==i&&n!==a;)f.push(n),n=d();t&&null==(f=t(f,c++))||s.push(f)}return s},o.format=function(t){if(Array.isArray(t[0]))return o.formatRows(t);var n=new j,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(l).join(e)].concat(t.map(function(t){return r.map(function(e){return l(t[e])}).join(e)})).join("\n")},o.formatRows=function(e){return e.map(s).join("\n")},o},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("\t","text/tab-separated-values");var bt,_t,xt,wt,kt=this[R(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Et(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var o=n+t,i={c:e,t:o,n:null};return _t?_t.n=i:bt=i,_t=i,xt||(wt=clearTimeout(wt),xt=1,kt(Tt)),i}function Tt(){var e=At(),t=St()-e;t>24?(isFinite(t)&&(clearTimeout(wt),wt=setTimeout(Tt,t)),xt=0):(xt=1,kt(Tt))}function At(){for(var e=Date.now(),t=bt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function St(){for(var e,t=bt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:bt=t.n;return _t=e,n}function Mt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}e.timer=function(){Et.apply(this,arguments)},e.timer.flush=function(){At(),St()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Ct=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*y(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}});function jt(t){var n=t.decimal,r=t.thousands,o=t.grouping,i=t.currency,a=o&&r?function(e,t){for(var n=e.length,i=[],a=0,s=o[0],l=0;n>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),i.push(e.substring(n-=s,n+s)),!((l+=s+1)>t));)s=o[a=(a+1)%o.length];return i.reverse().join(r)}:O;return function(t){var r=Ot.exec(t),o=r[1]||" ",s=r[2]||">",l=r[3]||"-",u=r[4]||"",c=r[5],d=+r[6],f=r[7],h=r[8],p=r[9],m=1,g="",v="",y=!1,b=!0;switch(h&&(h=+h.substring(1)),(c||"0"===o&&"="===s)&&(c=o="0",s="="),p){case"n":f=!0,p="g";break;case"%":m=100,v="%",p="f";break;case"p":m=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+p.toLowerCase());case"c":b=!1;case"d":y=!0,h=0;break;case"s":m=-1,p="r"}"$"===u&&(g=i[0],v=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=Nt.get(p)||Rt;var _=c&&f;return function(t){var r=v;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(m<0){var u=e.formatPrefix(t,h);t=u.scale(t),r=u.symbol+v}else t*=m;var x,w,k=(t=p(t,h)).lastIndexOf(".");if(k<0){var E=b?t.lastIndexOf("e"):-1;E<0?(x=t,w=""):(x=t.substring(0,E),w=t.substring(E))}else x=t.substring(0,k),w=n+t.substring(k+1);!c&&f&&(x=a(x,1/0));var T=g.length+x.length+w.length+(_?0:i.length),A=T<d?new Array(T=d-T+1).join(o):"";return _&&(x=a(A+x,A.length?d-w.length:1/0)),i+=g,t=x+w,("<"===s?i+t+A:">"===s?A+i+t:"^"===s?A.substring(0,T>>=1)+i+t+A.substring(T):i+(_?t:A+t))+r}}}e.formatPrefix=function(t,n){var r=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=e.round(t,Mt(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Ct[8+r/3]};var Ot=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Nt=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,Mt(t,n))).toFixed(Math.max(0,Math.min(20,Mt(t*(1+1e-15),n))))}});function Rt(e){return e+""}var Pt=e.time={},It=Date;function Dt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Dt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Lt.setUTCDate.apply(this._,arguments)},setDay:function(){Lt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Lt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Lt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Lt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Lt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Lt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Lt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Lt.setTime.apply(this._,arguments)}};var Lt=Date.prototype;function Bt(e,t,n){function r(t){var n=e(t),r=i(n,1);return t-n<r-t?n:r}function o(n){return t(n=e(new It(n-1)),1),n}function i(e,n){return t(e=new It(+e),n),e}function a(e,r,i){var a=o(e),s=[];if(i>1)for(;a<r;)n(a)%i||s.push(new Date(+a)),t(a,1);else for(;a<r;)s.push(new Date(+a)),t(a,1);return s}e.floor=e,e.round=r,e.ceil=o,e.offset=i,e.range=a;var s=e.utc=Ft(e);return s.floor=s,s.round=Ft(r),s.ceil=Ft(o),s.offset=Ft(i),s.range=function(e,t,n){try{It=Dt;var r=new Dt;return r._=e,a(r,t,n)}finally{It=Date}},e}function Ft(e){return function(t,n){try{It=Dt;var r=new Dt;return r._=t,e(r,n)._}finally{It=Date}}}function zt(t){var n=t.dateTime,r=t.date,o=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths;function c(e){var t=e.length;function n(n){for(var r,o,i,a=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=Ut[r=e.charAt(++s)])&&(r=e.charAt(++s)),(i=x[r])&&(r=i(n,null==o?"e"===r?" ":"0":o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=d(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var o=null!=n.Z&&It!==Dt,i=new(o?Dt:It);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),o?i._:i},n.toString=function(){return e},n}function d(e,t,n,r){for(var o,i,a,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(o=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in Ut?t.charAt(s++):a])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(It=Dt);return n._=e,t(n)}finally{It=Date}}return n.parse=function(e){try{It=Dt;var n=t.parse(e);return n&&n._}finally{It=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=un;var f=e.map(),h=Wt(a),p=Gt(a),m=Wt(s),g=Gt(s),v=Wt(l),y=Gt(l),b=Wt(u),_=Gt(u);i.forEach(function(e,t){f.set(e.toLowerCase(),t)});var x={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:c(n),d:function(e,t){return Ht(e.getDate(),t,2)},e:function(e,t){return Ht(e.getDate(),t,2)},H:function(e,t){return Ht(e.getHours(),t,2)},I:function(e,t){return Ht(e.getHours()%12||12,t,2)},j:function(e,t){return Ht(1+Pt.dayOfYear(e),t,3)},L:function(e,t){return Ht(e.getMilliseconds(),t,3)},m:function(e,t){return Ht(e.getMonth()+1,t,2)},M:function(e,t){return Ht(e.getMinutes(),t,2)},p:function(e){return i[+(e.getHours()>=12)]},S:function(e,t){return Ht(e.getSeconds(),t,2)},U:function(e,t){return Ht(Pt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ht(Pt.mondayOfYear(e),t,2)},x:c(r),X:c(o),y:function(e,t){return Ht(e.getFullYear()%100,t,2)},Y:function(e,t){return Ht(e.getFullYear()%1e4,t,4)},Z:sn,"%":function(){return"%"}},w={a:function(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){h.lastIndex=0;var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,n){return d(e,x.c.toString(),t,n)},d:en,e:en,H:nn,I:nn,j:tn,L:an,m:Jt,M:rn,p:function(e,t,n){var r=f.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:on,U:Kt,w:Xt,W:Yt,x:function(e,t,n){return d(e,x.x.toString(),t,n)},X:function(e,t,n){return d(e,x.X.toString(),t,n)},y:Zt,Y:$t,Z:Qt,"%":ln};return c}Pt.year=Bt(function(e){return(e=Pt.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Pt.years=Pt.year.range,Pt.years.utc=Pt.year.utc.range,Pt.day=Bt(function(e){var t=new It(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Pt.days=Pt.day.range,Pt.days.utc=Pt.day.utc.range,Pt.dayOfYear=function(e){var t=Pt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=Pt[e]=Bt(function(e){return(e=Pt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=Pt.year(e).getDay();return Math.floor((Pt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Pt[e+"s"]=n.range,Pt[e+"s"].utc=n.utc.range,Pt[e+"OfYear"]=function(e){var n=Pt.year(e).getDay();return Math.floor((Pt.dayOfYear(e)+(n+t)%7)/7)}}),Pt.week=Pt.sunday,Pt.weeks=Pt.sunday.range,Pt.weeks.utc=Pt.sunday.utc.range,Pt.weekOfYear=Pt.sundayOfYear;var Ut={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,Vt=/^%/;function Ht(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Wt(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function Gt(e){for(var t=new _,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Xt(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Kt(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Yt(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function $t(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Zt(e,t,n){qt.lastIndex=0;var r,o=qt.exec(t.slice(n,n+2));return o?(e.y=(r=+o[0])+(r>68?1900:2e3),n+o[0].length):-1}function Qt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Jt(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function en(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tn(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function nn(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function rn(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function on(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function an(e,t,n){qt.lastIndex=0;var r=qt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function sn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=y(t)/60|0,o=y(t)%60;return n+Ht(r,"0",2)+Ht(o,"0",2)}function ln(e,t,n){Vt.lastIndex=0;var r=Vt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function un(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}e.locale=function(e){return{numberFormat:jt(e),timeFormat:zt(e)}};var cn=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dn(){}e.format=cn.numberFormat,e.geo={},dn.prototype={s:0,t:0,add:function(e){hn(e,this.t,fn),hn(fn.s,this.s,this),this.s?this.t+=fn.t:this.s=fn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var fn=new dn;function hn(e,t,n){var r=n.s=e+t,o=r-e,i=r-o;n.t=e-i+(t-o)}function pn(e,t){e&&gn.hasOwnProperty(e.type)&&gn[e.type](e,t)}e.geo.stream=function(e,t){e&&mn.hasOwnProperty(e.type)?mn[e.type](e,t):pn(e,t)};var mn={Feature:function(e,t){pn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)pn(n[r].geometry,t)}},gn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){vn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)vn(n[r],t,0)},Polygon:function(e,t){yn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)yn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)pn(n[r],t)}};function vn(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function yn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)vn(e[n],t,1);t.polygonEnd()}e.geo.area=function(t){return bn=0,e.geo.stream(t,Nn),bn};var bn,_n,xn,wn,kn,En,Tn,An,Sn,Mn,Cn,jn,On=new dn,Nn={sphere:function(){bn+=4*Te},point:I,lineStart:I,lineEnd:I,polygonStart:function(){On.reset(),Nn.lineStart=Rn},polygonEnd:function(){var e=2*On;bn+=e<0?4*Te+e:e,Nn.lineStart=Nn.lineEnd=Nn.point=I}};function Rn(){var e,t,n,r,o;function i(e,t){t=t*Ce/2+Te/4;var i=(e*=Ce)-n,a=i>=0?1:-1,s=a*i,l=Math.cos(t),u=Math.sin(t),c=o*u,d=r*l+c*Math.cos(s),f=c*a*Math.sin(s);On.add(Math.atan2(f,d)),n=e,r=l,o=u}Nn.point=function(a,s){Nn.point=i,n=(e=a)*Ce,r=Math.cos(s=(t=s)*Ce/2+Te/4),o=Math.sin(s)},Nn.lineEnd=function(){i(e,t)}}function Pn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function In(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Dn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ln(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Bn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Fn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function zn(e){return[Math.atan2(e[1],e[0]),Pe(e[2])]}function Un(e,t){return y(e[0]-t[0])<ke&&y(e[1]-t[1])<ke}e.geo.bounds=function(){var t,n,r,o,i,a,s,l,u,c,d,f={point:h,lineStart:m,lineEnd:g,polygonStart:function(){f.point=v,f.lineStart=b,f.lineEnd=_,u=0,Nn.polygonStart()},polygonEnd:function(){Nn.polygonEnd(),f.point=h,f.lineStart=m,f.lineEnd=g,On<0?(t=-(r=180),n=-(o=90)):u>ke?o=90:u<-ke&&(n=-90),d[0]=t,d[1]=r}};function h(e,i){c.push(d=[t=e,r=e]),i<n&&(n=i),i>o&&(o=i)}function p(e,a){var s=Pn([e*Ce,a*Ce]);if(l){var u=Dn(l,s),c=[u[1],-u[0],0],d=Dn(c,u);Fn(d),d=zn(d);var f=e-i,p=f>0?1:-1,m=d[0]*je*p,g=y(f)>180;if(g^(p*i<m&&m<p*e)){var v=d[1]*je;v>o&&(o=v)}else if(g^(p*i<(m=(m+360)%360-180)&&m<p*e)){var v=-d[1]*je;v<n&&(n=v)}else a<n&&(n=a),a>o&&(o=a);g?e<i?x(t,e)>x(t,r)&&(r=e):x(e,r)>x(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>i?x(t,e)>x(t,r)&&(r=e):x(e,r)>x(t,r)&&(t=e)}else h(e,a);l=s,i=e}function m(){f.point=p}function g(){d[0]=t,d[1]=r,f.point=h,l=null}function v(e,t){if(l){var n=e-i;u+=y(n)>180?n+(n>0?360:-360):n}else a=e,s=t;Nn.point(e,t),p(e,t)}function b(){Nn.lineStart()}function _(){v(a,s),Nn.lineEnd(),y(u)>ke&&(t=-(r=180)),d[0]=t,d[1]=r,l=null}function x(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function k(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(i){o=r=-(t=n=1/0),c=[],e.geo.stream(i,f);var a=c.length;if(a){c.sort(w);for(var s=1,l=c[0],u=[l];s<a;++s)k((p=c[s])[0],l)||k(p[1],l)?(x(l[0],p[1])>x(l[0],l[1])&&(l[1]=p[1]),x(p[0],l[1])>x(l[0],l[1])&&(l[0]=p[0])):u.push(l=p);for(var h,p,m=-1/0,a=u.length-1,s=0,l=u[a];s<=a;l=p,++s)p=u[s],(h=x(l[1],p[0]))>m&&(m=h,t=p[0],r=l[1])}return c=d=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,o]]}}(),e.geo.centroid=function(t){_n=xn=wn=kn=En=Tn=An=Sn=Mn=Cn=jn=0,e.geo.stream(t,qn);var n=Mn,r=Cn,o=jn,i=n*n+r*r+o*o;return i<Ee&&(n=Tn,r=An,o=Sn,xn<ke&&(n=wn,r=kn,o=En),(i=n*n+r*r+o*o)<Ee)?[NaN,NaN]:[Math.atan2(r,n)*je,Pe(o/Math.sqrt(i))*je]};var qn={sphere:I,point:Vn,lineStart:Wn,lineEnd:Gn,polygonStart:function(){qn.lineStart=Xn},polygonEnd:function(){qn.lineStart=Wn}};function Vn(e,t){e*=Ce;var n=Math.cos(t*=Ce);Hn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Hn(e,t,n){wn+=(e-wn)/++_n,kn+=(t-kn)/_n,En+=(n-En)/_n}function Wn(){var e,t,n;function r(r,o){r*=Ce;var i=Math.cos(o*=Ce),a=i*Math.cos(r),s=i*Math.sin(r),l=Math.sin(o),u=Math.atan2(Math.sqrt((u=t*l-n*s)*u+(u=n*a-e*l)*u+(u=e*s-t*a)*u),e*a+t*s+n*l);xn+=u,Tn+=u*(e+(e=a)),An+=u*(t+(t=s)),Sn+=u*(n+(n=l)),Hn(e,t,n)}qn.point=function(o,i){o*=Ce;var a=Math.cos(i*=Ce);e=a*Math.cos(o),t=a*Math.sin(o),n=Math.sin(i),qn.point=r,Hn(e,t,n)}}function Gn(){qn.point=Vn}function Xn(){var e,t,n,r,o;function i(e,t){e*=Ce;var i=Math.cos(t*=Ce),a=i*Math.cos(e),s=i*Math.sin(e),l=Math.sin(t),u=r*l-o*s,c=o*a-n*l,d=n*s-r*a,f=Math.sqrt(u*u+c*c+d*d),h=n*a+r*s+o*l,p=f&&-Re(h)/f,m=Math.atan2(f,h);Mn+=p*u,Cn+=p*c,jn+=p*d,xn+=m,Tn+=m*(n+(n=a)),An+=m*(r+(r=s)),Sn+=m*(o+(o=l)),Hn(n,r,o)}qn.point=function(a,s){e=a,t=s,qn.point=i,a*=Ce;var l=Math.cos(s*=Ce);n=l*Math.cos(a),r=l*Math.sin(a),o=Math.sin(s),Hn(n,r,o)},qn.lineEnd=function(){i(e,t),qn.lineEnd=Gn,qn.point=Vn}}function Kn(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Yn(){return!0}function $n(e,t,n,r,o){var i=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Un(n,r)){o.lineStart();for(var s=0;s<t;++s)o.point((n=e[s])[0],n[1]);o.lineEnd()}else{var l=new Qn(n,e,null,!0),u=new Qn(n,null,l,!1);l.o=u,i.push(l),a.push(u),l=new Qn(r,e,null,!1),u=new Qn(r,null,l,!0),l.o=u,i.push(l),a.push(u)}}}),a.sort(t),Zn(i),Zn(a),i.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,d,f=i[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var s=0,u=c.length;s<u;++s)o.point((d=c[s])[0],d[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(var s=(c=h.p.z).length-1;s>=0;--s)o.point((d=c[s])[0],d[1]);else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);o.lineEnd()}}}function Zn(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}function Qn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Jn(t,n,r,o){return function(i,a){var s,l=n(a),u=i.invert(o[0],o[1]),c={point:d,lineStart:h,lineEnd:p,polygonStart:function(){c.point=_,c.lineStart=x,c.lineEnd=w,s=[],m=[]},polygonEnd:function(){c.point=d,c.lineStart=h,c.lineEnd=p,s=e.merge(s);var t=function(e,t){var n=e[0],r=e[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;On.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+Te/4,p=Math.sin(h),m=Math.cos(h),g=1;;){g===c&&(g=0);var v=(e=u[g])[0],y=e[1]/2+Te/4,b=Math.sin(y),_=Math.cos(y),x=v-f,w=x>=0?1:-1,k=w*x,E=k>Te,T=p*b;if(On.add(Math.atan2(T*w*Math.sin(k),m*_+T*Math.cos(k))),i+=E?x+w*Ae:x,E^f>=n^v>=n){var A=Dn(Pn(d),Pn(e));Fn(A);var S=Dn(o,A);Fn(S);var M=(E^x>=0?-1:1)*Pe(S[2]);(r>M||r===M&&(A[0]||A[1]))&&(a+=E^x>=0?1:-1)}if(!g++)break;f=v,p=b,m=_,d=e}}return(i<-ke||i<ke&&On<-ke)^1&a}(u,m);s.length?(b||(a.polygonStart(),b=!0),$n(s,nr,t,r,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),s=m=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function d(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function f(e,t){var n=i(e,t);l.point(n[0],n[1])}function h(){c.point=f,l.lineStart()}function p(){c.point=d,l.lineEnd()}var m,g,v=tr(),y=n(v),b=!1;function _(e,t){g.push([e,t]);var n=i(e,t);y.point(n[0],n[1])}function x(){y.lineStart(),g=[]}function w(){_(g[0][0],g[0][1]),y.lineEnd();var e,t=y.clean(),n=v.buffer(),r=n.length;if(g.pop(),m.push(g),g=null,r)if(1&t){var o,r=(e=n[0]).length-1,i=-1;if(r>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++i<r;)a.point((o=e[i])[0],o[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(er))}return c}}function er(e){return e.length>1}function tr(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:I,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function nr(e,t){return((e=e.x)[0]<0?e[1]-Me-ke:Me-e[1])-((t=t.x)[0]<0?t[1]-Me-ke:Me-t[1])}var rr=Jn(Yn,function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var s=i>0?Te:-Te,l=y(i-n);y(l-Te)<ke?(e.point(n,r=(r+a)/2>0?Me:-Me),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(i,r),t=0):o!==s&&l>=Te&&(y(n-o)<ke&&(n-=o*ke),y(i-s)<ke&&(i-=s*ke),r=function(e,t,n,r){var o,i,a=Math.sin(e-n);return y(a)>ke?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(t))*Math.sin(e))/(o*i*a)):(t+r)/2}(n,r,i,a),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=i,r=a),o=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var o;if(null==e)o=n*Me,r.point(-Te,o),r.point(0,o),r.point(Te,o),r.point(Te,0),r.point(Te,-o),r.point(0,-o),r.point(-Te,-o),r.point(-Te,0),r.point(-Te,o);else if(y(e[0]-t[0])>ke){var i=e[0]<t[0]?Te:-Te;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])},[-Te,-Te/2]);function or(e,t,n,r){return function(o){var i,a=o.a,s=o.b,l=a.x,u=a.y,c=s.x,d=s.y,f=0,h=1,p=c-l,m=d-u;if(i=e-l,p||!(i>0)){if(i/=p,p<0){if(i<f)return;i<h&&(h=i)}else if(p>0){if(i>h)return;i>f&&(f=i)}if(i=n-l,p||!(i<0)){if(i/=p,p<0){if(i>h)return;i>f&&(f=i)}else if(p>0){if(i<f)return;i<h&&(h=i)}if(i=t-u,m||!(i>0)){if(i/=m,m<0){if(i<f)return;i<h&&(h=i)}else if(m>0){if(i>h)return;i>f&&(f=i)}if(i=r-u,m||!(i<0)){if(i/=m,m<0){if(i>h)return;i>f&&(f=i)}else if(m>0){if(i<f)return;i<h&&(h=i)}return f>0&&(o.a={x:l+f*p,y:u+f*m}),h<1&&(o.b={x:l+h*p,y:u+h*m}),o}}}}}}var ir=1e9;function ar(t,n,r,o){return function(l){var u,c,d,f,h,p,m,g,v,y,b,_=l,x=tr(),w=or(t,n,r,o),k={point:A,lineStart:function(){k.point=S,c&&c.push(d=[]),y=!0,v=!1,m=g=NaN},lineEnd:function(){u&&(S(f,h),p&&v&&x.rejoin(),u.push(x.buffer())),k.point=A,v&&l.lineEnd()},polygonStart:function(){l=x,u=[],c=[],b=!0},polygonEnd:function(){l=_,u=e.merge(u);var n=function(e){for(var t=0,n=c.length,r=e[1],o=0;o<n;++o)for(var i,a=1,s=c[o],l=s.length,u=s[0];a<l;++a)i=s[a],u[1]<=r?i[1]>r&&Ne(u,i,e)>0&&++t:i[1]<=r&&Ne(u,i,e)<0&&--t,u=i;return 0!==t}([t,o]),r=b&&n,i=u.length;(r||i)&&(l.polygonStart(),r&&(l.lineStart(),E(null,null,1,l),l.lineEnd()),i&&$n(u,a,n,E,l),l.polygonEnd()),u=c=d=null}};function E(e,a,l,u){var c=0,d=0;if(null==e||(c=i(e,l))!==(d=i(a,l))||s(e,a)<0^l>0)do{u.point(0===c||3===c?t:r,c>1?o:n)}while((c=(c+l+4)%4)!==d);else u.point(a[0],a[1])}function T(e,i){return t<=e&&e<=r&&n<=i&&i<=o}function A(e,t){T(e,t)&&l.point(e,t)}function S(e,t){e=Math.max(-ir,Math.min(ir,e)),t=Math.max(-ir,Math.min(ir,t));var n=T(e,t);if(c&&d.push([e,t]),y)f=e,h=t,p=n,y=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&v)l.point(e,t);else{var r={a:{x:m,y:g},b:{x:e,y:t}};w(r)?(v||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(e,t),b=!1)}m=e,g=t,v=n}return k};function i(e,o){return y(e[0]-t)<ke?o>0?0:3:y(e[0]-r)<ke?o>0?2:1:y(e[1]-n)<ke?o>0?1:0:o>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function sr(e){var t=0,n=Te/3,r=Or(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*Te/180,n=e[1]*Te/180):[t/Te*180,n/Te*180]},o}function lr(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,o=1+n*(2*r-n),i=Math.sqrt(o)/r;function a(e,t){var n=Math.sqrt(o-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),i-n*Math.cos(e)]}return a.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,Pe((o-(e*e+n*n)*r*r)/(2*r))]},a}e.geo.clipExtent=function(){var e,t,n,r,o,i,a={stream:function(e){return o&&(o.valid=!1),(o=i(e)).valid=!0,o},extent:function(s){return arguments.length?(i=ar(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),o&&(o.valid=!1,o=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return sr(lr)}).raw=lr,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){var t,n,r,o,i=e.geo.albers(),a=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(e){var i=e[0],a=e[1];return t=null,n(i,a),t||(r(i,a),t)||o(i,a),t}return u.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(e)},u.stream=function(e){var t=i.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,o){t.point(e,o),n.point(e,o),r.point(e,o)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),s.precision(e),u):i.precision()},u.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),s.scale(e),u.translate(i.translate())):i.scale()},u.translate=function(e){if(!arguments.length)return i.translate();var t=i.scale(),c=+e[0],d=+e[1];return n=i.translate(e).clipExtent([[c-.455*t,d-.238*t],[c+.455*t,d+.238*t]]).stream(l).point,r=a.translate([c-.307*t,d+.201*t]).clipExtent([[c-.425*t+ke,d+.12*t+ke],[c-.214*t-ke,d+.234*t-ke]]).stream(l).point,o=s.translate([c-.205*t,d+.212*t]).clipExtent([[c-.214*t+ke,d+.166*t+ke],[c-.115*t-ke,d+.234*t-ke]]).stream(l).point,u},u.scale(1070)};var ur,cr,dr,fr,hr,pr,mr={point:I,lineStart:I,lineEnd:I,polygonStart:function(){cr=0,mr.lineStart=gr},polygonEnd:function(){mr.lineStart=mr.lineEnd=mr.point=I,ur+=y(cr/2)}};function gr(){var e,t,n,r;function o(e,t){cr+=r*e-n*t,n=e,r=t}mr.point=function(i,a){mr.point=o,e=n=i,t=r=a},mr.lineEnd=function(){o(e,t)}}var vr={point:function(e,t){e<dr&&(dr=e),e>hr&&(hr=e),t<fr&&(fr=t),t>pr&&(pr=t)},lineStart:I,lineEnd:I,polygonStart:I,polygonEnd:I};function yr(){var e=br(4.5),t=[],n={point:r,lineStart:function(){n.point=o},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=br(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function o(e,r){t.push("M",e,",",r),n.point=i}function i(e,n){t.push("L",e,",",n)}function a(){n.point=r}function s(){t.push("Z")}return n}function br(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var _r,xr={point:wr,lineStart:kr,lineEnd:Er,polygonStart:function(){xr.lineStart=Tr},polygonEnd:function(){xr.point=wr,xr.lineStart=kr,xr.lineEnd=Er}};function wr(e,t){wn+=e,kn+=t,++En}function kr(){var e,t;function n(n,r){var o=n-e,i=r-t,a=Math.sqrt(o*o+i*i);Tn+=a*(e+n)/2,An+=a*(t+r)/2,Sn+=a,wr(e=n,t=r)}xr.point=function(r,o){xr.point=n,wr(e=r,t=o)}}function Er(){xr.point=wr}function Tr(){var e,t,n,r;function o(e,t){var o=e-n,i=t-r,a=Math.sqrt(o*o+i*i);Tn+=a*(n+e)/2,An+=a*(r+t)/2,Sn+=a,Mn+=(a=r*e-n*t)*(n+e),Cn+=a*(r+t),jn+=3*a,wr(n=e,r=t)}xr.point=function(i,a){xr.point=o,wr(e=n=i,t=r=a)},xr.lineEnd=function(){o(e,t)}}function Ar(e){var t=4.5,n={point:r,lineStart:function(){n.point=o},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=e,n},result:I};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Ae)}function o(t,r){e.moveTo(t,r),n.point=i}function i(t,n){e.lineTo(t,n)}function a(){n.point=r}function s(){e.closePath()}return n}function Sr(e){var t=.5,n=Math.cos(30*Ce),r=16;function o(t){return(r?function(t){var n,o,a,s,l,u,c,d,f,h,p,m,g={point:v,lineStart:y,lineEnd:_,polygonStart:function(){t.polygonStart(),g.lineStart=x},polygonEnd:function(){t.polygonEnd(),g.lineStart=y}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){d=NaN,g.point=b,t.lineStart()}function b(n,o){var a=Pn([n,o]),s=e(n,o);i(d,f,c,h,p,m,d=s[0],f=s[1],c=n,h=a[0],p=a[1],m=a[2],r,t),t.point(d,f)}function _(){g.point=v,t.lineEnd()}function x(){y(),g.point=w,g.lineEnd=k}function w(e,t){b(n=e,t),o=d,a=f,s=h,l=p,u=m,g.point=b}function k(){i(d,f,c,h,p,m,o,a,n,s,l,u,r,t),g.lineEnd=_,_()}return g}:function(t){return Cr(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})})(t)}function i(r,o,a,s,l,u,c,d,f,h,p,m,g,v){var b=c-r,_=d-o,x=b*b+_*_;if(x>4*t&&g--){var w=s+h,k=l+p,E=u+m,T=Math.sqrt(w*w+k*k+E*E),A=Math.asin(E/=T),S=y(y(E)-1)<ke||y(a-f)<ke?(a+f)/2:Math.atan2(k,w),M=e(S,A),C=M[0],j=M[1],O=C-r,N=j-o,R=_*O-b*N;(R*R/x>t||y((b*O+_*N)/x-.5)>.3||s*h+l*p+u*m<n)&&(i(r,o,a,s,l,u,C,j,S,w/=T,k/=T,E,g,v),v.point(C,j),i(C,j,S,w,k,E,c,d,f,h,p,m,g,v))}}return o.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,o):Math.sqrt(t)},o}function Mr(e){this.stream=e}function Cr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function jr(e){return Or(function(){return e})()}function Or(t){var n,r,o,i,a,s,l=Sr(function(e,t){return[(e=n(e,t))[0]*u+i,a-e[1]*u]}),u=150,c=480,d=250,f=0,h=0,p=0,m=0,g=0,v=rr,b=O,_=null,x=null;function w(e){return[(e=o(e[0]*Ce,e[1]*Ce))[0]*u+i,a-e[1]*u]}function k(e){return(e=o.invert((e[0]-i)/u,(a-e[1])/u))&&[e[0]*je,e[1]*je]}function E(){o=Kn(r=Ir(p,m,g),n);var e=n(f,h);return i=c-e[0]*u,a=d+e[1]*u,T()}function T(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Nr(v(r,l(b(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(v=null==e?(_=e,rr):function(e){var t=Math.cos(e),n=t>0,r=y(t)>ke;return Jn(o,function(e){var t,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],m=o(d,f),g=n?m?0:a(d,f):m?a(d+(d<0?Te:-Te),f):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(h=i(t,p),(Un(t,h)||Un(p,h))&&(p[0]+=ke,p[1]+=ke,m=o(p[0],p[1]))),m!==l)c=0,m?(e.lineStart(),h=i(p,t),e.point(h[0],h[1])):(h=i(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(r&&t&&n^m){var v;g&s||!(v=i(p,t,!0))||(c=0,n?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||t&&Un(t,p)||e.point(p[0],p[1]),t=p,l=m,s=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}},Fr(e,6*Ce),n?[0,-e]:[-Te,e-Te]);function o(e,n){return Math.cos(e)*Math.cos(n)>t}function i(e,n,r){var o=Pn(e),i=Pn(n),a=[1,0,0],s=Dn(o,i),l=In(s,s),u=s[0],c=l-u*u;if(!c)return!r&&e;var d=t*l/c,f=-t*u/c,h=Dn(a,s),p=Bn(a,d),m=Bn(s,f);Ln(p,m);var g=h,v=In(p,g),b=In(g,g),_=v*v-b*(In(p,p)-1);if(!(_<0)){var x=Math.sqrt(_),w=Bn(g,(-v-x)/b);if(Ln(w,p),w=zn(w),!r)return w;var k,E=e[0],T=n[0],A=e[1],S=n[1];T<E&&(k=E,E=T,T=k);var M=T-E,C=y(M-Te)<ke,j=C||M<ke;if(!C&&S<A&&(k=A,A=S,S=k),j?C?A+S>0^w[1]<(y(w[0]-E)<ke?A:S):A<=w[1]&&w[1]<=S:M>Te^(E<=w[0]&&w[0]<=T)){var O=Bn(g,(-v+x)/b);return Ln(O,p),[w,zn(O)]}}}function a(t,r){var o=n?e:Te-e,i=0;return t<-o?i|=1:t>o&&(i|=2),r<-o?i|=4:r>o&&(i|=8),i}}((_=+e)*Ce),T()):_},w.clipExtent=function(e){return arguments.length?(x=e,b=e?ar(e[0][0],e[0][1],e[1][0],e[1][1]):O,T()):x},w.scale=function(e){return arguments.length?(u=+e,E()):u},w.translate=function(e){return arguments.length?(c=+e[0],d=+e[1],E()):[c,d]},w.center=function(e){return arguments.length?(f=e[0]%360*Ce,h=e[1]%360*Ce,E()):[f*je,h*je]},w.rotate=function(e){return arguments.length?(p=e[0]%360*Ce,m=e[1]%360*Ce,g=e.length>2?e[2]%360*Ce:0,E()):[p*je,m*je,g*je]},e.rebind(w,l,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&k,E()}}function Nr(e){return Cr(e,function(t,n){e.point(t*Ce,n*Ce)})}function Rr(e,t){return[e,t]}function Pr(e,t){return[e>Te?e-Ae:e<-Te?e+Ae:e,t]}function Ir(e,t,n){return e?t||n?Kn(Lr(e),Br(t,n)):Lr(e):t||n?Br(t,n):Pr}function Dr(e){return function(t,n){return[(t+=e)>Te?t-Ae:t<-Te?t+Ae:t,n]}}function Lr(e){var t=Dr(e);return t.invert=Dr(-e),t}function Br(e,t){var n=Math.cos(e),r=Math.sin(e),o=Math.cos(t),i=Math.sin(t);function a(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,u=Math.sin(t),c=u*n+s*r;return[Math.atan2(l*o-c*i,s*n-u*r),Pe(c*o+l*i)]}return a.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,u=Math.sin(t),c=u*o-l*i;return[Math.atan2(l*o+u*i,s*n+c*r),Pe(c*n-s*r)]},a}function Fr(e,t){var n=Math.cos(e),r=Math.sin(e);return function(o,i,a,s){var l=a*t;null!=o?(o=zr(n,o),i=zr(n,i),(a>0?o<i:o>i)&&(o+=a*Ae)):(o=e+a*Ae,i=e-.5*l);for(var u,c=o;a>0?c>i:c<i;c-=l)s.point((u=zn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function zr(e,t){var n=Pn(t);n[0]-=e,Fn(n);var r=Re(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-ke)%(2*Math.PI)}function Ur(t,n,r){var o=e.range(t,n-ke,r).concat(n);return function(e){return o.map(function(t){return[e,t]})}}function qr(t,n,r){var o=e.range(t,n-ke,r).concat(n);return function(e){return o.map(function(t){return[t,e]})}}function Vr(e){return e.source}function Hr(e){return e.target}e.geo.path=function(){var t,n,r,o,i,a=4.5;function s(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=r(o)),e.geo.stream(t,i)),o.result()}function l(){return i=null,s}return s.area=function(t){return ur=0,e.geo.stream(t,r(mr)),ur},s.centroid=function(t){return wn=kn=En=Tn=An=Sn=Mn=Cn=jn=0,e.geo.stream(t,r(xr)),jn?[Mn/jn,Cn/jn]:Sn?[Tn/Sn,An/Sn]:En?[wn/En,kn/En]:[NaN,NaN]},s.bounds=function(t){return hr=pr=-(dr=fr=1/0),e.geo.stream(t,r(vr)),[[dr,fr],[hr,pr]]},s.projection=function(e){return arguments.length?(r=(t=e)?e.stream||(n=e,o=Sr(function(e,t){return n([e*je,t*je])}),function(e){return Nr(o(e))}):O,l()):t;var n,o},s.context=function(e){return arguments.length?(o=null==(n=e)?new yr:new Ar(e),"function"!=typeof a&&o.pointRadius(a),l()):n},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(o.pointRadius(+e),+e),s):a},s.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new Mr(t);for(var r in e)n[r]=e[r];return n}}},Mr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=jr,e.geo.projectionMutator=Or,(e.geo.equirectangular=function(){return jr(Rr)}).raw=Rr.invert=Rr,e.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ce,t[1]*Ce))[0]*=je,t[1]*=je,t}return e=Ir(e[0]%360*Ce,e[1]*Ce,e.length>2?e[2]*Ce:0),t.invert=function(t){return(t=e.invert(t[0]*Ce,t[1]*Ce))[0]*=je,t[1]*=je,t},t},Pr.invert=Rr,e.geo.circle=function(){var e,t,n=[0,0],r=6;function o(){var e="function"==typeof n?n.apply(this,arguments):n,r=Ir(-e[0]*Ce,-e[1]*Ce,0).invert,o=[];return t(null,null,1,{point:function(e,t){o.push(e=r(e,t)),e[0]*=je,e[1]*=je}}),{type:"Polygon",coordinates:[o]}}return o.origin=function(e){return arguments.length?(n=e,o):n},o.angle=function(n){return arguments.length?(t=Fr((e=+n)*Ce,r*Ce),o):e},o.precision=function(n){return arguments.length?(t=Fr(e*Ce,(r=+n)*Ce),o):r},o.angle(90)},e.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ce,o=e[1]*Ce,i=t[1]*Ce,a=Math.sin(r),s=Math.cos(r),l=Math.sin(o),u=Math.cos(o),c=Math.sin(i),d=Math.cos(i);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},e.geo.graticule=function(){var t,n,r,o,i,a,s,l,u,c,d,f,h=10,p=h,m=90,g=360,v=2.5;function b(){return{type:"MultiLineString",coordinates:_()}}function _(){return e.range(Math.ceil(o/m)*m,r,m).map(d).concat(e.range(Math.ceil(l/g)*g,s,g).map(f)).concat(e.range(Math.ceil(n/h)*h,t,h).filter(function(e){return y(e%m)>ke}).map(u)).concat(e.range(Math.ceil(a/p)*p,i,p).filter(function(e){return y(e%g)>ke}).map(c))}return b.lines=function(){return _().map(function(e){return{type:"LineString",coordinates:e}})},b.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(s).slice(1),d(r).reverse().slice(1),f(l).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.majorExtent(e).minorExtent(e):b.minorExtent()},b.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],s=+e[1][1],o>r&&(e=o,o=r,r=e),l>s&&(e=l,l=s,s=e),b.precision(v)):[[o,l],[r,s]]},b.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),a>i&&(e=a,a=i,i=e),b.precision(v)):[[n,a],[t,i]]},b.step=function(e){return arguments.length?b.majorStep(e).minorStep(e):b.minorStep()},b.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],b):[m,g]},b.minorStep=function(e){return arguments.length?(h=+e[0],p=+e[1],b):[h,p]},b.precision=function(e){return arguments.length?(v=+e,u=Ur(a,i,90),c=qr(n,t,v),d=Ur(l,s,90),f=qr(o,r,v),b):v},b.majorExtent([[-180,-90+ke],[180,90-ke]]).minorExtent([[-180,-80-ke],[180,80+ke]])},e.geo.greatArc=function(){var t,n,r=Vr,o=Hr;function i(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||o.apply(this,arguments)]}}return i.distance=function(){return e.geo.distance(t||r.apply(this,arguments),n||o.apply(this,arguments))},i.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,i):r},i.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,i):o},i.precision=function(){return arguments.length?i:0},i},e.geo.interpolate=function(e,t){return n=e[0]*Ce,r=e[1]*Ce,o=t[0]*Ce,i=t[1]*Ce,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=a*Math.cos(n),d=a*Math.sin(n),f=l*Math.cos(o),h=l*Math.sin(o),p=2*Math.asin(Math.sqrt(De(i-r)+a*l*De(o-n))),m=1/Math.sin(p),(g=p?function(e){var t=Math.sin(e*=p)*m,n=Math.sin(p-e)*m,r=n*c+t*f,o=n*d+t*h,i=n*s+t*u;return[Math.atan2(o,r)*je,Math.atan2(i,Math.sqrt(r*r+o*o))*je]}:function(){return[n*je,r*je]}).distance=p,g;var n,r,o,i,a,s,l,u,c,d,f,h,p,m,g},e.geo.length=function(t){return _r=0,e.geo.stream(t,Wr),_r};var Wr={sphere:I,point:I,lineStart:function(){var e,t,n;function r(r,o){var i=Math.sin(o*=Ce),a=Math.cos(o),s=y((r*=Ce)-e),l=Math.cos(s);_r+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*i-t*a*l)*s),t*i+n*a*l),e=r,t=i,n=a}Wr.point=function(o,i){e=o*Ce,t=Math.sin(i*=Ce),n=Math.cos(i),Wr.point=r},Wr.lineEnd=function(){Wr.point=Wr.lineEnd=I}},lineEnd:I,polygonStart:I,polygonEnd:I};function Gr(e,t){function n(t,n){var r=Math.cos(t),o=Math.cos(n),i=e(r*o);return[i*o*Math.sin(t),i*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),o=t(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(e*i,r*a),Math.asin(r&&n*i/r)]},n}var Xr=Gr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(e.geo.azimuthalEqualArea=function(){return jr(Xr)}).raw=Xr;var Kr=Gr(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},O);function Yr(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Te/4+e/2)},o=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),i=n*Math.pow(r(e),o)/o;if(!o)return Qr;function a(e,t){i>0?t<-Me+ke&&(t=-Me+ke):t>Me-ke&&(t=Me-ke);var n=i/Math.pow(r(t),o);return[n*Math.sin(o*e),i-n*Math.cos(o*e)]}return a.invert=function(e,t){var n=i-t,r=Oe(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(i/r,1/o))-Me]},a}function $r(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),o=n/r+e;if(y(r)<ke)return Rr;function i(e,t){var n=o-t;return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}return i.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,o-Oe(r)*Math.sqrt(e*e+n*n)]},i}(e.geo.azimuthalEquidistant=function(){return jr(Kr)}).raw=Kr,(e.geo.conicConformal=function(){return sr(Yr)}).raw=Yr,(e.geo.conicEquidistant=function(){return sr($r)}).raw=$r;var Zr=Gr(function(e){return 1/e},Math.atan);function Qr(e,t){return[e,Math.log(Math.tan(Te/4+t/2))]}function Jr(e){var t,n=jr(e),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=o.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=i.apply(n,arguments);if(a===n){if(t=null==e){var s=Te*r(),l=o();i([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}(e.geo.gnomonic=function(){return jr(Zr)}).raw=Zr,Qr.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Me]},(e.geo.mercator=function(){return Jr(Qr)}).raw=Qr;var eo=Gr(function(){return 1},Math.asin);(e.geo.orthographic=function(){return jr(eo)}).raw=eo;var to=Gr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function no(e,t){return[Math.log(Math.tan(Te/4+t/2)),-e]}function ro(e){return e[0]}function oo(e){return e[1]}function io(e){for(var t=e.length,n=[0,1],r=2,o=2;o<t;o++){for(;r>1&&Ne(e[n[r-2]],e[n[r-1]],e[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function ao(e,t){return e[0]-t[0]||e[1]-t[1]}(e.geo.stereographic=function(){return jr(to)}).raw=to,no.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Me]},(e.geo.transverseMercator=function(){var e=Jr(no),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=no,e.geom={},e.geom.hull=function(e){var t=ro,n=oo;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,o=gt(t),i=gt(n),a=e.length,s=[],l=[];for(r=0;r<a;r++)s.push([+o.call(this,e[r],r),+i.call(this,e[r],r),r]);for(s.sort(ao),r=0;r<a;r++)l.push([s[r][0],-s[r][1]]);var u=io(s),c=io(l),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(r=u.length-1;r>=0;--r)h.push(e[s[u[r]][2]]);for(r=+d;r<c.length-f;++r)h.push(e[s[c[r]][2]]);return h}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},e.geom.polygon=function(e){return q(e,so),e};var so=e.geom.polygon.prototype=[];function lo(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function uo(e,t,n,r){var o=e[0],i=n[0],a=t[0]-o,s=r[0]-i,l=e[1],u=n[1],c=t[1]-l,d=r[1]-u,f=(s*(l-u)-d*(o-i))/(d*a-s*c);return[o+f*a,l+f*c]}function co(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}so.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],o=0;++t<n;)e=r,r=this[t],o+=e[1]*r[0]-e[0]*r[1];return.5*o},so.centroid=function(e){var t,n,r=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(e=-1/(6*this.area()));++r<o;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],i+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[i*e,a*e]},so.clip=function(e){for(var t,n,r,o,i,a,s=co(e),l=-1,u=this.length-co(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,o=this[l],i=t[(r=t.length-s)-1],n=-1;++n<r;)lo(a=t[n],c,o)?(lo(i,c,o)||e.push(uo(i,a,c,o)),e.push(a)):lo(i,c,o)&&e.push(uo(i,a,c,o)),i=a;s&&e.push(e[0]),c=o}return e};var fo,ho,po,mo,go,vo=[],yo=[];function bo(){Lo(this),this.edge=this.site=this.circle=null}function _o(e){var t=vo.pop()||new bo;return t.site=e,t}function xo(e){jo(e),po.remove(e),vo.push(e),Lo(e)}function wo(e){var t=e.circle,n=t.x,r=t.cy,o={x:n,y:r},i=e.P,a=e.N,s=[e];xo(e);for(var l=i;l.circle&&y(n-l.circle.x)<ke&&y(r-l.circle.cy)<ke;)i=l.P,s.unshift(l),xo(l),l=i;s.unshift(l),jo(l);for(var u=a;u.circle&&y(n-u.circle.x)<ke&&y(r-u.circle.cy)<ke;)a=u.N,s.push(u),xo(u),u=a;s.push(u),jo(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],Po(u.edge,l.site,u.site,o);l=s[0],(u=s[d-1]).edge=Ro(l.site,u.site,null,o),Co(l),Co(u)}function ko(e){for(var t,n,r,o,i=e.x,a=e.y,s=po._;s;)if((r=Eo(s,a)-i)>ke)s=s.L;else{if(!((o=i-To(s,a))>ke)){r>-ke?(t=s.P,n=s):o>-ke?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=_o(e);if(po.insert(t,l),t||n){if(t===n)return jo(t),n=_o(t.site),po.insert(l,n),l.edge=n.edge=Ro(t.site,l.site),Co(t),void Co(n);if(n){jo(t),jo(n);var u=t.site,c=u.x,d=u.y,f=e.x-c,h=e.y-d,p=n.site,m=p.x-c,g=p.y-d,v=2*(f*g-h*m),y=f*f+h*h,b=m*m+g*g,_={x:(g*y-h*b)/v+c,y:(f*b-m*y)/v+d};Po(n.edge,u,p,_),l.edge=Ro(u,e,null,_),n.edge=Ro(e,p,null,_),Co(t),Co(n)}else l.edge=Ro(t.site,l.site)}}function Eo(e,t){var n=e.site,r=n.x,o=n.y,i=o-t;if(!i)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-t;if(!u)return s;var c=s-r,d=1/i-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+o-i/2)))/d+r:(r+s)/2}function To(e,t){var n=e.N;if(n)return Eo(n,t);var r=e.site;return r.y===t?r.x:1/0}function Ao(e){this.site=e,this.edges=[]}function So(e,t){return t.angle-e.angle}function Mo(){Lo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Co(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,i=n.site;if(r!==i){var a=o.x,s=o.y,l=r.x-a,u=r.y-s,c=i.x-a,d=i.y-s,f=2*(l*d-u*c);if(!(f>=-Ee)){var h=l*l+u*u,p=c*c+d*d,m=(d*h-u*p)/f,g=(l*p-c*h)/f,d=g+s,v=yo.pop()||new Mo;v.arc=e,v.site=o,v.x=m+a,v.y=d+Math.sqrt(m*m+g*g),v.cy=d,e.circle=v;for(var y=null,b=go._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}go.insert(y,v),y||(mo=v)}}}}function jo(e){var t=e.circle;t&&(t.P||(mo=t.N),go.remove(t),yo.push(t),Lo(t),e.circle=null)}function Oo(e,t){var n=e.b;if(n)return!0;var r,o,i=e.a,a=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,d=e.r,f=c.x,h=c.y,p=d.x,m=d.y,g=(f+p)/2,v=(h+m)/2;if(m===h){if(g<a||g>=s)return;if(f>p){if(i){if(i.y>=u)return}else i={x:g,y:l};n={x:g,y:u}}else{if(i){if(i.y<l)return}else i={x:g,y:u};n={x:g,y:l}}}else if(o=v-(r=(f-p)/(m-h))*g,r<-1||r>1)if(f>p){if(i){if(i.y>=u)return}else i={x:(l-o)/r,y:l};n={x:(u-o)/r,y:u}}else{if(i){if(i.y<l)return}else i={x:(u-o)/r,y:u};n={x:(l-o)/r,y:l}}else if(h<m){if(i){if(i.x>=s)return}else i={x:a,y:r*a+o};n={x:s,y:r*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:r*s+o};n={x:a,y:r*a+o}}return e.a=i,e.b=n,!0}function No(e,t){this.l=e,this.r=t,this.a=this.b=null}function Ro(e,t,n,r){var o=new No(e,t);return fo.push(o),n&&Po(o,e,t,n),r&&Po(o,t,e,r),ho[e.i].edges.push(new Io(o,e,t)),ho[t.i].edges.push(new Io(o,t,e)),o}function Po(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Io(e,t,n){var r=e.a,o=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function Do(){this._=null}function Lo(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Bo(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Fo(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function zo(e){for(;e.L;)e=e.L;return e}function Uo(e,t){var n,r,o,i=e.sort(qo).pop();for(fo=[],ho=new Array(e.length),po=new Do,go=new Do;;)if(o=mo,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(ho[i.i]=new Ao(i),ko(i),n=i.x,r=i.y),i=e.pop();else{if(!o)break;wo(o.arc)}t&&(function(e){for(var t,n=fo,r=or(e[0][0],e[0][1],e[1][0],e[1][1]),o=n.length;o--;)(!Oo(t=n[o],e)||!r(t)||y(t.a.x-t.b.x)<ke&&y(t.a.y-t.b.y)<ke)&&(t.a=t.b=null,n.splice(o,1))}(t),function(e){for(var t,n,r,o,i,a,s,l,u,c,d=e[0][0],f=e[1][0],h=e[0][1],p=e[1][1],m=ho,g=m.length;g--;)if((i=m[g])&&i.prepare())for(s=i.edges,l=s.length,a=0;a<l;)c=s[a].end(),r=c.x,o=c.y,u=s[++a%l].start(),t=u.x,n=u.y,(y(r-t)>ke||y(o-n)>ke)&&(s.splice(a,0,new Io((v=i.site,b=c,_=y(r-d)<ke&&p-o>ke?{x:d,y:y(t-d)<ke?n:p}:y(o-p)<ke&&f-r>ke?{x:y(n-p)<ke?t:f,y:p}:y(r-f)<ke&&o-h>ke?{x:f,y:y(t-f)<ke?n:h}:y(o-h)<ke&&r-d>ke?{x:y(n-h)<ke?t:d,y:h}:null,x=void 0,(x=new No(v,null)).a=b,x.b=_,fo.push(x),x),i.site,null)),++l);var v,b,_,x}(t));var a={cells:ho,edges:fo};return po=go=fo=ho=null,a}function qo(e,t){return t.y-e.y||t.x-e.x}Ao.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(So),t.length},Io.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Do.prototype={insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=zo(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(Bo(this,n),n=(e=n).U),n.C=!1,r.C=!0,Fo(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(Fo(this,n),n=(e=n).U),n.C=!1,r.C=!0,Bo(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,a=e.R;if(n=i?a?zo(a):i:a,o?o.L===e?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=a,a.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,Bo(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Fo(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,Bo(this,o),e=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,Fo(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Bo(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,Fo(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}},e.geom.voronoi=function(e){var t=ro,n=oo,r=t,o=n,i=Vo;if(e)return a(e);function a(e){var t=new Array(e.length),n=i[0][0],r=i[0][1],o=i[1][0],a=i[1][1];return Uo(s(e),i).cells.forEach(function(i,s){var l=i.edges,u=i.site,c=t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=n&&u.x<=o&&u.y>=r&&u.y<=a?[[n,a],[o,a],[o,r],[n,r]]:[];c.point=e[s]}),t}function s(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/ke)*ke,y:Math.round(o(e,t)/ke)*ke,i:t}})}return a.links=function(e){return Uo(s(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},a.triangles=function(e){var t=[];return Uo(s(e)).cells.forEach(function(n,r){for(var o,i,a,s,l=n.site,u=n.edges.sort(So),c=-1,d=u.length,f=u[d-1].edge,h=f.l===l?f.r:f.l;++c<d;)o=h,f=u[c].edge,h=f.l===l?f.r:f.l,r<o.i&&r<h.i&&(a=o,s=h,((i=l).x-s.x)*(a.y-i.y)-(i.x-a.x)*(s.y-i.y)<0)&&t.push([e[r],e[o.i],e[h.i]])}),t},a.x=function(e){return arguments.length?(r=gt(t=e),a):t},a.y=function(e){return arguments.length?(o=gt(n=e),a):n},a.clipExtent=function(e){return arguments.length?(i=null==e?Vo:e,a):i===Vo?null:i},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):i===Vo?null:i&&i[1]},a};var Vo=[[-1e6,-1e6],[1e6,1e6]];function Ho(e){return e.x}function Wo(e){return e.y}function Go(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,o=t.g,i=t.b,a=n.r-r,s=n.g-o,l=n.b-i;return function(e){return"#"+ut(Math.round(r+a*e))+ut(Math.round(o+s*e))+ut(Math.round(i+l*e))}}function Xo(e,t){var n,r={},o={};for(n in e)n in t?r[n]=Qo(e[n],t[n]):o[n]=e[n];for(n in t)n in e||(o[n]=t[n]);return function(e){for(n in r)o[n]=r[n](e);return o}}function Ko(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Yo(e,t){var n,r,o,i=$o.lastIndex=Zo.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=$o.exec(e))&&(r=Zo.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Ko(n,r)})),i=Zo.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,r,o){var i,a=ro,s=oo;if(i=arguments.length)return a=Ho,s=Wo,3===i&&(o=n,r=t,n=t=0),l(e);function l(e){var l,u,c,d,f,h,p,m,g,v=gt(a),b=gt(s);if(null!=t)h=t,p=n,m=r,g=o;else if(m=g=-(h=p=1/0),u=[],c=[],f=e.length,i)for(d=0;d<f;++d)(l=e[d]).x<h&&(h=l.x),l.y<p&&(p=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),u.push(l.x),c.push(l.y);else for(d=0;d<f;++d){var _=+v(l=e[d],d),x=+b(l,d);_<h&&(h=_),x<p&&(p=x),_>m&&(m=_),x>g&&(g=x),u.push(_),c.push(x)}var w=m-h,k=g-p;function E(e,t,n,r,o,i,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(y(l-n)+y(u-r)<.01)T(e,t,n,r,o,i,a,s);else{var c=e.point;e.x=e.y=e.point=null,T(e,c,l,u,o,i,a,s),T(e,t,n,r,o,i,a,s)}else e.x=n,e.y=r,e.point=t}else T(e,t,n,r,o,i,a,s)}function T(e,t,n,r,o,i,a,s){var l=.5*(o+a),u=.5*(i+s),c=n>=l,d=r>=u,f=d<<1|c;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),c?o=l:a=l,d?i=u:s=u,E(e,t,n,r,o,i,a,s)}w>k?g=p+w:m=h+k;var A={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){E(A,e,+v(e,++d),+b(e,d),h,p,m,g)},visit:function(e){!function e(t,n,r,o,i,a){if(!t(n,r,o,i,a)){var s=.5*(r+i),l=.5*(o+a),u=n.nodes;u[0]&&e(t,u[0],r,o,s,l),u[1]&&e(t,u[1],s,o,i,l),u[2]&&e(t,u[2],r,l,s,a),u[3]&&e(t,u[3],s,l,i,a)}}(e,A,h,p,m,g)},find:function(e){return function(e,t,n,r,o,i,a){var s,l=1/0;return function e(u,c,d,f,h){if(!(c>i||d>a||f<r||h<o)){if(p=u.point){var p,m=t-u.x,g=n-u.y,v=m*m+g*g;if(v<l){var y=Math.sqrt(l=v);r=t-y,o=n-y,i=t+y,a=n+y,s=p}}for(var b=u.nodes,_=.5*(c+f),x=.5*(d+h),w=(n>=x)<<1|t>=_,k=w+4;w<k;++w)if(u=b[3&w])switch(3&w){case 0:e(u,c,d,_,x);break;case 1:e(u,_,d,f,x);break;case 2:e(u,c,x,_,h);break;case 3:e(u,_,x,f,h)}}}(e,r,o,i,a),s}(A,e[0],e[1],h,p,m,g)}};if(d=-1,null==t){for(;++d<f;)E(A,e[d],u[d],c[d],h,p,m,g);--d}else e.forEach(A.add);return u=c=e=l=null,A}return l.x=function(e){return arguments.length?(a=e,l):a},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=r=o=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),l):null==t?null:[[t,n],[r,o]]},l.size=function(e){return arguments.length?(null==e?t=n=r=o=null:(t=n=0,r=+e[0],o=+e[1]),l):null==t?null:[r-t,o-n]},l},e.interpolateRgb=Go,e.interpolateObject=Xo,e.interpolateNumber=Ko,e.interpolateString=Yo;var $o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zo=new RegExp($o.source,"g");function Qo(t,n){for(var r,o=e.interpolators.length;--o>=0&&!(r=e.interpolators[o](t,n)););return r}function Jo(e,t){var n,r=[],o=[],i=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(Qo(e[n],t[n]));for(;n<i;++n)o[n]=e[n];for(;n<a;++n)o[n]=t[n];return function(e){for(n=0;n<s;++n)o[n]=r[n](e);return o}}e.interpolate=Qo,e.interpolators=[function(e,t){var n=typeof t;return("string"===n?mt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Go:Yo:t instanceof Ue?Go:Array.isArray(t)?Jo:"object"===n&&isNaN(t)?Xo:Ko)(e,t)}],e.interpolateArray=Jo;var ei=function(){return O},ti=e.map({linear:ei,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return ii},cubic:function(){return ai},sin:function(){return li},exp:function(){return ui},circle:function(){return ci},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ae*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ae/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return di}}),ni=e.map({in:O,out:ri,"in-out":oi,"out-in":function(e){return oi(ri(e))}});function ri(e){return function(t){return 1-e(1-t)}}function oi(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function ii(e){return e*e}function ai(e){return e*e*e}function si(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function li(e){return 1-Math.cos(e*Me)}function ui(e){return Math.pow(2,10*(e-1))}function ci(e){return 1-Math.sqrt(1-e*e)}function di(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function fi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function hi(e){var t,n,r,o=[e.a,e.b],i=[e.c,e.d],a=mi(o),s=pi(o,i),l=mi(((t=i)[0]+=(r=-s)*(n=o)[0],t[1]+=r*n[1],t))||0;o[0]*i[1]<i[0]*o[1]&&(o[0]*=-1,o[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(o[1],o[0]):Math.atan2(-i[0],i[1]))*je,this.translate=[e.e,e.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*je:0}function pi(e,t){return e[0]*t[0]+e[1]*t[1]}function mi(e){var t=Math.sqrt(pi(e,e));return t&&(e[0]/=t,e[1]/=t),t}e.ease=function(e){var t,r=e.indexOf("-"),o=r>=0?e.slice(0,r):e,i=r>=0?e.slice(r+1):"in";return o=ti.get(o)||ei,i=ni.get(i)||O,t=i(o.apply(null,n.call(arguments,1))),function(e){return e<=0?0:e>=1?1:t(e)}},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,o=t.c,i=t.l,a=n.h-r,s=n.c-o,l=n.l-i;return isNaN(s)&&(s=0,o=isNaN(o)?n.c:o),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(e){return Xe(r+a*e,o+s*e,i+l*e)+""}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,o=t.s,i=t.l,a=n.h-r,s=n.s-o,l=n.l-i;return isNaN(s)&&(s=0,o=isNaN(o)?n.s:o),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(e){return He(r+a*e,o+s*e,i+l*e)+""}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,o=t.a,i=t.b,a=n.l-r,s=n.a-o,l=n.b-i;return function(e){return et(r+a*e,o+s*e,i+l*e)+""}},e.interpolateRound=fi,e.transform=function(t){var n=o.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new hi(t?t.matrix:gi)})(t)},hi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gi={a:1,b:0,c:0,d:1,e:0,f:0};function vi(e){return e.length?e.pop()+",":""}function yi(t,n){var r=[],o=[];return t=e.transform(t),n=e.transform(n),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var o=n.push("translate(",null,",",null,")");r.push({i:o-4,x:Ko(e[0],t[0])},{i:o-2,x:Ko(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(t.translate,n.translate,r,o),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(vi(n)+"rotate(",null,")")-2,x:Ko(e,t)})):t&&n.push(vi(n)+"rotate("+t+")")}(t.rotate,n.rotate,r,o),function(e,t,n,r){e!==t?r.push({i:n.push(vi(n)+"skewX(",null,")")-2,x:Ko(e,t)}):t&&n.push(vi(n)+"skewX("+t+")")}(t.skew,n.skew,r,o),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var o=n.push(vi(n)+"scale(",null,",",null,")");r.push({i:o-4,x:Ko(e[0],t[0])},{i:o-2,x:Ko(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(vi(n)+"scale("+t+")")}(t.scale,n.scale,r,o),t=n=null,function(e){for(var t,n=-1,i=o.length;++n<i;)r[(t=o[n]).i]=t.x(e);return r.join("")}}function bi(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function _i(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function xi(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;for(var n=wi(e),r=wi(t),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}(t,n),o=[t];t!==r;)t=t.parent,o.push(t);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function wi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function ki(e){e.fixed|=2}function Ei(e){e.fixed&=-7}function Ti(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Ai(e){e.fixed&=-5}e.interpolateTransform=yi,e.layout={},e.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(xi(e[n]));return t}},e.layout.chord=function(){var t,n,r,o,i,a,s,l={},u=0;function c(){var l,c,f,h,p,m={},g=[],v=e.range(o),y=[];for(t=[],n=[],l=0,h=-1;++h<o;){for(c=0,p=-1;++p<o;)c+=r[h][p];g.push(c),y.push(e.range(o)),l+=c}for(i&&v.sort(function(e,t){return i(g[e],g[t])}),a&&y.forEach(function(e,t){e.sort(function(e,n){return a(r[t][e],r[t][n])})}),l=(Ae-u*o)/l,c=0,h=-1;++h<o;){for(f=c,p=-1;++p<o;){var b=v[h],_=y[b][p],x=r[b][_],w=c,k=c+=x*l;m[b+"-"+_]={index:b,subindex:_,startAngle:w,endAngle:k,value:x}}n[b]={index:b,startAngle:f,endAngle:c,value:g[b]},c+=u}for(h=-1;++h<o;)for(p=h-1;++p<o;){var E=m[h+"-"+p],T=m[p+"-"+h];(E.value||T.value)&&t.push(E.value<T.value?{source:T,target:E}:{source:E,target:T})}s&&d()}function d(){t.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return l.matrix=function(e){return arguments.length?(o=(r=e)&&r.length,t=n=null,l):r},l.padding=function(e){return arguments.length?(u=e,t=n=null,l):u},l.sortGroups=function(e){return arguments.length?(i=e,t=n=null,l):i},l.sortSubgroups=function(e){return arguments.length?(a=e,t=null,l):a},l.sortChords=function(e){return arguments.length?(s=e,t&&d(),l):s},l.chords=function(){return t||c(),t},l.groups=function(){return n||c(),n},l},e.layout.force=function(){var t,n,r,o,i,a,s={},l=e.dispatch("start","tick","end"),u=[1,1],c=.9,d=Si,f=Mi,h=-30,p=Ci,m=.1,g=.64,v=[],y=[];function b(e){return function(t,n,r,o){if(t.point!==e){var i=t.cx-e.x,a=t.cy-e.y,s=o-n,l=i*i+a*a;if(s*s/g<l){if(l<p){var u=t.charge/l;e.px-=i*u,e.py-=a*u}return!0}if(t.point&&l&&l<p){var u=t.pointCharge/l;e.px-=i*u,e.py-=a*u}}return!t.charge}}function _(t){t.px=e.event.x,t.py=e.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var n,s,d,f,p,g,_,x,w,k=v.length,E=y.length;for(s=0;s<E;++s)d=y[s],f=d.source,p=d.target,x=p.x-f.x,w=p.y-f.y,(g=x*x+w*w)&&(g=r*i[s]*((g=Math.sqrt(g))-o[s])/g,x*=g,w*=g,p.x-=x*(_=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=w*_,f.x+=x*(_=1-_),f.y+=w*_);if((_=r*m)&&(x=u[0]/2,w=u[1]/2,s=-1,_))for(;++s<k;)(d=v[s]).x+=(x-d.x)*_,d.y+=(w-d.y)*_;if(h)for(function e(t,n,r){var o=0,i=0;if(t.charge=0,!t.leaf)for(var a,s=t.nodes,l=s.length,u=-1;++u<l;)null!=(a=s[u])&&(e(a,n,r),t.charge+=a.charge,o+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*r[t.point.index];t.charge+=t.pointCharge=c,o+=c*t.point.x,i+=c*t.point.y}t.cx=o/t.charge,t.cy=i/t.charge}(n=e.geom.quadtree(v),r,a),s=-1;++s<k;)(d=v[s]).fixed||n.visit(b(d));for(s=-1;++s<k;)(d=v[s]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*c,d.y-=(d.py-(d.py=d.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):e>0&&(l.start({type:"start",alpha:r=e}),t=Et(s.tick)),s):r},s.start=function(){var e,t,n,r=v.length,l=y.length,c=u[0],p=u[1];for(e=0;e<r;++e)(n=v[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=y[e]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)n=v[e],isNaN(n.x)&&(n.x=m("x",c)),isNaN(n.y)&&(n.y=m("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(o=[],"function"==typeof d)for(e=0;e<l;++e)o[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)o[e]=d;if(i=[],"function"==typeof f)for(e=0;e<l;++e)i[e]=+f.call(this,y[e],e);else for(e=0;e<l;++e)i[e]=f;if(a=[],"function"==typeof h)for(e=0;e<r;++e)a[e]=+h.call(this,v[e],e);else for(e=0;e<r;++e)a[e]=h;function m(n,o){if(!t){for(t=new Array(r),u=0;u<r;++u)t[u]=[];for(u=0;u<l;++u){var i=y[u];t[i.source.index].push(i.target),t[i.target.index].push(i.source)}}for(var a,s=t[e],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][n]))return a;return Math.random()*o}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=e.behavior.drag().origin(O).on("dragstart.force",ki).on("drag.force",_).on("dragend.force",Ei)),!arguments.length)return n;this.on("mouseover.force",Ti).on("mouseout.force",Ai).call(n)},e.rebind(s,l,"on")};var Si=20,Mi=1,Ci=1/0;function ji(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Di,t}function Oi(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(o=e.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function Ni(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(i=e.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(e=r.pop());)t(e)}function Ri(e){return e.children}function Pi(e){return e.value}function Ii(e,t){return t.value-e.value}function Di(t){return e.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}e.layout.hierarchy=function(){var e=Ii,t=Ri,n=Pi;function r(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(u=t.call(r,i,i.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=i,c.depth=i.depth+1;n&&(i.value=0),i.children=u}else n&&(i.value=+n.call(r,i,i.depth)||0),delete i.children;return Ni(o,function(t){var r,o;e&&(r=t.children)&&r.sort(e),n&&(o=t.parent)&&(o.value+=t.value)}),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(Oi(e,function(e){e.children&&(e.value=0)}),Ni(e,function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},r},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function r(e,r){var o=t.call(this,e,r);return function e(t,n,r,o){var i=t.children;if(t.x=n,t.y=t.depth*o,t.dx=r,t.dy=o,i&&(a=i.length)){var a,s,l,u=-1;for(r=t.value?r/t.value:0;++u<a;)e(s=i[u],n,l=s.value*r,o),n+=l}}(o[0],0,n[0],n[1]/function e(t){var n=t.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,e(n[i]));return 1+r}(o[0])),o}return r.size=function(e){return arguments.length?(n=e,r):n},ji(r,t)},e.layout.pie=function(){var t=Number,n=Li,r=0,o=Ae,i=0;function a(s){var l,u=s.length,c=s.map(function(e,n){return+t.call(a,e,n)}),d=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof o?o.apply(this,arguments):o)-d,h=Math.min(Math.abs(f)/u,+("function"==typeof i?i.apply(this,arguments):i)),p=h*(f<0?-1:1),m=e.sum(c),g=m?(f-u*p)/m:0,v=e.range(u),y=[];return null!=n&&v.sort(n===Li?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),v.forEach(function(e){y[e]={data:s[e],value:l=c[e],startAngle:d,endAngle:d+=l*g+p,padAngle:h}}),y}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(e){return arguments.length?(n=e,a):n},a.startAngle=function(e){return arguments.length?(r=e,a):r},a.endAngle=function(e){return arguments.length?(o=e,a):o},a.padAngle=function(e){return arguments.length?(i=e,a):i},a};var Li={};function Bi(e){return e.x}function Fi(e){return e.y}function zi(e,t,n){e.y0=t,e.y=n}e.layout.stack=function(){var t=O,n=Vi,r=Hi,o=zi,i=Bi,a=Fi;function s(l,u){if(!(h=l.length))return l;var c=l.map(function(e,n){return t.call(s,e,n)}),d=c.map(function(e){return e.map(function(e,t){return[i.call(s,e,t),a.call(s,e,t)]})}),f=n.call(s,d,u);c=e.permute(c,f),d=e.permute(d,f);var h,p,m,g,v=r.call(s,d,u),y=c[0].length;for(m=0;m<y;++m)for(o.call(s,c[0][m],g=v[m],d[0][m][1]),p=1;p<h;++p)o.call(s,c[p][m],g+=d[p-1][m][1],d[p][m][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(e){return arguments.length?(n="function"==typeof e?e:Ui.get(e)||Vi,s):n},s.offset=function(e){return arguments.length?(r="function"==typeof e?e:qi.get(e)||Hi,s):r},s.x=function(e){return arguments.length?(i=e,s):i},s.y=function(e){return arguments.length?(a=e,s):a},s.out=function(e){return arguments.length?(o=e,s):o},s};var Ui=e.map({"inside-out":function(t){var n,r,o=t.length,i=t.map(Wi),a=t.map(Gi),s=e.range(o).sort(function(e,t){return i[e]-i[t]}),l=0,u=0,c=[],d=[];for(n=0;n<o;++n)r=s[n],l<u?(l+=a[r],c.push(r)):(u+=a[r],d.push(r));return d.reverse().concat(c)},reverse:function(t){return e.range(t.length).reverse()},default:Vi}),qi=e.map({silhouette:function(e){var t,n,r,o=e.length,i=e[0].length,a=[],s=0,l=[];for(n=0;n<i;++n){for(t=0,r=0;t<o;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<i;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,r,o,i,a,s,l,u,c=e.length,d=e[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;n<f;++n){for(t=0,o=0;t<c;++t)o+=e[t][n][1];for(t=0,i=0,s=d[n][0]-d[n-1][0];t<c;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;i+=a*e[t][n][1]}h[n]=l-=o?i/o*s:0,l<u&&(u=l)}for(n=0;n<f;++n)h[n]-=u;return h},expand:function(e){var t,n,r,o=e.length,i=e[0].length,a=1/o,s=[];for(n=0;n<i;++n){for(t=0,r=0;t<o;t++)r+=e[t][n][1];if(r)for(t=0;t<o;t++)e[t][n][1]/=r;else for(t=0;t<o;t++)e[t][n][1]=a}for(n=0;n<i;++n)s[n]=0;return s},zero:Hi});function Vi(t){return e.range(t.length)}function Hi(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Wi(e){for(var t,n=1,r=0,o=e[0][1],i=e.length;n<i;++n)(t=e[n][1])>o&&(r=n,o=t);return r}function Gi(e){return e.reduce(Xi,0)}function Xi(e,t){return e+t[1]}function Ki(e,t){return Yi(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Yi(e,t){for(var n=-1,r=+e[0],o=(e[1]-r)/t,i=[];++n<=t;)i[n]=o*n+r;return i}function $i(t){return[e.min(t),e.max(t)]}function Zi(e,t){return e.value-t.value}function Qi(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ji(e,t){e._pack_next=t,t._pack_prev=e}function ea(e,t){var n=t.x-e.x,r=t.y-e.y,o=e.r+t.r;return.999*o*o>n*n+r*r}function ta(e){if((t=e.children)&&(l=t.length)){var t,n,r,o,i,a,s,l,u=1/0,c=-1/0,d=1/0,f=-1/0;if(t.forEach(na),(n=t[0]).x=-n.r,n.y=0,b(n),l>1&&((r=t[1]).x=r.r,r.y=0,b(r),l>2))for(o=t[2],oa(n,r,o),b(o),Qi(n,o),n._pack_prev=o,Qi(o,r),r=n._pack_next,i=3;i<l;i++){oa(n,r,o=t[i]);var h=0,p=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(ea(a,o)){h=1;break}if(1==h)for(s=n._pack_prev;s!==a._pack_prev&&!ea(s,o);s=s._pack_prev,m++);h?(p<m||p==m&&r.r<n.r?Ji(n,r=a):Ji(n=s,r),i--):(Qi(n,o),r=o,b(o))}var g=(u+c)/2,v=(d+f)/2,y=0;for(i=0;i<l;i++)(o=t[i]).x-=g,o.y-=v,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=y,t.forEach(ra)}function b(e){u=Math.min(e.x-e.r,u),c=Math.max(e.x+e.r,c),d=Math.min(e.y-e.r,d),f=Math.max(e.y+e.r,f)}}function na(e){e._pack_next=e._pack_prev=e}function ra(e){delete e._pack_next,delete e._pack_prev}function oa(e,t,n){var r=e.r+n.r,o=t.x-e.x,i=t.y-e.y;if(r&&(o||i)){var a=t.r+n.r,s=o*o+i*i,l=.5+((r*=r)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+l*o+u*i,n.y=e.y+l*i-u*o}else n.x=e.x+r,n.y=e.y}function ia(e,t){return e.parent==t.parent?1:2}function aa(e){var t=e.children;return t.length?t[0]:e.t}function sa(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function la(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ua(e,t,n){return e.a.parent===t.parent?e.a:n}function ca(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function da(e,t){var n=e.x+t[3],r=e.y+t[0],o=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];return o<0&&(n+=o/2,o=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function fa(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ha(e){return e.rangeExtent?e.rangeExtent():fa(e.range())}function pa(e,t,n,r){var o=n(e[0],e[1]),i=r(t[0],t[1]);return function(e){return i(o(e))}}function ma(e,t){var n,r=0,o=e.length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function ga(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:va}e.layout.histogram=function(){var t=!0,n=Number,r=$i,o=Ki;function i(i,a){for(var s,l,u=[],c=i.map(n,this),d=r.call(this,c,a),f=o.call(this,d,c,a),a=-1,h=c.length,p=f.length-1,m=t?1:1/h;++a<p;)(s=u[a]=[]).dx=f[a+1]-(s.x=f[a]),s.y=0;if(p>0)for(a=-1;++a<h;)(l=c[a])>=d[0]&&l<=d[1]&&((s=u[e.bisect(f,l,1,p)-1]).y+=m,s.push(i[a]));return u}return i.value=function(e){return arguments.length?(n=e,i):n},i.range=function(e){return arguments.length?(r=gt(e),i):r},i.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return Yi(t,e)}:gt(e),i):o},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(Zi),r=0,o=[1,1];function i(e,i){var a=n.call(this,e,i),s=a[0],l=o[0],u=o[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Ni(s,function(e){e.r=+c(e.value)}),Ni(s,ta),r){var d=r*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;Ni(s,function(e){e.r+=d}),Ni(s,ta),Ni(s,function(e){e.r-=d})}return function e(t,n,r,o){var i=t.children;if(t.x=n+=o*t.x,t.y=r+=o*t.y,t.r*=o,i)for(var a=-1,s=i.length;++a<s;)e(i[a],n,r,o)}(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),a}return i.size=function(e){return arguments.length?(o=e,i):o},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(e){return arguments.length?(r=+e,i):r},ji(i,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ia,r=[1,1],o=null;function i(e,i){var u=t.call(this,e,i),c=u[0],d=function(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var o,i=t.children,a=0,s=i.length;a<s;++a)r.push((i[a]=o={_:i[a],parent:t,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}(c);if(Ni(d,a),d.parent.m=-d.z,Oi(d,s),o)Oi(c,l);else{var f=c,h=c,p=c;Oi(c,function(e){e.x<f.x&&(f=e),e.x>h.x&&(h=e),e.depth>p.depth&&(p=e)});var m=n(f,h)/2-f.x,g=r[0]/(h.x+n(h,f)/2+m),v=r[1]/(p.depth||1);Oi(c,function(e){e.x=(e.x+m)*g,e.y=e.depth*v})}return u}function a(e){var t=e.children,r=e.parent.children,o=e.i?r[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,o=e.children,i=o.length;--i>=0;)(t=o[i]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var i=(t[0].z+t[t.length-1].z)/2;o?(e.z=o.z+n(e._,o._),e.m=e.z-i):e.z=i}else o&&(e.z=o.z+n(e._,o._));e.parent.A=function(e,t,r){if(t){for(var o,i=e,a=e,s=t,l=i.parent.children[0],u=i.m,c=a.m,d=s.m,f=l.m;s=sa(s),i=aa(i),s&&i;)l=aa(l),(a=sa(a)).a=e,(o=s.z+d-i.z-u+n(s._,i._))>0&&(la(ua(s,e,r),e,o),u+=o,c+=o),d+=s.m,u+=i.m,f+=l.m,c+=a.m;s&&!sa(a)&&(a.t=s,a.m+=d-c),i&&!aa(l)&&(l.t=i,l.m+=u-f,r=e)}return r}(e,o,e.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=r[0],e.y=e.depth*r[1]}return i.separation=function(e){return arguments.length?(n=e,i):n},i.size=function(e){return arguments.length?(o=null==(r=e)?l:null,i):o?null:r},i.nodeSize=function(e){return arguments.length?(o=null==(r=e)?null:l,i):o?r:null},ji(i,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ia,r=[1,1],o=!1;function i(i,a){var s,l=t.call(this,i,a),u=l[0],c=0;Ni(u,function(t){var r=t.children;r&&r.length?(t.x=function(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}(r),t.y=function(t){return 1+e.max(t,function(e){return e.y})}(r)):(t.x=s?c+=n(t,s):0,t.y=0,s=t)});var d=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(u),f=function e(t){var n,r=t.children;return r&&(n=r.length)?e(r[n-1]):t}(u),h=d.x-n(d,f)/2,p=f.x+n(f,d)/2;return Ni(u,o?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),l}return i.separation=function(e){return arguments.length?(n=e,i):n},i.size=function(e){return arguments.length?(o=null==(r=e),i):o?null:r},i.nodeSize=function(e){return arguments.length?(o=null!=(r=e),i):o?r:null},ji(i,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),r=Math.round,o=[1,1],i=null,a=ca,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,o=-1,i=e.length;++o<i;)r=(n=e[o]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function d(e){var t=e.children;if(t&&t.length){var n,r,o,i=a(e),s=[],u=t.slice(),f=1/0,m="slice"===l?i.dx:"dice"===l?i.dy:"slice-dice"===l?1&e.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(c(u,i.dx*i.dy/e.value),s.area=0;(o=u.length)>0;)s.push(n=u[o-1]),s.area+=n.area,"squarify"!==l||(r=h(s,m))<=f?(u.pop(),f=r):(s.area-=s.pop().area,p(s,m,i,!1),m=Math.min(i.dx,i.dy),s.length=s.area=0,f=1/0);s.length&&(p(s,m,i,!0),s.length=s.area=0),t.forEach(d)}}function f(e){var t=e.children;if(t&&t.length){var n,r=a(e),o=t.slice(),i=[];for(c(o,r.dx*r.dy/e.value),i.area=0;n=o.pop();)i.push(n),i.area+=n.area,null!=n.z&&(p(i,n.z?r.dx:r.dy,r,!o.length),i.length=i.area=0);t.forEach(f)}}function h(e,t){for(var n,r=e.area,o=0,i=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<i&&(i=n),n>o&&(o=n));return t*=t,(r*=r)?Math.max(t*o*u/r,r/(t*i*u)):1/0}function p(e,t,n,o){var i,a=-1,s=e.length,l=n.x,u=n.y,c=t?r(e.area/t):0;if(t==n.dx){for((o||c>n.dy)&&(c=n.dy);++a<s;)(i=e[a]).x=l,i.y=u,i.dy=c,l+=i.dx=Math.min(n.x+n.dx-l,c?r(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((o||c>n.dx)&&(c=n.dx);++a<s;)(i=e[a]).x=l,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?r(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function m(e){var r=t||n(e),i=r[0];return i.x=i.y=0,i.value?(i.dx=o[0],i.dy=o[1]):i.dx=i.dy=0,t&&n.revalue(i),c([i],i.dx*i.dy/i.value),(t?f:d)(i),s&&(t=r),r}return m.size=function(e){return arguments.length?(o=e,m):o},m.padding=function(e){if(!arguments.length)return i;function t(t){return da(t,e)}var n;return a=null==(i=e)?ca:"function"==(n=typeof e)?function(t){var n=e.call(m,t,t.depth);return null==n?ca(t):da(t,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(e=[e,e,e,e],t):t,m},m.round=function(e){return arguments.length?(r=e?Math.round:Number,m):r!=Number},m.sticky=function(e){return arguments.length?(s=e,t=null,m):s},m.ratio=function(e){return arguments.length?(u=e,m):u},m.mode=function(e){return arguments.length?(l=e+"",m):l},ji(m,n)},e.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,o;do{n=2*Math.random()-1,r=2*Math.random()-1,o=n*n+r*r}while(!o||o>1);return e+t*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},e.scale={};var va={floor:O,ceil:O};function ya(t,n,r,o){var i=[],a=[],s=0,l=Math.min(t.length,n.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<=l;)i.push(r(t[s-1],t[s])),a.push(o(n[s-1],n[s]));return function(n){var r=e.bisect(t,n,1,l)-1;return a[r](i[r](n))}}function ba(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function _a(e,t){return ma(e,ga(xa(e,t)[2])),ma(e,ga(xa(e,t)[2])),e}function xa(e,t){null==t&&(t=10);var n=fa(e),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function wa(t,n){return e.range.apply(e,xa(t,n))}function ka(t,n,r){var o=xa(t,n);if(r){var i=Ot.exec(r);if(i.shift(),"s"===i[8]){var a=e.formatPrefix(Math.max(y(o[0]),y(o[1])));return i[7]||(i[7]="."+Ta(a.scale(o[2]))),i[8]="f",r=e.format(i.join("")),function(e){return r(a.scale(e))+a.symbol}}i[7]||(i[7]="."+function(e,t){var n=Ta(t[2]);return e in Ea?Math.abs(n-Ta(Math.max(y(t[0]),y(t[1]))))+ +("e"!==e):n-2*("%"===e)}(i[8],o)),r=i.join("")}else r=",."+Ta(o[2])+"f";return e.format(r)}e.scale.linear=function(){return function e(t,n,r,o){var i,a;function s(){var e=Math.min(t.length,n.length)>2?ya:pa,s=o?_i:bi;return i=e(t,n,s,r),a=e(n,t,s,Qo),l}function l(e){return i(e)}return l.invert=function(e){return a(e)},l.domain=function(e){return arguments.length?(t=e.map(Number),s()):t},l.range=function(e){return arguments.length?(n=e,s()):n},l.rangeRound=function(e){return l.range(e).interpolate(fi)},l.clamp=function(e){return arguments.length?(o=e,s()):o},l.interpolate=function(e){return arguments.length?(r=e,s()):r},l.ticks=function(e){return wa(t,e)},l.tickFormat=function(e,n){return ka(t,e,n)},l.nice=function(e){return _a(t,e),s()},l.copy=function(){return e(t,n,r,o)},s()}([0,1],[0,1],Qo,!1)};var Ea={s:1,g:1,p:1,r:1,e:1};function Ta(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}e.scale.log=function(){return function t(n,r,o,i){function a(e){return(o?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(r)}function s(e){return o?Math.pow(r,e):-Math.pow(r,-e)}function l(e){return n(a(e))}return l.invert=function(e){return s(n.invert(e))},l.domain=function(e){return arguments.length?(o=e[0]>=0,n.domain((i=e.map(Number)).map(a)),l):i},l.base=function(e){return arguments.length?(r=+e,n.domain(i.map(a)),l):r},l.nice=function(){var e=ma(i.map(a),o?Math:Sa);return n.domain(e),i=e.map(s),l},l.ticks=function(){var e=fa(i),t=[],n=e[0],l=e[1],u=Math.floor(a(n)),c=Math.ceil(a(l)),d=r%1?2:r;if(isFinite(c-u)){if(o){for(;u<c;u++)for(var f=1;f<d;f++)t.push(s(u)*f);t.push(s(u))}else for(t.push(s(u));u++<c;)for(var f=d-1;f>0;f--)t.push(s(u)*f);for(u=0;t[u]<n;u++);for(c=t.length;t[c-1]>l;c--);t=t.slice(u,c)}return t},l.tickFormat=function(t,n){if(!arguments.length)return Aa;arguments.length<2?n=Aa:"function"!=typeof n&&(n=e.format(n));var o=Math.max(1,r*t/l.ticks().length);return function(e){var t=e/s(Math.round(a(e)));return t*r<r-.5&&(t*=r),t<=o?n(e):""}},l.copy=function(){return t(n.copy(),r,o,i)},ba(l,n)}(e.scale.linear().domain([0,1]),10,!0,[1,10])};var Aa=e.format(".0e"),Sa={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ma(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}e.scale.pow=function(){return function e(t,n,r){var o=Ma(n),i=Ma(1/n);function a(e){return t(o(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain((r=e.map(Number)).map(o)),a):r},a.ticks=function(e){return wa(r,e)},a.tickFormat=function(e,t){return ka(r,e,t)},a.nice=function(e){return a.domain(_a(r,e))},a.exponent=function(e){return arguments.length?(o=Ma(n=e),i=Ma(1/n),t.domain(r.map(o)),a):n},a.copy=function(){return e(t.copy(),n,r)},ba(a,t)}(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return function t(n,r){var o,i,a;function s(e){return i[((o.get(e)||("range"===r.t?o.set(e,n.push(e)):NaN))-1)%i.length]}function l(t,r){return e.range(n.length).map(function(e){return t+r*e})}return s.domain=function(e){if(!arguments.length)return n;n=[],o=new _;for(var t,i=-1,a=e.length;++i<a;)o.has(t=e[i])||o.set(t,n.push(t));return s[r.t].apply(s,r.a)},s.range=function(e){return arguments.length?(i=e,a=0,r={t:"range",a:arguments},s):i},s.rangePoints=function(e,t){arguments.length<2&&(t=0);var o=e[0],u=e[1],c=n.length<2?(o=(o+u)/2,0):(u-o)/(n.length-1+t);return i=l(o+c*t/2,c),a=0,r={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(e,t){arguments.length<2&&(t=0);var o=e[0],u=e[1],c=n.length<2?(o=u=Math.round((o+u)/2),0):(u-o)/(n.length-1+t)|0;return i=l(o+Math.round(c*t/2+(u-o-(n.length-1+t)*c)/2),c),a=0,r={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(e,t,o){arguments.length<2&&(t=0),arguments.length<3&&(o=t);var u=e[1]<e[0],c=e[u-0],d=e[1-u],f=(d-c)/(n.length-t+2*o);return i=l(c+f*o,f),u&&i.reverse(),a=f*(1-t),r={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(e,t,o){arguments.length<2&&(t=0),arguments.length<3&&(o=t);var u=e[1]<e[0],c=e[u-0],d=e[1-u],f=Math.floor((d-c)/(n.length-t+2*o));return i=l(c+Math.round((d-c-(n.length-t)*f)/2),f),u&&i.reverse(),a=Math.round(f*(1-t)),r={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return a},s.rangeExtent=function(){return fa(r.a[0])},s.copy=function(){return t(n,r)},s.domain(n)}([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(Ca)},e.scale.category20=function(){return e.scale.ordinal().range(ja)},e.scale.category20b=function(){return e.scale.ordinal().range(Oa)},e.scale.category20c=function(){return e.scale.ordinal().range(Na)};var Ca=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(st),ja=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(st),Oa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(st),Na=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(st);function Ra(){return 0}e.scale.quantile=function(){return function t(n,r){var o;function i(){var t=0,i=r.length;for(o=[];++t<i;)o[t-1]=e.quantile(n,t/i);return a}function a(t){if(!isNaN(t=+t))return r[e.bisect(o,t)]}return a.domain=function(e){return arguments.length?(n=e.map(h).filter(p).sort(f),i()):n},a.range=function(e){return arguments.length?(r=e,i()):r},a.quantiles=function(){return o},a.invertExtent=function(e){return(e=r.indexOf(e))<0?[NaN,NaN]:[e>0?o[e-1]:n[0],e<o.length?o[e]:n[n.length-1]]},a.copy=function(){return t(n,r)},i()}([],[])},e.scale.quantize=function(){return function e(t,n,r){var o,i;function a(e){return r[Math.max(0,Math.min(i,Math.floor(o*(e-t))))]}function s(){return o=r.length/(n-t),i=r.length-1,a}return a.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]},a.range=function(e){return arguments.length?(r=e,s()):r},a.invertExtent=function(e){return[e=(e=r.indexOf(e))<0?NaN:e/o+t,e+1/o]},a.copy=function(){return e(t,n,r)},s()}(0,1,[0,1])},e.scale.threshold=function(){return function t(n,r){function o(t){if(t<=t)return r[e.bisect(n,t)]}return o.domain=function(e){return arguments.length?(n=e,o):n},o.range=function(e){return arguments.length?(r=e,o):r},o.invertExtent=function(e){return e=r.indexOf(e),[n[e-1],n[e]]},o.copy=function(){return t(n,r)},o}([.5],[0,1])},e.scale.identity=function(){return function e(t){function n(e){return+e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(e){return wa(t,e)},n.tickFormat=function(e,n){return ka(t,e,n)},n.copy=function(){return e(t)},n}([0,1])},e.svg={},e.svg.arc=function(){var e=Ia,t=Da,n=Ra,r=Pa,o=La,i=Ba,a=Fa;function s(){var s=Math.max(0,+e.apply(this,arguments)),u=Math.max(0,+t.apply(this,arguments)),c=o.apply(this,arguments)-Me,d=i.apply(this,arguments)-Me,f=Math.abs(d-c),h=c>d?0:1;if(u<s&&(p=u,u=s,s=p),f>=Se)return l(u,h)+(s?l(s,1-h):"")+"Z";var p,m,g,v,y,b,_,x,w,k,E,T,A=0,S=0,M=[];if((v=(+a.apply(this,arguments)||0)/2)&&(g=r===Pa?Math.sqrt(s*s+u*u):+r.apply(this,arguments),h||(S*=-1),u&&(S=Pe(g/u*Math.sin(v))),s&&(A=Pe(g/s*Math.sin(v)))),u){y=u*Math.cos(c+S),b=u*Math.sin(c+S),_=u*Math.cos(d-S),x=u*Math.sin(d-S);var C=Math.abs(d-c-2*S)<=Te?0:1;if(S&&za(y,b,_,x)===h^C){var j=(c+d)/2;y=u*Math.cos(j),b=u*Math.sin(j),_=x=null}}else y=b=0;if(s){w=s*Math.cos(d-A),k=s*Math.sin(d-A),E=s*Math.cos(c+A),T=s*Math.sin(c+A);var O=Math.abs(c-d+2*A)<=Te?0:1;if(A&&za(w,k,E,T)===1-h^O){var N=(c+d)/2;w=s*Math.cos(N),k=s*Math.sin(N),E=T=null}}else w=k=0;if(f>ke&&(p=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){m=s<u^h?0:1;var R=p,P=p;if(f<Te){var I=null==E?[w,k]:null==_?[y,b]:uo([y,b],[E,T],[_,x],[w,k]),D=y-I[0],L=b-I[1],B=_-I[0],F=x-I[1],z=1/Math.sin(Math.acos((D*B+L*F)/(Math.sqrt(D*D+L*L)*Math.sqrt(B*B+F*F)))/2),U=Math.sqrt(I[0]*I[0]+I[1]*I[1]);P=Math.min(p,(s-U)/(z-1)),R=Math.min(p,(u-U)/(z+1))}if(null!=_){var q=Ua(null==E?[w,k]:[E,T],[y,b],u,R,h),V=Ua([_,x],[w,k],u,R,h);p===R?M.push("M",q[0],"A",R,",",R," 0 0,",m," ",q[1],"A",u,",",u," 0 ",1-h^za(q[1][0],q[1][1],V[1][0],V[1][1]),",",h," ",V[1],"A",R,",",R," 0 0,",m," ",V[0]):M.push("M",q[0],"A",R,",",R," 0 1,",m," ",V[0])}else M.push("M",y,",",b);if(null!=E){var H=Ua([y,b],[E,T],s,-P,h),W=Ua([w,k],null==_?[y,b]:[_,x],s,-P,h);p===P?M.push("L",W[0],"A",P,",",P," 0 0,",m," ",W[1],"A",s,",",s," 0 ",h^za(W[1][0],W[1][1],H[1][0],H[1][1]),",",1-h," ",H[1],"A",P,",",P," 0 0,",m," ",H[0]):M.push("L",W[0],"A",P,",",P," 0 0,",m," ",H[0])}else M.push("L",w,",",k)}else M.push("M",y,",",b),null!=_&&M.push("A",u,",",u," 0 ",C,",",h," ",_,",",x),M.push("L",w,",",k),null!=E&&M.push("A",s,",",s," 0 ",O,",",1-h," ",E,",",T);return M.push("Z"),M.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=gt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=gt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=gt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==Pa?Pa:gt(e),s):r},s.startAngle=function(e){return arguments.length?(o=gt(e),s):o},s.endAngle=function(e){return arguments.length?(i=gt(e),s):i},s.padAngle=function(e){return arguments.length?(a=gt(e),s):a},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Me;return[Math.cos(r)*n,Math.sin(r)*n]},s};var Pa="auto";function Ia(e){return e.innerRadius}function Da(e){return e.outerRadius}function La(e){return e.startAngle}function Ba(e){return e.endAngle}function Fa(e){return e&&e.padAngle}function za(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Ua(e,t,n,r,o){var i=e[0]-t[0],a=e[1]-t[1],s=(o?r:-r)/Math.sqrt(i*i+a*a),l=s*a,u=-s*i,c=e[0]+l,d=e[1]+u,f=t[0]+l,h=t[1]+u,p=(c+f)/2,m=(d+h)/2,g=f-c,v=h-d,y=g*g+v*v,b=n-r,_=c*h-f*d,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-_*_)),w=(_*v-g*x)/y,k=(-_*g-v*x)/y,E=(_*v+g*x)/y,T=(-_*g+v*x)/y,A=w-p,S=k-m,M=E-p,C=T-m;return A*A+S*S>M*M+C*C&&(w=E,k=T),[[w-l,k-u],[w*n/b,k*n/b]]}function qa(e){var t=ro,n=oo,r=Yn,o=Ha,i=o.key,a=.7;function s(i){var s,l=[],u=[],c=-1,d=i.length,f=gt(t),h=gt(n);function p(){l.push("M",o(e(u),a))}for(;++c<d;)r.call(this,s=i[c],c)?u.push([+f.call(this,s,c),+h.call(this,s,c)]):u.length&&(p(),u=[]);return u.length&&p(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(i="function"==typeof e?o=e:(o=Va.get(e)||Ha).key,s):i},s.tension=function(e){return arguments.length?(a=e,s):a},s}e.svg.line=function(){return qa(O)};var Va=e.map({linear:Ha,"linear-closed":Wa,step:function(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")},"step-before":Ga,"step-after":Xa,basis:$a,"basis-open":function(e){if(e.length<4)return Ha(e);for(var t,n=[],r=-1,o=e.length,i=[0],a=[0];++r<3;)t=e[r],i.push(t[0]),a.push(t[1]);for(n.push(Za(es,i)+","+Za(es,a)),--r;++r<o;)t=e[r],i.shift(),i.push(t[0]),a.shift(),a.push(t[1]),ts(n,i,a);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,o=e.length,i=o+4,a=[],s=[];++r<4;)n=e[r%o],a.push(n[0]),s.push(n[1]);for(t=[Za(es,a),",",Za(es,s)],--r;++r<i;)n=e[r%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),ts(t,a,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,o,i=e[0][0],a=e[0][1],s=e[n][0]-i,l=e[n][1]-a,u=-1;++u<=n;)r=e[u],o=u/n,r[0]=t*r[0]+(1-t)*(i+o*s),r[1]=t*r[1]+(1-t)*(a+o*l);return $a(e)},cardinal:function(e,t){return e.length<3?Ha(e):e[0]+Ka(e,Ya(e,t))},"cardinal-open":function(e,t){return e.length<4?Ha(e):e[1]+Ka(e.slice(1,-1),Ya(e,t))},"cardinal-closed":function(e,t){return e.length<3?Wa(e):e[0]+Ka((e.push(e[0]),e),Ya([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?Ha(e):e[0]+Ka(e,function(e){for(var t,n,r,o,i=[],a=function(e){for(var t=0,n=e.length-1,r=[],o=e[0],i=e[1],a=r[0]=ns(o,i);++t<n;)r[t]=(a+(a=ns(o=i,i=e[t+1])))/2;return r[t]=a,r}(e),s=-1,l=e.length-1;++s<l;)t=ns(e[s],e[s+1]),y(t)<ke?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,(o=n*n+r*r)>9&&(o=3*t/Math.sqrt(o),a[s]=o*n,a[s+1]=o*r));for(s=-1;++s<=l;)o=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}(e))}});function Ha(e){return e.length>1?e.join("L"):e+"Z"}function Wa(e){return e.join("L")+"Z"}function Ga(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("V",(r=e[t])[1],"H",r[0]);return o.join("")}function Xa(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("H",(r=e[t])[0],"V",r[1]);return o.join("")}function Ka(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Ha(e);var n=e.length!=t.length,r="",o=e[0],i=e[1],a=t[0],s=a,l=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=e[1],l=2),t.length>1){s=t[1],i=e[l],l++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var u=2;u<t.length;u++,l++)i=e[l],s=t[u],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var c=e[l];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Ya(e,t){for(var n,r=[],o=(1-t)/2,i=e[0],a=e[1],s=1,l=e.length;++s<l;)n=i,i=a,a=e[s],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function $a(e){if(e.length<3)return Ha(e);var t=1,n=e.length,r=e[0],o=r[0],i=r[1],a=[o,o,o,(r=e[1])[0]],s=[i,i,i,r[1]],l=[o,",",i,"L",Za(es,a),",",Za(es,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),ts(l,a,s);return e.pop(),l.push("L",r),l.join("")}function Za(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Va.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Qa=[0,2/3,1/3,0],Ja=[0,1/3,2/3,0],es=[0,1/6,2/3,1/6];function ts(e,t,n){e.push("C",Za(Qa,t),",",Za(Qa,n),",",Za(Ja,t),",",Za(Ja,n),",",Za(es,t),",",Za(es,n))}function ns(e,t){return(t[1]-e[1])/(t[0]-e[0])}function rs(e){for(var t,n,r,o=-1,i=e.length;++o<i;)t=e[o],n=t[0],r=t[1]-Me,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function os(e){var t=ro,n=ro,r=0,o=oo,i=Yn,a=Ha,s=a.key,l=a,u="L",c=.7;function d(s){var d,f,h,p=[],m=[],g=[],v=-1,y=s.length,b=gt(t),_=gt(r),x=t===n?function(){return f}:gt(n),w=r===o?function(){return h}:gt(o);function k(){p.push("M",a(e(g),c),u,l(e(m.reverse()),c),"Z")}for(;++v<y;)i.call(this,d=s[v],v)?(m.push([f=+b.call(this,d,v),h=+_.call(this,d,v)]),g.push([+x.call(this,d,v),+w.call(this,d,v)])):m.length&&(k(),m=[],g=[]);return m.length&&k(),p.length?p.join(""):null}return d.x=function(e){return arguments.length?(t=n=e,d):n},d.x0=function(e){return arguments.length?(t=e,d):t},d.x1=function(e){return arguments.length?(n=e,d):n},d.y=function(e){return arguments.length?(r=o=e,d):o},d.y0=function(e){return arguments.length?(r=e,d):r},d.y1=function(e){return arguments.length?(o=e,d):o},d.defined=function(e){return arguments.length?(i=e,d):i},d.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=Va.get(e)||Ha).key,l=a.reverse||a,u=a.closed?"M":"L",d):s},d.tension=function(e){return arguments.length?(c=e,d):c},d}function is(e){return e.radius}function as(e){return[e.x,e.y]}function ss(){return 64}function ls(){return"circle"}function us(e){var t=Math.sqrt(e/Te);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}e.svg.line.radial=function(){var e=qa(rs);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ga.reverse=Xa,Xa.reverse=Ga,e.svg.area=function(){return os(O)},e.svg.area.radial=function(){var e=os(rs);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){var e=Vr,t=Hr,n=is,r=La,o=Ba;function i(n,r){var o,i,u=a(this,e,n,r),c=a(this,t,n,r);return"M"+u.p0+s(u.r,u.p1,u.a1-u.a0)+(i=c,(o=u).a0==i.a0&&o.a1==i.a1?l(u.r,u.p1,u.r,u.p0):l(u.r,u.p1,c.r,c.p0)+s(c.r,c.p1,c.a1-c.a0)+l(c.r,c.p1,u.r,u.p0))+"Z"}function a(e,t,i,a){var s=t.call(e,i,a),l=n.call(e,s,a),u=r.call(e,s,a)-Me,c=o.call(e,s,a)-Me;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Te)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}return i.radius=function(e){return arguments.length?(n=gt(e),i):n},i.source=function(t){return arguments.length?(e=gt(t),i):e},i.target=function(e){return arguments.length?(t=gt(e),i):t},i.startAngle=function(e){return arguments.length?(r=gt(e),i):r},i.endAngle=function(e){return arguments.length?(o=gt(e),i):o},i},e.svg.diagonal=function(){var e=Vr,t=Hr,n=as;function r(r,o){var i=e.call(this,r,o),a=t.call(this,r,o),s=(i.y+a.y)/2,l=[i,{x:i.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(t){return arguments.length?(e=gt(t),r):e},r.target=function(e){return arguments.length?(t=gt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=as,r=t.projection;return t.projection=function(e){return arguments.length?r(function(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Me;return[n*Math.cos(r),n*Math.sin(r)]}}(n=e)):n},t},e.svg.symbol=function(){var e=ls,t=ss;function n(n,r){return(cs.get(e.call(this,n,r))||us)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=gt(t),n):e},n.size=function(e){return arguments.length?(t=gt(e),n):t},n};var cs=e.map({circle:us,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*fs)),n=t*fs;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ds),n=t*ds/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ds),n=t*ds/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});e.svg.symbolTypes=cs.keys();var ds=Math.sqrt(3),fs=Math.tan(30*Ce);X.transition=function(e){for(var t,n,r=gs||++bs,o=ws(e),i=[],a=vs||{time:Date.now(),ease:si,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(t=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&ks(n,c,o,r,a),t.push(n)}return ms(i,o,r)},X.interrupt=function(e){return this.each(null==e?hs:ps(ws(e)))};var hs=ps(ws());function ps(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ms(e,t,n){return q(e,ys),e.namespace=t,e.id=n,e}var gs,vs,ys=[],bs=0;function _s(e,t,n,r){var o=e.id,i=e.namespace;return ce(e,"function"==typeof n?function(e,a,s){e[i][o].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[i][o].tween.set(t,n)}))}function xs(e){return null==e&&(e=""),function(){this.textContent=e}}function ws(e){return null==e?"__transition__":"__transition_"+e+"__"}function ks(e,t,n,r,o){var i,a,s,l,u,c=e[n]||(e[n]={active:0,count:0}),d=c[r];function f(n){var o=c.active,f=c[o];for(var p in f&&(f.timer.c=null,f.timer.t=NaN,--c.count,delete c[o],f.event&&f.event.interrupt.call(e,e.__data__,f.index)),c)if(+p<r){var m=c[p];m.timer.c=null,m.timer.t=NaN,--c.count,delete c[p]}a.c=h,Et(function(){return a.c&&h(n||1)&&(a.c=null,a.t=NaN),1},0,i),c.active=r,d.event&&d.event.start.call(e,e.__data__,t),u=[],d.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&u.push(r)}),l=d.ease,s=d.duration}function h(o){for(var i=o/s,a=l(i),f=u.length;f>0;)u[--f].call(e,a);if(i>=1)return d.event&&d.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}d||(i=o.time,a=Et(function(e){var t=d.delay;if(a.t=t+i,t<=e)return f(e-t);a.c=f},0,i),d=c[r]={tween:new _,time:i,timer:a,delay:o.delay,duration:o.duration,ease:o.ease,index:t},o=null,++c.count)}ys.call=X.call,ys.empty=X.empty,ys.node=X.node,ys.size=X.size,e.transition=function(t,n){return t&&t.transition?gs?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=ys,ys.select=function(e){var t,n,r,o=this.id,i=this.namespace,a=[];e=K(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),ks(n,c,i,o,r[i][o]),t.push(n)):t.push(null)}return ms(a,i,o)},ys.selectAll=function(e){var t,n,r,o,i,a=this.id,s=this.namespace,l=[];e=Y(e);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,h=d.length;++f<h;)if(r=d[f]){i=r[s][a],n=e.call(r,r.__data__,f,u),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(o=n[p])&&ks(o,p,s,a,i),t.push(o)}return ms(l,s,a)},ys.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=ue(e));for(var o=0,i=this.length;o<i;o++){r.push(t=[]);for(var a=this[o],s=0,l=a.length;s<l;s++)(n=a[s])&&e.call(n,n.__data__,s,o)&&t.push(n)}return ms(r,this.namespace,this.id)},ys.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):ce(this,null==t?function(t){t[r][n].tween.remove(e)}:function(o){o[r][n].tween.set(e,t)})},ys.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?yi:Qo,o=e.ns.qualify(t);function i(){this.removeAttribute(o)}function a(){this.removeAttributeNS(o.space,o.local)}return _s(this,"attr."+t,n,o.local?function(e){return null==e?a:(e+="",function(){var t,n=this.getAttributeNS(o.space,o.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(o.space,o.local,t(e))})})}:function(e){return null==e?i:(e+="",function(){var t,n=this.getAttribute(o);return n!==e&&(t=r(n,e),function(e){this.setAttribute(o,t(e))})})})},ys.attrTween=function(t,n){var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?function(e,t){var o=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return o&&function(e){this.setAttributeNS(r.space,r.local,o(e))}}:function(e,t){var o=n.call(this,e,t,this.getAttribute(r));return o&&function(e){this.setAttribute(r,o(e))}})},ys.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function o(){this.style.removeProperty(e)}return _s(this,"style."+e,t,function(t){return null==t?o:(t+="",function(){var r,o=a(this).getComputedStyle(this,null).getPropertyValue(e);return o!==t&&(r=Qo(o,t),function(t){this.style.setProperty(e,r(t),n)})})})},ys.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,o){var i=t.call(this,r,o,a(this).getComputedStyle(this,null).getPropertyValue(e));return i&&function(t){this.style.setProperty(e,i(t),n)}})},ys.text=function(e){return _s(this,"text",e,xs)},ys.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},ys.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),ce(this,function(e){e[r][n].ease=t}))},ys.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:ce(this,"function"==typeof e?function(r,o,i){r[n][t].delay=+e.call(r,r.__data__,o,i)}:(e=+e,function(r){r[n][t].delay=e}))},ys.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:ce(this,"function"==typeof e?function(r,o,i){r[n][t].duration=Math.max(1,e.call(r,r.__data__,o,i))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},ys.each=function(t,n){var r=this.id,o=this.namespace;if(arguments.length<2){var i=vs,a=gs;try{gs=r,ce(this,function(e,n,i){vs=e[o][r],t.call(e,e.__data__,n,i)})}finally{vs=i,gs=a}}else ce(this,function(i){var a=i[o][r];(a.event||(a.event=e.dispatch("start","end","interrupt"))).on(t,n)});return this},ys.transition=function(){for(var e,t,n,r=this.id,o=++bs,i=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(e=[]);for(var u=this[s],c=0,d=u.length;c<d;c++)(t=u[c])&&(n=t[i][r],ks(t,c,i,o,{time:n.time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration})),e.push(t)}return ms(a,i,o)},e.svg.axis=function(){var t,n=e.scale.linear(),o=Es,i=6,a=6,s=3,l=[10],u=null;function c(r){r.each(function(){var r,c=e.select(this),d=this.__chart__||n,f=this.__chart__=n.copy(),h=null==u?f.ticks?f.ticks.apply(f,l):f.domain():u,p=null==t?f.tickFormat?f.tickFormat.apply(f,l):O:t,m=c.selectAll(".tick").data(h,f),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",ke),v=e.transition(m.exit()).style("opacity",ke).remove(),y=e.transition(m.order()).style("opacity",1),b=Math.max(i,0)+s,_=ha(f),x=c.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),e.transition(x));g.append("line"),g.append("text");var k,E,T,A,S=g.select("line"),M=y.select("line"),C=m.select("text").text(p),j=g.select("text"),N=y.select("text"),R="top"===o||"left"===o?-1:1;if("bottom"===o||"top"===o?(r=As,k="x",T="y",E="x2",A="y2",C.attr("dy",R<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+R*a+"V0H"+_[1]+"V"+R*a)):(r=Ss,k="y",T="x",E="y2",A="x2",C.attr("dy",".32em").style("text-anchor",R<0?"end":"start"),w.attr("d","M"+R*a+","+_[0]+"H0V"+_[1]+"H"+R*a)),S.attr(A,R*i),j.attr(T,R*b),M.attr(E,0).attr(A,R*i),N.attr(k,0).attr(T,R*b),f.rangeBand){var P=f,I=P.rangeBand()/2;d=f=function(e){return P(e)+I}}else d.rangeBand?d=f:v.call(r,f,d);g.call(r,d,f),y.call(r,f,f)})}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(o=e in Ts?e+"":Es,c):o},c.ticks=function(){return arguments.length?(l=r(arguments),c):l},c.tickValues=function(e){return arguments.length?(u=e,c):u},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(e){var t=arguments.length;return t?(i=+e,a=+arguments[t-1],c):i},c.innerTickSize=function(e){return arguments.length?(i=+e,c):i},c.outerTickSize=function(e){return arguments.length?(a=+e,c):a},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Es="bottom",Ts={top:1,right:1,bottom:1,left:1};function As(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Ss(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}e.svg.brush=function(){var t,n,r=z(f,"brushstart","brush","brushend"),o=null,i=null,s=[0,0],l=[0,0],u=!0,c=!0,d=Cs[0];function f(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(d,O);r.exit().remove(),r.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ms[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",f.empty()?"none":null);var a,s=e.transition(t),l=e.transition(n);o&&(a=ha(o),l.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),i&&(a=ha(i),l.attr("y",a[0]).attr("height",a[1]-a[0]),m(s)),h(s)})}function h(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+s[+/e$/.test(e)]+","+l[+/^s/.test(e)]+")"})}function p(e){e.select(".extent").attr("x",s[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function m(e){e.select(".extent").attr("y",l[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function g(){var d,g,v=this,y=e.select(e.event.target),b=r.of(v,arguments),_=e.select(v),x=y.datum(),w=!/^(n|s)$/.test(x)&&o,k=!/^(e|w)$/.test(x)&&i,E=y.classed("extent"),T=be(v),A=e.mouse(v),S=e.select(a(v)).on("keydown.brush",function(){32==e.event.keyCode&&(E||(d=null,A[0]-=s[1],A[1]-=l[1],E=2),B())}).on("keyup.brush",function(){32==e.event.keyCode&&2==E&&(A[0]+=s[1],A[1]+=l[1],E=0,B())});if(e.event.changedTouches?S.on("touchmove.brush",j).on("touchend.brush",N):S.on("mousemove.brush",j).on("mouseup.brush",N),_.interrupt().selectAll("*").interrupt(),E)A[0]=s[0]-A[0],A[1]=l[0]-A[1];else if(x){var M=+/w$/.test(x),C=+/^n/.test(x);g=[s[1-M]-A[0],l[1-C]-A[1]],A[0]=s[M],A[1]=l[C]}else e.event.altKey&&(d=A.slice());function j(){var t=e.mouse(v),n=!1;g&&(t[0]+=g[0],t[1]+=g[1]),E||(e.event.altKey?(d||(d=[(s[0]+s[1])/2,(l[0]+l[1])/2]),A[0]=s[+(t[0]<d[0])],A[1]=l[+(t[1]<d[1])]):d=null),w&&O(t,o,0)&&(p(_),n=!0),k&&O(t,i,1)&&(m(_),n=!0),n&&(h(_),b({type:"brush",mode:E?"move":"resize"}))}function O(e,r,o){var i,a,f=ha(r),h=f[0],p=f[1],m=A[o],g=o?l:s,v=g[1]-g[0];if(E&&(h-=m,p-=v+m),i=(o?c:u)?Math.max(h,Math.min(p,e[o])):e[o],E?a=(i+=m)+v:(d&&(m=Math.max(h,Math.min(p,2*d[o]-i))),m<i?(a=i,i=m):a=m),g[0]!=i||g[1]!=a)return o?n=null:t=null,g[0]=i,g[1]=a,!0}function N(){j(),_.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),e.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),b({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),j()}return f.event=function(o){o.each(function(){var o=r.of(this,arguments),i={x:s,y:l,i:t,j:n},a=this.__chart__||i;this.__chart__=i,gs?e.select(this).transition().each("start.brush",function(){t=a.i,n=a.j,s=a.x,l=a.y,o({type:"brushstart"})}).tween("brush:brush",function(){var e=Jo(s,i.x),r=Jo(l,i.y);return t=n=null,function(t){s=i.x=e(t),l=i.y=r(t),o({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,n=i.j,o({type:"brush",mode:"resize"}),o({type:"brushend"})}):(o({type:"brushstart"}),o({type:"brush",mode:"resize"}),o({type:"brushend"}))})},f.x=function(e){return arguments.length?(d=Cs[!(o=e)<<1|!i],f):o},f.y=function(e){return arguments.length?(d=Cs[!o<<1|!(i=e)],f):i},f.clamp=function(e){return arguments.length?(o&&i?(u=!!e[0],c=!!e[1]):o?u=!!e:i&&(c=!!e),f):o&&i?[u,c]:o?u:i?c:null},f.extent=function(e){var r,a,u,c,d;return arguments.length?(o&&(r=e[0],a=e[1],i&&(r=r[0],a=a[0]),t=[r,a],o.invert&&(r=o(r),a=o(a)),a<r&&(d=r,r=a,a=d),r==s[0]&&a==s[1]||(s=[r,a])),i&&(u=e[0],c=e[1],o&&(u=u[1],c=c[1]),n=[u,c],i.invert&&(u=i(u),c=i(c)),c<u&&(d=u,u=c,c=d),u==l[0]&&c==l[1]||(l=[u,c])),f):(o&&(t?(r=t[0],a=t[1]):(r=s[0],a=s[1],o.invert&&(r=o.invert(r),a=o.invert(a)),a<r&&(d=r,r=a,a=d))),i&&(n?(u=n[0],c=n[1]):(u=l[0],c=l[1],i.invert&&(u=i.invert(u),c=i.invert(c)),c<u&&(d=u,u=c,c=d))),o&&i?[[r,u],[a,c]]:o?[r,a]:i&&[u,c])},f.clear=function(){return f.empty()||(s=[0,0],l=[0,0],t=n=null),f},f.empty=function(){return!!o&&s[0]==s[1]||!!i&&l[0]==l[1]},e.rebind(f,r,"on")};var Ms={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Cs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],js=Pt.format=cn.timeFormat,Os=js.utc,Ns=Os("%Y-%m-%dT%H:%M:%S.%LZ");function Rs(e){return e.toISOString()}function Ps(t,n,r){function o(e){return t(e)}function i(t,r){var o=t[1]-t[0],i=o/r,a=e.bisect(Ds,i);return a==Ds.length?[n.year,xa(t.map(function(e){return e/31536e6}),r)[2]]:a?n[i/Ds[a-1]<Ds[a]/i?a-1:a]:[Fs,xa(t,r)[2]]}return o.invert=function(e){return Is(t.invert(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain().map(Is)},o.nice=function(e,t){var n=o.domain(),r=fa(n),a=null==e?i(r,10):"number"==typeof e&&i(r,e);function s(n){return!isNaN(n)&&!e.range(n,Is(+n+1),t).length}return a&&(e=a[0],t=a[1]),o.domain(ma(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=Is(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=Is(+t+1);return t}}:e))},o.ticks=function(e,t){var n=fa(o.domain()),r=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Is(+n[1]+1),t<1?1:t)},o.tickFormat=function(){return r},o.copy=function(){return Ps(t.copy(),n,r)},ba(o,t)}function Is(e){return new Date(e)}js.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Rs:Ns,Rs.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Rs.toString=Ns.toString,Pt.second=Bt(function(e){return new It(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Pt.seconds=Pt.second.range,Pt.seconds.utc=Pt.second.utc.range,Pt.minute=Bt(function(e){return new It(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Pt.minutes=Pt.minute.range,Pt.minutes.utc=Pt.minute.utc.range,Pt.hour=Bt(function(e){var t=e.getTimezoneOffset()/60;return new It(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Pt.hours=Pt.hour.range,Pt.hours.utc=Pt.hour.utc.range,Pt.month=Bt(function(e){return(e=Pt.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Pt.months=Pt.month.range,Pt.months.utc=Pt.month.utc.range;var Ds=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ls=[[Pt.second,1],[Pt.second,5],[Pt.second,15],[Pt.second,30],[Pt.minute,1],[Pt.minute,5],[Pt.minute,15],[Pt.minute,30],[Pt.hour,1],[Pt.hour,3],[Pt.hour,6],[Pt.hour,12],[Pt.day,1],[Pt.day,2],[Pt.week,1],[Pt.month,1],[Pt.month,3],[Pt.year,1]],Bs=js.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Yn]]),Fs={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(Is)},floor:O,ceil:O};Ls.year=Pt.year,Pt.scale=function(){return Ps(e.scale.linear(),Ls,Bs)};var zs=Ls.map(function(e){return[e[0].utc,e[1]]}),Us=Os.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Yn]]);function qs(e){return JSON.parse(e.responseText)}function Vs(e){var t=o.createRange();return t.selectNode(o.body),t.createContextualFragment(e.responseText)}zs.year=Pt.year.utc,Pt.scale.utc=function(){return Ps(e.scale.linear(),zs,Us)},e.text=vt(function(e){return e.responseText}),e.json=function(e,t){return yt(e,"application/json",qs,t)},e.html=function(e,t){return yt(e,"text/html",Vs,t)},e.xml=vt(function(e){return e.responseXML}),"object"==typeof t&&t.exports?t.exports=e:this.d3=e}()},{}],86:[function(e,t,n){t.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},{}],87:[function(e,t,n){"use strict";t.exports=a;var r=a.canvas=document.createElement("canvas"),o=r.getContext("2d"),i=s([32,126]);function a(e,t){Array.isArray(e)&&(e=e.join(", "));var n,r={},a=16,l=.05;t&&(2===t.length&&"number"==typeof t[0]?n=s(t):Array.isArray(t)?n=t:(t.o?n=s(t.o):t.pairs&&(n=t.pairs),t.fontSize&&(a=t.fontSize),null!=t.threshold&&(l=t.threshold))),n||(n=i),o.font=a+"px "+e;for(var u=0;u<n.length;u++){var c=n[u],d=o.measureText(c[0]).width+o.measureText(c[1]).width,f=o.measureText(c).width;if(Math.abs(d-f)>a*l){var h=(f-d)/a;r[c]=1e3*h}}return r}function s(e){for(var t=[],n=e[0];n<=e[1];n++)for(var r=String.fromCharCode(n),o=e[0];o<e[1];o++){var i=String.fromCharCode(o),a=r+i;t.push(a)}return t}a.createPairs=s,a.ascii=i},{}],88:[function(e,t,n){(function(e){var n=!1;if("undefined"!=typeof Float64Array){var r=new Float64Array(1),o=new Uint32Array(r.buffer);r[0]=1,n=!0,1072693248===o[1]?(t.exports=function(e){return r[0]=e,[o[0],o[1]]},t.exports.pack=function(e,t){return o[0]=e,o[1]=t,r[0]},t.exports.lo=function(e){return r[0]=e,o[0]},t.exports.hi=function(e){return r[0]=e,o[1]}):1072693248===o[0]?(t.exports=function(e){return r[0]=e,[o[1],o[0]]},t.exports.pack=function(e,t){return o[1]=e,o[0]=t,r[0]},t.exports.lo=function(e){return r[0]=e,o[1]},t.exports.hi=function(e){return r[0]=e,o[0]}):n=!1}if(!n){var i=new e(8);t.exports=function(e){return i.writeDoubleLE(e,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},t.exports.pack=function(e,t){return i.writeUInt32LE(e,0,!0),i.writeUInt32LE(t,4,!0),i.readDoubleLE(0,!0)},t.exports.lo=function(e){return i.writeDoubleLE(e,0,!0),i.readUInt32LE(0,!0)},t.exports.hi=function(e){return i.writeDoubleLE(e,0,!0),i.readUInt32LE(4,!0)}}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){var n=t.exports.hi(e);return(n<<1>>>21)-1023},t.exports.fraction=function(e){var n=t.exports.lo(e),r=t.exports.hi(e),o=1048575&r;return 2146435072&r&&(o+=1<<20),[n,o]},t.exports.denormalized=function(e){var n=t.exports.hi(e);return!(2146435072&n)}}).call(this,e("buffer").Buffer)},{buffer:51}],89:[function(e,t,n){var r=e("abs-svg-path"),o=e("normalize-svg-path"),i={M:"moveTo",C:"bezierCurveTo"};t.exports=function(e,t){e.beginPath(),o(r(t)).forEach(function(t){var n=t[0],r=t.slice(1);e[i[n]].apply(e,r)}),e.closePath()}},{"abs-svg-path":11,"normalize-svg-path":222}],90:[function(e,t,n){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],91:[function(e,t,n){"use strict";t.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,n,r){var o=0|t[r];if(o<=0)return[];var i,a=new Array(o);if(r===t.length-1)for(i=0;i<o;++i)a[i]=n;else for(i=0;i<o;++i)a[i]=e(t,n,r+1);return a}(e,t,0)}return[]}},{}],92:[function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,l,u,c,h,m,g=t&&t.length,v=g?t[0]*n:e.length,y=o(e,0,v,n,!0),b=[];if(!y)return b;if(g&&(y=function(e,t,n,r){var a,s,l,u,c,h=[];for(a=0,s=t.length;a<s;a++)l=t[a]*r,u=a<s-1?t[a+1]*r:e.length,(c=o(e,l,u,r,!1))===c.next&&(c.steiner=!0),h.push(p(c));for(h.sort(d),a=0;a<h.length;a++)f(h[a],n),n=i(n,n.next);return n}(e,t,y,n)),e.length>80*n){r=l=e[0],s=u=e[1];for(var _=n;_<v;_+=n)c=e[_],h=e[_+1],c<r&&(r=c),h<s&&(s=h),c>l&&(l=c),h>u&&(u=h);m=0!==(m=Math.max(l-r,u-s))?1/m:0}return a(y,b,n,r,s,m),b}function o(e,t,n,r,o){var i,a;if(o===T(e,t,n,r)>0)for(i=t;i<n;i+=r)a=w(i,e[i],e[i+1],a);else for(i=n-r;i>=t;i-=r)a=w(i,e[i],e[i+1],a);return a&&y(a,a.next)&&(k(a),a=a.next),a}function i(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(k(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,o,d,f){if(e){!f&&d&&function(e,t,n,r){var o=e;do{null===o.z&&(o.z=h(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,r,o,i,a,s,l,u=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,u*=2}while(a>1)}(o)}(e,r,o,d);for(var p,m,g=e;e.prev!==e.next;)if(p=e.prev,m=e.next,d?l(e,r,o,d):s(e))t.push(p.i/n),t.push(e.i/n),t.push(m.i/n),k(e),e=m.next,g=m.next;else if((e=m)===g){f?1===f?a(e=u(e,t,n),t,n,r,o,d,2):2===f&&c(e,t,n,r,o,d):a(i(e),t,n,r,o,d,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(v(t,n,r)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(m(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)&&v(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function l(e,t,n,r){var o=e.prev,i=e,a=e.next;if(v(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,l=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,u=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,d=h(s,l,t,n,r),f=h(u,c,t,n,r),p=e.prevZ,g=e.nextZ;p&&p.z>=d&&g&&g.z<=f;){if(p!==e.prev&&p!==e.next&&m(o.x,o.y,i.x,i.y,a.x,a.y,p.x,p.y)&&v(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,g!==e.prev&&g!==e.next&&m(o.x,o.y,i.x,i.y,a.x,a.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&m(o.x,o.y,i.x,i.y,a.x,a.y,p.x,p.y)&&v(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=f;){if(g!==e.prev&&g!==e.next&&m(o.x,o.y,i.x,i.y,a.x,a.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function u(e,t,n){var r=e;do{var o=r.prev,i=r.next.next;!y(o,i)&&b(o,r,r.next,i)&&_(o,i)&&_(i,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(i.i/n),k(r),k(r.next),r=e=i),r=r.next}while(r!==e);return r}function c(e,t,n,r,o,s){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&g(l,u)){var c=x(l,u);return l=i(l,l.next),c=i(c,c.next),a(l,t,n,r,o,s),void a(c,t,n,r,o,s)}u=u.next}l=l.next}while(l!==e)}function d(e,t){return e.x-t.x}function f(e,t){if(t=function(e,t){var n,r=t,o=e.x,i=e.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a){if(a=s,s===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(o===a)return n.prev;var l,u=n,c=n.x,d=n.y,f=1/0;for(r=n.next;r!==u;)o>=r.x&&r.x>=c&&o!==r.x&&m(i<d?o:a,i,c,d,i<d?a:o,i,r.x,r.y)&&((l=Math.abs(i-r.y)/(o-r.x))<f||l===f&&r.x>n.x)&&_(r,e)&&(n=r,f=l),r=r.next;return n}(e,t)){var n=x(t,e);i(n,n.next)}}function h(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function m(e,t,n,r,o,i,a,s){return(o-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(i-s)-(o-a)*(r-s)>=0}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&b(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&_(e,t)&&_(t,e)&&function(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function v(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function b(e,t,n,r){return!!(y(e,t)&&y(n,r)||y(e,r)&&y(n,t))||v(e,t,n)>0!=v(e,t,r)>0&&v(n,r,e)>0!=v(n,r,t)>0}function _(e,t){return v(e.prev,e,e.next)<0?v(e,t,e.next)>=0&&v(e,e.prev,t)>=0:v(e,t,e.prev)<0||v(e,e.next,t)<0}function x(e,t){var n=new E(e.i,e.x,e.y),r=new E(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function w(e,t,n,r){var o=new E(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function k(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function E(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var o=0,i=t,a=n-r;i<n;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}t.exports=r,t.exports.default=r,r.deviation=function(e,t,n,r){var o=t&&t.length,i=o?t[0]*n:e.length,a=Math.abs(T(e,0,i,n));if(o)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(T(e,u,c,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;d+=Math.abs((e[f]-e[p])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[p+1]-e[f+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n}},{}],93:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.length;if("number"!=typeof t){t=0;for(var o=0;o<n;++o){var i=e[o];t=Math.max(t,i[0],i[1])}t=1+(0|t)}t|=0;for(var a=new Array(t),o=0;o<t;++o)a[o]=[];for(var o=0;o<n;++o){var i=e[o];a[i[0]].push(i[1]),a[i[1]].push(i[0])}for(var s=0;s<t;++s)r(a[s],function(e,t){return e-t});return a};var r=e("uniq")},{uniq:292}],94:[function(e,t,n){"use strict";var r=e("../../object/valid-value");t.exports=function(){return r(this).length=0,this}},{"../../object/valid-value":126}],95:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Array.from:e("./shim")},{"./is-implemented":96,"./shim":97}],96:[function(e,t,n){"use strict";t.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},{}],97:[function(e,t,n){"use strict";var r=e("es6-symbol").iterator,o=e("../../function/is-arguments"),i=e("../../function/is-function"),a=e("../../number/to-pos-integer"),s=e("../../object/valid-callable"),l=e("../../object/valid-value"),u=e("../../object/is-value"),c=e("../../string/is-string"),d=Array.isArray,f=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(e){var t,n,m,g,v,y,b,_,x,w,k=arguments[1],E=arguments[2];if(e=Object(l(e)),u(k)&&s(k),this&&this!==Array&&i(this))t=this;else{if(!k){if(o(e))return 1!==(v=e.length)?Array.apply(null,e):((g=new Array(1))[0]=e[0],g);if(d(e)){for(g=new Array(v=e.length),n=0;n<v;++n)g[n]=e[n];return g}}g=[]}if(!d(e))if(void 0!==(x=e[r])){for(b=s(x).call(e),t&&(g=new t),_=b.next(),n=0;!_.done;)w=k?f.call(k,E,_.value,n):_.value,t?(h.value=w,p(g,n,h)):g[n]=w,_=b.next(),++n;v=n}else if(c(e)){for(v=e.length,t&&(g=new t),n=0,m=0;n<v;++n)w=e[n],n+1<v&&(y=w.charCodeAt(0))>=55296&&y<=56319&&(w+=e[++n]),w=k?f.call(k,E,w,m):w,t?(h.value=w,p(g,m,h)):g[m]=w,++m;v=m}if(void 0===v)for(v=a(e.length),t&&(g=new t(v)),n=0;n<v;++n)w=k?f.call(k,E,e[n],n):e[n],t?(h.value=w,p(g,n,h)):g[n]=w;return t&&(h.value=null,g.length=v),g}},{"../../function/is-arguments":98,"../../function/is-function":99,"../../number/to-pos-integer":105,"../../object/is-value":115,"../../object/valid-callable":124,"../../object/valid-value":126,"../../string/is-string":130,"es6-symbol":140}],98:[function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(function(){return arguments}());t.exports=function(e){return r.call(e)===o}},{}],99:[function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(e("./noop"));t.exports=function(e){return"function"==typeof e&&r.call(e)===o}},{"./noop":100}],100:[function(e,t,n){"use strict";t.exports=function(){}},{}],101:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Math.sign:e("./shim")},{"./is-implemented":102,"./shim":103}],102:[function(e,t,n){"use strict";t.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},{}],103:[function(e,t,n){"use strict";t.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},{}],104:[function(e,t,n){"use strict";var r=e("../math/sign"),o=Math.abs,i=Math.floor;t.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*i(o(e)):e}},{"../math/sign":101}],105:[function(e,t,n){"use strict";var r=e("./to-integer"),o=Math.max;t.exports=function(e){return o(0,r(e))}},{"./to-integer":104}],106:[function(e,t,n){"use strict";var r=e("./valid-callable"),o=e("./valid-value"),i=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,l=Object.prototype.propertyIsEnumerable;t.exports=function(e,t){return function(n,u){var c,d=arguments[2],f=arguments[3];return n=Object(o(n)),r(u),c=s(n),f&&c.sort("function"==typeof f?i.call(f,n):void 0),"function"!=typeof e&&(e=c[e]),a.call(e,c,function(e,r){return l.call(n,e)?a.call(u,d,n[e],e,n,r):t})}}},{"./valid-callable":124,"./valid-value":126}],107:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":108,"./shim":109}],108:[function(e,t,n){"use strict";t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],109:[function(e,t,n){"use strict";var r=e("../keys"),o=e("../valid-value"),i=Math.max;t.exports=function(e,t){var n,a,s,l=i(arguments.length,2);for(e=Object(o(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},a=1;a<l;++a)t=arguments[a],r(t).forEach(s);if(void 0!==n)throw n;return e}},{"../keys":116,"../valid-value":126}],110:[function(e,t,n){"use strict";var r=e("../array/from"),o=e("./assign"),i=e("./valid-value");t.exports=function(e){var t=Object(i(e)),n=arguments[1],a=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(a.ensure||t in e)&&(s[t]=e[t])}):o(s,e),s}},{"../array/from":95,"./assign":107,"./valid-value":126}],111:[function(e,t,n){"use strict";var r,o,i,a,s=Object.create;e("./set-prototype-of/is-implemented")()||(r=e("./set-prototype-of/shim")),t.exports=r?1!==r.level?s:(o={},i={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){i[e]="__proto__"!==e?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(o,i),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o}),function(e,t){return s(null===e?o:e,t)}):s},{"./set-prototype-of/is-implemented":122,"./set-prototype-of/shim":123}],112:[function(e,t,n){"use strict";t.exports=e("./_iterate")("forEach")},{"./_iterate":106}],113:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e}},{}],114:[function(e,t,n){"use strict";var r=e("./is-value"),o={function:!0,object:!0};t.exports=function(e){return r(e)&&o[typeof e]||!1}},{"./is-value":115}],115:[function(e,t,n){"use strict";var r=e("../function/noop")();t.exports=function(e){return e!==r&&null!==e}},{"../function/noop":100}],116:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":117,"./shim":118}],117:[function(e,t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],118:[function(e,t,n){"use strict";var r=e("../is-value"),o=Object.keys;t.exports=function(e){return o(r(e)?Object(e):e)}},{"../is-value":115}],119:[function(e,t,n){"use strict";var r=e("./valid-callable"),o=e("./for-each"),i=Function.prototype.call;t.exports=function(e,t){var n={},a=arguments[2];return r(t),o(e,function(e,r,o,s){n[r]=i.call(t,a,e,r,o,s)}),n}},{"./for-each":112,"./valid-callable":124}],120:[function(e,t,n){"use strict";var r=e("./is-value"),o=Array.prototype.forEach,i=Object.create;t.exports=function(e){var t=i(null);return o.call(arguments,function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},{"./is-value":115}],121:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.setPrototypeOf:e("./shim")},{"./is-implemented":122,"./shim":123}],122:[function(e,t,n){"use strict";var r=Object.create,o=Object.getPrototypeOf,i={};t.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||r;return"function"==typeof e&&o(e(t(null),i))===i}},{}],123:[function(e,t,n){"use strict";var r,o,i,a,s=e("../is-object"),l=e("../valid-value"),u=Object.prototype.isPrototypeOf,c=Object.defineProperty,d={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(l(e),null===t||s(t))return e;throw new TypeError("Prototype must be null or an object")},t.exports=(o=function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}())?(2===o.level?o.set?(a=o.set,i=function(e,t){return a.call(r(e,t),t),e}):i=function(e,t){return r(e,t).__proto__=t,e}:i=function e(t,n){var o;return r(t,n),(o=u.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,o&&c(e.nullPolyfill,"__proto__",d),t},Object.defineProperty(i,"level",{configurable:!1,enumerable:!1,writable:!1,value:o.level})):null,e("../create")},{"../create":111,"../is-object":114,"../valid-value":126}],124:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],125:[function(e,t,n){"use strict";var r=e("./is-object");t.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},{"./is-object":114}],126:[function(e,t,n){"use strict";var r=e("./is-value");t.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},{"./is-value":115}],127:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":128,"./shim":129}],128:[function(e,t,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},{}],129:[function(e,t,n){"use strict";var r=String.prototype.indexOf;t.exports=function(e){return r.call(this,e,arguments[1])>-1}},{}],130:[function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call("");t.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===o)||!1}},{}],131:[function(e,t,n){"use strict";var r=Object.create(null),o=Math.random;t.exports=function(){var e;do{e=o().toString(36).slice(2)}while(r[e]);return e}},{}],132:[function(e,t,n){"use strict";var r,o=e("es5-ext/object/set-prototype-of"),i=e("es5-ext/string/#/contains"),a=e("d"),s=e("es6-symbol"),l=e("./"),u=Object.defineProperty;r=t.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");l.call(this,e),t=t?i.call(t,"key+value")?"key+value":i.call(t,"key")?"key":"value":"value",u(this,"__kind__",a("",t))},o&&o(r,l),delete r.prototype.constructor,r.prototype=Object.create(l.prototype,{_resolve:a(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),u(r.prototype,s.toStringTag,a("c","Array Iterator"))},{"./":135,d:84,"es5-ext/object/set-prototype-of":121,"es5-ext/string/#/contains":127,"es6-symbol":140}],133:[function(e,t,n){"use strict";var r=e("es5-ext/function/is-arguments"),o=e("es5-ext/object/valid-callable"),i=e("es5-ext/string/is-string"),a=e("./get"),s=Array.isArray,l=Function.prototype.call,u=Array.prototype.some;t.exports=function(e,t){var n,c,d,f,h,p,m,g,v=arguments[2];if(s(e)||r(e)?n="array":i(e)?n="string":e=a(e),o(t),d=function(){f=!0},"array"!==n)if("string"!==n)for(c=e.next();!c.done;){if(l.call(t,v,c.value,d),f)return;c=e.next()}else for(p=e.length,h=0;h<p&&(m=e[h],h+1<p&&(g=m.charCodeAt(0))>=55296&&g<=56319&&(m+=e[++h]),l.call(t,v,m,d),!f);++h);else u.call(e,function(e){return l.call(t,v,e,d),f})}},{"./get":134,"es5-ext/function/is-arguments":98,"es5-ext/object/valid-callable":124,"es5-ext/string/is-string":130}],134:[function(e,t,n){"use strict";var r=e("es5-ext/function/is-arguments"),o=e("es5-ext/string/is-string"),i=e("./array"),a=e("./string"),s=e("./valid-iterable"),l=e("es6-symbol").iterator;t.exports=function(e){return"function"==typeof s(e)[l]?e[l]():r(e)?new i(e):o(e)?new a(e):new i(e)}},{"./array":132,"./string":137,"./valid-iterable":138,"es5-ext/function/is-arguments":98,"es5-ext/string/is-string":130,"es6-symbol":140}],135:[function(e,t,n){"use strict";var r,o=e("es5-ext/array/#/clear"),i=e("es5-ext/object/assign"),a=e("es5-ext/object/valid-callable"),s=e("es5-ext/object/valid-value"),l=e("d"),u=e("d/auto-bind"),c=e("es6-symbol"),d=Object.defineProperty,f=Object.defineProperties;t.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:l("w",s(e)),__context__:l("w",t),__nextIndex__:l("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,i({_next:l(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:l(function(e){return this.__list__[e]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[c.toStringTag]||"Object")+"]"})},u({_onAdd:l(function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)):d(this,"__redo__",l("c",[e])))}),_onDelete:l(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:l(function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0})}))),d(r.prototype,c.iterator,l(function(){return this}))},{d:84,"d/auto-bind":83,"es5-ext/array/#/clear":94,"es5-ext/object/assign":107,"es5-ext/object/valid-callable":124,"es5-ext/object/valid-value":126,"es6-symbol":140}],136:[function(e,t,n){"use strict";var r=e("es5-ext/function/is-arguments"),o=e("es5-ext/object/is-value"),i=e("es5-ext/string/is-string"),a=e("es6-symbol").iterator,s=Array.isArray;t.exports=function(e){return!(!o(e)||!s(e)&&!i(e)&&!r(e)&&"function"!=typeof e[a])}},{"es5-ext/function/is-arguments":98,"es5-ext/object/is-value":115,"es5-ext/string/is-string":130,"es6-symbol":140}],137:[function(e,t,n){"use strict";var r,o=e("es5-ext/object/set-prototype-of"),i=e("d"),a=e("es6-symbol"),s=e("./"),l=Object.defineProperty;r=t.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),l(this,"__length__",i("",e.length))},o&&o(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:i(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:i(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0))>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n})}),l(r.prototype,a.toStringTag,i("c","String Iterator"))},{"./":135,d:84,"es5-ext/object/set-prototype-of":121,"es6-symbol":140}],138:[function(e,t,n){"use strict";var r=e("./is-iterable");t.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},{"./is-iterable":136}],139:[function(e,n,r){(function(t,o){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
!function(e,t){"object"==typeof r&&void 0!==n?n.exports=t():e.ES6Promise=t()}(this,function(){"use strict";function n(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,s=void 0,l=function(e,t){m[i]=e,m[i+1]=t,2===(i+=2)&&(s?s(g):x())},u="undefined"!=typeof window?window:void 0,c=u||{},d=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(g,1)}}var m=new Array(1e3);function g(){for(var e=0;e<i;e+=2){var t=m[e],n=m[e+1];t(n),m[e]=void 0,m[e+1]=void 0}i=0}var v,y,b,_,x=void 0;function w(e,t){var n=arguments,r=this,o=new this.constructor(T);void 0===o[E]&&q(o);var i,a=r._state;return a?(i=n[a-1],l(function(){return z(a,o,i,r._result)})):D(r,o,e,t),o}function k(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return N(t,e),t}f?x=function(){return t.nextTick(g)}:d?(y=0,b=new d(g),_=document.createTextNode(""),b.observe(_,{characterData:!0}),x=function(){_.data=y=++y%2}):h?((v=new MessageChannel).port1.onmessage=g,x=function(){return v.port2.postMessage(0)}):x=void 0===u&&"function"==typeof e?function(){try{var t=e,n=t("vertx");return a=n.runOnLoop||n.runOnContext,function(){a(g)}}catch(e){return p()}}():p();var E=Math.random().toString(36).substring(16);function T(){}var A=void 0,S=1,M=2,C=new B;function j(e){try{return e.then}catch(e){return C.error=e,C}}function O(e,t,r){t.constructor===e.constructor&&r===w&&t.constructor.resolve===k?function(e,t){t._state===S?P(e,t._result):t._state===M?I(e,t._result):D(t,void 0,function(t){return N(e,t)},function(t){return I(e,t)})}(e,t):r===C?I(e,C.error):void 0===r?P(e,t):n(r)?function(e,t,n){l(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?N(e,n):P(e,n))},function(t){r||(r=!0,I(e,t))},e._label);!r&&o&&(r=!0,I(e,o))},e)}(e,t,r):P(e,t)}function N(e,t){var n;e===t?I(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=t)||"object"==typeof n&&null!==n?O(e,t,j(t)):P(e,t)}function R(e){e._onerror&&e._onerror(e._result),L(e)}function P(e,t){e._state===A&&(e._result=t,e._state=S,0!==e._subscribers.length&&l(L,e))}function I(e,t){e._state===A&&(e._state=M,e._result=t,l(R,e))}function D(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+S]=n,o[i+M]=r,0===i&&e._state&&l(L,e)}function L(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?z(n,r,o,i):o(i);e._subscribers.length=0}}function B(){this.error=null}var F=new B;function z(e,t,r,o){var i=n(r),a=void 0,s=void 0,l=void 0,u=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return F.error=e,F}}(r,o))===F?(u=!0,s=a.error,a=null):l=!0,t===a)return void I(t,new TypeError("A promises callback cannot return that same promise."))}else a=o,l=!0;t._state!==A||(i&&l?N(t,a):u?I(t,s):e===S?P(t,a):e===M&&I(t,a))}var U=0;function q(e){e[E]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}function V(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[E]||q(this.promise),r(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&P(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}function H(e){this[E]=U++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof H?function(e,t){try{t(function(t){N(e,t)},function(t){I(e,t)})}catch(t){I(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function W(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=H}return V.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===A&&n<e;n++)this._eachEntry(t[n],n)},V.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===k){var o=j(e);if(o===w&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===H){var i=new n(T);O(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},V.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===A&&(this._remaining--,e===M?I(r,n):this._result[t]=n),0===this._remaining&&P(r,this._result)},V.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,function(e){return n._settledAt(S,t,e)},function(e){return n._settledAt(M,t,e)})},H.all=function(e){return new V(this,e).promise},H.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},H.resolve=k,H.reject=function(e){var t=new this(T);return I(t,e),t},H._setScheduler=function(e){s=e},H._setAsap=function(e){l=e},H._asap=l,H.prototype={constructor:H,then:w,catch:function(e){return this.then(null,e)}},W(),H.polyfill=W,H.Promise=H,H})}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:248}],140:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Symbol:e("./polyfill")},{"./is-implemented":141,"./polyfill":143}],141:[function(e,t,n){"use strict";var r={object:!0,symbol:!0};t.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag]}},{}],142:[function(e,t,n){"use strict";t.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},{}],143:[function(e,t,n){"use strict";var r,o,i,a,s=e("d"),l=e("./validate-symbol"),u=Object.create,c=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,h=u(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(e){}}var p,m=(p=u(null),function(e){for(var t,n,r=0;p[e+(r||"")];)++r;return p[e+=r||""]=!0,d(f,t="@@"+e,s.gs(null,function(e){n||(n=!0,d(this,t,s(e)),n=!1)})),t});i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return o(e)},t.exports=o=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?r(t):(n=u(i.prototype),t=void 0===t?"":String(t),c(n,{__description__:s("",t),__name__:s("",m(t))}))},c(o,{for:s(function(e){return h[e]?h[e]:h[e]=o(String(e))}),keyFor:s(function(e){var t;for(t in l(e),h)if(h[t]===e)return t}),hasInstance:s("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:s("",r&&r.iterator||o("iterator")),match:s("",r&&r.match||o("match")),replace:s("",r&&r.replace||o("replace")),search:s("",r&&r.search||o("search")),species:s("",r&&r.species||o("species")),split:s("",r&&r.split||o("split")),toPrimitive:s("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:s("",r&&r.toStringTag||o("toStringTag")),unscopables:s("",r&&r.unscopables||o("unscopables"))}),c(i.prototype,{constructor:s(o),toString:s("",function(){return this.__name__})}),c(o.prototype,{toString:s(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:s(function(){return l(this)})}),d(o.prototype,o.toPrimitive,s("",function(){var e=l(this);return"symbol"==typeof e?e:e.toString()})),d(o.prototype,o.toStringTag,s("c","Symbol")),d(i.prototype,o.toStringTag,s("c",o.prototype[o.toStringTag])),d(i.prototype,o.toPrimitive,s("c",o.prototype[o.toPrimitive]))},{"./validate-symbol":144,d:84}],144:[function(e,t,n){"use strict";var r=e("./is-symbol");t.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},{"./is-symbol":142}],145:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?WeakMap:e("./polyfill")},{"./is-implemented":146,"./polyfill":148}],146:[function(e,t,n){"use strict";t.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&"function"==typeof e.set&&e.set({},1)===e&&"function"==typeof e.delete&&"function"==typeof e.has&&"one"===e.get(t)}},{}],147:[function(e,t,n){"use strict";t.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},{}],148:[function(e,t,n){"use strict";var r,o=e("es5-ext/object/set-prototype-of"),i=e("es5-ext/object/valid-object"),a=e("es5-ext/object/valid-value"),s=e("es5-ext/string/random-uniq"),l=e("d"),u=e("es6-iterator/get"),c=e("es6-iterator/for-of"),d=e("es6-symbol").toStringTag,f=e("./is-native-implemented"),h=Array.isArray,p=Object.defineProperty,m=Object.prototype.hasOwnProperty,g=Object.getPrototypeOf;t.exports=r=function(){var e,t=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return e=f&&o&&WeakMap!==r?o(new WeakMap,g(this)):this,null!=t&&(h(t)||(t=u(t))),p(e,"__weakMapData__",l("c","$weakMap$"+s())),t?(c(t,function(t){a(t),e.set(t[0],t[1])}),e):e},f&&(o&&o(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:l(r)})),Object.defineProperties(r.prototype,{delete:l(function(e){return!!m.call(i(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)}),get:l(function(e){if(m.call(i(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:l(function(e){return m.call(i(e),this.__weakMapData__)}),set:l(function(e,t){return p(i(e),this.__weakMapData__,l("c",t)),this}),toString:l(function(){return"[object WeakMap]"})}),p(r.prototype,d,l("c","WeakMap"))},{"./is-native-implemented":147,d:84,"es5-ext/object/set-prototype-of":121,"es5-ext/object/valid-object":125,"es5-ext/object/valid-value":126,"es5-ext/string/random-uniq":131,"es6-iterator/for-of":133,"es6-iterator/get":134,"es6-symbol":140}],149:[function(e,t,n){"use strict";var r=e("is-string-blank");t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0==(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},{"is-string-blank":211}],150:[function(e,t,n){var r=e("dtype");t.exports=function(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var o,i,a,s,l=e[0].length,u=e.length*l;t&&"string"!=typeof t||(t=new(r(t||"float32"))(u+n));var c=t.length-n;if(u!==c)throw new Error("source length "+u+" ("+l+"x"+e.length+") does not match destination length "+c);for(o=0,a=n;o<e.length;o++)for(i=0;i<l;i++)t[a++]=null===e[o][i]?NaN:e[o][i]}else if(t&&"string"!=typeof t)t.set(e,n);else{var d=r(t||"float32");if(Array.isArray(e)||"array"===t)for(t=new d(e.length+n),o=0,a=n,s=t.length;a<s;a++,o++)t[a]=null===e[o]?NaN:e[o];else 0===n?t=new d(e):(t=new d(e.length+n)).set(e,n)}return t}},{dtype:90}],151:[function(e,t,n){"use strict";var r=e("css-font/stringify"),o=[32,126];t.exports=function(e){var t=(e=e||{}).shape?e.shape:e.canvas?[e.canvas.width,e.canvas.height]:[512,512],n=e.canvas||document.createElement("canvas"),i=e.font,a="number"==typeof e.step?[e.step,e.step]:e.step||[32,32],s=e.chars||o;if(i&&"string"!=typeof i&&(i=r(i)),Array.isArray(s)){if(2===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]){for(var l=[],u=s[0],c=0;u<=s[1];u++)l[c++]=String.fromCharCode(u);s=l}}else s=String(s).split("");t=t.slice(),n.width=t[0],n.height=t[1];var d=n.getContext("2d");d.fillStyle="#000",d.fillRect(0,0,n.width,n.height),d.font=i,d.textAlign="center",d.textBaseline="middle",d.fillStyle="#fff";for(var f=a[0]/2,h=a[1]/2,u=0;u<s.length;u++)d.fillText(s[u],f,h),(f+=a[0])>t[0]-a[0]/2&&(f=a[0]/2,h+=a[1]);return n}},{"css-font/stringify":76}],152:[function(e,t,n){"use strict";function r(e,t){t||(t={}),("string"==typeof e||Array.isArray(e))&&(t.family=e);var n=Array.isArray(t.family)?t.family.join(", "):t.family;if(!n)throw Error("`family` must be defined");var s=t.size||t.fontSize||t.em||48,l=t.weight||t.fontWeight||"",u=t.style||t.fontStyle||"",e=[u,l,s].join(" ")+"px "+n,c=t.origin||"top";if(r.cache[n]&&s<=r.cache[n].em)return o(r.cache[n],c);var d=t.canvas||r.canvas,f=d.getContext("2d"),h={upper:void 0!==t.upper?t.upper:"H",lower:void 0!==t.lower?t.lower:"x",descent:void 0!==t.descent?t.descent:"p",ascent:void 0!==t.ascent?t.ascent:"h",tittle:void 0!==t.tittle?t.tittle:"i",overshoot:void 0!==t.overshoot?t.overshoot:"O"},p=Math.ceil(1.5*s);d.height=p,d.width=.5*p,f.font=e;var m={top:0};f.clearRect(0,0,p,p),f.textBaseline="top",f.fillStyle="black",f.fillText("H",0,0);var g=i(f.getImageData(0,0,p,p));f.clearRect(0,0,p,p),f.textBaseline="bottom",f.fillText("H",0,p);var v=i(f.getImageData(0,0,p,p));m.lineHeight=m.bottom=p-v+g,f.clearRect(0,0,p,p),f.textBaseline="alphabetic",f.fillText("H",0,p);var y=i(f.getImageData(0,0,p,p)),b=p-y-1+g;m.baseline=m.alphabetic=b,f.clearRect(0,0,p,p),f.textBaseline="middle",f.fillText("H",0,.5*p);var _=i(f.getImageData(0,0,p,p));m.median=m.middle=p-_-1+g-.5*p,f.clearRect(0,0,p,p),f.textBaseline="hanging",f.fillText("H",0,.5*p);var x=i(f.getImageData(0,0,p,p));m.hanging=p-x-1+g-.5*p,f.clearRect(0,0,p,p),f.textBaseline="ideographic",f.fillText("H",0,p);var w=i(f.getImageData(0,0,p,p));if(m.ideographic=p-w-1+g,h.upper&&(f.clearRect(0,0,p,p),f.textBaseline="top",f.fillText(h.upper,0,0),m.upper=i(f.getImageData(0,0,p,p)),m.capHeight=m.baseline-m.upper),h.lower&&(f.clearRect(0,0,p,p),f.textBaseline="top",f.fillText(h.lower,0,0),m.lower=i(f.getImageData(0,0,p,p)),m.xHeight=m.baseline-m.lower),h.tittle&&(f.clearRect(0,0,p,p),f.textBaseline="top",f.fillText(h.tittle,0,0),m.tittle=i(f.getImageData(0,0,p,p))),h.ascent&&(f.clearRect(0,0,p,p),f.textBaseline="top",f.fillText(h.ascent,0,0),m.ascent=i(f.getImageData(0,0,p,p))),h.descent&&(f.clearRect(0,0,p,p),f.textBaseline="top",f.fillText(h.descent,0,0),m.descent=a(f.getImageData(0,0,p,p))),h.overshoot){f.clearRect(0,0,p,p),f.textBaseline="top",f.fillText(h.overshoot,0,0);var k=a(f.getImageData(0,0,p,p));m.overshoot=k-b}for(var E in m)m[E]/=s;return m.em=s,r.cache[n]=m,o(m,c)}function o(e,t){var n={};for(var r in"string"==typeof t&&(t=e[t]),e)"em"!==r&&(n[r]=e[r]-t);return n}function i(e){for(var t=e.height,n=e.data,r=3;r<n.length;r+=4)if(0!==n[r])return Math.floor(.25*(r-3)/t)}function a(e){for(var t=e.height,n=e.data,r=n.length-1;r>0;r-=4)if(0!==n[r])return Math.floor(.25*(r-3)/t)}t.exports=r,r.canvas=document.createElement("canvas"),r.cache={}},{}],153:[function(e,t,n){"use strict";t.exports=function(e){return new u(e||p,null)};var r=0,o=1;function i(e,t,n,r,o,i){this._color=e,this.key=t,this.value=n,this.left=r,this.right=o,this._count=i}function a(e){return new i(e._color,e.key,e.value,e.left,e.right,e._count)}function s(e,t){return new i(e,t.key,t.value,t.left,t.right,t._count)}function l(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function u(e,t){this._compare=e,this.root=t}var c=u.prototype;function d(e,t){this.tree=e,this._stack=t}Object.defineProperty(c,"keys",{get:function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e}}),Object.defineProperty(c,"values",{get:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e}}),Object.defineProperty(c,"length",{get:function(){return this.root?this.root._count:0}}),c.insert=function(e,t){for(var n=this._compare,a=this.root,c=[],d=[];a;){var f=n(e,a.key);c.push(a),d.push(f),a=f<=0?a.left:a.right}c.push(new i(r,e,t,null,null,1));for(var h=c.length-2;h>=0;--h){var a=c[h];d[h]<=0?c[h]=new i(a._color,a.key,a.value,c[h+1],a.right,a._count+1):c[h]=new i(a._color,a.key,a.value,a.left,c[h+1],a._count+1)}for(var h=c.length-1;h>1;--h){var p=c[h-1],a=c[h];if(p._color===o||a._color===o)break;var m=c[h-2];if(m.left===p)if(p.left===a){var g=m.right;if(!g||g._color!==r){if(m._color=r,m.left=p.right,p._color=o,p.right=m,c[h-2]=p,c[h-1]=a,l(m),l(p),h>=3){var v=c[h-3];v.left===m?v.left=p:v.right=p}break}p._color=o,m.right=s(o,g),m._color=r,h-=1}else{var g=m.right;if(!g||g._color!==r){if(p.right=a.left,m._color=r,m.left=a.right,a._color=o,a.left=p,a.right=m,c[h-2]=a,c[h-1]=p,l(m),l(p),l(a),h>=3){var v=c[h-3];v.left===m?v.left=a:v.right=a}break}p._color=o,m.right=s(o,g),m._color=r,h-=1}else if(p.right===a){var g=m.left;if(!g||g._color!==r){if(m._color=r,m.right=p.left,p._color=o,p.left=m,c[h-2]=p,c[h-1]=a,l(m),l(p),h>=3){var v=c[h-3];v.right===m?v.right=p:v.left=p}break}p._color=o,m.left=s(o,g),m._color=r,h-=1}else{var g=m.left;if(!g||g._color!==r){if(p.left=a.right,m._color=r,m.right=a.left,a._color=o,a.right=p,a.left=m,c[h-2]=a,c[h-1]=p,l(m),l(p),l(a),h>=3){var v=c[h-3];v.right===m?v.right=a:v.left=a}break}p._color=o,m.left=s(o,g),m._color=r,h-=1}}return c[0]._color=o,new u(n,c[0])},c.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return function e(t,n){if(n.left){var r=e(t,n.left);if(r)return r}var r=t(n.key,n.value);return r||(n.right?e(t,n.right):void 0)}(e,this.root);case 2:return function e(t,n,r,o){var i=n(t,o.key);if(i<=0){if(o.left){var a=e(t,n,r,o.left);if(a)return a}var a=r(o.key,o.value);if(a)return a}if(o.right)return e(t,n,r,o.right)}(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return function e(t,n,r,o,i){var a,s=r(t,i.key),l=r(n,i.key);if(s<=0){if(i.left&&(a=e(t,n,r,o,i.left)))return a;if(l>0&&(a=o(i.key,i.value)))return a}if(l>0&&i.right)return e(t,n,r,o,i.right)}(t,n,this._compare,e,this.root)}},Object.defineProperty(c,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new d(this,e)}}),Object.defineProperty(c,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new d(this,e)}}),c.at=function(e){if(e<0)return new d(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new d(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new d(this,[])},c.ge=function(e){for(var t=this._compare,n=this.root,r=[],o=0;n;){var i=t(e,n.key);r.push(n),i<=0&&(o=r.length),n=i<=0?n.left:n.right}return r.length=o,new d(this,r)},c.gt=function(e){for(var t=this._compare,n=this.root,r=[],o=0;n;){var i=t(e,n.key);r.push(n),i<0&&(o=r.length),n=i<0?n.left:n.right}return r.length=o,new d(this,r)},c.lt=function(e){for(var t=this._compare,n=this.root,r=[],o=0;n;){var i=t(e,n.key);r.push(n),i>0&&(o=r.length),n=i<=0?n.left:n.right}return r.length=o,new d(this,r)},c.le=function(e){for(var t=this._compare,n=this.root,r=[],o=0;n;){var i=t(e,n.key);r.push(n),i>=0&&(o=r.length),n=i<0?n.left:n.right}return r.length=o,new d(this,r)},c.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var o=t(e,n.key);if(r.push(n),0===o)return new d(this,r);n=o<=0?n.left:n.right}return new d(this,[])},c.remove=function(e){var t=this.find(e);return t?t.remove():this},c.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var f=d.prototype;function h(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function p(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(f,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(f,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),f.clone=function(){return new d(this.tree,this._stack.slice())},f.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var t=new Array(e.length),n=e[e.length-1];t[t.length-1]=new i(n._color,n.key,n.value,n.left,n.right,n._count);for(var c=e.length-2;c>=0;--c){var n=e[c];n.left===e[c+1]?t[c]=new i(n._color,n.key,n.value,t[c+1],n.right,n._count):t[c]=new i(n._color,n.key,n.value,n.left,t[c+1],n._count)}if((n=t[t.length-1]).left&&n.right){var d=t.length;for(n=n.left;n.right;)t.push(n),n=n.right;var f=t[d-1];t.push(new i(n._color,f.key,f.value,n.left,n.right,n._count)),t[d-1].key=n.key,t[d-1].value=n.value;for(var c=t.length-2;c>=d;--c)n=t[c],t[c]=new i(n._color,n.key,n.value,n.left,t[c+1],n._count);t[d-1].left=t[d]}if((n=t[t.length-1])._color===r){var p=t[t.length-2];p.left===n?p.left=null:p.right===n&&(p.right=null),t.pop();for(var c=0;c<t.length;++c)t[c]._count--;return new u(this.tree._compare,t[0])}if(n.left||n.right){n.left?h(n,n.left):n.right&&h(n,n.right),n._color=o;for(var c=0;c<t.length-1;++c)t[c]._count--;return new u(this.tree._compare,t[0])}if(1===t.length)return new u(this.tree._compare,null);for(var c=0;c<t.length;++c)t[c]._count--;var m=t[t.length-2];return function(e){for(var t,n,i,u,c=e.length-1;c>=0;--c){if(t=e[c],0===c)return void(t._color=o);if((n=e[c-1]).left===t){if((i=n.right).right&&i.right._color===r){if(i=n.right=a(i),u=i.right=a(i.right),n.right=i.left,i.left=n,i.right=u,i._color=n._color,t._color=o,n._color=o,u._color=o,l(n),l(i),c>1){var d=e[c-2];d.left===n?d.left=i:d.right=i}return void(e[c-1]=i)}if(i.left&&i.left._color===r){if(i=n.right=a(i),u=i.left=a(i.left),n.right=u.left,i.left=u.right,u.left=n,u.right=i,u._color=n._color,n._color=o,i._color=o,t._color=o,l(n),l(i),l(u),c>1){var d=e[c-2];d.left===n?d.left=u:d.right=u}return void(e[c-1]=u)}if(i._color===o){if(n._color===r)return n._color=o,void(n.right=s(r,i));n.right=s(r,i);continue}if(i=a(i),n.right=i.left,i.left=n,i._color=n._color,n._color=r,l(n),l(i),c>1){var d=e[c-2];d.left===n?d.left=i:d.right=i}e[c-1]=i,e[c]=n,c+1<e.length?e[c+1]=t:e.push(t),c+=2}else{if((i=n.left).left&&i.left._color===r){if(i=n.left=a(i),u=i.left=a(i.left),n.left=i.right,i.right=n,i.left=u,i._color=n._color,t._color=o,n._color=o,u._color=o,l(n),l(i),c>1){var d=e[c-2];d.right===n?d.right=i:d.left=i}return void(e[c-1]=i)}if(i.right&&i.right._color===r){if(i=n.left=a(i),u=i.right=a(i.right),n.left=u.right,i.right=u.left,u.right=n,u.left=i,u._color=n._color,n._color=o,i._color=o,t._color=o,l(n),l(i),l(u),c>1){var d=e[c-2];d.right===n?d.right=u:d.left=u}return void(e[c-1]=u)}if(i._color===o){if(n._color===r)return n._color=o,void(n.left=s(r,i));n.left=s(r,i);continue}if(i=a(i),n.left=i.right,i.right=n,i._color=n._color,n._color=r,l(n),l(i),c>1){var d=e[c-2];d.right===n?d.right=i:d.left=i}e[c-1]=i,e[c]=n,c+1<e.length?e[c+1]=t:e.push(t),c+=2}}}(t),m.left===n?m.left=null:m.right=null,new u(this.tree._compare,t[0])},Object.defineProperty(f,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(f,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(f,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),f.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(f,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),f.update=function(e){var t=this._stack;if(0===t.length)throw new Error("Can't update empty node!");var n=new Array(t.length),r=t[t.length-1];n[n.length-1]=new i(r._color,r.key,e,r.left,r.right,r._count);for(var o=t.length-2;o>=0;--o)(r=t[o]).left===t[o+1]?n[o]=new i(r._color,r.key,r.value,n[o+1],r.right,r._count):n[o]=new i(r._color,r.key,r.value,r.left,n[o+1],r._count);return new u(this.tree._compare,n[0])},f.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(f,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},{}],154:[function(e,t,n){var r=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],o=607/128,i=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function a(e){if(e<0)return Number("0/0");for(var t=i[0],n=i.length-1;n>0;--n)t+=i[n]/(e+n);var r=e+o+.5;return.5*Math.log(2*Math.PI)+(e+.5)*Math.log(r)-r+Math.log(t)-Math.log(e)}t.exports=function e(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*e(1-t));if(t>100)return Math.exp(a(t));t-=1;for(var n=r[0],o=1;o<9;o++)n+=r[o]/(t+o);var i=t+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(i,t+.5)*Math.exp(-i)*n},t.exports.log=a},{}],155:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("must specify type string");if(t=t||{},"undefined"==typeof document&&!t.canvas)return null;var n=t.canvas||document.createElement("canvas");"number"==typeof t.width&&(n.width=t.width),"number"==typeof t.height&&(n.height=t.height);var r,o=t;try{var i=[e];0===e.indexOf("webgl")&&i.push("experimental-"+e);for(var a=0;a<i.length;a++)if(r=n.getContext(i[a],o))return r}catch(e){r=null}return r||null}},{}],156:[function(e,t,n){"use strict";var r=e("typedarray-pool"),o=e("ndarray-ops"),i=e("ndarray"),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(e,t,n,r,o){this.gl=e,this.type=t,this.handle=n,this.length=r,this.usage=o}var l=s.prototype;function u(e,t,n,r,o,i){var a=o.length*o.BYTES_PER_ELEMENT;if(i<0)return e.bufferData(t,o,r),a;if(a+i>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return e.bufferSubData(t,i,o),n}function c(e,t){for(var n=r.malloc(e.length,t),o=e.length,i=0;i<o;++i)n[i]=e[i];return n}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(e,t){if("number"!=typeof t&&(t=-1),this.bind(),"object"==typeof e&&void 0!==e.shape){var n=e.dtype;if(a.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var s=gl.getExtension("OES_element_index_uint");n=s&&"uint16"!==n?"uint32":"uint16"}if(n===e.dtype&&function(e,t){for(var n=1,r=t.length-1;r>=0;--r){if(t[r]!==n)return!1;n*=e[r]}return!0}(e.shape,e.stride))0===e.offset&&e.data.length===e.shape[0]?this.length=u(this.gl,this.type,this.length,this.usage,e.data,t):this.length=u(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var l=r.malloc(e.size,n),d=i(l,e.shape);o.assign(d,e),this.length=u(this.gl,this.type,this.length,this.usage,t<0?l:l.subarray(0,e.size),t),r.free(l)}}else if(Array.isArray(e)){var f;f=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(e,"uint16"):c(e,"float32"),this.length=u(this.gl,this.type,this.length,this.usage,t<0?f:f.subarray(0,e.length),t),r.free(f)}else if("object"==typeof e&&"number"==typeof e.length)this.length=u(this.gl,this.type,this.length,this.usage,e,t);else{if("number"!=typeof e&&void 0!==e)throw new Error("gl-buffer: Invalid data type");if(t>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(e|=0)<=0&&(e=1),this.gl.bufferData(this.type,0|e,this.usage),this.length=e}},t.exports=function(e,t,n,r){if(n=n||e.ARRAY_BUFFER,r=r||e.DYNAMIC_DRAW,n!==e.ARRAY_BUFFER&&n!==e.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==e.DYNAMIC_DRAW&&r!==e.STATIC_DRAW&&r!==e.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=e.createBuffer(),i=new s(e,n,o,0,r);return i.update(t),i}},{ndarray:220,"ndarray-ops":219,"typedarray-pool":290}],157:[function(e,t,n){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34000:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],158:[function(e,t,n){var r=e("./1.0/numbers");t.exports=function(e){return r[e]}},{"./1.0/numbers":157}],159:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.gl,r=o(n,d.vertex,d.fragment),a=o(n,d.fillVertex,d.fragment),s=i(n),l=i(n),u=i(n),c=i(n),h=i(n),p=new f(e,r,a,s,l,u,c,h);return p.update(t),e.addObject(p),p};var r=e("iota-array"),o=e("gl-shader"),i=e("gl-buffer"),a=e("ndarray"),s=e("surface-nets"),l=e("cdt2d"),u=e("clean-pslg"),c=e("binary-search-bounds"),d=e("./lib/shaders");function f(e,t,n,r,o,i,a,s){this.plot=e,this.shader=t,this.fillShader=n,this.positionBuffer=r,this.colorBuffer=o,this.idBuffer=i,this.fillPositionBuffer=a,this.fillColorBuffer=s,this.fillVerts=0,this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.numVertices=0,this.lineWidth=1}var h,p,m=f.prototype,g=[1,0,0,0,0,1,1,0,1,1,0,1];function v(e,t){var n=Math.floor(t);if(n<0)return e[0];if(n>=e.length-1)return e[e.length-1];var r=t-n;return(1-r)*e[n]+r*e[n+1]}m.draw=(h=[1,0,0,0,1,0,0,0,1],p=[0,0],function(){var e,t,n=this.plot,r=this.shader,o=this.fillShader,i=this.bounds,a=this.numVertices,s=this.fillVerts,l=n.gl,u=n.viewBox,c=n.dataBox,d=i[2]-i[0],f=i[3]-i[1],m=c[2]-c[0],g=c[3]-c[1];if(h[0]=2*d/m,h[4]=2*f/g,h[6]=2*(i[0]-c[0])/m-1,h[7]=2*(i[1]-c[1])/g-1,p[0]=u[2]-u[0],p[1]=u[3]-u[1],s>0&&(o.bind(),(e=o.uniforms).viewTransform=h,e.screenShape=p,t=r.attributes,this.fillPositionBuffer.bind(),t.position.pointer(),this.fillColorBuffer.bind(),t.color.pointer(l.UNSIGNED_BYTE,!0),l.drawArrays(l.TRIANGLES,0,s)),a>0){r.bind();var v=this.lineWidth*n.pixelRatio;(e=r.uniforms).viewTransform=h,e.screenShape=p,e.lineWidth=v,e.pointSize=1e3,t=r.attributes,this.positionBuffer.bind(),t.position.pointer(l.FLOAT,!1,16,0),t.tangent.pointer(l.FLOAT,!1,16,8),this.colorBuffer.bind(),t.color.pointer(l.UNSIGNED_BYTE,!0),l.drawArrays(l.TRIANGLES,0,a),e.lineWidth=0,e.pointSize=v,this.positionBuffer.bind(),t.position.pointer(l.FLOAT,!1,48,0),t.tangent.pointer(l.FLOAT,!1,48,8),this.colorBuffer.bind(),t.color.pointer(l.UNSIGNED_BYTE,!0,12,0),l.drawArrays(l.POINTS,0,a/3)}}),m.drawPick=function(e){return e},m.pick=function(e,t,n){return null},m.update=function(e){var t=(e=e||{}).shape||[0,0],n=e.x||r(t[0]),o=e.y||r(t[1]),i=e.z||new Float32Array(t[0]*t[1]),d=e.levels||[],f=e.levelColors||[],h=this.bounds,p=h[0]=n[0],m=h[1]=o[0],y=h[2]=n[n.length-1],b=h[3]=o[o.length-1];p===y&&(h[2]+=1,y+=1),m===b&&(h[3]+=1,b+=1);var _=1/(y-p),x=1/(b-m);this.lineWidth=e.lineWidth||1;var w=a(i,t),k=[],E=[],T=[],A=[],S=[[0,0],[t[0]-1,0],[0,t[1]-1],[t[0]-1,t[1]-1]];function M(e,t,n,r){var o=r-n;return Math.abs(o)<1e-6?t:Math.floor(t)+Math.max(.001,Math.min(.999,(e-n)/o))}for(var C=0;C<d.length;++C){var j=d[C];if(!(C>0&&j===d[C-1])){for(var O=s(w,j),N=255*f[4*C]|0,R=255*f[4*C+1]|0,P=255*f[4*C+2]|0,I=255*f[4*C+3]|0,D=O.cells,L=O.positions,B=Array(L.length),F=0;F<B.length;++F)B[F]=0;for(F=0;F<D.length;++F){var z=D[F];B[z[0]]+=1,B[z[1]]+=1}for(F=0;F<B.length;++F){var U=B[F];if(0!==U){var q=L[F];if(B[F]=S.length,S.push(q),!(U>1)){var V,H=q[0],W=q[1],G=w.get(Math.floor(H),Math.floor(W)),X=w.get(Math.floor(H),Math.ceil(W)),K=w.get(Math.ceil(H),Math.floor(W)),Y=w.get(Math.ceil(H),Math.ceil(W));0===Math.floor(q[0])&&G<=j!=X<j?V=[0,M(j,q[1],G,X)]:Math.ceil(q[0])===t[0]-1&&K<=j!=Y<j?V=[t[0]-1,M(j,q[1],K,Y)]:0===Math.floor(q[1])&&G<=j!=K<j?V=[M(j,q[0],G,K),0]:Math.ceil(q[1])===t[1]-1&&X<=j!=Y<j&&(V=[M(j,q[0],X,Y),t[1]-1]),V&&(D.push([F,L.length]),B.push(S.length),L.push(V))}}}for(F=0;F<D.length;++F){var $=D[F],Z=L[$[0]],Q=L[$[1]];A.push([B[$[0]],B[$[1]]]);for(var J=Math.round(Z[0])+t[0]*Math.round(Z[1]),ee=v(n,Z[0]),te=v(o,Z[1]),ne=v(n,Q[0]),re=v(o,Q[1]),oe=(ee=_*(ee-p))-(ne=_*(ne-p)),ie=(te=x*(te-m))-(re=x*(re-m)),ae=0;ae<g.length;ae+=2){var se=g[ae],le=1-se,ue=2*g[ae+1]-1;k.push(le*ee+se*ne,le*te+se*re,ue*oe,ue*ie),E.push(N,R,P,I),T.push(J)}}}}this.positionBuffer.update(new Float32Array(k)),this.colorBuffer.update(new Uint8Array(E)),this.idBuffer.update(new Uint32Array(T)),this.numVertices=T.length;var ce=e.fillColors,de=[],fe=[],he=0;if(ce){u(S,A);var pe=l(S,A,{delaunay:!1});for(C=0;C<pe.length;++C){var me=pe[C],ge=0,ve=0;for(F=0;F<3;++F){var ye=S[me[F]],be=v(n,ye[0]),_e=v(o,ye[1]);ge+=ye[0],ve+=ye[1],fe.push(_*(be-p),x*(_e-m))}ge/=3,ve/=3;var xe=Math.floor(ge),we=Math.floor(ve),ke=ge-xe,Ee=ve-we,Te=w.get(xe,we),Ae=w.get(xe,we+1),Se=w.get(xe+1,we),Me=w.get(xe+1,we+1),Ce=(1-Ee)*((1-ke)*Te+ke*Se)+Ee*((1-ke)*Ae+ke*Me),je=c.le(d,Ce)+1,Oe=255*ce[4*je+0]|0,Ne=255*ce[4*je+1]|0,Re=255*ce[4*je+2]|0,Pe=255*ce[4*je+3]|0;de.push(Oe,Ne,Re,Pe,Oe,Ne,Re,Pe,Oe,Ne,Re,Pe),he+=3}this.fillPositionBuffer.update(new Float32Array(fe)),this.fillColorBuffer.update(new Uint8Array(de)),this.fillVerts=he}},m.dispose=function(){this.plot.removeObject(this)}},{"./lib/shaders":160,"binary-search-bounds":161,cdt2d:52,"clean-pslg":59,"gl-buffer":156,"gl-shader":180,"iota-array":205,ndarray:220,"surface-nets":278}],160:[function(e,t,n){"use strict";var r=e("glslify");t.exports={fragment:r(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec2 tangent;\nattribute vec4 color;\n\nuniform mat3 viewTransform;\nuniform vec2 screenShape;\nuniform float lineWidth;\nuniform float pointSize;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  fragColor = color;\n\n  vec3 vPosition = viewTransform * vec3(position, 1.0);\n  vec2 vTangent = normalize(viewTransform * vec3(tangent, 0)).xy;\n  vec2 offset = vec2(vTangent.y, -vTangent.x) / screenShape;\n\n  gl_Position = vec4(\n    vPosition.xy + offset * lineWidth * vPosition.z,\n    0,\n    vPosition.z);\n\n  gl_PointSize = pointSize;\n}\n"]),fillVertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\n\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  fragColor = color;\n  vec3 vPosition = viewTransform * vec3(position, 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},{glslify:199}],161:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],162:[function(e,t,n){"use strict";var r=e("gl-texture2d");t.exports=function(e,t,n,r){o||(o=e.FRAMEBUFFER_UNSUPPORTED,i=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var u=e.getExtension("WEBGL_draw_buffers");if(!l&&u&&function(e,t){var n=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(n+1);for(var r=0;r<=n;++r){for(var o=new Array(n),i=0;i<r;++i)o[i]=e.COLOR_ATTACHMENT0+i;for(var i=r;i<n;++i)o[i]=e.NONE;l[r]=o}}(e,u),Array.isArray(t)&&(r=n,n=0|t[1],t=0|t[0]),"number"!=typeof t)throw new Error("gl-fbo: Missing shape parameter");var c=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>c||n<0||n>c)throw new Error("gl-fbo: Parameters are too large for FBO");var d=1;if("color"in(r=r||{})){if((d=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(d>1){if(!u)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(d>e.getParameter(u.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+d+" draw buffers")}}var f=e.UNSIGNED_BYTE,h=e.getExtension("OES_texture_float");if(r.float&&d>0){if(!h)throw new Error("gl-fbo: Context does not support floating point textures");f=e.FLOAT}else r.preferFloat&&d>0&&h&&(f=e.FLOAT);var m=!0;"depth"in r&&(m=!!r.depth);var g=!1;return"stencil"in r&&(g=!!r.stencil),new p(e,t,n,f,d,m,g,u)};var o,i,a,s,l=null;function u(e){var t=e.getParameter(e.FRAMEBUFFER_BINDING),n=e.getParameter(e.RENDERBUFFER_BINDING),r=e.getParameter(e.TEXTURE_BINDING_2D);return[t,n,r]}function c(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function d(e){switch(e){case o:throw new Error("gl-fbo: Framebuffer unsupported");case i:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function f(e,t,n,o,i,a){if(!o)return null;var s=r(e,t,n,i,o);return s.magFilter=e.NEAREST,s.minFilter=e.NEAREST,s.mipSamples=1,s.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,a,e.TEXTURE_2D,s.handle,0),s}function h(e,t,n,r,o){var i=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,r,t,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,o,e.RENDERBUFFER,i),i}function p(e,t,n,r,o,i,a,s){this.gl=e,this._shape=[0|t,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(o);for(var p=0;p<o;++p)this.color[p]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=i,this._useStencil=a;var m=this,g=[0|t,0|n];Object.defineProperties(g,{0:{get:function(){return m._shape[0]},set:function(e){return m.width=e}},1:{get:function(){return m._shape[1]},set:function(e){return m.height=e}}}),this._shapeVector=g,function(e){var t=u(e.gl),n=e.gl,r=e.handle=n.createFramebuffer(),o=e._shape[0],i=e._shape[1],a=e.color.length,s=e._ext,p=e._useStencil,m=e._useDepth,g=e._colorType;n.bindFramebuffer(n.FRAMEBUFFER,r);for(var v=0;v<a;++v)e.color[v]=f(n,o,i,g,n.RGBA,n.COLOR_ATTACHMENT0+v);0===a?(e._color_rb=h(n,o,i,n.RGBA4,n.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(l[0])):a>1&&s.drawBuffersWEBGL(l[a]);var y=n.getExtension("WEBGL_depth_texture");y?p?e.depth=f(n,o,i,y.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):m&&(e.depth=f(n,o,i,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):m&&p?e._depth_rb=h(n,o,i,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):m?e._depth_rb=h(n,o,i,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):p&&(e._depth_rb=h(n,o,i,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){e._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(e.handle),e.handle=null,e.depth&&(e.depth.dispose(),e.depth=null),e._depth_rb&&(n.deleteRenderbuffer(e._depth_rb),e._depth_rb=null);for(var v=0;v<e.color.length;++v)e.color[v].dispose(),e.color[v]=null;e._color_rb&&(n.deleteRenderbuffer(e._color_rb),e._color_rb=null),c(n,t),d(b)}c(n,t)}(this)}var m=p.prototype;function g(e,t,n){if(e._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(e._shape[0]!==t||e._shape[1]!==n){var r=e.gl,o=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(t<0||t>o||n<0||n>o)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");e._shape[0]=t,e._shape[1]=n;for(var i=u(r),a=0;a<e.color.length;++a)e.color[a].shape=e._shape;e._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,e._shape[0],e._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,e.handle);var s=r.checkFramebufferStatus(r.FRAMEBUFFER);s!==r.FRAMEBUFFER_COMPLETE&&(e.dispose(),c(r,i),d(s)),c(r,i)}}Object.defineProperties(m,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[0|e,0|e]),2!==e.length)throw new Error("gl-fbo: Shape vector must be length 2");var t=0|e[0],n=0|e[1];return g(this,t,n),[t,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return g(this,e|=0,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e|=0,g(this,this._shape[0],e),e},enumerable:!1}}),m.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},m.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(e.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(e.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":189}],163:[function(e,t,n){var r=e("sprintf-js").sprintf,o=e("gl-constants/lookup"),i=e("glsl-shader-name"),a=e("add-line-numbers");t.exports=function(e,t,n){"use strict";var s=i(t)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==n&&(l=n===o.FRAGMENT_SHADER?"fragment":"vertex");for(var u=r("Error compiling %s shader %s:\n",l,s),c=r("%s%s",u,e),d=e.split("\n"),f={},h=0;h<d.length;h++){var p=d[h];if(""!==p&&"\0"!==p){var m=parseInt(p.split(":")[2]);if(isNaN(m))throw new Error(r("Could not parse error: %s",p));f[m]=p}}for(var g=a(t).split("\n"),h=0;h<g.length;h++)if(f[h+3]||f[h+2]||f[h+1]){var v=g[h];if(u+=v+"\n",f[h+1]){var y=f[h+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),u+=r("^^^ %s\n\n",y)}}return{long:u.trim(),short:c.trim()}}},{"add-line-numbers":12,"gl-constants/lookup":158,"glsl-shader-name":191,"sprintf-js":275}],164:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.gl,r=a(n,l.vertex,l.fragment),o=a(n,l.pickVertex,l.pickFragment),i=s(n),c=s(n),d=s(n),f=s(n),h=new u(e,r,o,i,c,d,f);return h.update(t),e.addObject(h),h};var r=e("binary-search-bounds"),o=e("iota-array"),i=e("typedarray-pool"),a=e("gl-shader"),s=e("gl-buffer"),l=e("./lib/shaders");function u(e,t,n,r,o,i,a){this.plot=e,this.shader=t,this.pickShader=n,this.positionBuffer=r,this.weightBuffer=o,this.colorBuffer=i,this.idBuffer=a,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,d=u.prototype,f=[0,0,1,0,0,1,1,0,1,1,0,1];d.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var e=this.plot,t=this.shader,n=this.bounds,r=this.numVertices;if(!(r<=0)){var o=e.gl,i=e.dataBox,a=n[2]-n[0],s=n[3]-n[1],l=i[2]-i[0],u=i[3]-i[1];c[0]=2*a/l,c[4]=2*s/u,c[6]=2*(n[0]-i[0])/l-1,c[7]=2*(n[1]-i[1])/u-1,t.bind();var d=t.uniforms;d.viewTransform=c,d.shape=this.shape;var f=t.attributes;this.positionBuffer.bind(),f.position.pointer(),this.weightBuffer.bind(),f.weight.pointer(o.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),f.color.pointer(o.UNSIGNED_BYTE,!0),o.drawArrays(o.TRIANGLES,0,r)}}),d.drawPick=function(){var e=[1,0,0,0,1,0,0,0,1],t=[0,0,0,0];return function(n){var r=this.plot,o=this.pickShader,i=this.bounds,a=this.numVertices;if(!(a<=0)){var s=r.gl,l=r.dataBox,u=i[2]-i[0],c=i[3]-i[1],d=l[2]-l[0],f=l[3]-l[1];e[0]=2*u/d,e[4]=2*c/f,e[6]=2*(i[0]-l[0])/d-1,e[7]=2*(i[1]-l[1])/f-1;for(var h=0;h<4;++h)t[h]=n>>8*h&255;this.pickOffset=n,o.bind();var p=o.uniforms;p.viewTransform=e,p.pickOffset=t,p.shape=this.shape;var m=o.attributes;return this.positionBuffer.bind(),m.position.pointer(),this.weightBuffer.bind(),m.weight.pointer(s.UNSIGNED_BYTE,!1),this.idBuffer.bind(),m.pickId.pointer(s.UNSIGNED_BYTE,!1),s.drawArrays(s.TRIANGLES,0,a),n+this.shape[0]*this.shape[1]}}}(),d.pick=function(e,t,n){var r=this.pickOffset,o=this.shape[0]*this.shape[1];if(n<r||n>=r+o)return null;var i=n-r,a=this.xData,s=this.yData;return{object:this,pointId:i,dataCoord:[a[i%this.shape[0]],s[i/this.shape[0]|0]]}},d.update=function(e){var t=(e=e||{}).shape||[0,0],n=e.x||o(t[0]),a=e.y||o(t[1]),s=e.z||new Float32Array(t[0]*t[1]);this.xData=n,this.yData=a;var l=e.colorLevels||[0],u=e.colorValues||[0,0,0,1],c=l.length,d=this.bounds,h=d[0]=n[0],p=d[1]=a[0],m=d[2]=n[n.length-1],g=d[3]=a[a.length-1],v=1/(m-h),y=1/(g-p),b=t[0],_=t[1];this.shape=[b,_];var x=(b-1)*(_-1)*(f.length>>>1);this.numVertices=x;for(var w=i.mallocUint8(4*x),k=i.mallocFloat32(2*x),E=i.mallocUint8(2*x),T=i.mallocUint32(x),A=0,S=0;S<_-1;++S)for(var M=y*(a[S]-p),C=y*(a[S+1]-p),j=0;j<b-1;++j)for(var O=v*(n[j]-h),N=v*(n[j+1]-h),R=0;R<f.length;R+=2){var P,I,D,L,B=f[R],F=f[R+1],z=(S+F)*b+(j+B),U=s[z],q=r.le(l,U);if(q<0)P=u[0],I=u[1],D=u[2],L=u[3];else if(q===c-1)P=u[4*c-4],I=u[4*c-3],D=u[4*c-2],L=u[4*c-1];else{var V=(U-l[q])/(l[q+1]-l[q]),H=1-V,W=4*q,G=4*(q+1);P=H*u[W]+V*u[G],I=H*u[W+1]+V*u[G+1],D=H*u[W+2]+V*u[G+2],L=H*u[W+3]+V*u[G+3]}w[4*A]=255*P,w[4*A+1]=255*I,w[4*A+2]=255*D,w[4*A+3]=255*L,k[2*A]=.5*O+.5*N,k[2*A+1]=.5*M+.5*C,E[2*A]=B,E[2*A+1]=F,T[A]=S*b+j,A+=1}this.positionBuffer.update(k),this.weightBuffer.update(E),this.colorBuffer.update(w),this.idBuffer.update(T),i.free(k),i.free(w),i.free(E),i.free(T)},d.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},{"./lib/shaders":165,"binary-search-bounds":166,"gl-buffer":156,"gl-shader":180,"iota-array":205,"typedarray-pool":290}],165:[function(e,t,n){"use strict";var r=e("glslify");t.exports={fragment:r(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},{glslify:199}],166:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],167:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,l=o+o,u=n*a,c=r*a,d=r*s,f=o*a,h=o*s,p=o*l,m=i*a,g=i*s,v=i*l;return e[0]=1-d-p,e[1]=c+v,e[2]=f-g,e[3]=0,e[4]=c-v,e[5]=1-u-p,e[6]=h+m,e[7]=0,e[8]=f+g,e[9]=h-m,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],168:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t,[0,0,0,1,1,0,1,1]),s=o(t,i.boxVert,i.lineFrag);return new a(e,n,s)};var r=e("gl-buffer"),o=e("gl-shader"),i=e("./shaders");function a(e,t,n){this.plot=e,this.vbo=t,this.shader=n}var s,l,u=a.prototype;u.bind=function(){var e=this.shader;this.vbo.bind(),this.shader.bind(),e.attributes.coord.pointer(),e.uniforms.screenBox=this.plot.screenBox},u.drawBox=(s=[0,0],l=[0,0],function(e,t,n,r,o){var i=this.plot,a=this.shader,u=i.gl;s[0]=e,s[1]=t,l[0]=n,l[1]=r,a.uniforms.lo=s,a.uniforms.hi=l,a.uniforms.color=o,u.drawArrays(u.TRIANGLE_STRIP,0,4)}),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":171,"gl-buffer":156,"gl-shader":180}],169:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t),i=o(t,a.gridVert,a.gridFrag),l=o(t,a.tickVert,a.gridFrag);return new s(e,n,i,l)};var r=e("gl-buffer"),o=e("gl-shader"),i=e("binary-search-bounds"),a=e("./shaders");function s(e,t,n,r){this.plot=e,this.vbo=t,this.shader=n,this.tickShader=r,this.ticks=[[],[]]}function l(e,t){return e-t}var u,c,d,f,h,p=s.prototype;p.draw=(u=[0,0],c=[0,0],d=[0,0],function(){for(var e=this.plot,t=this.vbo,n=this.shader,r=this.ticks,o=e.gl,i=e._tickBounds,a=e.dataBox,s=e.viewBox,l=e.gridLineWidth,f=e.gridLineColor,h=e.gridLineEnable,p=e.pixelRatio,m=0;m<2;++m){var g=i[m],v=i[m+2],y=v-g,b=.5*(a[m+2]+a[m]),_=a[m+2]-a[m];c[m]=2*y/_,u[m]=2*(g-b)/_}n.bind(),t.bind(),n.attributes.dataCoord.pointer(),n.uniforms.dataShift=u,n.uniforms.dataScale=c;for(var x=0,m=0;m<2;++m){d[0]=d[1]=0,d[m]=1,n.uniforms.dataAxis=d,n.uniforms.lineWidth=l[m]/(s[m+2]-s[m])*p,n.uniforms.color=f[m];var w=6*r[m].length;h[m]&&w&&o.drawArrays(o.TRIANGLES,x,w),x+=w}}),p.drawTickMarks=function(){var e=[0,0],t=[0,0],n=[1,0],r=[0,1],o=[0,0],a=[0,0];return function(){for(var s=this.plot,u=this.vbo,c=this.tickShader,d=this.ticks,f=s.gl,h=s._tickBounds,p=s.dataBox,m=s.viewBox,g=s.pixelRatio,v=s.screenBox,y=v[2]-v[0],b=v[3]-v[1],_=m[2]-m[0],x=m[3]-m[1],w=0;w<2;++w){var k=h[w],E=h[w+2],T=E-k,A=.5*(p[w+2]+p[w]),S=p[w+2]-p[w];t[w]=2*T/S,e[w]=2*(k-A)/S}t[0]*=_/y,e[0]*=_/y,t[1]*=x/b,e[1]*=x/b,c.bind(),u.bind(),c.attributes.dataCoord.pointer();var M=c.uniforms;M.dataShift=e,M.dataScale=t;var C=s.tickMarkLength,j=s.tickMarkWidth,O=s.tickMarkColor,N=6*d[0].length,R=Math.min(i.ge(d[0],(p[0]-h[0])/(h[2]-h[0]),l),d[0].length),P=Math.min(i.gt(d[0],(p[2]-h[0])/(h[2]-h[0]),l),d[0].length),I=0+6*R,D=6*Math.max(0,P-R),L=Math.min(i.ge(d[1],(p[1]-h[1])/(h[3]-h[1]),l),d[1].length),B=Math.min(i.gt(d[1],(p[3]-h[1])/(h[3]-h[1]),l),d[1].length),F=N+6*L,z=6*Math.max(0,B-L);o[0]=2*(m[0]-C[1])/y-1,o[1]=(m[3]+m[1])/b-1,a[0]=C[1]*g/y,a[1]=j[1]*g/b,z&&(M.color=O[1],M.tickScale=a,M.dataAxis=r,M.screenOffset=o,f.drawArrays(f.TRIANGLES,F,z)),o[0]=(m[2]+m[0])/y-1,o[1]=2*(m[1]-C[0])/b-1,a[0]=j[0]*g/y,a[1]=C[0]*g/b,D&&(M.color=O[0],M.tickScale=a,M.dataAxis=n,M.screenOffset=o,f.drawArrays(f.TRIANGLES,I,D)),o[0]=2*(m[2]+C[3])/y-1,o[1]=(m[3]+m[1])/b-1,a[0]=C[3]*g/y,a[1]=j[3]*g/b,z&&(M.color=O[3],M.tickScale=a,M.dataAxis=r,M.screenOffset=o,f.drawArrays(f.TRIANGLES,F,z)),o[0]=(m[2]+m[0])/y-1,o[1]=2*(m[3]+C[2])/b-1,a[0]=j[2]*g/y,a[1]=C[2]*g/b,D&&(M.color=O[2],M.tickScale=a,M.dataAxis=n,M.screenOffset=o,f.drawArrays(f.TRIANGLES,I,D))}}(),p.update=(f=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1],function(e){for(var t=e.ticks,n=e.bounds,r=new Float32Array(18*(t[0].length+t[1].length)),o=(this.plot.zeroLineEnable,0),i=[[],[]],a=0;a<2;++a)for(var s=i[a],l=t[a],u=n[a],c=n[a+2],d=0;d<l.length;++d){var p=(l[d].x-u)/(c-u);s.push(p);for(var m=0;m<6;++m)r[o++]=p,r[o++]=f[m],r[o++]=h[m]}this.ticks=i,this.vbo.update(r)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},{"./shaders":171,"binary-search-bounds":173,"gl-buffer":156,"gl-shader":180}],170:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t,[-1,-1,-1,1,1,-1,1,1]),s=o(t,i.lineVert,i.lineFrag);return new a(e,n,s)};var r=e("gl-buffer"),o=e("gl-shader"),i=e("./shaders");function a(e,t,n){this.plot=e,this.vbo=t,this.shader=n}var s,l,u=a.prototype;u.bind=function(){var e=this.shader;this.vbo.bind(),this.shader.bind(),e.attributes.coord.pointer(),e.uniforms.screenBox=this.plot.screenBox},u.drawLine=(s=[0,0],l=[0,0],function(e,t,n,r,o,i){var a=this.plot,u=this.shader,c=a.gl;s[0]=e,s[1]=t,l[0]=n,l[1]=r,u.uniforms.start=s,u.uniforms.end=l,u.uniforms.width=o*a.pixelRatio,u.uniforms.color=i,c.drawArrays(c.TRIANGLE_STRIP,0,4)}),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":171,"gl-buffer":156,"gl-shader":180}],171:[function(e,t,n){"use strict";var r=e("glslify"),o=r(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);t.exports={lineVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:o,textVert:r(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:o,gridVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:o,boxVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},{glslify:199}],172:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t),i=o(t,s.textVert,s.textFrag);return new l(e,n,i)};var r=e("gl-buffer"),o=e("gl-shader"),i=e("text-cache"),a=e("binary-search-bounds"),s=e("./shaders");function l(e,t,n){this.plot=e,this.vbo=t,this.shader=n,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var u,c,d,f,h,p,m=l.prototype;m.drawTicks=(u=[0,0],c=[0,0],d=[0,0],function(e){var t=this.plot,n=this.shader,r=this.tickX[e],o=this.tickOffset[e],i=t.gl,s=t.viewBox,l=t.dataBox,f=t.screenBox,h=t.pixelRatio,p=t.tickEnable,m=t.tickPad,g=t.tickColor,v=t.tickAngle,y=t.labelEnable,b=t.labelPad,_=t.labelColor,x=t.labelAngle,w=this.labelOffset[e],k=this.labelCount[e],E=a.lt(r,l[e]),T=a.le(r,l[e+2]);u[0]=u[1]=0,u[e]=1,c[e]=(s[2+e]+s[e])/(f[2+e]-f[e])-1;var A=2/f[2+(1^e)]-f[1^e];c[1^e]=A*s[1^e]-1,p[e]&&(c[1^e]-=A*h*m[e],E<T&&o[T]>o[E]&&(n.uniforms.dataAxis=u,n.uniforms.screenOffset=c,n.uniforms.color=g[e],n.uniforms.angle=v[e],i.drawArrays(i.TRIANGLES,o[E],o[T]-o[E]))),y[e]&&k&&(c[1^e]-=A*h*b[e],n.uniforms.dataAxis=d,n.uniforms.screenOffset=c,n.uniforms.color=_[e],n.uniforms.angle=x[e],i.drawArrays(i.TRIANGLES,w,k)),c[1^e]=A*s[2+(1^e)]-1,p[e+2]&&(c[1^e]+=A*h*m[e+2],E<T&&o[T]>o[E]&&(n.uniforms.dataAxis=u,n.uniforms.screenOffset=c,n.uniforms.color=g[e+2],n.uniforms.angle=v[e+2],i.drawArrays(i.TRIANGLES,o[E],o[T]-o[E]))),y[e+2]&&k&&(c[1^e]+=A*h*b[e+2],n.uniforms.dataAxis=d,n.uniforms.screenOffset=c,n.uniforms.color=_[e+2],n.uniforms.angle=x[e+2],i.drawArrays(i.TRIANGLES,w,k))}),m.drawTitle=function(){var e=[0,0],t=[0,0];return function(){var n=this.plot,r=this.shader,o=n.gl,i=n.screenBox,a=n.titleCenter,s=n.titleAngle,l=n.titleColor,u=n.pixelRatio;if(this.titleCount){for(var c=0;c<2;++c)t[c]=2*(a[c]*u-i[c])/(i[2+c]-i[c])-1;r.bind(),r.uniforms.dataAxis=e,r.uniforms.screenOffset=t,r.uniforms.angle=s,r.uniforms.color=l,o.drawArrays(o.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=(f=[0,0],h=[0,0],p=[0,0],function(){var e=this.plot,t=this.shader,n=e._tickBounds,r=e.dataBox,o=e.screenBox,i=e.viewBox;t.bind();for(var a=0;a<2;++a){var s=n[a],l=n[a+2],u=l-s,c=.5*(r[a+2]+r[a]),d=r[a+2]-r[a],m=i[a],g=i[a+2],v=g-m,y=o[a],b=o[a+2],_=b-y;h[a]=2*u/d*v/_,f[a]=2*(s-c)/d*v/_}p[1]=2*e.pixelRatio/(o[3]-o[1]),p[0]=p[1]*(o[3]-o[1])/(o[2]-o[0]),t.uniforms.dataScale=h,t.uniforms.dataShift=f,t.uniforms.textScale=p,this.vbo.bind(),t.attributes.textCoordinate.pointer()}),m.update=function(e){var t,n,r,o,a,s=[],l=e.ticks,u=e.bounds;for(a=0;a<2;++a){var c=[Math.floor(s.length/3)],d=[-1/0],f=l[a];for(t=0;t<f.length;++t){var h=f[t],p=h.x,m=h.text,g=h.font||"sans-serif";o=h.fontSize||12;for(var v=1/(u[a+2]-u[a]),y=u[a],b=m.split("\n"),_=0;_<b.length;_++)for(r=i(g,b[_]).data,n=0;n<r.length;n+=2)s.push(r[n]*o,-r[n+1]*o-_*o*1.2,(p-y)*v);c.push(Math.floor(s.length/3)),d.push(p)}this.tickOffset[a]=c,this.tickX[a]=d}for(a=0;a<2;++a){for(this.labelOffset[a]=Math.floor(s.length/3),r=i(e.labelFont[a],e.labels[a],{textAlign:"center"}).data,o=e.labelSize[a],t=0;t<r.length;t+=2)s.push(r[t]*o,-r[t+1]*o,0);this.labelCount[a]=Math.floor(s.length/3)-this.labelOffset[a]}for(this.titleOffset=Math.floor(s.length/3),r=i(e.titleFont,e.title).data,o=e.titleSize,t=0;t<r.length;t+=2)s.push(r[t]*o,-r[t+1]*o,0);this.titleCount=Math.floor(s.length/3)-this.titleOffset,this.vbo.update(s)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":171,"binary-search-bounds":173,"gl-buffer":156,"gl-shader":180,"text-cache":283}],173:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],174:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t,[t.drawingBufferWidth,t.drawingBufferHeight]),u=new l(t,n);return u.grid=o(u),u.text=i(u),u.line=a(u),u.box=s(u),u.update(e),u};var r=e("gl-select-static"),o=e("./lib/grid"),i=e("./lib/text"),a=e("./lib/line"),s=e("./lib/box");function l(e,t){this.gl=e,this.pickBuffer=t,this.screenBox=[0,0,e.drawingBufferWidth,e.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var u=l.prototype;function c(e){for(var t=e.slice(),n=0;n<t.length;++n)t[n]=t[n].slice();return t}function d(e,t){return e.x-t.x}u.setDirty=function(){this.dirty=this.pickDirty=!0},u.setOverlayDirty=function(){this.dirty=!0},u.nextDepthValue=function(){return this._depthCounter++/65536},u.draw=function(){var e=this.gl,t=this.screenBox,n=this.viewBox,r=this.dataBox,o=this.pixelRatio,i=this.grid,a=this.line,s=this.text,l=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,e.bindFramebuffer(e.FRAMEBUFFER,null),e.enable(e.SCISSOR_TEST),e.disable(e.DEPTH_TEST),e.depthFunc(e.LESS),e.depthMask(!1),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD,e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this.borderColor){e.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]);var u=this.borderColor;e.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}e.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]),e.viewport(n[0],n[1],n[2]-n[0],n[3]-n[1]);var c=this.backgroundColor;e.clearColor(c[0]*c[3],c[1]*c[3],c[2]*c[3],c[3]),e.clear(e.COLOR_BUFFER_BIT),i.draw();var d=this.zeroLineEnable,f=this.zeroLineColor,h=this.zeroLineWidth;if(d[0]||d[1]){a.bind();for(var p=0;p<2;++p)if(d[p]&&r[p]<=0&&r[p+2]>=0){var m=t[p]-r[p]*(t[p+2]-t[p])/(r[p+2]-r[p]);0===p?a.drawLine(m,t[1],m,t[3],h[p],f[p]):a.drawLine(t[0],m,t[2],m,h[p],f[p])}}for(var p=0;p<l.length;++p)l[p].draw();e.viewport(t[0],t[1],t[2]-t[0],t[3]-t[1]),e.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.grid.drawTickMarks(),a.bind();var g=this.borderLineEnable,v=this.borderLineWidth,y=this.borderLineColor;g[1]&&a.drawLine(n[0],n[1]-.5*v[1]*o,n[0],n[3]+.5*v[3]*o,v[1],y[1]),g[0]&&a.drawLine(n[0]-.5*v[0]*o,n[1],n[2]+.5*v[2]*o,n[1],v[0],y[0]),g[3]&&a.drawLine(n[2],n[1]-.5*v[1]*o,n[2],n[3]+.5*v[3]*o,v[3],y[3]),g[2]&&a.drawLine(n[0]-.5*v[0]*o,n[3],n[2]+.5*v[2]*o,n[3],v[2],y[2]),s.bind();for(var p=0;p<2;++p)s.drawTicks(p);this.titleEnable&&s.drawTitle();for(var b=this.overlays,p=0;p<b.length;++p)b[p].draw();e.disable(e.SCISSOR_TEST),e.disable(e.BLEND),e.depthMask(!0)}},u.drawPick=function(){if(!this.static){var e=this.pickBuffer;this.gl,this._pickTimeout=null,e.begin();for(var t=1,n=this.objects,r=0;r<n.length;++r)t=n[r].drawPick(t);e.end()}},u.pick=function(e,t){if(!this.static){var n=this.pixelRatio,r=this.pickPixelRatio,o=this.viewBox,i=0|Math.round((e-o[0]/n)*r),a=0|Math.round((t-o[1]/n)*r),s=this.pickBuffer.query(i,a,this.pickRadius);if(!s)return null;for(var l=s.id+(s.value[0]<<8)+(s.value[1]<<16)+(s.value[2]<<24),u=this.objects,c=0;c<u.length;++c){var d=u[c].pick(i,a,l);if(d)return d}return null}},u.setScreenBox=function(e){var t=this.screenBox,n=this.pixelRatio;t[0]=0|Math.round(e[0]*n),t[1]=0|Math.round(e[1]*n),t[2]=0|Math.round(e[2]*n),t[3]=0|Math.round(e[3]*n),this.setDirty()},u.setDataBox=function(e){var t=this.dataBox,n=t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3];n&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this.setDirty())},u.setViewBox=function(e){var t=this.pixelRatio,n=this.viewBox;n[0]=0|Math.round(e[0]*t),n[1]=0|Math.round(e[1]*t),n[2]=0|Math.round(e[2]*t),n[3]=0|Math.round(e[3]*t);var r=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((e[2]-e[0])*r),0|Math.round((e[3]-e[1])*r)],this.setDirty()},u.update=function(e){e=e||{};var t=this.gl;this.pixelRatio=e.pixelRatio||1;var n=this.pixelRatio;this.pickPixelRatio=Math.max(n,1),this.setScreenBox(e.screenBox||[0,0,t.drawingBufferWidth/n,t.drawingBufferHeight/n]),this.screenBox,this.setViewBox(e.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/n,.125*(this.screenBox[3]-this.screenBox[1])/n,.875*(this.screenBox[2]-this.screenBox[0])/n,.875*(this.screenBox[3]-this.screenBox[1])/n]);var r=this.viewBox,o=(r[2]-r[0])/(r[3]-r[1]);this.setDataBox(e.dataBox||[-10,-10/o,10,10/o]),this.borderColor=!1!==e.borderColor&&(e.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(e.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(e.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(e.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(e.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(e.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(e.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(e.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(e.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(e.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(e.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(e.titleCenter||[.5*(r[0]+r[2])/n,(r[3]+120)/n]).slice(),this.titleEnable=!("titleEnable"in e&&!e.titleEnable),this.titleAngle=e.titleAngle||0,this.titleColor=(e.titleColor||[0,0,0,1]).slice(),this.labelPad=(e.labelPad||[15,15,15,15]).slice(),this.labelAngle=(e.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(e.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(e.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(e.tickPad||[15,15,15,15]).slice(),this.tickAngle=(e.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(e.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(e.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(e.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(e.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(e.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var i=e.ticks||[[],[]],a=this._tickBounds;a[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(var s=0;s<2;++s){var l=i[s].slice(0);0!==l.length&&(l.sort(d),a[s]=Math.min(a[s],l[0].x),a[s+2]=Math.max(a[s+2],l[l.length-1].x))}this.grid.update({bounds:a,ticks:i}),this.text.update({bounds:a,ticks:i,labels:e.labels||["x","y"],labelSize:e.labelSize||[12,12],labelFont:e.labelFont||["sans-serif","sans-serif"],title:e.title||"",titleSize:e.titleSize||18,titleFont:e.titleFont||"sans-serif"}),this.static=!!e.static,this.setDirty()},u.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var e=this.objects.length-1;e>=0;--e)this.objects[e].dispose();this.objects.length=0;for(var e=this.overlays.length-1;e>=0;--e)this.overlays[e].dispose();this.overlays.length=0,this.gl=null},u.addObject=function(e){this.objects.indexOf(e)<0&&(this.objects.push(e),this.setDirty())},u.removeObject=function(e){for(var t=this.objects,n=0;n<t.length;++n)if(t[n]===e){t.splice(n,1),this.setDirty();break}},u.addOverlay=function(e){this.overlays.indexOf(e)<0&&(this.overlays.push(e),this.setOverlayDirty())},u.removeOverlay=function(e){for(var t=this.overlays,n=0;n<t.length;++n)if(t[n]===e){t.splice(n,1),this.setOverlayDirty();break}}},{"./lib/box":168,"./lib/grid":169,"./lib/line":170,"./lib/text":172,"gl-select-static":179}],175:[function(e,t,n){var r=e("glslify");n.pointVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),n.pointFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),n.pickVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),n.pickFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},{glslify:199}],176:[function(e,t,n){"use strict";var r=e("gl-shader"),o=e("gl-buffer"),i=e("typedarray-pool"),a=e("./lib/shader");function s(e,t,n,r,o){this.plot=e,this.offsetBuffer=t,this.pickBuffer=n,this.shader=r,this.pickShader=o,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}t.exports=function(e,t){var n=e.gl,i=o(n),l=o(n),u=r(n,a.pointVertex,a.pointFragment),c=r(n,a.pickVertex,a.pickFragment),d=new s(e,i,l,u,c);return d.update(t),e.addObject(d),d};var l,u,c=s.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(e){var t;function n(t,n){return t in e?e[t]:n}e=e||{},this.sizeMin=n("sizeMin",.5),this.sizeMax=n("sizeMax",20),this.color=n("color",[1,0,0,1]).slice(),this.areaRatio=n("areaRatio",1),this.borderColor=n("borderColor",[0,0,0,1]).slice(),this.blend=n("blend",!1);var r=e.positions.length>>>1,o=e.positions instanceof Float32Array,a=e.idToIndex instanceof Int32Array&&e.idToIndex.length>=r,s=e.positions,l=o?s:i.mallocFloat32(s.length),u=a?e.idToIndex:i.mallocInt32(r);if(o||l.set(s),!a)for(l.set(s),t=0;t<r;t++)u[t]=t;this.points=s,this.offsetBuffer.update(l),this.pickBuffer.update(u),o||i.free(l),a||i.free(u),this.pointCount=r,this.pickOffset=0},c.unifiedDraw=(l=[1,0,0,0,1,0,0,0,1],u=[0,0,0,0],function(e){var t=void 0!==e,n=t?this.pickShader:this.shader,r=this.plot.gl,o=this.plot.dataBox;if(0===this.pointCount)return e;var i=o[2]-o[0],a=o[3]-o[1],s=function(e,t){var n,r=0,o=e.length>>>1;for(n=0;n<o;n++){var i=e[2*n],a=e[2*n+1];i>=t[0]&&i<=t[2]&&a>=t[1]&&a<=t[3]&&r++}return r}(this.points,o),c=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(s,.33333)));l[0]=2/i,l[4]=2/a,l[6]=-2*o[0]/i-1,l[7]=-2*o[1]/a-1,this.offsetBuffer.bind(),n.bind(),n.attributes.position.pointer(),n.uniforms.matrix=l,n.uniforms.color=this.color,n.uniforms.borderColor=this.borderColor,n.uniforms.pointCloud=c<5,n.uniforms.pointSize=c,n.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),t&&(u[0]=255&e,u[1]=e>>8&255,u[2]=e>>16&255,u[3]=e>>24&255,this.pickBuffer.bind(),n.attributes.pickId.pointer(r.UNSIGNED_BYTE),n.uniforms.pickOffset=u,this.pickOffset=e);var d=r.getParameter(r.BLEND),f=r.getParameter(r.DITHER);return d&&!this.blend&&r.disable(r.BLEND),f&&r.disable(r.DITHER),r.drawArrays(r.POINTS,0,this.pointCount),d&&!this.blend&&r.enable(r.BLEND),f&&r.enable(r.DITHER),e+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(e,t,n){var r=this.pickOffset,o=this.pointCount;if(n<r||n>=r+o)return null;var i=n-r,a=this.points;return{object:this,pointId:i,dataCoord:[a[2*i],a[2*i+1]]}}},{"./lib/shader":175,"gl-buffer":156,"gl-shader":180,"typedarray-pool":290}],177:[function(e,t,n){"use strict";var r=e("glslify");n.boxVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),n.boxFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},{glslify:199}],178:[function(e,t,n){"use strict";var r=e("gl-shader"),o=e("gl-buffer"),i=e("./lib/shaders");function a(e,t,n){this.plot=e,this.boxBuffer=t,this.boxShader=n,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}t.exports=function(e,t){var n=e.gl,s=o(n,[0,0,0,1,1,0,1,1]),l=r(n,i.boxVertex,i.boxFragment),u=new a(e,s,l);return u.update(t),e.addOverlay(u),u};var s=a.prototype;s.draw=function(){if(this.enabled){var e=this.plot,t=this.selectBox,n=this.borderWidth,r=(this.innerFill,this.innerColor),o=(this.outerFill,this.outerColor),i=this.borderColor,a=e.box,s=e.screenBox,l=e.dataBox,u=e.viewBox,c=e.pixelRatio,d=(t[0]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],f=(t[1]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1],h=(t[2]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],p=(t[3]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1];if(d=Math.max(d,u[0]),f=Math.max(f,u[1]),h=Math.min(h,u[2]),p=Math.min(p,u[3]),!(h<d||p<f)){a.bind();var m=s[2]-s[0],g=s[3]-s[1];if(this.outerFill&&(a.drawBox(0,0,m,f,o),a.drawBox(0,f,d,p,o),a.drawBox(0,p,m,g,o),a.drawBox(h,f,m,p,o)),this.innerFill&&a.drawBox(d,f,h,p,r),n>0){var v=n*c;a.drawBox(d-v,f-v,h+v,f+v,i),a.drawBox(d-v,p-v,h+v,p+v,i),a.drawBox(d-v,f-v,d+v,p+v,i),a.drawBox(h-v,f-v,h+v,p+v,i)}}}},s.update=function(e){e=e||{},this.innerFill=!!e.innerFill,this.outerFill=!!e.outerFill,this.innerColor=(e.innerColor||[0,0,0,.5]).slice(),this.outerColor=(e.outerColor||[0,0,0,.5]).slice(),this.borderColor=(e.borderColor||[0,0,0,1]).slice(),this.borderWidth=e.borderWidth||0,this.selectBox=(e.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},{"./lib/shaders":177,"gl-buffer":156,"gl-shader":180}],179:[function(e,t,n){"use strict";t.exports=function(e,t){var n=r(e,t),i=o.mallocUint8(t[0]*t[1]*4);return new u(e,n,i)};var r=e("gl-fbo"),o=e("typedarray-pool"),i=e("ndarray"),a=e("bit-twiddle").nextPow2,s=e("cwise/lib/wrapper")({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(_inline_55_arg0_<255||_inline_55_arg1_<255||_inline_55_arg2_<255||_inline_55_arg3_<255){var _inline_55_l=_inline_55_arg4_-_inline_55_arg6_[0],_inline_55_a=_inline_55_arg5_-_inline_55_arg6_[1],_inline_55_f=_inline_55_l*_inline_55_l+_inline_55_a*_inline_55_a;_inline_55_f<this_closestD2&&(this_closestD2=_inline_55_f,this_closestX=_inline_55_arg6_[0],this_closestY=_inline_55_arg6_[1])}}",args:[{name:"_inline_55_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_55_a","_inline_55_f","_inline_55_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function l(e,t,n,r,o){this.coord=[e,t],this.id=n,this.value=r,this.distance=o}function u(e,t,n){this.gl=e,this.fbo=t,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(t.bind(),e.readPixels(0,0,t.shape[0],t.shape[1],e.RGBA,e.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}var c=u.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(e){if(this.gl){this.fbo.shape=e;var t=this.fbo.shape[0],n=this.fbo.shape[1];if(n*t*4>this.buffer.length){o.free(this.buffer);for(var r=this.buffer=o.mallocUint8(a(n*t*4)),i=0;i<n*t*4;++i)r[i]=255}return e}}}),c.begin=function(){var e=this.gl;this.shape,e&&(this.fbo.bind(),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))},c.end=function(){var e=this.gl;e&&(e.bindFramebuffer(e.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(e,t,n){if(!this.gl)return null;var r=this.fbo.shape.slice();e|=0,t|=0,"number"!=typeof n&&(n=1);var o=0|Math.min(Math.max(e-n,0),r[0]),a=0|Math.min(Math.max(e+n,0),r[0]),u=0|Math.min(Math.max(t-n,0),r[1]),c=0|Math.min(Math.max(t+n,0),r[1]);if(a<=o||c<=u)return null;var d=[a-o,c-u],f=i(this.buffer,[d[0],d[1],4],[4,4*r[0],1],4*(o+r[0]*u)),h=s(f.hi(d[0],d[1],1),n,n),p=h[0],m=h[1];if(p<0||Math.pow(this.radius,2)<h[2])return null;var g=f.get(p,m,0),v=f.get(p,m,1),y=f.get(p,m,2),b=f.get(p,m,3);return new l(p+o|0,m+u|0,g,[v,y,b],Math.sqrt(h[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":39,"cwise/lib/wrapper":82,"gl-fbo":162,ndarray:220,"typedarray-pool":290}],180:[function(e,t,n){"use strict";var r=e("./lib/create-uniforms"),o=e("./lib/create-attributes"),i=e("./lib/reflect"),a=e("./lib/shader-cache"),s=e("./lib/runtime-reflect"),l=e("./lib/GLError");function u(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=u.prototype;function d(e,t){return e.name<t.name?-1:1}c.bind=function(){var e;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},c.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(e,t,n,u){if(!t||1===arguments.length){var c=e;e=c.vertex,t=c.fragment,n=c.uniforms,u=c.attributes}var f=this,h=f.gl,p=f._vref;f._vref=a.shader(h,h.VERTEX_SHADER,e),p&&p.dispose(),f.vertShader=f._vref.shader;var m=this._fref;if(f._fref=a.shader(h,h.FRAGMENT_SHADER,t),m&&m.dispose(),f.fragShader=f._fref.shader,!n||!u){var g=h.createProgram();if(h.attachShader(g,f.fragShader),h.attachShader(g,f.vertShader),h.linkProgram(g),!h.getProgramParameter(g,h.LINK_STATUS)){var v=h.getProgramInfoLog(g);throw new l(v,"Error linking program:"+v)}n=n||s.uniforms(h,g),u=u||s.attributes(h,g),h.deleteProgram(g)}(u=u.slice()).sort(d);var y,b=[],_=[],x=[];for(y=0;y<u.length;++y){var w=u[y];if(w.type.indexOf("mat")>=0){for(var k=0|w.type.charAt(w.type.length-1),E=new Array(k),T=0;T<k;++T)E[T]=x.length,_.push(w.name+"["+T+"]"),"number"==typeof w.location?x.push(w.location+T):Array.isArray(w.location)&&w.location.length===k&&"number"==typeof w.location[T]?x.push(0|w.location[T]):x.push(-1);b.push({name:w.name,type:w.type,locations:E})}else b.push({name:w.name,type:w.type,locations:[x.length]}),_.push(w.name),"number"==typeof w.location?x.push(0|w.location):x.push(-1)}var A=0;for(y=0;y<x.length;++y)if(x[y]<0){for(;x.indexOf(A)>=0;)A+=1;x[y]=A}var S=new Array(n.length);function M(){f.program=a.program(h,f._vref,f._fref,_,x);for(var e=0;e<n.length;++e)S[e]=h.getUniformLocation(f.program,n[e].name)}M(),f._relink=M,f.types={uniforms:i(n),attributes:i(u)},f.attributes=o(h,f,b,x),Object.defineProperty(f,"uniforms",r(h,f,n,S))},t.exports=function(e,t,n,r,o){var i=new u(e);return i.update(t,n,r,o),i}},{"./lib/GLError":181,"./lib/create-attributes":182,"./lib/create-uniforms":183,"./lib/reflect":184,"./lib/runtime-reflect":185,"./lib/shader-cache":186}],181:[function(e,t,n){function r(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,t.exports=r},{}],182:[function(e,t,n){"use strict";t.exports=function(e,t,n,o){for(var i={},l=0,u=n.length;l<u;++l){var c=n[l],d=c.name,f=c.type,h=c.locations;switch(f){case"bool":case"int":case"float":a(e,t,h[0],o,1,i,d);break;default:if(f.indexOf("vec")>=0){var p=f.charCodeAt(f.length-1)-48;if(p<2||p>4)throw new r("","Invalid data type for attribute "+d+": "+f);a(e,t,h[0],o,p,i,d)}else{if(!(f.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+d+": "+f);var p=f.charCodeAt(f.length-1)-48;if(p<2||p>4)throw new r("","Invalid data type for attribute "+d+": "+f);s(e,t,h,o,p,i,d)}}}return i};var r=e("./GLError");function o(e,t,n,r,o,i){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=o,this._constFunc=i}var i=o.prototype;function a(e,t,n,r,i,a,s){for(var l=["gl","v"],u=[],c=0;c<i;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+i+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+i+"fv(v,x0)}");var d=Function.apply(null,l),f=new o(e,t,n,r,i,d);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(r[n]),d(e,r[n],t),t},get:function(){return f},enumerable:!0})}function s(e,t,n,r,o,i,s){for(var l=new Array(o),u=new Array(o),c=0;c<o;++c)a(e,t,n[c],r,o,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<o;++t)u[t].location=e[t];else for(var t=0;t<o;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(o),t=0;t<o;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,i,a,s){t=t||e.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var l=0;l<o;++l){var u=r[n[l]];e.vertexAttribPointer(u,o,t,i,a,s+l*o),e.enableVertexAttribArray(u)}};var d=new Array(o),f=e["vertexAttrib"+o+"fv"];Object.defineProperty(i,s,{set:function(t){for(var i=0;i<o;++i){var a=r[n[i]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))f.call(e,a,t[i]);else{for(var s=0;s<o;++s)d[s]=t[o*i+s];f.call(e,a,d)}}return t},get:function(){return l},enumerable:!0})}i.pointer=function(e,t,n,r){var o=this._gl,i=this._locations[this._index];o.vertexAttribPointer(i,this._dimension,e||o.FLOAT,!!t,n||0,r||0),o.enableVertexAttribArray(i)},i.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(i,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},{"./GLError":181}],183:[function(e,t,n){"use strict";var r=e("./reflect"),o=e("./GLError");function i(e){var t=new Function("y","return function(){return y}");return t(e)}function a(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}t.exports=function(e,t,n,s){function l(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+t+"],false,obj"+e+")"}throw new o("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new o("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+i+"fv(locations["+t+"],obj"+e+")";default:throw new o("","Unrecognized data type for vector "+name+": "+n)}}}function u(t){for(var r=["return function updateProperty(obj){"],o=function e(t,n){if("object"!=typeof n)return[[t,n]];var r=[];for(var o in n){var i=n[o],a=t;parseInt(o)+""===o?a+="["+o+"]":a+="."+o,"object"==typeof i?r.push.apply(r,e(a,i)):r.push([a,i])}return r}("",t),i=0;i<o.length;++i){var a=o[i],u=a[0],c=a[1];s[c]&&r.push(l(u,c,n[c].type))}r.push("return obj}");var d=new Function("gl","locations",r.join("\n"));return d(e,s)}function c(r,l,c){if("object"==typeof c){var f=d(c);Object.defineProperty(r,l,{get:i(f),set:u(c),enumerable:!0,configurable:!1})}else s[c]?Object.defineProperty(r,l,{get:(h=c,p=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+h+"])}"),p(e,t,s)),set:u(c),enumerable:!0,configurable:!1}):r[l]=function(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new o("","Invalid data type");return"b"===e.charAt(0)?a(n,!1):a(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+e);return a(n*n,0)}throw new o("","Unknown uniform data type for "+name+": "+e)}}(n[c].type);var h,p}function d(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)c(t,n,e[n])}else for(var r in t={},e)c(t,r,e[r]);return t}var f=r(n,!0);return{get:i(d(f)),set:u(f),enumerable:!0,configurable:!0}}},{"./GLError":181,"./reflect":184}],184:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n={},r=0;r<e.length;++r)for(var o=e[r].name,i=o.split("."),a=n,s=0;s<i.length;++s){var l=i[s].split("[");if(l.length>1){l[0]in a||(a[l[0]]=[]),a=a[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<i.length-1?(c in a||(u<l.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:e[r].type}}else s<i.length-1?(l[0]in a||(a[l[0]]={}),a=a[l[0]]):a[l[0]]=t?r:e[r].type}return n}},{}],185:[function(e,t,n){"use strict";n.uniforms=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var a=e.getActiveUniform(t,o);if(a){var s=i(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)r.push({name:a.name.replace("[0]","["+l+"]"),type:s});else r.push({name:a.name,type:s})}}return r},n.attributes=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var a=e.getActiveAttrib(t,o);a&&r.push({name:a.name,type:i(e,a.type)})}return r};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},o=null;function i(e,t){if(!o){var n=Object.keys(r);o={};for(var i=0;i<n.length;++i){var a=n[i];o[e[a]]=r[a]}}return o[t]}},{}],186:[function(e,t,n){"use strict";n.shader=function(e,t,n){return d(e).getShaderReference(t,n)},n.program=function(e,t,n,r,o){return d(e).getProgram(t,n,r,o)};var r=e("./GLError"),o=e("gl-format-compiler-error"),i="undefined"==typeof WeakMap?e("weakmap-shim"):WeakMap,a=new i,s=0;function l(e,t,n,r,o,i,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=i,this.programs=[],this.cache=a}function u(e){this.gl=e,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(0==--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,o=n.length;r<o;++r){var i=e.programs[n[r]];i&&(delete e.programs[r],t.deleteProgram(i))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var c=u.prototype;function d(e){var t=a.get(e);return t||(t=new u(e),a.set(e,t)),t}c.getShaderReference=function(e,t){var n=this.gl,i=this.shaders[e===n.FRAGMENT_SHADER|0],a=i[t];if(a&&n.isShader(a.shader))a.count+=1;else{var u=function(e,t,n){var i=e.createShader(t);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(i);try{var s=o(a,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new r(a,"Error compiling shader:\n"+a)}throw new r(a,s.short,s.long)}return i}(n,e,t);a=i[t]=new l(s++,t,e,u,[],1,this)}return a},c.getProgram=function(e,t,n,o){var i=[e.id,t.id,n.join(":"),o.join(":")].join("@"),a=this.programs[i];return a&&this.gl.isProgram(a)||(this.programs[i]=a=function(e,t,n,o,i){var a=e.createProgram();e.attachShader(a,t),e.attachShader(a,n);for(var s=0;s<o.length;++s)e.bindAttribLocation(a,i[s],o[s]);if(e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){var l=e.getProgramInfoLog(a);throw new r(l,"Error linking program: "+l)}return a}(this.gl,e.shader,t.shader,n,o),e.programs.push(i),t.programs.push(i)),a}},{"./GLError":181,"gl-format-compiler-error":163,"weakmap-shim":299}],187:[function(e,t,n){"use strict";function r(e){this.plot=e,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}t.exports=function(e,t){var n=new r(e);return n.update(t),e.addOverlay(n),n};var o=r.prototype;o.update=function(e){e=e||{},this.enable=(e.enable||[!0,!0,!1,!1]).slice(),this.width=(e.width||[1,1,1,1]).slice(),this.color=(e.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(e){return e.slice()}),this.center=(e.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},o.draw=function(){var e=this.enable,t=this.width,n=this.color,r=this.center,o=this.plot,i=o.line,a=o.dataBox,s=o.viewBox;if(i.bind(),a[0]<=r[0]&&r[0]<=a[2]&&a[1]<=r[1]&&r[1]<=a[3]){var l=s[0]+(r[0]-a[0])/(a[2]-a[0])*(s[2]-s[0]),u=s[1]+(r[1]-a[1])/(a[3]-a[1])*(s[3]-s[1]);e[0]&&i.drawLine(l,u,s[0],u,t[0],n[0]),e[1]&&i.drawLine(l,u,l,s[1],t[1],n[1]),e[2]&&i.drawLine(l,u,s[2],u,t[2],n[2]),e[3]&&i.drawLine(l,u,l,s[3],t[3],n[3])}},o.dispose=function(){this.plot.removeOverlay(this)}},{}],188:[function(e,t,n){"use strict";var r=e("css-font"),o=e("pick-by-alias"),i=e("regl"),a=e("gl-util/context"),s=e("es6-weak-map"),l=e("color-normalize"),u=e("font-atlas"),c=e("typedarray-pool"),d=e("parse-rect"),f=e("is-plain-obj"),h=e("parse-unit"),p=e("to-px"),m=e("detect-kerning"),g=e("object-assign"),v=e("font-measure"),y=e("flatten-vertex-data"),b=e("bit-twiddle"),_=b.nextPow2,x=new s,w=!1;if(document.body){var k=document.body.appendChild(document.createElement("div"));k.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(k).fontStretch&&(w=!0),document.body.removeChild(k)}var E=function(e){!function(e){return"function"==typeof e&&e._gl&&e.prop&&e.texture&&e.buffer}(e)?this.gl=a(e):(e={regl:e},this.gl=e.regl._gl),this.shader=x.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=e.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),x.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(f(e)?e:{})};E.prototype.createShader=function(){var e=this.regl,t=e({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:e.prop("count"),offset:e.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:e.this("sizeBuffer")},width:{offset:0,stride:8,buffer:e.this("sizeBuffer")},char:e.this("charBuffer"),position:e.this("position")},uniforms:{atlasSize:function(e,t){return[t.atlas.width,t.atlas.height]},atlasDim:function(e,t){return[t.atlas.cols,t.atlas.rows]},atlas:function(e,t){return t.atlas.texture},charStep:function(e,t){return t.atlas.step},em:function(e,t){return t.atlas.em},color:e.prop("color"),opacity:e.prop("opacity"),viewport:e.this("viewportArray"),scale:e.this("scale"),align:e.prop("align"),baseline:e.prop("baseline"),translate:e.this("translate"),positionOffset:e.prop("positionOffset")},primitive:"points",viewport:e.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\t"+(E.normalViewport?"":"vec2 positionOffset = vec2(positionOffset.x,- positionOffset.y);")+"\n\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ positionOffset))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\t"+(E.normalViewport?"position.y = 1. - position.y;":"")+"\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform sampler2D atlas;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:e,draw:t,atlas:{}}},E.prototype.update=function(e){var t=this;if("string"==typeof e)e={text:e};else if(!e)return;null!=(e=o(e,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(Array.isArray(e.opacity)?this.opacity=e.opacity.map(function(e){return parseFloat(e)}):this.opacity=parseFloat(e.opacity)),null!=e.viewport&&(this.viewport=d(e.viewport),E.normalViewport&&(this.viewport.y=this.canvas.height-this.viewport.y-this.viewport.height),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=e.kerning&&(this.kerning=e.kerning),null!=e.offset&&("number"==typeof e.offset&&(e.offset=[e.offset,0]),this.positionOffset=y(e.offset)),e.direction&&(this.direction=e.direction),e.range&&(this.range=e.range,this.scale=[1/(e.range[2]-e.range[0]),1/(e.range[3]-e.range[1])],this.translate=[-e.range[0],-e.range[1]]),e.scale&&(this.scale=e.scale),e.translate&&(this.translate=e.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||e.font||(e.font=E.baseFontSize+"px sans-serif");var n,i=!1,a=!1;if(e.font&&(Array.isArray(e.font)?e.font:[e.font]).forEach(function(e,n){if("string"==typeof e)try{e=r.parse(e)}catch(t){e=r.parse(E.baseFontSize+"px "+e)}else e=r.parse(r.stringify(e));var o=r.stringify({size:E.baseFontSize,family:e.family,stretch:w?e.stretch:void 0,variant:e.variant,weight:e.weight,style:e.style}),s=h(e.size),l=Math.round(s[0]*p(s[1]));if(l!==t.fontSize[n]&&(a=!0,t.fontSize[n]=l),!(t.font[n]&&o==t.font[n].baseString||(i=!0,t.font[n]=E.fonts[o],t.font[n]))){var u=e.family.join(", "),c=[e.style];e.style!=e.variant&&c.push(e.variant),e.variant!=e.weight&&c.push(e.weight),w&&e.weight!=e.stretch&&c.push(e.stretch),t.font[n]={baseString:o,family:u,weight:e.weight,stretch:e.stretch,style:e.style,variant:e.variant,width:{},kerning:{},metrics:v(u,{origin:"top",fontSize:E.baseFontSize,fontStyle:c.join(" ")})},E.fonts[o]=t.font[n]}}),(i||a)&&this.font.forEach(function(n,o){var i=r.stringify({size:t.fontSize[o],family:n.family,stretch:w?n.stretch:void 0,variant:n.variant,weight:n.weight,style:n.style});if(t.fontAtlas[o]=t.shader.atlas[i],!t.fontAtlas[o]){var a=n.metrics;t.shader.atlas[i]=t.fontAtlas[o]={fontString:i,step:2*Math.ceil(t.fontSize[o]*a.bottom*.5),em:t.fontSize[o],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:t.regl.texture()}}null==e.text&&(e.text=t.text)}),"string"==typeof e.text&&e.position&&e.position.length>2){for(var s=Array(.5*e.position.length),f=0;f<s.length;f++)s[f]=e.text;e.text=s}if(null!=e.text||i){if(this.textOffsets=[0],Array.isArray(e.text)){this.count=e.text[0].length,this.counts=[this.count];for(var b=1;b<e.text.length;b++)t.textOffsets[b]=t.textOffsets[b-1]+e.text[b-1].length,t.count+=e.text[b].length,t.counts.push(e.text[b].length);this.text=e.text.join("")}else this.text=e.text,this.count=this.text.length,this.counts=[this.count];n=[],this.font.forEach(function(e,r){E.atlasContext.font=e.baseString;for(var o=t.fontAtlas[r],i=0;i<t.text.length;i++){var a=t.text.charAt(i);if(null==o.ids[a]&&(o.ids[a]=o.chars.length,o.chars.push(a),n.push(a)),null==e.width[a]&&(e.width[a]=E.atlasContext.measureText(a).width/E.baseFontSize,t.kerning)){var s=[];for(var l in e.width)s.push(l+a,a+l);g(e.kerning,m(e.family,{pairs:s}))}}})}if(e.position)if(e.position.length>2){for(var x=!e.position[0].length,k=c.mallocFloat(2*this.count),T=0,A=0;T<this.counts.length;T++){var S=t.counts[T];if(x)for(var M=0;M<S;M++)k[A++]=e.position[2*T],k[A++]=e.position[2*T+1];else for(var C=0;C<S;C++)k[A++]=e.position[T][0],k[A++]=e.position[T][1]}this.position.call?this.position({type:"float",data:k}):this.position=this.regl.buffer({type:"float",data:k}),c.freeFloat(k)}else this.position.destroy&&this.position.destroy(),this.position={constant:e.position};if(e.text||i){var j=c.mallocUint8(this.count),O=c.mallocFloat(2*this.count);this.textWidth=[];for(var N=0,R=0;N<this.counts.length;N++){for(var P=t.counts[N],I=t.font[N]||t.font[0],D=t.fontAtlas[N]||t.fontAtlas[0],L=0;L<P;L++){var B=t.text.charAt(R),F=t.text.charAt(R-1);if(j[R]=D.ids[B],O[2*R]=I.width[B],L){var z=O[2*R-2],U=O[2*R],q=O[2*R-1],V=q+.5*z+.5*U;if(t.kerning){var H=I.kerning[F+B];H&&(V+=.001*H)}O[2*R+1]=V}else O[2*R+1]=.5*O[2*R];R++}t.textWidth.push(O.length?.5*O[2*R-2]+O[2*R-1]:0)}e.align||(e.align=this.align),this.charBuffer({data:j,type:"uint8",usage:"stream"}),this.sizeBuffer({data:O,type:"float",usage:"stream"}),c.freeUint8(j),c.freeFloat(O),n.length&&this.font.forEach(function(e,n){var r=t.fontAtlas[n],o=r.step,i=Math.floor(E.maxAtlasSize/o),a=Math.min(i,r.chars.length),s=Math.ceil(r.chars.length/a),l=_(a*o),c=_(s*o);r.width=l,r.height=c,r.rows=s,r.cols=a,r.em&&r.texture({data:u({canvas:E.atlasCanvas,font:r.fontString,chars:r.chars,shape:[l,c],step:[o,o]})})})}if(e.align&&(this.align=e.align,this.alignOffset=this.textWidth.map(function(e,n){var r=Array.isArray(t.align)?t.align.length>1?t.align[n]:t.align[0]:t.align;if("number"==typeof r)return r;switch(r){case"right":case"end":return-e;case"center":case"centre":case"middle":return.5*-e}return 0})),null==this.baseline&&null==e.baseline&&(e.baseline=0),null!=e.baseline&&(this.baseline=e.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(e,n){var r=(t.font[n]||t.font[0]).metrics,o=0;return o+=.5*r.bottom,o+="number"==typeof e?e-r.baseline:-r[e],E.normalViewport||(o*=-1),o})),null!=e.color)if(e.color||(e.color="transparent"),"string"!=typeof e.color&&isNaN(e.color)){var W;if("number"==typeof e.color[0]&&e.color.length>this.counts.length){var G=e.color.length;W=c.mallocUint8(G);for(var X=(e.color.subarray||e.color.slice).bind(e.color),K=0;K<G;K+=4)W.set(l(X(K,K+4),"uint8"),K)}else{var Y=e.color.length;W=c.mallocUint8(4*Y);for(var $=0;$<Y;$++)W.set(l(e.color[$]||0,"uint8"),4*$)}this.color=W}else this.color=l(e.color,"uint8");if(e.position||e.text||e.color||e.baseline||e.align||e.font||e.offset||e.opacity){var Z=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Z){var Q=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Q);for(var J=0;J<this.batch.length;J++)t.batch[J]={count:t.counts.length>1?t.counts[J]:t.counts[0],offset:t.textOffsets.length>1?t.textOffsets[J]:t.textOffsets[0],color:t.color?t.color.length<=4?t.color:t.color.subarray(4*J,4*J+4):[0,0,0,255],opacity:Array.isArray(t.opacity)?t.opacity[J]:t.opacity,baseline:null!=t.baselineOffset[J]?t.baselineOffset[J]:t.baselineOffset[0],align:t.align?null!=t.alignOffset[J]?t.alignOffset[J]:t.alignOffset[0]:0,atlas:t.fontAtlas[J]||t.fontAtlas[0],positionOffset:t.positionOffset.length>2?t.positionOffset.subarray(2*J,2*J+2):t.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},E.prototype.destroy=function(){},E.prototype.kerning=!0,E.prototype.position={constant:new Float32Array(2)},E.prototype.translate=null,E.prototype.scale=null,E.prototype.font=null,E.prototype.text="",E.prototype.positionOffset=[0,0],E.prototype.opacity=1,E.prototype.color=new Uint8Array([0,0,0,255]),E.prototype.alignOffset=[0,0],E.normalViewport=!1,E.maxAtlasSize=1024,E.atlasCanvas=document.createElement("canvas"),E.atlasContext=E.atlasCanvas.getContext("2d",{alpha:!1}),E.baseFontSize=64,E.fonts={},t.exports=E},{"bit-twiddle":39,"color-normalize":63,"css-font":73,"detect-kerning":87,"es6-weak-map":145,"flatten-vertex-data":150,"font-atlas":151,"font-measure":152,"gl-util/context":190,"is-plain-obj":210,"object-assign":223,"parse-rect":226,"parse-unit":228,"pick-by-alias":232,regl:259,"to-px":286,"typedarray-pool":290}],189:[function(e,t,n){"use strict";var r=e("ndarray"),o=e("ndarray-ops"),i=e("typedarray-pool");t.exports=function(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(a||function(e){a=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],s=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],l=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}(e),"number"==typeof arguments[1])return g(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return g(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var t=arguments[1],n=u(t)?t:t.raw;if(n)return function(e,t,n,r,o,i){var a=m(e);return e.texImage2D(e.TEXTURE_2D,0,o,o,i,t),new f(e,a,n,r,o,i)}(e,n,0|t.width,0|t.height,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return function(e,t){var n=t.dtype,a=t.shape.slice(),s=e.getParameter(e.MAX_TEXTURE_SIZE);if(a[0]<0||a[0]>s||a[1]<0||a[1]>s)throw new Error("gl-texture2d: Invalid texture size");var l=p(a,t.stride.slice()),u=0;"float32"===n?u=e.FLOAT:"float64"===n?(u=e.FLOAT,l=!1,n="float32"):"uint8"===n?u=e.UNSIGNED_BYTE:(u=e.UNSIGNED_BYTE,l=!1,n="uint8");var d,h,g=0;if(2===a.length)g=e.LUMINANCE,a=[a[0],a[1],1],t=r(t.data,a,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==a.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===a[2])g=e.ALPHA;else if(2===a[2])g=e.LUMINANCE_ALPHA;else if(3===a[2])g=e.RGB;else{if(4!==a[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=e.RGBA}}u!==e.FLOAT||e.getExtension("OES_texture_float")||(u=e.UNSIGNED_BYTE,l=!1);var v=t.size;if(l)d=0===t.offset&&t.data.length===v?t.data:t.data.subarray(t.offset,t.offset+v);else{var y=[a[2],a[2]*a[0],1];h=i.malloc(v,n);var b=r(h,a,y,0);"float32"!==n&&"float64"!==n||u!==e.UNSIGNED_BYTE?o.assign(b,t):c(b,t),d=h.subarray(0,v)}var _=m(e);return e.texImage2D(e.TEXTURE_2D,0,g,a[0],a[1],0,g,u,d),l||i.free(h),new f(e,_,a[0],a[1],g,u)}(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,s=null,l=null;function u(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&e instanceof ImageData}var c=function(e,t){o.muls(e,t,255)};function d(e,t,n){var r=e.gl,o=r.getParameter(r.MAX_TEXTURE_SIZE);if(t<0||t>o||n<0||n>o)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,n],e.bind(),r.texImage2D(r.TEXTURE_2D,0,e.format,t,n,0,e.format,e.type,null),e._mipLevels=[0],e}function f(e,t,n,r,o,i){this.gl=e,this.handle=t,this.format=o,this.type=i,this._shape=[n,r],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(e){return a.wrapS=e}},{get:function(){return a._wrapT},set:function(e){return a.wrapT=e}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(e){return a.width=e}},{get:function(){return a._shape[1]},set:function(e){return a.height=e}}]),this._shapeVector=l}var h=f.prototype;function p(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function m(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function g(e,t,n,r,o){var i=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture shape");if(o===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var a=m(e);return e.texImage2D(e.TEXTURE_2D,0,r,t,n,0,r,o,null),new f(e,a,t,n,r,o)}Object.defineProperties(h,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&a.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&a.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),l.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),l.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(l.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return d(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return d(this,e|=0,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,d(this,this._shape[0],e),e}}}),h.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},h.dispose=function(){this.gl.deleteTexture(this.handle)},h.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},h.setPixels=function(e,t,n,a){var s=this.gl;this.bind(),Array.isArray(t)?(a=n,n=0|t[1],t=0|t[0]):(t=t||0,n=n||0),a=a||0;var l=u(e)?e:e.raw;if(l){var d=this._mipLevels.indexOf(a)<0;d?(s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,l),this._mipLevels.push(a)):s.texSubImage2D(s.TEXTURE_2D,a,t,n,this.format,this.type,l)}else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>a||n+e.shape[0]>this._shape[0]>>>a||t<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(e,t,n,a,s,l,u,d){var f=d.dtype,h=d.shape.slice();if(h.length<2||h.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var m=0,g=0,v=p(h,d.stride.slice());if("float32"===f?m=e.FLOAT:"float64"===f?(m=e.FLOAT,v=!1,f="float32"):"uint8"===f?m=e.UNSIGNED_BYTE:(m=e.UNSIGNED_BYTE,v=!1,f="uint8"),2===h.length)g=e.LUMINANCE,h=[h[0],h[1],1],d=r(d.data,h,[d.stride[0],d.stride[1],1],d.offset);else{if(3!==h.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===h[2])g=e.ALPHA;else if(2===h[2])g=e.LUMINANCE_ALPHA;else if(3===h[2])g=e.RGB;else{if(4!==h[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=e.RGBA}h[2]}if(g!==e.LUMINANCE&&g!==e.ALPHA||s!==e.LUMINANCE&&s!==e.ALPHA||(g=s),g!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=d.size,b=u.indexOf(a)<0;if(b&&u.push(a),m===l&&v)0===d.offset&&d.data.length===y?b?e.texImage2D(e.TEXTURE_2D,a,s,h[0],h[1],0,s,l,d.data):e.texSubImage2D(e.TEXTURE_2D,a,t,n,h[0],h[1],s,l,d.data):b?e.texImage2D(e.TEXTURE_2D,a,s,h[0],h[1],0,s,l,d.data.subarray(d.offset,d.offset+y)):e.texSubImage2D(e.TEXTURE_2D,a,t,n,h[0],h[1],s,l,d.data.subarray(d.offset,d.offset+y));else{var _;_=l===e.FLOAT?i.mallocFloat32(y):i.mallocUint8(y);var x=r(_,h,[h[2],h[2]*h[0],1]);m===e.FLOAT&&l===e.UNSIGNED_BYTE?c(x,d):o.assign(x,d),b?e.texImage2D(e.TEXTURE_2D,a,s,h[0],h[1],0,s,l,_.subarray(0,y)):e.texSubImage2D(e.TEXTURE_2D,a,t,n,h[0],h[1],s,l,_.subarray(0,y)),l===e.FLOAT?i.freeFloat32(_):i.freeUint8(_)}}(s,t,n,a,this.format,this.type,this._mipLevels,e)}}},{ndarray:220,"ndarray-ops":219,"typedarray-pool":290}],190:[function(e,t,n){"use strict";var r=e("pick-by-alias");function o(e){if(e.container)if(e.container==document.body)document.body.style.width||(e.canvas.width=e.width||e.pixelRatio*window.innerWidth),document.body.style.height||(e.canvas.height=e.height||e.pixelRatio*window.innerHeight);else{var t=e.container.getBoundingClientRect();e.canvas.width=e.width||t.right-t.left,e.canvas.height=e.height||t.bottom-t.top}}function i(e){return"function"==typeof e.getContext&&"width"in e&&"height"in e}t.exports=function(e){var t;if(e?"string"==typeof e&&(e={container:e}):e={},(e=i(e)?{container:e}:"string"==typeof(t=e).nodeName&&"function"==typeof t.appendChild&&"function"==typeof t.getBoundingClientRect?{container:e}:function(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}(e)?{gl:e}:r(e,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio"},!0)).pixelRatio||(e.pixelRatio=window.pixelRatio||1),e.gl)return e.gl;if(e.canvas&&(e.container=e.canvas.parentNode),e.container){if("string"==typeof e.container){var n=document.querySelector(e.container);if(!n)throw Error("Element "+e.container+" is not found");e.container=n}i(e.container)?(e.canvas=e.container,e.container=e.canvas.parentNode):e.canvas||(e.canvas=document.createElement("canvas"),e.container.appendChild(e.canvas),o(e))}else e.canvas||(e.container=document.body||document.documentElement,e.canvas=document.createElement("canvas"),e.canvas.style.position="absolute",e.canvas.style.top=0,e.canvas.style.left=0,e.container.appendChild(e.canvas),o(e));if(!e.gl)try{e.gl=e.canvas.getContext("webgl",e.attrs)}catch(t){try{e.gl=e.canvas.getContext("experimental-webgl",e.attrs)}catch(t){e.gl=e.canvas.getContext("webgl-experimental",e.attrs)}}return e.gl}},{"pick-by-alias":232}],191:[function(e,t,n){var r=e("glsl-tokenizer"),o=e("atob-lite");t.exports=function(e){for(var t=Array.isArray(e)?e:r(e),n=0;n<t.length;n++){var i=t[n];if("preprocessor"===i.type){var a=i.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],l=a[2];return(s?o(l):l).trim()}}}}},{"atob-lite":20,"glsl-tokenizer":198}],192:[function(e,t,n){t.exports=function(e){var t,n,k,E=0,T=0,A=l,S=[],M=[],C=1,j=0,O=0,N=!1,R=!1,P="",I=i,D=r;return"300 es"===(e=e||{}).version&&(I=s,D=a),function(e){return M=[],null!==e?function(e){var n;for(E=0,k=(P+=e).length;t=P[E],E<k;){switch(n=E,A){case c:E=U();break;case d:case f:E=z();break;case h:E=q();break;case p:E=W();break;case x:E=H();break;case m:E=G();break;case u:E=X();break;case b:E=F();break;case l:E=B()}if(n!==E)switch(P[n]){case"\n":j=0,++C;break;default:++j}}return T+=E,P=P.slice(E),M}(e.replace?e.replace(/\r\n/g,"\n"):e):(S.length&&L(S.join("")),A=_,L("(eof)"),M)};function L(e){e.length&&M.push({type:w[A],data:e,position:O,line:C,column:j})}function B(){return S=S.length?[]:S,"/"===n&&"*"===t?(O=T+E-1,A=c,n=t,E+1):"/"===n&&"/"===t?(O=T+E-1,A=d,n=t,E+1):"#"===t?(A=f,O=T+E,E):/\s/.test(t)?(A=b,O=T+E,E):(N=/\d/.test(t),R=/[^\w_]/.test(t),O=T+E,A=N?p:R?h:u,E)}function F(){return/[^\s]/g.test(t)?(L(S.join("")),A=l,E):(S.push(t),n=t,E+1)}function z(){return"\r"!==t&&"\n"!==t||"\\"===n?(S.push(t),n=t,E+1):(L(S.join("")),A=l,E)}function U(){return"/"===t&&"*"===n?(S.push(t),L(S.join("")),A=l,E+1):(S.push(t),n=t,E+1)}function q(){if("."===n&&/\d/.test(t))return A=m,E;if("/"===n&&"*"===t)return A=c,E;if("/"===n&&"/"===t)return A=d,E;if("."===t&&S.length){for(;V(S););return A=m,E}if(";"===t||")"===t||"("===t){if(S.length)for(;V(S););return L(t),A=l,E+1}var e=2===S.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;V(S););return A=l,E}return S.push(t),n=t,E+1}function V(e){for(var t,n,r=0;;){if(t=o.indexOf(e.slice(0,e.length+r).join("")),n=o[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return L(n),O+=n.length,(S=S.slice(n.length)).length}}function H(){return/[^a-fA-F0-9]/.test(t)?(L(S.join("")),A=l,E):(S.push(t),n=t,E+1)}function W(){return"."===t?(S.push(t),A=m,n=t,E+1):/[eE]/.test(t)?(S.push(t),A=m,n=t,E+1):"x"===t&&1===S.length&&"0"===S[0]?(A=x,S.push(t),n=t,E+1):/[^\d]/.test(t)?(L(S.join("")),A=l,E):(S.push(t),n=t,E+1)}function G(){return"f"===t&&(S.push(t),n=t,E+=1),/[eE]/.test(t)?(S.push(t),n=t,E+1):"-"===t&&/[eE]/.test(n)?(S.push(t),n=t,E+1):/[^\d]/.test(t)?(L(S.join("")),A=l,E):(S.push(t),n=t,E+1)}function X(){if(/[^\d\w_]/.test(t)){var e=S.join("");return A=D.indexOf(e)>-1?y:I.indexOf(e)>-1?v:g,L(S.join("")),A=l,E}return S.push(t),n=t,E+1}};var r=e("./lib/literals"),o=e("./lib/operators"),i=e("./lib/builtins"),a=e("./lib/literals-300es"),s=e("./lib/builtins-300es"),l=999,u=9999,c=0,d=1,f=2,h=3,p=4,m=5,g=6,v=7,y=8,b=9,_=10,x=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":194,"./lib/builtins-300es":193,"./lib/literals":196,"./lib/literals-300es":195,"./lib/operators":197}],193:[function(e,t,n){var r=e("./builtins");r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),t.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":194}],194:[function(e,t,n){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],195:[function(e,t,n){var r=e("./literals");t.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":196}],196:[function(e,t,n){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],197:[function(e,t,n){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],198:[function(e,t,n){var r=e("./index");t.exports=function(e,t){var n=r(t),o=[];return o=(o=o.concat(n(e))).concat(n(null))}},{"./index":192}],199:[function(e,t,n){t.exports=function(e){"string"==typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),n=[],r=0;r<e.length-1;r++)n.push(e[r],t[r]||"");return n.push(e[r]),n.join("")}},{}],200:[function(e,n,r){(function(t){"use strict";var r,o=e("is-browser");r="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:o,n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":206}],201:[function(e,t,n){"use strict";var r=e("is-browser");t.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},{"is-browser":206}],202:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,d=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},{}],203:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),o=0,i=1;function a(e,t,n,r,o){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(t?t.count:0)+(n?n.count:0)+r.length}t.exports=function(e){return e&&0!==e.length?new b(y(e)):new b(null)};var s=a.prototype;function l(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function u(e,t){var n=y(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function c(e,t){var n=e.intervals([]);n.push(t),u(e,n)}function d(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?o:(n.splice(r,1),u(e,n),i)}function f(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var o=n(e[r]);if(o)return o}}function h(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var o=n(e[r]);if(o)return o}}function p(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function m(e,t){return e-t}function g(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function v(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function y(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(m);for(var r=t[t.length>>1],o=[],i=[],s=[],n=0;n<e.length;++n){var l=e[n];l[1]<r?o.push(l):r<l[0]?i.push(l):s.push(l)}var u=s,c=s.slice();return u.sort(g),c.sort(v),new a(r,y(o),y(i),u,c)}function b(e){this.root=e}s.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},s.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?c(this,e):this.left.insert(e):this.left=y([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?c(this,e):this.right.insert(e):this.right=y([e]);else{var n=r.ge(this.leftPoints,e,g),o=r.ge(this.rightPoints,e,v);this.leftPoints.splice(n,0,e),this.rightPoints.splice(o,0,e)}},s.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid){if(!this.left)return o;var n=this.right?this.right.count:0;if(4*n>3*(t-1))return d(this,e);var a=this.left.remove(e);return 2===a?(this.left=null,this.count-=1,i):(a===i&&(this.count-=1),a)}if(e[0]>this.mid){if(!this.right)return o;var s=this.left?this.left.count:0;if(4*s>3*(t-1))return d(this,e);var a=this.right.remove(e);return 2===a?(this.right=null,this.count-=1,i):(a===i&&(this.count-=1),a)}if(1===this.count)return this.leftPoints[0]===e?2:o;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var u=this,c=this.left;c.right;)u=c,c=c.right;if(u===this)c.right=this.right;else{var f=this.left,a=this.right;u.count-=c.count,u.right=c.left,c.left=f,c.right=a}l(this,c),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?l(this,this.left):l(this,this.right);return i}for(var f=r.ge(this.leftPoints,e,g);f<this.leftPoints.length&&this.leftPoints[f][0]===e[0];++f)if(this.leftPoints[f]===e){this.count-=1,this.leftPoints.splice(f,1);for(var a=r.ge(this.rightPoints,e,v);a<this.rightPoints.length&&this.rightPoints[a][1]===e[1];++a)if(this.rightPoints[a]===e)return this.rightPoints.splice(a,1),i}return o},s.queryPoint=function(e,t){if(e<this.mid){if(this.left){var n=this.left.queryPoint(e,t);if(n)return n}return f(this.leftPoints,e,t)}if(e>this.mid){if(this.right){var n=this.right.queryPoint(e,t);if(n)return n}return h(this.rightPoints,e,t)}return p(this.leftPoints,t)},s.queryInterval=function(e,t,n){if(e<this.mid&&this.left){var r=this.left.queryInterval(e,t,n);if(r)return r}if(t>this.mid&&this.right){var r=this.right.queryInterval(e,t,n);if(r)return r}return t<this.mid?f(this.leftPoints,t,n):e>this.mid?h(this.rightPoints,e,n):p(this.leftPoints,n)};var _=b.prototype;_.insert=function(e){this.root?this.root.insert(e):this.root=new a(e[0],null,null,[e],[e])},_.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==o}return!1},_.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},_.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(_,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(_,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":38}],204:[function(e,t,n){"use strict";t.exports=function(e,t){t=t||new Array(e.length);for(var n=0;n<e.length;++n)t[e[n]]=n;return t}},{}],205:[function(e,t,n){"use strict";t.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},{}],206:[function(e,t,n){t.exports=!0},{}],207:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],208:[function(e,t,n){"use strict";t.exports="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},{}],209:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],210:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},{}],211:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},{}],212:[function(e,t,n){"use strict";t.exports=function(e){return"string"==typeof e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},{}],213:[function(e,t,n){"use strict";t.exports=Math.log2||function(e){return Math.log(e)*Math.LOG2E}},{}],214:[function(e,t,n){"use strict";t.exports=function(e,t){t||(t=e,e=window);var n=0,o=0,i=0,a={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function l(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==a.alt,a.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==a.shift,a.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==a.control,a.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==a.meta,a.meta=!!e.metaKey),t}function u(e,s){var u=r.x(s),c=r.y(s);"buttons"in s&&(e=0|s.buttons),(e!==n||u!==o||c!==i||l(s))&&(n=0|e,o=u||0,i=c||0,t&&t(n,o,i,a))}function c(e){u(0,e)}function d(){(n||o||i||a.shift||a.alt||a.meta||a.control)&&(o=i=0,n=0,a.shift=a.alt=a.control=a.meta=!1,t&&t(0,0,0,a))}function f(e){l(e)&&t&&t(n,o,i,a)}function h(e){0===r.buttons(e)?u(0,e):u(n,e)}function p(e){u(n|r.buttons(e),e)}function m(e){u(n&~r.buttons(e),e)}function g(){s||(s=!0,e.addEventListener("mousemove",h),e.addEventListener("mousedown",p),e.addEventListener("mouseup",m),e.addEventListener("mouseleave",c),e.addEventListener("mouseenter",c),e.addEventListener("mouseout",c),e.addEventListener("mouseover",c),e.addEventListener("blur",d),e.addEventListener("keyup",f),e.addEventListener("keydown",f),e.addEventListener("keypress",f),e!==window&&(window.addEventListener("blur",d),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}g();var v={element:e};return Object.defineProperties(v,{enabled:{get:function(){return s},set:function(t){t?g():s&&(s=!1,e.removeEventListener("mousemove",h),e.removeEventListener("mousedown",p),e.removeEventListener("mouseup",m),e.removeEventListener("mouseleave",c),e.removeEventListener("mouseenter",c),e.removeEventListener("mouseout",c),e.removeEventListener("mouseover",c),e.removeEventListener("blur",d),e.removeEventListener("keyup",f),e.removeEventListener("keydown",f),e.removeEventListener("keypress",f),e!==window&&(window.removeEventListener("blur",d),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return o},enumerable:!0},y:{get:function(){return i},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),v};var r=e("mouse-event")},{"mouse-event":216}],215:[function(e,t,n){var r={left:0,top:0};t.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var o,i=e.clientX||0,a=e.clientY||0,s=(o=t)===window||o===document||o===document.body?r:o.getBoundingClientRect();return n[0]=i-s.left,n[1]=a-s.top,n}},{}],216:[function(e,t,n){"use strict";function r(e){return e.target||e.srcElement||window}n.buttons=function(e){if("object"==typeof e){if("buttons"in e)return e.buttons;if("which"in e){var t=e.which;if(2===t)return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t=e.button;if(1===t)return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0},n.element=r,n.x=function(e){if("object"==typeof e){if("offsetX"in e)return e.offsetX;var t=r(e),n=t.getBoundingClientRect();return e.clientX-n.left}return 0},n.y=function(e){if("object"==typeof e){if("offsetY"in e)return e.offsetY;var t=r(e),n=t.getBoundingClientRect();return e.clientY-n.top}return 0}},{}],217:[function(e,t,n){"use strict";var r=e("to-px");t.exports=function(e,t,n){"function"==typeof e&&(n=!!t,t=e,e=window);var o=r("ex",e),i=function(e){n&&e.preventDefault();var r=e.deltaX||0,i=e.deltaY||0,a=e.deltaZ||0,s=e.deltaMode,l=1;switch(s){case 1:l=o;break;case 2:l=window.innerHeight}if(i*=l,a*=l,(r*=l)||i||a)return t(r,i,a,e)};return e.addEventListener("wheel",i),i}},{"to-px":286}],218:[function(e,t,n){"use strict";var r=e("typedarray-pool");function o(e){return"a"+e}function i(e){return"d"+e}function a(e,t){return"c"+e+"_"+t}function s(e){return"s"+e}function l(e,t){return"t"+e+"_"+t}function u(e){return"o"+e}function c(e){return"x"+e}function d(e){return"p"+e}function f(e,t){return"d"+e+"_"+t}function h(e){return"i"+e}function p(e,t){return"u"+e+"_"+t}function m(e){return"b"+e}function g(e){return"y"+e}function v(e){return"e"+e}function y(e){return"v"+e}t.exports=function(e){function t(e){throw new Error("ndarray-extract-contour: "+e)}"object"!=typeof e&&t("Must specify arguments");var n=e.order;Array.isArray(n)||t("Must specify order");var A=e.arrayArguments||1;A<1&&t("Must have at least one array argument");var S=e.scalarArguments||0;S<0&&t("Scalar arg count must be > 0"),"function"!=typeof e.vertex&&t("Must specify vertex creation function"),"function"!=typeof e.cell&&t("Must specify cell creation function"),"function"!=typeof e.phase&&t("Must specify phase function");for(var M=e.getters||[],C=new Array(A),j=0;j<A;++j)M.indexOf(j)>=0?C[j]=!0:C[j]=!1;return function(e,t,n,A,S,M){var C=M.length,j=S.length;if(j<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var O="extractContour"+S.join("_"),N=[],R=[],P=[],I=0;I<C;++I)P.push(o(I));for(var I=0;I<A;++I)P.push(c(I));for(var I=0;I<j;++I)R.push(s(I)+"="+o(0)+".shape["+I+"]|0");for(var I=0;I<C;++I){R.push(i(I)+"="+o(I)+".data",u(I)+"="+o(I)+".offset|0");for(var D=0;D<j;++D)R.push(l(I,D)+"="+o(I)+".stride["+D+"]|0")}for(var I=0;I<C;++I){R.push(d(I)+"="+u(I)),R.push(a(I,0));for(var D=1;D<1<<j;++D){for(var L=[],B=0;B<j;++B)D&1<<B&&L.push("-"+l(I,B));R.push(f(I,D)+"=("+L.join("")+")|0"),R.push(a(I,D)+"=0")}}for(var I=0;I<C;++I)for(var D=0;D<j;++D){var F=[l(I,S[D])];D>0&&F.push(l(I,S[D-1])+"*"+s(S[D-1])),R.push(p(I,S[D])+"=("+F.join("-")+")|0")}for(var I=0;I<j;++I)R.push(h(I)+"=0");R.push(x+"=0");for(var z=["2"],I=j-2;I>=0;--I)z.push(s(S[I]));R.push(w+"=("+z.join("*")+")|0",_+"=mallocUint32("+w+")",b+"=mallocUint32("+w+")",k+"=0"),R.push(m(0)+"=0");for(var D=1;D<1<<j;++D){for(var U=[],q=[],B=0;B<j;++B)D&1<<B&&(0===q.length?U.push("1"):U.unshift(q.join("*"))),q.push(s(S[B]));var V="";U[0].indexOf(s(S[j-2]))<0&&(V="-");var H=T(j,D,S);R.push(v(H)+"=(-"+U.join("-")+")|0",g(H)+"=("+V+U.join("-")+")|0",m(H)+"=0")}function W(e,t){N.push("for(",h(S[e]),"=",t,";",h(S[e]),"<",s(S[e]),";","++",h(S[e]),"){")}function G(e){for(var t=0;t<C;++t)N.push(d(t),"+=",p(t,S[e]),";");N.push("}")}function X(){for(var e=1;e<1<<j;++e)N.push(E,"=",v(e),";",v(e),"=",g(e),";",g(e),"=",E,";")}R.push(y(0)+"=0",E+"=0"),function e(t,n){if(t<0)!function(e){for(var t=0;t<C;++t)M[t]?N.push(a(t,0),"=",i(t),".get(",d(t),");"):N.push(a(t,0),"=",i(t),"[",d(t),"];");for(var n=[],t=0;t<C;++t)n.push(a(t,0));for(var t=0;t<A;++t)n.push(c(t));N.push(m(0),"=",_,"[",k,"]=phase(",n.join(),");");for(var r=1;r<1<<j;++r)N.push(m(r),"=",_,"[",k,"+",v(r),"];");for(var o=[],r=1;r<1<<j;++r)o.push("("+m(0)+"!=="+m(r)+")");N.push("if(",o.join("||"),"){");for(var s=[],t=0;t<j;++t)s.push(h(t));for(var t=0;t<C;++t){s.push(a(t,0));for(var r=1;r<1<<j;++r)M[t]?N.push(a(t,r),"=",i(t),".get(",d(t),"+",f(t,r),");"):N.push(a(t,r),"=",i(t),"[",d(t),"+",f(t,r),"];"),s.push(a(t,r))}for(var t=0;t<1<<j;++t)s.push(m(t));for(var t=0;t<A;++t)s.push(c(t));N.push("vertex(",s.join(),");",y(0),"=",b,"[",k,"]=",x,"++;");for(var l=(1<<j)-1,u=m(l),r=0;r<j;++r)if(0==(e&~(1<<r))){for(var p=l^1<<r,g=m(p),w=[],E=p;E>0;E=E-1&p)w.push(b+"["+k+"+"+v(E)+"]");w.push(y(0));for(var E=0;E<C;++E)1&r?w.push(a(E,l),a(E,p)):w.push(a(E,p),a(E,l));1&r?w.push(u,g):w.push(g,u);for(var E=0;E<A;++E)w.push(c(E));N.push("if(",u,"!==",g,"){","face(",w.join(),")}")}N.push("}",k,"+=1;")}(n);else{!function(e){for(var t=e-1;t>=0;--t)W(t,0);for(var n=[],t=0;t<C;++t)M[t]?n.push(i(t)+".get("+d(t)+")"):n.push(i(t)+"["+d(t)+"]");for(var t=0;t<A;++t)n.push(c(t));N.push(_,"[",k,"++]=phase(",n.join(),");");for(var t=0;t<e;++t)G(t);for(var r=0;r<C;++r)N.push(d(r),"+=",p(r,S[e]),";")}(t),N.push("if(",s(S[t]),">0){",h(S[t]),"=1;"),e(t-1,n|1<<S[t]);for(var r=0;r<C;++r)N.push(d(r),"+=",p(r,S[t]),";");t===j-1&&(N.push(k,"=0;"),X()),W(t,2),e(t-1,n),t===j-1&&(N.push("if(",h(S[j-1]),"&1){",k,"=0;}"),X()),G(t),N.push("}")}}(j-1,0),N.push("freeUint32(",b,");freeUint32(",_,");");var K=["'use strict';","function ",O,"(",P.join(),"){","var ",R.join(),";",N.join(""),"}","return ",O].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",K)(e,t,n,r.mallocUint32,r.freeUint32)}(e.vertex,e.cell,e.phase,S,n,C)};var b="V",_="P",x="N",w="Q",k="X",E="T";function T(e,t,n){for(var r=0,o=0;o<e;++o)t&1<<o&&(r|=1<<n[o]);return r}},{"typedarray-pool":290}],219:[function(e,t,n){"use strict";var r=e("cwise-compiler"),o={body:"",args:[],thisVars:[],localVars:[]};function i(e){if(!e)return o;for(var t=0;t<e.args.length;++t){var n=e.args[t];e.args[t]=0===t?{name:n,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function a(e){for(var t=[],n=0;n<e.args.length;++n)t.push("a"+n);var o=new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""));return o(function(e){return r({args:e.args,pre:i(e.pre),body:i(e.body),post:i(e.proc),funcName:e.funcName})}(e))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in s){var t=s[e];n[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),n[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in l){var t=l[e];n[e]=a({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),n[e+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in u){var t=u[e];n[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),n[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var t=c[e];n[t]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),n[t+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var e=0;e<d.length;++e){var t=d[e];n[t]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),n[t+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),n[t+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var f=["atan2","pow"];!function(){for(var e=0;e<f.length;++e){var t=f[e];n[t+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),n[t+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),n[t+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),n[t+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),n.any=r({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=r({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=r({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":79}],220:[function(e,t,n){var r=e("iota-array"),o=e("is-buffer"),i="undefined"!=typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var o="generic"===e;if(-1===t){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(i);return a()}if(0===t){var i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",i);return a(u[e][0])}var i=["'use strict'"],l=r(t),c=l.map(function(e){return"i"+e}),d="this.offset+"+l.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),f=l.map(function(e){return"b"+e}).join(","),h=l.map(function(e){return"c"+e}).join(",");i.push("function "+n+"(a,"+f+","+h+",d){this.data=a","this.shape=["+f+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+l.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+n+"_order(){"),2===t?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),o?i.push("return this.data.set("+d+",v)}"):i.push("return this.data["+d+"]=v}"),i.push("proto.get=function "+n+"_get("+c.join(",")+"){"),o?i.push("return this.data.get("+d+")}"):i.push("return this.data["+d+"]}"),i.push("proto.index=function "+n+"_index(",c.join(),"){return "+d+"}"),i.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+l.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+l.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var p=l.map(function(e){return"a"+e+"=this.shape["+e+"]"}),m=l.map(function(e){return"c"+e+"=this.stride["+e+"]"});i.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+m.join(","));for(var g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");i.push("return new "+n+"(this.data,"+l.map(function(e){return"a"+e}).join(",")+","+l.map(function(e){return"c"+e}).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+l.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+l.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");i.push("return new "+n+"(this.data,"+l.map(function(e){return"a"+e}).join(",")+","+l.map(function(e){return"b"+e}).join(",")+",c)}");for(var v=new Array(t),y=new Array(t),g=0;g<t;++g)v[g]="a[i"+g+"]",y[g]="b[i"+g+"]";i.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+y.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+l.map(function(e){return"shape["+e+"]"}).join(",")+","+l.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",i.join("\n"));return a(u[e],s)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(e,t,n,r){if(void 0===e){var a=u.array[0];return a([])}"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===n){n=new Array(s);for(var c=s-1,d=1;c>=0;--c)n[c]=d,d*=t[c]}if(void 0===r){r=0;for(var c=0;c<s;++c)n[c]<0&&(r-=(t[c]-1)*n[c])}for(var f=function(e){if(o(e))return"buffer";if(i)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),h=u[f];h.length<=s+1;)h.push(l(f,h.length-1));return(a=h[s+1])(e,t,n,r)}},{"iota-array":205,"is-buffer":207}],221:[function(e,t,n){"use strict";var r=e("double-bits"),o=Math.pow(2,-1074),i=-1>>>0;t.exports=function(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(0===e)return t<0?-o:o;var n=r.hi(e),a=r.lo(e);return t>e==e>0?a===i?(n+=1,a=0):a+=1:0===a?(a=i,n-=1):a-=1,r.pack(a,n)}},{"double-bits":88}],222:[function(e,t,n){var r=Math.PI,o=u(120);function i(e,t,n,r){return["C",e,t,n,r,n,r]}function a(e,t,n,r,o,i){return["C",e/3+2/3*n,t/3+2/3*r,o/3+2/3*n,i/3+2/3*r,o,i]}function s(e,t,n,i,a,u,c,d,f,h){if(h)k=h[0],E=h[1],x=h[2],w=h[3];else{var p=l(e,t,-a);e=p.x,t=p.y,p=l(d,f,-a),d=p.x,f=p.y;var m=(e-d)/2,g=(t-f)/2,v=m*m/(n*n)+g*g/(i*i);v>1&&(v=Math.sqrt(v),n*=v,i*=v);var y=n*n,b=i*i,_=(u==c?-1:1)*Math.sqrt(Math.abs((y*b-y*g*g-b*m*m)/(y*g*g+b*m*m)));_==1/0&&(_=1);var x=_*n*g/i+(e+d)/2,w=_*-i*m/n+(t+f)/2,k=Math.asin(((t-w)/i).toFixed(9)),E=Math.asin(((f-w)/i).toFixed(9));(k=e<x?r-k:k)<0&&(k=2*r+k),(E=d<x?r-E:E)<0&&(E=2*r+E),c&&k>E&&(k-=2*r),!c&&E>k&&(E-=2*r)}if(Math.abs(E-k)>o){var T=E,A=d,S=f;E=k+o*(c&&E>k?1:-1),d=x+n*Math.cos(E),f=w+i*Math.sin(E);var M=s(d,f,n,i,a,0,c,A,S,[E,T,x,w])}var C=Math.tan((E-k)/4),j=4/3*n*C,O=4/3*i*C,N=[2*e-(e+j*Math.sin(k)),2*t-(t-O*Math.cos(k)),d+j*Math.sin(E),f-O*Math.cos(E),d,f];if(h)return N;M&&(N=N.concat(M));for(var R=0;R<N.length;){var P=l(N[R],N[R+1],a);N[R++]=P.x,N[R++]=P.y}return N}function l(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function u(e){return e*(r/180)}t.exports=function(e){for(var t,n=[],r=0,o=0,l=0,c=0,d=null,f=null,h=0,p=0,m=0,g=e.length;m<g;m++){var v=e[m],y=v[0];switch(y){case"M":l=v[1],c=v[2];break;case"A":(v=s(h,p,v[1],v[2],u(v[3]),v[4],v[5],v[6],v[7])).unshift("C"),v.length>7&&(n.push(v.splice(0,7)),v.unshift("C"));break;case"S":var b=h,_=p;"C"!=t&&"S"!=t||(b+=b-r,_+=_-o),v=["C",b,_,v[1],v[2],v[3],v[4]];break;case"T":"Q"==t||"T"==t?(d=2*h-d,f=2*p-f):(d=h,f=p),v=a(h,p,d,f,v[1],v[2]);break;case"Q":d=v[1],f=v[2],v=a(h,p,v[1],v[2],v[3],v[4]);break;case"L":v=i(h,p,v[1],v[2]);break;case"H":v=i(h,p,v[1],p);break;case"V":v=i(h,p,h,v[1]);break;case"Z":v=i(h,p,l,c)}t=y,h=v[v.length-2],p=v[v.length-1],v.length>4?(r=v[v.length-4],o=v[v.length-3]):(r=h,o=p),n.push(v)}return n}},{}],223:[function(e,t,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))o.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},{}],224:[function(e,t,n){
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
"use strict";var r=e("repeat-string");t.exports=function(e,t,n){return r(n=void 0!==n?n+"":" ",t)+e}},{"repeat-string":260}],225:[function(e,t,n){"use strict";function r(e,t){if("string"!=typeof e)return[e];var n=[e];"string"==typeof t||Array.isArray(t)?t={brackets:t}:t||(t={});var r=t.brackets?Array.isArray(t.brackets)?t.brackets:[t.brackets]:["{}","[]","()"],o=t.escape||"___",i=!!t.flat;r.forEach(function(e){var t=new RegExp(["\\",e[0],"[^\\",e[0],"\\",e[1],"]*\\",e[1]].join("")),r=[];function i(t,i,a){var s=n.push(t.slice(e[0].length,-e[1].length))-1;return r.push(s),o+s}n.forEach(function(e,r){for(var o,a=0;e!=o;)if(o=e,e=e.replace(t,i),a++>1e4)throw Error("References have circular dependency. Please, check them.");n[r]=e}),r=r.reverse(),n=n.map(function(t){return r.forEach(function(n){t=t.replace(new RegExp("(\\"+o+n+"(?![0-9]))","g"),e[0]+"$1"+e[1])}),t})});var a=new RegExp("\\"+o+"([0-9]+)");return i?n:function e(t,n,r){for(var o,i=[],s=0;o=a.exec(t);){if(s++>1e4)throw Error("Circular references in parenthesis");i.push(t.slice(0,o.index)),i.push(e(n[o[1]],n)),t=t.slice(o.index+o[0].length)}return i.push(t),i}(n[0],n)}function o(e,t){if(t&&t.flat){var n,r=t&&t.escape||"___",o=e[0];if(!o)return"";for(var i=new RegExp("\\"+r+"([0-9]+)"),a=0;o!=n;){if(a++>1e4)throw Error("Circular references in "+e);n=o,o=o.replace(i,s)}return o}return e.reduce(function e(t,n){return Array.isArray(n)&&(n=n.reduce(e,"")),t+n},"");function s(t,n){if(null==e[n])throw Error("Reference "+n+"is undefined");return e[n]}}function i(e,t){return Array.isArray(e)?o(e,t):r(e,t)}i.parse=r,i.stringify=o,t.exports=i},{}],226:[function(e,t,n){"use strict";var r=e("pick-by-alias");t.exports=function(e){var t;return arguments.length>1&&(e=arguments),"string"==typeof e?e=e.split(/\s/).map(parseFloat):"number"==typeof e&&(e=[e]),e.length&&"number"==typeof e[0]?t=1===e.length?{width:e[0],height:e[0],x:0,y:0}:2===e.length?{width:e[0],height:e[1],x:0,y:0}:{x:e[0],y:e[1],width:e[2]-e[0]||0,height:e[3]-e[1]||0}:e&&(e=r(e,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),t={x:e.left||0,y:e.top||0},null==e.width?e.right?t.width=e.right-t.x:t.width=0:t.width=e.width,null==e.height?e.bottom?t.height=e.bottom-t.y:t.height=0:t.height=e.height),t}},{"pick-by-alias":232}],227:[function(e,t,n){t.exports=function(e){var t=[];return e.replace(o,function(e,n,o){var a=n.toLowerCase();for(o=function(e){var t=e.match(i);return t?t.map(Number):[]}(o),"m"==a&&o.length>2&&(t.push([n].concat(o.splice(0,2))),a="l",n="m"==n?"l":"L");;){if(o.length==r[a])return o.unshift(n),t.push(o);if(o.length<r[a])throw new Error("malformed path data");t.push([n].concat(o.splice(0,r[a])))}}),t};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=/([astvzqmhlc])([^astvzqmhlc]*)/gi,i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],228:[function(e,t,n){t.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},{}],229:[function(e,t,n){(function(e){(function(){var n,r,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*e.uptime(),a=i-s):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:248}],230:[function(e,t,n){"use strict";t.exports=function(e){var t=e.length;if(t<r){for(var n=1,i=0;i<t;++i)for(var a=0;a<i;++a)if(e[i]<e[a])n=-n;else if(e[i]===e[a])return 0;return n}for(var s=o.mallocUint8(t),i=0;i<t;++i)s[i]=0;for(var n=1,i=0;i<t;++i)if(!s[i]){var l=1;s[i]=1;for(var a=e[i];a!==i;a=e[a]){if(s[a])return o.freeUint8(s),0;l+=1,s[a]=1}1&l||(n=-n)}return o.freeUint8(s),n};var r=32,o=e("typedarray-pool")},{"typedarray-pool":290}],231:[function(e,t,n){"use strict";var r=e("typedarray-pool"),o=e("invert-permutation");n.rank=function(e){var t=e.length;switch(t){case 0:case 1:return 0;case 2:return e[1]}var n,i,a,s=r.mallocUint32(t),l=r.mallocUint32(t),u=0;for(o(e,l),a=0;a<t;++a)s[a]=e[a];for(a=t-1;a>0;--a)i=l[a],n=s[a],s[a]=s[i],s[i]=n,l[a]=l[n],l[n]=i,u=(u+n)*a;return r.freeUint32(l),r.freeUint32(s),u},n.unrank=function(e,t,n){switch(e){case 0:return n||[];case 1:return n?(n[0]=0,n):[0];case 2:return n?(t?(n[0]=0,n[1]=1):(n[0]=1,n[1]=0),n):t?[0,1]:[1,0]}n=n||new Array(e);var r,o,i,a=1;for(n[0]=0,i=1;i<e;++i)n[i]=i,a=a*i|0;for(i=e-1;i>0;--i)t=t-(r=t/a|0)*a|0,a=a/i|0,o=0|n[i],n[i]=0|n[r],n[r]=0|o;return n}},{"invert-permutation":204,"typedarray-pool":290}],232:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i,a={};if("string"==typeof t&&(t=o(t)),Array.isArray(t)){var s={};for(i=0;i<t.length;i++)s[t[i]]=!0;t=s}for(r in t)t[r]=o(t[r]);var l={};for(r in t){var u=t[r];if(Array.isArray(u))for(i=0;i<u.length;i++){var c=u[i];if(n&&(l[c]=!0),c in e){if(a[r]=e[c],n)for(var d=i;d<u.length;d++)l[u[d]]=!0;break}}else r in e&&(t[r]&&(a[r]=e[r]),n&&(l[r]=!0))}if(n)for(r in e)l[r]||(a[r]=e[r]);return a};var r={};function o(e){return r[e]?r[e]:("string"==typeof e&&(e=r[e]=e.split(/\s*,\s*|\s+/)),e)}},{}],233:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=0|t.length,o=e.length,i=[new Array(n),new Array(n)],a=0;a<n;++a)i[0][a]=[],i[1][a]=[];for(var a=0;a<o;++a){var s=e[a];i[0][s[0]].push(s),i[1][s[1]].push(s)}for(var l=[],a=0;a<n;++a)i[0][a].length+i[1][a].length===0&&l.push([a]);function u(e,t){var n=i[t][e[t]];n.splice(n.indexOf(e),1)}function c(e,n,o){for(var a,s,l,c=0;c<2;++c)if(i[c][n].length>0){a=i[c][n][0],l=c;break}s=a[1^l];for(var d=0;d<2;++d)for(var f=i[d][n],h=0;h<f.length;++h){var p=f[h],m=p[1^d],g=r(t[e],t[n],t[s],t[m]);g>0&&(a=p,s=m,l=d)}return o?s:(a&&u(a,l),s)}function d(e,n){var o=i[n][e][0],a=[e];u(o,n);for(var s=o[1^n];;){for(;s!==e;)a.push(s),s=c(a[a.length-2],s,!1);if(i[0][e].length+i[1][e].length===0)break;var l=a[a.length-1],d=e,f=a[1],h=c(l,d,!0);if(r(t[l],t[d],t[f],t[h])<0)break;a.push(e),s=c(l,d)}return a}function f(e,t){return t[1]===t[t.length-1]}for(var a=0;a<n;++a)for(var h=0;h<2;++h){for(var p=[];i[h][a].length>0;){i[0][a].length;var m=d(a,h);f(p,m)?p.push.apply(p,m):(p.length>0&&l.push(p),p=m)}p.length>0&&l.push(p)}return l};var r=e("compare-angle")},{"compare-angle":68}],234:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=r(e,t.length),o=new Array(t.length),i=new Array(t.length),a=[],s=0;s<t.length;++s){var l=n[s].length;i[s]=l,o[s]=!0,l<=1&&a.push(s)}for(;a.length>0;){var u=a.pop();o[u]=!1;for(var c=n[u],s=0;s<c.length;++s){var d=c[s];0==--i[d]&&a.push(d)}}for(var f=new Array(t.length),h=[],s=0;s<t.length;++s)if(o[s]){var u=h.length;f[s]=u,h.push(t[s])}else f[s]=-1;for(var p=[],s=0;s<e.length;++s){var m=e[s];o[m[0]]&&o[m[1]]&&p.push([f[m[0]],f[m[1]]])}return[p,h]};var r=e("edges-to-adjacency-list")},{"edges-to-adjacency-list":93}],235:[function(e,t,n){"use strict";t.exports=function(e,t){var n=u(e,t);e=n[0];for(var d=(t=n[1]).length,f=(e.length,r(e,t.length)),h=0;h<d;++h)if(f[h].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");for(var p=o(e,t),m=(p=p.filter(function(e){for(var n=e.length,r=[0],o=0;o<n;++o){var i=t[e[o]],l=t[e[(o+1)%n]],u=a(-i[0],i[1]),c=a(-i[0],l[1]),d=a(l[0],i[1]),f=a(l[0],l[1]);r=s(r,s(s(u,c),s(d,f)))}return r[r.length-1]>0})).length,g=new Array(m),v=new Array(m),h=0;h<m;++h){g[h]=h;var y=new Array(m),b=p[h].map(function(e){return t[e]}),_=i([b]),x=0;e:for(var w=0;w<m;++w)if(y[w]=0,h!==w){for(var k=p[w],E=k.length,T=0;T<E;++T){var A=_(t[k[T]]);if(0!==A){A<0&&(y[w]=1,x+=1);continue e}}y[w]=1,x+=1}v[h]=[x,h,y]}v.sort(function(e,t){return t[0]-e[0]});for(var h=0;h<m;++h)for(var y=v[h],S=y[1],M=y[2],w=0;w<m;++w)M[w]&&(g[w]=S);for(var C=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=[];return t}(m),h=0;h<m;++h)C[h].push(g[h]),C[g[h]].push(h);for(var j={},O=c(d,!1),h=0;h<m;++h)for(var k=p[h],E=k.length,w=0;w<E;++w){var N=k[w],R=k[(w+1)%E],P=Math.min(N,R)+":"+Math.max(N,R);if(P in j){var I=j[P];C[I].push(h),C[h].push(I),O[N]=O[R]=!0}else j[P]=h}function D(e){for(var t=e.length,n=0;n<t;++n)if(!O[e[n]])return!1;return!0}for(var L=[],B=c(m,-1),h=0;h<m;++h)g[h]!==h||D(p[h])?B[h]=-1:(L.push(h),B[h]=0);for(var n=[];L.length>0;){var F=L.pop(),z=C[F];l(z,function(e,t){return e-t});var U,q=z.length,V=B[F];if(0===V){var k=p[F];U=[k]}for(var h=0;h<q;++h){var H=z[h];if(!(B[H]>=0)&&(B[H]=1^V,L.push(H),0===V)){var k=p[H];D(k)||(k.reverse(),U.push(k))}}0===V&&n.push(U)}return n};var r=e("edges-to-adjacency-list"),o=e("planar-dual"),i=e("point-in-big-polygon"),a=e("two-product"),s=e("robust-sum"),l=e("uniq"),u=e("./lib/trim-leaves");function c(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}},{"./lib/trim-leaves":234,"edges-to-adjacency-list":93,"planar-dual":233,"point-in-big-polygon":239,"robust-sum":267,"two-product":288,uniq:292}],236:[function(e,t,n){"use strict";t.exports=e("./quad")},{"./quad":238}],237:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],238:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),o=e("clamp"),i=e("parse-rect"),a=e("array-bounds"),s=e("pick-by-alias"),l=e("defined"),u=e("flatten-vertex-data"),c=e("is-obj"),d=e("dtype"),f=e("math-log2");function h(e,t){for(var n=t[0],r=t[1],i=t[2],a=t[3],s=1/(i-n),l=1/(a-r),u=new Array(e.length),c=0,d=e.length/2;c<d;c++)u[2*c]=o((e[2*c]-n)*s,0,1),u[2*c+1]=o((e[2*c+1]-r)*l,0,1);return u}t.exports=function(e,t){t||(t={}),e=u(e,"float64"),t=s(t,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var n=l(t.maxDepth,255),o=l(t.bounds,a(e,2));o[0]===o[2]&&o[2]++,o[1]===o[3]&&o[3]++;var p,m=h(e,o),g=e.length>>>1;t.dtype||(t.dtype="array"),"string"==typeof t.dtype?p=new(d(t.dtype))(g):t.dtype&&(p=t.dtype,Array.isArray(p)&&(p.length=g));for(var v=0;v<g;++v)p[v]=v;var y=[],b=[],_=[],x=[];!function e(t,r,o,i,a,s){if(!i.length)return null;var l=y[a]||(y[a]=[]),u=_[a]||(_[a]=[]),c=b[a]||(b[a]=[]),d=l.length;if(++a>n){for(var f=0;f<i.length;f++)l.push(i[f]),u.push(s),c.push(null,null,null,null);return d}if(l.push(i[0]),u.push(s),i.length<=1)return c.push(null,null,null,null),d;for(var h=.5*o,p=t+h,g=r+h,v=[],x=[],w=[],k=[],E=1,T=i.length;E<T;E++){var A=i[E],S=m[2*A],M=m[2*A+1];S<p?M<g?v.push(A):x.push(A):M<g?w.push(A):k.push(A)}return s<<=2,c.push(e(t,r,h,v,a,s),e(t,g,h,x,a,s+1),e(p,r,h,w,a,s+2),e(p,g,h,k,a,s+3)),d}(0,0,1,p,0,1);for(var w=0,k=0;k<y.length;k++){var E=y[k];if(p.set)p.set(E,w);else for(var T=0,A=E.length;T<A;T++)p[T+w]=E[T];var S=w+y[k].length;x[k]=[w,S],w=S}return p.range=function(){for(var t,n=[],a=arguments.length;a--;)n[a]=arguments[a];if(c(n[n.length-1])){var u=n.pop();n.length||null==u.x&&null==u.l&&null==u.left||(n=[u],t={}),t=s(u,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else t={};n.length||(n=o);var d,p=i.apply(void 0,n),m=[Math.min(p.x,p.x+p.width),Math.min(p.y,p.y+p.height),Math.max(p.x,p.x+p.width),Math.max(p.y,p.y+p.height)],g=m[0],v=m[1],w=m[2],k=m[3],E=h([g,v,w,k],o),T=E[0],A=E[1],S=E[2],C=E[3],j=l(t.level,y.length);if(null!=t.d&&("number"==typeof t.d?d=[t.d,t.d]:t.d.length&&(d=t.d),j=Math.min(Math.max(Math.ceil(-f(Math.abs(d[0])/(o[2]-o[0]))),Math.ceil(-f(Math.abs(d[1])/(o[3]-o[1])))),j)),j=Math.min(j,y.length),t.lod)return function(e,t,n,o,i){for(var a=[],s=0;s<i;s++){var l=_[s],u=x[s][0],c=M(e,t,s),d=M(n,o,s),f=r.ge(l,c),h=r.gt(l,d,f,l.length-1);a[s]=[f+u,h+u]}return a}(T,A,S,C,j);var O=[];return function t(n,r,o,i,a,s){if(null!==a&&null!==s){var l=n+o,u=r+o;if(!(T>l||A>u||S<n||C<r||i>=j||a===s)){var c=y[i];void 0===s&&(s=c.length);for(var d=a;d<s;d++){var f=c[d],h=e[2*f],p=e[2*f+1];h>=g&&h<=w&&p>=v&&p<=k&&O.push(f)}var m=b[i],_=m[4*a+0],x=m[4*a+1],E=m[4*a+2],M=m[4*a+3],N=function(e,t){for(var n=null,r=0;null===n;)if(n=e[4*t+r],++r>e.length)return null;return n}(m,a+1),R=.5*o,P=i+1;t(n,r,R,P,_,x||E||M||N),t(n,r+R,R,P,x,E||M||N),t(n+R,r,R,P,E,M||N),t(n+R,r+R,R,P,M,N)}}}(0,0,1,0,0,1),O},p;function M(e,t,n){for(var r=1,o=.5,i=.5,a=.5,s=0;s<n;s++)r<<=2,r+=e<o?t<i?0:1:t<i?2:3,a*=.5,o+=e<o?-a:a,i+=t<i?-a:a;return r}}},{"array-bounds":13,"binary-search-bounds":237,clamp:58,defined:86,dtype:90,"flatten-vertex-data":150,"is-obj":209,"math-log2":213,"parse-rect":226,"pick-by-alias":232}],239:[function(e,t,n){t.exports=function(e){for(var t=e.length,n=[],i=[],s=0;s<t;++s)for(var c=e[s],d=c.length,f=d-1,h=0;h<d;f=h++){var p=c[f],m=c[h];p[0]===m[0]?i.push([p,m]):n.push([p,m])}if(0===n.length)return 0===i.length?u:(g=l(i),function(e){return g(e[0],e[1])?0:1});var g,v=o(n),y=function(e,t){return function(n){var o=a.le(t,n[0]);if(o<0)return 1;var i=e[o];if(!i){if(!(o>0&&t[o]===n[0]))return 1;i=e[o-1]}for(var s=1;i;){var l=i.key,u=r(n,l[0],l[1]);if(l[0][0]<l[1][0])if(u<0)i=i.left;else{if(!(u>0))return 0;s=-1,i=i.right}else if(u>0)i=i.left;else{if(!(u<0))return 0;s=1,i=i.right}}return s}}(v.slabs,v.coordinates);return 0===i.length?y:function(e,t){return function(n){return e(n[0],n[1])?0:t(n)}}(l(i),y)};var r=e("robust-orientation")[3],o=e("slab-decomposition"),i=e("interval-tree-1d"),a=e("binary-search-bounds");function s(){return!0}function l(e){for(var t={},n=0;n<e.length;++n){var r=e[n],o=r[0][0],a=r[0][1],l=r[1][1],u=[Math.min(a,l),Math.max(a,l)];o in t?t[o].push(u):t[o]=[u]}for(var c={},d=Object.keys(t),n=0;n<d.length;++n){var f=t[d[n]];c[d[n]]=i(f)}return function(e){return function(t,n){var r=e[t];return!!r&&!!r.queryPoint(n,s)}}(c)}function u(e){return 1}},{"binary-search-bounds":38,"interval-tree-1d":203,"robust-orientation":262,"slab-decomposition":274}],240:[function(e,t,n){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var r,o=e("./lib/build-log"),i=e("./lib/epsilon"),a=e("./lib/intersecter"),s=e("./lib/segment-chainer"),l=e("./lib/segment-selector"),u=e("./lib/geojson"),c=!1,d=i();function f(e,t,n){var o=r.segments(e),i=r.segments(t),a=r.combine(o,i),s=n(a);return r.polygon(s)}r={buildLog:function(e){return!0===e?c=o():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return d.epsilon(e)},segments:function(e){var t=a(!0,d,c);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){var n=a(!1,d,c);return{combined:n.calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:l.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:l.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:l.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:l.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:l.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:s(e.segments,d,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return u.toPolygon(r,e)},polygonToGeoJSON:function(e){return u.fromPolygon(r,d,e)},union:function(e,t){return f(e,t,r.selectUnion)},intersect:function(e,t){return f(e,t,r.selectIntersect)},difference:function(e,t){return f(e,t,r.selectDifference)},differenceRev:function(e,t){return f(e,t,r.selectDifferenceRev)},xor:function(e,t){return f(e,t,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),t.exports=r},{"./lib/build-log":241,"./lib/epsilon":242,"./lib/geojson":243,"./lib/intersecter":244,"./lib/segment-chainer":246,"./lib/segment-selector":247}],241:[function(e,t,n){t.exports=function(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}},{}],242:[function(e,t,n){t.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var o=n[0],i=n[1],a=r[0],s=r[1],l=t[0],u=t[1];return(a-o)*(u-i)-(s-i)*(l-o)>=-e},pointBetween:function(t,n,r){var o=t[1]-n[1],i=r[0]-n[0],a=t[0]-n[0],s=r[1]-n[1],l=a*i+o*s;if(l<e)return!1;var u=i*i+s*s;return!(l-u>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var o=t[0]-n[0],i=t[1]-n[1],a=n[0]-r[0],s=n[1]-r[1];return Math.abs(o*s-a*i)<e},linesIntersect:function(t,n,r,o){var i=n[0]-t[0],a=n[1]-t[1],s=o[0]-r[0],l=o[1]-r[1],u=i*l-a*s;if(Math.abs(u)<e)return!1;var c=t[0]-r[0],d=t[1]-r[1],f=(s*d-l*c)/u,h=(i*d-a*c)/u,p={alongA:0,alongB:0,pt:[t[0]+f*i,t[1]+f*a]};return p.alongA=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(t,n){for(var r=t[0],o=t[1],i=n[n.length-1][0],a=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var u=n[l][0],c=n[l][1];c-o>e!=a-o>e&&(i-u)*(o-c)/(a-c)+u-r>e&&(s=!s),i=u,a=c}return s}};return t}},{}],243:[function(e,t,n){var r={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),o=1;o<t.length;o++)r=e.selectDifference(e.combine(r,n(t[o])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),o=0;o<t.coordinates.length;o++)r=e.selectUnion(e.combine(r,n(t.coordinates[o])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function o(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var i=o(null);function a(e,t){for(var n=0;n<e.children.length;n++){var i=e.children[n];if(r(t,i.region))return void a(i,t)}for(var s=o(t),n=0;n<e.children.length;n++){var i=e.children[n];r(i.region,t)&&(s.children.push(i),e.children.splice(n,1),n--)}e.children.push(s)}for(var s=0;s<n.regions.length;s++){var l=n.regions[s];l.length<3||a(i,l)}function u(e,t){for(var n=0,r=e[e.length-1][0],o=e[e.length-1][1],i=[],a=0;a<e.length;a++){var s=e[a][0],l=e[a][1];i.push([s,l]),n+=l*r-s*o,r=s,o=l}var u=n<0;return u!==t&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var c=[];function d(e){var t=[u(e.region,!1)];c.push(t);for(var n=0;n<e.children.length;n++)t.push(f(e.children[n]))}function f(e){for(var t=0;t<e.children.length;t++)d(e.children[t]);return u(e.region,!0)}for(var s=0;s<i.children.length;s++)d(i.children[s]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};t.exports=r},{}],244:[function(e,t,n){var r=e("./linked-list");t.exports=function(e,t,n){function o(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var i=r.create();function a(e,n){i.insertBefore(e,function(r){var o=function(e,n,r,o,i,a){var s=t.pointsCompare(n,i);return 0!==s?s:t.pointsSame(r,a)?0:e!==o?e?1:-1:t.pointAboveOrOnLine(r,o?i:a,o?a:i)?1:-1}(e.isStart,e.pt,n,r.isStart,r.pt,r.other.pt);return o<0})}function s(e,t){var n=function(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return a(n,e.end),n}(e,t);return function(e,t,n){var o=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=o,a(o,e.pt)}(n,e,t),n}function l(e,t){var r=o(t,e.seg.end,e.seg);return function(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,a(e.other,e.pt)}(e,t),s(r,e.primary)}function u(o,a){var s=r.create();function u(e){return s.findTransition(function(n){var r,o,i,a,s,l,u=(r=e,o=n.ev,i=r.seg.start,a=r.seg.end,s=o.seg.start,l=o.seg.end,t.pointsCollinear(i,s,l)?t.pointsCollinear(a,s,l)?1:t.pointAboveOrOnLine(a,s,l)?1:-1:t.pointAboveOrOnLine(i,s,l)?1:-1);return u>0})}function c(e,r){var o=e.seg,i=r.seg,a=o.start,s=o.end,u=i.start,c=i.end;n&&n.checkIntersection(o,i);var d=t.linesIntersect(a,s,u,c);if(!1===d){if(!t.pointsCollinear(a,s,u))return!1;if(t.pointsSame(a,c)||t.pointsSame(s,u))return!1;var f=t.pointsSame(a,u),h=t.pointsSame(s,c);if(f&&h)return r;var p=!f&&t.pointBetween(a,u,c),m=!h&&t.pointBetween(s,u,c);if(f)return m?l(r,s):l(e,c),r;p&&(h||(m?l(r,s):l(e,c)),l(r,a))}else 0===d.alongA&&(-1===d.alongB?l(e,u):0===d.alongB?l(e,d.pt):1===d.alongB&&l(e,c)),0===d.alongB&&(-1===d.alongA?l(r,a):0===d.alongA?l(r,d.pt):1===d.alongA&&l(r,s));return!1}for(var d=[];!i.isEmpty();){var f=i.getHead();if(n&&n.vert(f.pt[0]),f.isStart){n&&n.segmentNew(f.seg,f.primary);var h=u(f),p=h.before?h.before.ev:null,m=h.after?h.after.ev:null;function g(){if(p){var e=c(f,p);if(e)return e}return!!m&&c(f,m)}n&&n.tempStatus(f.seg,!!p&&p.seg,!!m&&m.seg);var v,y,b=g();if(b&&(e?(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(b.seg.myFill.above=!b.seg.myFill.above):b.seg.otherFill=f.seg.myFill,n&&n.segmentUpdate(b.seg),f.other.remove(),f.remove()),i.getHead()!==f){n&&n.rewind(f.seg);continue}e?(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=m?m.seg.myFill.above:o,f.seg.myFill.above=y?!f.seg.myFill.below:f.seg.myFill.below):null===f.seg.otherFill&&(v=m?f.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:f.primary?a:o,f.seg.otherFill={above:v,below:v}),n&&n.status(f.seg,!!p&&p.seg,!!m&&m.seg),f.other.status=h.insert(r.node({ev:f}))}else{var _=f.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(_.prev)&&s.exists(_.next)&&c(_.prev.ev,_.next.ev),n&&n.statusRemove(_.ev.seg),_.remove(),!f.primary){var x=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=x}d.push(f.seg)}i.getHead().remove()}return n&&n.done(),d}return e?{addRegion:function(e){for(var r,o,i,a=e[e.length-1],l=0;l<e.length;l++){r=a,a=e[l];var u=t.pointsCompare(r,a);0!==u&&s((o=u<0?r:a,i=u<0?a:r,{id:n?n.segmentId():-1,start:o,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return u(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach(function(e){s(o(e.start,e.end,e),!0)}),n.forEach(function(e){s(o(e.start,e.end,e),!1)}),u(t,r)}}}},{"./linked-list":245}],245:[function(e,t,n){t.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,o=e.root.next;null!==o;){if(n(o))return t.prev=o.prev,t.next=o,o.prev.next=t,void(o.prev=t);r=o,o=o.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},{}],246:[function(e,t,n){t.exports=function(e,t,n){var r=[],o=[];return e.forEach(function(e){var i=e.start,a=e.end;if(t.pointsSame(i,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},u=s,c=0;c<r.length;c++){var d=(g=r[c])[0],f=(g[1],g[g.length-1]);if(g[g.length-2],t.pointsSame(d,i)){if(E(c,!0,!0))break}else if(t.pointsSame(d,a)){if(E(c,!0,!1))break}else if(t.pointsSame(f,i)){if(E(c,!1,!0))break}else if(t.pointsSame(f,a)&&E(c,!1,!1))break}if(u===s)return r.push([i,a]),void(n&&n.chainNew(i,a));if(u===l){n&&n.chainMatch(s.index);var h=s.index,p=s.matches_pt1?a:i,m=s.matches_head,g=r[h],v=m?g[0]:g[g.length-1],y=m?g[1]:g[g.length-2],b=m?g[g.length-1]:g[0],_=m?g[g.length-2]:g[1];return t.pointsCollinear(y,v,p)&&(m?(n&&n.chainRemoveHead(s.index,p),g.shift()):(n&&n.chainRemoveTail(s.index,p),g.pop()),v=y),t.pointsSame(b,p)?(r.splice(h,1),t.pointsCollinear(_,b,v)&&(m?(n&&n.chainRemoveTail(s.index,v),g.pop()):(n&&n.chainRemoveHead(s.index,v),g.shift())),n&&n.chainClose(s.index),void o.push(g)):void(m?(n&&n.chainAddHead(s.index,p),g.unshift(p)):(n&&n.chainAddTail(s.index,p),g.push(p)))}var x=s.index,w=l.index;n&&n.chainConnect(x,w);var k=r[x].length<r[w].length;s.matches_head?l.matches_head?k?(T(x),A(x,w)):(T(w),A(w,x)):A(w,x):l.matches_head?A(x,w):k?(T(x),A(w,x)):(T(w),A(x,w))}function E(e,t,n){return u.index=e,u.matches_head=t,u.matches_pt1=n,u===s?(u=l,!1):(u=null,!0)}function T(e){n&&n.chainReverse(e),r[e].reverse()}function A(e,o){var i=r[e],a=r[o],s=i[i.length-1],l=i[i.length-2],u=a[0],c=a[1];t.pointsCollinear(l,s,u)&&(n&&n.chainRemoveTail(e,s),i.pop(),s=l),t.pointsCollinear(s,u,c)&&(n&&n.chainRemoveHead(o,u),a.shift()),n&&n.chainJoin(e,o),r[e]=i.concat(a),r.splice(o,1)}}),o}},{}],247:[function(e,t,n){function r(e,t,n){var r=[];return e.forEach(function(e){var o=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[o]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[o],below:2===t[o]},otherFill:null})}),n&&n.selected(r),r}var o={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};t.exports=o},{}],248:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var u,c=[],d=!1,f=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!d){var e=l(h);d=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],249:[function(e,n,r){(function(t){for(var r=e("performance-now"),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],l=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!l){var c=0,d=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}n.exports=function(e){return s.call(o,e)},n.exports.cancel=function(){l.apply(o,arguments)},n.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":229}],250:[function(e,t,n){"use strict";var r=e("big-rat/add");t.exports=function(e,t){for(var n=e.length,o=new Array(n),i=0;i<n;++i)o[i]=r(e[i],t[i]);return o}},{"big-rat/add":22}],251:[function(e,t,n){"use strict";t.exports=function(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=r(e[n]);return t};var r=e("big-rat")},{"big-rat":25}],252:[function(e,t,n){"use strict";var r=e("big-rat"),o=e("big-rat/mul");t.exports=function(e,t){for(var n=r(t),i=e.length,a=new Array(i),s=0;s<i;++s)a[s]=o(e[s],n);return a}},{"big-rat":25,"big-rat/mul":34}],253:[function(e,t,n){"use strict";var r=e("big-rat/sub");t.exports=function(e,t){for(var n=e.length,o=new Array(n),i=0;i<n;++i)o[i]=r(e[i],t[i]);return o}},{"big-rat/sub":36}],254:[function(e,t,n){"use strict";var r=e("array-bounds"),o=e("color-normalize"),i=e("update-diff"),a=e("pick-by-alias"),s=e("object-assign"),l=e("flatten-vertex-data"),u=e("to-float32"),c=u.float32,d=u.fract32;t.exports=function(e,t){if("function"==typeof e?(t||(t={}),t.regl=e):t=e,t.length&&(t.positions=t),!(e=t.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var n,u,h,p,m,g,v=e._gl,y={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},b=[];return p=e.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),m=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=e.buffer({usage:"static",type:"float",data:f}),k(t),n=e({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision mediump float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:e.prop("range"),lineWidth:e.prop("lineWidth"),capSize:e.prop("capSize"),opacity:e.prop("opacity"),scale:e.prop("scale"),translate:e.prop("translate"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]}},attributes:{color:{buffer:p,offset:function(e,t){return 4*t.offset},divisor:1},position:{buffer:u,offset:function(e,t){return 8*t.offset},divisor:1},positionFract:{buffer:h,offset:function(e,t){return 8*t.offset},divisor:1},error:{buffer:m,offset:function(e,t){return 16*t.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:!1,instances:e.prop("count"),count:f.length}),s(_,{update:k,draw:x,destroy:E,regl:e,gl:v,canvas:v.canvas,groups:b}),_;function _(e){e?k(e):null===e&&E(),x()}function x(t){if("number"==typeof t)return w(t);t&&!Array.isArray(t)&&(t=[t]),e._refresh(),b.forEach(function(e,n){e&&(t&&(t[n]?e.draw=!0:e.draw=!1),e.draw?w(n):e.draw=!0)})}function w(e){"number"==typeof e&&(e=b[e]),null!=e&&e&&e.count&&e.color&&e.opacity&&e.positions&&e.positions.length>1&&(e.scaleRatio=[e.scale[0]*e.viewport.width,e.scale[1]*e.viewport.height],n(e),e.after&&e.after(e))}function k(e){if(e){null!=e.length?"number"==typeof e[0]&&(e=[{positions:e}]):Array.isArray(e)||(e=[e]);var t=0,n=0;if(_.groups=b=e.map(function(e,u){var c=b[u];return e?("function"==typeof e?e={after:e}:"number"==typeof e[0]&&(e={positions:e}),e=a(e,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),c||(b[u]=c={id:u,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},e=s({},y,e)),i(c,e,[{lineWidth:function(e){return.5*+e},capSize:function(e){return.5*+e},opacity:parseFloat,errors:function(e){return e=l(e),n+=e.length,e},positions:function(e,n){return e=l(e,"float64"),n.count=Math.floor(e.length/2),n.bounds=r(e,2),n.offset=t,t+=n.count,e}},{color:function(e,t){var n=t.count;if(e||(e="transparent"),!Array.isArray(e)||"number"==typeof e[0]){var r=e;e=Array(n);for(var i=0;i<n;i++)e[i]=r}if(e.length<n)throw Error("Not enough colors");for(var a=new Uint8Array(4*n),s=0;s<n;s++){var l=o(e[s],"uint8");a.set(l,4*s)}return a},range:function(e,t,n){var r=t.bounds;return e||(e=r),t.scale=[1/(e[2]-e[0]),1/(e[3]-e[1])],t.translate=[-e[0],-e[1]],t.scaleFract=d(t.scale),t.translateFract=d(t.translate),e},viewport:function(e){var t;return Array.isArray(e)?t={x:e[0],y:e[1],width:e[2]-e[0],height:e[3]-e[1]}:e?(t={x:e.x||e.left||0,y:e.y||e.top||0},e.right?t.width=e.right-t.x:t.width=e.w||e.width||0,e.bottom?t.height=e.bottom-t.y:t.height=e.h||e.height||0):t={x:0,y:0,width:v.drawingBufferWidth,height:v.drawingBufferHeight},t}}]),c):c}),t||n){var f=b.reduce(function(e,t,n){return e+(t?t.count:0)},0),g=new Float64Array(2*f),x=new Uint8Array(4*f),w=new Float32Array(4*f);b.forEach(function(e,t){if(e){var n=e.positions,r=e.count,o=e.offset,i=e.color,a=e.errors;r&&(x.set(i,4*o),w.set(a,4*o),g.set(n,2*o))}}),u(c(g)),h(d(g)),p(x),m(w)}}}function E(){u.destroy(),h.destroy(),p.destroy(),m.destroy(),g.destroy()}};var f=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},{"array-bounds":13,"color-normalize":63,"flatten-vertex-data":150,"object-assign":223,"pick-by-alias":232,"to-float32":285,"update-diff":294}],255:[function(e,t,n){"use strict";var r=e("color-normalize"),o=e("array-bounds"),i=e("object-assign"),a=e("glslify"),s=e("pick-by-alias"),l=e("flatten-vertex-data"),u=e("earcut"),c=e("array-normalize"),d=e("to-float32"),f=d.float32,h=d.fract32,p=e("es6-weak-map"),m=e("parse-rect");function g(e,t){if(!(this instanceof g))return new g(e,t);if("function"==typeof e?(t||(t={}),t.regl=e):t=e,t.length&&(t.positions=t),!(e=t.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=e._gl,this.regl=e,this.passes=[],this.shaders=g.shaders.has(e)?g.shaders.get(e):g.shaders.set(e,g.createShaders(e)).get(e),this.update(t)}t.exports=g,g.dashMult=2,g.maxPatternLength=256,g.precisionThreshold=3e6,g.maxPoints=1e4,g.maxLines=2048,g.shaders=new p,g.createShaders=function(e){var t,n=e.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),r={primitive:"triangle strip",instances:e.prop("count"),count:4,offset:0,uniforms:{miterMode:function(e,t){return"round"===t.join?2:1},miterLimit:e.prop("miterLimit"),scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),thickness:e.prop("thickness"),dashPattern:e.prop("dashTexture"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),dashSize:e.prop("dashLength"),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]},depth:e.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(e,t){return!t.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport")},o=e(i({vert:a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:a(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D dashPattern;\n\nuniform float dashSize, pixelRatio, thickness, opacity, id;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashSize) * .5 + .25;\n\tfloat dash = texture2D(dashPattern, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:n,divisor:0,stride:8,offset:0},lineTop:{buffer:n,divisor:0,stride:8,offset:4},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},r));try{t=e(i({cull:{enable:!0,face:"back"},vert:a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:a(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D dashPattern;\nuniform float dashSize, pixelRatio, thickness, opacity, id, miterMode;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashSize) * .5 + .25;\n\tfloat dash = texture2D(dashPattern, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:n,divisor:0,stride:8,offset:0},lineTop:{buffer:n,divisor:0,stride:8,offset:4},aColor:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:e.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},r))}catch(e){t=o}var s=e({primitive:"triangle",elements:function(e,t){return t.triangles},offset:0,vert:a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:a(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:e.prop("scale"),color:e.prop("fill"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]}},attributes:{position:{buffer:e.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8}},blend:r.blend,depth:{enable:!1},scissor:r.scissor,stencil:r.stencil,viewport:r.viewport});return{fill:s,rect:o,miter:t}},g.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},g.prototype.render=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];t.length&&(e=this).update.apply(e,t),this.draw()},g.prototype.draw=function(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(t.length?t:this.passes).forEach(function(t,n){var r;if(t&&Array.isArray(t))return(r=e).draw.apply(r,t);"number"==typeof t&&(t=e.passes[t]),t&&t.count>1&&t.opacity&&(e.regl._refresh(),t.fill&&t.triangles&&t.triangles.length>2&&e.shaders.fill(t),t.thickness&&(t.scale[0]*t.viewport.width>g.precisionThreshold||t.scale[1]*t.viewport.height>g.precisionThreshold?e.shaders.rect(t):"rect"===t.join||!t.join&&(t.thickness<=2||t.count>=g.maxPoints)?e.shaders.rect(t):e.shaders.miter(t)))}),this},g.prototype.update=function(e){var t=this;if(e){null!=e.length?"number"==typeof e[0]&&(e=[{positions:e}]):Array.isArray(e)||(e=[e]);var n=this.regl,a=this.gl;if(e.forEach(function(e,d){var p=t.passes[d];if(void 0!==e)if(null!==e){if("number"==typeof e[0]&&(e={positions:e}),e=s(e,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow"}),p||(t.passes[d]=p={id:d,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:n.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},e=i({},g.defaults,e)),null!=e.thickness&&(p.thickness=parseFloat(e.thickness)),null!=e.opacity&&(p.opacity=parseFloat(e.opacity)),null!=e.miterLimit&&(p.miterLimit=parseFloat(e.miterLimit)),null!=e.overlay&&(p.overlay=!!e.overlay,d<g.maxLines&&(p.depth=2*(g.maxLines-1-d%g.maxLines)/g.maxLines-1)),null!=e.join&&(p.join=e.join),null!=e.hole&&(p.hole=e.hole),null!=e.fill&&(p.fill=e.fill?r(e.fill,"uint8"):null),null!=e.viewport&&(p.viewport=m(e.viewport)),p.viewport||(p.viewport=m([a.drawingBufferWidth,a.drawingBufferHeight])),null!=e.close&&(p.close=e.close),null===e.positions&&(e.positions=[]),e.positions){var v,y;if(e.positions.x&&e.positions.y){var b=e.positions.x,_=e.positions.y;y=p.count=Math.max(b.length,_.length),v=new Float64Array(2*y);for(var x=0;x<y;x++)v[2*x]=b[x],v[2*x+1]=_[x]}else v=l(e.positions,"float64"),y=p.count=Math.floor(v.length/2);var w=p.bounds=o(v,2);if(p.fill){for(var k=[],E={},T=0,A=0,S=0,M=p.count;A<M;A++){var C=v[2*A],j=v[2*A+1];isNaN(C)||isNaN(j)||null==C||null==j?(C=v[2*T],j=v[2*T+1],E[A]=T):T=A,k[S++]=C,k[S++]=j}for(var O=u(k,p.hole||[]),N=0,R=O.length;N<R;N++)null!=E[O[N]]&&(O[N]=E[O[N]]);p.triangles=O}var P=new Float64Array(v);c(P,2,w);var I=new Float64Array(2*y+6);p.close?v[0]===v[2*y-2]&&v[1]===v[2*y-1]?(I[0]=P[2*y-4],I[1]=P[2*y-3]):(I[0]=P[2*y-2],I[1]=P[2*y-1]):(I[0]=P[0],I[1]=P[1]),I.set(P,2),p.close?v[0]===v[2*y-2]&&v[1]===v[2*y-1]?(I[2*y+2]=P[2],I[2*y+3]=P[3],p.count-=1):(I[2*y+2]=P[0],I[2*y+3]=P[1],I[2*y+4]=P[2],I[2*y+5]=P[3]):(I[2*y+2]=P[2*y-2],I[2*y+3]=P[2*y-1],I[2*y+4]=P[2*y-2],I[2*y+5]=P[2*y-1]),p.positionBuffer(f(I)),p.positionFractBuffer(h(I))}if(e.range?p.range=e.range:p.range||(p.range=p.bounds),(e.range||e.positions)&&p.count){var D=p.bounds,L=D[2]-D[0],B=D[3]-D[1],F=p.range[2]-p.range[0],z=p.range[3]-p.range[1];p.scale=[L/F,B/z],p.translate=[-p.range[0]/F+D[0]/F||0,-p.range[1]/z+D[1]/z||0],p.scaleFract=h(p.scale),p.translateFract=h(p.translate)}if(e.dashes){var U,q=0;if(!e.dashes||e.dashes.length<2)q=1,U=new Uint8Array([255,255,255,255,255,255,255,255]);else{q=0;for(var V=0;V<e.dashes.length;++V)q+=e.dashes[V];U=new Uint8Array(q*g.dashMult);for(var H=0,W=255,G=0;G<2;G++)for(var X=0;X<e.dashes.length;++X){for(var K=0,Y=e.dashes[X]*g.dashMult*.5;K<Y;++K)U[H++]=W;W^=255}}p.dashLength=q,p.dashTexture({channels:1,data:U,width:U.length,height:1,mag:"linear",min:"linear"},0,0)}if(e.color){var $=p.count,Z=e.color;Z||(Z="transparent");var Q=new Uint8Array(4*$+4);if(Array.isArray(Z)&&"number"!=typeof Z[0]){for(var J=0;J<$;J++){var ee=r(Z[J],"uint8");Q.set(ee,4*J)}Q.set(r(Z[0],"uint8"),4*$)}else for(var te=r(Z,"uint8"),ne=0;ne<$+1;ne++)Q.set(te,4*ne);p.colorBuffer({usage:"dynamic",type:"uint8",data:Q})}}else t.passes[d]=null}),e.length<this.passes.length){for(var d=e.length;d<this.passes.length;d++){var p=t.passes[d];p&&(p.colorBuffer.destroy(),p.positionBuffer.destroy(),p.dashTexture.destroy())}this.passes.length=e.length}for(var v=[],y=0;y<this.passes.length;y++)null!==t.passes[y]&&v.push(t.passes[y]);return this.passes=v,this}},g.prototype.destroy=function(){return this.passes.forEach(function(e){e.colorBuffer.destroy(),e.positionBuffer.destroy(),e.dashTexture.destroy()}),this.passes.length=0,this}},{"array-bounds":13,"array-normalize":14,"color-normalize":63,earcut:92,"es6-weak-map":145,"flatten-vertex-data":150,glslify:199,"object-assign":223,"parse-rect":226,"pick-by-alias":232,"to-float32":285}],256:[function(e,t,n){"use strict";var r=e("./scatter"),o=e("object-assign");t.exports=function(e,t){var n=new r(e,t),i=n.render.bind(n);return o(i,{render:i,update:n.update.bind(n),draw:n.draw.bind(n),destroy:n.destroy.bind(n),regl:n.regl,gl:n.gl,canvas:n.gl.canvas,groups:n.groups,markers:n.markerCache,palette:n.palette}),i}},{"./scatter":257,"object-assign":223}],257:[function(e,t,n){"use strict";var r=e("color-normalize"),o=e("array-bounds"),i=e("color-id"),a=e("point-cluster"),s=e("object-assign"),l=e("glslify"),u=e("pick-by-alias"),c=e("update-diff"),d=e("flatten-vertex-data"),f=e("is-iexplorer"),h=e("to-float32"),p=e("parse-rect");function m(e,t){var n=this;if(!(this instanceof m))return new m(e,t);"function"==typeof e?(t||(t={}),t.regl=e):(t=e,e=null),t&&t.length&&(t.positions=t);var r,o=(e=t.regl)._gl,i=[];this.tooManyColors=f,r=e.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),s(this,{regl:e,gl:o,groups:[],markerCache:[null],markerTextures:[null],palette:i,paletteIds:{},paletteTexture:r,maxColors:255,maxSize:100,canvas:o.canvas}),this.update(t);var a={uniforms:{pixelRatio:e.context("pixelRatio"),palette:r,paletteSize:function(e,t){return[n.tooManyColors?0:255,r.height]},scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translate:e.prop("translate"),translateFract:e.prop("translateFract"),opacity:e.prop("opacity"),marker:e.prop("markerTexture")},attributes:{x:function(e,t){return t.xAttr||{buffer:t.positionBuffer,stride:8,offset:0}},y:function(e,t){return t.yAttr||{buffer:t.positionBuffer,stride:8,offset:4}},xFract:function(e,t){return t.xAttr?{constant:[0,0]}:{buffer:t.positionFractBuffer,stride:8,offset:0}},yFract:function(e,t){return t.yAttr?{constant:[0,0]}:{buffer:t.positionFractBuffer,stride:8,offset:4}},size:function(e,t){return t.size.length?{buffer:t.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*t.size/n.maxSize)]}},borderSize:function(e,t){return t.borderSize.length?{buffer:t.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*t.borderSize/n.maxSize)]}},colorId:function(e,t){return t.color.length?{buffer:t.colorBuffer,stride:n.tooManyColors?8:4,offset:0}:{constant:n.tooManyColors?i.slice(4*t.color,4*t.color+4):[t.color]}},borderColorId:function(e,t){return t.borderColor.length?{buffer:t.colorBuffer,stride:n.tooManyColors?8:4,offset:n.tooManyColors?4:2}:{constant:n.tooManyColors?i.slice(4*t.borderColor,4*t.borderColor+4):[t.borderColor]}},isActive:function(e,t){return!0===t.activation?{constant:[1]}:t.activation?t.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:e.prop("elements"),count:e.prop("count"),offset:e.prop("offset"),primitive:"points"},u=s({},a);u.frag=l(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nuniform sampler2D marker;\nuniform float pixelRatio, opacity;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(marker, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),u.vert=l(["precision mediump float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform float pixelRatio;\nuniform sampler2D palette;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius,\n    fragWidth, fragBorderColorLevel, fragColorLevel;\n\nvec2 paletteCoord(float id) {\n  return vec2(\n    (mod(id, paletteSize.x) + .5) / paletteSize.x,\n    (floor(id / paletteSize.x) + .5) / paletteSize.y\n  );\n}\nvec2 paletteCoord(vec2 id) {\n  return vec2(\n    (id.x + .5) / paletteSize.x,\n    (id.y + .5) / paletteSize.y\n  );\n}\nvec4 getColor(vec4 id) {\n  // zero-palette means we deal with direct buffer\n  if (paletteSize.x == 0.) return id / 255.;\n  return texture2D(palette, paletteCoord(id.xy));\n}\n\nvoid main() {\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pixelRatio;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0, 1);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}\n"]),this.drawMarker=e(u);var c=s({},a);c.frag=l(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\n\nuniform float opacity;\nvarying float fragBorderRadius, fragWidth;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),c.vert=l(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio;\nuniform sampler2D palette;\nuniform vec2 paletteSize;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nvec2 paletteCoord(float id) {\n  return vec2(\n    (mod(id, paletteSize.x) + .5) / paletteSize.x,\n    (floor(id / paletteSize.x) + .5) / paletteSize.y\n  );\n}\nvec2 paletteCoord(vec2 id) {\n  return vec2(\n    (id.x + .5) / paletteSize.x,\n    (id.y + .5) / paletteSize.y\n  );\n}\n\nvec4 getColor(vec4 id) {\n  // zero-palette means we deal with direct buffer\n  if (paletteSize.x == 0.) return id / 255.;\n  return texture2D(palette, paletteCoord(id.xy));\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0, 1);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),f&&(c.frag=c.frag.replace("smoothstep","smoothStep"),u.frag=u.frag.replace("smoothstep","smoothStep")),this.drawCircle=e(c)}t.exports=m,m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return t.length&&(e=this).update.apply(e,t),this.draw(),this},m.prototype.draw=function(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=this.groups;if(1===t.length&&Array.isArray(t[0])&&(null===t[0][0]||Array.isArray(t[0][0]))&&(t=t[0]),this.regl._refresh(),t.length)for(var o=0;o<t.length;o++)e.drawItem(o,t[o]);else r.forEach(function(t,n){e.drawItem(n)});return this},m.prototype.drawItem=function(e,t){var n=this.groups,r=n[e];if("number"==typeof t&&(e=t,r=n[t],t=null),r&&r.count&&r.opacity){r.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,r,t));for(var o=[],i=1;i<r.activation.length;i++)r.activation[i]&&(!0===r.activation[i]||r.activation[i].data.length)&&o.push.apply(o,this.getMarkerDrawOptions(i,r,t));o.length&&this.drawMarker(o)}},m.prototype.getMarkerDrawOptions=function(e,t,n){var r=t.range,o=t.tree,i=t.viewport,a=t.activation,l=t.selectionBuffer,u=t.count;if(this.regl,!o)return n?[s({},t,{markerTexture:this.markerTextures[e],activation:a[e],count:n.length,elements:n,offset:0})]:[s({},t,{markerTexture:this.markerTextures[e],activation:a[e],offset:0})];var c=[],d=o.range(r,{lod:!0,px:[(r[2]-r[0])/i.width,(r[3]-r[1])/i.height]});if(n){for(var f=a[e],h=f.data,p=new Uint8Array(u),m=0;m<n.length;m++){var g=n[m];p[g]=h?h[g]:1}l.subdata(p)}for(var v=d.length;v--;){var y=d[v],b=y[0],_=y[1];c.push(s({},t,{markerTexture:this.markerTextures[e],activation:n?l:a[e],offset:b,count:_-b}))}return c},m.prototype.update=function(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length){1===t.length&&Array.isArray(t[0])&&(t=t[0]);var r=this.groups,i=this.gl,l=this.regl,f=this.maxSize,g=this.maxColors,v=this.palette;this.groups=r=t.map(function(t,n){var y=r[n];if(void 0===t)return y;null===t?t={positions:null}:"function"==typeof t?t={ondraw:t}:"number"==typeof t[0]&&(t={positions:t}),null===(t=u(t,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits"})).positions&&(t.positions=[]),y||(r[n]=y={id:n,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:l.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:l.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:l.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:l.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:l.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},t=s({},m.defaults,t)),!t.positions||"marker"in t||(t.marker=y.marker,delete y.marker),!t.marker||"positions"in t||(t.positions=y.positions,delete y.positions);var b=0,_=0;if(c(y,t,[{snap:!0,size:function(e,t){return null==e&&(e=m.defaults.size),b+=e&&e.length?1:0,e},borderSize:function(e,t){return null==e&&(e=m.defaults.borderSize),b+=e&&e.length?1:0,e},opacity:parseFloat,color:function(t,n){return null==t&&(t=m.defaults.color),t=e.updateColor(t),_++,t},borderColor:function(t,n){return null==t&&(t=m.defaults.borderColor),t=e.updateColor(t),_++,t},bounds:function(e,t,n){return"range"in n||(n.range=null),e},positions:function(e,t,n){var r=t.snap,i=t.positionBuffer,s=t.positionFractBuffer,u=t.selectionBuffer;if(e.x||e.y)return e.x.length?t.xAttr={buffer:l.buffer(e.x),offset:0,stride:4,count:e.x.length}:t.xAttr={buffer:e.x.buffer,offset:4*e.x.offset||0,stride:4*(e.x.stride||1),count:e.x.count},e.y.length?t.yAttr={buffer:l.buffer(e.y),offset:0,stride:4,count:e.y.length}:t.yAttr={buffer:e.y.buffer,offset:4*e.y.offset||0,stride:4*(e.y.stride||1),count:e.y.count},t.count=Math.max(t.xAttr.count,t.yAttr.count),e;e=d(e,"float64");var c=t.count=Math.floor(e.length/2),f=t.bounds=c?o(e,2):null;if(n.range||t.range||(delete t.range,n.range=f),n.marker||t.marker||(delete t.marker,n.marker=null),r&&(!0===r||c>r)?t.tree=a(e,{bounds:f}):r&&r.length&&(t.tree=r),t.tree){var p={primitive:"points",usage:"static",data:t.tree,type:"uint32"};t.elements?t.elements(p):t.elements=l.elements(p)}return i({data:h.float(e),usage:"dynamic"}),s({data:h.fract(e),usage:"dynamic"}),u({data:new Uint8Array(c),type:"uint8",usage:"stream"}),e}},{marker:function(t,n,r){var o=n.activation;if(o.forEach(function(e){return e&&e.destroy&&e.destroy()}),o.length=0,t&&"number"!=typeof t[0]){for(var i=[],a=0,s=Math.min(t.length,n.count);a<s;a++){var u=e.addMarker(t[a]);i[u]||(i[u]=new Uint8Array(n.count)),i[u][a]=1}for(var c=0;c<i.length;c++)if(i[c]){var d={data:i[c],type:"uint8",usage:"static"};o[c]?o[c](d):o[c]=l.buffer(d),o[c].data=i[c]}}else{var f=e.addMarker(t);o[f]=!0}return t},range:function(e,t,n){var r=t.bounds;if(r)return e||(e=r),t.scale=[1/(e[2]-e[0]),1/(e[3]-e[1])],t.translate=[-e[0],-e[1]],t.scaleFract=h.fract(t.scale),t.translateFract=h.fract(t.translate),e},viewport:function(e){var t=p(e||[i.drawingBufferWidth,i.drawingBufferHeight]);return t}}]),b){var x=y.count,w=y.size,k=y.borderSize,E=y.sizeBuffer,T=new Uint8Array(2*x);if(w.length||k.length)for(var A=0;A<x;A++)T[2*A]=Math.round(255*(null==w[A]?w:w[A])/f),T[2*A+1]=Math.round(255*(null==k[A]?k:k[A])/f);E({data:T,usage:"dynamic"})}if(_){var S,M=y.count,C=y.color,j=y.borderColor,O=y.colorBuffer;if(e.tooManyColors){if(C.length||j.length){S=new Uint8Array(8*M);for(var N=0;N<M;N++){var R=C[N];S[8*N]=v[4*R],S[8*N+1]=v[4*R+1],S[8*N+2]=v[4*R+2],S[8*N+3]=v[4*R+3];var P=j[N];S[8*N+4]=v[4*P],S[8*N+5]=v[4*P+1],S[8*N+6]=v[4*P+2],S[8*N+7]=v[4*P+3]}}}else if(C.length||j.length){S=new Uint8Array(4*M+2);for(var I=0;I<M;I++)null!=C[I]&&(S[4*I]=C[I]%g,S[4*I+1]=Math.floor(C[I]/g)),null!=j[I]&&(S[4*I+2]=j[I]%g,S[4*I+3]=Math.floor(j[I]/g))}O({data:S||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return y})}},m.prototype.addMarker=function(e){var t,n=this.markerTextures,r=this.regl,o=this.markerCache,i=null==e?0:o.indexOf(e);if(i>=0)return i;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)t=e;else{t=new Uint8Array(e.length);for(var a=0,s=e.length;a<s;a++)t[a]=255*e[a]}var l=Math.floor(Math.sqrt(t.length));return i=n.length,o.push(e),n.push(r.texture({channels:1,data:t,radius:l,mag:"linear",min:"linear"})),i},m.prototype.updateColor=function(e){var t=this.paletteIds,n=this.palette,o=this.maxColors;Array.isArray(e)||(e=[e]);var a=[];if("number"==typeof e[0]){var s=[];if(Array.isArray(e))for(var l=0;l<e.length;l+=4)s.push(e.slice(l,l+4));else for(var u=0;u<e.length;u+=4)s.push(e.subarray(u,u+4));e=s}for(var c=0;c<e.length;c++){var d=e[c];d=r(d,"uint8");var f=i(d,!1);if(null==t[f]){var h=n.length;t[f]=Math.floor(h/4),n[h]=d[0],n[h+1]=d[1],n[h+2]=d[2],n[h+3]=d[3]}a[c]=t[f]}return!this.tooManyColors&&n.length>o*o*4&&(this.tooManyColors=!0),this.updatePalette(n),1===a.length?a[0]:a},m.prototype.updatePalette=function(e){if(!this.tooManyColors){var t=this.maxColors,n=this.paletteTexture,r=Math.ceil(.25*e.length/t);if(r>1)for(var o=.25*(e=e.slice()).length%t;o<r*t;o++)e.push(0,0,0,0);n.height<r&&n.resize(t,r),n.subimage({width:Math.min(.25*e.length,t),height:r,data:e},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(e){e.sizeBuffer.destroy(),e.positionBuffer.destroy(),e.positionFractBuffer.destroy(),e.colorBuffer.destroy(),e.activation.forEach(function(e){return e&&e.destroy&&e.destroy()}),e.selectionBuffer.destroy(),e.elements&&e.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(e){return e&&e.destroy&&e.destroy()}),this}},{"array-bounds":13,"color-id":61,"color-normalize":63,"flatten-vertex-data":150,glslify:199,"is-iexplorer":208,"object-assign":223,"parse-rect":226,"pick-by-alias":232,"point-cluster":236,"to-float32":285,"update-diff":294}],258:[function(e,t,n){"use strict";var r=e("regl-scatter2d/scatter"),o=e("pick-by-alias"),i=e("array-bounds"),a=e("raf"),s=e("array-range"),l=e("parse-rect"),u=e("flatten-vertex-data");function c(e,t){if(!(this instanceof c))return new c(e,t);this.traces=[],this.passes={},this.regl=e,this.scatter=r(e),this.canvas=this.scatter.canvas}function d(e,t,n){var r=null!=e.id?e.id:e,o=t,i=n,a=r<<16|(255&o)<<8|255&i;return a}function f(e,t,n){var r,o,i,a,s=e[t],l=e[n];return s.length>2?(s[0],s[2],r=s[1],o=s[3]):s.length?(r=s[0],o=s[1]):(s.x,r=s.y,s.x,s.width,o=s.y+s.height),l.length>2?(i=l[0],a=l[2],l[1],l[3]):l.length?(i=l[0],a=l[1]):(i=l.x,l.y,a=l.x+l.width,l.y,l.height),[i,r,a,o]}function h(e){if("number"==typeof e)return[e,e,e,e];if(2===e.length)return[e[0],e[1],e[0],e[1]];var t=l(e);return[t.x,t.y,t.x+t.width,t.y+t.height]}t.exports=c,c.prototype.render=function(){for(var e,t=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];return n.length&&(e=this).update.apply(e,n),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=a(function(){t.draw(),t.dirty=!0,t.planned=null})):(this.draw(),this.dirty=!0,a(function(){t.dirty=!1})),this)},c.prototype.update=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length){for(var r=0;r<t.length;r++)this.updateItem(r,t[r]);this.traces=this.traces.filter(Boolean);for(var o=[],i=0,a=0;a<this.traces.length;a++){for(var s=this.traces[a],l=this.traces[a].passes,u=0;u<l.length;u++)o.push(this.passes[l[u]]);s.passOffset=i,i+=s.passes.length}return(e=this.scatter).update.apply(e,o),this}},c.prototype.updateItem=function(e,t){var n=this.regl;if(null===t)return this.traces[e]=null,this;if(!t)return this;var r,a=o(t,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),s=this.traces[e]||(this.traces[e]={id:e,buffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:l([n._gl.drawingBufferWidth,n._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=a.color&&(s.color=a.color),null!=a.size&&(s.size=a.size),null!=a.marker&&(s.marker=a.marker),null!=a.borderColor&&(s.borderColor=a.borderColor),null!=a.borderSize&&(s.borderSize=a.borderSize),null!=a.opacity&&(s.opacity=a.opacity),a.viewport&&(s.viewport=l(a.viewport)),null!=a.diagonal&&(s.diagonal=a.diagonal),null!=a.upper&&(s.upper=a.upper),null!=a.lower&&(s.lower=a.lower),a.data){s.buffer(u(a.data)),s.columns=a.data.length,s.count=a.data[0].length,s.bounds=[];for(var c=0;c<s.columns;c++)s.bounds[c]=i(a.data[c],1)}a.range&&(s.range=a.range,r=s.range&&"number"!=typeof s.range[0]),a.domain&&(s.domain=a.domain);var p=!1;null!=a.padding&&(Array.isArray(a.padding)&&a.padding.length===s.columns&&"number"==typeof a.padding[a.padding.length-1]?(s.padding=a.padding.map(h),p=!0):s.padding=h(a.padding));var m=s.columns,g=s.count,v=s.viewport.width,y=s.viewport.height,b=s.viewport.x,_=s.viewport.y,x=v/m,w=y/m;s.passes=[];for(var k=0;k<m;k++)for(var E=0;E<m;E++)if((s.diagonal||E!==k)&&(s.upper||!(k>E))&&(s.lower||!(k<E))){var T=d(s.id,k,E),A=this.passes[T]||(this.passes[T]={});if(a.data&&(a.transpose?A.positions={x:{buffer:s.buffer,offset:E,count:g,stride:m},y:{buffer:s.buffer,offset:k,count:g,stride:m}}:A.positions={x:{buffer:s.buffer,offset:E*g,count:g},y:{buffer:s.buffer,offset:k*g,count:g}},A.bounds=f(s.bounds,k,E)),a.domain||a.viewport||a.data){var S=p?f(s.padding,k,E):s.padding;if(s.domain){var M=f(s.domain,k,E),C=M[0],j=M[1],O=M[2],N=M[3];A.viewport=[b+C*v+S[0],_+j*y+S[1],b+O*v-S[2],_+N*y-S[3]]}else A.viewport=[b+E*x+x*S[0],_+k*w+w*S[1],b+(E+1)*x-x*S[2],_+(k+1)*w-w*S[3]]}a.color&&(A.color=s.color),a.size&&(A.size=s.size),a.marker&&(A.marker=s.marker),a.borderSize&&(A.borderSize=s.borderSize),a.borderColor&&(A.borderColor=s.borderColor),a.opacity&&(A.opacity=s.opacity),a.range&&(A.range=r?f(s.range,k,E):s.range||A.bounds),s.passes.push(T)}return this},c.prototype.draw=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length){for(var r=[],o=0;o<t.length;o++)if("number"==typeof t[o]){var i=this.traces[t[o]],a=i.passes,l=i.passOffset;r.push.apply(r,s(l,l+a.length))}else if(t[o].length){var u=t[o],c=this.traces[o],d=c.passes,f=c.passOffset;d=d.map(function(e,t){r[f+t]=u})}(e=this.scatter).draw.apply(e,r)}else this.scatter.draw();return this},c.prototype.destroy=function(){return this.traces.forEach(function(e){e.buffer&&e.buffer.destroy&&e.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},{"array-bounds":13,"array-range":15,"flatten-vertex-data":150,"parse-rect":226,"pick-by-alias":232,raf:249,"regl-scatter2d/scatter":257}],259:[function(e,t,n){var r,o;r=this,o=function(){function e(e,t){this.id=U++,this.type=e,this.data=t}function t(e){return"["+function e(t){if(0===t.length)return[];var n=t.charAt(0),r=t.charAt(t.length-1);if(1<t.length&&n===r&&('"'===n||"'"===n))return['"'+t.substr(1,t.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))return e(t.substr(0,n.index)).concat(e(n[1])).concat(e(t.substr(n.index+n[0].length)));if(1===(n=t.split(".")).length)return['"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(t=[],r=0;r<n.length;++r)t=t.concat(e(n[r]));return t}(e).join("][")+"]"}function n(e){return"string"==typeof e?e.split():e}function r(e){return"string"==typeof e?document.querySelector(e):e}function o(e){var t,o,i,a,s=e||{};e={};var l=[],u=[],c="undefined"==typeof window?1:window.devicePixelRatio,d=!1,f=function(e){},h=function(){};if("string"==typeof s?t=document.querySelector(s):"object"==typeof s&&("string"==typeof s.nodeName&&"function"==typeof s.appendChild&&"function"==typeof s.getBoundingClientRect?t=s:"function"==typeof s.drawArrays||"function"==typeof s.drawElements?i=(a=s).canvas:("gl"in s?a=s.gl:"canvas"in s?i=r(s.canvas):"container"in s&&(o=r(s.container)),"attributes"in s&&(e=s.attributes),"extensions"in s&&(l=n(s.extensions)),"optionalExtensions"in s&&(u=n(s.optionalExtensions)),"onDone"in s&&(f=s.onDone),"profile"in s&&(d=!!s.profile),"pixelRatio"in s&&(c=+s.pixelRatio))),t&&("canvas"===t.nodeName.toLowerCase()?i=t:o=t),!a){if(!i){if(!(t=function(e,t,n){function r(){var t=window.innerWidth,r=window.innerHeight;e!==document.body&&(r=e.getBoundingClientRect(),t=r.right-r.left,r=r.bottom-r.top),o.width=n*t,o.height=n*r,z(o.style,{width:t+"px",height:r+"px"})}var o=document.createElement("canvas");return z(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",z(e.style,{margin:0,padding:0})),window.addEventListener("resize",r,!1),r(),{canvas:o,onDestroy:function(){window.removeEventListener("resize",r),e.removeChild(o)}}}(o||document.body,0,c)))return null;i=t.canvas,h=t.onDestroy}a=function(e,t){function n(n){try{return e.getContext(n,t)}catch(e){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(i,e)}return a?{gl:a,canvas:i,container:o,extensions:l,optionalExtensions:u,pixelRatio:c,profile:d,onDone:f,onDestroy:h}:(h(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function i(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}function a(e){var t,n;return t=(65535<e)<<4,t|=n=(255<(e>>>=t))<<3,(t|=n=(15<(e>>>=n))<<2)|(n=(3<(e>>>=n))<<1)|e>>>n>>1}function s(){function e(e){e:{for(var t=16;268435456>=t;t*=16)if(e<=t){e=t;break e}e=0}return 0<(t=n[a(e)>>2]).length?t.pop():new ArrayBuffer(e)}function t(e){n[a(e.byteLength)>>2].push(e)}var n=i(8,function(){return[]});return{alloc:e,free:t,allocType:function(t,n){var r=null;switch(t){case 5120:r=new Int8Array(e(n),0,n);break;case 5121:r=new Uint8Array(e(n),0,n);break;case 5122:r=new Int16Array(e(2*n),0,n);break;case 5123:r=new Uint16Array(e(2*n),0,n);break;case 5124:r=new Int32Array(e(4*n),0,n);break;case 5125:r=new Uint32Array(e(4*n),0,n);break;case 5126:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(e){t(e.buffer)}}}function l(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||X(e.data))}function u(e,t,n,r,o,i){for(var a=0;a<t;++a)for(var s=e[a],l=0;l<n;++l)for(var u=s[l],c=0;c<r;++c)o[i++]=u[c]}function c(e){return 0|$[Object.prototype.toString.call(e)]}function d(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function f(e,t,n,r,o,i,a){for(var s=0,l=0;l<n;++l)for(var u=0;u<r;++u)e[s++]=t[o*l+i*u+a]}function h(e,t,n,r){function o(t){this.id=u++,this.buffer=e.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,n.profile&&(this.stats={size:0})}function i(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function a(e,t,n,r,o,a){if(e.usage=n,Array.isArray(t)){if(e.dtype=r||5126,0<t.length)if(Array.isArray(t[0])){o=ee(t);for(var s=r=1;s<o.length;++s)r*=o[s];e.dimension=r,t=J(t,o,e.dtype),i(e,t,n),a?e.persistentData=t:W.freeType(t)}else"number"==typeof t[0]?(e.dimension=o,d(o=W.allocType(e.dtype,t.length),t),i(e,o,n),a?e.persistentData=o:W.freeType(o)):X(t[0])&&(e.dimension=t[0].length,e.dtype=r||c(t[0])||5126,t=J(t,[t.length,t[0].length],e.dtype),i(e,t,n),a?e.persistentData=t:W.freeType(t))}else if(X(t))e.dtype=r||c(t),e.dimension=o,i(e,t,n),a&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(l(t)){o=t.shape;var u=t.stride,s=t.offset,h=0,p=0,m=0,g=0;1===o.length?(h=o[0],p=1,m=u[0],g=0):2===o.length&&(h=o[0],p=o[1],m=u[0],g=u[1]),e.dtype=r||c(t.data)||5126,e.dimension=p,f(o=W.allocType(e.dtype,h*p),t.data,h,p,m,g,s),i(e,o,n),a?e.persistentData=o:W.freeType(o)}}function s(n){t.bufferCount--;for(var o=0;o<r.state.length;++o){var i=r.state[o];i.buffer===n&&(e.disableVertexAttribArray(o),i.buffer=null)}e.deleteBuffer(n.buffer),n.buffer=null,delete h[n.id]}var u=0,h={};o.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},o.prototype.destroy=function(){s(this)};var p=[];return n.profile&&(t.getTotalBufferSize=function(){var e=0;return Object.keys(h).forEach(function(t){e+=h[t].stats.size}),e}),{create:function(r,i,u,p){function m(t){var r=35044,o=null,i=0,s=0,u=1;return Array.isArray(t)||X(t)||l(t)?o=t:"number"==typeof t?i=0|t:t&&("data"in t&&(o=t.data),"usage"in t&&(r=Q[t.usage]),"type"in t&&(s=Z[t.type]),"dimension"in t&&(u=0|t.dimension),"length"in t&&(i=0|t.length)),g.bind(),o?a(g,o,r,s,u,p):(i&&e.bufferData(g.type,i,r),g.dtype=s||5121,g.usage=r,g.dimension=u,g.byteLength=i),n.profile&&(g.stats.size=g.byteLength*te[g.dtype]),m}t.bufferCount++;var g=new o(i);return h[g.id]=g,u||m(r),m._reglType="buffer",m._buffer=g,m.subdata=function(t,n){var r,o=0|(n||0);if(g.bind(),X(t))e.bufferSubData(g.type,o,t);else if(Array.isArray(t)){if(0<t.length)if("number"==typeof t[0]){var i=W.allocType(g.dtype,t.length);d(i,t),e.bufferSubData(g.type,o,i),W.freeType(i)}else(Array.isArray(t[0])||X(t[0]))&&(r=ee(t),i=J(t,r,g.dtype),e.bufferSubData(g.type,o,i),W.freeType(i))}else if(l(t)){r=t.shape;var a=t.stride,s=i=0,u=0,h=0;1===r.length?(i=r[0],s=1,u=a[0],h=0):2===r.length&&(i=r[0],s=r[1],u=a[0],h=a[1]),r=Array.isArray(t.data)?g.dtype:c(t.data),f(r=W.allocType(r,i*s),t.data,i,s,u,h,t.offset),e.bufferSubData(g.type,o,r),W.freeType(r)}return m},n.profile&&(m.stats=g.stats),m.destroy=function(){s(g)},m},createStream:function(e,t){var n=p.pop();return n||(n=new o(e)),n.bind(),a(n,t,35040,0,1,!1),n},destroyStream:function(e){p.push(e)},clear:function(){K(h).forEach(s),p.forEach(s)},getBuffer:function(e){return e&&e._buffer instanceof o?e._buffer:null},restore:function(){K(h).forEach(function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})},_initBuffer:a}}function p(e,t,n,r){function o(e){this.id=u++,s[this.id]=this,this.buffer=e,this.primType=4,this.type=this.vertCount=0}function i(r,o,i,a,s,u,c){if(r.buffer.bind(),o){var d=c;c||X(o)&&(!l(o)||X(o.data))||(d=t.oes_element_index_uint?5125:5123),n._initBuffer(r.buffer,o,i,d,3)}else e.bufferData(34963,u,i),r.buffer.dtype=d||5121,r.buffer.usage=i,r.buffer.dimension=3,r.buffer.byteLength=u;if(d=c,!c){switch(r.buffer.dtype){case 5121:case 5120:d=5121;break;case 5123:case 5122:d=5123;break;case 5125:case 5124:d=5125}r.buffer.dtype=d}r.type=d,0>(o=s)&&(o=r.buffer.byteLength,5123===d?o>>=1:5125===d&&(o>>=2)),r.vertCount=o,o=a,0>a&&(o=4,1===(a=r.buffer.dimension)&&(o=0),2===a&&(o=1),3===a&&(o=4)),r.primType=o}function a(e){r.elementsCount--,delete s[e.id],e.buffer.destroy(),e.buffer=null}var s={},u=0,c={uint8:5121,uint16:5123};t.oes_element_index_uint&&(c.uint32=5125),o.prototype.bind=function(){this.buffer.bind()};var d=[];return{create:function(e,t){function s(e){if(e)if("number"==typeof e)u(e),d.primType=4,d.vertCount=0|e,d.type=5121;else{var t=null,n=35044,r=-1,o=-1,a=0,f=0;Array.isArray(e)||X(e)||l(e)?t=e:("data"in e&&(t=e.data),"usage"in e&&(n=Q[e.usage]),"primitive"in e&&(r=ne[e.primitive]),"count"in e&&(o=0|e.count),"type"in e&&(f=c[e.type]),"length"in e?a=0|e.length:(a=o,5123===f||5122===f?a*=2:5125!==f&&5124!==f||(a*=4))),i(d,t,n,r,o,a,f)}else u(),d.primType=4,d.vertCount=0,d.type=5121;return s}var u=n.create(null,34963,!0),d=new o(u._buffer);return r.elementsCount++,s(e),s._reglType="elements",s._elements=d,s.subdata=function(e,t){return u.subdata(e,t),s},s.destroy=function(){a(d)},s},createStream:function(e){var t=d.pop();return t||(t=new o(n.create(null,34963,!0,!1)._buffer)),i(t,e,35040,-1,-1,0,0),t},destroyStream:function(e){d.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof o?e._elements:null},clear:function(){K(s).forEach(a)}}}function m(e){for(var t=W.allocType(5123,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(1/0===e[n])t[n]=31744;else if(-1/0===e[n])t[n]=64512;else{re[0]=e[n];var r=oe[0],o=r>>>31<<15,i=(r<<1>>>24)-127,r=r>>13&1023;t[n]=-24>i?o:-14>i?o+(r+1024>>-14-i):15<i?o+31744:o+(i+15<<10)+r}return t}function g(e){return Array.isArray(e)||X(e)}function v(e){return"[object "+e+"]"}function y(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function b(e){return!(!Array.isArray(e)||0===e.length||!g(e[0]))}function _(e){return Object.prototype.toString.call(e)}function x(e){if(!e)return!1;var t=_(e);return 0<=he.indexOf(t)||y(e)||b(e)||l(e)}function w(e,t){36193===e.type?(e.data=m(t),W.freeType(t)):e.data=t}function k(e,t,n,r,o,i){if(e=void 0!==me[e]?me[e]:se[e]*pe[t],i&&(e*=6),o){for(r=0;1<=n;)r+=e*n*n,n/=2;return r}return e*n*r}function E(e,t,n,r,o,i,a){function s(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function u(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function c(e,t){if("object"==typeof t&&t){"premultiplyAlpha"in t&&(e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(e.flipY=t.flipY),"alignment"in t&&(e.unpackAlignment=t.alignment),"colorSpace"in t&&(e.colorSpace=V[t.colorSpace]),"type"in t&&(e.type=H[t.type]);var n=e.width,r=e.height,o=e.channels,i=!1;"shape"in t?(n=t.shape[0],r=t.shape[1],3===t.shape.length&&(o=t.shape[2],i=!0)):("radius"in t&&(n=r=t.radius),"width"in t&&(n=t.width),"height"in t&&(r=t.height),"channels"in t&&(o=t.channels,i=!0)),e.width=0|n,e.height=0|r,e.channels=0|o,n=!1,"format"in t&&(n=t.format,r=e.internalformat=G[n],e.format=he[r],n in H&&!("type"in t)&&(e.type=H[n]),n in Z&&(e.compressed=!0),n=!0),!i&&n?e.channels=se[e.format]:i&&!n&&e.channels!==ae[e.format]&&(e.format=e.internalformat=ae[e.channels])}}function d(t){e.pixelStorei(37440,t.flipY),e.pixelStorei(37441,t.premultiplyAlpha),e.pixelStorei(37443,t.colorSpace),e.pixelStorei(3317,t.unpackAlignment)}function f(){s.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function h(e,t){var n=null;if(x(t)?n=t:t&&(c(e,t),"x"in t&&(e.xOffset=0|t.x),"y"in t&&(e.yOffset=0|t.y),x(t.data)&&(n=t.data)),t.copy){var r=o.viewportWidth,i=o.viewportHeight;e.width=e.width||r-e.xOffset,e.height=e.height||i-e.yOffset,e.needsCopy=!0}else if(n){if(X(n))e.channels=e.channels||4,e.data=n,"type"in t||5121!==e.type||(e.type=0|$[Object.prototype.toString.call(n)]);else if(y(n)){switch(e.channels=e.channels||4,i=(r=n).length,e.type){case 5121:case 5123:case 5125:case 5126:(i=W.allocType(e.type,i)).set(r),e.data=i;break;case 36193:e.data=m(r)}e.alignment=1,e.needsFree=!0}else if(l(n)){r=n.data,Array.isArray(r)||5121!==e.type||(e.type=0|$[Object.prototype.toString.call(r)]);var a,s,u,d,i=n.shape,f=n.stride;3===i.length?(u=i[2],d=f[2]):d=u=1,a=i[0],s=i[1],i=f[0],f=f[1],e.alignment=1,e.width=a,e.height=s,e.channels=u,e.format=e.internalformat=ae[u],e.needsFree=!0,a=d,n=n.offset,u=e.width,d=e.height,s=e.channels;for(var h=W.allocType(36193===e.type?5126:e.type,u*d*s),p=0,v=0;v<d;++v)for(var k=0;k<u;++k)for(var E=0;E<s;++E)h[p++]=r[i*k+f*v+a*E+n];w(e,h)}else if(_(n)===le||_(n)===ue)_(n)===le?e.element=n:e.element=n.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(_(n)===ce)e.element=n,e.width=n.width,e.height=n.height,e.channels=4;else if(_(n)===de)e.element=n,e.width=n.naturalWidth,e.height=n.naturalHeight,e.channels=4;else if(_(n)===fe)e.element=n,e.width=n.videoWidth,e.height=n.videoHeight,e.channels=4;else if(b(n)){for(r=e.width||n[0].length,i=e.height||n.length,f=e.channels,f=g(n[0][0])?f||n[0][0].length:f||1,a=Y.shape(n),u=1,d=0;d<a.length;++d)u*=a[d];u=W.allocType(36193===e.type?5126:e.type,u),Y.flatten(n,a,"",u),w(e,u),e.alignment=1,e.width=r,e.height=i,e.channels=f,e.format=e.internalformat=ae[f],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4}function p(t,n,o,i,a){var s=t.element,l=t.data,u=t.internalformat,c=t.format,f=t.type,h=t.width,p=t.height;d(t),s?e.texSubImage2D(n,a,o,i,c,f,s):t.compressed?e.compressedTexSubImage2D(n,a,o,i,u,h,p,l):t.needsCopy?(r(),e.copyTexSubImage2D(n,a,o,i,t.xOffset,t.yOffset,h,p)):e.texSubImage2D(n,a,o,i,h,p,c,f,l)}function v(){return pe.pop()||new f}function E(e){e.needsFree&&W.freeType(e.data),f.call(e),pe.push(e)}function T(){s.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function A(e,t,n){var r=e.images[0]=v();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function S(e,t){var n=null;if(x(t))u(n=e.images[0]=v(),e),h(n,t),e.mipmask=1;else if(c(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,o=0;o<r.length;++o)u(n=e.images[o]=v(),e),n.width>>=o,n.height>>=o,h(n,r[o]),e.mipmask|=1<<o;else u(n=e.images[0]=v(),e),h(n,t),e.mipmask=1;u(e,e.images[0])}function M(t,n){for(var o=t.images,i=0;i<o.length&&o[i];++i){var a=o[i],s=n,l=i,u=a.element,c=a.data,f=a.internalformat,h=a.format,p=a.type,m=a.width,g=a.height,v=a.channels;d(a),u?e.texImage2D(s,l,h,h,p,u):a.compressed?e.compressedTexImage2D(s,l,f,m,g,0,c):a.needsCopy?(r(),e.copyTexImage2D(s,l,h,a.xOffset,a.yOffset,m,g,0)):((a=!c)&&(c=W.zero.allocType(p,m*g*v)),e.texImage2D(s,l,h,m,g,0,h,p,c),a&&c&&W.zero.freeType(c))}}function C(){var e=me.pop()||new T;s.call(e);for(var t=e.mipmask=0;16>t;++t)e.images[t]=null;return e}function j(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&E(t[n]),t[n]=null;me.push(e)}function O(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function N(e,t){"min"in t&&(e.minFilter=q[t.min],0<=ie.indexOf(e.minFilter)&&!("faces"in t)&&(e.genMipmaps=!0)),"mag"in t&&(e.magFilter=U[t.mag]);var n=e.wrapS,r=e.wrapT;if("wrap"in t){var o=t.wrap;"string"==typeof o?n=r=F[o]:Array.isArray(o)&&(n=F[o[0]],r=F[o[1]])}else"wrapS"in t&&(n=F[t.wrapS]),"wrapT"in t&&(r=F[t.wrapT]);if(e.wrapS=n,e.wrapT=r,"anisotropic"in t&&(e.anisotropic=t.anisotropic),"mipmap"in t){switch(n=!1,typeof t.mipmap){case"string":e.mipmapHint=B[t.mipmap],n=e.genMipmaps=!0;break;case"boolean":n=e.genMipmaps=t.mipmap;break;case"object":e.genMipmaps=!1,n=!0}!n||"min"in t||(e.minFilter=9984)}}function R(n,r){e.texParameteri(r,10241,n.minFilter),e.texParameteri(r,10240,n.magFilter),e.texParameteri(r,10242,n.wrapS),e.texParameteri(r,10243,n.wrapT),t.ext_texture_filter_anisotropic&&e.texParameteri(r,34046,n.anisotropic),n.genMipmaps&&(e.hint(33170,n.mipmapHint),e.generateMipmap(r))}function P(t){s.call(this),this.mipmask=0,this.internalformat=6408,this.id=ge++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new O,a.profile&&(this.stats={size:0})}function I(t){e.activeTexture(33984),e.bindTexture(t.target,t.texture)}function D(){var t=be[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(3553,null)}function L(t){var n=t.texture,r=t.unit,o=t.target;0<=r&&(e.activeTexture(33984+r),e.bindTexture(o,null),be[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete ve[t.id],i.textureCount--}var B={"don't care":4352,"dont care":4352,nice:4354,fast:4353},F={repeat:10497,clamp:33071,mirror:33648},U={nearest:9728,linear:9729},q=z({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},U),V={none:0,browser:37444},H={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},G={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Z={};t.ext_srgb&&(G.srgb=35904,G.srgba=35906),t.oes_texture_float&&(H.float32=H.float=5126),t.oes_texture_half_float&&(H.float16=H["half float"]=36193),t.webgl_depth_texture&&(z(G,{depth:6402,"depth stencil":34041}),z(H,{uint16:5123,uint32:5125,"depth stencil":34042})),t.webgl_compressed_texture_s3tc&&z(Z,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),t.webgl_compressed_texture_atc&&z(Z,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),t.webgl_compressed_texture_pvrtc&&z(Z,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),t.webgl_compressed_texture_etc1&&(Z["rgb etc1"]=36196);var Q=Array.prototype.slice.call(e.getParameter(34467));Object.keys(Z).forEach(function(e){var t=Z[e];0<=Q.indexOf(t)&&(G[e]=t)});var J=Object.keys(G);n.textureFormats=J;var ee=[];Object.keys(G).forEach(function(e){ee[G[e]]=e});var te=[];Object.keys(H).forEach(function(e){te[H[e]]=e});var ne=[];Object.keys(U).forEach(function(e){ne[U[e]]=e});var re=[];Object.keys(q).forEach(function(e){re[q[e]]=e});var oe=[];Object.keys(F).forEach(function(e){oe[F[e]]=e});var he=J.reduce(function(e,t){var n=G[t];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n?e[n]=n:32855===n||0<=t.indexOf("rgba")?e[n]=6408:e[n]=6407,e},{}),pe=[],me=[],ge=0,ve={},ye=n.maxTextureUnits,be=Array(ye).map(function(){return null});return z(P.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(0>t){for(var n=0;n<ye;++n){var r=be[n];if(r){if(0<r.bindCount)continue;r.unit=-1}be[n]=this,t=n;break}a.profile&&i.maxTextureUnits<t+1&&(i.maxTextureUnits=t+1),this.unit=t,e.activeTexture(33984+t),e.bindTexture(this.target,this.texture)}return t},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&L(this)}}),a.profile&&(i.getTotalTextureSize=function(){var e=0;return Object.keys(ve).forEach(function(t){e+=ve[t].stats.size}),e}),{create2D:function(t,n){function r(e,t){var n=o.texInfo;O.call(n);var i=C();return"number"==typeof e?A(i,0|e,"number"==typeof t?0|t:0|e):e?(N(n,e),S(i,e)):A(i,1,1),n.genMipmaps&&(i.mipmask=(i.width<<1)-1),o.mipmask=i.mipmask,u(o,i),o.internalformat=i.internalformat,r.width=i.width,r.height=i.height,I(o),M(i,3553),R(n,3553),D(),j(i),a.profile&&(o.stats.size=k(o.internalformat,o.type,i.width,i.height,n.genMipmaps,!1)),r.format=ee[o.internalformat],r.type=te[o.type],r.mag=ne[n.magFilter],r.min=re[n.minFilter],r.wrapS=oe[n.wrapS],r.wrapT=oe[n.wrapT],r}var o=new P(3553);return ve[o.id]=o,i.textureCount++,r(t,n),r.subimage=function(e,t,n,i){t|=0,n|=0,i|=0;var a=v();return u(a,o),a.width=0,a.height=0,h(a,e),a.width=a.width||(o.width>>i)-t,a.height=a.height||(o.height>>i)-n,I(o),p(a,3553,t,n,i),D(),E(a),r},r.resize=function(t,n){var i=0|t,s=0|n||i;if(i===o.width&&s===o.height)return r;r.width=o.width=i,r.height=o.height=s,I(o);for(var l,u=o.channels,c=o.type,d=0;o.mipmask>>d;++d){var f=i>>d,h=s>>d;if(!f||!h)break;l=W.zero.allocType(c,f*h*u),e.texImage2D(3553,d,o.format,f,h,0,o.format,o.type,l),l&&W.zero.freeType(l)}return D(),a.profile&&(o.stats.size=k(o.internalformat,o.type,i,s,!1,!1)),r},r._reglType="texture2d",r._texture=o,a.profile&&(r.stats=o.stats),r.destroy=function(){o.decRef()},r},createCube:function(t,n,r,o,s,l){function d(e,t,n,r,o,i){var s,l=f.texInfo;for(O.call(l),s=0;6>s;++s)m[s]=C();if("number"!=typeof e&&e){if("object"==typeof e)if(t)S(m[0],e),S(m[1],t),S(m[2],n),S(m[3],r),S(m[4],o),S(m[5],i);else if(N(l,e),c(f,e),"faces"in e)for(e=e.faces,s=0;6>s;++s)u(m[s],f),S(m[s],e[s]);else for(s=0;6>s;++s)S(m[s],e)}else for(e=0|e||1,s=0;6>s;++s)A(m[s],e,e);for(u(f,m[0]),f.mipmask=l.genMipmaps?(m[0].width<<1)-1:m[0].mipmask,f.internalformat=m[0].internalformat,d.width=m[0].width,d.height=m[0].height,I(f),s=0;6>s;++s)M(m[s],34069+s);for(R(l,34067),D(),a.profile&&(f.stats.size=k(f.internalformat,f.type,d.width,d.height,l.genMipmaps,!0)),d.format=ee[f.internalformat],d.type=te[f.type],d.mag=ne[l.magFilter],d.min=re[l.minFilter],d.wrapS=oe[l.wrapS],d.wrapT=oe[l.wrapT],s=0;6>s;++s)j(m[s]);return d}var f=new P(34067);ve[f.id]=f,i.cubeCount++;var m=Array(6);return d(t,n,r,o,s,l),d.subimage=function(e,t,n,r,o){n|=0,r|=0,o|=0;var i=v();return u(i,f),i.width=0,i.height=0,h(i,t),i.width=i.width||(f.width>>o)-n,i.height=i.height||(f.height>>o)-r,I(f),p(i,34069+e,n,r,o),D(),E(i),d},d.resize=function(t){if((t|=0)!==f.width){d.width=f.width=t,d.height=f.height=t,I(f);for(var n=0;6>n;++n)for(var r=0;f.mipmask>>r;++r)e.texImage2D(34069+n,r,f.format,t>>r,t>>r,0,f.format,f.type,null);return D(),a.profile&&(f.stats.size=k(f.internalformat,f.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=f,a.profile&&(d.stats=f.stats),d.destroy=function(){f.decRef()},d},clear:function(){for(var t=0;t<ye;++t)e.activeTexture(33984+t),e.bindTexture(3553,null),be[t]=null;K(ve).forEach(L),i.cubeCount=0,i.textureCount=0},getTexture:function(e){return null},restore:function(){K(ve).forEach(function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;32>n;++n)if(0!=(t.mipmask&1<<n))if(3553===t.target)e.texImage2D(3553,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;6>r;++r)e.texImage2D(34069+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);R(t.texInfo,t.target)})}}}function T(e,t,n,r,o,i){function a(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=e=0;t?(e=t.width,r=t.height):n&&(e=n.width,r=n.height),this.width=e,this.height=r}function s(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function l(e,t,n){e&&(e.texture?e.texture._texture.refCount+=1:e.renderbuffer._renderbuffer.refCount+=1)}function u(t,n){n&&(n.texture?e.framebufferTexture2D(36160,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(36160,t,36161,n.renderbuffer._renderbuffer.renderbuffer))}function c(e){var t=3553,n=null,r=null,o=e;return"object"==typeof e&&(o=e.data,"target"in e&&(t=0|e.target)),"texture2d"===(e=o._reglType)?n=o:"textureCube"===e?n=o:"renderbuffer"===e&&(r=o,t=36161),new a(t,n,r)}function d(e,t,n,i,s){return n?((e=r.create2D({width:e,height:t,format:i,type:s}))._texture.refCount=0,new a(3553,e,null)):((e=o.create({width:e,height:t,format:i}))._renderbuffer.refCount=0,new a(36161,null,e))}function f(e){return e&&(e.texture||e.renderbuffer)}function h(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n))}function p(){this.id=k++,E[this.id]=this,this.framebuffer=e.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function m(e){e.colorAttachments.forEach(s),s(e.depthAttachment),s(e.stencilAttachment),s(e.depthStencilAttachment)}function g(t){e.deleteFramebuffer(t.framebuffer),t.framebuffer=null,i.framebufferCount--,delete E[t.id]}function v(t){var r;e.bindFramebuffer(36160,t.framebuffer);var o=t.colorAttachments;for(r=0;r<o.length;++r)u(36064+r,o[r]);for(r=o.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(36160,36064+r,3553,null,0);e.framebufferTexture2D(36160,33306,3553,null,0),e.framebufferTexture2D(36160,36096,3553,null,0),e.framebufferTexture2D(36160,36128,3553,null,0),u(36096,t.depthAttachment),u(36128,t.stencilAttachment),u(33306,t.depthStencilAttachment),e.checkFramebufferStatus(36160),e.bindFramebuffer(36160,b.next?b.next.framebuffer:null),b.cur=b.next,e.getError()}function y(e,t){function n(e,t){var o,i=0,a=0,s=!0,u=!0;o=null;var h=!0,p="rgba",g="uint8",y=1,b=null,w=null,k=null,E=!1;"number"==typeof e?(i=0|e,a=0|t||i):e?("shape"in e?(a=e.shape,i=a[0],a=a[1]):("radius"in e&&(i=a=e.radius),"width"in e&&(i=e.width),"height"in e&&(a=e.height)),("color"in e||"colors"in e)&&(o=e.color||e.colors,Array.isArray(o)),o||("colorCount"in e&&(y=0|e.colorCount),"colorTexture"in e&&(h=!!e.colorTexture,p="rgba4"),"colorType"in e&&(g=e.colorType,!h)&&("half float"===g||"float16"===g?p="rgba16f":"float"!==g&&"float32"!==g||(p="rgba32f")),"colorFormat"in e&&(p=e.colorFormat,0<=_.indexOf(p)?h=!0:0<=x.indexOf(p)&&(h=!1))),("depthTexture"in e||"depthStencilTexture"in e)&&(E=!(!e.depthTexture&&!e.depthStencilTexture)),"depth"in e&&("boolean"==typeof e.depth?s=e.depth:(b=e.depth,u=!1)),"stencil"in e&&("boolean"==typeof e.stencil?u=e.stencil:(w=e.stencil,s=!1)),"depthStencil"in e&&("boolean"==typeof e.depthStencil?s=u=e.depthStencil:(k=e.depthStencil,u=s=!1))):i=a=1;var T=null,A=null,S=null,M=null;if(Array.isArray(o))T=o.map(c);else if(o)T=[c(o)];else for(T=Array(y),o=0;o<y;++o)T[o]=d(i,a,h,p,g);for(i=i||T[0].width,a=a||T[0].height,b?A=c(b):s&&!u&&(A=d(i,a,E,"depth","uint32")),w?S=c(w):u&&!s&&(S=d(i,a,!1,"stencil","uint8")),k?M=c(k):!b&&!w&&u&&s&&(M=d(i,a,E,"depth stencil","depth stencil")),s=null,o=0;o<T.length;++o)l(T[o]),T[o]&&T[o].texture&&(u=ye[T[o].texture._texture.format]*be[T[o].texture._texture.type],null===s&&(s=u));return l(A),l(S),l(M),m(r),r.width=i,r.height=a,r.colorAttachments=T,r.depthAttachment=A,r.stencilAttachment=S,r.depthStencilAttachment=M,n.color=T.map(f),n.depth=f(A),n.stencil=f(S),n.depthStencil=f(M),n.width=r.width,n.height=r.height,v(r),n}var r=new p;return i.framebufferCount++,n(e,t),z(n,{resize:function(e,t){var o=0|e,i=0|t||o;if(o===r.width&&i===r.height)return n;for(var a=r.colorAttachments,s=0;s<a.length;++s)h(a[s],o,i);return h(r.depthAttachment,o,i),h(r.stencilAttachment,o,i),h(r.depthStencilAttachment,o,i),r.width=n.width=o,r.height=n.height=i,v(r),n},_reglType:"framebuffer",_framebuffer:r,destroy:function(){g(r),m(r)},use:function(e){b.setFBO({framebuffer:n},e)}})}var b={cur:null,next:null,dirty:!1,setFBO:null},_=["rgba"],x=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&x.push("srgba"),t.ext_color_buffer_half_float&&x.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&x.push("rgba32f");var w=["uint8"];t.oes_texture_half_float&&w.push("half float","float16"),t.oes_texture_float&&w.push("float","float32");var k=0,E={};return z(b,{getFramebuffer:function(e){return"function"==typeof e&&"framebuffer"===e._reglType&&(e=e._framebuffer)instanceof p?e:null},create:y,createCube:function(e){function t(e){var o,i={color:null},a=0,s=null;o="rgba";var l="uint8",u=1;if("number"==typeof e?a=0|e:e?("shape"in e?a=e.shape[0]:("radius"in e&&(a=0|e.radius),"width"in e?a=0|e.width:"height"in e&&(a=0|e.height)),("color"in e||"colors"in e)&&(s=e.color||e.colors,Array.isArray(s)),s||("colorCount"in e&&(u=0|e.colorCount),"colorType"in e&&(l=e.colorType),"colorFormat"in e&&(o=e.colorFormat)),"depth"in e&&(i.depth=e.depth),"stencil"in e&&(i.stencil=e.stencil),"depthStencil"in e&&(i.depthStencil=e.depthStencil)):a=1,s)if(Array.isArray(s))for(e=[],o=0;o<s.length;++o)e[o]=s[o];else e=[s];else for(e=Array(u),s={radius:a,format:o,type:l},o=0;o<u;++o)e[o]=r.createCube(s);for(i.color=Array(e.length),o=0;o<e.length;++o)u=e[o],a=a||u.width,i.color[o]={target:34069,data:e[o]};for(o=0;6>o;++o){for(u=0;u<e.length;++u)i.color[u].target=34069+o;0<o&&(i.depth=n[0].depth,i.stencil=n[0].stencil,i.depthStencil=n[0].depthStencil),n[o]?n[o](i):n[o]=y(i)}return z(t,{width:a,height:a,color:e})}var n=Array(6);return t(e),z(t,{faces:n,resize:function(e){var r=0|e;if(r===t.width)return t;var o=t.color;for(e=0;e<o.length;++e)o[e].resize(r);for(e=0;6>e;++e)n[e].resize(r);return t.width=t.height=r,t},_reglType:"framebufferCube",destroy:function(){n.forEach(function(e){e.destroy()})}})},clear:function(){K(E).forEach(g)},restore:function(){K(E).forEach(function(t){t.framebuffer=e.createFramebuffer(),v(t)})}})}function A(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function S(e,t,n,r){function o(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function i(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function a(n,r,o){var i=(o=35632===n?u:c)[r];if(!i){var a=t.str(r),i=e.createShader(n);e.shaderSource(i,a),e.compileShader(i),o[r]=i}return i}function s(e,t){this.id=h++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function l(n,s){var l,u;l=a(35632,n.fragId),u=a(35633,n.vertId);var c=n.program=e.createProgram();e.attachShader(c,l),e.attachShader(c,u),e.linkProgram(c);var d=e.getProgramParameter(c,35718);r.profile&&(n.stats.uniformsCount=d);var f=n.uniforms;for(l=0;l<d;++l)if(u=e.getActiveUniform(c,l))if(1<u.size)for(var h=0;h<u.size;++h){var p=u.name.replace("[0]","["+h+"]");i(f,new o(p,t.id(p),e.getUniformLocation(c,p),u))}else i(f,new o(u.name,t.id(u.name),e.getUniformLocation(c,u.name),u));for(d=e.getProgramParameter(c,35721),r.profile&&(n.stats.attributesCount=d),f=n.attributes,l=0;l<d;++l)(u=e.getActiveAttrib(c,l))&&i(f,new o(u.name,t.id(u.name),e.getAttribLocation(c,u.name),u))}var u={},c={},d={},f=[],h=0;return r.profile&&(n.getMaxUniformsCount=function(){var e=0;return f.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},n.getMaxAttributesCount=function(){var e=0;return f.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);K(u).forEach(t),u={},K(c).forEach(t),c={},f.forEach(function(t){e.deleteProgram(t.program)}),f.length=0,d={},n.shaderCount=0},program:function(e,t,r){var o=d[t];o||(o=d[t]={});var i=o[e];return i||(i=new s(t,e),n.shaderCount++,l(i),o[e]=i,f.push(i)),i},restore:function(){u={},c={};for(var e=0;e<f.length;++e)l(f[e])},shader:a,frag:-1,vert:-1}}function M(e,t,n,r,o,i,a){function s(o){var i;i=null===t.next?5121:t.next.colorAttachments[0].texture._texture.type;var a=0,s=0,l=r.framebufferWidth,u=r.framebufferHeight,c=null;return X(o)?c=o:o&&(a=0|o.x,s=0|o.y,l=0|(o.width||r.framebufferWidth-a),u=0|(o.height||r.framebufferHeight-s),c=o.data||null),n(),o=l*u*4,c||(5121===i?c=new Uint8Array(o):5126===i&&(c=c||new Float32Array(o))),e.pixelStorei(3333,4),e.readPixels(a,s,l,u,6408,i,c),c}return function(e){return e&&"framebuffer"in e?function(e){var n;return t.setFBO({framebuffer:e.framebuffer},function(){n=s(e)}),n}(e):s(e)}}function C(e){return Array.prototype.slice.call(e)}function j(e){return C(e).join("")}function O(){function e(){var e=[],t=[];return z(function(){e.push.apply(e,C(arguments))},{def:function(){var r="v"+n++;return t.push(r),0<arguments.length&&(e.push(r,"="),e.push.apply(e,C(arguments)),e.push(";")),r},toString:function(){return j([0<t.length?"var "+t+";":"",j(e)])}})}function t(){function t(e,t){r(e,t,"=",n.def(e,t),";")}var n=e(),r=e(),o=n.toString,i=r.toString;return z(function(){n.apply(n,C(arguments))},{def:n.def,entry:n,exit:r,save:t,set:function(e,r,o){t(e,r),n(e,r,"=",o,";")},toString:function(){return o()+i()}})}var n=0,r=[],o=[],i=e(),a={};return{global:i,link:function(e){for(var t=0;t<o.length;++t)if(o[t]===e)return r[t];return t="g"+n++,r.push(t),o.push(e),t},block:e,proc:function(e,n){function r(){var e="a"+o.length;return o.push(e),e}var o=[];n=n||0;for(var i=0;i<n;++i)r();var i=t(),s=i.toString;return a[e]=z(i,{arg:r,toString:function(){return j(["function(",o.join(),"){",s(),"}"])}})},scope:t,cond:function(){var e=j(arguments),n=t(),r=t(),o=n.toString,i=r.toString;return z(n,{then:function(){return n.apply(n,C(arguments)),this},else:function(){return r.apply(r,C(arguments)),this},toString:function(){var t=i();return t&&(t="else{"+t+"}"),j(["if(",e,"){",o(),"}",t])}})},compile:function(){var e=['"use strict";',i,"return {"];Object.keys(a).forEach(function(t){e.push('"',t,'":',a[t].toString(),",")}),e.push("}");var t=j(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,o)}}}function N(e){return Array.isArray(e)||X(e)||l(e)}function R(e){return e.sort(function(e,t){return"viewport"===e?-1:"viewport"===t?1:e<t?-1:1})}function P(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function I(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function D(e){return new P(!1,!1,!1,e)}function L(e,t){var n=e.type;return 0===n?new P(!0,1<=(n=e.data.length),2<=n,t):4===n?new P((n=e.data).thisDep,n.contextDep,n.propDep,t):new P(3===n,2===n,1===n,t)}function B(e,t,n,r,o,a,s,l,u,c,d,f,h,p,m){function v(e){return e.replace(".","_")}function y(e,t,n){var r=v(e);re.push(e),te[r]=ee[r]=!!n,oe[r]=t}function b(e,t,n){var r=v(e);re.push(e),Array.isArray(n)?(ee[r]=n.slice(),te[r]=n.slice()):ee[r]=te[r]=n,ie[r]=t}function _(){var e=O(),n=e.link,r=e.global;e.id=le++,e.batchId="0";var o=n(ae),i=e.shared={props:"a0"};Object.keys(ae).forEach(function(e){i[e]=r.def(o,".",e)});var a=e.next={},s=e.current={};Object.keys(ie).forEach(function(e){Array.isArray(ee[e])&&(a[e]=r.def(i.next,".",e),s[e]=r.def(i.current,".",e))});var l=e.constants={};Object.keys(se).forEach(function(e){l[e]=r.def(JSON.stringify(se[e]))}),e.invoke=function(t,r){switch(r.type){case 0:var o=["this",i.context,i.props,e.batchId];return t.def(n(r.data),".call(",o.slice(0,Math.max(r.data.length+1,4)),")");case 1:return t.def(i.props,r.data);case 2:return t.def(i.context,r.data);case 3:return t.def("this",r.data);case 4:return r.data.append(e,t),r.data.ref}},e.attribCache={};var u={};return e.scopeAttrib=function(e){if((e=t.id(e))in u)return u[e];var r=c.scope[e];return r||(r=c.scope[e]=new Y),u[e]=n(r)},e}function x(e,t){var n=e.static,r=e.dynamic;if("framebuffer"in n){var o=n.framebuffer;return o?(o=l.getFramebuffer(o),D(function(e,t){var n=e.link(o),r=e.shared;return t.set(r.framebuffer,".next",n),r=r.context,t.set(r,".framebufferWidth",n+".width"),t.set(r,".framebufferHeight",n+".height"),n})):D(function(e,t){var n=e.shared;return t.set(n.framebuffer,".next","null"),n=n.context,t.set(n,".framebufferWidth",n+".drawingBufferWidth"),t.set(n,".framebufferHeight",n+".drawingBufferHeight"),"null"})}if("framebuffer"in r){var i=r.framebuffer;return L(i,function(e,t){var n=e.invoke(t,i),r=e.shared,o=r.framebuffer,n=t.def(o,".getFramebuffer(",n,")");return t.set(o,".next",n),r=r.context,t.set(r,".framebufferWidth",n+"?"+n+".width:"+r+".drawingBufferWidth"),t.set(r,".framebufferHeight",n+"?"+n+".height:"+r+".drawingBufferHeight"),n})}return null}function w(e){function n(e){if(e in r){var n=t.id(r[e]);return(e=D(function(){return n})).id=n,e}if(e in o){var i=o[e];return L(i,function(e,t){var n=e.invoke(t,i);return t.def(e.shared.strings,".id(",n,")")})}return null}var r=e.static,o=e.dynamic,i=n("frag"),a=n("vert"),s=null;return I(i)&&I(a)?(s=d.program(a.id,i.id),e=D(function(e,t){return e.link(s)})):e=new P(i&&i.thisDep||a&&a.thisDep,i&&i.contextDep||a&&a.contextDep,i&&i.propDep||a&&a.propDep,function(e,t){var n,r,o=e.shared.shader;return n=i?i.append(e,t):t.def(o,".","frag"),r=a?a.append(e,t):t.def(o,".","vert"),t.def(o+".program("+r+","+n+")")}),{frag:i,vert:a,progVar:e,program:s}}function k(e,t){function n(e,t){if(e in r){var n=0|r[e];return D(function(e,r){return t&&(e.OFFSET=n),n})}if(e in o){var a=o[e];return L(a,function(e,n){var r=e.invoke(n,a);return t&&(e.OFFSET=r),r})}return t&&i?D(function(e,t){return e.OFFSET="0",0}):null}var r=e.static,o=e.dynamic,i=function(){if("elements"in r){var e=r.elements;N(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e));var t=D(function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r}return t.ELEMENTS=null});return t.value=e,t}if("elements"in o){var n=o.elements;return L(n,function(e,t){var r=e.shared,o=r.isBufferArgs,r=r.elements,i=e.invoke(t,n),a=t.def("null"),o=t.def(o,"(",i,")"),i=e.cond(o).then(a,"=",r,".createStream(",i,");").else(a,"=",r,".getElements(",i,");");return t.entry(i),t.exit(e.cond(o).then(r,".destroyStream(",a,");")),e.ELEMENTS=a})}return null}(),s=n("offset",!0);return{elements:i,primitive:function(){if("primitive"in r){var e=r.primitive;return D(function(t,n){return ne[e]})}if("primitive"in o){var t=o.primitive;return L(t,function(e,n){var r=e.constants.primTypes,o=e.invoke(n,t);return n.def(r,"[",o,"]")})}return i?I(i)?i.value?D(function(e,t){return t.def(e.ELEMENTS,".primType")}):D(function(){return 4}):new P(i.thisDep,i.contextDep,i.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",4)}):null}(),count:function(){if("count"in r){var e=0|r.count;return D(function(){return e})}if("count"in o){var t=o.count;return L(t,function(e,n){return e.invoke(n,t)})}return i?I(i)?i?s?new P(s.thisDep,s.contextDep,s.propDep,function(e,t){return t.def(e.ELEMENTS,".vertCount-",e.OFFSET)}):D(function(e,t){return t.def(e.ELEMENTS,".vertCount")}):D(function(){return-1}):new P(i.thisDep||s.thisDep,i.contextDep||s.contextDep,i.propDep||s.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}):null}(),instances:n("instances",!1),offset:s}}function E(e,n){var r=e.static,i=e.dynamic,a={};return Object.keys(r).forEach(function(e){var n=r[e],i=t.id(e),s=new Y;if(N(n))s.state=1,s.buffer=o.getBuffer(o.create(n,34962,!1,!0)),s.type=0;else{var l=o.getBuffer(n);if(l)s.state=1,s.buffer=l,s.type=0;else if("constant"in n){var u=n.constant;s.buffer="null",s.state=2,"number"==typeof u?s.x=u:_e.forEach(function(e,t){t<u.length&&(s[e]=u[t])})}else{var l=N(n.buffer)?o.getBuffer(o.create(n.buffer,34962,!1,!0)):o.getBuffer(n.buffer),c=0|n.offset,d=0|n.stride,f=0|n.size,h=!!n.normalized,p=0;"type"in n&&(p=Z[n.type]),n=0|n.divisor,s.buffer=l,s.state=1,s.size=f,s.normalized=h,s.type=p||l.dtype,s.offset=c,s.stride=d,s.divisor=n}}a[e]=D(function(e,t){var n=e.attribCache;if(i in n)return n[i];var r={isStream:!1};return Object.keys(s).forEach(function(e){r[e]=s[e]}),s.buffer&&(r.buffer=e.link(s.buffer),r.type=r.type||r.buffer+".dtype"),n[i]=r})}),Object.keys(i).forEach(function(e){var t=i[e];a[e]=L(t,function(e,n){function r(e){n(l[e],"=",o,".",e,"|0;")}var o=e.invoke(n,t),i=e.shared,a=i.isBufferArgs,s=i.buffer,l={isStream:n.def(!1)},u=new Y;u.state=1,Object.keys(u).forEach(function(e){l[e]=n.def(""+u[e])});var c=l.buffer,d=l.type;return n("if(",a,"(",o,")){",l.isStream,"=true;",c,"=",s,".createStream(",34962,",",o,");",d,"=",c,".dtype;","}else{",c,"=",s,".getBuffer(",o,");","if(",c,"){",d,"=",c,".dtype;",'}else if("constant" in ',o,"){",l.state,"=",2,";","if(typeof "+o+'.constant === "number"){',l[_e[0]],"=",o,".constant;",_e.slice(1).map(function(e){return l[e]}).join("="),"=0;","}else{",_e.map(function(e,t){return l[e]+"="+o+".constant.length>"+t+"?"+o+".constant["+t+"]:0;"}).join(""),"}}else{","if(",a,"(",o,".buffer)){",c,"=",s,".createStream(",34962,",",o,".buffer);","}else{",c,"=",s,".getBuffer(",o,".buffer);","}",d,'="type" in ',o,"?",i.glTypes,"[",o,".type]:",c,".dtype;",l.normalized,"=!!",o,".normalized;"),r("size"),r("offset"),r("stride"),r("divisor"),n("}}"),n.exit("if(",l.isStream,"){",s,".destroyStream(",c,");","}"),l})}),a}function T(e,t,n,r,o){var a=x(e),s=function(e,t,n){function r(e){if(e in o){var n=o[e];e=!0;var r,a,s=0|n.x,l=0|n.y;return"width"in n?r=0|n.width:e=!1,"height"in n?a=0|n.height:e=!1,new P(!e&&t&&t.thisDep,!e&&t&&t.contextDep,!e&&t&&t.propDep,function(e,t){var o=e.shared.context,i=r;"width"in n||(i=t.def(o,".","framebufferWidth","-",s));var u=a;return"height"in n||(u=t.def(o,".","framebufferHeight","-",l)),[s,l,i,u]})}if(e in i){var u=i[e];return e=L(u,function(e,t){var n=e.invoke(t,u),r=e.shared.context,o=t.def(n,".x|0"),i=t.def(n,".y|0"),a=t.def('"width" in ',n,"?",n,".width|0:","(",r,".","framebufferWidth","-",o,")"),n=t.def('"height" in ',n,"?",n,".height|0:","(",r,".","framebufferHeight","-",i,")");return[o,i,a,n]}),t&&(e.thisDep=e.thisDep||t.thisDep,e.contextDep=e.contextDep||t.contextDep,e.propDep=e.propDep||t.propDep),e}return t?new P(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,".","framebufferWidth"),t.def(n,".","framebufferHeight")]}):null}var o=e.static,i=e.dynamic;if(e=r("viewport")){var a=e;e=new P(e.thisDep,e.contextDep,e.propDep,function(e,t){var n=a.append(e,t),r=e.shared.context;return t.set(r,".viewportWidth",n[2]),t.set(r,".viewportHeight",n[3]),n})}return{viewport:e,scissor_box:r("scissor.box")}}(e,a),l=k(e),u=function(e,t){var n=e.static,r=e.dynamic,o={};return re.forEach(function(e){function t(t,i){if(e in n){var s=t(n[e]);o[a]=D(function(){return s})}else if(e in r){var l=r[e];o[a]=L(l,function(e,t){return i(e,t,e.invoke(t,l))})}}var a=v(e);switch(e){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return t(function(e){return e},function(e,t,n){return n});case"depth.func":return t(function(e){return ke[e]},function(e,t,n){return t.def(e.constants.compareFuncs,"[",n,"]")});case"depth.range":return t(function(e){return e},function(e,t,n){return[t.def("+",n,"[0]"),t=t.def("+",n,"[1]")]});case"blend.func":return t(function(e){return[we["srcRGB"in e?e.srcRGB:e.src],we["dstRGB"in e?e.dstRGB:e.dst],we["srcAlpha"in e?e.srcAlpha:e.src],we["dstAlpha"in e?e.dstAlpha:e.dst]]},function(e,t,n){function r(e,r){return t.def('"',e,r,'" in ',n,"?",n,".",e,r,":",n,".",e)}e=e.constants.blendFuncs;var o=r("src","RGB"),i=r("dst","RGB"),a=(o=t.def(e,"[",o,"]"),t.def(e,"[",r("src","Alpha"),"]"));return[o,i=t.def(e,"[",i,"]"),a,e=t.def(e,"[",r("dst","Alpha"),"]")]});case"blend.equation":return t(function(e){return"string"==typeof e?[$[e],$[e]]:"object"==typeof e?[$[e.rgb],$[e.alpha]]:void 0},function(e,t,n){var r=e.constants.blendEquations,o=t.def(),i=t.def();return(e=e.cond("typeof ",n,'==="string"')).then(o,"=",i,"=",r,"[",n,"];"),e.else(o,"=",r,"[",n,".rgb];",i,"=",r,"[",n,".alpha];"),t(e),[o,i]});case"blend.color":return t(function(e){return i(4,function(t){return+e[t]})},function(e,t,n){return i(4,function(e){return t.def("+",n,"[",e,"]")})});case"stencil.mask":return t(function(e){return 0|e},function(e,t,n){return t.def(n,"|0")});case"stencil.func":return t(function(e){return[ke[e.cmp||"keep"],e.ref||0,"mask"in e?e.mask:-1]},function(e,t,n){return[e=t.def('"cmp" in ',n,"?",e.constants.compareFuncs,"[",n,".cmp]",":",7680),t.def(n,".ref|0"),t=t.def('"mask" in ',n,"?",n,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return t(function(t){return["stencil.opBack"===e?1029:1028,Ee[t.fail||"keep"],Ee[t.zfail||"keep"],Ee[t.zpass||"keep"]]},function(t,n,r){function o(e){return n.def('"',e,'" in ',r,"?",i,"[",r,".",e,"]:",7680)}var i=t.constants.stencilOps;return["stencil.opBack"===e?1029:1028,o("fail"),o("zfail"),o("zpass")]});case"polygonOffset.offset":return t(function(e){return[0|e.factor,0|e.units]},function(e,t,n){return[t.def(n,".factor|0"),t=t.def(n,".units|0")]});case"cull.face":return t(function(e){var t=0;return"front"===e?t=1028:"back"===e&&(t=1029),t},function(e,t,n){return t.def(n,'==="front"?',1028,":",1029)});case"lineWidth":return t(function(e){return e},function(e,t,n){return n});case"frontFace":return t(function(e){return Te[e]},function(e,t,n){return t.def(n+'==="cw"?2304:2305')});case"colorMask":return t(function(e){return e.map(function(e){return!!e})},function(e,t,n){return i(4,function(e){return"!!"+n+"["+e+"]"})});case"sample.coverage":return t(function(e){return["value"in e?e.value:1,!!e.invert]},function(e,t,n){return[t.def('"value" in ',n,"?+",n,".value:1"),t=t.def("!!",n,".invert")]})}}),o}(e),c=w(e),d=s.viewport;return d&&(u.viewport=d),d=v("scissor.box"),(s=s[d])&&(u[d]=s),s=0<Object.keys(u).length,(a={framebuffer:a,draw:l,shader:c,state:u,dirty:s}).profile=function(e){var t,n=e.static;if(e=e.dynamic,"profile"in n){var r=!!n.profile;(t=D(function(e,t){return r})).enable=r}else if("profile"in e){var o=e.profile;t=L(o,function(e,t){return e.invoke(t,o)})}return t}(e),a.uniforms=function(e,t){var n=e.static,r=e.dynamic,o={};return Object.keys(n).forEach(function(e){var t,r=n[e];if("number"==typeof r||"boolean"==typeof r)t=D(function(){return r});else if("function"==typeof r){var a=r._reglType;"texture2d"===a||"textureCube"===a?t=D(function(e){return e.link(r)}):"framebuffer"!==a&&"framebufferCube"!==a||(t=D(function(e){return e.link(r.color[0])}))}else g(r)&&(t=D(function(e){return e.global.def("[",i(r.length,function(e){return r[e]}),"]")}));t.value=r,o[e]=t}),Object.keys(r).forEach(function(e){var t=r[e];o[e]=L(t,function(e,n){return e.invoke(n,t)})}),o}(n),a.attributes=E(t),a.context=function(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=D(function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)})}),Object.keys(n).forEach(function(e){var t=n[e];r[e]=L(t,function(e,n){return e.invoke(n,t)})}),r}(r),a}function A(e,t,n){var r=e.shared.context,o=e.scope();Object.keys(n).forEach(function(i){t.save(r,"."+i),o(r,".",i,"=",n[i].append(e,t),";")}),t(o)}function S(e,t,n,r){var o,i=e.shared,a=i.gl,s=i.framebuffer;J&&(o=t.def(i.extensions,".webgl_draw_buffers"));var l=e.constants,i=l.drawBuffer,l=l.backBuffer;e=n?n.append(e,t):t.def(s,".next"),r||t("if(",e,"!==",s,".cur){"),t("if(",e,"){",a,".bindFramebuffer(",36160,",",e,".framebuffer);"),J&&t(o,".drawBuffersWEBGL(",i,"[",e,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",36160,",null);"),J&&t(o,".drawBuffersWEBGL(",l,");"),t("}",s,".cur=",e,";"),r||t("}")}function M(e,t,n){var r=e.shared,o=r.gl,a=e.current,s=e.next,l=r.current,u=r.next,c=e.cond(l,".dirty");re.forEach(function(t){var r,d;if(!((t=v(t))in n.state))if(t in s){r=s[t],d=a[t];var f=i(ee[t].length,function(e){return c.def(r,"[",e,"]")});c(e.cond(f.map(function(e,t){return e+"!=="+d+"["+t+"]"}).join("||")).then(o,".",ie[t],"(",f,");",f.map(function(e,t){return d+"["+t+"]="+e}).join(";"),";"))}else r=c.def(u,".",t),f=e.cond(r,"!==",l,".",t),c(f),t in oe?f(e.cond(r).then(o,".enable(",oe[t],");").else(o,".disable(",oe[t],");"),l,".",t,"=",r,";"):f(o,".",ie[t],"(",r,");",l,".",t,"=",r,";")}),0===Object.keys(n.state).length&&c(l,".dirty=false;"),t(c)}function C(e,t,n,r){var o=e.shared,i=e.current,a=o.current,s=o.gl;R(Object.keys(n)).forEach(function(o){var l=n[o];if(!r||r(l)){var u=l.append(e,t);if(oe[o]){var c=oe[o];I(l)?t(s,u?".enable(":".disable(",c,");"):t(e.cond(u).then(s,".enable(",c,");").else(s,".disable(",c,");")),t(a,".",o,"=",u,";")}else if(g(u)){var d=i[o];t(s,".",ie[o],"(",u,");",u.map(function(e,t){return d+"["+t+"]="+e}).join(";"),";")}else t(s,".",ie[o],"(",u,");",a,".",o,"=",u,";")}})}function j(e,t){Q&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function B(e,t,n,r,o){function i(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function a(e){u=t.def(),e(u,"=",i(),";"),"string"==typeof o?e(f,".count+=",o,";"):e(f,".count++;"),p&&(r?(c=t.def(),e(c,"=",m,".getNumPendingQueries();")):e(m,".beginQuery(",f,");"))}function s(e){e(f,".cpuTime+=",i(),"-",u,";"),p&&(r?e(m,".pushScopeStats(",c,",",m,".getNumPendingQueries(),",f,");"):e(m,".endQuery();"))}function l(e){var n=t.def(h,".profile");t(h,".profile=",e,";"),t.exit(h,".profile=",n,";")}var u,c,d=e.shared,f=e.stats,h=d.current,m=d.timer;if(n=n.profile){if(I(n))return void(n.enable?(a(t),s(t.exit),l("true")):l("false"));l(n=n.append(e,t))}else n=t.def(h,".profile");a(d=e.block()),t("if(",n,"){",d,"}"),s(e=e.block()),t.exit("if(",n,"){",e,"}")}function F(e,t,n,r,o){function i(n,r,o){function i(){t("if(!",c,".buffer){",l,".enableVertexAttribArray(",u,");}");var n,i=o.type;n=o.size?t.def(o.size,"||",r):r,t("if(",c,".type!==",i,"||",c,".size!==",n,"||",h.map(function(e){return c+"."+e+"!=="+o[e]}).join("||"),"){",l,".bindBuffer(",34962,",",d,".buffer);",l,".vertexAttribPointer(",[u,n,i,o.normalized,o.stride,o.offset],");",c,".type=",i,";",c,".size=",n,";",h.map(function(e){return c+"."+e+"="+o[e]+";"}).join(""),"}"),Q&&(i=o.divisor,t("if(",c,".divisor!==",i,"){",e.instancing,".vertexAttribDivisorANGLE(",[u,i],");",c,".divisor=",i,";}"))}function s(){t("if(",c,".buffer){",l,".disableVertexAttribArray(",u,");","}if(",_e.map(function(e,t){return c+"."+e+"!=="+f[t]}).join("||"),"){",l,".vertexAttrib4f(",u,",",f,");",_e.map(function(e,t){return c+"."+e+"="+f[t]+";"}).join(""),"}")}var l=a.gl,u=t.def(n,".location"),c=t.def(a.attributes,"[",u,"]");n=o.state;var d=o.buffer,f=[o.x,o.y,o.z,o.w],h=["buffer","normalized","offset","stride"];1===n?i():2===n?s():(t("if(",n,"===",1,"){"),i(),t("}else{"),s(),t("}"))}var a=e.shared;r.forEach(function(r){var a,s=r.name,l=n.attributes[s];if(l){if(!o(l))return;a=l.append(e,t)}else{if(!o(Ae))return;var u=e.scopeAttrib(s);a={},Object.keys(new Y).forEach(function(e){a[e]=t.def(u,".",e)})}i(e.link(r),function(e){switch(e){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),a)})}function z(e,n,r,o,a){for(var s,l=e.shared,u=l.gl,c=0;c<o.length;++c){var d,f=o[c],h=f.name,p=f.info.type,m=r.uniforms[h],f=e.link(f)+".location";if(m){if(!a(m))continue;if(I(m)){if(h=m.value,35678===p||35680===p)p=e.link(h._texture||h.color[0]._texture),n(u,".uniform1i(",f,",",p+".bind());"),n.exit(p,".unbind();");else if(35674===p||35675===p||35676===p)h=e.global.def("new Float32Array(["+Array.prototype.slice.call(h)+"])"),m=2,35675===p?m=3:35676===p&&(m=4),n(u,".uniformMatrix",m,"fv(",f,",false,",h,");");else{switch(p){case 5126:s="1f";break;case 35664:s="2f";break;case 35665:s="3f";break;case 35666:s="4f";break;case 35670:case 5124:s="1i";break;case 35671:case 35667:s="2i";break;case 35672:case 35668:s="3i";break;case 35673:s="4i";break;case 35669:s="4i"}n(u,".uniform",s,"(",f,",",g(h)?Array.prototype.slice.call(h):h,");")}continue}d=m.append(e,n)}else{if(!a(Ae))continue;d=n.def(l.uniforms,"[",t.id(h),"]")}switch(35678===p?n("if(",d,"&&",d,'._reglType==="framebuffer"){',d,"=",d,".color[0];","}"):35680===p&&n("if(",d,"&&",d,'._reglType==="framebufferCube"){',d,"=",d,".color[0];","}"),h=1,p){case 35678:case 35680:p=n.def(d,"._texture"),n(u,".uniform1i(",f,",",p,".bind());"),n.exit(p,".unbind();");continue;case 5124:case 35670:s="1i";break;case 35667:case 35671:s="2i",h=2;break;case 35668:case 35672:s="3i",h=3;break;case 35669:case 35673:s="4i",h=4;break;case 5126:s="1f";break;case 35664:s="2f",h=2;break;case 35665:s="3f",h=3;break;case 35666:s="4f",h=4;break;case 35674:s="Matrix2fv";break;case 35675:s="Matrix3fv";break;case 35676:s="Matrix4fv"}if(n(u,".uniform",s,"(",f,","),"M"===s.charAt(0)){var f=Math.pow(p-35674+2,2),v=e.global.def("new Float32Array(",f,")");n("false,(Array.isArray(",d,")||",d," instanceof Float32Array)?",d,":(",i(f,function(e){return v+"["+e+"]="+d+"["+e+"]"}),",",v,")")}else n(1<h?i(h,function(e){return d+"["+e+"]"}):d);n(");")}}function U(e,t,n,r){function o(o){var i=f[o];return i?i.contextDep&&r.contextDynamic||i.propDep?i.append(e,n):i.append(e,t):t.def(d,".",o)}function i(){function e(){n(l,".drawElementsInstancedANGLE(",[p,g,v,m+"<<(("+v+"-5121)>>1)",s],");")}function t(){n(l,".drawArraysInstancedANGLE(",[p,m,g,s],");")}h?y?e():(n("if(",h,"){"),e(),n("}else{"),t(),n("}")):t()}function a(){function e(){n(c+".drawElements("+[p,g,v,m+"<<(("+v+"-5121)>>1)"]+");")}function t(){n(c+".drawArrays("+[p,m,g]+");")}h?y?e():(n("if(",h,"){"),e(),n("}else{"),t(),n("}")):t()}var s,l,u=e.shared,c=u.gl,d=u.draw,f=r.draw,h=function(){var o=f.elements,i=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(i=n),o=o.append(e,i)):o=i.def(d,".","elements"),o&&i("if("+o+")"+c+".bindBuffer(34963,"+o+".buffer.buffer);"),o}(),p=o("primitive"),m=o("offset"),g=function(){var o=f.count,i=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(i=n),o=o.append(e,i)):o=i.def(d,".","count"),o}();if("number"==typeof g){if(0===g)return}else n("if(",g,"){"),n.exit("}");Q&&(s=o("instances"),l=e.instancing);var v=h+".type",y=f.elements&&I(f.elements);Q&&("number"!=typeof s||0<=s)?"string"==typeof s?(n("if(",s,">0){"),i(),n("}else if(",s,"<0){"),a(),n("}")):i():a()}function V(e,t,n,r,o){return t=_(),o=t.proc("body",o),Q&&(t.instancing=o.def(t.shared.extensions,".angle_instanced_arrays")),e(t,o,n,r),t.compile().body}function H(e,t,n,r){j(e,t),F(e,t,n,r.attributes,function(){return!0}),z(e,t,n,r.uniforms,function(){return!0}),U(e,t,t,n)}function W(e,t,n,r){function o(){return!0}e.batchId="a1",j(e,t),F(e,t,n,r.attributes,o),z(e,t,n,r.uniforms,o),U(e,t,t,n)}function G(e,t,n,r){function o(e){return e.contextDep&&a||e.propDep}function i(e){return!o(e)}j(e,t);var a=n.contextDep,s=t.def(),l=t.def();e.shared.props=l,e.batchId=s;var u=e.scope(),c=e.scope();t(u.entry,"for(",s,"=0;",s,"<","a1",";++",s,"){",l,"=","a0","[",s,"];",c,"}",u.exit),n.needsContext&&A(e,c,n.context),n.needsFramebuffer&&S(e,c,n.framebuffer),C(e,c,n.state,o),n.profile&&o(n.profile)&&B(e,c,n,!1,!0),r?(F(e,u,n,r.attributes,i),F(e,c,n,r.attributes,o),z(e,u,n,r.uniforms,i),z(e,c,n,r.uniforms,o),U(e,u,c,n)):(t=e.global.def("{}"),r=n.shader.progVar.append(e,c),l=c.def(r,".id"),u=c.def(t,"[",l,"]"),c(e.shared.gl,".useProgram(",r,".program);","if(!",u,"){",u,"=",t,"[",l,"]=",e.link(function(t){return V(W,e,n,t,2)}),"(",r,");}",u,".call(this,a0[",s,"],",s,");"))}function X(e,n){function r(t){var r=n.shader[t];r&&o.set(i.shader,"."+t,r.append(e,o))}var o=e.proc("scope",3);e.batchId="a2";var i=e.shared,a=i.current;A(e,o,n.context),n.framebuffer&&n.framebuffer.append(e,o),R(Object.keys(n.state)).forEach(function(t){var r=n.state[t].append(e,o);g(r)?r.forEach(function(n,r){o.set(e.next[t],"["+r+"]",n)}):o.set(i.next,"."+t,r)}),B(e,o,n,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(t){var r=n.draw[t];r&&o.set(i.draw,"."+t,""+r.append(e,o))}),Object.keys(n.uniforms).forEach(function(r){o.set(i.uniforms,"["+t.id(r)+"]",n.uniforms[r].append(e,o))}),Object.keys(n.attributes).forEach(function(t){var r=n.attributes[t].append(e,o),i=e.scopeAttrib(t);Object.keys(new Y).forEach(function(e){o.set(i,"."+e,r[e])})}),r("vert"),r("frag"),0<Object.keys(n.state).length&&(o(a,".dirty=true;"),o.exit(a,".dirty=true;")),o("a1(",e.shared.context,",a0,",e.batchId,");")}function K(e,t,n){var r=t.static[n];if(r&&function(e){if("object"==typeof e&&!g(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(q.isDynamic(e[t[n]]))return!0;return!1}}(r)){var o=e.global,i=Object.keys(r),a=!1,s=!1,l=!1,u=e.global.def("{}");i.forEach(function(t){var n=r[t];if(q.isDynamic(n))"function"==typeof n&&(n=r[t]=q.unbox(n)),t=L(n,null),a=a||t.thisDep,l=l||t.propDep,s=s||t.contextDep;else{switch(o(u,".",t,"="),typeof n){case"number":o(n);break;case"string":o('"',n,'"');break;case"object":Array.isArray(n)&&o("[",n.join(),"]");break;default:o(e.link(n))}o(";")}}),t.dynamic[n]=new q.DynamicVariable(4,{thisDep:a,contextDep:s,propDep:l,ref:u,append:function(e,t){i.forEach(function(n){var o=r[n];q.isDynamic(o)&&(o=e.invoke(t,o),t(u,".",n,"=",o,";"))})}}),delete t.static[n]}}var Y=c.Record,$={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&($.min=32775,$.max=32776);var Q=n.angle_instanced_arrays,J=n.webgl_draw_buffers,ee={dirty:!0,profile:m.profile},te={},re=[],oe={},ie={};y("dither",3024),y("blend.enable",3042),b("blend.color","blendColor",[0,0,0,0]),b("blend.equation","blendEquationSeparate",[32774,32774]),b("blend.func","blendFuncSeparate",[1,0,1,0]),y("depth.enable",2929,!0),b("depth.func","depthFunc",513),b("depth.range","depthRange",[0,1]),b("depth.mask","depthMask",!0),b("colorMask","colorMask",[!0,!0,!0,!0]),y("cull.enable",2884),b("cull.face","cullFace",1029),b("frontFace","frontFace",2305),b("lineWidth","lineWidth",1),y("polygonOffset.enable",32823),b("polygonOffset.offset","polygonOffset",[0,0]),y("sample.alpha",32926),y("sample.enable",32928),b("sample.coverage","sampleCoverage",[1,!1]),y("stencil.enable",2960),b("stencil.mask","stencilMask",-1),b("stencil.func","stencilFunc",[519,0,-1]),b("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),b("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),y("scissor.enable",3089),b("scissor.box","scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),b("viewport","viewport",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var ae={gl:e,context:h,strings:t,next:te,current:ee,draw:f,elements:a,buffer:o,shader:d,attributes:c.state,uniforms:u,framebuffer:l,extensions:n,timer:p,isBufferArgs:N},se={primTypes:ne,compareFuncs:ke,blendFuncs:we,blendEquations:$,stencilOps:Ee,glTypes:Z,orientationType:Te};J&&(se.backBuffer=[1029],se.drawBuffer=i(r.maxDrawbuffers,function(e){return 0===e?[0]:i(e,function(e){return 36064+e})}));var le=0;return{next:te,current:ee,procs:function(){var e=_(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,l=s.gl,u=s.next,c=s.current;o(c,".dirty=false;"),S(e,t),S(e,n,null,!0),Q&&(a=e.link(Q));for(var d=0;d<r.maxAttributes;++d){var f=n.def(s.attributes,"[",d,"]"),h=e.cond(f,".buffer");h.then(l,".enableVertexAttribArray(",d,");",l,".bindBuffer(",34962,",",f,".buffer.buffer);",l,".vertexAttribPointer(",d,",",f,".size,",f,".type,",f,".normalized,",f,".stride,",f,".offset);").else(l,".disableVertexAttribArray(",d,");",l,".vertexAttrib4f(",d,",",f,".x,",f,".y,",f,".z,",f,".w);",f,".buffer=null;"),n(h),Q&&n(a,".vertexAttribDivisorANGLE(",d,",",f,".divisor);")}return Object.keys(oe).forEach(function(r){var i=oe[r],a=o.def(u,".",r),s=e.block();s("if(",a,"){",l,".enable(",i,")}else{",l,".disable(",i,")}",c,".",r,"=",a,";"),n(s),t("if(",a,"!==",c,".",r,"){",s,"}")}),Object.keys(ie).forEach(function(r){var a,s,d=ie[r],f=ee[r],h=e.block();h(l,".",d,"("),g(f)?(d=f.length,a=e.global.def(u,".",r),s=e.global.def(c,".",r),h(i(d,function(e){return a+"["+e+"]"}),");",i(d,function(e){return s+"["+e+"]="+a+"["+e+"];"}).join("")),t("if(",i(d,function(e){return a+"["+e+"]!=="+s+"["+e+"]"}).join("||"),"){",h,"}")):(a=o.def(u,".",r),s=o.def(c,".",r),h(a,");",c,".",r,"=",a,";"),t("if(",a,"!==",s,"){",h,"}")),n(h)}),e.compile()}(),compile:function(e,t,n,r,o){var i=_();return i.stats=i.link(o),Object.keys(t.static).forEach(function(e){K(i,t,e)}),xe.forEach(function(t){K(i,e,t)}),n=T(e,t,n,r),function(e,t){var n=e.proc("draw",1);j(e,n),A(e,n,t.context),S(e,n,t.framebuffer),M(e,n,t),C(e,n,t.state),B(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)H(e,n,t,t.shader.program);else{var o=e.global.def("{}"),i=n.def(r,".id"),a=n.def(o,"[",i,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",o,"[",i,"]=",e.link(function(n){return V(H,e,t,n,1)}),"(",r,");",a,".call(this,a0);"))}0<Object.keys(t.state).length&&n(e.shared.current,".dirty=true;")}(i,n),X(i,n),function(e,t){function n(e){return e.contextDep&&o||e.propDep}var r=e.proc("batch",2);e.batchId="0",j(e,r);var o=!1,i=!0;Object.keys(t.context).forEach(function(e){o=o||t.context[e].propDep}),o||(A(e,r,t.context),i=!1);var a=t.framebuffer,s=!1;if(a?(a.propDep?o=s=!0:a.contextDep&&o&&(s=!0),s||S(e,r,a)):S(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(o=!0),M(e,r,t),C(e,r,t.state,function(e){return!n(e)}),t.profile&&n(t.profile)||B(e,r,t,!1,"a1"),t.contextDep=o,t.needsContext=i,t.needsFramebuffer=s,(i=t.shader.progVar).contextDep&&o||i.propDep)G(e,r,t,null);else if(i=i.append(e,r),r(e.shared.gl,".useProgram(",i,".program);"),t.shader.program)G(e,r,t,t.shader.program);else{var a=e.global.def("{}"),s=r.def(i,".id"),l=r.def(a,"[",s,"]");r(e.cond(l).then(l,".call(this,a0,a1);").else(l,"=",a,"[",s,"]=",e.link(function(n){return V(G,e,t,n,2)}),"(",i,");",l,".call(this,a0,a1);"))}0<Object.keys(t.state).length&&r(e.shared.current,".dirty=true;")}(i,n),i.compile()}}}function F(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var z=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},U=0,q={DynamicVariable:e,define:function(n,r){return new e(n,t(r+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof e},unbox:function(t,n){return"function"==typeof t?new e(0,t):t},accessor:t},V={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},H="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},W=s();W.zero=s();var G=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,o=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),o=e.getParameter(36063));var i=!!t.oes_texture_float;if(i){i=e.createTexture(),e.bindTexture(3553,i),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var a=e.createFramebuffer();if(e.bindFramebuffer(36160,a),e.framebufferTexture2D(36160,36064,3553,i,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var s=W.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,s),e.getError()?i=!1:(e.deleteFramebuffer(a),e.deleteTexture(i),i=1===s[0]),W.freeType(s)}}return s=!0,s=e.createTexture(),a=W.allocType(5121,36),e.activeTexture(33984),e.bindTexture(34067,s),e.texImage2D(34069,0,6408,3,3,0,6408,5121,a),W.freeType(a),e.bindTexture(34067,null),e.deleteTexture(s),s=!e.getError(),{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:o,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:i,npotTextureCube:s}},X=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},K=function(e){return Object.keys(e).map(function(t){return e[t]})},Y={shape:function(e){for(var t=[];e.length;e=e[0])t.push(e.length);return t},flatten:function(e,t,n,r){var o=1;if(t.length)for(var i=0;i<t.length;++i)o*=t[i];else o=0;switch(n=r||W.allocType(n,o),t.length){case 0:break;case 1:for(r=t[0],t=0;t<r;++t)n[t]=e[t];break;case 2:for(r=t[0],t=t[1],i=o=0;i<r;++i)for(var a=e[i],s=0;s<t;++s)n[o++]=a[s];break;case 3:u(e,t[0],t[1],t[2],n,0);break;default:!function e(t,n,r,o,i){for(var a=1,s=r+1;s<n.length;++s)a*=n[s];var l=n[r];if(4==n.length-r){var c=n[r+1],d=n[r+2];for(n=n[r+3],s=0;s<l;++s)u(t[s],c,d,n,o,i),i+=a}else for(s=0;s<l;++s)e(t[s],n,r+1,o,i),i+=a}(e,t,0,n,0)}return n}},$={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Z={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Q={dynamic:35048,stream:35040,static:35044},J=Y.flatten,ee=Y.shape,te=[];te[5120]=1,te[5122]=2,te[5124]=4,te[5121]=1,te[5123]=2,te[5125]=4,te[5126]=4;var ne={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},re=new Float32Array(1),oe=new Uint32Array(re.buffer),ie=[9984,9986,9985,9987],ae=[0,6409,6410,6407,6408],se={};se[6409]=se[6406]=se[6402]=1,se[34041]=se[6410]=2,se[6407]=se[35904]=3,se[6408]=se[35906]=4;var le=v("HTMLCanvasElement"),ue=v("CanvasRenderingContext2D"),ce=v("ImageBitmap"),de=v("HTMLImageElement"),fe=v("HTMLVideoElement"),he=Object.keys($).concat([le,ue,ce,de,fe]),pe=[];pe[5121]=1,pe[5126]=4,pe[36193]=2,pe[5123]=2,pe[5125]=4;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[34041]=4,me[33776]=.5,me[33777]=.5,me[33778]=1,me[33779]=1,me[35986]=.5,me[35987]=1,me[34798]=1,me[35840]=.5,me[35841]=.25,me[35842]=.5,me[35843]=.25,me[36196]=.5;var ge=[];ge[32854]=2,ge[32855]=2,ge[36194]=2,ge[33189]=2,ge[36168]=1,ge[34041]=4,ge[35907]=4,ge[34836]=16,ge[34842]=8,ge[34843]=6;var ve=function(e,t,n,r,o){function i(e){this.id=u++,this.refCount=1,this.renderbuffer=e,this.format=32854,this.height=this.width=0,o.profile&&(this.stats={size:0})}function a(t){var n=t.renderbuffer;e.bindRenderbuffer(36161,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete c[t.id],r.renderbufferCount--}var s={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(s.srgba=35907),t.ext_color_buffer_half_float&&(s.rgba16f=34842,s.rgb16f=34843),t.webgl_color_buffer_float&&(s.rgba32f=34836);var l=[];Object.keys(s).forEach(function(e){l[s[e]]=e});var u=0,c={};return i.prototype.decRef=function(){0>=--this.refCount&&a(this)},o.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(c).forEach(function(t){e+=c[t].stats.size}),e}),{create:function(t,n){function a(t,n){var r=0,i=0,c=32854;if("object"==typeof t&&t?("shape"in t?(i=t.shape,r=0|i[0],i=0|i[1]):("radius"in t&&(r=i=0|t.radius),"width"in t&&(r=0|t.width),"height"in t&&(i=0|t.height)),"format"in t&&(c=s[t.format])):"number"==typeof t?(r=0|t,i="number"==typeof n?0|n:r):t||(r=i=1),r!==u.width||i!==u.height||c!==u.format)return a.width=u.width=r,a.height=u.height=i,u.format=c,e.bindRenderbuffer(36161,u.renderbuffer),e.renderbufferStorage(36161,c,r,i),o.profile&&(u.stats.size=ge[u.format]*u.width*u.height),a.format=l[u.format],a}var u=new i(e.createRenderbuffer());return c[u.id]=u,r.renderbufferCount++,a(t,n),a.resize=function(t,n){var r=0|t,i=0|n||r;return r===u.width&&i===u.height?a:(a.width=u.width=r,a.height=u.height=i,e.bindRenderbuffer(36161,u.renderbuffer),e.renderbufferStorage(36161,u.format,r,i),o.profile&&(u.stats.size=ge[u.format]*u.width*u.height),a)},a._reglType="renderbuffer",a._renderbuffer=u,o.profile&&(a.stats=u.stats),a.destroy=function(){u.decRef()},a},clear:function(){K(c).forEach(a)},restore:function(){K(c).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,t.renderbuffer),e.renderbufferStorage(36161,t.format,t.width,t.height)}),e.bindRenderbuffer(36161,null)}}},ye=[];ye[6408]=4,ye[6407]=3;var be=[];be[5121]=1,be[5126]=4,be[36193]=2;var _e=["x","y","z","w"],xe="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),we={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ke={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ee={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Te={cw:2304,ccw:2305},Ae=new P(!1,!1,!1,function(){});return function(e){function t(){if(0===Y.length)w&&w.update(),J=null;else{J=V.next(t),d();for(var e=Y.length-1;0<=e;--e){var n=Y[e];n&&n(O,null,0)}g.flush(),w&&w.update()}}function n(){!J&&0<Y.length&&(J=V.next(t))}function r(){J&&(V.cancel(t),J=null)}function i(e){e.preventDefault(),r(),$.forEach(function(e){e()})}function a(e){g.getError(),y.restore(),I.restore(),R.restore(),D.restore(),L.restore(),U.restore(),w&&w.restore(),W.procs.refresh(),n(),Z.forEach(function(e){e()})}function s(e){function t(e){var t={},n={};return Object.keys(e).forEach(function(r){var o=e[r];q.isDynamic(o)?n[r]=q.unbox(o,r):t[r]=o}),{dynamic:n,static:t}}var n=t(e.context||{}),r=t(e.uniforms||{}),o=t(e.attributes||{}),i=t(function(e){function t(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach(function(r){n[e+"."+r]=t[r]})}}var n=z({},e);return delete n.uniforms,delete n.attributes,delete n.context,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),t("blend"),t("depth"),t("cull"),t("stencil"),t("polygonOffset"),t("scissor"),t("sample"),n}(e));e={gpuTime:0,cpuTime:0,count:0};var n=W.compile(i,o,r,n,e),a=n.draw,s=n.batch,l=n.scope,u=[];return z(function(e,t){var n;if("function"==typeof e)return l.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(n=0;n<e;++n)l.call(this,null,t,n);else{if(!Array.isArray(e))return l.call(this,e,t,0);for(n=0;n<e.length;++n)l.call(this,e[n],t,n)}else if("number"==typeof e){if(0<e)return s.call(this,function(e){for(;u.length<e;)u.push(null);return u}(0|e),0|e)}else{if(!Array.isArray(e))return a.call(this,e);if(e.length)return s.call(this,e,e.length)}},{stats:e})}function l(e,t){var n=0;W.procs.poll();var r=t.color;r&&(g.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in t&&(g.clearDepth(+t.depth),n|=256),"stencil"in t&&(g.clearStencil(0|t.stencil),n|=1024),g.clear(n)}function u(e){return Y.push(e),n(),{cancel:function(){var t=F(Y,e);Y[t]=function e(){var t=F(Y,e);Y[t]=Y[Y.length-1],--Y.length,0>=Y.length&&r()}}}}function c(){var e=X.viewport,t=X.scissor_box;e[0]=e[1]=t[0]=t[1]=0,O.viewportWidth=O.framebufferWidth=O.drawingBufferWidth=e[2]=t[2]=g.drawingBufferWidth,O.viewportHeight=O.framebufferHeight=O.drawingBufferHeight=e[3]=t[3]=g.drawingBufferHeight}function d(){O.tick+=1,O.time=m(),c(),W.procs.poll()}function f(){c(),W.procs.refresh(),w&&w.update()}function m(){return(H()-k)/1e3}if(!(e=o(e)))return null;var g=e.gl,v=g.getContextAttributes();g.isContextLost();var y=function(e,t){function n(t){var n;t=t.toLowerCase();try{n=r[t]=e.getExtension(t)}catch(e){}return!!n}for(var r={},o=0;o<t.extensions.length;++o){var i=t.extensions[o];if(!n(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(!n(e))throw Error("(regl): error restoring extension "+e)})}}}(g,e);if(!y)return null;var b=function(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}(),_={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},x=y.extensions,w=function(e,t){function n(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function r(e,t,r){var o=s.pop()||new n;o.startQueryIndex=e,o.endQueryIndex=t,o.sum=0,o.stats=r,l.push(o)}var o=t.ext_disjoint_timer_query;if(!o)return null;var i=[],a=[],s=[],l=[],u=[],c=[];return{beginQuery:function(e){var t=i.pop()||o.createQueryEXT();o.beginQueryEXT(35007,t),a.push(t),r(a.length-1,a.length,e)},endQuery:function(){o.endQueryEXT(35007)},pushScopeStats:r,update:function(){var e,t;if(0!==(e=a.length)){c.length=Math.max(c.length,e+1),u.length=Math.max(u.length,e+1),u[0]=0;var n=c[0]=0;for(t=e=0;t<a.length;++t){var r=a[t];o.getQueryObjectEXT(r,34919)?(n+=o.getQueryObjectEXT(r,34918),i.push(r)):a[e++]=r,u[t+1]=n,c[t+1]=e}for(a.length=e,t=e=0;t<l.length;++t){var n=l[t],d=n.startQueryIndex,r=n.endQueryIndex;n.sum+=u[r]-u[d],d=c[d],(r=c[r])===d?(n.stats.gpuTime+=n.sum/1e6,s.push(n)):(n.startQueryIndex=d,n.endQueryIndex=r,l[e++]=n)}l.length=e}},getNumPendingQueries:function(){return a.length},clear:function(){i.push.apply(i,a);for(var e=0;e<i.length;e++)o.deleteQueryEXT(i[e]);a.length=0,i.length=0},restore:function(){a.length=0,i.length=0}}}(0,x),k=H(),C=g.drawingBufferWidth,j=g.drawingBufferHeight,O={tick:0,time:0,viewportWidth:C,viewportHeight:j,framebufferWidth:C,framebufferHeight:j,drawingBufferWidth:C,drawingBufferHeight:j,pixelRatio:e.pixelRatio},N=G(g,x),C=function(e,t,n,r){for(e=n.maxAttributes,t=Array(e),n=0;n<e;++n)t[n]=new A;return{Record:A,scope:{},state:t}}(g,x,N),R=h(g,_,e,C),P=p(g,x,R,_),I=S(g,b,_,e),D=E(g,x,N,function(){W.procs.poll()},O,_,e),L=ve(g,x,0,_,e),U=T(g,x,N,D,L,_),W=B(g,b,x,N,R,P,0,U,{},C,I,{elements:null,primitive:4,count:-1,offset:0,instances:-1},O,w,e),b=M(g,U,W.procs.poll,O),X=W.next,K=g.canvas,Y=[],$=[],Z=[],Q=[e.onDestroy],J=null;K&&(K.addEventListener("webglcontextlost",i,!1),K.addEventListener("webglcontextrestored",a,!1));var ee=U.setFBO=s({framebuffer:q.define.call(null,1,"framebuffer")});return f(),v=z(s,{clear:function(e){if("framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;6>t;++t)ee(z({framebuffer:e.framebuffer.faces[t]},e),l);else ee(e,l);else l(0,e)},prop:q.define.bind(null,1),context:q.define.bind(null,2),this:q.define.bind(null,3),draw:s({}),buffer:function(e){return R.create(e,34962,!1,!1)},elements:function(e){return P.create(e,!1)},texture:D.create2D,cube:D.createCube,renderbuffer:L.create,framebuffer:U.create,framebufferCube:U.createCube,attributes:v,frame:u,on:function(e,t){var n;switch(e){case"frame":return u(t);case"lost":n=$;break;case"restore":n=Z;break;case"destroy":n=Q}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t){n[e]=n[n.length-1],n.pop();break}}}},limits:N,hasExtension:function(e){return 0<=N.extensions.indexOf(e.toLowerCase())},read:b,destroy:function(){Y.length=0,r(),K&&(K.removeEventListener("webglcontextlost",i),K.removeEventListener("webglcontextrestored",a)),I.clear(),U.clear(),L.clear(),D.clear(),P.clear(),R.clear(),w&&w.clear(),Q.forEach(function(e){e()})},_gl:g,_refresh:f,poll:function(){d(),w&&w.update()},now:m,stats:_}),e.onDone(null,v),v}},"object"==typeof n&&void 0!==t?t.exports=o():r.createREGL=o()},{}],260:[function(e,t,n){
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
"use strict";var r,o="";t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||void 0===r)r=e,o="";else if(o.length>=n)return o.substr(0,n);for(;n>o.length&&t>1;)1&t&&(o+=e),t>>=1,e+=e;return o=(o+=e).substr(0,n)}},{}],261:[function(e,t,n){"use strict";var r=e("two-product"),o=e("robust-sum"),i=e("robust-subtract"),a=e("robust-scale"),s=6;function l(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var o=n[r-1]=new Array(e.length-1),i=0,a=0;i<e.length;++i)i!==t&&(o[a++]=e[r][i]);return n}function u(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",u(e.slice(0,t)),",",u(e.slice(t)),")"].join("")}function c(e,t){if("m"===e.charAt(0)){if("w"===t.charAt(0)){var n=e.split("[");return["w",t.substr(1),"m",n[0].substr(1)].join("")}return["prod(",e,",",t,")"].join("")}return c(t,e)}function d(e){if(2===e.length)return[["diff(",c(e[0][0],e[1][1]),",",c(e[1][0],e[0][1]),")"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",u(d(l(e,n))),",",(r=n,!0&r?"-":""),e[0][n],")"].join(""));var r;return t}function f(e,t){for(var n=[],r=0;r<t-2;++r)n.push(["prod(m",e,"[",r,"],m",e,"[",r,"])"].join(""));return u(n)}function h(e){for(var t=[],n=[],s=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-2,"]"].join("")}return t}(e),c=0;c<e;++c)s[0][c]="1",s[e-1][c]="w"+c;for(var c=0;c<e;++c)0==(1&c)?t.push.apply(t,d(l(s,c))):n.push.apply(n,d(l(s,c)));for(var h=u(t),p=u(n),m="exactInSphere"+e,g=[],c=0;c<e;++c)g.push("m"+c);for(var v=["function ",m,"(",g.join(),"){"],c=0;c<e;++c){v.push("var w",c,"=",f(c,e),";");for(var y=0;y<e;++y)y!==c&&v.push("var w",c,"m",y,"=scale(w",c,",m",y,"[0]);")}v.push("var p=",h,",n=",p,",d=diff(p,n);return d[d.length-1];}return ",m);var b=new Function("sum","diff","prod","scale",v.join(""));return b(o,i,r,a)}var p=[function(){return 0},function(){return 0},function(){return 0}];function m(e){var t=p[e.length];return t||(t=p[e.length]=h(e.length)),t.apply(void 0,e)}!function(){for(;p.length<=s;)p.push(h(p.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);for(var o=["function testInSphere(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=s;++r)o.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(o.join(""));var i=Function.apply(void 0,n);t.exports=i.apply(void 0,[m].concat(p));for(var r=0;r<=s;++r)t.exports[r]=p[r]}()},{"robust-scale":264,"robust-subtract":266,"robust-sum":267,"two-product":288}],262:[function(e,t,n){"use strict";var r=e("two-product"),o=e("robust-sum"),i=e("robust-scale"),a=e("robust-subtract"),s=5;function l(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var o=n[r-1]=new Array(e.length-1),i=0,a=0;i<e.length;++i)i!==t&&(o[a++]=e[r][i]);return n}function u(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",u(e.slice(0,t)),",",u(e.slice(t)),")"].join("")}function c(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",u(c(l(e,n))),",",(r=n,1&r?"-":""),e[0][n],")"].join(""));var r;return t}function d(e){for(var t=[],n=[],s=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),d=[],f=0;f<e;++f)0==(1&f)?t.push.apply(t,c(l(s,f))):n.push.apply(n,c(l(s,f))),d.push("m"+f);var h=u(t),p=u(n),m="orientation"+e+"Exact",g=["function ",m,"(",d.join(),"){var p=",h,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",m].join(""),v=new Function("sum","prod","scale","sub",g);return v(o,r,i,a)}var f=d(3),h=d(4),p=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,o=(e[1]-n[1])*(t[0]-n[0]),i=(e[0]-n[0])*(t[1]-n[1]),a=o-i;if(o>0){if(i<=0)return a;r=o+i}else{if(!(o<0))return a;if(i>=0)return a;r=-(o+i)}var s=3.3306690738754716e-16*r;return a>=s||a<=-s?a:f(e,t,n)},function(e,t,n,r){var o=e[0]-r[0],i=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],c=e[2]-r[2],d=t[2]-r[2],f=n[2]-r[2],p=i*u,m=a*l,g=a*s,v=o*u,y=o*l,b=i*s,_=c*(p-m)+d*(g-v)+f*(y-b),x=(Math.abs(p)+Math.abs(m))*Math.abs(c)+(Math.abs(g)+Math.abs(v))*Math.abs(d)+(Math.abs(y)+Math.abs(b))*Math.abs(f),w=7.771561172376103e-16*x;return _>w||-_>w?_:h(e,t,n,r)}];function m(e){var t=p[e.length];return t||(t=p[e.length]=d(e.length)),t.apply(void 0,e)}!function(){for(;p.length<=s;)p.push(d(p.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);for(var o=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=s;++r)o.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(o.join(""));var i=Function.apply(void 0,n);t.exports=i.apply(void 0,[m].concat(p));for(var r=0;r<=s;++r)t.exports[r]=p[r]}()},{"robust-scale":264,"robust-subtract":266,"robust-sum":267,"two-product":288}],263:[function(e,t,n){"use strict";var r=e("robust-sum"),o=e("robust-scale");t.exports=function(e,t){if(1===e.length)return o(t,e[0]);if(1===t.length)return o(e,t[0]);if(0===e.length||0===t.length)return[0];var n=[0];if(e.length<t.length)for(var i=0;i<e.length;++i)n=r(n,o(t,e[i]));else for(var i=0;i<t.length;++i)n=r(n,o(e,t[i]));return n}},{"robust-scale":264,"robust-sum":267}],264:[function(e,t,n){"use strict";var r=e("two-product"),o=e("two-sum");t.exports=function(e,t){var n=e.length;if(1===n){var i=r(e[0],t);return i[0]?i:[i[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(e[0],t,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){r(e[c],t,l);var d=s[1];o(d,l[0],s),s[0]&&(a[u++]=s[0]);var f=l[1],h=s[1],p=f+h,m=p-f,g=h-m;s[1]=p,g&&(a[u++]=g)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}},{"two-product":288,"two-sum":289}],265:[function(e,t,n){"use strict";t.exports=function(e,t,n,o){var i=r(e,n,o),a=r(t,n,o);if(i>0&&a>0||i<0&&a<0)return!1;var s=r(n,e,t),l=r(o,e,t);return!(s>0&&l>0||s<0&&l<0)&&(0!==i||0!==a||0!==s||0!==l||function(e,t,n,r){for(var o=0;o<2;++o){var i=e[o],a=t[o],s=Math.min(i,a),l=Math.max(i,a),u=n[o],c=r[o],d=Math.min(u,c),f=Math.max(u,c);if(f<s||l<d)return!1}return!0}(e,t,n,o))};var r=e("robust-orientation")[3]},{"robust-orientation":262}],266:[function(e,t,n){"use strict";t.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,o=e-(n-r)+(t-r);return o?[o,n]:[n]}(e[0],-t[0]);var o,i,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,d=e[l],f=c(d),h=-t[u],p=c(h);f<p?(i=d,(l+=1)<n&&(d=e[l],f=c(d))):(i=h,(u+=1)<r&&(h=-t[u],p=c(h))),l<n&&f<p||u>=r?(o=d,(l+=1)<n&&(d=e[l],f=c(d))):(o=h,(u+=1)<r&&(h=-t[u],p=c(h)));for(var m,g,v=o+i,y=v-o,b=i-y,_=b,x=v;l<n&&u<r;)f<p?(o=d,(l+=1)<n&&(d=e[l],f=c(d))):(o=h,(u+=1)<r&&(h=-t[u],p=c(h))),(b=(i=_)-(y=(v=o+i)-o))&&(a[s++]=b),_=x-((m=x+v)-(g=m-x))+(v-g),x=m;for(;l<n;)(b=(i=_)-(y=(v=(o=d)+i)-o))&&(a[s++]=b),_=x-((m=x+v)-(g=m-x))+(v-g),x=m,(l+=1)<n&&(d=e[l]);for(;u<r;)(b=(i=_)-(y=(v=(o=h)+i)-o))&&(a[s++]=b),_=x-((m=x+v)-(g=m-x))+(v-g),x=m,(u+=1)<r&&(h=-t[u]);return _&&(a[s++]=_),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a}},{}],267:[function(e,t,n){"use strict";t.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,o=e-(n-r)+(t-r);return o?[o,n]:[n]}(e[0],t[0]);var o,i,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,d=e[l],f=c(d),h=t[u],p=c(h);f<p?(i=d,(l+=1)<n&&(d=e[l],f=c(d))):(i=h,(u+=1)<r&&(h=t[u],p=c(h))),l<n&&f<p||u>=r?(o=d,(l+=1)<n&&(d=e[l],f=c(d))):(o=h,(u+=1)<r&&(h=t[u],p=c(h)));for(var m,g,v=o+i,y=v-o,b=i-y,_=b,x=v;l<n&&u<r;)f<p?(o=d,(l+=1)<n&&(d=e[l],f=c(d))):(o=h,(u+=1)<r&&(h=t[u],p=c(h))),(b=(i=_)-(y=(v=o+i)-o))&&(a[s++]=b),_=x-((m=x+v)-(g=m-x))+(v-g),x=m;for(;l<n;)(b=(i=_)-(y=(v=(o=d)+i)-o))&&(a[s++]=b),_=x-((m=x+v)-(g=m-x))+(v-g),x=m,(l+=1)<n&&(d=e[l]);for(;u<r;)(b=(i=_)-(y=(v=(o=h)+i)-o))&&(a[s++]=b),_=x-((m=x+v)-(g=m-x))+(v-g),x=m,(u+=1)<r&&(h=t[u]);return _&&(a[s++]=_),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a}},{}],268:[function(e,t,n){"use strict";t.exports=function(e){return e<0?-1:e>0?1:0}},{}],269:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],270:[function(e,t,n){"use strict";var r=e("bit-twiddle"),o=e("union-find");function i(e,t){var n=e.length,r=e.length-t.length,o=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:var i=e[0]+e[1]-t[0]-t[1];return i||o(e[0],e[1])-o(t[0],t[1]);case 3:var a=e[0]+e[1],s=t[0]+t[1];if(i=a+e[2]-(s+t[2]))return i;var l=o(e[0],e[1]),u=o(t[0],t[1]),i=o(l,e[2])-o(u,t[2]);return i||o(l+e[2],a)-o(u+t[2],s);default:var c=e.slice(0);c.sort();var d=t.slice(0);d.sort();for(var f=0;f<n;++f)if(r=c[f]-d[f])return r;return 0}}function a(e,t){return i(e[0],t[0])}function s(e,t){if(t){for(var n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=[e[o],t[o]];r.sort(a);for(var o=0;o<n;++o)e[o]=r[o][0],t[o]=r[o][1];return e}return e.sort(i),e}function l(e){if(0===e.length)return[];for(var t=1,n=e.length,r=1;r<n;++r){var o=e[r];if(i(o,e[r-1])){if(r===t){t++;continue}e[t++]=o}}return e.length=t,e}function u(e,t){for(var n=0,r=e.length-1,o=-1;n<=r;){var a=n+r>>1,s=i(e[a],t);s<=0?(0===s&&(o=a),n=a+1):s>0&&(r=a-1)}return o}function c(e,t){for(var n=new Array(e.length),o=0,a=n.length;o<a;++o)n[o]=[];for(var s=[],o=0,l=t.length;o<l;++o)for(var c=t[o],d=c.length,f=1,h=1<<d;f<h;++f){s.length=r.popCount(f);for(var p=0,m=0;m<d;++m)f&1<<m&&(s[p++]=c[m]);var g=u(e,s);if(!(g<0))for(;n[g++].push(o),!(g>=e.length||0!==i(e[g],s)););}return n}function d(e,t){if(t<0)return[];for(var n=[],o=(1<<t+1)-1,i=0;i<e.length;++i)for(var a=e[i],l=o;l<1<<a.length;l=r.nextCombination(l)){for(var u=new Array(t+1),c=0,d=0;d<a.length;++d)l&1<<d&&(u[c++]=a[d]);n.push(u)}return s(n)}n.dimension=function(e){for(var t=0,n=Math.max,r=0,o=e.length;r<o;++r)t=n(t,e[r].length);return t-1},n.countVertices=function(e){for(var t=-1,n=Math.max,r=0,o=e.length;r<o;++r)for(var i=e[r],a=0,s=i.length;a<s;++a)t=n(t,i[a]);return t+1},n.cloneCells=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e[n].slice(0);return t},n.compareCells=i,n.normalize=s,n.unique=l,n.findCell=u,n.incidence=c,n.dual=function(e,t){if(!t)return c(l(d(e,0)),e);for(var n=new Array(t),r=0;r<t;++r)n[r]=[];for(var r=0,o=e.length;r<o;++r)for(var i=e[r],a=0,s=i.length;a<s;++a)n[i[a]].push(r);return n},n.explode=function(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var o=e[n],i=0|o.length,a=1,l=1<<i;a<l;++a){for(var u=[],c=0;c<i;++c)a>>>c&1&&u.push(o[c]);t.push(u)}return s(t)},n.skeleton=d,n.boundary=function(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length;i<a;++i){for(var l=new Array(o.length-1),u=0,c=0;u<a;++u)u!==i&&(l[c++]=o[u]);t.push(l)}return s(t)},n.connectedComponents=function(e,t){return t?function(e,t){for(var n=new o(t),r=0;r<e.length;++r)for(var i=e[r],a=0;a<i.length;++a)for(var s=a+1;s<i.length;++s)n.link(i[a],i[s]);for(var l=[],u=n.ranks,r=0;r<u.length;++r)u[r]=-1;for(var r=0;r<e.length;++r){var c=n.find(e[r][0]);u[c]<0?(u[c]=l.length,l.push([e[r].slice(0)])):l[u[c]].push(e[r].slice(0))}return l}(e,t):function(e){for(var t=l(s(d(e,0))),n=new o(t.length),r=0;r<e.length;++r)for(var i=e[r],a=0;a<i.length;++a)for(var c=u(t,[i[a]]),f=a+1;f<i.length;++f)n.link(c,u(t,[i[f]]));for(var h=[],p=n.ranks,r=0;r<p.length;++r)p[r]=-1;for(var r=0;r<e.length;++r){var m=n.find(u(t,[e[r][0]]));p[m]<0?(p[m]=h.length,h.push([e[r].slice(0)])):h[p[m]].push(e[r].slice(0))}return h}(e)}},{"bit-twiddle":269,"union-find":271}],271:[function(e,t,n){"use strict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.exports=r,r.prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.prototype.find=function(e){for(var t=this.roots;t[e]!==e;){var n=t[e];t[e]=t[n],e=n}return e},r.prototype.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var o=this.ranks,i=this.roots,a=o[n],s=o[r];a<s?i[n]=r:s<a?i[r]=n:(i[r]=n,++o[n])}}},{}],272:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var i=t.length,a=e.length,s=new Array(i),l=new Array(i),u=new Array(i),c=new Array(i),d=0;d<i;++d)s[d]=l[d]=-1,u[d]=1/0,c[d]=!1;for(var d=0;d<a;++d){var f=e[d];if(2!==f.length)throw new Error("Input must be a graph");var h=f[1],p=f[0];-1!==l[p]?l[p]=-2:l[p]=h,-1!==s[h]?s[h]=-2:s[h]=p}function m(e){if(c[e])return 1/0;var n,o,i,a,u,d=s[e],f=l[e];return d<0||f<0?1/0:(n=t[e],o=t[d],i=t[f],a=Math.abs(r(n,o,i)),u=Math.sqrt(Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)),a/u)}function g(e,t){var n=E[e],r=E[t];E[e]=r,E[t]=n,T[n]=t,T[r]=e}function v(e){return u[E[e]]}function y(e){return 1&e?e-1>>1:(e>>1)-1}function b(e){for(var t=v(e);;){var n=t,r=2*e+1,o=2*(e+1),i=e;if(r<S){var a=v(r);a<n&&(i=r,n=a)}if(o<S){var s=v(o);s<n&&(i=o)}if(i===e)return e;g(e,i),e=i}}function _(e){for(var t=v(e);e>0;){var n=y(e);if(n>=0){var r=v(n);if(t<r){g(e,n),e=n;continue}}return e}}function x(){if(S>0){var e=E[0];return g(0,S-1),S-=1,b(0),e}return-1}function w(e,t){var n=E[e];return u[n]===t?e:(u[n]=-1/0,_(e),x(),u[n]=t,_((S+=1)-1))}function k(e){if(!c[e]){c[e]=!0;var t=s[e],n=l[e];s[n]>=0&&(s[n]=t),l[t]>=0&&(l[t]=n),T[t]>=0&&w(T[t],m(t)),T[n]>=0&&w(T[n],m(n))}}for(var E=[],T=new Array(i),d=0;d<i;++d){var A=u[d]=m(d);A<1/0?(T[d]=E.length,E.push(d)):T[d]=-1}for(var S=E.length,d=S>>1;d>=0;--d)b(d);for(;;){var M=x();if(M<0||u[M]>n)break;k(M)}for(var C=[],d=0;d<i;++d)c[d]||(T[d]=C.length,C.push(t[d].slice()));function j(e,t){if(e[t]<0)return t;var n=t,r=t;do{var o=e[r];if(!c[r]||o<0||o===r)break;if(o=e[r=o],!c[r]||o<0||o===r)break;r=o,n=e[n]}while(n!==r);for(var i=t;i!==r;i=e[i])e[i]=r;return r}C.length;var O=[];return e.forEach(function(e){var t=j(s,e[0]),n=j(l,e[1]);if(t>=0&&n>=0&&t!==n){var r=T[t],o=T[n];r!==o&&O.push([r,o])}}),o.unique(o.normalize(O)),{positions:C,edges:O}};var r=e("robust-orientation"),o=e("simplicial-complex")},{"robust-orientation":262,"simplicial-complex":270}],273:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,a,s;if(t[0][0]<t[1][0])n=t[0],i=t[1];else{if(!(t[0][0]>t[1][0]))return o(t,e);n=t[1],i=t[0]}if(e[0][0]<e[1][0])a=e[0],s=e[1];else{if(!(e[0][0]>e[1][0]))return-o(e,t);a=e[1],s=e[0]}var l=r(n,i,s),u=r(n,i,a);if(l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;if(l=r(s,a,i),u=r(s,a,n),l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;return i[0]-s[0]};var r=e("robust-orientation");function o(e,t){var n,o,i,a;if(t[0][0]<t[1][0])n=t[0],o=t[1];else{if(!(t[0][0]>t[1][0])){var s=Math.min(e[0][1],e[1][1]),l=Math.max(e[0][1],e[1][1]),u=Math.min(t[0][1],t[1][1]),c=Math.max(t[0][1],t[1][1]);return l<u?l-u:s>c?s-c:l-c}n=t[1],o=t[0]}e[0][1]<e[1][1]?(i=e[0],a=e[1]):(i=e[1],a=e[0]);var d=r(o,n,i);return d||(d=r(o,n,a))||a-o}},{"robust-orientation":262}],274:[function(e,t,n){"use strict";t.exports=function(e){for(var t=e.length,n=2*t,r=new Array(n),i=0;i<t;++i){var l=e[i],u=l[0][0]<l[1][0];r[2*i]=new f(l[0][0],l,u,i),r[2*i+1]=new f(l[1][0],l,!u,i)}r.sort(function(e,t){var n=e.x-t.x;return n||(n=e.create-t.create)||Math.min(e.segment[0][1],e.segment[1][1])-Math.min(t.segment[0][1],t.segment[1][1])});for(var c=o(a),h=[],p=[],m=[],i=0;i<n;){for(var g=r[i].x,v=[];i<n;){var y=r[i];if(y.x!==g)break;i+=1,y.segment[0][0]===y.x&&y.segment[1][0]===y.x?y.create&&(y.segment[0][1]<y.segment[1][1]?(v.push(new d(y.segment[0][1],y.index,!0,!0)),v.push(new d(y.segment[1][1],y.index,!1,!1))):(v.push(new d(y.segment[1][1],y.index,!0,!1)),v.push(new d(y.segment[0][1],y.index,!1,!0)))):c=y.create?c.insert(y.segment,y.index):c.remove(y.segment)}h.push(c.root),p.push(g),m.push(v)}return new s(h,p,m)};var r=e("binary-search-bounds"),o=e("functional-red-black-tree"),i=e("robust-orientation"),a=e("./lib/order-segments");function s(e,t,n){this.slabs=e,this.coordinates=t,this.horizontal=n}var l=s.prototype;function u(e,t){return e.y-t}function c(e,t){for(var n=null;e;){var r,o,a=e.key;a[0][0]<a[1][0]?(r=a[0],o=a[1]):(r=a[1],o=a[0]);var s=i(r,o,t);if(s<0)e=e.left;else if(s>0)if(t[0]!==a[1][0])n=e,e=e.right;else{var l=c(e.right,t);if(l)return l;e=e.left}else{if(t[0]!==a[1][0])return e;var l=c(e.right,t);if(l)return l;e=e.left}}return n}function d(e,t,n,r){this.y=e,this.index=t,this.start=n,this.closed=r}function f(e,t,n,r){this.x=e,this.segment=t,this.create=n,this.index=r}l.castUp=function(e){var t=r.le(this.coordinates,e[0]);if(t<0)return-1;this.slabs[t];var n=c(this.slabs[t],e),o=-1;if(n&&(o=n.value),this.coordinates[t]===e[0]){var s=null;if(n&&(s=n.key),t>0){var l=c(this.slabs[t-1],e);l&&(s?a(l.key,s)>0&&(s=l.key,o=l.value):(o=l.value,s=l.key))}var d=this.horizontal[t];if(d.length>0){var f=r.ge(d,e[1],u);if(f<d.length){var h=d[f];if(e[1]===h.y){if(h.closed)return h.index;for(;f<d.length-1&&d[f+1].y===e[1];)if((h=d[f+=1]).closed)return h.index;if(h.y===e[1]&&!h.start){if((f+=1)>=d.length)return o;h=d[f]}}if(h.start)if(s){var p=i(s[0],s[1],[e[0],h.y]);s[0][0]>s[1][0]&&(p=-p),p>0&&(o=h.index)}else o=h.index;else h.y!==e[1]&&(o=h.index)}}}return o}},{"./lib/order-segments":273,"binary-search-bounds":38,"functional-red-black-tree":153,"robust-orientation":262}],275:[function(e,t,n){!function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function t(n){return function(n,r){var o,i,a,s,l,u,c,d,f,h=1,p=n.length,m="";for(i=0;i<p;i++)if("string"==typeof n[i])m+=n[i];else if(Array.isArray(n[i])){if((s=n[i])[2])for(o=r[h],a=0;a<s[2].length;a++){if(!o.hasOwnProperty(s[2][a]))throw new Error(t('[sprintf] property "%s" does not exist',s[2][a]));o=o[s[2][a]]}else o=s[1]?r[s[1]]:r[h++];if(e.not_type.test(s[8])&&e.not_primitive.test(s[8])&&o instanceof Function&&(o=o()),e.numeric_arg.test(s[8])&&"number"!=typeof o&&isNaN(o))throw new TypeError(t("[sprintf] expecting number but found %T",o));switch(e.number.test(s[8])&&(d=o>=0),s[8]){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,s[6]?parseInt(s[6]):0);break;case"e":o=s[7]?parseFloat(o).toExponential(s[7]):parseFloat(o).toExponential();break;case"f":o=s[7]?parseFloat(o).toFixed(s[7]):parseFloat(o);break;case"g":o=s[7]?String(Number(o.toPrecision(s[7]))):parseFloat(o);break;case"o":o=(parseInt(o,10)>>>0).toString(8);break;case"s":o=String(o),o=s[7]?o.substring(0,s[7]):o;break;case"t":o=String(!!o),o=s[7]?o.substring(0,s[7]):o;break;case"T":o=Object.prototype.toString.call(o).slice(8,-1).toLowerCase(),o=s[7]?o.substring(0,s[7]):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=s[7]?o.substring(0,s[7]):o;break;case"x":o=(parseInt(o,10)>>>0).toString(16);break;case"X":o=(parseInt(o,10)>>>0).toString(16).toUpperCase()}e.json.test(s[8])?m+=o:(!e.number.test(s[8])||d&&!s[3]?f="":(f=d?"+":"-",o=o.toString().replace(e.sign,"")),u=s[4]?"0"===s[4]?"0":s[4].charAt(1):" ",c=s[6]-(f+o).length,l=s[6]&&c>0?u.repeat(c):"",m+=s[5]?f+o+l:"0"===u?f+l+o:l+f+o)}return m}(function(t){if(o[t])return o[t];for(var n,r=t,i=[],a=0;r;){if(null!==(n=e.text.exec(r)))i.push(n[0]);else if(null!==(n=e.modulo.exec(r)))i.push("%");else{if(null===(n=e.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){a|=1;var s=[],l=n[2],u=[];if(null===(u=e.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=e.key_access.exec(l)))s.push(u[1]);else{if(null===(u=e.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}n[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push(n)}r=r.substring(n[0].length)}return o[t]=i}(n),arguments)}function r(e,n){return t.apply(null,[e].concat(n||[]))}var o=Object.create(null);void 0!==n&&(n.sprintf=t,n.vsprintf=r),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=r)}()},{}],276:[function(e,t,n){"use strict";var r=e("parenthesis");t.exports=function(e,t,n){if(null==e)throw Error("First argument should be a string");if(null==t)throw Error("Separator should be a string or a RegExp");n?("string"==typeof n||Array.isArray(n))&&(n={ignore:n}):n={},null==n.escape&&(n.escape=!0),null==n.ignore?n.ignore=["[]","()","{}","<>",'""',"''","``","",""]:("string"==typeof n.ignore&&(n.ignore=[n.ignore]),n.ignore=n.ignore.map(function(e){return 1===e.length&&(e+=e),e}));var o=r.parse(e,{flat:!0,brackets:n.ignore}),i=o[0],a=i.split(t);if(n.escape){for(var s=[],l=0;l<a.length;l++){var u=a[l],c=a[l+1];"\\"===u[u.length-1]&&"\\"!==u[u.length-2]?(s.push(u+t+c),l++):s.push(u)}a=s}for(var l=0;l<a.length;l++)o[0]=a[l],a[l]=r.stringify(o,{flat:!0});return a}},{parenthesis:225}],277:[function(e,t,n){"use strict";t.exports=function(e){return e.split("").map(function(e){return e in r?r[e]:""}).join("")};var r={" ":" ",0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","+":"","-":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""}},{}],278:[function(e,t,n){"use strict";t.exports=function(e,t){if(e.dimension<=0)return{positions:[],cells:[]};if(1===e.dimension)return function(e,t){for(var n=i(e,t),r=n.length,o=new Array(r),a=new Array(r),s=0;s<r;++s)o[s]=[n[s]],a[s]=[s];return{positions:o,cells:a}}(e,t);var n=e.order.join()+"-"+e.dtype,s=a[n],t=+t||0;return s||(s=a[n]=function(e,t){var n=e.length,i=["'use strict';"],a="surfaceNets"+e.join("_")+"d"+t;i.push("var contour=genContour({","order:[",e.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===t&&i.push("getters:[0],");for(var s=[],l=[],u=0;u<n;++u)s.push("d"+u),l.push("d"+u);for(var u=0;u<1<<n;++u)s.push("v"+u),l.push("v"+u);for(var u=0;u<1<<n;++u)s.push("p"+u),l.push("p"+u);s.push("a","b","c"),l.push("a","c"),i.push("vertex:function vertexFunc(",s.join(),"){");for(var c=[],u=0;u<1<<n;++u)c.push("(p"+u+"<<"+u+")");i.push("var m=(",c.join("+"),")|0;if(m===0||m===",(1<<(1<<n))-1,"){return}");var d=[],f=[];1<<(1<<n)<=128?(i.push("switch(m){"),f=i):i.push("switch(m>>>7){");for(var u=0;u<1<<(1<<n);++u){if(1<<(1<<n)>128&&u%128==0){d.length>0&&f.push("}}");var h="vExtra"+d.length;i.push("case ",u>>>7,":",h,"(m&0x7f,",l.join(),");break;"),f=["function ",h,"(m,",l.join(),"){switch(m){"],d.push(f)}f.push("case ",127&u,":");for(var p=new Array(n),m=new Array(n),g=new Array(n),v=new Array(n),y=0,b=0;b<n;++b)p[b]=[],m[b]=[],g[b]=0,v[b]=0;for(var b=0;b<1<<n;++b)for(var _=0;_<n;++_){var x=b^1<<_;if(!(x>b)&&!(u&1<<x)!=!(u&1<<b)){var w=1;u&1<<x?m[_].push("v"+x+"-v"+b):(m[_].push("v"+b+"-v"+x),w=-w),w<0?(p[_].push("-v"+b+"-v"+x),g[_]+=2):(p[_].push("v"+b+"+v"+x),g[_]-=2),y+=1;for(var k=0;k<n;++k)k!==_&&(x&1<<k?v[k]+=1:v[k]-=1)}}for(var E=[],_=0;_<n;++_)if(0===p[_].length)E.push("d"+_+"-0.5");else{var T="";g[_]<0?T=g[_]+"*c":g[_]>0&&(T="+"+g[_]+"*c");var A=p[_].length/y*.5,S=.5+v[_]/y*.5;E.push("d"+_+"-"+S+"-"+A+"*("+p[_].join("+")+T+")/("+m[_].join("+")+")")}f.push("a.push([",E.join(),"]);","break;")}i.push("}},"),d.length>0&&f.push("}}");for(var M=[],u=0;u<1<<n-1;++u)M.push("v"+u);M.push("c0","c1","p0","p1","a","b","c"),i.push("cell:function cellFunc(",M.join(),"){");var C=o(n-1);i.push("if(p0){b.push(",C.map(function(e){return"["+e.map(function(e){return"v"+e})+"]"}).join(),")}else{b.push(",C.map(function(e){var t=e.slice();return t.reverse(),"["+t.map(function(e){return"v"+e})+"]"}).join(),")}}});function ",a,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",a,";");for(var u=0;u<d.length;++u)i.push(d[u].join(""));return new Function("genContour",i.join(""))(r)}(e.order,e.dtype)),s(e,t)};var r=e("ndarray-extract-contour"),o=e("triangulate-hypercube"),i=e("zero-crossings"),a={}},{"ndarray-extract-contour":218,"triangulate-hypercube":287,"zero-crossings":302}],279:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=2*Math.PI,i=function(e,t,n,r,o,i,a){var s=e.x,l=e.y,u=r*(s*=t)-o*(l*=n),c=o*s+r*l;return{x:u+i,y:c+a}},a=function(e,t){var n=.551915024494,r=Math.cos(e),o=Math.sin(e),i=Math.cos(e+t),a=Math.sin(e+t);return[{x:r-o*n,y:o+r*n},{x:i+a*n,y:a-i*n},{x:i,y:a}]},s=function(e,t,n,r){var o=e*r-t*n<0?-1:1,i=Math.sqrt(e*e+t*t),a=Math.sqrt(e*e+t*t),s=e*n+t*r,l=s/(i*a);return l>1&&(l=1),l<-1&&(l=-1),o*Math.acos(l)};n.default=function(e){var t=e.px,n=e.py,l=e.cx,u=e.cy,c=e.rx,d=e.ry,f=e.xAxisRotation,h=void 0===f?0:f,p=e.largeArcFlag,m=void 0===p?0:p,g=e.sweepFlag,v=void 0===g?0:g,y=[];if(0===c||0===d)return[];var b=Math.sin(h*o/360),_=Math.cos(h*o/360),x=_*(t-l)/2+b*(n-u)/2,w=-b*(t-l)/2+_*(n-u)/2;if(0===x&&0===w)return[];c=Math.abs(c),d=Math.abs(d);var k=Math.pow(x,2)/Math.pow(c,2)+Math.pow(w,2)/Math.pow(d,2);k>1&&(c*=Math.sqrt(k),d*=Math.sqrt(k));var E=function(e,t,n,r,i,a,l,u,c,d,f,h){var p=Math.pow(i,2),m=Math.pow(a,2),g=Math.pow(f,2),v=Math.pow(h,2),y=p*m-p*v-m*g;y<0&&(y=0),y/=p*v+m*g;var b=(y=Math.sqrt(y)*(l===u?-1:1))*i/a*h,_=y*-a/i*f,x=d*b-c*_+(e+n)/2,w=c*b+d*_+(t+r)/2,k=(f-b)/i,E=(h-_)/a,T=(-f-b)/i,A=(-h-_)/a,S=s(1,0,k,E),M=s(k,E,T,A);return 0===u&&M>0&&(M-=o),1===u&&M<0&&(M+=o),[x,w,S,M]}(t,n,l,u,c,d,m,v,b,_,x,w),T=r(E,4),A=T[0],S=T[1],M=T[2],C=T[3],j=Math.abs(C)/(o/4);Math.abs(1-j)<1e-7&&(j=1);var O=Math.max(Math.ceil(j),1);C/=O;for(var N=0;N<O;N++)y.push(a(M,C)),M+=C;return y.map(function(e){var t=i(e[0],c,d,_,b,A,S),n=t.x,r=t.y,o=i(e[1],c,d,_,b,A,S),a=o.x,s=o.y,l=i(e[2],c,d,_,b,A,S),u=l.x,f=l.y;return{x1:n,y1:r,x2:a,y2:s,x:u,y:f}})},t.exports=n.default},{}],280:[function(e,t,n){"use strict";var r=e("parse-svg-path"),o=e("abs-svg-path"),i=e("normalize-svg-path"),a=e("is-svg-path"),s=e("assert");t.exports=function(e){if(Array.isArray(e)&&1===e.length&&"string"==typeof e[0]&&(e=e[0]),"string"==typeof e&&(s(a(e),"String is not an SVG path."),e=r(e)),s(Array.isArray(e),"Argument should be a string or an array of path segments."),e=o(e),!(e=i(e)).length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],n=0,l=e.length;n<l;n++)for(var u=e[n].slice(1),c=0;c<u.length;c+=2)u[c+0]<t[0]&&(t[0]=u[c+0]),u[c+1]<t[1]&&(t[1]=u[c+1]),u[c+0]>t[2]&&(t[2]=u[c+0]),u[c+1]>t[3]&&(t[3]=u[c+1]);return t}},{"abs-svg-path":11,assert:16,"is-svg-path":212,"normalize-svg-path":281,"parse-svg-path":227}],281:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=[],a=0,s=0,l=0,u=0,c=null,d=null,f=0,h=0,p=0,m=e.length;p<m;p++){var g=e[p],v=g[0];switch(v){case"M":l=g[1],u=g[2];break;case"A":var y=r({px:f,py:h,cx:g[6],cy:g[7],rx:g[1],ry:g[2],xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5]});if(!y.length)continue;for(var b,_=0;_<y.length;_++)b=y[_],g=["C",b.x1,b.y1,b.x2,b.y2,b.x,b.y],_<y.length-1&&n.push(g);break;case"S":var x=f,w=h;"C"!=t&&"S"!=t||(x+=x-a,w+=w-s),g=["C",x,w,g[1],g[2],g[3],g[4]];break;case"T":"Q"==t||"T"==t?(c=2*f-c,d=2*h-d):(c=f,d=h),g=i(f,h,c,d,g[1],g[2]);break;case"Q":c=g[1],d=g[2],g=i(f,h,g[1],g[2],g[3],g[4]);break;case"L":g=o(f,h,g[1],g[2]);break;case"H":g=o(f,h,g[1],h);break;case"V":g=o(f,h,f,g[1]);break;case"Z":g=o(f,h,l,u)}t=v,f=g[g.length-2],h=g[g.length-1],g.length>4?(a=g[g.length-4],s=g[g.length-3]):(a=f,s=h),n.push(g)}return n};var r=e("svg-arc-to-cubic-bezier");function o(e,t,n,r){return["C",e,t,n,r,n,r]}function i(e,t,n,r,o,i){return["C",e/3+2/3*n,t/3+2/3*r,o/3+2/3*n,i/3+2/3*r,o,i]}},{"svg-arc-to-cubic-bezier":279}],282:[function(e,t,n){"use strict";var r=e("svg-path-bounds"),o=e("parse-svg-path"),i=e("draw-svg-path"),a=e("is-svg-path"),s=e("bitmap-sdf"),l=document.createElement("canvas"),u=l.getContext("2d");t.exports=function(e,t){if(!a(e))throw Error("Argument should be valid svg path string");var n,c;t||(t={}),t.shape?(n=t.shape[0],c=t.shape[1]):(n=l.width=t.w||t.width||200,c=l.height=t.h||t.height||200);var d=Math.min(n,c),f=t.stroke||0,h=t.viewbox||t.viewBox||r(e),p=[n/(h[2]-h[0]),c/(h[3]-h[1])],m=Math.min(p[0]||0,p[1]||0)/2;if(u.fillStyle="black",u.fillRect(0,0,n,c),u.fillStyle="white",f&&("number"!=typeof f&&(f=1),u.strokeStyle=f>0?"white":"black",u.lineWidth=Math.abs(f)),u.translate(.5*n,.5*c),u.scale(m,m),function(){var e=document.createElement("canvas").getContext("2d");e.canvas.width=e.canvas.height=1;var t=new Path2D("M0,0h1v1h-1v-1Z");e.fillStyle="black",e.fill(t);var n=e.getImageData(0,0,1,1);return n&&n.data&&255===n.data[3]}()){var g=new Path2D(e);u.fill(g),f&&u.stroke(g)}else{var v=o(e);i(u,v),u.fill(),f&&u.stroke()}return u.setTransform(1,0,0,1,0,0),s(u,{cutoff:null!=t.cutoff?t.cutoff:.5,radius:null!=t.radius?t.radius:.5*d})}},{"bitmap-sdf":40,"draw-svg-path":89,"is-svg-path":212,"parse-svg-path":227,"svg-path-bounds":280}],283:[function(e,t,n){(function(n){"use strict";t.exports=function e(t,n,o){var o=o||{},a=i[t];a||(a=i[t]={" ":{data:new Float32Array(0),shape:.2}});var s=a[n];if(!s)if(n.length<=1||!/\d/.test(n))s=a[n]=function(e){for(var t=e.cells,n=e.positions,r=new Float32Array(6*t.length),o=0,i=0,a=0;a<t.length;++a)for(var s=t[a],l=0;l<3;++l){var u=n[s[l]];r[o++]=u[0],r[o++]=u[1]+1.4,i=Math.max(u[0],i)}return{data:r,shape:i}}(r(n,{triangles:!0,font:t,textAlign:o.textAlign||"left",textBaseline:"alphabetic"}));else{for(var l=n.split(/(\d|\s)/),u=new Array(l.length),c=0,d=0,f=0;f<l.length;++f)u[f]=e(t,l[f]),c+=u[f].data.length,d+=u[f].shape,f>0&&(d+=.02);for(var h=new Float32Array(c),p=0,m=-.5*d,f=0;f<u.length;++f){for(var g=u[f].data,v=0;v<g.length;v+=2)h[p++]=g[v]+m,h[p++]=g[v+1];m+=u[f].shape+.02}s=a[n]={data:h,shape:d}}return s};var r=e("vectorize-text"),o=window||n.global||{},i=o.__TEXT_CACHE||{};o.__TEXT_CACHE={}}).call(this,e("_process"))},{_process:248,"vectorize-text":295}],284:[function(e,t,n){!function(e){var n=/^\s+/,r=/\s+$/,o=0,i=e.round,a=e.min,s=e.max,l=e.random;function u(t,l){if(l=l||{},(t=t||"")instanceof u)return t;if(!(this instanceof u))return new u(t,l);var c=function(t){var o,i,l,u={r:0,g:0,b:0},c=1,d=null,f=null,h=null,p=!1,m=!1;return"string"==typeof t&&(t=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,o=!1;if(S[e])e=S[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=z.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=z.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=z.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=z.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=z.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=z.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=z.hex8.exec(e))?{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:D(t[4]),format:o?"name":"hex8"}:(t=z.hex6.exec(e))?{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:o?"name":"hex"}:(t=z.hex4.exec(e))?{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:D(t[4]+""+t[4]),format:o?"name":"hex8"}:!!(t=z.hex3.exec(e))&&{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:o?"name":"hex"}}(t)),"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(o=t.r,i=t.g,l=t.b,u={r:255*j(o,255),g:255*j(i,255),b:255*j(l,255)},p=!0,m="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(d=P(t.s),f=P(t.v),u=function(t,n,r){t=6*j(t,360),n=j(n,100),r=j(r,100);var o=e.floor(t),i=t-o,a=r*(1-n),s=r*(1-i*n),l=r*(1-(1-i)*n),u=o%6;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u]}}(t.h,d,f),p=!0,m="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(d=P(t.s),h=P(t.l),u=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=j(e,360),t=j(t,100),n=j(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(t.h,d,h),p=!0,m="hsl"),t.hasOwnProperty("a")&&(c=t.a)),c=C(c),{ok:p,format:t.format||m,r:a(255,s(u.r,0)),g:a(255,s(u.g,0)),b:a(255,s(u.b,0)),a:c}}(t);this._originalInput=t,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=i(100*this._a)/100,this._format=l.format||c.format,this._gradientType=l.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=c.ok,this._tc_id=o++}function c(e,t,n){e=j(e,255),t=j(t,255),n=j(n,255);var r,o,i=s(e,t,n),l=a(e,t,n),u=(i+l)/2;if(i==l)r=o=0;else{var c=i-l;switch(o=u>.5?c/(2-i-l):c/(i+l),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,l:u}}function d(e,t,n){e=j(e,255),t=j(t,255),n=j(n,255);var r,o,i=s(e,t,n),l=a(e,t,n),u=i,c=i-l;if(o=0===i?0:c/i,i==l)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:o,v:u}}function f(e,t,n,r){var o=[R(i(e).toString(16)),R(i(t).toString(16)),R(i(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function h(e,t,n,r){var o=[R(I(r)),R(i(e).toString(16)),R(i(t).toString(16)),R(i(n).toString(16))];return o.join("")}function p(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=O(n.s),u(n)}function m(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=O(n.s),u(n)}function g(e){return u(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=O(n.l),u(n)}function y(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=s(0,a(255,n.r-i(-t/100*255))),n.g=s(0,a(255,n.g-i(-t/100*255))),n.b=s(0,a(255,n.b-i(-t/100*255))),u(n)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=O(n.l),u(n)}function _(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function x(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function w(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),o=360/n,i=[u(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(u(r));return i}function A(e,t){t=t||6;for(var n=u(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(u({h:r,s:o,v:i})),i=(i+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,n,r,o,i,a,s=this.toRgb();return t=s.r/255,n=s.g/255,r=s.b/255,o=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),i=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),a=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4),.2126*o+.7152*i+.0722*a},setAlpha:function(e){return this._a=C(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var a=[R(i(e).toString(16)),R(i(t).toString(16)),R(i(n).toString(16)),R(I(r))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*j(this._r,255))+"%",g:i(100*j(this._g,255))+"%",b:i(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*j(this._r,255))+"%, "+i(100*j(this._g,255))+"%, "+i(100*j(this._b,255))+"%)":"rgba("+i(100*j(this._r,255))+"%, "+i(100*j(this._g,255))+"%, "+i(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=u(e);n="#"+h(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,o=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return o?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:P(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),o=u(t).toRgb(),i=n/100,a={r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a};return u(a)},u.readability=function(t,n){var r=u(t),o=u(n);return(e.max(r.getLuminance(),o.getLuminance())+.05)/(e.min(r.getLuminance(),o.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,o,i,a,s,l=u.readability(e,t);switch(o=!1,(i=n,a=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase(),s=(i.size||"small").toLowerCase(),"AA"!==a&&"AAA"!==a&&(a="AA"),"small"!==s&&"large"!==s&&(s="small"),r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":o=l>=4.5;break;case"AAlarge":o=l>=3;break;case"AAAsmall":o=l>=7}return o},u.mostReadable=function(e,t,n){var r,o,i,a,s=null,l=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=u.readability(e,t[c]))>l&&(l=r,s=u(t[c]));return u.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var S=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=u.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(S);function C(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function j(t,n){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(t)&&(t="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(t);return t=a(n,s(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function O(e){return a(1,s(0,e))}function N(e){return parseInt(e,16)}function R(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function I(t){return e.round(255*parseFloat(t)).toString(16)}function D(e){return N(e)/255}var L,B,F,z=(B="[\\s|\\(]+("+(L="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",F="[\\s|\\(]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",{CSS_UNIT:new RegExp(L),rgb:new RegExp("rgb"+B),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+B),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+B),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function U(e){return!!z.CSS_UNIT.exec(e)}void 0!==t&&t.exports?t.exports=u:window.tinycolor=u}(Math)},{}],285:[function(e,t,n){"use strict";function r(e){if(e instanceof Float32Array)return e;if("number"==typeof e)return new Float32Array([e])[0];var t=new Float32Array(e);return t.set(e),t}t.exports=r,t.exports.float32=t.exports.float=r,t.exports.fract32=t.exports.fract=function(e){if("number"==typeof e)return r(e-r(e));for(var t=r(e),n=0,o=t.length;n<o;n++)t[n]=e[n]-t[n];return t}},{}],286:[function(e,t,n){"use strict";var r=e("parse-unit");t.exports=a;var o=96;function i(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*a(n[1],e)}function a(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return function(e,t){var n=document.createElement("div");n.style["font-size"]="128"+e,t.appendChild(n);var r=i(n,"font-size")/128;return t.removeChild(n),r}(e,t);case"em":return i(t,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6}return 1}},{"parse-unit":228}],287:[function(e,t,n){"use strict";t.exports=function(e){if(e<0)return[];if(0===e)return[[0]];for(var t=0|Math.round(i(e+1)),n=[],a=0;a<t;++a){for(var s=r.unrank(e,a),l=[0],u=0,c=0;c<s.length;++c)u+=1<<s[c],l.push(u);o(s)<1&&(l[0]=u,l[e]=0),n.push(l)}return n};var r=e("permutation-rank"),o=e("permutation-parity"),i=e("gamma")},{gamma:154,"permutation-parity":230,"permutation-rank":231}],288:[function(e,t,n){"use strict";t.exports=function(e,t,n){var o=e*t,i=r*e,a=i-(i-e),s=e-a,l=r*t,u=l-(l-t),c=t-u,d=s*c-(o-a*u-s*u-a*c);return n?(n[0]=d,n[1]=o,n):[d,o]};var r=+(Math.pow(2,27)+1)},{}],289:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=e+t,o=r-e,i=t-o,a=e-(r-o);return n?(n[0]=a+i,n[1]=r,n):[a+i,r]}},{}],290:[function(e,n,r){(function(t,n){"use strict";var o=e("bit-twiddle"),i=e("dup");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s=t.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=i([32,0])),s.BUFFER||(s.BUFFER=i([32,0]));var l=s.DATA,u=s.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,n=o.log2(t);l[n].push(e)}}function d(e){var e=o.nextPow2(e),t=o.log2(e),n=l[t];return n.length>0?n.pop():new ArrayBuffer(e)}function f(e){return new Uint8Array(d(e),0,e)}function h(e){return new Uint16Array(d(2*e),0,e)}function p(e){return new Uint32Array(d(4*e),0,e)}function m(e){return new Int8Array(d(e),0,e)}function g(e){return new Int16Array(d(2*e),0,e)}function v(e){return new Int32Array(d(4*e),0,e)}function y(e){return new Float32Array(d(4*e),0,e)}function b(e){return new Float64Array(d(8*e),0,e)}function _(e){return a?new Uint8ClampedArray(d(e),0,e):f(e)}function x(e){return new DataView(d(e),0,e)}function w(e){e=o.nextPow2(e);var t=o.log2(e),r=u[t];return r.length>0?r.pop():new n(e)}r.free=function(e){if(n.isBuffer(e))u[o.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|o.log2(t);l[r].push(e)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(e){c(e.buffer)},r.freeArrayBuffer=c,r.freeBuffer=function(e){u[o.log2(e.length)].push(e)},r.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return d(e);switch(t){case"uint8":return f(e);case"uint16":return h(e);case"uint32":return p(e);case"int8":return m(e);case"int16":return g(e);case"int32":return v(e);case"float":case"float32":return y(e);case"double":case"float64":return b(e);case"uint8_clamped":return _(e);case"buffer":return w(e);case"data":case"dataview":return x(e);default:return null}return null},r.mallocArrayBuffer=d,r.mallocUint8=f,r.mallocUint16=h,r.mallocUint32=p,r.mallocInt8=m,r.mallocInt16=g,r.mallocInt32=v,r.mallocFloat32=r.mallocFloat=y,r.mallocFloat64=r.mallocDouble=b,r.mallocUint8Clamped=_,r.mallocDataView=x,r.mallocBuffer=w,r.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,l[e].length=0,u[e].length=0}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"bit-twiddle":39,buffer:51,dup:91}],291:[function(e,t,n){"use strict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.exports=r;var o=r.prototype;Object.defineProperty(o,"length",{get:function(){return this.roots.length}}),o.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},o.find=function(e){for(var t=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[t]!==e;){var r=n[t];n[t]=e,t=r}return e},o.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var o=this.ranks,i=this.roots,a=o[n],s=o[r];a<s?i[n]=r:s<a?i[r]=n:(i[r]=n,++o[n])}}},{}],292:[function(e,t,n){"use strict";t.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,o=e[0],i=e[0],a=1;a<r;++a)if(i=o,o=e[a],t(o,i)){if(a===n){n++;continue}e[n++]=o}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],o=e[0],i=1;i<n;++i,o=r)if(o=r,(r=e[i])!==o){if(i===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}},{}],293:[function(e,t,n){var r=/[\'\"]/;t.exports=function(e){return e?(r.test(e.charAt(0))&&(e=e.substr(1)),r.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},{}],294:[function(e,t,n){"use strict";t.exports=function(e,t,n){Array.isArray(n)||(n=[].slice.call(arguments,2));for(var r=0,o=n.length;r<o;r++){var i=n[r];for(var a in i)if((void 0===t[a]||Array.isArray(t[a])||e[a]!==t[a])&&a in t){var s;if(!0===i[a])s=t[a];else{if(!1===i[a])continue;if("function"==typeof i[a]&&void 0===(s=i[a](t[a],e,t)))continue}e[a]=s}}return e}},{}],295:[function(e,t,n){"use strict";t.exports=function(e,t){return"object"==typeof t&&null!==t||(t={}),r(e,t.canvas||o,t.context||i,t)};var r=e("./lib/vtext"),o=null,i=null;"undefined"!=typeof document&&((o=document.createElement("canvas")).width=8192,o.height=1024,i=o.getContext("2d"))},{"./lib/vtext":296}],296:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=r.size||64,a=r.font||"normal";return n.font=i+"px "+a,n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr",d(function(e,t,n,r){var i=0|Math.ceil(t.measureText(n).width+2*r);if(i>8192)throw new Error("vectorize-text: String too long (sorry, this will get fixed later)");var a=3*r;e.height<a&&(e.height=a),t.fillStyle="#000",t.fillRect(0,0,e.width,e.height),t.fillStyle="#fff",t.fillText(n,r,2*r);var s=t.getImageData(0,0,i,a);return o(s.data,[a,i,4]).pick(-1,-1,0).transpose(1,0)}(t,n,e,i),r,i)},t.exports.processPixels=d;var r=e("surface-nets"),o=e("ndarray"),i=e("simplify-planar-graph"),a=e("clean-pslg"),s=e("cdt2d"),l=e("planar-graph-to-polyline");function u(e,t){var n=r(e,128);return t?i(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function c(e,t,n,r){var o=u(e,r),i=function(e,t,n){for(var r=t.textAlign||"start",o=t.textBaseline||"alphabetic",i=[1<<30,1<<30],a=[0,0],s=e.length,l=0;l<s;++l)for(var u=e[l],c=0;c<2;++c)i[c]=0|Math.min(i[c],u[c]),a[c]=0|Math.max(a[c],u[c]);var d=0;switch(r){case"center":d=-.5*(i[0]+a[0]);break;case"right":case"end":d=-a[0];break;case"left":case"start":d=-i[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var f=0;switch(o){case"hanging":case"top":f=-i[1];break;case"middle":f=-.5*(i[1]+a[1]);break;case"alphabetic":case"ideographic":f=-3*n;break;case"bottom":f=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+o+"'")}var h=1/n;return"lineHeight"in t?h*=+t.lineHeight:"width"in t?h=t.width/(a[0]-i[0]):"height"in t&&(h=t.height/(a[1]-i[1])),e.map(function(e){return[h*(e[0]+d),h*(e[1]+f)]})}(o.positions,t,n),c=o.edges,d="ccw"===t.orientation;if(a(i,c),t.polygons||t.polygon||t.polyline){for(var f=l(c,i),h=new Array(f.length),p=0;p<f.length;++p){for(var m=f[p],g=new Array(m.length),v=0;v<m.length;++v){for(var y=m[v],b=new Array(y.length),_=0;_<y.length;++_)b[_]=i[y[_]].slice();d&&b.reverse(),g[v]=b}h[p]=g}return h}return t.triangles||t.triangulate||t.triangle?{cells:s(i,c,{delaunay:!1,exterior:!1,interior:!0}),positions:i}:{edges:c,positions:i}}function d(e,t,n){try{return c(e,t,n,!0)}catch(e){}try{return c(e,t,n,!1)}catch(e){}return t.polygons||t.polyline||t.polygon?[]:t.triangles||t.triangulate||t.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},{cdt2d:52,"clean-pslg":59,ndarray:220,"planar-graph-to-polyline":235,"simplify-planar-graph":272,"surface-nets":278}],297:[function(e,t,n){var r=e("./hidden-store.js");t.exports=function(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var n=t.valueOf(e);return n&&n.identity===e?n:r(t,e)}}},{"./hidden-store.js":298}],298:[function(e,t,n){t.exports=function(e,t){var n={identity:t},r=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?r.apply(this,arguments):n},writable:!0}),n}},{}],299:[function(e,t,n){var r=e("./create-store.js");t.exports=function(){var e=r();return{get:function(t,n){var r=e(t);return r.hasOwnProperty("value")?r.value:n},set:function(t,n){return e(t).value=n,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}},{"./create-store.js":297}],300:[function(e,t,n){var r=e("get-canvas-context");t.exports=function(e){return r("webgl",e)}},{"get-canvas-context":155}],301:[function(e,t,n){t.exports=e("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":79}],302:[function(e,t,n){"use strict";t.exports=function(e,t){var n=[];return t=+t||0,r(e.hi(e.shape[0]-1),n,t),n};var r=e("./lib/zc-core")},{"./lib/zc-core":301}],303:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],304:[function(e,t,n){"use strict";var r=e("./arrow_paths"),o=e("../../plots/font_attributes"),i=e("../../plots/cartesian/constants"),a=e("../../plot_api/plot_template").templatedArray;t.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:o({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:o({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../plot_api/plot_template":478,"../../plots/cartesian/constants":494,"../../plots/font_attributes":515,"./arrow_paths":303}],305:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("./draw").draw;function a(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach(function(t){var n=o.getFromId(e,t.xref),r=o.getFromId(e,t.yref);t._extremes={},n&&s(t,n),r&&s(t,r)})}function s(e,t){var n,r=t._id,i=r.charAt(0),a=e[i],s=e["a"+i],l=e[i+"ref"],u=e["a"+i+"ref"],c=e["_"+i+"padplus"],d=e["_"+i+"padminus"],f={x:1,y:-1}[i]*e[i+"shift"],h=3*e.arrowsize*e.arrowwidth||0,p=h+f,m=h-f,g=3*e.startarrowsize*e.arrowwidth||0,v=g+f,y=g-f;if(u===l){var b=o.findExtremes(t,[t.r2c(a)],{ppadplus:p,ppadminus:m}),_=o.findExtremes(t,[t.r2c(s)],{ppadplus:Math.max(c,v),ppadminus:Math.max(d,y)});n={min:[b.min[0],_.min[0]],max:[b.max[0],_.max[0]]}}else v=s?v+s:v,y=s?y-s:y,n=o.findExtremes(t,[t.r2c(a)],{ppadplus:Math.max(c,p,v),ppadminus:Math.max(d,m,y)});e._extremes[r]=n}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.annotations);if(n.length&&e._fullData.length)return r.syncOrAsync([i,a],e)}},{"../../lib":441,"../../plots/cartesian/axes":488,"./draw":310}],306:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../registry"),i=e("../../plot_api/plot_template").arrayEditor;function a(e,t){var n,r,o,i,a,l,u,c=e._fullLayout.annotations,d=[],f=[],h=[],p=(t||[]).length;for(n=0;n<c.length;n++)if(o=c[n],i=o.clicktoshow){for(r=0;r<p;r++)if(a=t[r],l=a.xaxis,u=a.yaxis,l._id===o.xref&&u._id===o.yref&&l.d2r(a.x)===s(o._xclick,l)&&u.d2r(a.y)===s(o._yclick,u)){(o.visible?"onout"===i?f:h:d).push(n);break}r===p&&o.visible&&"onout"===i&&f.push(n)}return{on:d,off:f,explicitOff:h}}function s(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}t.exports={hasClickToShow:function(e,t){var n=a(e,t);return n.on.length>0||n.explicitOff.length>0},onClick:function(e,t){var n,s,l=a(e,t),u=l.on,c=l.off.concat(l.explicitOff),d={},f=e._fullLayout.annotations;if(u.length||c.length){for(n=0;n<u.length;n++)(s=i(e.layout,"annotations",f[u[n]])).modifyItem("visible",!0),r.extendFlat(d,s.getUpdateObj());for(n=0;n<c.length;n++)(s=i(e.layout,"annotations",f[c[n]])).modifyItem("visible",!1),r.extendFlat(d,s.getUpdateObj());return o.call("update",e,{},d)}}}},{"../../lib":441,"../../plot_api/plot_template":478,"../../registry":532}],307:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../color");t.exports=function(e,t,n,i){i("opacity");var a=i("bgcolor"),s=i("bordercolor"),l=o.opacity(s);i("borderpad");var u=i("borderwidth"),c=i("showarrow");i("text",c?" ":n._dfltTitle.annotation),i("textangle"),r.coerceFont(i,"font",n.font),i("width"),i("align");var d=i("height");if(d&&i("valign"),c){var f,h,p=i("arrowside");-1!==p.indexOf("end")&&(f=i("arrowhead"),h=i("arrowsize")),-1!==p.indexOf("start")&&(i("startarrowhead",f),i("startarrowsize",h)),i("arrowcolor",l?t.bordercolor:o.defaultLine),i("arrowwidth",2*(l&&u||1)),i("standoff"),i("startstandoff")}var m=i("hovertext"),g=n.hoverlabel||{};if(m){var v=i("hoverlabel.bgcolor",g.bgcolor||(o.opacity(a)?o.rgb(a):o.defaultLine)),y=i("hoverlabel.bordercolor",g.bordercolor||o.contrast(v));r.coerceFont(i,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||y})}i("captureevents",!!m)}},{"../../lib":441,"../color":319}],308:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib/to_log_range");t.exports=function(e,t,n,i){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var l,u,c=e._fullLayout.annotations,d=t._id.charAt(0),f=0;f<c.length;f++)l=c[f],u="annotations["+f+"].",l[d+"ref"]===t._id&&h(d),l["a"+d+"ref"]===t._id&&h("a"+d);function h(e){var n=l[e],s=null;s=a?o(n,t.range):Math.pow(10,n),r(s)||(s=null),i(u+e,s)}}},{"../../lib/to_log_range":467,"fast-isnumeric":149}],309:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("../../plots/array_container_defaults"),a=e("./common_defaults"),s=e("./attributes");function l(e,t,n){function i(n,o){return r.coerce(e,t,s,n,o)}var l=i("visible"),u=i("clicktoshow");if(l||u){a(e,t,n,i);for(var c=t.showarrow,d=["x","y"],f=[-10,-30],h={_fullLayout:n},p=0;p<2;p++){var m=d[p],g=o.coerceRef(e,t,h,m,"","paper");if("paper"!==g){var v=o.getFromId(h,g);v._annIndices.push(t._index)}if(o.coercePosition(t,h,i,g,m,.5),c){var y="a"+m,b=o.coerceRef(e,t,h,y,"pixel");"pixel"!==b&&b!==g&&(b=t[y]="pixel");var _="pixel"===b?f[p]:.4;o.coercePosition(t,h,i,b,y,_)}i(m+"anchor"),i(m+"shift")}if(r.noneOrAll(e,t,["x","y"]),c&&r.noneOrAll(e,t,["ax","ay"]),u){var x=i("xclick"),w=i("yclick");t._xclick=void 0===x?t.x:o.cleanPosition(x,h,t.xref),t._yclick=void 0===w?t.y:o.cleanPosition(w,h,t.yref)}}}t.exports=function(e,t){i(e,t,{name:"annotations",handleItemDefaults:l})}},{"../../lib":441,"../../plots/array_container_defaults":484,"../../plots/cartesian/axes":488,"./attributes":304,"./common_defaults":307}],310:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../registry"),i=e("../../plots/plots"),a=e("../../lib"),s=e("../../plots/cartesian/axes"),l=e("../color"),u=e("../drawing"),c=e("../fx"),d=e("../../lib/svg_text_utils"),f=e("../../lib/setcursor"),h=e("../dragelement"),p=e("../../plot_api/plot_template").arrayEditor,m=e("./draw_arrow_head");function g(e,t){var n=e._fullLayout,r=n.annotations[t]||{},o=s.getFromId(e,r.xref),i=s.getFromId(e,r.yref);v(e,r,t,!1,o,i)}function v(e,t,n,i,s,g){var v,y,b=e._fullLayout,_=e._fullLayout._size,x=e._context.edits;i?(v="annotation-"+i,y=i+".annotations"):(v="annotation",y="annotations");var w=p(e.layout,y,t),k=w.modifyBase,E=w.modifyItem,T=w.getUpdateObj;b._infolayer.selectAll("."+v+'[data-index="'+n+'"]').remove();var A="clip"+b._uid+"_ann"+n;if(t._input&&!1!==t.visible){var S={x:{},y:{}},M=+t.textangle||0,C=b._infolayer.append("g").classed(v,!0).attr("data-index",String(n)).style("opacity",t.opacity),j=C.append("g").classed("annotation-text-g",!0),O=x[t.showarrow?"annotationTail":"annotationPosition"],N=t.captureevents||x.annotationText||O,R=j.append("g").style("pointer-events",N?"all":null).call(f,"pointer").on("click",function(){e._dragging=!1;var o={index:n,annotation:t._input,fullAnnotation:t,event:r.event};i&&(o.subplotId=i),e.emit("plotly_clickannotation",o)});t.hovertext&&R.on("mouseover",function(){var n=t.hoverlabel,r=n.font,o=this.getBoundingClientRect(),i=e.getBoundingClientRect();c.loneHover({x0:o.left-i.left,x1:o.right-i.left,y:(o.top+o.bottom)/2-i.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:e})}).on("mouseout",function(){c.loneUnhover(b._hoverlayer.node())});var P=t.borderwidth,I=t.borderpad,D=P+I,L=R.append("rect").attr("class","bg").style("stroke-width",P+"px").call(l.stroke,t.bordercolor).call(l.fill,t.bgcolor),B=t.width||t.height,F=b._topclips.selectAll("#"+A).data(B?[0]:[]);F.enter().append("clipPath").classed("annclip",!0).attr("id",A).append("rect"),F.exit().remove();var z=t.font,U=R.append("text").classed("annotation-text",!0).text(t.text);x.annotationText?U.call(d.makeEditable,{delegate:R,gd:e}).call(q).on("edit",function(n){t.text=n,this.call(q),E("text",n),s&&s.autorange&&k(s._name+".autorange",!0),g&&g.autorange&&k(g._name+".autorange",!0),o.call("relayout",e,T())}):U.call(q)}else r.selectAll("#"+A).remove();function q(n){return n.call(u.font,z).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),d.convertToTspans(n,e,V),n}function V(){var n=U.selectAll("a");if(1===n.size()&&n.text()===U.text()){var r=R.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"});r.node().appendChild(L.node())}var c=R.select(".annotation-text-math-group"),p=!c.empty(),v=u.bBox((p?c:U).node()),y=v.width,w=v.height,N=t.width||y,I=t.height||w,z=Math.round(N+2*D),q=Math.round(I+2*D);function V(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var H=!1,W=["x","y"],G=0;G<W.length;G++){var X,K,Y,$,Z,Q=W[G],J=t[Q+"ref"]||Q,ee=t["a"+Q+"ref"],te={x:s,y:g}[Q],ne=(M+("x"===Q?0:-90))*Math.PI/180,re=z*Math.cos(ne),oe=q*Math.sin(ne),ie=Math.abs(re)+Math.abs(oe),ae=t[Q+"anchor"],se=t[Q+"shift"]*("x"===Q?1:-1),le=S[Q];if(te){var ue=te.r2fraction(t[Q]);(ue<0||ue>1)&&(ee===J?((ue=te.r2fraction(t["a"+Q]))<0||ue>1)&&(H=!0):H=!0),X=te._offset+te.r2p(t[Q]),$=.5}else"x"===Q?(Y=t[Q],X=_.l+_.w*Y):(Y=1-t[Q],X=_.t+_.h*Y),$=t.showarrow?.5:Y;if(t.showarrow){le.head=X;var ce=t["a"+Q];Z=re*V(.5,t.xanchor)-oe*V(.5,t.yanchor),ee===J?(le.tail=te._offset+te.r2p(ce),K=Z):(le.tail=X+ce,K=Z+ce),le.text=le.tail+Z;var de=b["x"===Q?"width":"height"];if("paper"===J&&(le.head=a.constrain(le.head,1,de-1)),"pixel"===ee){var fe=-Math.max(le.tail-3,le.text),he=Math.min(le.tail+3,le.text)-de;fe>0?(le.tail+=fe,le.text+=fe):he>0&&(le.tail-=he,le.text-=he)}le.tail+=se,le.head+=se}else Z=ie*V($,ae),K=Z,le.text=X+Z;le.text+=se,Z+=se,K+=se,t["_"+Q+"padplus"]=ie/2+K,t["_"+Q+"padminus"]=ie/2-K,t["_"+Q+"size"]=ie,t["_"+Q+"shift"]=Z}if(e._dragging||!H){var pe=0,me=0;if("left"!==t.align&&(pe=(N-y)*("center"===t.align?.5:1)),"top"!==t.valign&&(me=(I-w)*("middle"===t.valign?.5:1)),p)c.select("svg").attr({x:D+pe-1,y:D+me}).call(u.setClipUrl,B?A:null);else{var ge=D+me-v.top,ve=D+pe-v.left;U.call(d.positionText,ve,ge).call(u.setClipUrl,B?A:null)}F.select("rect").call(u.setRect,D,D,N,I),L.call(u.setRect,P/2,P/2,z-P,q-P),R.call(u.setTranslate,Math.round(S.x.text-z/2),Math.round(S.y.text-q/2)),j.attr({transform:"rotate("+M+","+S.x.text+","+S.y.text+")"});var ye,be=function(n,r){C.selectAll(".annotation-arrow-g").remove();var c=S.x.head,d=S.y.head,f=S.x.tail+n,p=S.y.tail+r,v=S.x.text+n,y=S.y.text+r,b=a.rotationXYMatrix(M,v,y),w=a.apply2DTransform(b),A=a.apply2DTransform2(b),O=+L.attr("width"),N=+L.attr("height"),P=v-.5*O,I=P+O,D=y-.5*N,B=D+N,F=[[P,D,P,B],[P,B,I,B],[I,B,I,D],[I,D,P,D]].map(A);if(!F.reduce(function(e,t){return e^!!a.segmentsIntersect(c,d,c+1e6,d+1e6,t[0],t[1],t[2],t[3])},!1)){F.forEach(function(e){var t=a.segmentsIntersect(f,p,c,d,e[0],e[1],e[2],e[3]);t&&(f=t.x,p=t.y)});var z=t.arrowwidth,U=t.arrowcolor,q=t.arrowside,V=C.append("g").style({opacity:l.opacity(U)}).classed("annotation-arrow-g",!0),H=V.append("path").attr("d","M"+f+","+p+"L"+c+","+d).style("stroke-width",z+"px").call(l.stroke,l.rgb(U));if(m(H,q,t),x.annotationPosition&&H.node().parentNode&&!i){var W=c,G=d;if(t.standoff){var X=Math.sqrt(Math.pow(c-f,2)+Math.pow(d-p,2));W+=t.standoff*(f-c)/X,G+=t.standoff*(p-d)/X}var K,Y,$=V.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(f-W)+","+(p-G),transform:"translate("+W+","+G+")"}).style("stroke-width",z+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");h.init({element:$.node(),gd:e,prepFn:function(){var e=u.getTranslate(R);K=e.x,Y=e.y,s&&s.autorange&&k(s._name+".autorange",!0),g&&g.autorange&&k(g._name+".autorange",!0)},moveFn:function(e,n){var r=w(K,Y),o=r[0]+e,i=r[1]+n;R.call(u.setTranslate,o,i),E("x",s?s.p2r(s.r2p(t.x)+e):t.x+e/_.w),E("y",g?g.p2r(g.r2p(t.y)+n):t.y-n/_.h),t.axref===t.xref&&E("ax",s.p2r(s.r2p(t.ax)+e)),t.ayref===t.yref&&E("ay",g.p2r(g.r2p(t.ay)+n)),V.attr("transform","translate("+e+","+n+")"),j.attr({transform:"rotate("+M+","+o+","+i+")"})},doneFn:function(){o.call("relayout",e,T());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};t.showarrow&&be(0,0),O&&h.init({element:R.node(),gd:e,prepFn:function(){ye=j.attr("transform")},moveFn:function(e,n){var r="pointer";if(t.showarrow)t.axref===t.xref?E("ax",s.p2r(s.r2p(t.ax)+e)):E("ax",t.ax+e),t.ayref===t.yref?E("ay",g.p2r(g.r2p(t.ay)+n)):E("ay",t.ay+n),be(e,n);else{if(i)return;var o,a;if(s)o=s.p2r(s.r2p(t.x)+e);else{var l=t._xsize/_.w,u=t.x+(t._xshift-t.xshift)/_.w-l/2;o=h.align(u+e/_.w,l,0,1,t.xanchor)}if(g)a=g.p2r(g.r2p(t.y)+n);else{var c=t._ysize/_.h,d=t.y-(t._yshift+t.yshift)/_.h-c/2;a=h.align(d-n/_.h,c,0,1,t.yanchor)}E("x",o),E("y",a),s&&g||(r=h.getCursor(s?.5:o,g?.5:a,t.xanchor,t.yanchor))}j.attr({transform:"translate("+e+","+n+")"+ye}),f(R,r)},doneFn:function(){f(R),o.call("relayout",e,T());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}else R.remove()}}t.exports={draw:function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&g(e,n);return i.previousPromises(e)},drawOne:g,drawRaw:v}},{"../../lib":441,"../../lib/setcursor":461,"../../lib/svg_text_utils":465,"../../plot_api/plot_template":478,"../../plots/cartesian/axes":488,"../../plots/plots":525,"../../registry":532,"../color":319,"../dragelement":341,"../drawing":344,"../fx":361,"./draw_arrow_head":311,d3:85}],311:[function(e,t,n){"use strict";var r=e("d3"),o=e("../color"),i=e("./arrow_paths");t.exports=function(e,t,n){var a,s,l,u,c=e.node(),d=i[n.arrowhead||0],f=i[n.startarrowhead||0],h=(n.arrowwidth||1)*(n.arrowsize||1),p=(n.arrowwidth||1)*(n.startarrowsize||1),m=t.indexOf("start")>=0,g=t.indexOf("end")>=0,v=d.backoff*h+n.standoff,y=f.backoff*p+n.startstandoff;if("line"===c.nodeName){a={x:+e.attr("x1"),y:+e.attr("y1")},s={x:+e.attr("x2"),y:+e.attr("y2")};var b=a.x-s.x,_=a.y-s.y;if(l=Math.atan2(_,b),u=l+Math.PI,v&&y&&v+y>Math.sqrt(b*b+_*_))return void N();if(v){if(v*v>b*b+_*_)return void N();var x=v*Math.cos(l),w=v*Math.sin(l);s.x+=x,s.y+=w,e.attr({x2:s.x,y2:s.y})}if(y){if(y*y>b*b+_*_)return void N();var k=y*Math.cos(l),E=y*Math.sin(l);a.x-=k,a.y-=E,e.attr({x1:a.x,y1:a.y})}}else if("path"===c.nodeName){var T=c.getTotalLength(),A="";if(T<v+y)return void N();var S=c.getPointAtLength(0),M=c.getPointAtLength(.1);l=Math.atan2(S.y-M.y,S.x-M.x),a=c.getPointAtLength(Math.min(y,T)),A="0px,"+y+"px,";var C=c.getPointAtLength(T),j=c.getPointAtLength(T-.1);u=Math.atan2(C.y-j.y,C.x-j.x),s=c.getPointAtLength(Math.max(0,T-v));var O=A?y+v:v;A+=T-O+"px,"+T+"px",e.style("stroke-dasharray",A)}function N(){e.style("stroke-dasharray","0px,100px")}function R(t,i,a,s){t.path&&(t.noRotate&&(a=0),r.select(c.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:"translate("+i.x+","+i.y+")"+(a?"rotate("+180*a/Math.PI+")":"")+"scale("+s+")"}).style({fill:o.rgb(n.arrowcolor),"stroke-width":0}))}m&&R(f,a,l,p),g&&R(d,s,u,h)}},{"../color":319,"./arrow_paths":303,d3:85}],312:[function(e,t,n){"use strict";var r=e("./draw"),o=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("annotations"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:o.hasClickToShow,onClick:o.onClick,convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":499,"./attributes":304,"./calc_autorange":305,"./click":306,"./convert_coords":308,"./defaults":309,"./draw":310}],313:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),o=e("../../plot_api/edit_types").overrideAll,i=e("../../plot_api/plot_template").templatedArray;t.exports=o(i("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":471,"../../plot_api/plot_template":478,"../annotations/attributes":304}],314:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/cartesian/axes");function i(e,t){var n=t.fullSceneLayout,i=n.domain,a=t.fullLayout._size,s={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,s),o.setConvert(e._xa),e._xa._offset=a.l+i.x[0]*a.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*a.w*(i.x[1]-i.x[0])},e._ya={},r.extendFlat(e._ya,s),o.setConvert(e._ya),e._ya._offset=a.t+(1-i.y[1])*a.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*a.h*(i.y[1]-i.y[0])}}t.exports=function(e){for(var t=e.fullSceneLayout,n=t.annotations,r=0;r<n.length;r++)i(n[r],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":441,"../../plots/cartesian/axes":488}],315:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("../../plots/array_container_defaults"),a=e("../annotations/common_defaults"),s=e("./attributes");function l(e,t,n,i){function l(n,o){return r.coerce(e,t,s,n,o)}function u(e){var r=e+"axis",i={_fullLayout:{}};return i._fullLayout[r]=n[r],o.coercePosition(t,i,l,e,e,.5)}var c=l("visible");c&&(a(e,t,i.fullLayout,l),u("x"),u("y"),u("z"),r.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",l("xanchor"),l("yanchor"),l("xshift"),l("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",l("ax",-10),l("ay",-30),r.noneOrAll(e,t,["ax","ay"])))}t.exports=function(e,t,n){i(e,t,{name:"annotations",handleItemDefaults:l,fullLayout:n.fullLayout})}},{"../../lib":441,"../../plots/array_container_defaults":484,"../../plots/cartesian/axes":488,"../annotations/common_defaults":307,"./attributes":313}],316:[function(e,t,n){"use strict";var r=e("../annotations/draw").drawRaw,o=e("../../plots/gl3d/project"),i=["x","y","z"];t.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,a=t.annotations,s=0;s<a.length;s++){for(var l=a[s],u=!1,c=0;c<3;c++){var d=i[c],f=l[d],h=t[d+"axis"],p=h.r2fraction(f);if(p<0||p>1){u=!0;break}}u?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+s+'"]').remove():(l._pdata=o(e.glplot.cameraParams,[t.xaxis.r2l(l.x)*n[0],t.yaxis.r2l(l.y)*n[1],t.zaxis.r2l(l.z)*n[2]]),r(e.graphDiv,l,s,e.id,l._xa,l._ya))}}},{"../../plots/gl3d/project":522,"../annotations/draw":310}],317:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("../../lib");t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),includeBasePlot:function(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var i=n.attrRegex,a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];i.test(l)&&(e[l].annotations||[]).length&&(o.pushUnique(t._basePlotModules,n),o.pushUnique(t._subplots.gl3d,l))}},convert:e("./convert"),draw:e("./draw")}},{"../../lib":441,"../../registry":532,"./attributes":313,"./convert":314,"./defaults":315,"./draw":316}],318:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],319:[function(e,t,n){"use strict";var r=e("tinycolor2"),o=e("fast-isnumeric"),i=t.exports={},a=e("./attributes");i.defaults=a.defaults;var s=i.defaultLine=a.defaultLine;i.lightLine=a.lightLine;var l=i.background=a.background;function u(e){if(o(e)||"string"!=typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),i="a"===t.charAt(3)&&4===r.length;if(!i&&3!==r.length)return e;for(var a=0;a<r.length;a++){if(!r[a].length)return e;if(r[a]=Number(r[a]),!(r[a]>=0))return e;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return i?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}i.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},i.rgb=function(e){return i.tinyRGB(r(e))},i.opacity=function(e){return e?r(e).getAlpha():0},i.addOpacity=function(e,t){var n=r(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},i.combine=function(e,t){var n=r(e).toRgb();if(1===n.a)return r(e).toRgbString();var o=r(t||l).toRgb(),i=1===o.a?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a},a={r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a};return r(a).toRgbString()},i.contrast=function(e,t,n){var o=r(e);1!==o.getAlpha()&&(o=r(i.combine(e,l)));var a=o.isDark()?t?o.lighten(t):l:n?o.darken(n):s;return a.toString()},i.stroke=function(e,t){var n=r(t);e.style({stroke:i.tinyRGB(n),"stroke-opacity":n.getAlpha()})},i.fill=function(e,t){var n=r(t);e.style({fill:i.tinyRGB(n),"fill-opacity":n.getAlpha()})},i.clean=function(e){if(e&&"object"==typeof e){var t,n,r,o,a=Object.keys(e);for(t=0;t<a.length;t++)if(r=a[t],o=e[r],"color"===r.substr(r.length-5))if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=u(o[n]);else e[r]=u(o);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=u(o[n][1]));else if(Array.isArray(o)){var s=o[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(n=0;n<o.length;n++)i.clean(o[n])}else o&&"object"==typeof o&&i.clean(o)}}},{"./attributes":318,"fast-isnumeric":149,tinycolor2:284}],320:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),o=e("../../plots/font_attributes"),i=e("../../lib/extend").extendFlat,a=e("../../plot_api/edit_types").overrideAll;t.exports=a({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:i({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:o({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{valType:"string"},titlefont:o({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},"colorbars","from-root")},{"../../lib/extend":432,"../../plot_api/edit_types":471,"../../plots/cartesian/layout_attributes":501,"../../plots/font_attributes":515}],321:[function(e,t,n){"use strict";var r=e("./draw");t.exports=function(e,t,n){if("function"==typeof n)return n(e,t);var o=t[0].trace,i="cb"+o.uid,a=n.container,s=a?o[a]:o;if(e._fullLayout._infolayer.selectAll("."+i).remove(),s&&s.showscale){var l=t[0].t.cb=r(e,i);l.fillgradient(s.colorscale).zrange([s[n.min],s[n.max]]).options(s.colorbar)()}}},{"./draw":324}],322:[function(e,t,n){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],323:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plot_api/plot_template"),i=e("../../plots/cartesian/tick_value_defaults"),a=e("../../plots/cartesian/tick_mark_defaults"),s=e("../../plots/cartesian/tick_label_defaults"),l=e("./attributes");t.exports=function(e,t,n){var u=o.newContainer(t,"colorbar"),c=e.colorbar||{};function d(e,t){return r.coerce(c,u,l,e,t)}var f=d("thicknessmode");d("thickness","fraction"===f?30/(n.width-n.margin.l-n.margin.r):30);var h=d("lenmode");d("len","fraction"===h?1:n.height-n.margin.t-n.margin.b),d("x"),d("xanchor"),d("xpad"),d("y"),d("yanchor"),d("ypad"),r.noneOrAll(c,u,["x","y"]),d("outlinecolor"),d("outlinewidth"),d("bordercolor"),d("borderwidth"),d("bgcolor"),i(c,u,d,"linear");var p={outerTicks:!1,font:n.font};s(c,u,d,"linear",p),a(c,u,d,"linear",p),d("title",n._dfltTitle.colorbar),r.coerceFont(d,"titlefont",n.font),d("titleside")}},{"../../lib":441,"../../plot_api/plot_template":478,"../../plots/cartesian/tick_label_defaults":508,"../../plots/cartesian/tick_mark_defaults":509,"../../plots/cartesian/tick_value_defaults":510,"./attributes":320}],324:[function(e,t,n){"use strict";var r=e("d3"),o=e("tinycolor2"),i=e("../../plots/plots"),a=e("../../registry"),s=e("../../plots/cartesian/axes"),l=e("../dragelement"),u=e("../../lib"),c=e("../../lib/extend").extendFlat,d=e("../../lib/setcursor"),f=e("../drawing"),h=e("../color"),p=e("../titles"),m=e("../../lib/svg_text_utils"),g=e("../../constants/alignment"),v=g.LINE_SPACING,y=g.FROM_TL,b=g.FROM_BR,_=e("../../plots/cartesian/axis_defaults"),x=e("../../plots/cartesian/position_defaults"),w=e("../../plots/cartesian/layout_attributes"),k=e("./attributes"),E=e("./constants").cn;t.exports=function(e,t){var n={};for(var g in k)n[g]=null;function T(){var g=e._fullLayout,k=g._size;if("function"==typeof n.fillcolor||"function"==typeof n.line.color||n.fillgradient){var S,M,C=n.zrange||r.extent(("function"==typeof n.fillcolor?n.fillcolor:n.line.color).domain()),j=[],O=[],N="function"==typeof n.line.color?n.line.color:function(){return n.line.color},R="function"==typeof n.fillcolor?n.fillcolor:function(){return n.fillcolor},P=n.levels.end+n.levels.size/100,I=n.levels.size,D=1.001*C[0]-.001*C[1],L=1.001*C[1]-.001*C[0];for(M=0;M<1e5&&(S=n.levels.start+M*I,!(I>0?S>=P:S<=P));M++)S>D&&S<L&&j.push(S);if(n.fillgradient)O=[0];else if("function"==typeof n.fillcolor)if(n.filllevels)for(P=n.filllevels.end+n.filllevels.size/100,I=n.filllevels.size,M=0;M<1e5&&(S=n.filllevels.start+M*I,!(I>0?S>=P:S<=P));M++)S>C[0]&&S<C[1]&&O.push(S);else(O=j.map(function(e){return e-n.levels.size/2})).push(O[O.length-1]+n.levels.size);else n.fillcolor&&"string"==typeof n.fillcolor&&(O=[0]);n.levels.size<0&&(j.reverse(),O.reverse());var B,F=k.h,z=k.w,U=Math.round(n.thickness*("fraction"===n.thicknessmode?z:1)),q=U/k.w,V=Math.round(n.len*("fraction"===n.lenmode?F:1)),H=V/k.h,W=n.xpad/k.w,G=(n.borderwidth+n.outlinewidth)/2,X=n.ypad/k.h,K=Math.round(n.x*k.w+n.xpad),Y=n.x-q*({middle:.5,right:1}[n.xanchor]||0),$=n.y+H*(({top:-.5,bottom:.5}[n.yanchor]||0)-.5),Z=Math.round(k.h*(1-$)),Q=Z-V,J={type:"linear",range:C,tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,exponentformat:n.exponentformat,separatethousands:n.separatethousands,showexponent:n.showexponent,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,title:n.title,titlefont:n.titlefont,showline:!0,anchor:"free",position:1},ee={type:"linear",_id:"y"+t},te={letter:"y",font:g.font,noHover:!0,calendar:g.calendar};if(_(J,ee,ge,te,g),x(J,ee,ge,te),ee.position=n.x+W+q,T.axis=ee,-1!==["top","bottom"].indexOf(n.titleside)&&(ee.titleside=n.titleside,ee.titlex=n.x+W,ee.titley=$+("top"===n.titleside?H-X:X)),n.line.color&&"auto"===n.tickmode){ee.tickmode="linear",ee.tick0=n.levels.start;var ne=n.levels.size,re=u.constrain((Z-Q)/50,4,15)+1,oe=(C[1]-C[0])/((n.nticks||re)*ne);if(oe>1){var ie=Math.pow(10,Math.floor(Math.log(oe)/Math.LN10));ne*=ie*u.roundUp(oe/ie,[2,5,10]),(Math.abs(n.levels.start)/n.levels.size+1e-6)%1<2e-6&&(ee.tick0=0)}ee.dtick=ne}ee.domain=[$+X,$+H-X],ee.setScale();var ae=u.ensureSingle(g._infolayer,"g",t,function(e){e.classed(E.colorbar,!0).each(function(){var e=r.select(this);e.append("rect").classed(E.cbbg,!0),e.append("g").classed(E.cbfills,!0),e.append("g").classed(E.cblines,!0),e.append("g").classed(E.cbaxis,!0).classed(E.crisp,!0),e.append("g").classed(E.cbtitleunshift,!0).append("g").classed(E.cbtitle,!0),e.append("rect").classed(E.cboutline,!0),e.select(".cbtitle").datum(0)})});ae.attr("transform","translate("+Math.round(k.l)+","+Math.round(k.t)+")");var se=ae.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(k.l)+",-"+Math.round(k.t)+")");ee._axislayer=ae.select(".cbaxis");var le=0;if(-1!==["top","bottom"].indexOf(n.titleside)){var ue,ce=k.l+(n.x+W)*k.w,de=ee.titlefont.size;ue="top"===n.titleside?(1-($+H-X))*k.h+k.t+3+.75*de:(1-($+X))*k.h+k.t-3-.25*de,ve(ee._id+"title",{attributes:{x:ce,y:ue,"text-anchor":"start"}})}var fe,he,pe,me=u.syncOrAsync([i.previousPromises,function(){if(-1!==["top","bottom"].indexOf(n.titleside)){var i=ae.select(".cbtitle"),a=i.select("text"),l=[-n.outlinewidth/2,n.outlinewidth/2],c=i.select(".h"+ee._id+"title-math-group").node(),d=15.6;if(a.node()&&(d=parseInt(a.node().style.fontSize,10)*v),c?(le=f.bBox(c).height)>d&&(l[1]-=(le-d)/2):a.node()&&!a.classed(E.jsPlaceholder)&&(le=f.bBox(a.node()).height),le){if(le+=5,"top"===n.titleside)ee.domain[1]-=le/k.h,l[1]*=-1;else{ee.domain[0]+=le/k.h;var h=m.lineCount(a);l[1]+=(1-h)*d}i.attr("transform","translate("+l+")"),ee.setScale()}}ae.selectAll(".cbfills,.cblines").attr("transform","translate(0,"+Math.round(k.h*(1-ee.domain[1]))+")"),ee._axislayer.attr("transform","translate(0,"+Math.round(-k.t)+")");var p=ae.select(".cbfills").selectAll("rect.cbfill").data(O);p.enter().append("rect").classed(E.cbfill,!0).style("stroke","none"),p.exit().remove();var y=C.map(ee.c2p).map(Math.round).sort(function(e,t){return e-t});p.each(function(i,a){var s=[0===a?C[0]:(O[a]+O[a-1])/2,a===O.length-1?C[1]:(O[a]+O[a+1])/2].map(ee.c2p).map(Math.round);s[1]=u.constrain(s[1]+(s[1]>s[0])?1:-1,y[0],y[1]);var l=r.select(this).attr({x:K,width:Math.max(U,2),y:r.min(s),height:Math.max(r.max(s)-r.min(s),2)});if(n.fillgradient)f.gradient(l,e,t,"vertical",n.fillgradient,"fill");else{var c=R(i).replace("e-","");l.attr("fill",o(c).toHexString())}});var b=ae.select(".cblines").selectAll("path.cbline").data(n.line.color&&n.line.width?j:[]);return b.enter().append("path").classed(E.cbline,!0),b.exit().remove(),b.each(function(e){r.select(this).attr("d","M"+K+","+(Math.round(ee.c2p(e))+n.line.width/2%1)+"h"+U).call(f.lineGroupStyle,n.line.width,N(e),n.line.dash)}),ee._axislayer.selectAll("g."+ee._id+"tick,path").remove(),ee._pos=K+U+(n.outlinewidth||0)/2-("outside"===n.ticks?1:0),ee.side="right",u.syncOrAsync([function(){return s.doTicksSingle(e,ee,!0)},function(){if(-1===["top","bottom"].indexOf(n.titleside)){var t=ee.titlefont.size,o=ee._offset+ee._length/2,i=k.l+(ee.position||0)*k.w+("right"===ee.side?10+t*(ee.showticklabels?1:.5):-10-t*(ee.showticklabels?.5:0));ve("h"+ee._id+"title",{avoid:{selection:r.select(e).selectAll("g."+ee._id+"tick"),side:n.titleside,offsetLeft:k.l,offsetTop:0,maxShift:g.width},attributes:{x:i,y:o,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])},i.previousPromises,function(){var r=U+n.outlinewidth/2+f.bBox(ee._axislayer.node()).width;if((B=se.select("text")).node()&&!B.classed(E.jsPlaceholder)){var o,a=se.select(".h"+ee._id+"title-math-group").node();o=a&&-1!==["top","bottom"].indexOf(n.titleside)?f.bBox(a).width:f.bBox(se.node()).right-K-k.l,r=Math.max(r,o)}var s=2*n.xpad+r+n.borderwidth+n.outlinewidth/2,l=Z-Q;ae.select(".cbbg").attr({x:K-n.xpad-(n.borderwidth+n.outlinewidth)/2,y:Q-G,width:Math.max(s,2),height:Math.max(l+2*G,2)}).call(h.fill,n.bgcolor).call(h.stroke,n.bordercolor).style({"stroke-width":n.borderwidth}),ae.selectAll(".cboutline").attr({x:K,y:Q+n.ypad+("top"===n.titleside?le:0),width:Math.max(U,2),height:Math.max(l-2*n.ypad-le,2)}).call(h.stroke,n.outlinecolor).style({fill:"None","stroke-width":n.outlinewidth});var u=({center:.5,right:1}[n.xanchor]||0)*s;ae.attr("transform","translate("+(k.l-u)+","+k.t+")");var c={},d=y[n.yanchor],p=b[n.yanchor];"pixels"===n.lenmode?(c.y=n.y,c.t=l*d,c.b=l*p):(c.t=c.b=0,c.yt=n.y+n.len*d,c.yb=n.y-n.len*p);var m=y[n.xanchor],g=b[n.xanchor];if("pixels"===n.thicknessmode)c.x=n.x,c.l=s*m,c.r=s*g;else{var v=s-U;c.l=v*m,c.r=v*g,c.xl=n.x-n.thickness*m,c.xr=n.x+n.thickness*g}i.autoMargin(e,t,c)}],e);return me&&me.then&&(e._promises||[]).push(me),e._context.edits.colorbarPosition&&l.init({element:ae.node(),gd:e,prepFn:function(){fe=ae.attr("transform"),d(ae)},moveFn:function(e,t){ae.attr("transform",fe+" translate("+e+","+t+")"),he=l.align(Y+e/k.w,q,0,1,n.xanchor),pe=l.align($-t/k.h,H,0,1,n.yanchor);var r=l.getCursor(he,pe,n.xanchor,n.yanchor);d(ae,r)},doneFn:function(){d(ae),void 0!==he&&void 0!==pe&&a.call("restyle",e,{"colorbar.x":he,"colorbar.y":pe},A().index)}}),me}function ge(e,t){return u.coerce(J,ee,w,e,t)}function ve(t,n){var r=A(),o="colorbar.title",i=r._module.colorbar.container;i&&(o=i+"."+o);var a={propContainer:ee,propName:o,traceIndex:r.index,placeholder:g._dfltTitle.colorbar,containerGroup:ae.select(".cbtitle")},s="h"===t.charAt(0)?t.substr(1):"h"+t;ae.selectAll("."+s+",."+s+"-math-group").remove(),p.draw(e,t,c(a,n||{}))}g._infolayer.selectAll("g."+t).remove()}function A(){var n,r,o=t.substr(2);for(n=0;n<e._fullData.length;n++)if((r=e._fullData[n]).uid===o)return r}return n.fillcolor=null,n.line={color:null,width:null,dash:null},n.levels={start:null,end:null,size:null},n.filllevels=null,n.fillgradient=null,n.zrange=null,Object.keys(n).forEach(function(e){T[e]=function(t){return arguments.length?(n[e]=u.isPlainObject(n[e])?u.extendFlat(n[e],t):t,T):n[e]}}),T.options=function(e){for(var t in e)"function"==typeof T[t]&&T[t](e[t]);return T},T._opts=n,T}},{"../../constants/alignment":417,"../../lib":441,"../../lib/extend":432,"../../lib/setcursor":461,"../../lib/svg_text_utils":465,"../../plots/cartesian/axes":488,"../../plots/cartesian/axis_defaults":490,"../../plots/cartesian/layout_attributes":501,"../../plots/cartesian/position_defaults":504,"../../plots/plots":525,"../../registry":532,"../color":319,"../dragelement":341,"../drawing":344,"../titles":410,"./attributes":320,"./constants":322,d3:85,tinycolor2:284}],325:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":441}],326:[function(e,t,n){"use strict";var r=e("./scales.js");function o(e){return"`"+e+"`"}Object.keys(r),t.exports=function(e,t){e=e||"";var n,i=(t=t||{}).cLetter||"c",a=("onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e),"noScale"in t?t.noScale:"marker.line"===e),s="showScaleDflt"in t?t.showScaleDflt:"z"===i,l="string"==typeof t.colorscaleDflt?r[t.colorscaleDflt]:null,u=t.editTypeOverride||"",c=e?e+".":"";"colorAttr"in t?(n=t.colorAttr,t.colorAttr):o(c+(n={z:"z",c:"color"}[i]));var d=i+"auto",f=i+"min",h=i+"max",p=(o(c+f),o(c+h),{});p[f]=p[h]=void 0;var m={};m[d]=!1;var g={};return"color"===n&&(g.color={valType:"color",arrayOk:!0,editType:u||"style"}),g[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:p},g[f]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:m},g[h]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:m},g.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},g.autocolorscale={valType:"boolean",dflt:!1!==t.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},g.reversescale={valType:"boolean",dflt:!1,editType:"calc"},a||(g.showscale={valType:"boolean",dflt:s,editType:"calc"}),g}},{"./scales.js":338}],327:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./scales"),i=e("./flip_scale");t.exports=function(e,t,n,a){var s=e,l=e._input,u=e._fullInput,c=e.updateStyle;function d(t,r,o){void 0===o&&(o=r),c?c(e._input,n?n+"."+t:t,r):l[t]=r,s[t]=o,u&&e!==e._fullInput&&(c?c(e._fullInput,n?n+"."+t:t,o):u[t]=o)}n&&(s=r.nestedProperty(s,n).get(),l=r.nestedProperty(l,n).get(),u=r.nestedProperty(u,n).get()||{});var f=a+"auto",h=a+"min",p=a+"max",m=s[f],g=s[h],v=s[p],y=s.colorscale;!1===m&&void 0!==g||(g=r.aggNums(Math.min,null,t)),!1===m&&void 0!==v||(v=r.aggNums(Math.max,null,t)),g===v&&(g-=.5,v+=.5),d(h,g),d(p,v),d(f,!1!==m||void 0===g&&void 0===v),s.autocolorscale&&(d("colorscale",y=g*v<0?o.RdBu:g>=0?o.Reds:o.Blues,s.reversescale?i(y):y),l.autocolorscale||d("autocolorscale",!1))}},{"../../lib":441,"./flip_scale":331,"./scales":338}],328:[function(e,t,n){"use strict";var r=e("./scales");t.exports=r.RdBu},{"./scales":338}],329:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib"),i=e("../colorbar/has_colorbar"),a=e("../colorbar/defaults"),s=e("./is_valid_scale"),l=e("./flip_scale");t.exports=function(e,t,n,u,c){var d,f=c.prefix,h=c.cLetter,p=f.slice(0,f.length-1),m=f?o.nestedProperty(e,p).get()||{}:e,g=f?o.nestedProperty(t,p).get()||{}:t,v=m[h+"min"],y=m[h+"max"],b=m.colorscale,_=r(v)&&r(y)&&v<y;u(f+h+"auto",!_),u(f+h+"min"),u(f+h+"max"),void 0!==b&&(d=!s(b)),u(f+"autocolorscale",d);var x=u(f+"colorscale"),w=u(f+"reversescale");if(w&&(g.colorscale=l(x)),"marker.line."!==f&&!c.noScale){var k;f&&(k=i(m));var E=u(f+"showscale",k);E&&a(m,g,n)}}},{"../../lib":441,"../colorbar/defaults":323,"../colorbar/has_colorbar":325,"./flip_scale":331,"./is_valid_scale":335,"fast-isnumeric":149}],330:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var r=e.length,o=new Array(r),i=new Array(r),a=0;a<r;a++){var s=e[a];o[a]=t+s[0]*(n-t),i[a]=s[1]}return{domain:o,range:i}}},{}],331:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=new Array(n),o=n-1,i=0;o>=0;o--,i++)t=e[o],r[i]=[1-t[0],t[1]];return r}},{}],332:[function(e,t,n){"use strict";var r=e("./scales"),o=e("./default_scale"),i=e("./is_valid_scale_array");t.exports=function(e,t){if(t||(t=o),!e)return t;function n(){try{e=r[e]||JSON.parse(e)}catch(n){e=t}}return"string"==typeof e&&(n(),"string"==typeof e&&n()),i(e)?e:t}},{"./default_scale":328,"./is_valid_scale_array":336,"./scales":338}],333:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib"),i=e("./is_valid_scale");t.exports=function(e,t){var n=t?o.nestedProperty(e,t).get()||{}:e,a=n.color,s=!1;if(o.isArrayOrTypedArray(a))for(var l=0;l<a.length;l++)if(r(a[l])){s=!0;break}return o.isPlainObject(n)&&(s||!0===n.showscale||r(n.cmin)&&r(n.cmax)||i(n.colorscale)||o.isPlainObject(n.colorbar))}},{"../../lib":441,"./is_valid_scale":335,"fast-isnumeric":149}],334:[function(e,t,n){"use strict";n.scales=e("./scales"),n.defaultScale=e("./default_scale"),n.attributes=e("./attributes"),n.handleDefaults=e("./defaults"),n.calc=e("./calc"),n.hasColorscale=e("./has_colorscale"),n.isValidScale=e("./is_valid_scale"),n.getScale=e("./get_scale"),n.flipScale=e("./flip_scale"),n.extractScale=e("./extract_scale"),n.makeColorScaleFunc=e("./make_color_scale_func")},{"./attributes":326,"./calc":327,"./default_scale":328,"./defaults":329,"./extract_scale":330,"./flip_scale":331,"./get_scale":332,"./has_colorscale":333,"./is_valid_scale":335,"./make_color_scale_func":337,"./scales":338}],335:[function(e,t,n){"use strict";var r=e("./scales"),o=e("./is_valid_scale_array");t.exports=function(e){return void 0!==r[e]||o(e)}},{"./is_valid_scale_array":336,"./scales":338}],336:[function(e,t,n){"use strict";var r=e("tinycolor2");t.exports=function(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!=+e[0][0]||1!=+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var o=e[n];if(2!==o.length||+o[0]<t||!r(o[1]).isValid())return!1;t=+o[0]}return!0}},{tinycolor2:284}],337:[function(e,t,n){"use strict";var r=e("d3"),o=e("tinycolor2"),i=e("fast-isnumeric"),a=e("../color");function s(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return o(t).toRgbString()}t.exports=function(e,t){t=t||{};for(var n=e.domain,l=e.range,u=l.length,c=new Array(u),d=0;d<u;d++){var f=o(l[d]).toRgb();c[d]=[f.r,f.g,f.b,f.a]}var h,p=r.scale.linear().domain(n).range(c).clamp(!0),m=t.noNumericCheck,g=t.returnArray;return(h=m&&g?p:m?function(e){return s(p(e))}:g?function(e){return i(e)?p(e):o(e).isValid()?e:a.defaultLine}:function(e){return i(e)?s(p(e)):o(e).isValid()?e:a.defaultLine}).domain=p.domain,h.range=function(){return l},h}},{"../color":319,d3:85,"fast-isnumeric":149,tinycolor2:284}],338:[function(e,t,n){"use strict";t.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]}},{}],339:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,o){var i=(e-n)/(r-n),a=i+t/(r-n),s=(i+a)/2;return"left"===o||"bottom"===o?i:"center"===o||"middle"===o?s:"right"===o||"top"===o?a:i<2/3-s?i:a>4/3-s?a:s}},{}],340:[function(e,t,n){"use strict";var r=e("../../lib"),o=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,i){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:r.constrain(Math.floor(3*t),0,2),o[t][e]}},{"../../lib":441}],341:[function(e,t,n){"use strict";var r=e("mouse-event-offset"),o=e("has-hover"),i=e("has-passive-events"),a=e("../../registry"),s=e("../../lib"),l=e("../../plots/cartesian/constants"),u=e("../../constants/interactions"),c=t.exports={};c.align=e("./align"),c.getCursor=e("./cursor");var d=e("./unhover");function f(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function h(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}c.unhover=d.wrapped,c.unhoverRaw=d.raw,c.init=function(e){var t,n,r,d,p,m,g,v,y=e.gd,b=1,_=u.DBLCLICKDELAY,x=e.element;y._mouseDownTime||(y._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=k,i?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=k,x.addEventListener("touchstart",k,{passive:!1})):x.ontouchstart=k;var w=e.clampFn||function(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]};function k(i){i.preventDefault(),y._dragged=!1,y._dragging=!0;var a=h(i);t=a[0],n=a[1],g=i.target,m=i,v=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=t,i.clientY=n),(r=(new Date).getTime())-y._mouseDownTime<_?b+=1:(b=1,y._mouseDownTime=r),e.prepFn&&e.prepFn(i,t,n),o&&!v?(p=f()).style.cursor=window.getComputedStyle(x).cursor:o||(p=document,d=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mousemove",E),document.addEventListener("mouseup",T),document.addEventListener("touchmove",E),document.addEventListener("touchend",T)}function E(r){r.preventDefault();var o=h(r),i=e.minDrag||l.MINDRAG,a=w(o[0]-t,o[1]-n,i),s=a[0],u=a[1];(s||u)&&(y._dragged=!0,c.unhover(y)),y._dragged&&e.moveFn&&!v&&e.moveFn(s,u)}function T(t){if(document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",T),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",T),t.preventDefault(),o?s.removeElement(p):d&&(p.documentElement.style.cursor=d,d=null),y._dragging){if(y._dragging=!1,(new Date).getTime()-y._mouseDownTime>_&&(b=Math.max(b-1,1)),y._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(b,m),!v){var n;try{n=new MouseEvent("click",t)}catch(e){var r=h(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}g.dispatchEvent(n)}!function(e){e._dragging=!1,e._replotPending&&a.call("plot",e)}(y),y._dragged=!1}else y._dragged=!1}},c.coverSlip=f},{"../../constants/interactions":419,"../../lib":441,"../../plots/cartesian/constants":494,"../../registry":532,"./align":339,"./cursor":340,"./unhover":342,"has-hover":200,"has-passive-events":201,"mouse-event-offset":215}],342:[function(e,t,n){"use strict";var r=e("../../lib/events"),o=e("../../lib/throttle"),i=e("../../lib/get_graph_div"),a=e("../fx/constants"),s=t.exports={};s.wrapped=function(e,t,n){(e=i(e))._fullLayout&&o.clear(e._fullLayout._uid+a.HOVERID),s.raw(e,t,n)},s.raw=function(e,t){var n=e._fullLayout,o=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&o&&e.emit("plotly_unhover",{event:t,points:o}))}},{"../../lib/events":431,"../../lib/get_graph_div":436,"../../lib/throttle":466,"../fx/constants":356}],343:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],344:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("tinycolor2"),a=e("../../registry"),s=e("../color"),l=e("../colorscale"),u=e("../../lib"),c=e("../../lib/svg_text_utils"),d=e("../../constants/xmlns_namespaces"),f=e("../../constants/alignment"),h=f.LINE_SPACING,p=e("../../constants/interactions").DESELECTDIM,m=e("../../traces/scatter/subtypes"),g=e("../../traces/scatter/make_bubble_size_func"),v=t.exports={};v.font=function(e,t,n,r){u.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(s.fill,r)},v.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},v.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},v.setRect=function(e,t,n,r,o){e.call(v.setPosition,t,n).call(v.setSize,r,o)},v.translatePoint=function(e,t,n,r){var i=n.c2p(e.x),a=r.c2p(e.y);return!!(o(i)&&o(a)&&t.node())&&("text"===t.node().nodeName?t.attr("x",i).attr("y",a):t.attr("transform","translate("+i+","+a+")"),!0)},v.translatePoints=function(e,t,n){e.each(function(e){var o=r.select(this);v.translatePoint(e,o,t,n)})},v.hideOutsideRangePoint=function(e,t,n,r,o,i){t.attr("display",n.isPtWithinRange(e,o)&&r.isPtWithinRange(e,i)?null:"none")},v.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,o=t.yaxis;e.each(function(t){var i=t[0].trace,a=i.xcalendar,s=i.ycalendar,l="bar"===i.type?".bartext":".point,.textpoint";e.selectAll(l).each(function(e){v.hideOutsideRangePoint(e,r.select(this),n,o,a,s)})})}},v.crispRound=function(e,t,n){return t&&o(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},v.singleLineStyle=function(e,t,n,r,o){t.style("fill","none");var i=(((e||[])[0]||{}).trace||{}).line||{},a=n||i.width||0,l=o||i.dash||"";s.stroke(t,r||i.color),v.dashLine(t,l,a)},v.lineGroupStyle=function(e,t,n,o){e.style("fill","none").each(function(e){var i=(((e||[])[0]||{}).trace||{}).line||{},a=t||i.width||0,l=o||i.dash||"";r.select(this).call(s.stroke,n||i.color).call(v.dashLine,l,a)})},v.dashLine=function(e,t,n){n=+n||0,t=v.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},v.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},v.singleFillStyle=function(e){var t=r.select(e.node()),n=t.data(),o=(((n[0]||[])[0]||{}).trace||{}).fillcolor;o&&e.call(s.fill,o)},v.fillGroupStyle=function(e){e.style("stroke-width",0).each(function(e){var t=r.select(this);t.call(s.fill,e[0].trace.fillcolor)})};var y=e("./symbol_defs");v.symbolNames=[],v.symbolFuncs=[],v.symbolNeedLines={},v.symbolNoDot={},v.symbolNoFill={},v.symbolList=[],Object.keys(y).forEach(function(e){var t=y[e];v.symbolList=v.symbolList.concat([t.n,e,t.n+100,e+"-open"]),v.symbolNames[t.n]=e,v.symbolFuncs[t.n]=t.f,t.needLine&&(v.symbolNeedLines[t.n]=!0),t.noDot?v.symbolNoDot[t.n]=!0:v.symbolList=v.symbolList.concat([t.n+200,e+"-dot",t.n+300,e+"-open-dot"]),t.noFill&&(v.symbolNoFill[t.n]=!0)});var b=v.symbolNames.length,_="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function x(e,t){var n=e%100;return v.symbolFuncs[n](t)+(e>=200?_:"")}v.symbolNumber=function(e){if("string"==typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),(e=v.symbolNames.indexOf(e))>=0&&(e+=t)}return e%100>=b||e>=400?0:Math.floor(Math.max(e,0))};var w={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0},E=r.format("~.1f"),T={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:w},horizontalreversed:{node:"linearGradient",attrs:w,reversed:!0},vertical:{node:"linearGradient",attrs:k},verticalreversed:{node:"linearGradient",attrs:k,reversed:!0}};v.gradient=function(e,t,n,o,a,l){for(var c=a.length,d=T[o],f=new Array(c),h=0;h<c;h++)d.reversed?f[c-1-h]=[E(100*(1-a[h][0])),a[h][1]]:f[h]=[E(100*a[h][0]),a[h][1]];var p="g"+t._fullLayout._uid+"-"+n,m=t._fullLayout._defs.select(".gradients").selectAll("#"+p).data([o+f.join(";")],u.identity);m.exit().remove(),m.enter().append(d.node).each(function(){var e=r.select(this);d.attrs&&e.attr(d.attrs),e.attr("id",p);var t=e.selectAll("stop").data(f);t.exit().remove(),t.enter().append("stop"),t.each(function(e){var t=i(e[1]);r.select(this).attr({offset:e[0]+"%","stop-color":s.tinyRGB(t),"stop-opacity":t.getAlpha()})})}),e.style(l,"url(#"+p+")").style(l+"-opacity",null)},v.initGradients=function(e){var t=u.ensureSingle(e._fullLayout._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove()},v.pointStyle=function(e,t,n){if(e.size()){var o=v.makePointStyleFns(t);e.each(function(e){v.singlePointStyle(e,r.select(this),t,o,n)})}},v.singlePointStyle=function(e,t,n,r,o){var i=n.marker,a=i.line;if(t.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(e):void 0===e.mo?i.opacity:e.mo),r.ms2mrc){var l;l="various"===e.ms||"various"===i.size?3:r.ms2mrc(e.ms),e.mrc=l,r.selectedSizeFn&&(l=e.mrc=r.selectedSizeFn(e));var c=v.symbolNumber(e.mx||i.symbol)||0;e.om=c%200>=100,t.attr("d",x(c,l))}var d,f,h,p=!1;if(e.so)h=a.outlierwidth,f=a.outliercolor,d=i.outliercolor;else{var m=(a||{}).width;h=(e.mlw+1||m+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,f="mlc"in e?e.mlcc=r.lineScale(e.mlc):u.isArrayOrTypedArray(a.color)?s.defaultLine:a.color,u.isArrayOrTypedArray(i.color)&&(d=s.defaultLine,p=!0),d="mc"in e?e.mcc=r.markerScale(e.mc):i.color||"rgba(0,0,0,0)",r.selectedColorFn&&(d=r.selectedColorFn(e))}if(e.om)t.call(s.stroke,d).style({"stroke-width":(h||1)+"px",fill:"none"});else{t.style("stroke-width",h+"px");var g=i.gradient,y=e.mgt;if(y?p=!0:y=g&&g.type,Array.isArray(y)&&(y=y[0],T[y]||(y=0)),y&&"none"!==y){var b=e.mgc;b?p=!0:b=g.color;var _=n.uid;p&&(_+="-"+e.i),v.gradient(t,o,_,y,[[0,b],[1,d]],"fill")}else s.fill(t,d);h&&s.stroke(t,f)}},v.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=v.tryColorscale(n,""),t.lineScale=v.tryColorscale(n,"line"),a.traceIs(e,"symbols")&&(t.ms2mrc=m.isBubble(e)?g(e):function(){return(n.size||6)/2}),e.selectedpoints&&u.extendFlat(t,v.makeSelectedPointStyleFns(e)),t},v.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},o=e.marker||{},i=n.marker||{},s=r.marker||{},l=o.opacity,c=i.opacity,d=s.opacity,f=void 0!==c,h=void 0!==d;(u.isArrayOrTypedArray(l)||f||h)&&(t.selectedOpacityFn=function(e){var t=void 0===e.mo?o.opacity:e.mo;return e.selected?f?c:t:h?d:p*t});var m=o.color,g=i.color,v=s.color;(g||v)&&(t.selectedColorFn=function(e){var t=e.mcc||m;return e.selected?g||t:v||t});var y=o.size,b=i.size,_=s.size,x=void 0!==b,w=void 0!==_;return a.traceIs(e,"symbols")&&(x||w)&&(t.selectedSizeFn=function(e){var t=e.mrc||y/2;return e.selected?x?b/2:t:w?_/2:t}),t},v.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},o=e.textfont||{},i=n.textfont||{},a=r.textfont||{},l=o.color,u=i.color,c=a.color;return t.selectedTextColorFn=function(e){var t=e.tc||l;return e.selected?u||t:c||(u?t:s.addOpacity(t,p))},t},v.selectedPointStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=v.makeSelectedPointStyleFns(t),o=t.marker||{},i=[];n.selectedOpacityFn&&i.push(function(e,t){e.style("opacity",n.selectedOpacityFn(t))}),n.selectedColorFn&&i.push(function(e,t){s.fill(e,n.selectedColorFn(t))}),n.selectedSizeFn&&i.push(function(e,t){var r=t.mx||o.symbol||0,i=n.selectedSizeFn(t);e.attr("d",x(v.symbolNumber(r),i)),t.mrc2=i}),i.length&&e.each(function(e){for(var t=r.select(this),n=0;n<i.length;n++)i[n](t,e)})}},v.tryColorscale=function(e,t){var n=t?u.nestedProperty(e,t).get():e;if(n){var r=n.colorscale,o=n.color;if(r&&u.isArrayOrTypedArray(o))return l.makeColorScaleFunc(l.extractScale(r,n.cmin,n.cmax))}return u.identity};var A={start:1,end:-1,middle:0,bottom:1,top:-1};function S(e,t,n,o){var i=r.select(e.node().parentNode),a=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",s=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",l=o?o/.8+1:0,u=(c.lineCount(e)-1)*h+1,d=A[s]*l,f=.75*n+A[a]*l+(A[a]-1)*u*n/2;e.attr("text-anchor",s),i.attr("transform","translate("+d+","+f+")")}function M(e,t){var n=e.ts||t.textfont.size;return o(n)&&n>0?n:0}v.textPointStyle=function(e,t,n){if(e.size()){var o;if(t.selectedpoints){var i=v.makeSelectedTextStyleFns(t);o=i.selectedTextColorFn}e.each(function(e){var i=r.select(this),a=u.extractOption(e,t,"tx","text");if(a||0===a){var s=e.tp||t.textposition,l=M(e,t),d=o?o(e):e.tc||t.textfont.color;i.call(v.font,e.tf||t.textfont.family,l,d).text(a).call(c.convertToTspans,n).call(S,s,l,e.mrc)}else i.remove()})}},v.selectedTextStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=v.makeSelectedTextStyleFns(t);e.each(function(e){var o=r.select(this),i=n.selectedTextColorFn(e),a=e.tp||t.textposition,l=M(e,t);s.fill(o,i),S(o,a,l,e.mrc2||e.mrc)})}};var C=.5;function j(e,t,n,o){var i=e[0]-t[0],a=e[1]-t[1],s=n[0]-t[0],l=n[1]-t[1],u=Math.pow(i*i+a*a,C/2),c=Math.pow(s*s+l*l,C/2),d=(c*c*i-u*u*s)*o,f=(c*c*a-u*u*l)*o,h=3*c*(u+c),p=3*u*(u+c);return[[r.round(t[0]+(h&&d/h),2),r.round(t[1]+(h&&f/h),2)],[r.round(t[0]-(p&&d/p),2),r.round(t[1]-(p&&f/p),2)]]}v.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],o=[];for(n=1;n<e.length-1;n++)o.push(j(e[n-1],e[n],e[n+1],t));for(r+="Q"+o[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+o[n-2][1]+" "+o[n-1][0]+" "+e[n];return r+="Q"+o[e.length-3][1]+" "+e[e.length-1]},v.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],o=e.length-1,i=[j(e[o],e[0],e[1],t)];for(n=1;n<o;n++)i.push(j(e[n-1],e[n],e[n+1],t));for(i.push(j(e[o-1],e[o],e[0],t)),n=1;n<=o;n++)r+="C"+i[n-1][1]+" "+i[n][0]+" "+e[n];return r+="C"+i[o][1]+" "+i[0][0]+" "+e[0]+"Z"};var O={hv:function(e,t){return"H"+r.round(t[0],2)+"V"+r.round(t[1],2)},vh:function(e,t){return"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},hvh:function(e,t){return"H"+r.round((e[0]+t[0])/2,2)+"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},vhv:function(e,t){return"V"+r.round((e[1]+t[1])/2,2)+"H"+r.round(t[0],2)+"V"+r.round(t[1],2)}},N=function(e,t){return"L"+r.round(t[0],2)+","+r.round(t[1],2)};v.steps=function(e){var t=O[e]||N;return function(e){for(var n="M"+r.round(e[0][0],2)+","+r.round(e[0][1],2),o=1;o<e.length;o++)n+=t(e[o-1],e[o]);return n}},v.makeTester=function(){var e=u.ensureSingleById(r.select("body"),"svg","js-plotly-tester",function(e){e.attr(d.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),t=u.ensureSingle(e,"path","js-reference-point",function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});v.tester=e,v.testref=t},v.savedBBoxes={};var R=0;function P(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}v.bBox=function(e,t,n){var o,i,a;if(n||(n=P(e)),n){if(o=v.savedBBoxes[n])return u.extendFlat({},o)}else if(1===e.childNodes.length){var s=e.childNodes[0];if(n=P(s)){var l=+s.getAttribute("x")||0,d=+s.getAttribute("y")||0,f=s.getAttribute("transform");if(!f){var h=v.bBox(s,!1,n);return l&&(h.left+=l,h.right+=l),d&&(h.top+=d,h.bottom+=d),h}if(n+="~"+l+"~"+d+"~"+f,o=v.savedBBoxes[n])return u.extendFlat({},o)}}t?i=e:(a=v.tester.node(),i=e.cloneNode(!0),a.appendChild(i)),r.select(i).attr("transform",null).call(c.positionText,0,0);var p=i.getBoundingClientRect(),m=v.testref.node().getBoundingClientRect();t||a.removeChild(i);var g={height:p.height,width:p.width,left:p.left-m.left,top:p.top-m.top,right:p.right-m.left,bottom:p.bottom-m.top};return R>=1e4&&(v.savedBBoxes={},R=0),n&&(v.savedBBoxes[n]=g),R++,u.extendFlat({},g)},v.setClipUrl=function(e,t){if(t){if(void 0===v.baseUrl){var n=r.select("base");n.size()&&n.attr("href")?v.baseUrl=window.location.href.split("#")[0]:v.baseUrl=""}e.attr("clip-path","url("+v.baseUrl+"#"+t+")")}else e.attr("clip-path",null)},v.getTranslate=function(e){var t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",r=n.replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+r[0]||0,y:+r[1]||0}},v.setTranslate=function(e,t,n){var r=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[r]("transform")||"";return t=t||0,n=n||0,i=i.replace(/(\btranslate\(.*?\);?)/,"").trim(),i=(i+=" translate("+t+", "+n+")").trim(),e[o]("transform",i),i},v.getScale=function(e){var t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",r=n.replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+r[0]||1,y:+r[1]||1}},v.setScale=function(e,t,n){var r=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[r]("transform")||"";return t=t||1,n=n||1,i=i.replace(/(\bscale\(.*?\);?)/,"").trim(),i=(i+=" scale("+t+", "+n+")").trim(),e[o]("transform",i),i};var I=/\s*sc.*/;v.setPointGroupScale=function(e,t,n){if(t=t||1,n=n||1,e){var r=1===t&&1===n?"":" scale("+t+","+n+")";e.each(function(){var e=(this.getAttribute("transform")||"").replace(I,"");e=(e+=r).trim(),this.setAttribute("transform",e)})}};var D=/translate\([^)]*\)\s*$/;v.setTextPointsScale=function(e,t,n){e&&e.each(function(){var e,o=r.select(this),i=o.select("text");if(i.node()){var a=parseFloat(i.attr("x")||0),s=parseFloat(i.attr("y")||0),l=(o.attr("transform")||"").match(D);e=1===t&&1===n?[]:["translate("+a+","+s+")","scale("+t+","+n+")","translate("+-a+","+-s+")"],l&&e.push(l),o.attr("transform",e.join(" "))}})}},{"../../constants/alignment":417,"../../constants/interactions":419,"../../constants/xmlns_namespaces":421,"../../lib":441,"../../lib/svg_text_utils":465,"../../registry":532,"../../traces/scatter/make_bubble_size_func":609,"../../traces/scatter/subtypes":616,"../color":319,"../colorscale":334,"./symbol_defs":345,d3:85,"fast-isnumeric":149,tinycolor2:284}],345:[function(e,t,n){"use strict";var r=e("d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,o="l"+t+",-"+t,i="l-"+t+",-"+t,a="l-"+t+","+t;return"M0,"+t+n+o+i+o+i+a+i+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),o=r.round(e,2);return"M-"+t+","+n+"H"+t+"L0,-"+o+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),o=r.round(e,2);return"M-"+t+",-"+n+"H"+t+"L0,"+o+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),o=r.round(e,2);return"M"+n+",-"+t+"V"+t+"L-"+o+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),o=r.round(e,2);return"M-"+n+",-"+t+"V"+t+"L"+o+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),o=r.round(-e,2),i=r.round(-.309*e,2),a=r.round(.809*e,2);return"M"+t+","+i+"L"+n+","+a+"H-"+n+"L-"+t+","+i+"L0,"+o+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),o=r.round(e*Math.sqrt(3)/2,2);return"M"+o+",-"+n+"V"+n+"L0,"+t+"L-"+o+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),o=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+o+"H"+n+"L"+t+",0L"+n+",-"+o+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),o=r.round(.951*t,2),i=r.round(.363*t,2),a=r.round(.588*t,2),s=r.round(-t,2),l=r.round(-.309*t,2),u=r.round(.118*t,2),c=r.round(.809*t,2),d=r.round(.382*t,2);return"M"+n+","+l+"H"+o+"L"+i+","+u+"L"+a+","+c+"L0,"+d+"L-"+a+","+c+"L-"+i+","+u+"L-"+o+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),o=r.round(.76*e,2);return"M-"+o+",0l-"+n+",-"+t+"h"+o+"l"+n+",-"+t+"l"+n+","+t+"h"+o+"l-"+n+","+t+"l"+n+","+t+"h-"+o+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+o+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),o=r.round(1.6*e,2),i=r.round(4*e,2),a="A "+i+","+i+" 0 0 1 ";return"M-"+t+","+n+a+t+","+n+a+"0,-"+o+a+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),o=r.round(1.6*e,2),i=r.round(4*e,2),a="A "+i+","+i+" 0 0 1 ";return"M"+t+",-"+n+a+"-"+t+",-"+n+a+"0,"+o+a+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),o="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+o+"-"+t+","+t+o+t+","+t+o+t+",-"+t+o+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),o="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+o+"0,"+t+o+t+",0"+o+"0,-"+t+o+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),o=r.round(.8*e,2);return"M-"+t+","+o+"L0,0M"+t+","+o+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),o=r.round(.8*e,2);return"M-"+t+",-"+o+"L0,0M"+t+",-"+o+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),o=r.round(.8*e,2);return"M"+o+","+t+"L0,0M"+o+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),o=r.round(.8*e,2);return"M-"+o+","+t+"L0,0M-"+o+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0}}},{d3:85}],346:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],347:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../registry"),i=e("../../plots/cartesian/axes"),a=e("./compute_error");function s(e,t,n,o){var s=t["error_"+o]||{},l=s.visible&&-1!==["linear","log"].indexOf(n.type),u=[];if(l){for(var c=a(s),d=0;d<e.length;d++){var f=e[d],h=f.i;if(void 0===h)h=d;else if(null===h)continue;var p=f[o];if(r(n.c2l(p))){var m=c(p,h);if(r(m[0])&&r(m[1])){var g=f[o+"s"]=p-m[0],v=f[o+"h"]=p+m[1];u.push(g,v)}}}var y=i.findExtremes(n,u,{padded:!0}),b=n._id;t._extremes[b].min=t._extremes[b].min.concat(y.min),t._extremes[b].max=t._extremes[b].max.concat(y.max)}}t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],a=r[0].trace;if(!0===a.visible&&o.traceIs(a,"errorBarsOK")){var l=i.getFromId(e,a.xaxis),u=i.getFromId(e,a.yaxis);s(r,a,l,"x"),s(r,a,u,"y")}}}},{"../../plots/cartesian/axes":488,"../../registry":532,"./compute_error":348,"fast-isnumeric":149}],348:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var o=e.array||[];if(n)return function(e,t){var n=+o[t];return[n,n]};var i=e.arrayminus||[];return function(e,t){var n=+o[t],r=+i[t];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var a=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=a(e);return[t,t]}:function(e){return[s(e),a(e)]}}},{}],349:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../registry"),i=e("../../lib"),a=e("../../plot_api/plot_template"),s=e("./attributes");t.exports=function(e,t,n,l){var u="error_"+l.axis,c=a.newContainer(t,u),d=e[u]||{};function f(e,t){return i.coerce(d,c,s,e,t)}var h=void 0!==d.array||void 0!==d.value||"sqrt"===d.type,p=f("visible",h);if(!1!==p){var m=f("type","array"in d?"data":"percent"),g=!0;"sqrt"!==m&&(g=f("symmetric",!(("data"===m?"arrayminus":"valueminus")in d))),"data"===m?(f("array"),f("traceref"),g||(f("arrayminus"),f("tracerefminus"))):"percent"!==m&&"constant"!==m||(f("value"),g||f("valueminus"));var v="copy_"+l.inherit+"style";if(l.inherit){var y=t["error_"+l.inherit];(y||{}).visible&&f(v,!(d.color||r(d.thickness)||r(d.width)))}l.inherit&&c[v]||(f("color",n),f("thickness"),f("width",o.traceIs(t,"gl3d")?0:4))}}},{"../../lib":441,"../../plot_api/plot_template":478,"../../registry":532,"./attributes":346,"fast-isnumeric":149}],350:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plot_api/edit_types").overrideAll,i=e("./attributes"),a={error_x:r.extendFlat({},i),error_y:r.extendFlat({},i)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var s={error_x:r.extendFlat({},i),error_y:r.extendFlat({},i),error_z:r.extendFlat({},i)};delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:o(s,"calc","nested"),scattergl:o(a,"calc","nested")}},supplyDefaults:e("./defaults"),calc:e("./calc"),makeComputeError:e("./compute_error"),plot:e("./plot"),style:e("./style"),hoverInfo:function(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}}},{"../../lib":441,"../../plot_api/edit_types":471,"./attributes":346,"./calc":347,"./compute_error":348,"./defaults":349,"./plot":351,"./style":352}],351:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("../drawing"),a=e("../../traces/scatter/subtypes");t.exports=function(e,t,n){var s=t.xaxis,l=t.yaxis,u=n&&n.duration>0;e.each(function(e){var c,d=e[0].trace,f=d.error_x||{},h=d.error_y||{};d.ids&&(c=function(e){return e.id});var p=a.hasMarkers(d)&&d.marker.maxdisplayed>0;h.visible||f.visible||(e=[]);var m=r.select(this).selectAll("g.errorbar").data(e,c);if(m.exit().remove(),e.length){f.visible||m.selectAll("path.xerror").remove(),h.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var g=m.enter().append("g").classed("errorbar",!0);u&&g.style("opacity",0).transition().duration(n.duration).style("opacity",1),i.setClipUrl(m,t.layerClipId),m.each(function(e){var t=r.select(this),i=function(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),o(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),o(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}(e,s,l);if(!p||e.vis){var a,c=t.select("path.yerror");if(h.visible&&o(i.x)&&o(i.yh)&&o(i.ys)){var d=h.width;a="M"+(i.x-d)+","+i.yh+"h"+2*d+"m-"+d+",0V"+i.ys,i.noYS||(a+="m-"+d+",0h"+2*d),c.size()?u&&(c=c.transition().duration(n.duration).ease(n.easing)):c=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),c.attr("d",a)}else c.remove();var m=t.select("path.xerror");if(f.visible&&o(i.y)&&o(i.xh)&&o(i.xs)){var g=(f.copy_ystyle?h:f).width;a="M"+i.xh+","+(i.y-g)+"v"+2*g+"m0,-"+g+"H"+i.xs,i.noXS||(a+="m0,-"+g+"v"+2*g),m.size()?u&&(m=m.transition().duration(n.duration).ease(n.easing)):m=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),m.attr("d",a)}else m.remove()}})}})}},{"../../traces/scatter/subtypes":616,"../drawing":344,d3:85,"fast-isnumeric":149}],352:[function(e,t,n){"use strict";var r=e("d3"),o=e("../color");t.exports=function(e){e.each(function(e){var t=e[0].trace,n=t.error_y||{},i=t.error_x||{},a=r.select(this);a.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(o.stroke,n.color),i.copy_ystyle&&(i=n),a.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(o.stroke,i.color)})}},{"../color":319,d3:85}],353:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes");t.exports={hoverlabel:{bgcolor:{valType:"color",arrayOk:!0,editType:"none"},bordercolor:{valType:"color",arrayOk:!0,editType:"none"},font:r({arrayOk:!0,editType:"none"}),namelength:{valType:"integer",min:-1,arrayOk:!0,editType:"none"},editType:"calc"}}},{"../../plots/font_attributes":515}],354:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../registry");function i(e,t,n,o){o=o||r.identity,Array.isArray(e)&&(t[0][n]=o(e))}t.exports=function(e){var t=e.calcdata,n=e._fullLayout;function a(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var s=0;s<t.length;s++){var l=t[s],u=l[0].trace;if(!o.traceIs(u,"pie")){var c=o.traceIs(u,"2dMap")?i:r.fillArray;c(u.hoverinfo,l,"hi",a(u)),u.hoverlabel&&(c(u.hoverlabel.bgcolor,l,"hbg"),c(u.hoverlabel.bordercolor,l,"hbc"),c(u.hoverlabel.font.size,l,"hts"),c(u.hoverlabel.font.color,l,"htc"),c(u.hoverlabel.font.family,l,"htf"),c(u.hoverlabel.namelength,l,"hnl"))}}}},{"../../lib":441,"../../registry":532}],355:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("./hover").hover;t.exports=function(e,t,n){var i=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function a(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&o(e,t,n,!0),e._hoverdata&&t&&t.target&&(i&&i.then?i.then(a):a(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":532,"./hover":359}],356:[function(e,t,n){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],357:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./attributes"),i=e("./hoverlabel_defaults");t.exports=function(e,t,n,a){i(e,t,function(n,i){return r.coerce(e,t,o,n,i)},a.hoverlabel)}},{"../../lib":441,"./attributes":353,"./hoverlabel_defaults":360}],358:[function(e,t,n){"use strict";var r=e("../../lib");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,t){if("splom"===e.type){for(var r=e.xaxes||[],o=e.yaxes||[],i=0;i<r.length;i++)for(var a=0;a<o.length;a++)if(-1!==t.indexOf(r[i]+o[a]))return!0;return!1}return-1!==t.indexOf(n.getSubplot(e))},n.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,r,o){return"closest"===e?o||n.quadrature(t,r):"x"===e?t:r},n.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var o=t(e[r]);o<=n.distance&&(n.index=r,n.distance=o)}return n},n.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},n.quadrature=function(e,t){return function(n){var r=e(n),o=t(n);return Math.sqrt(r*r+o*o)}},n.makeEventData=function(e,t,r){var o="index"in e?e.index:e.pointNumber,i={data:t._input,fullData:t,curveNumber:t.index,pointNumber:o};if(t._indexToPoints){var a=t._indexToPoints[o];1===a.length?i.pointIndex=a[0]:i.pointIndices=a}else i.pointIndex=o;return t._module.eventData?i=t._module.eventData(i,e,t,r,o):("xVal"in e?i.x=e.xVal:"x"in e&&(i.x=e.x),"yVal"in e?i.y=e.yVal:"y"in e&&(i.y=e.y),e.xa&&(i.xaxis=e.xa),e.ya&&(i.yaxis=e.ya),void 0!==e.zLabelVal&&(i.z=e.zLabelVal)),n.appendArrayPointValue(i,t,o),i},n.appendArrayPointValue=function(e,t,n){var o=t._arrayAttrs;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=i(l);if(void 0===e[u]){var c=r.nestedProperty(t,l).get(),d=a(c,n);void 0!==d&&(e[u]=d)}}},n.appendArrayMultiPointValues=function(e,t,n){var o=t._arrayAttrs;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=i(l);if(void 0===e[u]){for(var c=r.nestedProperty(t,l).get(),d=new Array(n.length),f=0;f<n.length;f++)d[f]=a(c,n[f]);e[u]=d}}};var o={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color"};function i(e){return o[e]||e}function a(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}},{"../../lib":441}],359:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("tinycolor2"),a=e("../../lib"),s=e("../../lib/events"),l=e("../../lib/svg_text_utils"),u=e("../../lib/override_cursor"),c=e("../drawing"),d=e("../color"),f=e("../dragelement"),h=e("../../plots/cartesian/axes"),p=e("../../registry"),m=e("./helpers"),g=e("./constants"),v=g.YANGLE,y=Math.PI*v/180,b=1/Math.sin(y),_=Math.cos(y),x=Math.sin(y),w=g.HOVERARROWSIZE,k=g.HOVERTEXTPAD;function E(e,t,n){var o=t.hovermode,i=t.rotateLabels,s=t.bgColor,u=t.container,f=t.outerContainer,h=t.commonLabelOpts||{},p=t.fontFamily||g.HOVERFONT,m=t.fontSize||g.HOVERFONTSIZE,y=e[0],b=y.xa,_=y.ya,x="y"===o?"yLabel":"xLabel",E=y[x],T=(String(E)||"").split(" ")[0],A=f.node().getBoundingClientRect(),S=A.top,M=A.width,C=A.height,j=void 0!==E&&y.distance<=t.hoverdistance&&("x"===o||"y"===o);if(j){var O,N,R=!0;for(O=0;O<e.length;O++){R&&void 0===e[O].zLabel&&(R=!1),N=e[O].hoverinfo||e[O].trace.hoverinfo;var P=Array.isArray(N)?N:N.split("+");if(-1===P.indexOf("all")&&-1===P.indexOf(o)){j=!1;break}}R&&(j=!1)}var I=u.selectAll("g.axistext").data(j?[0]:[]);I.enter().append("g").classed("axistext",!0),I.exit().remove(),I.each(function(){var t=r.select(this),i=a.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),s=a.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),u=h.bgcolor||d.defaultLine,f=h.bordercolor||d.contrast(u),g=d.contrast(u);i.style({fill:u,stroke:f}),s.text(E).call(c.font,h.font.family||p,h.font.size||m,h.font.color||g).call(l.positionText,0,0).call(l.convertToTspans,n),t.attr("transform","");var v=s.node().getBoundingClientRect();if("x"===o){s.attr("text-anchor","middle").call(l.positionText,0,"top"===b.side?S-v.bottom-w-k:S-v.top+w+k);var A="top"===b.side?"-":"";i.attr("d","M0,0L"+w+","+A+w+"H"+(k+v.width/2)+"v"+A+(2*k+v.height)+"H-"+(k+v.width/2)+"V"+A+w+"H-"+w+"Z"),t.attr("transform","translate("+(b._offset+(y.x0+y.x1)/2)+","+(_._offset+("top"===b.side?0:_._length))+")")}else{s.attr("text-anchor","right"===_.side?"start":"end").call(l.positionText,("right"===_.side?1:-1)*(k+w),S-v.top-v.height/2);var M="right"===_.side?"":"-";i.attr("d","M0,0L"+M+w+","+w+"V"+(k+v.height/2)+"h"+M+(2*k+v.width)+"V-"+(k+v.height/2)+"H"+M+w+"V-"+w+"Z"),t.attr("transform","translate("+(b._offset+("right"===_.side?b._length:0))+","+(_._offset+(y.y0+y.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[x]||"").split(" ")[0]===T})});var D=u.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return D.enter().append("g").classed("hovertext",!0).each(function(){var e=r.select(this);e.append("rect").call(d.fill,d.addOpacity(s,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(c.font,p,m)}),D.exit().remove(),D.each(function(e){var t=r.select(this).attr("transform",""),a="",u="",f=e.bgcolor||e.color,h=d.combine(d.opacity(f)?f:d.defaultLine,s),g=d.combine(d.opacity(e.color)?e.color:d.defaultLine,s),y=e.borderColor||d.contrast(h);if(void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name){a=l.plainText(e.name||"");var b=Math.round(e.nameLength);b>-1&&a.length>b&&(a=b>3?a.substr(0,b-3)+"...":a.substr(0,b))}void 0!==e.zLabel?(void 0!==e.xLabel&&(u+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(u+="y: "+e.yLabel+"<br>"),u+=(u?"z: ":"")+e.zLabel):j&&e[o+"Label"]===E?u=e[("x"===o?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&(u=e.yLabel):u=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(u+=(u?"<br>":"")+e.text),void 0!==e.extraText&&(u+=(u?"<br>":"")+e.extraText),""===u&&(""===a&&t.remove(),u=a);var _=t.select("text.nums").call(c.font,e.fontFamily||p,e.fontSize||m,e.fontColor||y).text(u).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,n),x=t.select("text.name"),T=0;a&&a!==u?(x.call(c.font,e.fontFamily||p,e.fontSize||m,g).text(a).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,n),T=x.node().getBoundingClientRect().width+2*k):(x.remove(),t.select("rect").remove()),t.select("path").style({fill:h,stroke:y});var A,O,N=_.node().getBoundingClientRect(),R=e.xa._offset+(e.x0+e.x1)/2,P=e.ya._offset+(e.y0+e.y1)/2,I=Math.abs(e.x1-e.x0),D=Math.abs(e.y1-e.y0),L=N.width+w+k+T;e.ty0=S-N.top,e.bx=N.width+2*k,e.by=N.height+2*k,e.anchor="start",e.txwidth=N.width,e.tx2width=T,e.offset=0,i?(e.pos=R,A=P+D/2+L<=C,O=P-D/2-L>=0,"top"!==e.idealAlign&&A||!O?A?(P+=D/2,e.anchor="start"):e.anchor="middle":(P-=D/2,e.anchor="end")):(e.pos=P,A=R+I/2+L<=M,O=R-I/2-L>=0,"left"!==e.idealAlign&&A||!O?A?(R+=I/2,e.anchor="start"):e.anchor="middle":(R-=I/2,e.anchor="end")),_.attr("text-anchor",e.anchor),T&&x.attr("text-anchor",e.anchor),t.attr("transform","translate("+R+","+P+")"+(i?"rotate("+v+")":""))}),D}function T(e,t){e.each(function(e){var n=r.select(this);if(e.del)n.remove();else{var o="end"===e.anchor?-1:1,i=n.select("text.nums"),a={start:1,end:-1,middle:0}[e.anchor],s=a*(w+k),u=s+a*(e.txwidth+k),d=0,f=e.offset;"middle"===e.anchor&&(s-=e.tx2width/2,u+=e.txwidth/2+k),t&&(f*=-x,d=e.offset*_),n.select("path").attr("d","middle"===e.anchor?"M-"+(e.bx/2+e.tx2width/2)+","+(f-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(o*w+d)+","+(w+f)+"v"+(e.by/2-w)+"h"+o*e.bx+"v-"+e.by+"H"+(o*w+d)+"V"+(f-w)+"Z"),i.call(l.positionText,s+d,f+e.ty0-e.by/2+k),e.tx2width&&(n.select("text.name").call(l.positionText,u+a*k+d,f+e.ty0-e.by/2+k),n.select("rect").call(c.setRect,u+(a-1)*e.tx2width/2+d,f-e.by/2-1,e.tx2width,e.by+2))}})}function A(e,t){var n=e.index,r=e.trace||{},o=e.cd[0],i=e.cd[n]||{},s=Array.isArray(n)?function(e,t){return a.castOption(o,n,e)||a.extractOption({},r,"",t)}:function(e,t){return a.extractOption(i,r,e,t)};function l(t,n,r){var o=s(n,r);o&&(e[t]=o)}if(l("hoverinfo","hi","hoverinfo"),l("bgcolor","hbg","hoverlabel.bgcolor"),l("borderColor","hbc","hoverlabel.bordercolor"),l("fontFamily","htf","hoverlabel.font.family"),l("fontSize","hts","hoverlabel.font.size"),l("fontColor","htc","hoverlabel.font.color"),l("nameLength","hnl","hoverlabel.namelength"),e.posref="y"===t?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=a.constrain(e.x0,0,e.xa._length),e.x1=a.constrain(e.x1,0,e.xa._length),e.y0=a.constrain(e.y0,0,e.ya._length),e.y1=a.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:h.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:h.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var u=h.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+u+" / -"+h.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+="  "+u,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var c=h.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+c+" / -"+h.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+="  "+c,"y"===t&&(e.distance+=1)}var d=e.hoverinfo||e.trace.hoverinfo;return"all"!==d&&(-1===(d=Array.isArray(d)?d:d.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===d.indexOf("y")&&(e.yLabel=void 0),-1===d.indexOf("z")&&(e.zLabel=void 0),-1===d.indexOf("text")&&(e.text=void 0),-1===d.indexOf("name")&&(e.name=void 0)),e}function S(e,t){var n,r,o=t.container,a=t.fullLayout,s=t.event,l=!!e.hLinePoint,u=!!e.vLinePoint;if(o.selectAll(".spikeline").remove(),u||l){var f=d.combine(a.plot_bgcolor,a.paper_bgcolor);if(l){var h,p,m=e.hLinePoint;n=m&&m.xa;var g=(r=m&&m.ya).spikesnap;"cursor"===g?(h=s.pointerX,p=s.pointerY):(h=n._offset+m.x,p=r._offset+m.y);var v,y,b=i.readability(m.color,f)<1.5?d.contrast(f):m.color,_=r.spikemode,x=r.spikethickness,w=r.spikecolor||b,k=r._boundingBox,E=(k.left+k.right)/2<h?k.right:k.left;-1===_.indexOf("toaxis")&&-1===_.indexOf("across")||(-1!==_.indexOf("toaxis")&&(v=E,y=h),-1!==_.indexOf("across")&&(v=r._counterSpan[0],y=r._counterSpan[1]),o.insert("line",":first-child").attr({x1:v,x2:y,y1:p,y2:p,"stroke-width":x,stroke:w,"stroke-dasharray":c.dashStyle(r.spikedash,x)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:v,x2:y,y1:p,y2:p,"stroke-width":x+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0)),-1!==_.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:E+("right"!==r.side?x:-x),cy:p,r:x,fill:w}).classed("spikeline",!0)}if(u){var T,A,S=e.vLinePoint;n=S&&S.xa,r=S&&S.ya;var M=n.spikesnap;"cursor"===M?(T=s.pointerX,A=s.pointerY):(T=n._offset+S.x,A=r._offset+S.y);var C,j,O=i.readability(S.color,f)<1.5?d.contrast(f):S.color,N=n.spikemode,R=n.spikethickness,P=n.spikecolor||O,I=n._boundingBox,D=(I.top+I.bottom)/2<A?I.bottom:I.top;-1===N.indexOf("toaxis")&&-1===N.indexOf("across")||(-1!==N.indexOf("toaxis")&&(C=D,j=A),-1!==N.indexOf("across")&&(C=n._counterSpan[0],j=n._counterSpan[1]),o.insert("line",":first-child").attr({x1:T,x2:T,y1:C,y2:j,"stroke-width":R,stroke:P,"stroke-dasharray":c.dashStyle(n.spikedash,R)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:T,x2:T,y1:C,y2:j,"stroke-width":R+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0)),-1!==N.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:T,cy:D-("top"!==n.side?R:-R),r:R,fill:P}).classed("spikeline",!0)}}}function M(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}n.hover=function(e,t,n,i){e=a.getGraphDiv(e),a.throttle(e._fullLayout._uid+g.HOVERID,g.HOVERMINTIME,function(){!function(e,t,n,i){n||(n="xy");var l=Array.isArray(n)?n:[n],c=e._fullLayout,g=c._plots||[],v=g[n],y=c._has("cartesian");if(v){var _=v.overlays.map(function(e){return e.id});l=l.concat(_)}for(var x=l.length,w=new Array(x),k=new Array(x),C=!1,j=0;j<x;j++){var O=l[j],N=g[O];if(N)C=!0,w[j]=h.getFromId(e,N.xaxis._id),k[j]=h.getFromId(e,N.yaxis._id);else{var R=c[O]._subplot;w[j]=R.xaxis,k[j]=R.yaxis}}var P=t.hovermode||c.hovermode;if(P&&!C&&(P="closest"),-1===["x","y","closest"].indexOf(P)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return f.unhoverRaw(e,t);var I,D,L,B,F,z,U,q,V,H,W,G,X,K=-1===c.hoverdistance?1/0:c.hoverdistance,Y=-1===c.spikedistance?1/0:c.spikedistance,$=[],Z=[],Q={hLinePoint:null,vLinePoint:null},J=!1;if(Array.isArray(t))for(P="array",L=0;L<t.length;L++)F=e.calcdata[t[L].curveNumber||0],z=F[0].trace,"skip"!==F[0].trace.hoverinfo&&(Z.push(F),"h"===z.orientation&&(J=!0));else{for(B=0;B<e.calcdata.length;B++)F=e.calcdata[B],"skip"!==(z=F[0].trace).hoverinfo&&m.isTraceInSubplots(z,l)&&(Z.push(F),"h"===z.orientation&&(J=!0));var ee,te,ne=!t.target;if(ne)ee="xpx"in t?t.xpx:w[0]._length/2,te="ypx"in t?t.ypx:k[0]._length/2;else{if(!1===s.triggerHandler(e,"plotly_beforehover",t))return;var re=t.target.getBoundingClientRect();if(ee=t.clientX-re.left,te=t.clientY-re.top,ee<0||ee>w[0]._length||te<0||te>k[0]._length)return f.unhoverRaw(e,t)}if(t.pointerX=ee+w[0]._offset,t.pointerY=te+k[0]._offset,I="xval"in t?m.flat(l,t.xval):m.p2c(w,ee),D="yval"in t?m.flat(l,t.yval):m.p2c(k,te),!o(I[0])||!o(D[0]))return a.warn("Fx.hover failed",t,e),f.unhoverRaw(e,t)}var oe=1/0;for(B=0;B<Z.length;B++)if((F=Z[B])&&F[0]&&F[0].trace&&!0===F[0].trace.visible&&(z=F[0].trace,-1===["carpet","contourcarpet"].indexOf(z._module.name))){if("splom"===z.type?U=l[q=0]:(U=m.getSubplot(z),q=l.indexOf(U)),V=P,G={cd:F,trace:z,xa:w[q],ya:k[q],maxHoverDistance:K,maxSpikeDistance:Y,index:!1,distance:Math.min(oe,K),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:d.defaultLine,name:z.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},c[U]&&(G.subplot=c[U]._subplot),c._splomScenes&&c._splomScenes[z.uid]&&(G.scene=c._splomScenes[z.uid]),X=$.length,"array"===V){var ie=t[B];"pointNumber"in ie?(G.index=ie.pointNumber,V="closest"):(V="","xval"in ie&&(H=ie.xval,V="x"),"yval"in ie&&(W=ie.yval,V=V?"closest":"y"))}else H=I[q],W=D[q];if(0!==K)if(z._module&&z._module.hoverPoints){var ae=z._module.hoverPoints(G,H,W,V,c._hoverlayer);if(ae)for(var se,le=0;le<ae.length;le++)se=ae[le],o(se.x0)&&o(se.y0)&&$.push(A(se,P))}else a.log("Unrecognized trace type in hover:",z);if("closest"===P&&$.length>X&&($.splice(0,X),oe=$[0].distance),y&&0!==Y&&0===$.length){G.distance=Y,G.index=!1;var ue=z._module.hoverPoints(G,H,W,"closest",c._hoverlayer);if(ue&&(ue=ue.filter(function(e){return e.spikeDistance<=Y})),ue&&ue.length){var ce,de=ue.filter(function(e){return e.xa.showspikes});if(de.length){var fe=de[0];o(fe.x0)&&o(fe.y0)&&(ce=ge(fe),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>ce.spikeDistance)&&(Q.vLinePoint=ce))}var he=ue.filter(function(e){return e.ya.showspikes});if(he.length){var pe=he[0];o(pe.x0)&&o(pe.y0)&&(ce=ge(pe),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>ce.spikeDistance)&&(Q.hLinePoint=ce))}}}}function me(e,t){for(var n,r=null,o=1/0,i=0;i<e.length;i++)(n=e[i].spikeDistance)<o&&n<=t&&(r=e[i],o=n);return r}function ge(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}var ve={fullLayout:c,container:c._hoverlayer,outerContainer:c._paperdiv,event:t},ye=e._spikepoints,be={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};if(e._spikepoints=be,y&&0!==Y&&0!==$.length){var _e=$.filter(function(e){return e.ya.showspikes}),xe=me(_e,Y);Q.hLinePoint=ge(xe);var we=$.filter(function(e){return e.xa.showspikes}),ke=me(we,Y);Q.vLinePoint=ge(ke)}if(0===$.length){var Ee=f.unhoverRaw(e,t);return!y||null===Q.hLinePoint&&null===Q.vLinePoint||M(ye)&&S(Q,ve),Ee}y&&M(ye)&&S(Q,ve),$.sort(function(e,t){return e.distance-t.distance});var Te=e._hoverdata,Ae=[];for(L=0;L<$.length;L++){var Se=$[L];Ae.push(m.makeEventData(Se,Se.trace,Se.cd))}e._hoverdata=Ae;var Me="y"===P&&(Z.length>1||$.length>1)||"closest"===P&&J&&$.length>1,Ce=d.combine(c.plot_bgcolor||d.background,c.paper_bgcolor),je={hovermode:P,rotateLabels:Me,bgColor:Ce,container:c._hoverlayer,outerContainer:c._paperdiv,commonLabelOpts:c.hoverlabel,hoverdistance:c.hoverdistance},Oe=E($,je,e);if(function(e,t,n){var r,o,i,a,s,l,u,c=0,d=1,f=e.map(function(e,r){var o=e[t],i="x"===o._id.charAt(0),a=o.range;return!r&&a&&a[0]>a[1]!==i&&(d=-1),[{i:r,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?b:1)/2,pmin:0,pmax:i?n.width:n.height}]}).sort(function(e,t){return e[0].posref-t[0].posref||d*(t[0].traceIndex-e[0].traceIndex)});function h(e){var t=e[0],n=e[e.length-1];if(o=t.pmin-t.pos-t.dp+t.size,i=n.pos+n.dp+n.size-t.pmax,o>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=o;r=!1}if(!(i<.01)){if(o<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=i;r=!1}if(r){var u=0;for(a=0;a<e.length;a++)(l=e[a]).pos+l.dp+l.size>t.pmax&&u++;for(a=e.length-1;a>=0&&!(u<=0);a--)(l=e[a]).pos>t.pmax-1&&(l.del=!0,u--);for(a=0;a<e.length&&!(u<=0);a++)if((l=e[a]).pos<t.pmin+1)for(l.del=!0,u--,i=2*l.size,s=e.length-1;s>=0;s--)e[s].dp-=i;for(a=e.length-1;a>=0&&!(u<=0);a--)(l=e[a]).pos+l.dp+l.size>t.pmax&&(l.del=!0,u--)}}}for(;!r&&c<=e.length;){for(c++,r=!0,a=0;a<f.length-1;){var p=f[a],m=f[a+1],g=p[p.length-1],v=m[0];if((o=g.pos+g.dp+g.size-v.pos-v.dp+v.size)>.01&&g.pmin===v.pmin&&g.pmax===v.pmax){for(s=m.length-1;s>=0;s--)m[s].dp+=o;for(p.push.apply(p,m),f.splice(a+1,1),u=0,s=p.length-1;s>=0;s--)u+=p[s].dp;for(i=u/p.length,s=p.length-1;s>=0;s--)p[s].dp-=i;r=!1}else a++}f.forEach(h)}for(a=f.length-1;a>=0;a--){var y=f[a];for(s=y.length-1;s>=0;s--){var _=y[s],x=e[_.i];x.offset=_.dp,x.del=_.del}}}($,Me?"xa":"ya",c),T(Oe,Me),t.target&&t.target.tagName){var Ne=p.getComponentMethod("annotations","hasClickToShow")(e,Ae);u(r.select(t.target),Ne?"pointer":"")}t.target&&!i&&function(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var o=n[r],i=e._hoverdata[r];if(o.curveNumber!==i.curveNumber||String(o.pointNumber)!==String(i.pointNumber))return!0}return!1}(e,0,Te)&&(Te&&e.emit("plotly_unhover",{event:t,points:Te}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:w,yaxes:k,xvals:I,yvals:D}))}(e,t,n,i)})},n.loneHover=function(e,t){var n={color:e.color||d.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},o=r.select(t.container),i=t.outerContainer?r.select(t.outerContainer):o,a={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||d.background,container:o,outerContainer:i},s=E([n],a,t.gd);return T(s,a.rotateLabels),s.node()},n.multiHovers=function(e,t){Array.isArray(e)||(e=[e]);var n=e.map(function(e){return{color:e.color||d.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0}}),o=r.select(t.container),i=t.outerContainer?r.select(t.outerContainer):o,a={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||d.background,container:o,outerContainer:i},s=E(n,a,t.gd),l=0;return s.sort(function(e,t){return e.y0-t.y0}).each(function(e){var t=e.y0-e.by/2;e.offset=t-5<l?l-t+5:0,l=t+e.by+e.offset}),T(s,a.rotateLabels),s.node()}},{"../../lib":441,"../../lib/events":431,"../../lib/override_cursor":452,"../../lib/svg_text_utils":465,"../../plots/cartesian/axes":488,"../../registry":532,"../color":319,"../dragelement":341,"../drawing":344,"./constants":356,"./helpers":358,d3:85,"fast-isnumeric":149,tinycolor2:284}],360:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,o){n("hoverlabel.bgcolor",(o=o||{}).bgcolor),n("hoverlabel.bordercolor",o.bordercolor),n("hoverlabel.namelength",o.namelength),r.coerceFont(n,"hoverlabel.font",o.font)}},{"../../lib":441}],361:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../lib"),i=e("../dragelement"),a=e("./helpers"),s=e("./layout_attributes"),l=e("./hover");t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:s},attributes:e("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(e,t,n){return o.castOption(e,t,"hoverlabel."+n)},castHoverinfo:function(e,t,n){return o.castOption(e,n,"hoverinfo",function(n){return o.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)})},hover:l.hover,unhover:i.unhover,loneHover:l.loneHover,multiHovers:l.multiHovers,loneUnhover:function(e){var t=o.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e("./click")}},{"../../lib":441,"../dragelement":341,"./attributes":353,"./calc":354,"./click":355,"./constants":356,"./defaults":357,"./helpers":358,"./hover":359,"./layout_attributes":362,"./layout_defaults":363,"./layout_global_defaults":364,d3:85}],362:[function(e,t,n){"use strict";var r=e("./constants"),o=e("../../plots/font_attributes")({editType:"none"});o.family.dflt=r.HOVERFONT,o.size.dflt=r.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":515,"./constants":356}],363:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./layout_attributes");t.exports=function(e,t,n){function i(n,i){return r.coerce(e,t,o,n,i)}var a,s=i("clickmode"),l=i("dragmode");"select"===l&&i("selectdirection"),t._has("cartesian")?s.indexOf("select")>-1?a="closest":(t._isHoriz=function(e){for(var t=!0,n=0;n<e.length;n++){var r=e[n];if("h"!==r.orientation){t=!1;break}}return t}(n),a=t._isHoriz?"y":"x"):a="closest";var u=i("hovermode",a);u&&(i("hoverdistance"),i("spikedistance"));var c=t._has("mapbox"),d=t._has("geo"),f=t._basePlotModules.length;"zoom"===t.dragmode&&((c||d)&&1===f||c&&d&&2===f)&&(t.dragmode="pan")}},{"../../lib":441,"./layout_attributes":362}],364:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./hoverlabel_defaults"),i=e("./layout_attributes");t.exports=function(e,t){o(e,t,function(n,o){return r.coerce(e,t,i,n,o)})}},{"../../lib":441,"./hoverlabel_defaults":360,"./layout_attributes":362}],365:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../lib/regex").counter,i=e("../../plots/domain").attributes,a=e("../../plots/cartesian/constants").idRegex,s=e("../../plot_api/plot_template"),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[o("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function u(e,t,n){var r=t[n+"axes"],o=Object.keys((e._splomAxes||{})[n]||{});return Array.isArray(r)?r:o.length?o:void 0}function c(e,t,n,r,o,i){var a=t(e+"gap",n),s=t("domain."+e);t(e+"side",r);for(var l=new Array(o),u=s[0],c=(s[1]-u)/(o-a),d=c*(1-a),f=0;f<o;f++){var h=u+c*f;l[i?o-1-f:f]=[h,h+d]}return l}function d(e,t,n,r,o){var i,a=new Array(n);function s(e,n){-1!==t.indexOf(n)&&void 0===r[n]?(a[e]=n,r[n]=e):a[e]=""}if(Array.isArray(e))for(i=0;i<n;i++)s(i,e[i]);else for(s(0,o),i=1;i<n;i++)s(i,o+(i+1));return a}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function(e,t){var n=e.grid||{},o=u(t,n,"x"),i=u(t,n,"y");if(e.grid||o||i){var a,d,f=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),h=Array.isArray(o),p=Array.isArray(i),m=h&&o!==n.xaxes&&p&&i!==n.yaxes;f?(a=n.subplots.length,d=n.subplots[0].length):(p&&(a=i.length),h&&(d=o.length));var g=s.newContainer(t,"grid"),v=T("rows",a),y=T("columns",d);if(v*y>1){if(!f&&!h&&!p){var b="independent"===T("pattern");b&&(f=!0)}g._hasSubplotGrid=f;var _,x,w="top to bottom"===T("roworder"),k=f?.2:.1,E=f?.3:.1;m&&t._splomGridDflt&&(_=t._splomGridDflt.xside,x=t._splomGridDflt.yside),g._domains={x:c("x",T,k,_,y),y:c("y",T,E,x,v,w)}}else delete t.grid}function T(e,t){return r.coerce(n,g,l,e,t)}},contentDefaults:function(e,t){var n=t.grid;if(n&&n._domains){var r,o,i,a,s,l,c,f=e.grid||{},h=t._subplots,p=n._hasSubplotGrid,m=n.rows,g=n.columns,v="independent"===n.pattern,y=n._axisMap={};if(p){var b=f.subplots||[];l=n.subplots=new Array(m);var _=1;for(r=0;r<m;r++){var x=l[r]=new Array(g),w=b[r]||[];for(o=0;o<g;o++)if(v?(s=1===_?"xy":"x"+_+"y"+_,_++):s=w[o],x[o]="",-1!==h.cartesian.indexOf(s)){if(c=s.indexOf("y"),i=s.slice(0,c),a=s.slice(c),void 0!==y[i]&&y[i]!==o||void 0!==y[a]&&y[a]!==r)continue;x[o]=s,y[i]=o,y[a]=r}}}else{var k=u(t,f,"x"),E=u(t,f,"y");n.xaxes=d(k,h.xaxis,g,y,"x"),n.yaxes=d(E,h.yaxis,m,y,"y")}var T=n._anchors={},A="top to bottom"===n.roworder;for(var S in y){var M,C,j,O=S.charAt(0),N=n[O+"side"];if(N.length<8)T[S]="free";else if("x"===O){if("t"===N.charAt(0)===A?(M=0,C=1,j=m):(M=m-1,C=-1,j=-1),p){var R=y[S];for(r=M;r!==j;r+=C)if((s=l[r][R])&&(c=s.indexOf("y"),s.slice(0,c)===S)){T[S]=s.slice(c);break}}else for(r=M;r!==j;r+=C)if(a=n.yaxes[r],-1!==h.cartesian.indexOf(S+a)){T[S]=a;break}}else if("l"===N.charAt(0)?(M=0,C=1,j=g):(M=g-1,C=-1,j=-1),p){var P=y[S];for(r=M;r!==j;r+=C)if((s=l[P][r])&&(c=s.indexOf("y"),s.slice(c)===S)){T[S]=s.slice(0,c);break}}else for(r=M;r!==j;r+=C)if(i=n.xaxes[r],-1!==h.cartesian.indexOf(i+S)){T[S]=i;break}}}}}},{"../../lib":441,"../../lib/regex":457,"../../plot_api/plot_template":478,"../../plots/cartesian/constants":494,"../../plots/domain":514}],366:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants"),o=e("../../plot_api/plot_template").templatedArray;t.exports=o("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../plot_api/plot_template":478,"../../plots/cartesian/constants":494}],367:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib/to_log_range");t.exports=function(e,t,n,i){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var l,u,c=e._fullLayout.images,d=t._id.charAt(0),f=0;f<c.length;f++)if(l=c[f],u="images["+f+"].",l[d+"ref"]===t._id){var h=l[d],p=l["size"+d],m=null,g=null;if(a){m=o(h,t.range);var v=p/Math.pow(10,m)/2;g=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else m=Math.pow(10,h),g=m*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(m)?r(g)||(g=null):(m=null,g=null),i(u+d,m),i(u+"size"+d,g)}}},{"../../lib/to_log_range":467,"fast-isnumeric":149}],368:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("../../plots/array_container_defaults"),a=e("./attributes");function s(e,t,n){function i(n,o){return r.coerce(e,t,a,n,o)}var s=i("source"),l=i("visible",!!s);if(!l)return t;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var u={_fullLayout:n},c=["x","y"],d=0;d<2;d++){var f=c[d],h=o.coerceRef(e,t,u,f,"paper");o.coercePosition(t,u,i,h,f,0)}return t}t.exports=function(e,t){var n={name:"images",handleItemDefaults:s};i(e,t,n)}},{"../../lib":441,"../../plots/array_container_defaults":484,"../../plots/cartesian/axes":488,"./attributes":366}],369:[function(e,t,n){"use strict";var r=e("d3"),o=e("../drawing"),i=e("../../plots/cartesian/axes"),a=e("../../constants/xmlns_namespaces");t.exports=function(e){var t,n,s=e._fullLayout,l=[],u={},c=[];for(n=0;n<s.images.length;n++){var d=s.images[n];if(d.visible)if("below"===d.layer&&"paper"!==d.xref&&"paper"!==d.yref){t=d.xref+d.yref;var f=s._plots[t];if(!f){c.push(d);continue}f.mainplot&&(t=f.mainplot.id),u[t]||(u[t]=[]),u[t].push(d)}else"above"===d.layer?l.push(d):c.push(d)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function p(t){var n=r.select(this);if(!this.img||this.img.src!==t.source){n.attr("xmlns",a.svg);var o=new Promise(function(e){var r=new Image;function o(){n.remove(),e()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=o,r.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var r=t.getContext("2d");r.drawImage(this,0,0);var o=t.toDataURL("image/png");n.attr("xlink:href",o),e()},n.on("error",o),r.src=t.source}.bind(this));e._promises.push(o)}}function m(t){var n=r.select(this),a=i.getFromId(e,t.xref),l=i.getFromId(e,t.yref),u=s._size,c=a?Math.abs(a.l2p(t.sizex)-a.l2p(0)):t.sizex*u.w,d=l?Math.abs(l.l2p(t.sizey)-l.l2p(0)):t.sizey*u.h,f=c*h.x[t.xanchor].offset,p=d*h.y[t.yanchor].offset,m=h.x[t.xanchor].sizing+h.y[t.yanchor].sizing,g=(a?a.r2p(t.x)+a._offset:t.x*u.w+u.l)+f,v=(l?l.r2p(t.y)+l._offset:u.h-t.y*u.h+u.t)+p;switch(t.sizing){case"fill":m+=" slice";break;case"stretch":m="none"}n.attr({x:g,y:v,width:c,height:d,preserveAspectRatio:m,opacity:t.opacity});var y=a?a._id:"",b=l?l._id:"",_=y+b;n.call(o.setClipUrl,_?"clip"+s._uid+_:null)}var g=s._imageLowerLayer.selectAll("image").data(c),v=s._imageUpperLayer.selectAll("image").data(l);g.enter().append("image"),v.enter().append("image"),g.exit().remove(),v.exit().remove(),g.each(function(e){p.bind(this)(e),m.bind(this)(e)}),v.each(function(e){p.bind(this)(e),m.bind(this)(e)});var y=Object.keys(s._plots);for(n=0;n<y.length;n++){t=y[n];var b=s._plots[t];if(b.imagelayer){var _=b.imagelayer.selectAll("image").data(u[t]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(e){p.bind(this)(e),m.bind(this)(e)})}}}},{"../../constants/xmlns_namespaces":421,"../../plots/cartesian/axes":488,"../drawing":344,d3:85}],370:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("images"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":499,"./attributes":366,"./convert_coords":367,"./defaults":368,"./draw":369}],371:[function(e,t,n){"use strict";n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3}},{}],372:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),o=e("../color/attributes");t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},x:{valType:"number",min:-2,max:3,dflt:1.02,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,dflt:1,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":515,"../color/attributes":318}],373:[function(e,t,n){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,textOffsetX:40}},{}],374:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("../../lib"),i=e("../../plot_api/plot_template"),a=e("./attributes"),s=e("../../plots/layout_attributes"),l=e("./helpers");t.exports=function(e,t,n){for(var u,c,d,f,h=e.legend||{},p=0,m=!1,g="normal",v=0;v<n.length;v++){var y=n[v];y.visible&&((y.showlegend||y._dfltShowLegend)&&(p++,y.showlegend&&(m=!0,(r.traceIs(y,"pie")||!0===y._input.showlegend)&&p++)),(r.traceIs(y,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(y.fill))&&(g=l.isGrouped({traceorder:g})?"grouped+reversed":"reversed"),void 0!==y.legendgroup&&""!==y.legendgroup&&(g=l.isReversed({traceorder:g})?"reversed+grouped":"grouped"))}var b=o.coerce(e,t,s,"showlegend",m&&p>1);if(!1!==b){var _=i.newContainer(t,"legend");if(w("bgcolor",t.paper_bgcolor),w("bordercolor"),w("borderwidth"),o.coerceFont(w,"font",t.font),w("orientation"),"h"===_.orientation){var x=e.xaxis;x&&x.rangeslider&&x.rangeslider.visible?(u=0,d="left",c=1.1,f="bottom"):(u=0,d="left",c=-.1,f="top")}w("traceorder",g),l.isGrouped(t.legend)&&w("tracegroupgap"),w("x",u),w("xanchor",d),w("y",c),w("yanchor",f),o.noneOrAll(h,_,["x","y"])}function w(e,t){return o.coerce(h,_,a,e,t)}}},{"../../lib":441,"../../plot_api/plot_template":478,"../../plots/layout_attributes":523,"../../registry":532,"./attributes":372,"./helpers":378}],375:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../lib"),i=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib/events"),l=e("../dragelement"),u=e("../drawing"),c=e("../color"),d=e("../../lib/svg_text_utils"),f=e("./handle_click"),h=e("./constants"),p=e("../../constants/interactions"),m=e("../../constants/alignment"),g=m.LINE_SPACING,v=m.FROM_TL,y=m.FROM_BR,b=e("./get_legend_data"),_=e("./style"),x=e("./helpers"),w=e("./anchor_utils"),k=p.DBLCLICKDELAY;function E(e,t,n,r,o){var i=n.data()[0][0].trace,a={event:o,node:n.node(),curveNumber:i.index,expandedIndex:i._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};i._group&&(a.group=i._group),"pie"===i.type&&(a.label=n.datum()[0].label);var l=s.triggerHandler(e,"plotly_legendclick",a);if(!1!==l)if(1===r)t._clickTimeout=setTimeout(function(){f(n,e,r)},k);else if(2===r){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0;var u=s.triggerHandler(e,"plotly_legenddoubleclick",a);!1!==u&&f(n,e,r)}}function T(e,t,n){var r=e.data()[0][0],i=t._fullLayout,s=r.trace,l=a.traceIs(s,"pie"),c=s.index,f=l?r.label:s.name,p=t._context.edits.legendText&&!l,m=o.ensureSingle(e,"text","legendtext");function v(n){d.convertToTspans(n,t,function(){!function(e,t){var n=e.data()[0][0];if(n.trace.showlegend){var r,o,i=e.select("g[class*=math-group]"),a=i.node(),s=t._fullLayout.legend.font.size*g;if(a){var l=u.bBox(a);r=l.height,o=l.width,u.setTranslate(i,0,r/4)}else{var c=e.select(".legendtext"),f=d.lineCount(c),p=c.node();r=s*f,o=p?u.bBox(p).width:0;var m=s*(.3+(1-f)/2);d.positionText(c,h.textOffsetX,m)}r=Math.max(r,16)+3,n.height=r,n.width=o}else e.remove()}(e,t)})}m.attr("text-anchor","start").classed("user-select-none",!0).call(u.font,i.legend.font).text(p?A(f,n):f),d.positionText(m,h.textOffsetX,0),p?m.call(d.makeEditable,{gd:t,text:f}).call(v).on("edit",function(e){this.text(A(e,n)).call(v);var i=r.trace._fullInput||{},s={};if(a.hasTransform(i,"groupby")){var l=a.getTransformIndices(i,"groupby"),u=l[l.length-1],d=o.keyedContainer(i,"transforms["+u+"].styles","target","value.name");d.set(r.trace._group,e),s=d.constructUpdate()}else s.name=e;return a.call("restyle",t,s,c)}):v(m)}function A(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function S(e,t){var n,i=1,a=o.ensureSingle(e,"rect","legendtoggle",function(e){e.style("cursor","pointer").attr("pointer-events","all").call(c.fill,"rgba(0,0,0,0)")});a.on("mousedown",function(){(n=(new Date).getTime())-t._legendMouseDownTime<k?i+=1:(i=1,t._legendMouseDownTime=n)}),a.on("mouseup",function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>k&&(i=Math.max(i-1,1)),E(t,n,e,i,r.event)}})}function M(e,t,n){var o=e._fullLayout,i=o.legend,a=i.borderwidth,s=x.isGrouped(i),l=0;if(i._width=0,i._height=0,x.isVertical(i))s&&t.each(function(e,t){u.setTranslate(this,0,t*i.tracegroupgap)}),n.each(function(e){var t=e[0],n=t.height,r=t.width;u.setTranslate(this,a,5+a+i._height+n/2),i._height+=n,i._width=Math.max(i._width,r)}),i._width+=45+2*a,i._height+=10+2*a,s&&(i._height+=(i._lgroupsLength-1)*i.tracegroupgap),l=40;else if(s){for(var c=[i._width],d=t.data(),f=0,h=d.length;f<h;f++){var p=d[f].map(function(e){return e[0].width}),m=40+Math.max.apply(null,p);i._width+=i.tracegroupgap+m,c.push(i._width)}t.each(function(e,t){u.setTranslate(this,c[t],0)}),t.each(function(){var e=r.select(this),t=e.selectAll("g.traces"),n=0;t.each(function(e){var t=e[0],r=t.height;u.setTranslate(this,0,5+a+n+r/2),n+=r}),i._height=Math.max(i._height,n)}),i._height+=10+2*a,i._width+=2*a}else{var g,v=0,y=0,b=0,_=0,w=0,k=i.tracegroupgap||5;n.each(function(e){b=Math.max(40+e[0].width,b),w+=40+e[0].width+k}),g=o._size.w>a+w-k,n.each(function(e){var t=e[0],n=g?40+e[0].width:b;a+_+k+n>o._size.w&&(_=0,v+=y,i._height=i._height+y,y=0),u.setTranslate(this,a+_,5+a+t.height/2+v),i._width+=k+n,i._height=Math.max(i._height,t.height),_+=k+n,y=Math.max(t.height,y)}),i._width+=2*a,i._height+=10+2*a}i._width=Math.ceil(i._width),i._height=Math.ceil(i._height);var E=e._context.edits.legendText||e._context.edits.legendPosition;n.each(function(e){var t=e[0],n=r.select(this).select(".legendtoggle");u.setRect(n,0,-t.height/2,(E?0:i._width)+l,t.height)})}function C(e){var t=e._fullLayout,n=t.legend,r="left";w.isRightAnchor(n)?r="right":w.isCenterAnchor(n)&&(r="center");var o="top";w.isBottomAnchor(n)?o="bottom":w.isMiddleAnchor(n)&&(o="middle"),i.autoMargin(e,"legend",{x:n.x,y:n.y,l:n._width*v[r],r:n._width*y[r],b:n._height*y[o],t:n._height*v[o]})}t.exports=function(e){var t=e._fullLayout,n="legend"+t._uid;if(t._infolayer&&e.calcdata){e._legendMouseDownTime||(e._legendMouseDownTime=0);var s=t.legend,d=t.showlegend&&b(e.calcdata,s),f=t.hiddenlabels||[];if(!t.showlegend||!d.length)return t._infolayer.selectAll(".legend").remove(),t._topdefs.select("#"+n).remove(),void i.autoMargin(e,"legend");for(var p=0,m=0;m<d.length;m++)for(var g=0;g<d[m].length;g++){var x=d[m][g][0],k=x.trace,A=a.traceIs(k,"pie"),j=A?x.label:k.name;p=Math.max(p,j&&j.length||0)}var O=!1,N=o.ensureSingle(t._infolayer,"g","legend",function(e){e.attr("pointer-events","all"),O=!0}),R=o.ensureSingleById(t._topdefs,"clipPath",n,function(e){e.append("rect")}),P=o.ensureSingle(N,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});P.call(c.stroke,s.bordercolor).call(c.fill,s.bgcolor).style("stroke-width",s.borderwidth+"px");var I=o.ensureSingle(N,"g","scrollbox"),D=o.ensureSingle(N,"rect","scrollbar",function(e){e.attr({rx:20,ry:3,width:0,height:0}).call(c.fill,"#808BA4")}),L=I.selectAll("g.groups").data(d);L.enter().append("g").attr("class","groups"),L.exit().remove();var B=L.selectAll("g.traces").data(o.identity);B.enter().append("g").attr("class","traces"),B.exit().remove(),B.call(_,e).style("opacity",function(e){var t=e[0].trace;return a.traceIs(t,"pie")?-1!==f.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){r.select(this).call(T,e,p).call(S,e)}),o.syncOrAsync([i.previousPromises,function(){O&&(M(e,L,B),C(e));var c=t.width,d=t.height;M(e,L,B),s._height>d?function(e){var t=e._fullLayout.legend,n="left";w.isRightAnchor(t)?n="right":w.isCenterAnchor(t)&&(n="center"),i.autoMargin(e,"legend",{x:t.x,y:.5,l:t._width*v[n],r:t._width*y[n],b:0,t:0})}(e):C(e);var f=t._size,p=f.l+f.w*s.x,m=f.t+f.h*(1-s.y);w.isRightAnchor(s)?p-=s._width:w.isCenterAnchor(s)&&(p-=s._width/2),w.isBottomAnchor(s)?m-=s._height:w.isMiddleAnchor(s)&&(m-=s._height/2);var g=s._width,b=f.w;g>b?(p=f.l,g=b):(p+g>c&&(p=c-g),p<0&&(p=0),g=Math.min(c-p,s._width));var _,x,k,T,A=s._height,S=f.h;if(A>S?(m=f.t,A=S):(m+A>d&&(m=d-A),m<0&&(m=0),A=Math.min(d-m,s._height)),u.setTranslate(N,p,m),D.on(".drag",null),N.on("wheel",null),s._height<=A||e._context.staticPlot)P.attr({width:g-s.borderwidth,height:A-s.borderwidth,x:s.borderwidth/2,y:s.borderwidth/2}),u.setTranslate(I,0,0),R.select("rect").attr({width:g-2*s.borderwidth,height:A-2*s.borderwidth,x:s.borderwidth,y:s.borderwidth}),u.setClipUrl(I,n),u.setRect(D,0,0,0,0),delete s._scrollY;else{var j,F,z=Math.max(h.scrollBarMinHeight,A*A/s._height),U=A-z-2*h.scrollBarMargin,q=s._height-A,V=U/q,H=Math.min(s._scrollY||0,q);P.attr({width:g-2*s.borderwidth+h.scrollBarWidth+h.scrollBarMargin,height:A-s.borderwidth,x:s.borderwidth/2,y:s.borderwidth/2}),R.select("rect").attr({width:g-2*s.borderwidth+h.scrollBarWidth+h.scrollBarMargin,height:A-2*s.borderwidth,x:s.borderwidth,y:s.borderwidth+H}),u.setClipUrl(I,n),G(H,z,V),N.on("wheel",function(){G(H=o.constrain(s._scrollY+r.event.deltaY/U*q,0,q),z,V),0!==H&&H!==q&&r.event.preventDefault()});var W=r.behavior.drag().on("dragstart",function(){j=r.event.sourceEvent.clientY,F=H}).on("drag",function(){var e=r.event.sourceEvent;2===e.buttons||e.ctrlKey||G(H=o.constrain((e.clientY-j)/V+F,0,q),z,V)});D.call(W)}function G(t,n,r){s._scrollY=e._fullLayout.legend._scrollY=t,u.setTranslate(I,0,-t),u.setRect(D,g,h.scrollBarMargin+t*r,h.scrollBarWidth,n),R.select("rect").attr({y:s.borderwidth+t})}e._context.edits.legendPosition&&(N.classed("cursor-move",!0),l.init({element:N.node(),gd:e,prepFn:function(){var e=u.getTranslate(N);k=e.x,T=e.y},moveFn:function(e,t){var n=k+e,r=T+t;u.setTranslate(N,n,r),_=l.align(n,0,f.l,f.l+f.w,s.xanchor),x=l.align(r,0,f.t+f.h,f.t,s.yanchor)},doneFn:function(){void 0!==_&&void 0!==x&&a.call("relayout",e,{"legend.x":_,"legend.y":x})},clickFn:function(n,r){var o=t._infolayer.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom});o.size()>0&&E(e,N,o,n,r)}}))}],e)}}},{"../../constants/alignment":417,"../../constants/interactions":419,"../../lib":441,"../../lib/events":431,"../../lib/svg_text_utils":465,"../../plots/plots":525,"../../registry":532,"../color":319,"../dragelement":341,"../drawing":344,"./anchor_utils":371,"./constants":373,"./get_legend_data":376,"./handle_click":377,"./helpers":378,"./style":380,d3:85}],376:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("./helpers");t.exports=function(e,t){var n,i,a={},s=[],l=!1,u={},c=0;function d(e,n){if(""!==e&&o.isGrouped(t))-1===s.indexOf(e)?(s.push(e),l=!0,a[e]=[[n]]):a[e].push([n]);else{var r="~~i"+c;s.push(r),a[r]=[[n]],c++}}for(n=0;n<e.length;n++){var f=e[n],h=f[0],p=h.trace,m=p.legendgroup;if(p.visible&&p.showlegend)if(r.traceIs(p,"pie"))for(u[m]||(u[m]={}),i=0;i<f.length;i++){var g=f[i].label;u[m][g]||(d(m,{label:g,color:f[i].color,i:f[i].i,trace:p,pts:f[i].pts}),u[m][g]=!0)}else d(m,h)}if(!s.length)return[];var v,y,b=s.length;if(l&&o.isGrouped(t))for(y=new Array(b),n=0;n<b;n++)v=a[s[n]],y[n]=o.isReversed(t)?v.reverse():v;else{for(y=[new Array(b)],n=0;n<b;n++)v=a[s[n]][0],y[0][o.isReversed(t)?b-n-1:n]=v;b=1}return t._lgroupsLength=b,y}},{"../../registry":532,"./helpers":378}],377:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../registry"),i=!0;t.exports=function(e,t,n){if(!t._dragged&&!t._editing){var a,s,l,u,c,d=t._fullLayout.hiddenlabels?t._fullLayout.hiddenlabels.slice():[],f=e.data()[0][0],h=t._fullData,p=f.trace,m=p.legendgroup,g={},v=[],y=[],b=[];if(1===n&&i&&t.data&&t._context.showTips?(r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),i=!1):i=!1,o.traceIs(p,"pie")){var _=f.label,x=d.indexOf(_);1===n?-1===x?d.push(_):d.splice(x,1):2===n&&(d=[],t.calcdata[0].forEach(function(e){_!==e.label&&d.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===d.length&&-1===x&&(d=[])),o.call("relayout",t,"hiddenlabels",d)}else{var w,k=m&&m.length,E=[];if(k)for(a=0;a<h.length;a++)(w=h[a]).visible&&w.legendgroup===m&&E.push(a);if(1===n){var T;switch(p.visible){case!0:T="legendonly";break;case!1:T=!1;break;case"legendonly":T=!0}if(k)for(a=0;a<h.length;a++)!1!==h[a].visible&&h[a].legendgroup===m&&R(h[a],T);else R(p,T)}else if(2===n){var A,S,M,C=!0;for(a=0;a<h.length;a++)if(!(A=h[a]===p)&&!(S=k&&h[a].legendgroup===m)&&!0===h[a].visible&&!o.traceIs(h[a],"notLegendIsolatable")){C=!1;break}for(a=0;a<h.length;a++)if(!1!==h[a].visible&&!o.traceIs(h[a],"notLegendIsolatable"))switch(p.visible){case"legendonly":R(h[a],!0);break;case!0:M=!!C||"legendonly",A=h[a]===p,S=A||k&&h[a].legendgroup===m,R(h[a],!!S||M)}}for(a=0;a<y.length;a++)if(l=y[a]){var j=l.constructUpdate(),O=Object.keys(j);for(s=0;s<O.length;s++)u=O[s],(g[u]=g[u]||[])[b[a]]=j[u]}for(c=Object.keys(g),a=0;a<c.length;a++)for(u=c[a],s=0;s<v.length;s++)g[u].hasOwnProperty(s)||(g[u][s]=void 0);o.call("restyle",t,g,v)}}function N(e,t,n){var r=v.indexOf(e),o=g[t];return o||(o=g[t]=[]),-1===v.indexOf(e)&&(v.push(e),r=v.length-1),o[r]=n,r}function R(e,t){var n=e._fullInput;if(o.hasTransform(n,"groupby")){var i=y[n.index];if(!i){var a=o.getTransformIndices(n,"groupby"),s=a[a.length-1];i=r.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),y[n.index]=i}var l=i.get(e._group);void 0===l&&(l=!0),!1!==l&&i.set(e._group,t),b[n.index]=N(n.index,"visible",!1!==n.visible)}else{var u=!1!==n.visible&&t;N(n.index,"visible",u)}}}},{"../../lib":441,"../../registry":532}],378:[function(e,t,n){"use strict";n.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},{}],379:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":372,"./defaults":374,"./draw":375,"./style":380}],380:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../registry"),i=e("../../lib"),a=e("../drawing"),s=e("../color"),l=e("../../traces/scatter/subtypes"),u=e("../../traces/pie/style_one");t.exports=function(e,t){e.each(function(e){var t=r.select(this),n=i.ensureSingle(t,"g","layers");n.style("opacity",e[0].trace.opacity);var o=n.selectAll("g.legendfill").data([e]);o.enter().append("g").classed("legendfill",!0);var a=n.selectAll("g.legendlines").data([e]);a.enter().append("g").classed("legendlines",!0);var s=n.selectAll("g.legendsymbols").data([e]);s.enter().append("g").classed("legendsymbols",!0),s.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var t=e[0].trace,n=t.marker||{},i=n.line||{},a=r.select(this).select("g.legendpoints").selectAll("path.legendbar").data(o.traceIs(t,"bar")?[e]:[]);a.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),a.exit().remove(),a.each(function(e){var t=r.select(this),o=e[0],a=(o.mlw+1||i.width+1)-1;t.style("stroke-width",a+"px").call(s.fill,o.mc||n.color),a&&t.call(s.stroke,o.mlc||i.color)})}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(o.traceIs(t,"box-violin")&&t.visible?[e]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(){var e=t.line.width,n=r.select(this);n.style("stroke-width",e+"px").call(s.fill,t.fillcolor),e&&s.stroke(n,t.line.color)})}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendpie").data(o.traceIs(t,"pie")&&t.visible?[e]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(u,e[0],t)}).each(function(e){var n=e[0].trace,o=n.visible&&n.fill&&"none"!==n.fill,i=l.hasLines(n),s=n.contours,u=!1,c=!1;if(s){var d=s.coloring;"lines"===d?u=!0:i="none"===d||"heatmap"===d||s.showlines,"constraint"===s.type?o="="!==s._operation:"fill"!==d&&"heatmap"!==d||(c=!0)}var f=l.hasMarkers(n)||l.hasText(n),h=o||c,p=i||u,m=f||!h?"M5,0":p?"M5,-2":"M5,-3",g=r.select(this),v=g.select(".legendfill").selectAll("path").data(o||c?[e]:[]);v.enter().append("path").classed("js-fill",!0),v.exit().remove(),v.attr("d",m+"h30v6h-30z").call(o?a.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+n.uid;a.gradient(e,t,r,"horizontalreversed",n.colorscale,"fill")}});var y=g.select(".legendlines").selectAll("path").data(i||u?[e]:[]);y.enter().append("path").classed("js-line",!0),y.exit().remove(),y.attr("d",m+(u?"l30,0.0001":"h30")).call(i?a.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+n.uid;a.lineGroupStyle(e),a.gradient(e,t,r,"horizontalreversed",n.colorscale,"stroke")}})}).each(function(e){var n,o,s=e[0],u=s.trace,c=l.hasMarkers(u),d=l.hasText(u),f=l.hasLines(u);function h(e,t,n){var r=i.nestedProperty(u,e).get(),o=i.isArrayOrTypedArray(r)&&t?t(r):r;if(n){if(o<n[0])return n[0];if(o>n[1])return n[1]}return o}function p(e){return e[0]}if(c||d||f){var m={},g={};if(c){m.mc=h("marker.color",p),m.mx=h("marker.symbol",p),m.mo=h("marker.opacity",i.mean,[.2,1]),m.mlc=h("marker.line.color",p),m.mlw=h("marker.line.width",i.mean,[0,5]),g.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var v=h("marker.size",i.mean,[2,16]);m.ms=v,g.marker.size=v}f&&(g.line={width:h("line.width",p,[0,10])}),d&&(m.tx="Aa",m.tp=h("textposition",p),m.ts=10,m.tc=h("textfont.color",p),m.tf=h("textfont.family",p)),n=[i.minExtend(s,m)],(o=i.minExtend(u,g)).selectedpoints=null}var y=r.select(this).select("g.legendpoints"),b=y.selectAll("path.scatterpts").data(c?n:[]);b.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),b.exit().remove(),b.call(a.pointStyle,o,t),c&&(n[0].mrc=3);var _=y.selectAll("g.pointtext").data(d?n:[]);_.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),_.exit().remove(),_.selectAll("text").call(a.textPointStyle,o,t)}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data("candlestick"===t.type&&t.visible?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each(function(e,n){var o=t[n?"increasing":"decreasing"],i=o.line.width,a=r.select(this);a.style("stroke-width",i+"px").call(s.fill,o.fillcolor),i&&s.stroke(a,o.line.color)})}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data("ohlc"===t.type&&t.visible?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each(function(e,n){var o=t[n?"increasing":"decreasing"],i=o.line.width,l=r.select(this);l.style("fill","none").call(a.dashLine,o.line.dash,i),i&&s.stroke(l,o.line.color)})})}},{"../../lib":441,"../../registry":532,"../../traces/pie/style_one":586,"../../traces/scatter/subtypes":616,"../color":319,"../drawing":344,d3:85}],381:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("../../plots/plots"),i=e("../../plots/cartesian/axis_ids"),a=e("../../lib"),s=e("../../../build/ploticon"),l=a._,u=t.exports={};function c(e,t){var n,o,a=t.currentTarget,s=a.getAttribute("data-attr"),l=a.getAttribute("data-val")||!0,u=e._fullLayout,c={},d=i.list(e,null,!0),f="on";if("zoom"===s){var h,p="in"===l?.5:2,m=(1+p)/2,g=(1-p)/2;for(o=0;o<d.length;o++)if(!(n=d[o]).fixedrange)if(h=n._name,"auto"===l)c[h+".autorange"]=!0;else if("reset"===l){if(void 0===n._rangeInitial)c[h+".autorange"]=!0;else{var v=n._rangeInitial.slice();c[h+".range[0]"]=v[0],c[h+".range[1]"]=v[1]}void 0!==n._showSpikeInitial&&(c[h+".showspikes"]=n._showSpikeInitial,"on"!==f||n._showSpikeInitial||(f="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[m*y[0]+g*y[1],m*y[1]+g*y[0]];c[h+".range[0]"]=n.l2r(b[0]),c[h+".range[1]"]=n.l2r(b[1])}u._cartesianSpikesEnabled=f}else{if("hovermode"!==s||"x"!==l&&"y"!==l){if("hovermode"===s&&"closest"===l){for(o=0;o<d.length;o++)n=d[o],"on"!==f||n.showspikes||(f="off");u._cartesianSpikesEnabled=f}}else l=u._isHoriz?"y":"x",a.setAttribute("data-val",l);c[s]=l}r.call("relayout",e,c)}function d(e,t){for(var n=t.currentTarget,o=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,a=e._fullLayout._subplots.gl3d,s={},l=o.split("."),u=0;u<a.length;u++)s[a[u]+"."+l[1]]=i;var c="pan"===i?i:"zoom";s.dragmode=c,r.call("relayout",e,s)}function f(e,t){for(var n=t.currentTarget,o=n.getAttribute("data-attr"),i=e._fullLayout,s=i._subplots.gl3d,l={},u=0;u<s.length;u++){var c=s[u],d=c+".camera",f=i[c]._scene;"resetDefault"===o?l[d]=null:"resetLastSave"===o&&(l[d]=a.extendDeep({},f.cameraInitial))}r.call("relayout",e,l)}function h(e,t){var n=t.currentTarget,o=n._previousVal||!1,i=e.layout,s=e._fullLayout,l=s._subplots.gl3d,u=["xaxis","yaxis","zaxis"],c=["showspikes","spikesides","spikethickness","spikecolor"],d={},f={},h={};if(o)h=a.extendDeep(i,o),n._previousVal=null;else{h={"allaxes.showspikes":!1};for(var p=0;p<l.length;p++){var m=l[p],g=s[m],v=d[m]={};v.hovermode=g.hovermode,h[m+".hovermode"]=!1;for(var y=0;y<3;y++){var b=u[y];f=v[b]={};for(var _=0;_<c.length;_++){var x=c[_];f[x]=g[b][x]}}}n._previousVal=a.extendDeep({},d)}r.call("relayout",e,h)}function p(e,t){for(var n=t.currentTarget,o=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,a=e._fullLayout,s=a._subplots.geo,l=0;l<s.length;l++){var u=s[l],c=a[u];if("zoom"===o){var d=c.projection.scale,f="in"===i?2*d:.5*d;r.call("relayout",e,u+".projection.scale",f)}else"reset"===o&&g(e,"geo")}}function m(e){var t,n=e._fullLayout;t=n._has("cartesian")?n._isHoriz?"y":"x":"closest";var o=!e._fullLayout.hovermode&&t;r.call("relayout",e,"hovermode",o)}function g(e,t){for(var n=e._fullLayout,o=n._subplots[t],i={},a=0;a<o.length;a++)for(var s=o[a],l=n[s]._subplot,u=l.viewInitial,c=Object.keys(u),d=0;d<c.length;d++){var f=c[d];i[s+"."+f]=u[f]}r.call("relayout",e,i)}u.toImage={name:"toImage",title:function(e){var t=e._context.toImageButtonOptions||{},n=t.format||"png";return l(e,"png"===n?"Download plot as a png":"Download plot")},icon:s.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};a.notifier(l(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&a.isIE()&&(a.notifier(l(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach(function(e){t[e]&&(n[e]=t[e])}),r.call("downloadImage",e,n).then(function(t){a.notifier(l(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){a.notifier(l(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return l(e,"Edit in Chart Studio")},icon:s.disk,click:function(e){o.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return l(e,"Zoom")},attr:"dragmode",val:"zoom",icon:s.zoombox,click:c},u.pan2d={name:"pan2d",title:function(e){return l(e,"Pan")},attr:"dragmode",val:"pan",icon:s.pan,click:c},u.select2d={name:"select2d",title:function(e){return l(e,"Box Select")},attr:"dragmode",val:"select",icon:s.selectbox,click:c},u.lasso2d={name:"lasso2d",title:function(e){return l(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:s.lasso,click:c},u.zoomIn2d={name:"zoomIn2d",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:c},u.zoomOut2d={name:"zoomOut2d",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:c},u.autoScale2d={name:"autoScale2d",title:function(e){return l(e,"Autoscale")},attr:"zoom",val:"auto",icon:s.autoscale,click:c},u.resetScale2d={name:"resetScale2d",title:function(e){return l(e,"Reset axes")},attr:"zoom",val:"reset",icon:s.home,click:c},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return l(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:c},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return l(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:s.tooltip_compare,gravity:"ne",click:c},u.zoom3d={name:"zoom3d",title:function(e){return l(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:s.zoombox,click:d},u.pan3d={name:"pan3d",title:function(e){return l(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:s.pan,click:d},u.orbitRotation={name:"orbitRotation",title:function(e){return l(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:s["3d_rotate"],click:d},u.tableRotation={name:"tableRotation",title:function(e){return l(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:s["z-axis"],click:d},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return l(e,"Reset camera to default")},attr:"resetDefault",icon:s.home,click:f},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return l(e,"Reset camera to last save")},attr:"resetLastSave",icon:s.movie,click:f},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:h},u.zoomInGeo={name:"zoomInGeo",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:p},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:p},u.resetGeo={name:"resetGeo",title:function(e){return l(e,"Reset")},attr:"reset",val:null,icon:s.autoscale,click:p},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:m},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:m},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:m},u.toggleHover={name:"toggleHover",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:function(e,t){m(e),h(e,t)}},u.resetViews={name:"resetViews",title:function(e){return l(e,"Reset views")},icon:s.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),c(e,t),n.setAttribute("data-attr","resetLastSave"),f(e,t),g(e,"geo"),g(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return l(e,"Toggle Spike Lines")},icon:s.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout;t._cartesianSpikesEnabled="on"===t._cartesianSpikesEnabled?"off":"on";var n=function(e){for(var t,n,r=e._fullLayout,o=i.list(e,null,!0),a={},s=0;s<o.length;s++)t=o[s],n=t._name,a[n+".showspikes"]="on"===r._cartesianSpikesEnabled||t._showSpikeInitial;return a}(e);r.call("relayout",e,n)}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return l(e,"Reset view")},attr:"reset",icon:s.home,click:function(e){g(e,"mapbox")}}},{"../../../build/ploticon":2,"../../lib":441,"../../plots/cartesian/axis_ids":491,"../../plots/plots":525,"../../registry":532}],382:[function(e,t,n){"use strict";n.manage=e("./manage")},{"./manage":383}],383:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),o=e("../../traces/scatter/subtypes"),i=e("../../registry"),a=e("./modebar"),s=e("./buttons");t.exports=function(e){var t=e._fullLayout,n=e._context,l=t._modeBar;if(n.displayModeBar){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u,c=n.modeBarButtons;u=Array.isArray(c)&&c.length?function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var o=n[r];if("string"==typeof o){if(void 0===s[o])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=s[o]}}return e}(c):function(e,t,n){var a=e._fullLayout,l=e._fullData,u=a._has("cartesian"),c=a._has("gl3d"),d=a._has("geo"),f=a._has("pie"),h=a._has("gl2d"),p=a._has("ternary"),m=a._has("mapbox"),g=a._has("polar"),v=function(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}(a),y=[];function b(e){if(e.length){for(var n=[],r=0;r<e.length;r++){var o=e[r];-1===t.indexOf(o)&&n.push(s[o])}y.push(n)}}b(["toImage","sendDataToCloud"]);var _=[],x=[],w=[],k=[];return(u||h||f||p)+d+c+m+g>1?(x=["toggleHover"],w=["resetViews"]):d?(_=["zoomInGeo","zoomOutGeo"],x=["hoverClosestGeo"],w=["resetGeo"]):c?(x=["hoverClosest3d"],w=["resetCameraDefault3d","resetCameraLastSave3d"]):m?(x=["toggleHover"],w=["resetViewMapbox"]):x=h?["hoverClosestGl2d"]:f?["hoverClosestPie"]:["toggleHover"],u&&(x=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),!u&&!h||v||(_=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==w[0]&&(w=["resetScale2d"])),c?k=["zoom3d","pan3d","orbitRotation","tableRotation"]:(u||h)&&!v||p?k=["zoom2d","pan2d"]:m||d?k=["pan2d"]:g&&(k=["zoom2d"]),function(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(i.traceIs(r,"scatter-like")?(o.hasMarkers(r)||o.hasText(r))&&(t=!0):i.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t}(l)&&k.push("select2d","lasso2d"),b(k),b(_.concat(w)),b(x),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}(y,n)}(e,n.modeBarButtonsToRemove,n.modeBarButtonsToAdd),l?l.update(e,u):t._modeBar=a(e,u)}else l&&(l.destroy(),delete t._modeBar)}},{"../../plots/cartesian/axis_ids":491,"../../registry":532,"../../traces/scatter/subtypes":616,"./buttons":381,"./modebar":384}],384:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("../../lib"),a=e("../../../build/ploticon"),s=new DOMParser;function l(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var u=l.prototype;u.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,o="modebar-"+r._uid;this.element.setAttribute("id",o),this._uid=o,"hover"===n.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar","v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse()),i.deleteRelatedStyleRule(o),i.addRelatedStyleRule(o,"#"+o,"background-color: "+r.modebar.bgcolor),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn .icon path","fill: "+r.modebar.color),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn:hover .icon path","fill: "+r.modebar.activecolor),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn.active .icon path","fill: "+r.modebar.activecolor);var a=!this.hasButtons(t),s=this.hasLogo!==n.displaylogo,l=this.locale!==n.locale;this.locale=n.locale,(a||s||l)&&(this.removeAllButtons(),this.updateButtons(t),n.displaylogo&&("v"===r.modebar.orientation?this.element.prepend(this.getLogo()):this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},u.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var n=t.createGroup();e.forEach(function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var o=t.createButton(e);t.buttonElements.push(o),n.appendChild(o)}),t.element.appendChild(n)})},u.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},u.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var o=e.title;void 0===o?o=e.name:"function"==typeof o&&(o=o(this.graphInfo)),(o||0===o)&&n.setAttribute("data-title",o),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var i=e.val;void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),n.setAttribute("data-val",i));var s=e.click;if("function"!=typeof s)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var l=e.icon;return"function"==typeof l?n.appendChild(l()):n.appendChild(this.createIcon(l||a.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},u.createIcon=function(e){var t,n=o(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var i=document.createElementNS(r,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):void 0!==e.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(i)}if(e.svg){var a=s.parseFromString(e.svg,"application/xml");t=a.childNodes[0]}return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},u.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var o=e.getAttribute("data-val")||!0,a=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),l=r.select(e);if(s)a===n&&l.classed("active",!l.classed("active"));else{var u=null===a?a:i.nestedProperty(t,a).get();l.classed("active",u===o)}})},u.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},u.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(a.newplotlylogo)),e.appendChild(t),e},u.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},u.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},t.exports=function(e,t){var n=e._fullLayout,o=new l({graphInfo:e,container:n._paperdiv.node(),buttons:t});return n._privateplot&&r.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},{"../../../build/ploticon":2,"../../lib":441,d3:85,"fast-isnumeric":149}],385:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),o=e("../color/attributes"),i=e("../../plot_api/plot_template").templatedArray,a=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:o.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":478,"../../plots/font_attributes":515,"../color/attributes":318}],386:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],387:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../color"),i=e("../../plot_api/plot_template"),a=e("../../plots/array_container_defaults"),s=e("./attributes"),l=e("./constants");function u(e,t,n,o){var i=o.calendar;function a(n,o){return r.coerce(e,t,s.buttons,n,o)}var l=a("visible");if(l){var u=a("step");"all"!==u&&(!i||"gregorian"===i||"month"!==u&&"year"!==u?a("stepmode"):t.stepmode="backward",a("count")),a("label")}}t.exports=function(e,t,n,c,d){var f=e.rangeselector||{},h=i.newContainer(t,"rangeselector");function p(e,t){return r.coerce(f,h,s,e,t)}var m=a(f,h,{name:"buttons",handleItemDefaults:u,calendar:d}),g=p("visible",m.length>0);if(g){var v=function(e,t,n){for(var r=n.filter(function(n){return t[n].anchor===e._id}),o=0,i=0;i<r.length;i++){var a=t[r[i]].domain;a&&(o=Math.max(a[1],o))}return[e.domain[0],o+l.yPad]}(t,n,c);p("x",v[0]),p("y",v[1]),r.noneOrAll(e,t,["x","y"]),p("xanchor"),p("yanchor"),r.coerceFont(p,"font",n.font);var y=p("bgcolor");p("activecolor",o.contrast(y,l.lightAmount,l.darkAmount)),p("bordercolor"),p("borderwidth")}}},{"../../lib":441,"../../plot_api/plot_template":478,"../../plots/array_container_defaults":484,"../color":319,"./attributes":385,"./constants":386}],388:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../registry"),i=e("../../plots/plots"),a=e("../color"),s=e("../drawing"),l=e("../../lib"),u=e("../../lib/svg_text_utils"),c=e("../../plots/cartesian/axis_ids"),d=e("../legend/anchor_utils"),f=e("../../constants/alignment"),h=f.LINE_SPACING,p=f.FROM_TL,m=f.FROM_BR,g=e("./constants"),v=e("./get_update_object");function y(e){return e._id}function b(e,t,n){var r=l.ensureSingle(e,"rect","selector-rect",function(e){e.attr("shape-rendering","crispEdges")});r.attr({rx:g.rx,ry:g.ry}),r.call(a.stroke,t.bordercolor).call(a.fill,function(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}(t,n)).style("stroke-width",t.borderwidth+"px")}function _(e,t,n,r){var o,i=l.ensureSingle(e,"text","selector-text",function(e){e.classed("user-select-none",!0).attr("text-anchor","middle")});i.call(s.font,t.font).text((o=n,o.label?o.label:"all"===o.step?"all":o.count+o.step.charAt(0))).call(function(e){u.convertToTspans(e,r)})}t.exports=function(e){var t=e._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(function(e){for(var t=c.list(e,"x",!0),n=[],r=0;r<t.length;r++){var o=t[r];o.rangeselector&&o.rangeselector.visible&&n.push(o)}return n}(e),y);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(t){var n=r.select(this),a=t,c=a.rangeselector,f=n.selectAll("g.button").data(l.filterVisible(c.buttons));f.enter().append("g").classed("button",!0),f.exit().remove(),f.each(function(t){var n=r.select(this),i=v(a,t);t._isActive=function(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}(a,t,i),n.call(b,c,t),n.call(_,c,t,e),n.on("click",function(){e._dragged||o.call("relayout",e,i)}),n.on("mouseover",function(){t._isHovered=!0,n.call(b,c,t)}),n.on("mouseout",function(){t._isHovered=!1,n.call(b,c,t)})}),function(e,t,n,o,a){var l=0,c=0,f=n.borderwidth;t.each(function(){var e=r.select(this),t=e.select(".selector-text"),o=n.font.size*h,i=Math.max(o*u.lineCount(t),16)+3;c=Math.max(c,i)}),t.each(function(){var e=r.select(this),t=e.select(".selector-rect"),o=e.select(".selector-text"),i=o.node()&&s.bBox(o.node()).width,a=n.font.size*h,d=u.lineCount(o),p=Math.max(i+10,g.minButtonWidth);e.attr("transform","translate("+(f+l)+","+f+")"),t.attr({x:0,y:0,width:p,height:c}),u.positionText(o,p/2,c/2-(d-1)*a/2+3),l+=p+5});var v=e._fullLayout._size,y=v.l+v.w*n.x,b=v.t+v.h*(1-n.y),_="left";d.isRightAnchor(n)&&(y-=l,_="right"),d.isCenterAnchor(n)&&(y-=l/2,_="center");var x="top";d.isBottomAnchor(n)&&(b-=c,x="bottom"),d.isMiddleAnchor(n)&&(b-=c/2,x="middle"),l=Math.ceil(l),c=Math.ceil(c),y=Math.round(y),b=Math.round(b),i.autoMargin(e,o+"-range-selector",{x:n.x,y:n.y,l:l*p[_],r:l*m[_],b:c*m[x],t:c*p[x]}),a.attr("transform","translate("+y+","+b+")")}(e,f,c,a._name,n)})}},{"../../constants/alignment":417,"../../lib":441,"../../lib/svg_text_utils":465,"../../plots/cartesian/axis_ids":491,"../../plots/plots":525,"../../registry":532,"../color":319,"../drawing":344,"../legend/anchor_utils":371,"./constants":386,"./get_update_object":389,d3:85}],389:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t){var n=e._name,o={};if("all"===t.step)o[n+".autorange"]=!0;else{var i=function(e,t){var n,o=e.range,i=new Date(e.r2l(o[1])),a=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+r.time[a].utc.offset(i,-s));break;case"todate":var l=r.time[a].utc.offset(i,-s);n=e.l2r(+r.time[a].utc.ceil(l))}var u=o[1];return[n,u]}(e,t);o[n+".range[0]"]=i[0],o[n+".range[1]"]=i[1]}return o}},{d3:85}],390:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":385,"./defaults":387,"./draw":388}],391:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":318}],392:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids").list,o=e("../../plots/cartesian/autorange").getAutoRange,i=e("./constants");t.exports=function(e){for(var t=r(e,"x",!0),n=0;n<t.length;n++){var a=t[n],s=a[i.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=o(e,a))}}},{"../../plots/cartesian/autorange":487,"../../plots/cartesian/axis_ids":491,"./constants":393}],393:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],394:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plot_api/plot_template"),i=e("../../plots/cartesian/axis_ids"),a=e("./attributes"),s=e("./oppaxis_attributes");t.exports=function(e,t,n){var l=e[n],u=t[n];if(l.rangeslider||t._requestRangeslider[u._id]){r.isPlainObject(l.rangeslider)||(l.rangeslider={});var c,d,f=l.rangeslider,h=o.newContainer(u,"rangeslider"),p=k("visible");if(p){k("bgcolor",t.plot_bgcolor),k("bordercolor"),k("borderwidth"),k("thickness"),k("autorange",!u.isValidRange(f.range)),k("range");var m=t._subplots;if(m)for(var g=m.cartesian.filter(function(e){return e.substr(0,e.indexOf("y"))===i.name2id(n)}).map(function(e){return e.substr(e.indexOf("y"),e.length)}),v=r.simpleMap(g,i.id2name),y=0;y<v.length;y++){var b=v[y];c=f[b]||{},d=o.newContainer(h,b,"yaxis");var _,x=t[b];c.range&&x.isValidRange(c.range)&&(_="fixed");var w=E("rangemode",_);"match"!==w&&E("range",x.range.slice())}h._input=f}}function k(e,t){return r.coerce(f,h,a,e,t)}function E(e,t){return r.coerce(c,d,s,e,t)}}},{"../../lib":441,"../../plot_api/plot_template":478,"../../plots/cartesian/axis_ids":491,"./attributes":391,"./oppaxis_attributes":397}],395:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../registry"),i=e("../../plots/plots"),a=e("../../lib"),s=e("../drawing"),l=e("../color"),u=e("../titles"),c=e("../../plots/cartesian"),d=e("../../plots/cartesian/axes"),f=e("../dragelement"),h=e("../../lib/setcursor"),p=e("./constants");function m(e,t,n,r){var o=a.ensureSingle(e,"rect",p.bgClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),i=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,l=-r._offsetShift,u=s.crispRound(t,r.borderwidth);o.attr({width:r._width+i,height:r._height+i,transform:"translate("+l+","+l+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":u})}function g(e,t,n,r){var o=t._fullLayout,i=a.ensureSingleById(o._topdefs,"clipPath",r._clipId,function(e){e.append("rect").attr({x:0,y:0})});i.select("rect").attr({width:r._width,height:r._height})}function v(e,t,n,o){var l,u=d.getSubplots(t,n),f=t.calcdata,h=e.selectAll("g."+p.rangePlotClassName).data(u,a.identity);h.enter().append("g").attr("class",function(e){return p.rangePlotClassName+" "+e}).call(s.setClipUrl,o._clipId),h.order(),h.exit().remove(),h.each(function(e,a){var s=r.select(this),u=0===a,h=d.getFromId(t,e,"y"),p=h._name,m=o[p],g={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:o.range.slice(),calendar:n.calendar},width:o._width,height:o._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};g.layout[p]={type:h.type,domain:[0,1],range:"match"!==m.rangemode?m.range.slice():h.range.slice(),calendar:h.calendar},i.supplyDefaults(g);var v=g._fullLayout.xaxis,y=g._fullLayout[p],b={id:e,plotgroup:s,xaxis:v,yaxis:y,isRangePlot:!0};u?l=b:(b.mainplot="xy",b.mainplotinfo=l),c.rangePlot(t,b,function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=o[0].trace;i.xaxis+i.yaxis===t&&n.push(o)}return n}(f,e))})}function y(e,t,n,r,o){var i=a.ensureSingle(e,"rect",p.maskMinClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})});i.attr("height",r._height).call(l.fill,p.maskColor);var s=a.ensureSingle(e,"rect",p.maskMaxClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});if(s.attr("height",r._height).call(l.fill,p.maskColor),"match"!==o.rangemode){var u=a.ensureSingle(e,"rect",p.maskMinOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});u.attr("width",r._width).call(l.fill,p.maskOppAxisColor);var c=a.ensureSingle(e,"rect",p.maskMaxOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});c.attr("width",r._width).style("border-top",p.maskOppBorder).call(l.fill,p.maskOppAxisColor)}}function b(e,t,n,r){if(!t._context.staticPlot){var o=a.ensureSingle(e,"rect",p.slideBoxClassName,function(e){e.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})});o.attr({height:r._height,fill:p.slideBoxFill})}}function _(e,t,n,r){var o=a.ensureSingle(e,"g",p.grabberMinClassName),i=a.ensureSingle(e,"g",p.grabberMaxClassName),s={x:0,width:p.handleWidth,rx:p.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},u={y:Math.round(r._height/4),height:Math.round(r._height/2)},c=a.ensureSingle(o,"rect",p.handleMinClassName,function(e){e.attr(s)});c.attr(u);var d=a.ensureSingle(i,"rect",p.handleMaxClassName,function(e){e.attr(s)});if(d.attr(u),!t._context.staticPlot){var f={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:p.grabAreaCursor},h=a.ensureSingle(o,"rect",p.grabAreaMinClassName,function(e){e.attr(f)});h.attr("height",r._height);var m=a.ensureSingle(i,"rect",p.grabAreaMaxClassName,function(e){e.attr(f)});m.attr("height",r._height)}}t.exports=function(e){var t=e._fullLayout,n=function(e){var t=d.list({_fullLayout:e},"x",!0),n=p.name,r=[];if(e._has("gl2d"))return r;for(var o=0;o<t.length;o++){var i=t[o];i[n]&&i[n].visible&&r.push(i)}return r}(t),s=t._infolayer.selectAll("g."+p.containerClassName).data(n,function(e){return e._name});s.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),s.exit().each(function(e){var n=e[p.name];t._topdefs.select("#"+n._clipId).remove()}).remove(),0!==n.length&&s.each(function(n){var s=r.select(this),l=n[p.name],c=t[d.id2name(n.anchor)],x=l[d.id2name(n.anchor)];if(l.range){var w=l.range,k=n.range;w[0]=n.l2r(Math.min(n.r2l(w[0]),n.r2l(k[0]))),w[1]=n.l2r(Math.max(n.r2l(w[1]),n.r2l(k[1]))),l._input.range=w.slice()}n.cleanRange("rangeslider.range");for(var E=t.margin,T=t._size,A=n.domain,S=(n._boundingBox||{}).height||0,M=1/0,C=d.getSubplots(e,n),j=0;j<C.length;j++){var O=d.getFromId(e,C[j].substr(C[j].indexOf("y")));M=Math.min(M,O.domain[0])}l._id=p.name+n._id,l._clipId=l._id+"-"+t._uid,l._width=T.w*(A[1]-A[0]),l._height=(t.height-E.b-E.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2);var N=Math.round(E.l+T.w*A[0]),R=Math.round(T.t+T.h*(1-M)+S+l._offsetShift+p.extraPad);s.attr("transform","translate("+N+","+R+")");var P=n.r2l(l.range[0]),I=n.r2l(l.range[1]),D=I-P;if(l.p2d=function(e){return e/l._width*D+P},l.d2p=function(e){return(e-P)/D*l._width},l._rl=[P,I],"match"!==x.rangemode){var L=c.r2l(x.range[0]),B=c.r2l(x.range[1]),F=B-L;l.d2pOppAxis=function(e){return(e-L)/F*l._height}}s.call(m,e,n,l).call(g,e,n,l).call(v,e,n,l).call(y,e,n,l,x).call(b,e,n,l).call(_,e,n,l),function(e,t,n,i){var s=e.select("rect."+p.slideBoxClassName).node(),l=e.select("rect."+p.grabAreaMinClassName).node(),u=e.select("rect."+p.grabAreaMaxClassName).node();e.on("mousedown",function(){var c=r.event,d=c.target,p=c.clientX,m=p-e.node().getBoundingClientRect().left,g=i.d2p(n._rl[0]),v=i.d2p(n._rl[1]),y=f.coverSlip();function b(e){var c,f,b,_=+e.clientX-p;switch(d){case s:b="ew-resize",c=g+_,f=v+_;break;case l:b="col-resize",c=g+_,f=v;break;case u:b="col-resize",c=g,f=v+_;break;default:b="ew-resize",c=m,f=m+_}if(f<c){var x=f;f=c,c=x}i._pixelMin=c,i._pixelMax=f,h(r.select(y),b),function(e,t,n,r){function i(e){return n.l2r(a.constrain(e,r._rl[0],r._rl[1]))}var s=i(r.p2d(r._pixelMin)),l=i(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){o.call("relayout",t,n._name+".range",[s,l])})}(0,t,n,i)}y.addEventListener("mousemove",b),y.addEventListener("mouseup",function e(){y.removeEventListener("mousemove",b),y.removeEventListener("mouseup",e),a.removeElement(y)})})}(s,e,n,l),function(e,t,n,r,o,i){var s=p.handleWidth/2;function l(e){return a.constrain(e,0,r._width)}function u(e){return a.constrain(e,0,r._height)}function c(e){return a.constrain(e,-s,r._width+s)}var d=l(r.d2p(n._rl[0])),f=l(r.d2p(n._rl[1]));if(e.select("rect."+p.slideBoxClassName).attr("x",d).attr("width",f-d),e.select("rect."+p.maskMinClassName).attr("width",d),e.select("rect."+p.maskMaxClassName).attr("x",f).attr("width",r._width-f),"match"!==i.rangemode){var h=r._height-u(r.d2pOppAxis(o._rl[1])),m=r._height-u(r.d2pOppAxis(o._rl[0]));e.select("rect."+p.maskMinOppAxisClassName).attr("x",d).attr("height",h).attr("width",f-d),e.select("rect."+p.maskMaxOppAxisClassName).attr("x",d).attr("y",m).attr("height",r._height-m).attr("width",f-d),e.select("rect."+p.slideBoxClassName).attr("y",h).attr("height",m-h)}var g=Math.round(c(d-s))-.5,v=Math.round(c(f-s))+.5;e.select("g."+p.grabberMinClassName).attr("transform","translate("+g+",0.5)"),e.select("g."+p.grabberMaxClassName).attr("transform","translate("+v+",0.5)")}(s,0,n,l,c,x),"bottom"===n.side&&u.draw(e,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:R+l._height+l._offsetShift+10+1.5*n.titlefont.size,"text-anchor":"middle"}}),i.autoMargin(e,l._id,{x:A[0],y:M,l:0,r:0,t:0,b:l._height+E.b+S,pad:p.extraPad+2*l._offsetShift})})}},{"../../lib":441,"../../lib/setcursor":461,"../../plots/cartesian":500,"../../plots/cartesian/axes":488,"../../plots/plots":525,"../../registry":532,"../color":319,"../dragelement":341,"../drawing":344,"../titles":410,"./constants":393,d3:85}],396:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./attributes"),i=e("./oppaxis_attributes");t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},o,{yaxis:i})}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw")}},{"../../lib":441,"./attributes":391,"./calc_autorange":392,"./defaults":394,"./draw":395,"./oppaxis_attributes":397}],397:[function(e,t,n){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],398:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),o=e("../../traces/scatter/attributes").line,i=e("../drawing/attributes").dash,a=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray;t.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:a({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:a({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:a({},o.color,{editType:"arraydraw"}),width:a({},o.width,{editType:"calc+arraydraw"}),dash:a({},i,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},editType:"arraydraw"})},{"../../lib/extend":432,"../../plot_api/plot_template":478,"../../traces/scatter/attributes":592,"../annotations/attributes":304,"../drawing/attributes":343}],399:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("./constants"),a=e("./helpers");function s(e){return u(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function l(e){return u(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function u(e,t,n,o,s,l){var u=e/2,c=l;if("pixel"===t){var d=s?a.extractPathCoords(s,l?i.paramIsY:i.paramIsX):[n,o],f=r.aggNums(Math.max,null,d),h=r.aggNums(Math.min,null,d),p=h<0?Math.abs(h)+u:u,m=f>0?f+u:u;return{ppad:u,ppadplus:c?p:m,ppadminus:c?m:p}}return{ppad:u}}function c(e,t,n,r,o){var s="category"===e.type?e.r2c:e.d2c;if(void 0!==t)return[s(t),s(n)];if(r){var l,u,c,d,f,h=1/0,p=-1/0,m=r.match(i.segmentRE);for("date"===e.type&&(s=a.decodeDate(s)),l=0;l<m.length;l++)u=m[l],void 0!==(c=o[u.charAt(0)].drawn)&&(!(d=m[l].substr(1).match(i.paramRE))||d.length<c||((f=s(d[c]))<h&&(h=f),f>p&&(p=f)));return p>=h?[h,p]:void 0}}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var a=0;a<n.length;a++){var u,d,f=n[a];if(f._extremes={},"paper"!==f.xref){var h="pixel"===f.xsizemode?f.xanchor:f.x0,p="pixel"===f.xsizemode?f.xanchor:f.x1;u=o.getFromId(e,f.xref),(d=c(u,h,p,f.path,i.paramIsX))&&(f._extremes[u._id]=o.findExtremes(u,d,s(f)))}if("paper"!==f.yref){var m="pixel"===f.ysizemode?f.yanchor:f.y0,g="pixel"===f.ysizemode?f.yanchor:f.y1;u=o.getFromId(e,f.yref),(d=c(u,m,g,f.path,i.paramIsY))&&(f._extremes[u._id]=o.findExtremes(u,d,l(f)))}}}},{"../../lib":441,"../../plots/cartesian/axes":488,"./constants":400,"./helpers":403}],400:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],401:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("../../plots/array_container_defaults"),a=e("./attributes"),s=e("./helpers");function l(e,t,n){function i(n,o){return r.coerce(e,t,a,n,o)}var l=i("visible");if(l){i("layer"),i("opacity"),i("fillcolor"),i("line.color"),i("line.width"),i("line.dash");for(var u=e.path?"path":"rect",c=i("type",u),d=i("xsizemode"),f=i("ysizemode"),h=["x","y"],p=0;p<2;p++){var m,g,v,y=h[p],b=y+"anchor",_="x"===y?d:f,x={_fullLayout:n},w=o.coerceRef(e,t,x,y,"","paper");if("paper"!==w?((m=o.getFromId(x,w))._shapeIndices.push(t._index),v=s.rangeToShapePosition(m),g=s.shapePositionToRange(m)):g=v=r.identity,"path"!==c){var k=y+"0",E=y+"1",T=e[k],A=e[E];e[k]=g(e[k],!0),e[E]=g(e[E],!0),"pixel"===_?(i(k,0),i(E,10)):(o.coercePosition(t,x,i,w,k,.25),o.coercePosition(t,x,i,w,E,.75)),t[k]=v(t[k]),t[E]=v(t[E]),e[k]=T,e[E]=A}if("pixel"===_){var S=e[b];e[b]=g(e[b],!0),o.coercePosition(t,x,i,w,b,.25),t[b]=v(t[b]),e[b]=S}}"path"===c?i("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"])}}t.exports=function(e,t){i(e,t,{name:"shapes",handleItemDefaults:l})}},{"../../lib":441,"../../plots/array_container_defaults":484,"../../plots/cartesian/axes":488,"./attributes":398,"./helpers":403}],402:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../color"),s=e("../drawing"),l=e("../../plot_api/plot_template").arrayEditor,u=e("../dragelement"),c=e("../../lib/setcursor"),d=e("./constants"),f=e("./helpers");function h(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=e._fullLayout.shapes[t]||{};if(n._input&&!1!==n.visible)if("below"!==n.layer)y(e._fullLayout._shapeUpperLayer);else if("paper"===n.xref||"paper"===n.yref)y(e._fullLayout._shapeLowerLayer);else{var h=e._fullLayout._plots[n.xref+n.yref];if(h){var v=h.mainplotinfo||h;y(v.shapelayer)}else y(e._fullLayout._shapeLowerLayer)}function y(h){var v={"data-index":t,"fill-rule":"evenodd",d:m(e,n)},y=n.line.width?n.line.color:"rgba(0,0,0,0)",b=h.append("path").attr(v).style("opacity",n.opacity).call(a.stroke,y).call(a.fill,n.fillcolor).call(s.dashLine,n.line.dash,n.line.width);p(b,e,n),e._context.edits.shapePosition&&function(e,t,n,a,h){var v,y,b,_,x,w,k,E,T,A,S,M,C,j,O,N,R=10,P=10,I="pixel"===n.xsizemode,D="pixel"===n.ysizemode,L="line"===n.type,B="path"===n.type,F=l(e.layout,"shapes",n),z=F.modifyItem,U=i.getFromId(e,n.xref),q=i.getFromId(e,n.yref),V=f.getDataToPixel(e,U),H=f.getDataToPixel(e,q,!0),W=f.getPixelToData(e,U),G=f.getPixelToData(e,q,!0),X=L?function(){var e=Math.max(n.line.width,10),r=h.append("g").attr("data-index",a);r.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var o={"fill-opacity":"0"},i=e/2>10?e/2:10;return r.append("circle").attr({"data-line-point":"start-point",cx:I?V(n.xanchor)+n.x0:V(n.x0),cy:D?H(n.yanchor)-n.y0:H(n.y0),r:i}).style(o).classed("cursor-grab",!0),r.append("circle").attr({"data-line-point":"end-point",cx:I?V(n.xanchor)+n.x1:V(n.x1),cy:D?H(n.yanchor)-n.y1:H(n.y1),r:i}).style(o).classed("cursor-grab",!0),r}():t,K={element:X.node(),gd:e,prepFn:function(r){I&&(x=V(n.xanchor)),D&&(w=H(n.yanchor)),"path"===n.type?O=n.path:(v=I?n.x0:V(n.x0),y=D?n.y0:H(n.y0),b=I?n.x1:V(n.x1),_=D?n.y1:H(n.y1)),v<b?(T=v,C="x0",A=b,j="x1"):(T=b,C="x1",A=v,j="x0"),!D&&y<_||D&&y>_?(k=y,S="y0",E=_,M="y1"):(k=_,S="y1",E=y,M="y0"),Y(r),Q(h,n),function(e,t,n){var r=t.xref,o=t.yref,a=i.getFromId(n,r),l=i.getFromId(n,o),u="";"paper"===r||a.autorange||(u+=r),"paper"===o||l.autorange||(u+=o),e.call(s.setClipUrl,u?"clip"+n._fullLayout._uid+u:null)}(t,n,e),K.moveFn="move"===N?$:Z},doneFn:function(){c(t),J(h),p(t,e,n),r.call("relayout",e,F.getUpdateObj())},clickFn:function(){J(h)}};function Y(e){if(L)N="path"===e.target.tagName?"move":"start-point"===e.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=K.element.getBoundingClientRect(),r=n.right-n.left,o=n.bottom-n.top,i=e.clientX-n.left,a=e.clientY-n.top,s=!B&&r>R&&o>P&&!e.shiftKey?u.getCursor(i/r,1-a/o):"move";c(t,s),N=s.split("-")[0]}}function $(r,o){if("path"===n.type){var i=function(e){return e},a=i,s=i;I?z("xanchor",n.xanchor=W(x+r)):(a=function(e){return W(V(e)+r)},U&&"date"===U.type&&(a=f.encodeDate(a))),D?z("yanchor",n.yanchor=G(w+o)):(s=function(e){return G(H(e)+o)},q&&"date"===q.type&&(s=f.encodeDate(s))),z("path",n.path=g(O,a,s))}else I?z("xanchor",n.xanchor=W(x+r)):(z("x0",n.x0=W(v+r)),z("x1",n.x1=W(b+r))),D?z("yanchor",n.yanchor=G(w+o)):(z("y0",n.y0=G(y+o)),z("y1",n.y1=G(_+o)));t.attr("d",m(e,n)),Q(h,n)}function Z(r,o){if(B){var i=function(e){return e},a=i,s=i;I?z("xanchor",n.xanchor=W(x+r)):(a=function(e){return W(V(e)+r)},U&&"date"===U.type&&(a=f.encodeDate(a))),D?z("yanchor",n.yanchor=G(w+o)):(s=function(e){return G(H(e)+o)},q&&"date"===q.type&&(s=f.encodeDate(s))),z("path",n.path=g(O,a,s))}else if(L){if("resize-over-start-point"===N){var l=v+r,u=D?y-o:y+o;z("x0",n.x0=I?l:W(l)),z("y0",n.y0=D?u:G(u))}else if("resize-over-end-point"===N){var c=b+r,d=D?_-o:_+o;z("x1",n.x1=I?c:W(c)),z("y1",n.y1=D?d:G(d))}}else{var p=~N.indexOf("n")?k+o:k,F=~N.indexOf("s")?E+o:E,X=~N.indexOf("w")?T+r:T,K=~N.indexOf("e")?A+r:A;~N.indexOf("n")&&D&&(p=k-o),~N.indexOf("s")&&D&&(F=E-o),(!D&&F-p>P||D&&p-F>P)&&(z(S,n[S]=D?p:G(p)),z(M,n[M]=D?F:G(F))),K-X>R&&(z(C,n[C]=I?X:W(X)),z(j,n[j]=I?K:W(K)))}t.attr("d",m(e,n)),Q(h,n)}function Q(e,t){(I||D)&&function(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]);r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var i=V(I?t.xanchor:o.midRange(n?[t.x0,t.x1]:f.extractPathCoords(t.path,d.paramIsX))),a=H(D?t.yanchor:o.midRange(n?[t.y0,t.y1]:f.extractPathCoords(t.path,d.paramIsY)));if(i=f.roundPositionForSharpStrokeRendering(i,1),a=f.roundPositionForSharpStrokeRendering(a,1),I&&D){var s="M"+(i-1-1)+","+(a-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",s)}else if(I){var l="M"+(i-1-1)+","+(a-9-1)+"v18 h2 v-18 Z";r.attr("d",l)}else{var u="M"+(i-9-1)+","+(a-1-1)+"h18 v2 h-18 Z";r.attr("d",u)}}()}function J(e){e.selectAll(".visual-cue").remove()}u.init(K),X.node().onmousemove=Y}(e,b,n,t,h)}}function p(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"");e.call(s.setClipUrl,r?"clip"+t._fullLayout._uid+r:null)}function m(e,t){var n,r,a,s,l,u,c,h,p=t.type,m=i.getFromId(e,t.xref),g=i.getFromId(e,t.yref),v=e._fullLayout._size;if(m?(n=f.shapePositionToRange(m),r=function(e){return m._offset+m.r2p(n(e,!0))}):r=function(e){return v.l+v.w*e},g?(a=f.shapePositionToRange(g),s=function(e){return g._offset+g.r2p(a(e,!0))}):s=function(e){return v.t+v.h*(1-e)},"path"===p)return m&&"date"===m.type&&(r=f.decodeDate(r)),g&&"date"===g.type&&(s=f.decodeDate(s)),function(e,t,n){var r=e.path,i=e.xsizemode,a=e.ysizemode,s=e.xanchor,l=e.yanchor;return r.replace(d.segmentRE,function(e){var r=0,u=e.charAt(0),c=d.paramIsX[u],f=d.paramIsY[u],h=d.numParams[u],p=e.substr(1).replace(d.paramRE,function(e){return c[r]?e="pixel"===i?t(s)+Number(e):t(e):f[r]&&(e="pixel"===a?n(l)-Number(e):n(e)),++r>h&&(e="X"),e});return r>h&&(p=p.replace(/[\s,]*X.*/,""),o.log("Ignoring extra params in segment "+e)),u+p})}(t,r,s);if("pixel"===t.xsizemode){var y=r(t.xanchor);l=y+t.x0,u=y+t.x1}else l=r(t.x0),u=r(t.x1);if("pixel"===t.ysizemode){var b=s(t.yanchor);c=b-t.y0,h=b-t.y1}else c=s(t.y0),h=s(t.y1);if("line"===p)return"M"+l+","+c+"L"+u+","+h;if("rect"===p)return"M"+l+","+c+"H"+u+"V"+h+"H"+l+"Z";var _=(l+u)/2,x=(c+h)/2,w=Math.abs(_-l),k=Math.abs(x-c),E="A"+w+","+k,T=_+w+","+x,A=_+","+(x-k);return"M"+T+E+" 0 1,1 "+A+E+" 0 0,1 "+T+"Z"}function g(e,t,n){return e.replace(d.segmentRE,function(e){var r=0,o=e.charAt(0),i=d.paramIsX[o],a=d.paramIsY[o],s=d.numParams[o],l=e.substr(1).replace(d.paramRE,function(e){return r>=s?e:(i[r]?e=t(e):a[r]&&(e=n(e)),r++,e)});return o+l})}t.exports={draw:function(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var o=0;o<t.shapes.length;o++)t.shapes[o].visible&&h(e,o)},drawOne:h}},{"../../lib":441,"../../lib/setcursor":461,"../../plot_api/plot_template":478,"../../plots/cartesian/axes":488,"../../registry":532,"../color":319,"../dragelement":341,"../drawing":344,"./constants":400,"./helpers":403}],403:[function(e,t,n){"use strict";var r=e("./constants"),o=e("../../lib");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.extractPathCoords=function(e,t){var n=[],i=e.match(r.segmentRE);return i.forEach(function(e){var i=t[e.charAt(0)].drawn;if(void 0!==i){var a=e.substr(1).match(r.paramRE);!a||a.length<i||n.push(o.cleanNumber(a[i]))}}),n},n.getDataToPixel=function(e,t,r){var o,i=e._fullLayout._size;if(t){var a=n.shapePositionToRange(t);o=function(e){return t._offset+t.r2p(a(e,!0))},"date"===t.type&&(o=n.decodeDate(o))}else o=r?function(e){return i.t+i.h*(1-e)}:function(e){return i.l+i.w*e};return o},n.getPixelToData=function(e,t,r){var o,i=e._fullLayout._size;if(t){var a=n.rangeToShapePosition(t);o=function(e){return a(t.p2r(e-t._offset))}}else o=r?function(e){return 1-(e-i.t)/i.h}:function(e){return(e-i.l)/i.w};return o},n.roundPositionForSharpStrokeRendering=function(e,t){var n=1===Math.round(t%2),r=Math.round(e);return n?r+.5:r}},{"../../lib":441,"./constants":400}],404:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("shapes"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":499,"./attributes":398,"./calc_autorange":399,"./defaults":401,"./draw":402}],405:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),o=e("../../plots/pad_attributes"),i=e("../../lib/extend").extendDeepAll,a=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/animation_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=e("./constants"),c=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=a(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i({},o,{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":432,"../../plot_api/edit_types":471,"../../plot_api/plot_template":478,"../../plots/animation_attributes":483,"../../plots/font_attributes":515,"../../plots/pad_attributes":524,"./constants":406}],406:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],407:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/array_container_defaults"),i=e("./attributes"),a=e("./constants"),s=a.name,l=i.steps;function u(e,t,n){function a(n,o){return r.coerce(e,t,i,n,o)}for(var s=o(e,t,{name:"steps",handleItemDefaults:c}),l=0,u=0;u<s.length;u++)s[u].visible&&l++;if(l<2?t.visible=!1:a("visible")){t._stepCount=l;var d=t._visibleSteps=r.filterVisible(s),f=a("active");(s[f]||{}).visible||(t.active=d[0]._index),a("x"),a("y"),r.noneOrAll(e,t,["x","y"]),a("xanchor"),a("yanchor"),a("len"),a("lenmode"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font);var h=a("currentvalue.visible");h&&(a("currentvalue.xanchor"),a("currentvalue.prefix"),a("currentvalue.suffix"),a("currentvalue.offset"),r.coerceFont(a,"currentvalue.font",t.font)),a("transition.duration"),a("transition.easing"),a("bgcolor"),a("activebgcolor"),a("bordercolor"),a("borderwidth"),a("ticklen"),a("tickwidth"),a("tickcolor"),a("minorticklen")}}function c(e,t){function n(n,o){return r.coerce(e,t,l,n,o)}if("skip"===e.method||Array.isArray(e.args)?n("visible"):t.visible=!1){n("method"),n("args");var o=n("label","step-"+t._index);n("value",o),n("execute")}}t.exports=function(e,t){o(e,t,{name:s,handleItemDefaults:u})}},{"../../lib":441,"../../plots/array_container_defaults":484,"./attributes":405,"./constants":406}],408:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../plots/plots"),i=e("../color"),a=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../legend/anchor_utils"),c=e("../../plot_api/plot_template").arrayEditor,d=e("./constants"),f=e("../../constants/alignment"),h=f.LINE_SPACING,p=f.FROM_TL,m=f.FROM_BR;function g(e){return d.autoMarginIdRoot+e._index}function v(e){return e._index}function y(e,t){var n=a.tester.selectAll("g."+d.labelGroupClass).data(t._visibleSteps);n.enter().append("g").classed(d.labelGroupClass,!0);var i=0,s=0;n.each(function(e){var n=r.select(this),o=x(n,{step:e},t),l=o.node();if(l){var u=a.bBox(l);s=Math.max(s,u.height),i=Math.max(i,u.width)}}),n.remove();var c=t._dims={};c.inputAreaWidth=Math.max(d.railWidth,d.gripHeight);var f=e._fullLayout._size;c.lx=f.l+f.w*t.x,c.ly=f.t+f.h*(1-t.y),"fraction"===t.lenmode?c.outerLength=Math.round(f.w*t.len):c.outerLength=t.len,c.inputAreaStart=0,c.inputAreaLength=Math.round(c.outerLength-t.pad.l-t.pad.r);var h=c.inputAreaLength-2*d.stepInset,v=h/(t._stepCount-1),y=i+d.labelPadding;if(c.labelStride=Math.max(1,Math.ceil(y/v)),c.labelHeight=s,c.currentValueMaxWidth=0,c.currentValueHeight=0,c.currentValueTotalHeight=0,c.currentValueMaxLines=1,t.currentvalue.visible){var _=a.tester.append("g");n.each(function(e){var n=b(_,t,e.label),r=n.node()&&a.bBox(n.node())||{width:0,height:0},o=l.lineCount(n);c.currentValueMaxWidth=Math.max(c.currentValueMaxWidth,Math.ceil(r.width)),c.currentValueHeight=Math.max(c.currentValueHeight,Math.ceil(r.height)),c.currentValueMaxLines=Math.max(c.currentValueMaxLines,o)}),c.currentValueTotalHeight=c.currentValueHeight+t.currentvalue.offset,_.remove()}c.height=c.currentValueTotalHeight+d.tickOffset+t.ticklen+d.labelOffset+c.labelHeight+t.pad.t+t.pad.b;var w="left";u.isRightAnchor(t)&&(c.lx-=c.outerLength,w="right"),u.isCenterAnchor(t)&&(c.lx-=c.outerLength/2,w="center");var k="top";u.isBottomAnchor(t)&&(c.ly-=c.height,k="bottom"),u.isMiddleAnchor(t)&&(c.ly-=c.height/2,k="middle"),c.outerLength=Math.ceil(c.outerLength),c.height=Math.ceil(c.height),c.lx=Math.round(c.lx),c.ly=Math.round(c.ly);var E={y:t.y,b:c.height*m[k],t:c.height*p[k]};"fraction"===t.lenmode?(E.l=0,E.xl=t.x-t.len*p[w],E.r=0,E.xr=t.x+t.len*m[w]):(E.x=t.x,E.l=c.outerLength*p[w],E.r=c.outerLength*m[w]),o.autoMargin(e,g(t),E)}function b(e,t,n){if(t.currentvalue.visible){var r,o,i=t._dims;switch(t.currentvalue.xanchor){case"right":r=i.inputAreaLength-d.currentValueInset-i.currentValueMaxWidth,o="left";break;case"center":r=.5*i.inputAreaLength,o="middle";break;default:r=d.currentValueInset,o="left"}var u=s.ensureSingle(e,"text",d.labelClass,function(e){e.classed("user-select-none",!0).attr({"text-anchor":o,"data-notex":1})}),c=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof n)c+=n;else{var f=t.steps[t.active].label;c+=f}t.currentvalue.suffix&&(c+=t.currentvalue.suffix),u.call(a.font,t.currentvalue.font).text(c).call(l.convertToTspans,t._gd);var p=l.lineCount(u),m=(i.currentValueMaxLines+1-p)*t.currentvalue.font.size*h;return l.positionText(u,r,m),u}}function _(e,t,n){var r=s.ensureSingle(e,"rect",d.gripRectClass,function(r){r.call(T,t,e,n).style("pointer-events","all")});r.attr({width:d.gripWidth,height:d.gripHeight,rx:d.gripRadius,ry:d.gripRadius}).call(i.stroke,n.bordercolor).call(i.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function x(e,t,n){var r=s.ensureSingle(e,"text",d.labelClass,function(e){e.classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1})});return r.call(a.font,n.font).text(t.step.label).call(l.convertToTspans,n._gd),r}function w(e,t){var n=s.ensureSingle(e,"g",d.labelsClass),o=t._dims,i=n.selectAll("g."+d.labelGroupClass).data(o.labelSteps);i.enter().append("g").classed(d.labelGroupClass,!0),i.exit().remove(),i.each(function(e){var n=r.select(this);n.call(x,e,t),a.setTranslate(n,M(t,e.fraction),d.tickOffset+t.ticklen+t.font.size*h+d.labelOffset+o.currentValueTotalHeight)})}function k(e,t,n,r,o){var i=Math.round(r*(n._stepCount-1)),a=n._visibleSteps[i]._index;a!==n.active&&E(e,t,n,a,!0,o)}function E(e,t,n,r,i,a){var s=n.active;n.active=r,c(e.layout,d.name,n).applyUpdate("active",r);var l=n.steps[n.active];t.call(S,n,a),t.call(b,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:i,previousActive:s}),l&&l.method&&i&&(t._nextMethod?(t._nextMethod.step=l,t._nextMethod.doCallback=i,t._nextMethod.doTransition=a):(t._nextMethod={step:l,doCallback:i,doTransition:a},t._nextMethodRaf=window.requestAnimationFrame(function(){var n=t._nextMethod.step;n.method&&(n.execute&&o.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function T(e,t,n){var o=n.node(),a=r.select(t);function s(){return n.data()[0]}e.on("mousedown",function(){var e=s();t.emit("plotly_sliderstart",{slider:e});var l=n.select("."+d.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),l.call(i.fill,e.activebgcolor);var u=C(e,r.mouse(o)[0]);k(t,n,e,u,!0),e._dragging=!0,a.on("mousemove",function(){var e=s(),i=C(e,r.mouse(o)[0]);k(t,n,e,i,!1)}),a.on("mouseup",function(){var e=s();e._dragging=!1,l.call(i.fill,e.bgcolor),a.on("mouseup",null),a.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function A(e,t){var n=e.selectAll("rect."+d.tickRectClass).data(t._visibleSteps),o=t._dims;n.enter().append("rect").classed(d.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each(function(e,n){var s=n%o.labelStride==0,l=r.select(this);l.attr({height:s?t.ticklen:t.minorticklen}).call(i.fill,t.tickcolor),a.setTranslate(l,M(t,n/(t._stepCount-1))-.5*t.tickwidth,(s?d.tickOffset:d.minorTickOffset)+o.currentValueTotalHeight)})}function S(e,t,n){for(var r=e.select("rect."+d.gripRectClass),o=0,i=0;i<t._stepCount;i++)if(t._visibleSteps[i]._index===t.active){o=i;break}var a=M(t,o/(t._stepCount-1));if(!t._invokingCommand){var s=r;n&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr("transform","translate("+(a-.5*d.gripWidth)+","+t._dims.currentValueTotalHeight+")")}}function M(e,t){var n=e._dims;return n.inputAreaStart+d.stepInset+(n.inputAreaLength-2*d.stepInset)*Math.min(1,Math.max(0,t))}function C(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-d.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*d.stepInset-2*n.inputAreaStart)))}function j(e,t,n){var r=n._dims,o=s.ensureSingle(e,"rect",d.railTouchRectClass,function(r){r.call(T,t,e,n).style("pointer-events","all")});o.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,d.tickOffset+n.ticklen+r.labelHeight)}).call(i.fill,n.bgcolor).attr("opacity",0),a.setTranslate(o,0,r.currentValueTotalHeight)}function O(e,t){var n=t._dims,r=n.inputAreaLength-2*d.railInset,o=s.ensureSingle(e,"rect",d.railRectClass);o.attr({width:r,height:d.railWidth,rx:d.railRadius,ry:d.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),a.setTranslate(o,d.railInset,.5*(n.inputAreaWidth-d.railWidth)+n.currentValueTotalHeight)}t.exports=function(e){var t=e._fullLayout,n=function(e,t){for(var n=e[d.name],r=[],o=0;o<n.length;o++){var i=n[o];i.visible&&(i._gd=t,r.push(i))}return r}(t,e),i=t._infolayer.selectAll("g."+d.containerClassName).data(n.length>0?[0]:[]);function s(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),o.autoMargin(e,g(t))}if(i.enter().append("g").classed(d.containerClassName,!0).style("cursor","ew-resize"),i.exit().each(function(){r.select(this).selectAll("g."+d.groupClassName).each(s)}).remove(),0!==n.length){var l=i.selectAll("g."+d.groupClassName).data(n,v);l.enter().append("g").classed(d.groupClassName,!0),l.exit().each(s).remove();for(var u=0;u<n.length;u++){var c=n[u];y(e,c)}l.each(function(t){var n=r.select(this);!function(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})}(t),o.manageCommandObserver(e,t,t._visibleSteps,function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||E(e,n,r,t.index,!1,!0))}),function(e,t,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),t.call(b,n).call(O,n).call(w,n).call(A,n).call(j,e,n).call(_,e,n);var r=n._dims;a.setTranslate(t,r.lx+n.pad.l,r.ly+n.pad.t),t.call(S,n,!1),t.call(b,n)}(e,r.select(this),t)})}}},{"../../constants/alignment":417,"../../lib":441,"../../lib/svg_text_utils":465,"../../plot_api/plot_template":478,"../../plots/plots":525,"../color":319,"../drawing":344,"../legend/anchor_utils":371,"./constants":406,d3:85}],409:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":405,"./constants":406,"./defaults":407,"./draw":408}],410:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib"),l=e("../drawing"),u=e("../color"),c=e("../../lib/svg_text_utils"),d=e("../../constants/interactions");t.exports={draw:function(e,t,n){var h,p=n.propContainer,m=n.propName,g=n.placeholder,v=n.traceIndex,y=n.avoid||{},b=n.attributes,_=n.transform,x=n.containerGroup,w=e._fullLayout,k=p.titlefont||{},E=k.family,T=k.size,A=k.color,S=1,M=!1,C=(p.title||"").trim();"title"===m?h="titleText":-1!==m.indexOf("axis")?h="axisTitleText":m.indexOf(!0)&&(h="colorbarTitleText");var j=e._context.edits[h];""===C?S=0:C.replace(f," % ")===g.replace(f," % ")&&(S=.2,M=!0,j||(C=""));var O=C||j;x||(x=s.ensureSingle(w._infolayer,"g","g-"+t));var N=x.selectAll("text").data(O?[0]:[]);if(N.enter().append("text"),N.text(C).attr("class",t),N.exit().remove(),!O)return x;function R(e){s.syncOrAsync([P,I],e)}function P(t){var n;return _?(n="",_.rotate&&(n+="rotate("+[_.rotate,b.x,b.y]+")"),_.offset&&(n+="translate(0, "+_.offset+")")):n=null,t.attr("transform",n),t.style({"font-family":E,"font-size":r.round(T,2)+"px",fill:u.rgb(A),opacity:S*u.opacity(A),"font-weight":i.fontWeight}).attr(b).call(c.convertToTspans,e),i.previousPromises(e)}function I(e){var t=r.select(e.node().parentNode);if(y&&y.selection&&y.side&&C){t.attr("transform",null);var n=0,i={left:"right",right:"left",top:"bottom",bottom:"top"}[y.side],a=-1!==["left","top"].indexOf(y.side)?-1:1,u=o(y.pad)?y.pad:2,c=l.bBox(t.node()),d={left:0,top:0,right:w.width,bottom:w.height},f=y.maxShift||(d[y.side]-c[y.side])*("left"===y.side||"top"===y.side?-1:1);if(f<0)n=f;else{var h=y.offsetLeft||0,p=y.offsetTop||0;c.left-=h,c.right-=h,c.top-=p,c.bottom-=p,y.selection.each(function(){var e=l.bBox(this);s.bBoxIntersect(c,e,u)&&(n=Math.max(n,a*(e[y.side]-c[i])+u))}),n=Math.min(f,n)}if(n>0||f<0){var m={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[y.side];t.attr("transform","translate("+m+")")}}}return N.call(R),j&&(C?N.on(".opacity",null):(S=0,M=!0,N.text(g).on("mouseover.opacity",function(){r.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})),N.call(c.makeEditable,{gd:e}).on("edit",function(t){void 0!==v?a.call("restyle",e,m,t,v):a.call("relayout",e,m,t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(R)}).on("input",function(e){this.text(e||" ").call(c.positionText,b.x,b.y)})),N.classed("js-placeholder",M),x}};var f=/ [XY][0-9]* /},{"../../constants/interactions":419,"../../lib":441,"../../lib/svg_text_utils":465,"../../plots/plots":525,"../../registry":532,"../color":319,"../drawing":344,d3:85,"fast-isnumeric":149}],411:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),o=e("../color/attributes"),i=e("../../lib/extend").extendFlat,a=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/pad_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=a(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i({},s,{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:o.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":432,"../../plot_api/edit_types":471,"../../plot_api/plot_template":478,"../../plots/font_attributes":515,"../../plots/pad_attributes":524,"../color/attributes":318}],412:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},{}],413:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/array_container_defaults"),i=e("./attributes"),a=e("./constants"),s=a.name,l=i.buttons;function u(e,t,n){function a(n,o){return r.coerce(e,t,i,n,o)}var s=o(e,t,{name:"buttons",handleItemDefaults:c}),l=a("visible",s.length>0);l&&(a("active"),a("direction"),a("type"),a("showactive"),a("x"),a("y"),r.noneOrAll(e,t,["x","y"]),a("xanchor"),a("yanchor"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("bgcolor",n.paper_bgcolor),a("bordercolor"),a("borderwidth"))}function c(e,t){function n(n,o){return r.coerce(e,t,l,n,o)}var o=n("visible","skip"===e.method||Array.isArray(e.args));o&&(n("method"),n("args"),n("label"),n("execute"))}t.exports=function(e,t){var n={name:s,handleItemDefaults:u};o(e,t,n)}},{"../../lib":441,"../../plots/array_container_defaults":484,"./attributes":411,"./constants":412}],414:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../plots/plots"),i=e("../color"),a=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../legend/anchor_utils"),c=e("../../plot_api/plot_template").arrayEditor,d=e("../../constants/alignment").LINE_SPACING,f=e("./constants"),h=e("./scrollbox");function p(e){return e._index}function m(e,t){return+e.attr(f.menuIndexAttrName)===t._index}function g(e,t,n,r,o,i,a,s){t.active=a,c(e.layout,f.name,t).applyUpdate("active",a),"buttons"===t.type?y(e,r,null,null,t):"dropdown"===t.type&&(o.attr(f.menuIndexAttrName,"-1"),v(e,r,o,i,t),s||y(e,r,o,i,t))}function v(e,t,n,r,o){var i=s.ensureSingle(t,"g",f.headerClassName,function(e){e.style("pointer-events","all")}),l=o._dims,u=o.active,c=o.buttons[u]||f.blankHeaderOpts,d={y:o.pad.t,yPad:0,x:o.pad.l,xPad:0,index:0},h={width:l.headerWidth,height:l.headerHeight};i.call(b,o,c,e).call(S,o,d,h);var p=s.ensureSingle(t,"text",f.headerArrowClassName,function(e){e.classed("user-select-none",!0).attr("text-anchor","end").call(a.font,o.font).text(f.arrowSymbol[o.direction])});p.attr({x:l.headerWidth-f.arrowOffsetX+o.pad.l,y:l.headerHeight/2+f.textOffsetY+o.pad.t}),i.on("click",function(){n.call(M,String(m(n,o)?-1:o._index)),y(e,t,n,r,o)}),i.on("mouseover",function(){i.call(k)}),i.on("mouseout",function(){i.call(E,o)}),a.setTranslate(t,l.lx,l.ly)}function y(e,t,n,i,a){n||(n=t).attr("pointer-events","all");var l=function(e){return-1==+e.attr(f.menuIndexAttrName)}(n)&&"buttons"!==a.type?[]:a.buttons,u="dropdown"===a.type?f.dropdownButtonClassName:f.buttonClassName,c=n.selectAll("g."+u).data(s.filterVisible(l)),d=c.enter().append("g").classed(u,!0),h=c.exit();"dropdown"===a.type?(d.attr("opacity","0").transition().attr("opacity","1"),h.transition().attr("opacity","0").remove()):h.remove();var p=0,m=0,v=a._dims,y=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(y?m=v.headerHeight+f.gapButtonHeader:p=v.headerWidth+f.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(m=-f.gapButtonHeader+f.gapButton-v.openHeight),"dropdown"===a.type&&"left"===a.direction&&(p=-f.gapButtonHeader+f.gapButton-v.openWidth);var _={x:v.lx+p+a.pad.l,y:v.ly+m+a.pad.t,yPad:f.gapButton,xPad:f.gapButton,index:0},x={l:_.x+a.borderwidth,t:_.y+a.borderwidth};c.each(function(s,l){var u=r.select(this);u.call(b,a,s,e).call(S,a,_),u.on("click",function(){r.event.defaultPrevented||(g(e,a,0,t,n,i,l),s.execute&&o.executeAPICommand(e,s.method,s.args),e.emit("plotly_buttonclicked",{menu:a,button:s,active:a.active}))}),u.on("mouseover",function(){u.call(k)}),u.on("mouseout",function(){u.call(E,a),c.call(w,a)})}),c.call(w,a),y?(x.w=Math.max(v.openWidth,v.headerWidth),x.h=_.y-x.t):(x.w=_.x-x.l,x.h=Math.max(v.openHeight,v.headerHeight)),x.direction=a.direction,i&&(c.size()?function(e,t,n,r,o,i){var a,s,l,u=o.direction,c="up"===u||"down"===u,d=o._dims,h=o.active;if(c)for(s=0,l=0;l<h;l++)s+=d.heights[l]+f.gapButton;else for(a=0,l=0;l<h;l++)a+=d.widths[l]+f.gapButton;r.enable(i,a,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,i,a,x):function(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,n||e.disable()}),n&&e.vbar.transition().attr("opacity","0").each("end",function(){n=!1,t||e.disable()})}(i))}function b(e,t,n,r){e.call(_,t).call(x,t,n,r)}function _(e,t){var n=s.ensureSingle(e,"rect",f.itemRectClassName,function(e){e.attr({rx:f.rx,ry:f.ry,"shape-rendering":"crispEdges"})});n.call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function x(e,t,n,r){var o=s.ensureSingle(e,"text",f.itemTextClassName,function(e){e.classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1})});o.call(a.font,t.font).text(n.label).call(l.convertToTspans,r)}function w(e,t){var n=t.active;e.each(function(e,o){var a=r.select(this);o===n&&t.showactive&&a.select("rect."+f.itemRectClassName).call(i.fill,f.activeColor)})}function k(e){e.select("rect."+f.itemRectClassName).call(i.fill,f.hoverColor)}function E(e,t){e.select("rect."+f.itemRectClassName).call(i.fill,t.bgcolor)}function T(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},i=a.tester.selectAll("g."+f.dropdownButtonClassName).data(s.filterVisible(t.buttons));i.enter().append("g").classed(f.dropdownButtonClassName,!0);var c=-1!==["up","down"].indexOf(t.direction);i.each(function(o,i){var s=r.select(this);s.call(b,t,o,e);var u=s.select("."+f.itemTextClassName),h=u.node()&&a.bBox(u.node()).width,p=Math.max(h+f.textPadX,f.minWidth),m=t.font.size*d,g=l.lineCount(u),v=Math.max(m*g,f.minHeight)+f.textOffsetY;v=Math.ceil(v),p=Math.ceil(p),n.widths[i]=p,n.heights[i]=v,n.height1=Math.max(n.height1,v),n.width1=Math.max(n.width1,p),c?(n.totalWidth=Math.max(n.totalWidth,p),n.openWidth=n.totalWidth,n.totalHeight+=v+f.gapButton,n.openHeight+=v+f.gapButton):(n.totalWidth+=p+f.gapButton,n.openWidth+=p+f.gapButton,n.totalHeight=Math.max(n.totalHeight,v),n.openHeight=n.totalHeight)}),c?n.totalHeight-=f.gapButton:n.totalWidth-=f.gapButton,n.headerWidth=n.width1+f.arrowPadX,n.headerHeight=n.height1,"dropdown"===t.type&&(c?(n.width1+=f.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=f.arrowPadX),i.remove();var h=n.totalWidth+t.pad.l+t.pad.r,p=n.totalHeight+t.pad.t+t.pad.b,m=e._fullLayout._size;n.lx=m.l+m.w*t.x,n.ly=m.t+m.h*(1-t.y);var g="left";u.isRightAnchor(t)&&(n.lx-=h,g="right"),u.isCenterAnchor(t)&&(n.lx-=h/2,g="center");var v="top";u.isBottomAnchor(t)&&(n.ly-=p,v="bottom"),u.isMiddleAnchor(t)&&(n.ly-=p/2,v="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),o.autoMargin(e,A(t),{x:t.x,y:t.y,l:h*({right:1,center:.5}[g]||0),r:h*({left:1,center:.5}[g]||0),b:p*({top:1,middle:.5}[v]||0),t:p*({bottom:1,middle:.5}[v]||0)})}function A(e){return f.autoMarginIdRoot+e._index}function S(e,t,n,r){r=r||{};var o=e.select("."+f.itemRectClassName),i=e.select("."+f.itemTextClassName),s=t.borderwidth,u=n.index,c=t._dims;a.setTranslate(e,s+n.x,s+n.y);var h=-1!==["up","down"].indexOf(t.direction),p=r.height||(h?c.heights[u]:c.height1);o.attr({x:0,y:0,width:r.width||(h?c.width1:c.widths[u]),height:p});var m=t.font.size*d,g=l.lineCount(i),v=(g-1)*m/2;l.positionText(i,f.textOffsetX,p/2-v+f.textOffsetY),h?n.y+=c.heights[u]+n.yPad:n.x+=c.widths[u]+n.xPad,n.index++}function M(e,t){e.attr(f.menuIndexAttrName,t||"-1").selectAll("g."+f.dropdownButtonClassName).remove()}t.exports=function(e){var t=e._fullLayout,n=s.filterVisible(t[f.name]);function i(t){o.autoMargin(e,A(t))}var a=t._menulayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);if(a.enter().append("g").classed(f.containerClassName,!0).style("cursor","pointer"),a.exit().each(function(){r.select(this).selectAll("g."+f.headerGroupClassName).each(i)}).remove(),0!==n.length){var l=a.selectAll("g."+f.headerGroupClassName).data(n,p);l.enter().append("g").classed(f.headerGroupClassName,!0);for(var u=s.ensureSingle(a,"g",f.dropdownButtonGroupClassName,function(e){e.style("pointer-events","all")}),c=0;c<n.length;c++){var d=n[c];T(e,d)}var b="updatemenus"+t._uid,_=new h(e,u,b);l.enter().size()&&(u.node().parentNode.appendChild(u.node()),u.call(M)),l.exit().each(function(e){u.call(M),i(e)}).remove(),l.each(function(t){var n=r.select(this),i="dropdown"===t.type?u:null;o.manageCommandObserver(e,t,t.buttons,function(r){g(e,t,t.buttons[r.index],n,i,_,r.index,!0)}),"dropdown"===t.type?(v(e,n,u,_,t),m(u,t)&&y(e,n,u,_,t)):y(e,n,null,null,t)})}}},{"../../constants/alignment":417,"../../lib":441,"../../lib/svg_text_utils":465,"../../plot_api/plot_template":478,"../../plots/plots":525,"../color":319,"../drawing":344,"../legend/anchor_utils":371,"./constants":412,"./scrollbox":416,d3:85}],415:[function(e,t,n){arguments[4][409][0].apply(n,arguments)},{"./attributes":411,"./constants":412,"./defaults":413,"./draw":414,dup:409}],416:[function(e,t,n){"use strict";t.exports=s;var r=e("d3"),o=e("../color"),i=e("../drawing"),a=e("../../lib");function s(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(e,t,n){var a=this.gd._fullLayout,l=a.width,u=a.height;this.position=e;var c,d,f,h,p=this.position.l,m=this.position.w,g=this.position.t,v=this.position.h,y=this.position.direction,b="down"===y,_="left"===y,x="right"===y,w="up"===y,k=m,E=v;b||_||x||w||(this.position.direction="down",b=!0);var T=b||w;T?(d=(c=p)+k,b?(f=g,h=Math.min(f+E,u),E=h-f):(h=g+E,f=Math.max(h-E,0),E=h-f)):(h=(f=g)+E,_?(d=p+k,c=Math.max(d-k,0),k=d-c):(c=p,d=Math.min(c+k,l),k=d-c)),this._box={l:c,t:f,w:k,h:E};var A=m>k,S=s.barLength+2*s.barPad,M=s.barWidth+2*s.barPad,C=p,j=g+v;j+M>u&&(j=u-M);var O=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(o.fill,s.barColor),A?(this.hbar=O.attr({rx:s.barRadius,ry:s.barRadius,x:C,y:j,width:S,height:M}),this._hbarXMin=C+S/2,this._hbarTranslateMax=k-S):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var N=v>E,R=s.barWidth+2*s.barPad,P=s.barLength+2*s.barPad,I=p+m,D=g;I+R>l&&(I=l-R);var L=this.container.selectAll("rect.scrollbar-vertical").data(N?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(o.fill,s.barColor),N?(this.vbar=L.attr({rx:s.barRadius,ry:s.barRadius,x:I,y:D,width:R,height:P}),this._vbarYMin=D+P/2,this._vbarTranslateMax=E-P):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var B=this.id,F=c-.5,z=N?d+R+.5:d+.5,U=f-.5,q=A?h+M+.5:h+.5,V=a._topdefs.selectAll("#"+B).data(A||N?[0]:[]);if(V.exit().remove(),V.enter().append("clipPath").attr("id",B).append("rect"),A||N?(this._clipRect=V.select("rect").attr({x:Math.floor(F),y:Math.floor(U),width:Math.ceil(z)-Math.floor(F),height:Math.ceil(q)-Math.floor(U)}),this.container.call(i.setClipUrl,B),this.bg.attr({x:p,y:g,width:m,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),A||N){var H=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var W=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(W),N&&this.vbar.on(".drag",null).call(W)}this.setTranslate(t,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},s.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},s.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,o=n+this._hbarTranslateMax,i=a.constrain(r.event.x,n,o),s=(i-n)/(o-n),l=this.position.w-this._box.w;e=s*l}if(this.vbar){var u=t+this._vbarYMin,c=u+this._vbarTranslateMax,d=a.constrain(r.event.y,u,c),f=(d-u)/(c-u),h=this.position.h-this._box.h;t=f*h}this.setTranslate(e,t)},s.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=a.constrain(e||0,0,n),t=a.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(i.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var o=e/n;this.hbar.call(i.setTranslate,e+o*this._hbarTranslateMax,t)}if(this.vbar){var s=t/r;this.vbar.call(i.setTranslate,e,t+s*this._vbarTranslateMax)}}},{"../../lib":441,"../color":319,"../drawing":344,d3:85}],417:[function(e,t,n){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],418:[function(e,t,n){"use strict";t.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],419:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300,DESELECTDIM:.2}},{}],420:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:""}},{}],421:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],422:[function(e,t,n){"use strict";n.version="1.42.5",e("es6-promise").polyfill(),e("../build/plotcss"),e("./fonts/mathjax_config");for(var r=e("./registry"),o=n.register=r.register,i=e("./plot_api"),a=Object.keys(i),s=0;s<a.length;s++){var l=a[s];n[l]=i[l],o({moduleType:"apiMethod",name:l,fn:i[l]})}o(e("./traces/scatter")),o([e("./components/fx"),e("./components/legend"),e("./components/annotations"),e("./components/annotations3d"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector"),e("./components/grid"),e("./components/errorbars")]),o([e("./locale-en"),e("./locale-en-us")]),n.Icons=e("../build/ploticon"),n.Plots=e("./plots/plots"),n.Fx=e("./components/fx"),n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema"),n.Queue=e("./lib/queue"),n.d3=e("d3")},{"../build/plotcss":1,"../build/ploticon":2,"./components/annotations":312,"./components/annotations3d":317,"./components/errorbars":350,"./components/fx":361,"./components/grid":365,"./components/images":370,"./components/legend":379,"./components/rangeselector":390,"./components/rangeslider":396,"./components/shapes":404,"./components/sliders":409,"./components/updatemenus":415,"./fonts/mathjax_config":423,"./lib/queue":456,"./locale-en":469,"./locale-en-us":468,"./plot_api":473,"./plot_api/plot_schema":477,"./plots/plots":525,"./registry":532,"./snapshot":537,"./traces/scatter":604,d3:85,"es6-promise":139}],423:[function(e,t,n){"use strict";if("undefined"!=typeof MathJax){n.MathJax=!0;var r="local"!==(window.PlotlyConfig||{}).MathJaxConfig;r&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured())}else n.MathJax=!1},{}],424:[function(e,t,n){"use strict";var r=e("./mod"),o=r.mod,i=r.modHalf,a=Math.PI,s=2*a;function l(e){return Math.abs(e[1]-e[0])>s-1e-15}function u(e,t){return i(t-e,s)}function c(e,t){if(l(t))return!0;var n,r;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),n=o(n,s),r=o(r,s),n>r&&(r+=s);var i=o(e,s),a=i+s;return i>=n&&i<=r||a>=n&&a<=r}function d(e,t,n,r,o,i,u){o=o||0,i=i||0;var c,d,f,h,p,m=l([n,r]);function g(e,t){return[e*Math.cos(t)+o,i-e*Math.sin(t)]}m?(c=0,d=a,f=s):n<r?(c=n,f=r):(c=r,f=n),e<t?(h=e,p=t):(h=t,p=e);var v,y=Math.abs(f-c)<=a?0:1;function b(e,t,n){return"A"+[e,e]+" "+[0,y,n]+" "+g(e,t)}return m?v=null===h?"M"+g(p,c)+b(p,d,0)+b(p,f,0)+"Z":"M"+g(h,c)+b(h,d,0)+b(h,f,0)+"ZM"+g(p,c)+b(p,d,1)+b(p,f,1)+"Z":null===h?(v="M"+g(p,c)+b(p,f,0),u&&(v+="L0,0Z")):v="M"+g(h,c)+"L"+g(p,c)+b(p,f,0)+"L"+g(h,f)+b(h,c,1)+"Z",v}t.exports={deg2rad:function(e){return e/180*a},rad2deg:function(e){return e/a*180},angleDelta:u,angleDist:function(e,t){return Math.abs(u(e,t))},isFullCircle:l,isAngleInsideSector:c,isPtInsideSector:function(e,t,n,r){return!!c(t,r)&&(n[0]<n[1]?(o=n[0],i=n[1]):(o=n[1],i=n[0]),e>=o&&e<=i);var o,i},pathArc:function(e,t,n,r,o){return d(null,e,t,n,r,o,0)},pathSector:function(e,t,n,r,o){return d(null,e,t,n,r,o,1)},pathAnnulus:function(e,t,n,r,o,i){return d(e,t,n,r,o,i,1)}}},{"./mod":448}],425:[function(e,t,n){"use strict";var r=Array.isArray,o="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},i="undefined"==typeof DataView?function(){}:DataView;function a(e){return o.isView(e)&&!(e instanceof i)}function s(e){return r(e)||a(e)}n.isTypedArray=a,n.isArrayOrTypedArray=s,n.isArray1D=function(e){return!s(e[0])},n.ensureArray=function(e,t){return r(e)||(e=[]),e.length=t,e},n.concat=function(){var e,t,n,o,i,a,s,l,u=[],c=!0,d=0;for(n=0;n<arguments.length;n++)o=arguments[n],(a=o.length)&&(t?u.push(o):(t=o,i=a),r(o)?e=!1:(c=!1,d?e!==o.constructor&&(e=!1):e=o.constructor),d+=a);if(!d)return[];if(!u.length)return t;if(c)return t.concat.apply(t,u);if(e){for((s=new e(d)).set(t),n=0;n<u.length;n++)o=u[n],s.set(o,i),i+=o.length;return s}for(s=new Array(d),l=0;l<t.length;l++)s[l]=t[l];for(n=0;n<u.length;n++){for(o=u[n],l=0;l<o.length;l++)s[i+l]=o[l];i+=l}return s}},{}],426:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../constants/numerical").BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"==typeof e&&(e=e.replace(i,"")),r(e)?Number(e):o}},{"../constants/numerical":420,"fast-isnumeric":149}],427:[function(e,t,n){"use strict";t.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},{}],428:[function(e,t,n){"use strict";t.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},{}],429:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("tinycolor2"),i=e("../plots/attributes"),a=e("../components/colorscale/get_scale"),s=(Object.keys(e("../components/colorscale/scales")),e("./nested_property")),l=e("./regex").counter,u=e("../constants/interactions").DESELECTDIM,c=e("./mod").modHalf,d=e("./array").isArrayOrTypedArray;function f(e,t){var r=n.valObjectMeta[t.valType];if(t.arrayOk&&d(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var o={},i=o,a={set:function(e){i=e}};return r.coerceFunction(e,a,o,t),i!==o}n.valObjectMeta={data_array:{coerceFunction:function(e,t,n){d(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var o=String(n[r]);if("/"===o.charAt(0)&&"/"===o.charAt(o.length-1)){var i=new RegExp(o.substr(1,o.length-2));if(i.test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,o){!r(e)||void 0!==o.min&&e<o.min||void 0!==o.max&&e>o.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,o){e%1||!r(e)||void 0!==o.min&&e<o.min||void 0!==o.max&&e>o.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){if("string"!=typeof e){var o="number"==typeof e;!0!==r.strict&&o?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){o(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){Array.isArray(e)&&e.length&&e.every(function(e){return o(e).isValid()})?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(a(e,n))}},angle:{coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?t.set(c(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var o=r.regex||l(n);"string"==typeof e&&o.test(e)?t.set(e):t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"==typeof e&&!!l(n).test(e)}},flaglist:{coerceFunction:function(e,t,n,r){if("string"==typeof e)if(-1===(r.extras||[]).indexOf(e)){for(var o=e.split("+"),i=0;i<o.length;){var a=o[i];-1===r.flags.indexOf(a)||o.indexOf(a)<i?o.splice(i,1):i++}o.length?t.set(o.join("+")):t.set(n)}else t.set(e);else t.set(n)}},any:{coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,t,r,o){function i(e,t,r){var o,i={set:function(e){o=e}};return void 0===r&&(r=t.dflt),n.valObjectMeta[t.valType].coerceFunction(e,i,r,t),o}var a=2===o.dimensions||"1-2"===o.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,l,u,c,d,f,h=o.items,p=[],m=Array.isArray(h),g=m&&a&&Array.isArray(h[0]),v=a&&m&&!g,y=m&&!v?h.length:e.length;if(r=Array.isArray(r)?r:[],a)for(s=0;s<y;s++)for(p[s]=[],u=Array.isArray(e[s])?e[s]:[],d=v?h.length:m?h[s].length:u.length,l=0;l<d;l++)c=v?h[l]:m?h[s][l]:h,void 0!==(f=i(u[l],c,(r[s]||[])[l]))&&(p[s][l]=f);else for(s=0;s<y;s++)void 0!==(f=i(e[s],m?h[s]:h,r[s]))&&(p[s]=f);t.set(p)}else t.set(r)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),o=2===t.dimensions;if(!t.freeLength&&e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(o){if(!Array.isArray(e[i])||!t.freeLength&&e[i].length!==n[i].length)return!1;for(var a=0;a<e[i].length;a++)if(!f(e[i][a],r?n[i][a]:n))return!1}else if(!f(e[i],r?n[i]:n))return!1;return!0}}},n.coerce=function(e,t,r,o,i){var a=s(r,o).get(),l=s(e,o),u=s(t,o),c=l.get(),h=t._template;if(void 0===c&&h&&(c=s(h,o).get(),h=0),void 0===i&&(i=a.dflt),a.arrayOk&&d(c))return u.set(c),c;var p=n.valObjectMeta[a.valType].coerceFunction;p(c,u,i,a);var m=u.get();return h&&m===i&&!f(c,a)&&(c=s(h,o).get(),p(c,u,i,a),m=u.get()),m},n.coerce2=function(e,t,r,o,i){var a=s(e,o),l=n.coerce(e,t,r,o,i),u=a.get();return null!=u&&l},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.coerceHoverinfo=function(e,t,r){var o,a=t._module.attributes,s=a.hoverinfo?a:i,l=s.hoverinfo;if(1===r._dataLength){var u="all"===l.dflt?l.flags.slice():l.dflt.split("+");u.splice(u.indexOf("name"),1),o=u.join("+")}return n.coerce(e,t,s,"hoverinfo",o)},n.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n,r,o=e.marker.opacity;void 0!==o&&(d(o)||e.selected||e.unselected||(n=o,r=u*o),t("selected.marker.opacity",n),t("unselected.marker.opacity",r))}},n.validate=f},{"../components/colorscale/get_scale":332,"../components/colorscale/scales":338,"../constants/interactions":419,"../plots/attributes":485,"./array":425,"./mod":448,"./nested_property":449,"./regex":457,"fast-isnumeric":149,tinycolor2:284}],430:[function(e,t,n){"use strict";var r,o,i=e("d3"),a=e("fast-isnumeric"),s=e("./loggers"),l=e("./mod").mod,u=e("../constants/numerical"),c=u.BADNUM,d=u.ONEDAY,f=u.ONEHOUR,h=u.ONEMIN,p=u.ONESEC,m=u.EPOCHJD,g=e("../registry"),v=i.time.format.utc,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function x(e){return e&&g.componentsRegistry.calendars&&"string"==typeof e&&"gregorian"!==e}function w(e,t){return String(e+Math.pow(10,t)).substr(1)}n.dateTick0=function(e,t){return x(e)?t?g.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:g.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"},n.dfltRange=function(e){return x(e)?g.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime},n.dateTime2ms=function(e,t){if(n.isJSDate(e)){var i=e.getTimezoneOffset()*h,a=(e.getUTCMinutes()-e.getMinutes())*h+(e.getUTCSeconds()-e.getSeconds())*p+(e.getUTCMilliseconds()-e.getMilliseconds());if(a){var s=3*h;i=i-s/2+l(a-i+s/2,s)}return(e=Number(e)-i)>=r&&e<=o?e:c}if("string"!=typeof e&&"number"!=typeof e)return c;e=String(e);var u=x(t),v=e.charAt(0);!u||"G"!==v&&"g"!==v||(e=e.substr(1),t="");var w=u&&"chinese"===t.substr(0,7),k=e.match(w?b:y);if(!k)return c;var E=k[1],T=k[3]||"1",A=Number(k[5]||1),S=Number(k[7]||0),M=Number(k[9]||0),C=Number(k[11]||0);if(u){if(2===E.length)return c;var j;E=Number(E);try{var O=g.getComponentMethod("calendars","getCal")(t);if(w){var N="i"===T.charAt(T.length-1);T=parseInt(T,10),j=O.newDate(E,O.toMonthIndex(E,T,N),A)}else j=O.newDate(E,Number(T),A)}catch(e){return c}return j?(j.toJD()-m)*d+S*f+M*h+C*p:c}E=2===E.length?(Number(E)+2e3-_)%100+_:Number(E),T-=1;var R=new Date(Date.UTC(2e3,T,A,S,M));return R.setUTCFullYear(E),R.getUTCMonth()!==T?c:R.getUTCDate()!==A?c:R.getTime()+C*p},r=n.MIN_MS=n.dateTime2ms("-9999"),o=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==c};var k=90*d,E=3*f,T=5*h;function A(e,t,n,r,o){if((t||n||r||o)&&(e+=" "+w(t,2)+":"+w(n,2),(r||o)&&(e+=":"+w(r,2),o))){for(var i=4;o%10==0;)i-=1,o/=10;e+="."+w(o,i)}return e}n.ms2DateTime=function(e,t,n){if("number"!=typeof e||!(e>=r&&e<=o))return c;t||(t=0);var i,a,s,u,y,b,_=Math.floor(10*l(e+.05,1)),w=Math.round(e-_/10);if(x(n)){var S=Math.floor(w/d)+m,M=Math.floor(l(e,d));try{i=g.getComponentMethod("calendars","getCal")(n).fromJD(S).formatDate("yyyy-mm-dd")}catch(e){i=v("G%Y-%m-%d")(new Date(w))}if("-"===i.charAt(0))for(;i.length<11;)i="-0"+i.substr(1);else for(;i.length<10;)i="0"+i;a=t<k?Math.floor(M/f):0,s=t<k?Math.floor(M%f/h):0,u=t<E?Math.floor(M%h/p):0,y=t<T?M%p*10+_:0}else b=new Date(w),i=v("%Y-%m-%d")(b),a=t<k?b.getUTCHours():0,s=t<k?b.getUTCMinutes():0,u=t<E?b.getUTCSeconds():0,y=t<T?10*b.getUTCMilliseconds()+_:0;return A(i,a,s,u,y)},n.ms2DateTimeLocal=function(e){if(!(e>=r+d&&e<=o-d))return c;var t=Math.floor(10*l(e+.05,1)),n=new Date(Math.round(e-t/10)),a=i.time.format("%Y-%m-%d")(n),s=n.getHours(),u=n.getMinutes(),f=n.getSeconds(),h=10*n.getUTCMilliseconds()+t;return A(a,s,u,f,h)},n.cleanDate=function(e,t,r){if(e===c)return t;if(n.isJSDate(e)||"number"==typeof e&&isFinite(e)){if(x(r))return s.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==t)return t}else if(!n.isDateTime(e,r))return s.error("unrecognized date",e),t;return e};var S=/%\d?f/g;function M(e,t,n,r){e=e.replace(S,function(e){var n=Math.min(+e.charAt(1)||6,6),r=(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0";return r});var o=new Date(Math.floor(t+.05));if(x(r))try{e=g.getComponentMethod("calendars","worldCalFmt")(e,t,r)}catch(e){return"Invalid"}return n(e)(o)}var C=[59,59.9,59.99,59.999,59.9999];n.formatDate=function(e,t,n,r,o,i){if(o=x(o)&&o,!t)if("y"===n)t=i.year;else if("m"===n)t=i.month;else{if("d"!==n)return function(e,t){var n=l(e+.05,d),r=w(Math.floor(n/f),2)+":"+w(l(Math.floor(n/h),60),2);if("M"!==t){a(t)||(t=0);var o=Math.min(l(e/p,60),C[t]),i=(100+o).toFixed(t).substr(1);t>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+i}return r}(e,n)+"\n"+M(i.dayMonthYear,e,r,o);t=i.dayMonth+"\n"+i.year}return M(t,e,r,o)};var j=3*d;n.incrementMonth=function(e,t,n){n=x(n)&&n;var r=l(e,d);if(e=Math.round(e-r),n)try{var o=Math.round(e/d)+m,i=g.getComponentMethod("calendars","getCal")(n),a=i.fromJD(o);return t%12?i.add(a,t,"m"):i.add(a,t/12,"y"),(a.toJD()-m)*d+r}catch(t){s.error("invalid ms "+e+" in calendar "+n)}var u=new Date(e+j);return u.setUTCMonth(u.getUTCMonth()+t)+r-j},n.findExactDates=function(e,t){for(var n,r,o=0,i=0,s=0,l=0,u=x(t)&&g.getComponentMethod("calendars","getCal")(t),c=0;c<e.length;c++)if(r=e[c],a(r)){if(!(r%d))if(u)try{1===(n=u.fromJD(r/d+m)).day()?1===n.month()?o++:i++:s++}catch(e){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?o++:i++:s++}else l++;s+=i+=o;var f=e.length-l;return{exactYears:o/f,exactMonths:i/f,exactDays:s/f}}},{"../constants/numerical":420,"../registry":532,"./loggers":445,"./mod":448,d3:85,"fast-isnumeric":149}],431:[function(e,t,n){"use strict";var r=e("events").EventEmitter,o={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,o){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,o),t.emit(r,o),n.emit(r,o)},e},triggerHandler:function(e,t,n){var r,o;"undefined"!=typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var i=e._ev;if(!i)return r;var a,s=i._events[t];if(!s)return r;function l(e){return e.listener?(i.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(i,[n]))):e.apply(i,[n])}for(s=Array.isArray(s)?s:[s],a=0;a<s.length-1;a++)l(s[a]);return o=l(s[a]),void 0!==r?r:o},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};t.exports=o},{events:50}],432:[function(e,t,n){"use strict";var r=e("./is_plain_object.js"),o=Array.isArray;function i(e,t,n,a){var s,l,u,c,d,f,h=e[0],p=e.length;if(2===p&&o(h)&&o(e[1])&&0===h.length){if(function(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"==typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}(e[1],h))return h;h.splice(0,h.length)}for(var m=1;m<p;m++)for(l in s=e[m])u=h[l],c=s[l],a&&o(c)?h[l]=c:t&&c&&(r(c)||(d=o(c)))?(d?(d=!1,f=u&&o(u)?u:[]):f=u&&r(u)?u:{},h[l]=i([f,c],t,n,a)):(void 0!==c||n)&&(h[l]=c);return h}n.extendFlat=function(){return i(arguments,!1,!1,!1)},n.extendDeep=function(){return i(arguments,!0,!1,!1)},n.extendDeepAll=function(){return i(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return i(arguments,!0,!1,!0)}},{"./is_plain_object.js":442}],433:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,o=0;o<e.length;o++){var i=e[o];1!==t[i]&&(t[i]=1,n[r++]=i)}return n}},{}],434:[function(e,t,n){"use strict";function r(e){return!0===e.visible}function o(e){return!0===e[0].trace.visible}t.exports=function(e){for(var t,n=(t=e,Array.isArray(t)&&Array.isArray(t[0])&&t[0][0]&&t[0][0].trace?o:r),i=[],a=0;a<e.length;a++){var s=e[a];n(s)&&i.push(s)}return i}},{}],435:[function(e,t,n){"use strict";var r,o,i,a=e("./mod").mod;function s(e,t,n,r,o,i,a,s){var l=n-e,u=o-e,c=a-o,d=r-t,f=i-t,h=s-i,p=l*h-c*d;if(0===p)return null;var m=(u*h-c*f)/p,g=(u*d-l*f)/p;return g<0||g>1||m<0||m>1?null:{x:e+l*m,y:t+d*m}}function l(e,t,n,r,o){var i=r*e+o*t;if(i<0)return r*r+o*o;if(i>n){var a=r-e,s=o-t;return a*a+s*s}var l=r*t-o*e;return l*l/n}n.segmentsIntersect=s,n.segmentDistance=function(e,t,n,r,o,i,a,u){if(s(e,t,n,r,o,i,a,u))return 0;var c=n-e,d=r-t,f=a-o,h=u-i,p=c*c+d*d,m=f*f+h*h,g=Math.min(l(c,d,p,o-e,i-t),l(c,d,p,a-e,u-t),l(f,h,m,e-o,t-i),l(f,h,m,n-o,r-i));return Math.sqrt(g)},n.getTextLocation=function(e,t,n,s){if(e===o&&s===i||(r={},o=e,i=s),r[n])return r[n];var l=e.getPointAtLength(a(n-s/2,t)),u=e.getPointAtLength(a(n+s/2,t)),c=Math.atan((u.y-l.y)/(u.x-l.x)),d=e.getPointAtLength(a(n,t)),f=(4*d.x+l.x+u.x)/6,h=(4*d.y+l.y+u.y)/6,p={x:f,y:h,theta:c};return r[n]=p,p},n.clearLocationCache=function(){o=null},n.getVisibleSegment=function(e,t,n){var r,o,i=t.left,a=t.right,s=t.top,l=t.bottom,u=0,c=e.getTotalLength(),d=c;function f(t){var n=e.getPointAtLength(t);0===t?r=n:t===c&&(o=n);var u=n.x<i?i-n.x:n.x>a?n.x-a:0,d=n.y<s?s-n.y:n.y>l?n.y-l:0;return Math.sqrt(u*u+d*d)}for(var h=f(u);h;){if((u+=h+n)>d)return;h=f(u)}for(h=f(d);h;){if(u>(d-=h+n))return;h=f(d)}return{min:u,max:d,len:d-u,total:c,isClosed:0===u&&d===c&&Math.abs(r.x-o.x)<.1&&Math.abs(r.y-o.y)<.1}},n.findPointOnPath=function(e,t,n,r){for(var o,i,a,s=(r=r||{}).pathLength||e.getTotalLength(),l=r.tolerance||.001,u=r.iterationLimit||30,c=e.getPointAtLength(0)[n]>e.getPointAtLength(s)[n]?-1:1,d=0,f=0,h=s;d<u;){if(o=(f+h)/2,i=e.getPointAtLength(o),a=i[n]-t,Math.abs(a)<l)return i;c*a>0?h=o:f=o,d++}return i}},{"./mod":448}],436:[function(e,t,n){"use strict";t.exports=function(e){var t;if("string"==typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null==e)throw new Error("DOM element provided is null or undefined");return e}},{}],437:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("tinycolor2"),i=e("color-normalize"),a=e("../components/colorscale"),s=e("../components/color/attributes").defaultLine,l=e("./array").isArrayOrTypedArray,u=i(s),c=1;function d(e,t){var n=e;return n[3]*=t,n}function f(e){if(r(e))return u;var t=i(e);return t.length?t:u}function h(e){return r(e)?e:c}t.exports={formatColor:function(e,t,n){var r,o,s,p,m,g=e.color,v=l(g),y=l(t),b=[];if(r=void 0!==e.colorscale?a.makeColorScaleFunc(a.extractScale(e.colorscale,e.cmin,e.cmax)):f,o=v?function(e,t){return void 0===e[t]?u:i(r(e[t]))}:f,s=y?function(e,t){return void 0===e[t]?c:h(e[t])}:h,v||y)for(var _=0;_<n;_++)p=o(g,_),m=s(t,_),b[_]=d(p,m);else b=d(i(g),t);return b},parseColorScale:function(e,t){return void 0===t&&(t=1),e.map(function(e){var n=e[0],r=o(e[1]),i=r.toRgb();return{index:n,rgb:[i.r,i.g,i.b,t]}})}}},{"../components/color/attributes":318,"../components/colorscale":334,"./array":425,"color-normalize":63,"fast-isnumeric":149,tinycolor2:284}],438:[function(e,t,n){"use strict";var r=e("./identity");function o(e){return[e]}t.exports={keyFun:function(e){return e.key},repeat:o,descend:r,wrap:o,unwrap:function(e){return e[0]}}},{"./identity":440}],439:[function(e,t,n){"use strict";var r=e("superscript-text"),o=e("./svg_text_utils").convertEntities;t.exports=function(e){return""+o(function(e){return e.replace(/\<.*\>/g,"")}(function(e){for(var t=0;(t=e.indexOf("<sup>",t))>=0;){var n=e.indexOf("</sup>",t);if(n<t)break;e=e.slice(0,t)+r(e.slice(t+5,n))+e.slice(n+6)}return e}(e.replace(/\<br\>/g,"\n"))))}},{"./svg_text_utils":465,"superscript-text":277}],440:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],441:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("../constants/numerical"),a=i.FP_SAFE,s=i.BADNUM,l=t.exports={};l.nestedProperty=e("./nested_property"),l.keyedContainer=e("./keyed_container"),l.relativeAttr=e("./relative_attr"),l.isPlainObject=e("./is_plain_object"),l.toLogRange=e("./to_log_range"),l.relinkPrivateKeys=e("./relink_private");var u=e("./array");l.isTypedArray=u.isTypedArray,l.isArrayOrTypedArray=u.isArrayOrTypedArray,l.isArray1D=u.isArray1D,l.ensureArray=u.ensureArray,l.concat=u.concat;var c=e("./mod");l.mod=c.mod,l.modHalf=c.modHalf;var d=e("./coerce");l.valObjectMeta=d.valObjectMeta,l.coerce=d.coerce,l.coerce2=d.coerce2,l.coerceFont=d.coerceFont,l.coerceHoverinfo=d.coerceHoverinfo,l.coerceSelectionMarkerOpacity=d.coerceSelectionMarkerOpacity,l.validate=d.validate;var f=e("./dates");l.dateTime2ms=f.dateTime2ms,l.isDateTime=f.isDateTime,l.ms2DateTime=f.ms2DateTime,l.ms2DateTimeLocal=f.ms2DateTimeLocal,l.cleanDate=f.cleanDate,l.isJSDate=f.isJSDate,l.formatDate=f.formatDate,l.incrementMonth=f.incrementMonth,l.dateTick0=f.dateTick0,l.dfltRange=f.dfltRange,l.findExactDates=f.findExactDates,l.MIN_MS=f.MIN_MS,l.MAX_MS=f.MAX_MS;var h=e("./search");l.findBin=h.findBin,l.sorterAsc=h.sorterAsc,l.sorterDes=h.sorterDes,l.distinctVals=h.distinctVals,l.roundUp=h.roundUp,l.sort=h.sort,l.findIndexOfMin=h.findIndexOfMin;var p=e("./stats");l.aggNums=p.aggNums,l.len=p.len,l.mean=p.mean,l.midRange=p.midRange,l.variance=p.variance,l.stdev=p.stdev,l.interp=p.interp;var m=e("./matrix");l.init2dArray=m.init2dArray,l.transposeRagged=m.transposeRagged,l.dot=m.dot,l.translationMatrix=m.translationMatrix,l.rotationMatrix=m.rotationMatrix,l.rotationXYMatrix=m.rotationXYMatrix,l.apply2DTransform=m.apply2DTransform,l.apply2DTransform2=m.apply2DTransform2;var g=e("./angles");l.deg2rad=g.deg2rad,l.rad2deg=g.rad2deg,l.angleDelta=g.angleDelta,l.angleDist=g.angleDist,l.isFullCircle=g.isFullCircle,l.isAngleInsideSector=g.isAngleInsideSector,l.isPtInsideSector=g.isPtInsideSector,l.pathArc=g.pathArc,l.pathSector=g.pathSector,l.pathAnnulus=g.pathAnnulus;var v=e("./geometry2d");l.segmentsIntersect=v.segmentsIntersect,l.segmentDistance=v.segmentDistance,l.getTextLocation=v.getTextLocation,l.clearLocationCache=v.clearLocationCache,l.getVisibleSegment=v.getVisibleSegment,l.findPointOnPath=v.findPointOnPath;var y=e("./extend");l.extendFlat=y.extendFlat,l.extendDeep=y.extendDeep,l.extendDeepAll=y.extendDeepAll,l.extendDeepNoArrays=y.extendDeepNoArrays;var b=e("./loggers");l.log=b.log,l.warn=b.warn,l.error=b.error;var _=e("./regex");l.counterRegex=_.counter;var x=e("./throttle");function w(e){var t={};for(var n in e)for(var r=e[n],o=0;o<r.length;o++)t[r[o]]=+n;return t}l.throttle=x.throttle,l.throttleDone=x.done,l.clearThrottle=x.clear,l.getGraphDiv=e("./get_graph_div"),l.clearResponsive=e("./clear_responsive"),l.makeTraceGroups=e("./make_trace_groups"),l._=e("./localize"),l.notifier=e("./notifier"),l.filterUnique=e("./filter_unique"),l.filterVisible=e("./filter_visible"),l.pushUnique=e("./push_unique"),l.cleanNumber=e("./clean_number"),l.ensureNumber=function(e){return o(e)?(e=Number(e))<-a||e>a?s:o(e)?Number(e):s:s},l.isIndex=function(e,t){return!(void 0!==t&&e>=t)&&o(e)&&e>=0&&e%1==0},l.noop=e("./noop"),l.identity=e("./identity"),l.repeat=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},l.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var o=0;o<t.length;o++){var i=t[o],a=l.nestedProperty(e,i.replace("?",n)),s=l.nestedProperty(e,i.replace("?",r)),u=a.get();a.set(s.get()),s.set(u)}},l.raiseToTop=function(e){e.parentNode.appendChild(e)},l.cancelTransition=function(e){return e.transition().duration(0)},l.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},l.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},l.simpleMap=function(e,t,n,r){for(var o=e.length,i=new Array(o),a=0;a<o;a++)i[a]=t(e[a],n,r);return i},l.randstr=function e(t,n,r,o){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var i,a,s,u=Math.log(Math.pow(2,n))/Math.log(r),c="";for(i=2;u===1/0;i*=2)u=Math.log(Math.pow(2,n/i))/Math.log(r)*i;var d=u-Math.floor(u);for(i=0;i<Math.floor(u);i++)s=Math.floor(Math.random()*r).toString(r),c=s+c;d&&(a=Math.pow(r,d),s=Math.floor(Math.random()*a).toString(r),c=s+c);var f=parseInt(c,r);return t&&t[c]||f!==1/0&&f>=Math.pow(2,n)?o>10?(l.warn("randstr failed uniqueness"),c):e(t,n,r,(o||0)+1):c},l.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={optionList:[],_newoption:function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)}};return n["_"+t]=e,n},l.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,o,i,a=e.length,s=2*a,l=2*t-1,u=new Array(l),c=new Array(a);for(n=0;n<l;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<a;n++){for(i=0,r=0;r<l;r++)(o=n+r+1-t)<-a?o-=s*Math.round(o/s):o>=s&&(o-=s*Math.floor(o/s)),o<0?o=-1-o:o>=a&&(o=s-1-o),i+=e[o]*u[r];c[n]=i}return c},l.syncOrAsync=function(e,t,n){var r,o;function i(){return l.syncOrAsync(e,t,n)}for(;e.length;)if(o=e.splice(0,1)[0],(r=o(t))&&r.then)return r.then(i).then(void 0,l.promiseError);return n&&n(t)},l.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},l.noneOrAll=function(e,t,n){if(e){var r,o=!1,i=!0;for(r=0;r<n.length;r++)null!=e[n[r]]?o=!0:i=!1;if(o&&!i)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},l.mergeArray=function(e,t,n){if(l.isArrayOrTypedArray(e))for(var r=Math.min(e.length,t.length),o=0;o<r;o++)t[o][n]=e[o]},l.fillArray=function(e,t,n,r){if(r=r||l.identity,l.isArrayOrTypedArray(e))for(var o=0;o<t.length;o++)t[o][n]=r(e[o])},l.castOption=function(e,t,n,r){r=r||l.identity;var o=l.nestedProperty(e,n).get();return l.isArrayOrTypedArray(o)?Array.isArray(t)&&l.isArrayOrTypedArray(o[t[0]])?r(o[t[0]][t[1]]):r(o[t]):o},l.extractOption=function(e,t,n,r){if(n in e)return e[n];var o=l.nestedProperty(t,r).get();return Array.isArray(o)?void 0:o},l.tagSelected=function(e,t,n){var r,o,i=t.selectedpoints,a=t._indexToPoints;a&&(r=w(a));for(var s=0;s<i.length;s++){var u=i[s];if(l.isIndex(u)){var c=r?r[u]:u,d=n?n[c]:c;void 0!==(o=d)&&o<e.length&&(e[d].selected=1)}}},l.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=w(n),o=[],i=0;i<t.length;i++){var a=t[i];if(l.isIndex(a)){var s=r[a];l.isIndex(s)&&o.push(s)}}return o}return t},l.getTargetArray=function(e,t){var n=t.target;if("string"==typeof n&&n){var r=l.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},l.minExtend=function(e,t){var n={};"object"!=typeof t&&(t={});var r,o,i,a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],i=e[o],"_"!==o.charAt(0)&&"function"!=typeof i&&("module"===o?n[o]=i:Array.isArray(i)?n[o]=i.slice(0,3):n[o]=i&&"object"==typeof i?l.minExtend(e[o],t[o]):i);for(a=Object.keys(t),r=0;r<a.length;r++)o=a[r],"object"==typeof(i=t[o])&&o in n&&"object"==typeof n[o]||(n[o]=i);return n},l.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},l.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},l.isPlotDiv=function(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},l.removeElement=function(e){var t=e&&e.parentNode;t&&t.removeChild(e)},l.addStyleRule=function(e,t){l.addRelatedStyleRule("global",e,t)},l.addRelatedStyleRule=function(e,t,n){var r="plotly.js-style-"+e,o=document.getElementById(r);o||((o=document.createElement("style")).setAttribute("id",r),o.appendChild(document.createTextNode("")),document.head.appendChild(o));var i=o.sheet;i.insertRule?i.insertRule(t+"{"+n+"}",0):i.addRule?i.addRule(t,n,0):l.warn("addStyleRule failed")},l.deleteRelatedStyleRule=function(e){var t="plotly.js-style-"+e,n=document.getElementById(t);n&&l.removeElement(n)},l.isIE=function(){return void 0!==window.navigator.msSaveBlob},l.isD3Selection=function(e){return e&&"function"==typeof e.classed},l.ensureSingle=function(e,t,n,r){var o=e.select(t+(n?"."+n:""));if(o.size())return o;var i=e.append(t);return n&&i.classed(n,!0),r&&i.call(r),i},l.ensureSingleById=function(e,t,n,r){var o=e.select(t+"#"+n);if(o.size())return o;var i=e.append(t).attr("id",n);return r&&i.call(r),i},l.objectFromPath=function(e,t){for(var n,r=e.split("."),o=n={},i=0;i<r.length;i++){var a=r[i],s=null,l=r[i].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],n=n[a]=[],i===r.length-1?n[s]=t:n[s]={},n=n[s]):(i===r.length-1?n[a]=t:n[a]={},n=n[a])}return o};var k=/^([^\[\.]+)\.(.+)?/,E=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;l.expandObjectPaths=function(e){var t,n,r,o,i,a,s;if("object"==typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(k))?(o=e[n],r=t[1],delete e[n],e[r]=l.extendDeepNoArrays(e[r]||{},l.objectFromPath(n,l.expandObjectPaths(o))[r])):(t=n.match(E))?(o=e[n],r=t[1],i=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(s=t[4],a=e[r][i]=e[r][i]||{},l.extendDeepNoArrays(a,l.objectFromPath(s,l.expandObjectPaths(o)))):e[r][i]=l.expandObjectPaths(o)):e[n]=l.expandObjectPaths(e[n]));return e},l.numSeparate=function(e,t,n){if(n||(n=!1),"string"!=typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"==typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,o=t.charAt(0),i=t.charAt(1),a=e.split("."),s=a[0],l=a.length>1?o+a[1]:"";if(i&&(a.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+i+"$2");return s+l};var T=/%{([^\s%{}]*)}/g,A=/^\w*$/;l.templateString=function(e,t){var n={};return e.replace(T,function(e,r){return A.test(r)?t[r]||"":(n[r]=n[r]||l.nestedProperty(t,r).get,n[r]()||"")})},l.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,o=0,i=0;i<n;i++){var a=e.charCodeAt(i)||0,s=t.charCodeAt(i)||0,l=a>=48&&a<=57,u=s>=48&&s<=57;if(l&&(r=10*r+a-48),u&&(o=10*o+s-48),!l||!u){if(r!==o)return r-o;if(a!==s)return a-s}}return o-r};var S=2e9;l.seedPseudoRandom=function(){S=2e9},l.pseudoRandom=function(){var e=S;return S=(69069*S+1)%4294967296,Math.abs(S-e)<429496729?l.pseudoRandom():S/4294967296}},{"../constants/numerical":420,"./angles":424,"./array":425,"./clean_number":426,"./clear_responsive":428,"./coerce":429,"./dates":430,"./extend":432,"./filter_unique":433,"./filter_visible":434,"./geometry2d":435,"./get_graph_div":436,"./identity":440,"./is_plain_object":442,"./keyed_container":443,"./localize":444,"./loggers":445,"./make_trace_groups":446,"./matrix":447,"./mod":448,"./nested_property":449,"./noop":450,"./notifier":451,"./push_unique":455,"./regex":457,"./relative_attr":458,"./relink_private":459,"./search":460,"./stats":463,"./throttle":466,"./to_log_range":467,d3:85,"fast-isnumeric":149}],442:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},{}],443:[function(e,t,n){"use strict";var r=e("./nested_property"),o=/^\w*$/;t.exports=function(e,t,n,i){var a,s,l;n=n||"name",i=i||"value";var u={};t&&t.length?(l=r(e,t),s=l.get()):s=e,t=t||"";var c={};if(s)for(a=0;a<s.length;a++)c[s[a][n]]=a;var d=o.test(i),f={set:function(e,t){var o=null===t?4:0;if(!s){if(!l||4===o)return;s=[],l.set(s)}var a=c[e];if(void 0===a){if(4===o)return;o|=3,a=s.length,c[e]=a}else t!==(d?s[a][i]:r(s[a],i).get())&&(o|=2);var h=s[a]=s[a]||{};return h[n]=e,d?h[i]=t:r(h,i).set(t),null!==t&&(o&=-5),u[a]=u[a]|o,f},get:function(e){if(s){var t=c[e];return void 0===t?void 0:d?s[t][i]:r(s[t],i).get()}},rename:function(e,t){var r=c[e];return void 0===r?f:(u[r]=1|u[r],c[t]=r,delete c[e],s[r][n]=t,f)},remove:function(e){var t=c[e];if(void 0===t)return f;var o=s[t];if(Object.keys(o).length>2)return u[t]=2|u[t],f.set(e,null);if(d){for(a=t;a<s.length;a++)u[a]=3|u[a];for(a=t;a<s.length;a++)c[s[a][n]]--;s.splice(t,1),delete c[e]}else r(o,i).set(null),u[t]=6|u[t];return f},constructUpdate:function(){for(var e,o,a={},l=Object.keys(u),c=0;c<l.length;c++)o=l[c],e=t+"["+o+"]",s[o]?(1&u[o]&&(a[e+"."+n]=s[o][n]),2&u[o]&&(a[e+"."+i]=d?4&u[o]?null:s[o][i]:4&u[o]?null:r(s[o],i).get())):a[e]=null;return a}};return f}},{"./nested_property":449}],444:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e,t){for(var n=e._context.locale,o=0;o<2;o++){for(var i=e._context.locales,a=0;a<2;a++){var s=(i[n]||{}).dictionary;if(s){var l=s[t];if(l)return l}i=r.localeRegistry}var u=n.split("-")[0];if(u===n)break;n=u}return t}},{"../registry":532}],445:[function(e,t,n){"use strict";var r=e("../plot_api/plot_config"),o=t.exports={};function i(e,t){if(e&&e.apply)try{return void e.apply(console,t)}catch(e){}for(var n=0;n<t.length;n++)try{e(t[n])}catch(e){console.log(t[n])}}o.log=function(){if(r.logging>1){for(var e=["LOG:"],t=0;t<arguments.length;t++)e.push(arguments[t]);i(console.trace||console.log,e)}},o.warn=function(){if(r.logging>0){for(var e=["WARN:"],t=0;t<arguments.length;t++)e.push(arguments[t]);i(console.trace||console.log,e)}},o.error=function(){if(r.logging>0){for(var e=["ERROR:"],t=0;t<arguments.length;t++)e.push(arguments[t]);i(console.error,e)}}},{"../plot_api/plot_config":476}],446:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=e.selectAll("g."+n.replace(/\s/g,".")).data(t,function(e){return e[0].trace.uid});return r.exit().remove(),r.enter().append("g").attr("class",n),r.order(),r}},{}],447:[function(e,t,n){"use strict";n.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,o=e.length;for(t=0;t<o;t++)r=Math.max(r,e[t].length);var i=new Array(r);for(t=0;t<r;t++)for(i[t]=new Array(o),n=0;n<o;n++)i[t][n]=e[n][t];return i},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,o,i=e.length;if(e[0].length)for(r=new Array(i),o=0;o<i;o++)r[o]=n.dot(e[o],t);else if(t[0].length){var a=n.transposeRagged(t);for(r=new Array(a.length),o=0;o<a.length;o++)r[o]=n.dot(e,a[o])}else for(r=0,o=0;o<i;o++)r+=e[o]*t[o];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}}},{}],448:[function(e,t,n){"use strict";t.exports={mod:function(e,t){var n=e%t;return n<0?n+t:n},modHalf:function(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}}},{}],449:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("./array").isArrayOrTypedArray;function i(e,t){return function(){var n,r,a,s,l,u=e;for(s=0;s<t.length-1;s++){if(-1===(n=t[s])){for(r=!0,a=[],l=0;l<u.length;l++)a[l]=i(u[l],t.slice(s+1))(),a[l]!==a[0]&&(r=!1);return r?a[0]:a}if("number"==typeof n&&!o(u))return;if("object"!=typeof(u=u[n])||null===u)return}if("object"==typeof u&&null!==u&&null!==(a=u[t[s]]))return a}}t.exports=function(e,t){if(r(t))t=String(t);else if("string"!=typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,o,a,s=0,u=t.split(".");s<u.length;){if(n=String(u[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])u[s]=n[1];else{if(0!==s)throw"bad property string";u.splice(0,1)}for(o=n[2].substr(1,n[2].length-2).split("]["),a=0;a<o.length;a++)s++,u.splice(s,0,Number(o[a]))}s++}return"object"!=typeof e?function(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}(e,t,u):{set:l(e,u,t),get:i(e,u),astr:t,parts:u,obj:e}};var a=/(^|\.)args\[/;function s(e,t){return void 0===e||null===e&&!t.match(a)}function l(e,t,n){return function(r){var i,a,l=e,f="",h=[[e,f]],p=s(r,n);for(a=0;a<t.length-1;a++){if("number"==typeof(i=t[a])&&!o(l))throw"array index but container is not an array";if(-1===i){if(p=!c(l,t.slice(a+1),r,n))break;return}if(!d(l,i,t[a+1],p))break;if("object"!=typeof(l=l[i])||null===l)throw"container is not an object";f=u(f,i),h.push([l,f])}if(p){if(a===t.length-1&&(delete l[t[a]],Array.isArray(l)&&+t[a]==l.length-1))for(;l.length&&void 0===l[l.length-1];)l.pop()}else l[t[a]]=r}}function u(e,t){var n=t;return r(t)?n="["+t+"]":e&&(n="."+t),e+n}function c(e,t,n,r){var i,a=o(n),u=!0,c=n,f=r.replace("-1",0),h=!a&&s(n,f),p=t[0];for(i=0;i<e.length;i++)f=r.replace("-1",i),a&&(c=n[i%n.length],h=s(c,f)),h&&(u=!1),d(e,i,p,h)&&l(e[i],t,r.replace("-1",i))(c);return u}function d(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"==typeof n?[]:{}}return!0}},{"./array":425,"fast-isnumeric":149}],450:[function(e,t,n){"use strict";t.exports=function(){}},{}],451:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=[];t.exports=function(e,t){if(-1===i.indexOf(e)){i.push(e);var n=1e3;o(t)?n=t:"long"===t&&(n=3e3);var a=r.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0);var s=a.selectAll(".notifier-note").data(i);s.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(e){var t=r.select(this);t.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){t.transition().call(l)});for(var o=t.append("p"),i=e.split(/<br\s*\/?>/g),a=0;a<i.length;a++)a&&o.append("br"),o.append("span").text(i[a]);t.transition().duration(700).style("opacity",1).transition().delay(n).call(l)})}function l(e){e.duration(700).style("opacity",0).each("end",function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1),r.select(this).remove()})}}},{d3:85,"fast-isnumeric":149}],452:[function(e,t,n){"use strict";var r=e("./setcursor"),o="data-savedcursor";t.exports=function(e,t){var n=e.attr(o);if(t){if(!n){for(var i=(e.attr("class")||"").split(" "),a=0;a<i.length;a++){var s=i[a];0===s.indexOf("cursor-")&&e.attr(o,s.substr(7)).classed(s,!1)}e.attr(o)||e.attr(o,"!!")}r(e,t)}else n&&(e.attr(o,null),"!!"===n?r(e):r(e,n))}},{"./setcursor":461}],453:[function(e,t,n){"use strict";var r=e("./matrix").dot,o=e("../constants/numerical").BADNUM,i=t.exports={};i.tester=function(e){var t,n=e.slice(),r=n[0][0],i=r,a=n[0][1],s=a;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),i=Math.max(i,n[t][0]),a=Math.min(a,n[t][1]),s=Math.max(s,n[t][1]);var l,u=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(u=!0,l=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(u=!0,l=function(e){return e[1]===n[0][1]}));var c=!0,d=n[0];for(t=1;t<n.length;t++)if(d[0]!==n[t][0]||d[1]!==n[t][1]){c=!1;break}return{xmin:r,xmax:i,ymin:a,ymax:s,pts:n,contains:u?function(e,t){var n=e[0],u=e[1];return!(n===o||n<r||n>i||u===o||u<a||u>s||t&&l(e))}:function(e,t){var l=e[0],u=e[1];if(l===o||l<r||l>i||u===o||u<a||u>s)return!1;var c,d,f,h,p,m=n.length,g=n[0][0],v=n[0][1],y=0;for(c=1;c<m;c++)if(d=g,f=v,g=n[c][0],v=n[c][1],h=Math.min(d,g),!(l<h||l>Math.max(d,g)||u>Math.max(f,v)))if(u<Math.min(f,v))l!==h&&y++;else{if(u===(p=g===d?u:f+(l-d)*(v-f)/(g-d)))return 1!==c||!t;u<=p&&l!==h&&y++}return y%2==1},isRect:u,degenerate:c}};var a=i.isSegmentBent=function(e,t,n,o){var i,a,s,l=e[t],u=[e[n][0]-l[0],e[n][1]-l[1]],c=r(u,u),d=Math.sqrt(c),f=[-u[1]/d,u[0]/d];for(i=t+1;i<n;i++)if(a=[e[i][0]-l[0],e[i][1]-l[1]],(s=r(a,u))<0||s>c||Math.abs(r(a,f))>o)return!0;return!1};i.filter=function(e,t){var n=[e[0]],r=0,o=0;function i(i){e.push(i);var s=n.length,l=r;n.splice(o+1);for(var u=l+1;u<e.length;u++)(u===e.length-1||a(e,l,u+1,t))&&(n.push(e[u]),n.length<s-2&&(r=u,o=n.length-1),l=u)}if(e.length>1){var s=e.pop();i(s)}return{addPt:i,raw:e,filtered:n}}},{"../constants/numerical":420,"./matrix":447}],454:[function(e,n,r){(function(t){"use strict";var r=e("./show_no_webgl_msg"),o=e("regl");n.exports=function(e,n){var i=e._fullLayout,a=!0;return i._glcanvas.each(function(r){if(!r.regl&&(!r.pick||i._has("parcoords"))){try{r.regl=o({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:e._context.plotGlPixelRatio||t.devicePixelRatio,extensions:n||[]})}catch(e){a=!1}a&&this.addEventListener("webglcontextlost",function(t){e&&e.emit&&e.emit("plotly_webglcontextlost",{event:t,layer:r.key})},!1)}}),a||r({container:i._glcontainer.node()}),a}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./show_no_webgl_msg":462,regl:259}],455:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){var n,r=t.toString();for(n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===r)return e;e.push(t)}else!t&&0!==t||-1!==e.indexOf(t)||e.push(t);return e}},{}],456:[function(e,t,n){"use strict";var r=e("../lib"),o=e("../plot_api/plot_config"),i={add:function(e,t,n,r,i){var a,s;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,a),e.undoQueue.index+=1):a=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(t),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(i)),e.undoQueue.queue.length>o.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)i.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)i.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,t,n){e.autoplay=!0,n=function(e,t){for(var n,o=[],i=0;i<t.length;i++)n=t[i],o[i]=n===e?n:"object"==typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return o}(e,n),t.apply(null,n)}};t.exports=i},{"../lib":441,"../plot_api/plot_config":476}],457:[function(e,t,n){"use strict";n.counter=function(e,t,n){var r=(t||"")+(n?"":"$");return"xy"===e?new RegExp("^x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+r):new RegExp("^"+e+"([2-9]|[1-9][0-9]+)?"+r)}},{}],458:[function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,o=/^[^\.\[\]]+$/;t.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(o))throw new Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},{}],459:[function(e,t,n){"use strict";var r=e("./array").isArrayOrTypedArray,o=e("./is_plain_object");t.exports=function e(t,n){for(var i in n){var a=n[i],s=t[i];if(s!==a)if("_"===i.charAt(0)||"function"==typeof a){if(i in t)continue;t[i]=a}else if(r(a)&&r(s)&&o(a[0])){if("customdata"===i||"ids"===i)continue;for(var l=Math.min(a.length,s.length),u=0;u<l;u++)s[u]!==a[u]&&o(a[u])&&o(s[u])&&e(s[u],a[u])}else o(a)&&o(s)&&(e(s,a),Object.keys(s).length||delete t[i])}}},{"./array":425,"./is_plain_object":442}],460:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("./loggers"),i=e("./identity");function a(e,t){return e<t}function s(e,t){return e<=t}function l(e,t){return e>t}function u(e,t){return e>=t}n.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-1e-9)-1:Math.floor((e-t.start)/t.size+1e-9);var i,c,d=0,f=t.length,h=0,p=f>1?(t[f-1]-t[0])/(f-1):1;for(c=p>=0?n?a:s:n?u:l,e+=1e-9*p*(n?-1:1)*(p>=0?1:-1);d<f&&h++<100;)i=Math.floor((d+f)/2),c(t[i],e)?d=i+1:f=i;return h>90&&o.log("Long binary search..."),d-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e){var t=e.slice();t.sort(n.sorterAsc);for(var r=t.length-1,o=t[r]-t[0]||1,i=o/(r||1)/1e4,a=[t[0]],s=0;s<r;s++)t[s+1]>t[s]+i&&(o=Math.min(o,t[s+1]-t[s]),a.push(t[s+1]));return{vals:a,minDiff:o}},n.roundUp=function(e,t,n){for(var r,o=0,i=t.length-1,a=0,s=n?0:1,l=n?1:0,u=n?Math.ceil:Math.floor;o<i&&a++<100;)r=u((o+i)/2),t[r]<=e?o=r+s:i=r-l;return t[o]},n.sort=function(e,t){for(var n=0,r=0,o=1;o<e.length;o++){var i=t(e[o],e[o-1]);if(i<0?n=1:i>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},n.findIndexOfMin=function(e,t){t=t||i;for(var n,r=1/0,o=0;o<e.length;o++){var a=t(e[o]);a<r&&(r=a,n=o)}return n}},{"./identity":440,"./loggers":445,"fast-isnumeric":149}],461:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},{}],462:[function(e,t,n){"use strict";var r=e("../components/color"),o=function(){};t.exports=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=o);e.destroy=function(){e.container.parentNode.removeChild(e.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=r.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=r.lightLine,n.style["z-index"]=30;var i=document.createElement("p");return i.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",i.style.position="relative",i.style.top="50%",i.style.left="50%",i.style.height="30%",i.style.width="50%",i.style.margin="-15% 0 0 -25%",n.appendChild(i),e.container.appendChild(n),e.container.style.background="#FFFFFF",e.container.onclick=function(){window.open("https://get.webgl.org")},!1}},{"../components/color":319}],463:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("./array").isArrayOrTypedArray;n.aggNums=function(e,t,i,a){var s,l;if((!a||a>i.length)&&(a=i.length),r(t)||(t=!1),o(i[0])){for(l=new Array(a),s=0;s<a;s++)l[s]=n.aggNums(e,t,i[s]);i=l}for(s=0;s<a;s++)r(t)?r(i[s])&&(t=e(+t,+i[s])):t=i[s];return t},n.len=function(e){return n.aggNums(function(e){return e+1},0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums(function(e,t){return e+t},0,e)/t},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,t,o){return t||(t=n.len(e)),r(o)||(o=n.mean(e,t)),n.aggNums(function(e,t){return e+Math.pow(t-o,2)},0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"./array":425,"fast-isnumeric":149}],464:[function(e,t,n){"use strict";var r=e("color-normalize");t.exports=function(e){return e?r(e):[0,0,0,1]}},{"color-normalize":63}],465:[function(e,t,n){"use strict";var r=e("d3"),o=e("../lib"),i=e("../constants/xmlns_namespaces"),a=e("../constants/alignment").LINE_SPACING;function s(e,t){return e.node().getBoundingClientRect()[t]}var l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,t,g){var S=e.text(),M=!e.attr("data-notex")&&"undefined"!=typeof MathJax&&S.match(l),j=r.select(e.node().parentNode);if(!j.empty()){var O=e.attr("class")?e.attr("class").split(" ")[0]:"text";return O+="-math",j.selectAll("svg."+O).remove(),j.selectAll("g."+O+"-group").remove(),e.style("display",null).attr({"data-unformatted":S,"data-math":"N"}),M?(t&&t._promises||[]).push(new Promise(function(t){e.style("display","none");var n=parseInt(e.node().style.fontSize,10),i={fontSize:n};!function(e,t,n){var i,a,s,l;MathJax.Hub.Queue(function(){return a=o.extendDeepAll({},MathJax.Hub.config),s=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})},function(){if("SVG"!==(i=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},function(){var n="math-output-"+o.randstr({},64);return l=r.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(e.replace(u,"\\lt ").replace(c,"\\gt ")),MathJax.Hub.Typeset(l.node())},function(){var t=r.select("body").select("#MathJax_SVG_glyphs");if(l.select(".MathJax_SVG").empty()||!l.select("svg").node())o.log("There was an error in the tex syntax.",e),n();else{var a=l.select("svg").node().getBoundingClientRect();n(l.select(".MathJax_SVG"),t,a)}if(l.remove(),"SVG"!==i)return MathJax.Hub.setRenderer(i)},function(){return void 0!==s&&(MathJax.Hub.processSectionDelay=s),MathJax.Hub.Config(a)})}(M[2],i,function(r,o,i){j.selectAll("svg."+O).remove(),j.selectAll("g."+O+"-group").remove();var a=r&&r.select("svg");if(!a||!a.node())return N(),void t();var l=j.append("g").classed(O+"-group",!0).attr({"pointer-events":"none","data-unformatted":S,"data-math":"Y"});l.node().appendChild(a.node()),o&&o.node()&&a.node().insertBefore(o.node().cloneNode(!0),a.node().firstChild),a.attr({class:O,height:i.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=e.node().style.fill||"black";a.select("g").attr({fill:u,stroke:u});var c=s(a,"width"),d=s(a,"height"),f=+e.attr("x")-c*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],h=n||s(e,"height"),p=-h/4;"y"===O[0]?(l.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+") translate("+[-c/2,p-d/2]+")"}),a.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===O[0]?a.attr({x:e.attr("x"),y:p-d/2}):"a"===O[0]?a.attr({x:0,y:p}):a.attr({x:f,y:+e.attr("y")+p-d/2}),g&&g.call(e,l),t(l)})})):N(),e}function N(){j.empty()||(O=e.attr("class")+"-math",j.select("svg."+O).remove()),e.text("").style("white-space","pre");var t=function(e,t){t=t.replace(v," ");var n,s=!1,l=[],u=-1;function c(){u++;var t=document.createElementNS(i.svg,"tspan");r.select(t).attr({class:"line",dy:u*a+"em"}),e.appendChild(t),n=t;var o=l;if(l=[{node:t}],o.length>1)for(var s=1;s<o.length;s++)g(o[s])}function g(e){var t,o=e.type,a={};if("a"===o){t="a";var s=e.target,u=e.href,c=e.popup;u&&(a={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":u},c&&(a.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+c+'");return false;'))}else t="tspan";e.style&&(a.style=e.style);var d=document.createElementNS(i.svg,t);if("sup"===o||"sub"===o){S(n,p),n.appendChild(d);var m=document.createElementNS(i.svg,"tspan");S(m,p),r.select(m).attr("dy",h[o]),a.dy=f[o],n.appendChild(d),n.appendChild(m)}else n.appendChild(d);r.select(d).attr(a),n=e.node=d,l.push(e)}function S(e,t){e.appendChild(document.createTextNode(t))}function M(e){if(1!==l.length){var r=l.pop();e!==r.type&&o.log("Start tag <"+r.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),n=l[l.length-1].node}else o.log("Ignoring unexpected end tag </"+e+">.",t)}_.test(t)?c():(n=e,l=[{node:e}]);for(var j=t.split(y),O=0;O<j.length;O++){var N=j[O],R=N.match(b),P=R&&R[2].toLowerCase(),I=d[P];if("br"===P)c();else if(void 0===I)S(n,C(N));else if(R[1])M(P);else{var D=R[4],L={type:P},B=T(D,x);if(B?(B=B.replace(A,"$1 fill:"),I&&(B+=";"+I)):I&&(B=I),B&&(L.style=B),"a"===P){s=!0;var F=T(D,w);if(F){var z=document.createElement("a");z.href=F,-1!==m.indexOf(z.protocol)&&(L.href=encodeURI(decodeURI(F)),L.target=T(D,k)||"_blank",L.popup=T(D,E))}}g(L)}}return s}(e.node(),S);t&&e.style("pointer-events","all"),n.positionText(e),g&&g.call(e)}};var u=/(<|&lt;|&#60;)/g,c=/(>|&gt;|&#62;)/g,d={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},p="",m=["http:","https:","mailto:","",void 0,":"],g=new RegExp("</?("+Object.keys(d).join("|")+")( [^>]*)?/?>","g"),v=/(\r\n?|\n)/g,y=/(<[^<>]*>)/,b=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i,x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,E=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function T(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&C(r)}var A=/(^|;)\s*color:/;n.plainText=function(e){return(e||"").replace(g," ")};var S={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},M=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function C(e){return e.replace(M,function(e,t){return("#"===t.charAt(0)?function(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n(55232+(e>>10),e%1024+56320)}}("x"===t.charAt(1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):S[t])||e})}function j(e,t,n){var r,o,i,a=n.horizontalAlign,s=n.verticalAlign||"top",l=e.node().getBoundingClientRect(),u=t.node().getBoundingClientRect();return o="bottom"===s?function(){return l.bottom-r.height}:"middle"===s?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},i="right"===a?function(){return l.right-r.width}:"center"===a?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:o()-u.top+"px",left:i()-u.left+"px","z-index":1e3}),this}}n.convertEntities=C,n.lineCount=function(e){return e.selectAll("tspan.line").size()||1},n.positionText=function(e,t,n){return e.each(function(){var e=r.select(this);function o(t,n){return void 0===n?null===(n=e.attr(t))&&(e.attr(t,0),n=0):e.attr(t,n),n}var i=o("x",t),a=o("y",n);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:i,y:a})})},n.makeEditable=function(e,t){var n=t.gd,o=t.delegate,i=r.dispatch("edit","input","cancel"),a=o||e;if(e.style({"pointer-events":o?"none":"all"}),1!==e.size())throw new Error("boo");function s(){var o,s,u,c,d;o=r.select(n).select(".svg-container"),s=o.append("div"),u=e.node().style,c=parseFloat(u.fontSize||12),void 0===(d=t.text)&&(d=e.attr("data-unformatted")),s.classed("plugin-editable editable",!0).style({position:"absolute","font-family":u.fontFamily||"Arial","font-size":c,color:t.fill||u.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(d).call(j(e,o,t)).on("blur",function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t,o=r.select(this).attr("class");(t=o?"."+o.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0});var a=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),i.edit.call(e,a)}).on("focus",function(){var e=this;n._editing=!0,r.select(document).on("mouseup",function(){if(r.event.target===e)return!1;document.activeElement===s.node()&&s.node().blur()})}).on("keyup",function(){27===r.event.which?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),i.cancel.call(e,this.textContent)):(i.input.call(e,this.textContent),r.select(this).call(j(e,o,t)))}).on("keydown",function(){13===r.event.which&&this.blur()}).call(l),e.style({opacity:0});var f,h=a.attr("class");(f=h?"."+h.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(f).style({opacity:0})}function l(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}return t.immediate?s():a.on("click",s),r.rebind(e,i,"on")}},{"../constants/alignment":417,"../constants/xmlns_namespaces":421,"../lib":441,d3:85}],466:[function(e,t,n){"use strict";var r={};function o(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function(e,t,n){var i=r[e],a=Date.now();if(!i){for(var s in r)r[s].ts<a-6e4&&delete r[s];i=r[e]={ts:0,timer:null}}function l(){n(),i.ts=Date.now(),i.onDone&&(i.onDone(),i.onDone=null)}o(i),a>i.ts+t?l():i.timer=setTimeout(function(){l(),i.timer=null},t)},n.done=function(e){var t=r[e];return t&&t.timer?new Promise(function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}}):Promise.resolve()},n.clear=function(e){if(e)o(r[e]),delete r[e];else for(var t in r)n.clear(t)}},{}],467:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":149}],468:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],469:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],470:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,o=r.layoutArrayContainers,i=r.layoutArrayRegexes,a=e.split("[")[0],s=0;s<i.length;s++)if((n=e.match(i[s]))&&0===n.index){t=n[0];break}if(t||(t=o[o.indexOf(a)]),!t)return!1;var l=e.substr(t.length);return l?!!(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},{"../registry":532}],471:[function(e,t,n){"use strict";var r=e("../lib"),o=r.extendFlat,i=r.isPlainObject,a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},s={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw"]},l=a.flags.slice().concat(["fullReplot"]),u=s.flags.slice().concat("layoutReplot");function c(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function d(e,t,n){var r=o({},e);for(var a in r){var s=r[a];i(s)&&(r[a]=f(s,t,0,a))}return"from-root"===n&&(r.editType=t),r}function f(e,t,n,r){if(e.valType){var i=o({},e);if(i.editType=t,Array.isArray(e.items)){i.items=new Array(e.items.length);for(var a=0;a<e.items.length;a++)i.items[a]=f(e.items[a],t)}return i}return d(e,t,"_"===r.charAt(0)?"nested":"from-root")}t.exports={traces:a,layout:s,traceFlags:function(){return c(l)},layoutFlags:function(){return c(u)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),o=0;o<r.length;o++)e[r[o]]=!0},overrideAll:d}},{"../lib":441}],472:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("gl-mat4/fromQuat"),i=e("../registry"),a=e("../lib"),s=e("../plots/plots"),l=e("../plots/cartesian/axis_ids"),u=l.cleanId,c=l.getFromTrace,d=e("../components/color");function f(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=u(n,r))}function h(e){if(!a.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function p(e,t,n,r){if(n&&!r)return e;if(r&&!n)return t;if(!e.trim())return t;if(!t.trim())return e;var o,i=Math.min(e.length,t.length);for(o=0;o<i&&e.charAt(o)===t.charAt(o);o++);var a=e.substr(0,o);return a.trim()}function m(e){var t="middle",n="center";return-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right"),t+" "+n}function g(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&a.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var t,n;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var r=(s.subplotsRegistry.cartesian||{}).attrRegex,i=(s.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(e);for(t=0;t<l.length;t++){var c=l[t];if(r&&r.test(c)){var h=e[c];h.anchor&&"free"!==h.anchor&&(h.anchor=u(h.anchor)),h.overlaying&&(h.overlaying=u(h.overlaying)),h.type||(h.isdate?h.type="date":h.islog?h.type="log":!1===h.isdate&&!1===h.islog&&(h.type="linear")),"withzero"!==h.autorange&&"tozero"!==h.autorange||(h.autorange=!0,h.rangemode="tozero"),delete h.islog,delete h.isdate,delete h.categories,g(h,"domain")&&delete h.domain,void 0!==h.autotick&&(void 0===h.tickmode&&(h.tickmode=h.autotick?"auto":"linear"),delete h.autotick)}else if(i&&i.test(c)){var p=e[c],m=p.cameraposition;if(Array.isArray(m)&&4===m[0].length){var v=m[0],y=m[1],b=m[2],_=o([],v),x=[];for(n=0;n<3;++n)x[n]=y[n]+b*_[2+4*n];p.camera={eye:{x:x[0],y:x[1],z:x[2]},center:{x:y[0],y:y[1],z:y[2]},up:{x:_[1],y:_[5],z:_[9]}},delete p.cameraposition}}}var w=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<w;t++){var k=e.annotations[t];a.isPlainObject(k)&&(k.ref&&("paper"===k.ref?(k.xref="paper",k.yref="paper"):"data"===k.ref&&(k.xref="x",k.yref="y"),delete k.ref),f(k,"xref"),f(k,"yref"))}var E=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<E;t++){var T=e.shapes[t];a.isPlainObject(T)&&(f(T,"xref"),f(T,"yref"))}var A=e.legend;return A&&(A.x>3?(A.x=1.02,A.xanchor="left"):A.x<-2&&(A.x=-.02,A.xanchor="right"),A.y>3?(A.y=1.02,A.yanchor="bottom"):A.y<-2&&(A.y=-.02,A.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),d.clean(e),e},n.cleanData=function(e){for(var t=0;t<e.length;t++){var r,o=e[t];if("histogramy"===o.type&&"xbins"in o&&!("ybins"in o)&&(o.ybins=o.xbins,delete o.xbins),o.error_y&&"opacity"in o.error_y){var l=d.defaults,c=o.error_y.color||(i.traceIs(o,"bar")?d.defaultLine:l[t%l.length]);o.error_y.color=d.addOpacity(d.rgb(c),d.opacity(c)*o.error_y.opacity),delete o.error_y.opacity}if("bardir"in o&&("h"!==o.bardir||!i.traceIs(o,"bar")&&"histogram"!==o.type.substr(0,9)||(o.orientation="h",n.swapXYData(o)),delete o.bardir),"histogramy"===o.type&&n.swapXYData(o),"histogramx"!==o.type&&"histogramy"!==o.type||(o.type="histogram"),"scl"in o&&(o.colorscale=o.scl,delete o.scl),"reversescl"in o&&(o.reversescale=o.reversescl,delete o.reversescl),o.xaxis&&(o.xaxis=u(o.xaxis,"x")),o.yaxis&&(o.yaxis=u(o.yaxis,"y")),i.traceIs(o,"gl3d")&&o.scene&&(o.scene=s.subplotsRegistry.gl3d.cleanId(o.scene)),!i.traceIs(o,"pie")&&!i.traceIs(o,"bar"))if(Array.isArray(o.textposition))for(r=0;r<o.textposition.length;r++)o.textposition[r]=m(o.textposition[r]);else o.textposition&&(o.textposition=m(o.textposition));var f=i.getModule(o);if(f&&f.colorbar){var v=f.colorbar.container,y=v?o[v]:o;y&&y.colorscale&&("YIGnBu"===y.colorscale&&(y.colorscale="YlGnBu"),"YIOrRd"===y.colorscale&&(y.colorscale="YlOrRd"))}if("surface"===o.type&&a.isPlainObject(o.contours)){var b=["x","y","z"];for(r=0;r<b.length;r++){var _=o.contours[b[r]];a.isPlainObject(_)&&(_.highlightColor&&(_.highlightcolor=_.highlightColor,delete _.highlightColor),_.highlightWidth&&(_.highlightwidth=_.highlightWidth,delete _.highlightWidth))}}if("candlestick"===o.type||"ohlc"===o.type){var x=!1!==(o.increasing||{}).showlegend,w=!1!==(o.decreasing||{}).showlegend,k=h(o.increasing),E=h(o.decreasing);if(!1!==k&&!1!==E){var T=p(k,E,x,w);T&&(o.name=T)}else!k&&!E||o.name||(o.name=k||E)}if(Array.isArray(o.transforms)){var A=o.transforms;for(r=0;r<A.length;r++){var S=A[r];if(a.isPlainObject(S))switch(S.type){case"filter":S.filtersrc&&(S.target=S.filtersrc,delete S.filtersrc),S.calendar&&(S.valuecalendar||(S.valuecalendar=S.calendar),delete S.calendar);break;case"groupby":if(S.styles=S.styles||S.style,S.styles&&!Array.isArray(S.styles)){var M=S.styles,C=Object.keys(M);S.styles=[];for(var j=0;j<C.length;j++)S.styles.push({target:C[j],value:M[C[j]]})}}}}g(o,"line")&&delete o.line,"marker"in o&&(g(o.marker,"line")&&delete o.marker.line,g(o,"marker")&&delete o.marker),d.clean(o),o.autobinx&&(delete o.autobinx,delete o.xbins),o.autobiny&&(delete o.autobiny,delete o.ybins)}},n.swapXYData=function(e){var t;if(a.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);a.swapAttrs(e,["error_?.copy_ystyle"]),r&&a.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var o=e.hoverinfo.split("+");for(t=0;t<o.length;t++)"x"===o[t]?o[t]="y":"y"===o[t]&&(o[t]="x");e.hoverinfo=o.join("+")}},n.coerceTraceIndices=function(e,t){if(r(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map(function(e,t){return t});if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o++)a.isIndex(t[o],e.data.length)?n.push(t[o]):a.warn("trace index (",t[o],") is not a number or is out of bounds");return n}return t},n.manageArrayContainers=function(e,t,n){var o=e.obj,i=e.parts,s=i.length,l=i[s-1],u=r(l);if(u&&null===t){var c=i.slice(0,s-1).join("."),d=a.nestedProperty(o,c).get();d.splice(l,1)}else u&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var v=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function y(e){var t=e.search(v);if(t>0)return e.substr(0,t)}n.hasParent=function(e,t){for(var n=y(t);n;){if(n in e)return!0;n=y(n)}return!1};var b=["x","y","z"];n.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var o=e._fullData[r],i=0;i<3;i++){var s=c(e,o,b[i]);if(s&&"log"!==s.type){var l=s._name,u=s._id.substr(1);if("scene"===u.substr(0,5)){if(void 0!==n[u])continue;l=u+"."+l}var d=l+".type";void 0===n[l]&&void 0===n[d]&&a.nestedProperty(e.layout,d).set(null)}}}},{"../components/color":319,"../lib":441,"../plots/cartesian/axis_ids":491,"../plots/plots":525,"../registry":532,"fast-isnumeric":149,"gl-mat4/fromQuat":167}],473:[function(e,t,n){"use strict";var r=e("./plot_api");n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=e("./to_image"),n.validate=e("./validate"),n.downloadImage=e("../snapshot/download");var o=e("./template_api");n.makeTemplate=o.makeTemplate,n.validateTemplate=o.validateTemplate},{"../snapshot/download":534,"./plot_api":475,"./template_api":480,"./to_image":481,"./validate":482}],474:[function(e,t,n){"use strict";var r=e("../lib/nested_property"),o=e("../lib/is_plain_object"),i=e("../lib/noop"),a=e("../lib/loggers"),s=e("../lib/search").sorterAsc,l=e("../registry");n.containerArrayMatch=e("./container_array_match");var u=n.isAddVal=function(e){return"add"===e||o(e)},c=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,o){var d=t.astr,f=l.getComponentMethod(d,"supplyLayoutDefaults"),h=l.getComponentMethod(d,"draw"),p=l.getComponentMethod(d,"drawOne"),m=o.replot||o.recalc||f===i||h===i,g=e.layout,v=e._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",d);var y=n[""][""];if(c(y))t.set(null);else{if(!Array.isArray(y))return a.warn("Unrecognized full array edit value",d,y),!0;t.set(y)}return!m&&(f(g,v),h(e),!0)}var b,_,x,w,k,E,T,A=Object.keys(n).map(Number).sort(s),S=t.get(),M=S||[],C=r(v,d).get(),j=[],O=-1,N=M.length;for(b=0;b<A.length;b++)if(x=A[b],w=n[x],k=Object.keys(w),E=w[""],T=u(E),x<0||x>M.length-(T?0:1))a.warn("index out of range",d,x);else if(void 0!==E)k.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",d,x),c(E)?j.push(x):T?("add"===E&&(E={}),M.splice(x,0,E),C&&C.splice(x,0,{})):a.warn("Unrecognized full object edit value",d,x,E),-1===O&&(O=x);else for(_=0;_<k.length;_++)r(M[x],k[_]).set(w[k[_]]);for(b=j.length-1;b>=0;b--)M.splice(j[b],1),C&&C.splice(j[b],1);if(M.length?S||t.set(M):t.set(null),m)return!1;if(f(g,v),p!==i){var R;if(-1===O)R=A;else{for(N=Math.max(M.length,N),R=[],b=0;b<A.length&&!((x=A[b])>=O);b++)R.push(x);for(b=O;b<N;b++)R.push(b)}for(b=0;b<R.length;b++)p(e,R[b])}else h(e);return!0}},{"../lib/is_plain_object":442,"../lib/loggers":445,"../lib/nested_property":449,"../lib/noop":450,"../lib/search":460,"../registry":532,"./container_array_match":470}],475:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("has-hover"),a=e("../lib"),s=e("../lib/events"),l=e("../lib/queue"),u=e("../registry"),c=e("./plot_schema"),d=e("../plots/plots"),f=e("../plots/polar/legacy"),h=e("../plots/cartesian/axes"),p=e("../components/drawing"),m=e("../components/color"),g=e("../components/colorbar/connect"),v=e("../plots/cartesian/graph_interact").initInteractions,y=e("../constants/xmlns_namespaces"),b=e("../lib/svg_text_utils"),_=e("./plot_config"),x=e("./manage_arrays"),w=e("./helpers"),k=e("./subroutines"),E=e("./edit_types"),T=e("../plots/cartesian/constants").AX_NAME_PATTERN,A=0;function S(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function M(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){a.error(e)}}function C(e,t){var n=m.combine(t,"white");M(e,n)}function j(e,t){e._context||(e._context=a.extendDeep({},_));var n,r,o,s=e._context;if(t){for(r=Object.keys(t),n=0;n<r.length;n++)"editable"!==(o=r[n])&&"edits"!==o&&o in s&&("setBackground"===o&&"opaque"===t[o]?s[o]=C:s[o]=t[o]);t.plot3dPixelRatio&&!s.plotGlPixelRatio&&(s.plotGlPixelRatio=s.plot3dPixelRatio);var l=t.editable;if(void 0!==l)for(s.editable=l,r=Object.keys(s.edits),n=0;n<r.length;n++)s.edits[r[n]]=l;if(t.edits)for(r=Object.keys(t.edits),n=0;n<r.length;n++)(o=r[n])in s.edits&&(s.edits[o]=t.edits[o])}s.staticPlot&&(s.editable=!1,s.edits={},s.autosizable=!1,s.scrollZoom=!1,s.doubleClick=!1,s.showTips=!1,s.showLink=!1,s.displayModeBar=!1),"hover"!==s.displayModeBar||i||(s.displayModeBar=!0),"transparent"!==s.setBackground&&"function"==typeof s.setBackground||(s.setBackground=M),s._hasZeroHeight=s._hasZeroHeight||0===e.clientHeight,s._hasZeroWidth=s._hasZeroWidth||0===e.clientWidth}function O(e,t){var n,r,o=t+1,i=[];for(n=0;n<e.length;n++)(r=e[n])<0?i.push(o+r):i.push(r);return i}function N(e,t,n){var r,o;for(r=0;r<t.length;r++){if((o=t[r])!==parseInt(o,10))throw new Error("all values in "+n+" must be integers");if(o>=e.data.length||o<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(o,r+1)>-1||o>=0&&t.indexOf(-e.data.length+o)>-1||o<0&&t.indexOf(e.data.length+o)>-1)throw new Error("each index in "+n+" must be unique.")}}function R(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),N(e,t,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&N(e,n,"newIndices"),void 0!==n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function P(e,t,n,r,i){!function(e,t,n,r){var o=a.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(t))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");for(var i in N(e,n,"indices"),t){if(!Array.isArray(t[i])||t[i].length!==n.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(o&&(!(i in r)||!Array.isArray(r[i])||r[i].length!==t[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,n,r);for(var s=function(e,t,n,r){var i,s,l,u,c,d=a.isPlainObject(r),f=[];for(var h in Array.isArray(n)||(n=[n]),n=O(n,e.data.length-1),t)for(var p=0;p<n.length;p++){if(i=e.data[n[p]],l=a.nestedProperty(i,h),s=l.get(),u=t[h][p],!a.isArrayOrTypedArray(u))throw new Error("attribute: "+h+" index: "+p+" must be an array");if(!a.isArrayOrTypedArray(s))throw new Error("cannot extend missing or non-array attribute: "+h);if(s.constructor!==u.constructor)throw new Error("cannot extend array with an array of a different type: "+h);c=d?r[h][p]:r,o(c)||(c=-1),f.push({prop:l,target:s,insert:u,maxp:Math.floor(c)})}return f}(e,t,n,r),l={},u={},c=0;c<s.length;c++){var d=s[c].prop,f=s[c].maxp,h=i(s[c].target,s[c].insert,f);d.set(h[0]),Array.isArray(l[d.astr])||(l[d.astr]=[]),l[d.astr].push(h[1]),Array.isArray(u[d.astr])||(u[d.astr]=[]),u[d.astr].push(s[c].target.length)}return{update:l,maxPoints:u}}function I(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function D(e){return void 0===e?null:e}function L(e,t,n){var r,o,i=e._fullLayout,s=e._fullData,l=e.data,f=E.traceFlags(),p={},m={};function g(){return n.map(function(){})}function v(e){var t=h.id2name(e);-1===o.indexOf(t)&&o.push(t)}function y(e){return"LAYOUT"+e+".autorange"}function b(e){return"LAYOUT"+e+".range"}function _(r,o,i){var s;Array.isArray(r)?r.forEach(function(e){_(e,o,i)}):r in t||w.hasParent(t,r)||(s="LAYOUT"===r.substr(0,6)?a.nestedProperty(e.layout,r.replace("LAYOUT","")):a.nestedProperty(l[n[i]],r),r in m||(m[r]=g()),void 0===m[r][i]&&(m[r][i]=D(s.get())),void 0!==o&&s.set(o))}function x(e){return function(t){return s[t][e]}}function k(e){return function(t,r){return!1===t?s[n[r]][e]:null}}for(var T in t){if(w.hasParent(t,T))throw new Error("cannot set "+T+"and a parent attribute simultaneously");var A,S,M,C,j,O,N=t[T];if("autobinx"!==T&&"autobiny"!==T||(T=T.charAt(T.length-1)+"bins",N=Array.isArray(N)?N.map(k(T)):!1===N?n.map(x(T)):null),p[T]=N,"LAYOUT"!==T.substr(0,6)){for(m[T]=g(),r=0;r<n.length;r++)if(A=l[n[r]],S=s[n[r]],M=a.nestedProperty(A,T),C=M.get(),void 0!==(j=Array.isArray(N)?N[r%N.length]:N)){var R=M.parts[M.parts.length-1],P=T.substr(0,T.length-R.length-1),I=P?P+".":"",L=P?a.nestedProperty(S,P).get():S;if((O=c.getTraceValObject(S,M.parts))&&O.impliedEdits&&null!==j)for(var B in O.impliedEdits)_(a.relativeAttr(T,B),O.impliedEdits[B],r);else if("thicknessmode"!==R&&"lenmode"!==R||C===j||"fraction"!==j&&"pixels"!==j||!L){if("type"===T&&"pie"===j!=("pie"===C)){var F="x",z="y";"bar"!==j&&"bar"!==C||"h"!==A.orientation||(F="y",z="x"),a.swapAttrs(A,["?","?src"],"labels",F),a.swapAttrs(A,["d?","?0"],"label",F),a.swapAttrs(A,["?","?src"],"values",z),"pie"===C?(a.nestedProperty(A,"marker.color").set(a.nestedProperty(A,"marker.colors").get()),i._pielayer.selectAll("g.trace").remove()):u.traceIs(A,"cartesian")&&a.nestedProperty(A,"marker.colors").set(a.nestedProperty(A,"marker.color").get())}}else{var U=i._size,q=L.orient,V="top"===q||"bottom"===q;if("thicknessmode"===R){var H=V?U.h:U.w;_(I+"thickness",L.thickness*("fraction"===j?1/H:H),r)}else{var W=V?U.w:U.h;_(I+"len",L.len*("fraction"===j?1/W:W),r)}}if(m[T][r]=D(C),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(T)){if("orientation"===T){M.set(j);var G=A.x&&!A.y?"h":"v";if((M.get()||G)===S.orientation)continue}else"orientationaxes"===T&&(A.orientation={v:"h",h:"v"}[S.orientation]);w.swapXYData(A),f.calc=f.clearAxisTypes=!0}else-1!==d.dataArrayContainers.indexOf(M.parts[0])?(w.manageArrayContainers(M,j,m),f.calc=!0):(O?O.arrayOk&&!u.traceIs(S,"regl")&&(a.isArrayOrTypedArray(j)||a.isArrayOrTypedArray(C))?f.calc=!0:E.update(f,O):f.calc=!0,M.set(j))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(T)&&h.swap(e,n),"orientationaxes"===T){var X=a.nestedProperty(e.layout,"hovermode");"x"===X.get()?X.set("y"):"y"===X.get()&&X.set("x")}if(-1!==["orientation","type"].indexOf(T)){for(o=[],r=0;r<n.length;r++){var K=l[n[r]];u.traceIs(K,"cartesian")&&(v(K.xaxis||"x"),v(K.yaxis||"y"))}_(o.map(y),!0,0),_(o.map(b),[0,1],0)}}else M=a.nestedProperty(e.layout,T.replace("LAYOUT","")),m[T]=[D(M.get())],M.set(Array.isArray(N)?N[0]:N),f.calc=!0}return(f.calc||f.plot)&&(f.fullReplot=!0),{flags:f,undoit:m,redoit:p,traces:n,eventData:a.extendDeepNoArrays([],[p,n])}}function B(e,t,n){var r;if(!t.axrange)return!1;for(r in t)if("axrange"!==r&&t[r])return!1;for(r in n.rangesAltered){var o=h.id2name(r),i=e.layout[o],a=e._fullLayout[o];a.autorange=i.autorange,a.range=i.range.slice(),a.cleanRange()}return!0}function F(e,t){var n=t?function(e){return h.doTicks(e,Object.keys(t),!0)}:function(e){return h.doTicks(e,"redraw")};e.push(k.doAutoRangeAndConstraints,n,k.drawData,k.finalDraw)}n.plot=function(e,t,o,i){var l;if(e=a.getGraphDiv(e),s.init(e),a.isPlainObject(t)){var c=t;t=c.data,o=c.layout,i=c.config,l=c.frames}var m=s.triggerHandler(e,"plotly_beforeplot",[t,o,i]);if(!1===m)return Promise.reject();t||o||a.isPlotDiv(e)||a.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),j(e,i),o||(o={}),r.select(e).classed("js-plotly-plot",!0),p.makeTester(),delete p.baseUrl,Array.isArray(e._promises)||(e._promises=[]);var y=0===(e.data||[]).length&&Array.isArray(t);if(Array.isArray(t)&&(w.cleanData(t),y?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!y||(e.layout=w.cleanLayout(o)),e._dragging&&!e._transitioning)return e._replotPending=!0,Promise.reject();e._replotPending=!1,d.supplyDefaults(e);var _=e._fullLayout,x=_._has("cartesian");if(!_._has("polar")&&t&&t[0]&&t[0].r)return a.log("Legacy polar charts are deprecated!"),function(e,t,n){var o=r.select(e).selectAll(".plot-container").data([0]);o.enter().insert("div",":first-child").classed("plot-container plotly",!0);var i=o.selectAll(".svg-container").data([0]);i.enter().append("div").classed("svg-container",!0).style("position","relative"),i.html(""),t&&(e.data=t),n&&(e.layout=n),f.manager.fillLayout(e),i.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=f.manager.framework(e),e.framework({data:e.data,layout:e.layout},i.node()),e.framework.setUndoPoint();var s=e.framework.svg(),l=1,u=e._fullLayout.title;""!==u&&u||(l=0);var c=function(){this.call(b.convertToTspans,e)},h=s.select(".title-group text").call(c);if(e._context.edits.titleText){var p=a._(e,"Click to enter Plot title");u&&u!==p||(l=.2,h.attr({"data-unformatted":p}).text(p).style({opacity:l}).on("mouseover.opacity",function(){r.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(1e3).style("opacity",0)}));var m=function(){this.call(b.makeEditable,{gd:e}).on("edit",function(t){e.framework({layout:{title:t}}),this.text(t).call(c),this.call(m)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(c)})};h.call(m)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),d.addLinks(e),Promise.resolve()}(e,t,o);_._replotting=!0,y&&G(e),e.framework!==G&&(e.framework=G,G(e)),p.initGradients(e),y&&h.saveShowSpikeInitial(e);var E=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;E&&d.doCalcdata(e);for(var T=0;T<e.calcdata.length;T++)e.calcdata[T][0].trace=e._fullData[T];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){d.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):a.clearResponsive(e);var A=JSON.stringify(_._size),M=0;function C(){var t,n,r,o=e.calcdata;for(d.clearAutoMarginIds(e),k.drawMarginPushers(e),h.allowAutoMargin(e),t=0;t<o.length;t++){n=o[t];var i=(r=n[0].trace)._module.colorbar;!0===r.visible&&i?g(e,n,i):d.autoMargin(e,"cb"+r.uid)}return d.doAutoMargin(e),d.previousPromises(e)}function O(){e._transitioning||(k.doAutoRangeAndConstraints(e),y&&h.saveRangeInitial(e))}var N=[d.previousPromises,function(){if(l)return n.addFrames(e,l)},function t(){for(var n=_._basePlotModules,r=0;r<n.length;r++)n[r].drawFramework&&n[r].drawFramework(e);if(!_._glcanvas&&_._has("gl")&&(_._glcanvas=_._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(e){return e.key}),_._glcanvas.enter().append("canvas").attr("class",function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"visible","pointer-events":"none"})),_._glcanvas){_._glcanvas.attr("width",_.width).attr("height",_.height);var o=_._glcanvas.data()[0].regl;if(o&&(Math.floor(_.width)!==o._gl.drawingBufferWidth||Math.floor(_.height)!==o._gl.drawingBufferHeight)){var i="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!M)return a.log(i+" Clearing graph and plotting again."),d.cleanPlot([],{},e._fullData,_),d.supplyDefaults(e),_=e._fullLayout,d.doCalcdata(e),M++,t();a.error(i)}}return d.previousPromises(e)},C,function(){if(JSON.stringify(_._size)!==A)return a.syncOrAsync([C,k.layoutStyles],e)}];x&&N.push(function(){if(E)return a.syncOrAsync([u.getComponentMethod("shapes","calcAutorange"),u.getComponentMethod("annotations","calcAutorange"),O,u.getComponentMethod("rangeslider","calcAutorange")],e);O()}),N.push(k.layoutStyles),x&&N.push(function(){return h.doTicks(e,y?"":"redraw")}),N.push(k.drawData,k.finalDraw,v,d.addLinks,d.rehover,d.doAutoMargin,d.previousPromises);var R=a.syncOrAsync(N,e);return R&&R.then||(R=Promise.resolve()),R.then(function(){return S(e),e})},n.setPlotConfig=function(e){return a.extendFlat(_,e)},n.redraw=function(e){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return w.cleanData(e.data),w.cleanLayout(e.layout),e.calcdata=void 0,n.plot(e).then(function(){return e.emit("plotly_redraw"),e})},n.newPlot=function(e,t,r,o){return e=a.getGraphDiv(e),d.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),d.purge(e),n.plot(e,t,r,o)},n.extendTraces=function e(t,r,o,i){var s=P(t=a.getGraphDiv(t),r,o,i,function(e,t,n){var r,o;if(a.isTypedArray(e))if(n<0){var i=new e.constructor(0),s=I(e,t);n<0?(r=s,o=i):(r=i,o=s)}else if(r=new e.constructor(n),o=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),o.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(l)),o.set(e),o.set(t.subarray(0,l),e.length)}else{var u=n-t.length,c=e.length-u;r.set(e.subarray(c)),r.set(t,u),o.set(e.subarray(0,c))}else r=e.concat(t),o=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,o]}),u=n.redraw(t),c=[t,s.update,o,s.maxPoints];return l.add(t,n.prependTraces,c,e,arguments),u},n.prependTraces=function e(t,r,o,i){var s=P(t=a.getGraphDiv(t),r,o,i,function(e,t,n){var r,o;if(a.isTypedArray(e))if(n<=0){var i=new e.constructor(0),s=I(t,e);n<0?(r=s,o=i):(r=i,o=s)}else if(r=new e.constructor(n),o=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),o.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(0,l)),o.set(t.subarray(l)),o.set(e,l)}else{var u=n-t.length;r.set(t),r.set(e.subarray(0,u),t.length),o.set(e.subarray(u))}else r=t.concat(e),o=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,o]}),u=n.redraw(t),c=[t,s.update,o,s.maxPoints];return l.add(t,n.extendTraces,c,e,arguments),u},n.addTraces=function e(t,r,o){t=a.getGraphDiv(t);var i,s,u=[],c=n.deleteTraces,d=e,f=[t,u],h=[t,r];for(function(e,t,n){var r,o;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!=typeof(o=t[r])||Array.isArray(o)||null===o)throw new Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(t,r,o),Array.isArray(r)||(r=[r]),r=r.map(function(e){return a.extendFlat({},e)}),w.cleanData(r),i=0;i<r.length;i++)t.data.push(r[i]);for(i=0;i<r.length;i++)u.push(-r.length+i);if(void 0===o)return s=n.redraw(t),l.add(t,c,f,d,h),s;Array.isArray(o)||(o=[o]);try{R(t,u,o)}catch(e){throw t.data.splice(t.data.length-r.length,r.length),e}return l.startSequence(t),l.add(t,c,f,d,h),s=n.moveTraces(t,u,o),l.stopSequence(t),s},n.deleteTraces=function e(t,r){t=a.getGraphDiv(t);var o,i,s=[],u=n.addTraces,c=e,d=[t,s,r],f=[t,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),N(t,r,"indices"),(r=O(r,t.data.length-1)).sort(a.sorterDes),o=0;o<r.length;o+=1)i=t.data.splice(r[o],1)[0],s.push(i);var h=n.redraw(t);return l.add(t,u,d,c,f),h},n.moveTraces=function e(t,r,o){t=a.getGraphDiv(t);var i,s=[],u=[],c=e,d=e,f=[t,o,r],h=[t,r,o];if(R(t,r,o),r=Array.isArray(r)?r:[r],void 0===o)for(o=[],i=0;i<r.length;i++)o.push(-r.length+i);for(o=Array.isArray(o)?o:[o],r=O(r,t.data.length-1),o=O(o,t.data.length-1),i=0;i<t.data.length;i++)-1===r.indexOf(i)&&s.push(t.data[i]);for(i=0;i<r.length;i++)u.push({newIndex:o[i],trace:t.data[r[i]]});for(u.sort(function(e,t){return e.newIndex-t.newIndex}),i=0;i<u.length;i+=1)s.splice(u[i].newIndex,0,u[i].trace);t.data=s;var p=n.redraw(t);return l.add(t,c,f,d,h),p},n.restyle=function e(t,r,o,i){t=a.getGraphDiv(t),w.clearPromiseQueue(t);var s={};if("string"==typeof r)s[r]=o;else{if(!a.isPlainObject(r))return a.warn("Restyle fail.",r,o,i),Promise.reject();s=a.extendFlat({},r),void 0===i&&(i=o)}Object.keys(s).length&&(t.changed=!0);var u=w.coerceTraceIndices(t,i),c=L(t,s,u),f=c.flags;f.calc&&(t.calcdata=void 0),f.clearAxisTypes&&w.clearAxisTypes(t,u,{});var h=[];f.fullReplot?h.push(n.plot):(h.push(d.previousPromises),d.supplyDefaults(t),f.markerSize&&(d.doCalcdata(t),F(h)),f.style&&h.push(k.doTraceStyle),f.colorbars&&h.push(k.doColorBars),h.push(S)),h.push(d.rehover),l.add(t,e,[t,c.undoit,c.traces],e,[t,c.redoit,c.traces]);var p=a.syncOrAsync(h,t);return p&&p.then||(p=Promise.resolve()),p.then(function(){return t.emit("plotly_restyle",c.eventData),t})},n.relayout=function e(t,n,r){if(t=a.getGraphDiv(t),w.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);var o={};if("string"==typeof n)o[n]=r;else{if(!a.isPlainObject(n))return a.warn("Relayout fail.",n,r),Promise.reject();o=a.extendFlat({},n)}Object.keys(o).length&&(t.changed=!0);var i=V(t,o),s=i.flags;s.calc&&(t.calcdata=void 0);var u=[d.previousPromises];s.layoutReplot?u.push(k.layoutReplot):Object.keys(o).length&&(B(t,s,i)||d.supplyDefaults(t),s.legend&&u.push(k.doLegend),s.layoutstyle&&u.push(k.layoutStyles),s.axrange&&F(u,i.rangesAltered),s.ticks&&u.push(k.doTicksRelayout),s.modebar&&u.push(k.doModeBar),s.camera&&u.push(k.doCamera),u.push(S)),u.push(d.rehover),l.add(t,e,[t,i.undoit],e,[t,i.redoit]);var c=a.syncOrAsync(u,t);return c&&c.then||(c=Promise.resolve(t)),c.then(function(){return t.emit("plotly_relayout",i.eventData),t})};var z=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,U=/^[xyz]axis[0-9]*\.autorange$/,q=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function V(e,t){var n,r,o,i=e.layout,s=e._fullLayout,l=Object.keys(t),d=h.list(e),f={};for(r=0;r<l.length;r++)if(0===l[r].indexOf("allaxes")){for(o=0;o<d.length;o++){var p=d[o]._id.substr(1),m=-1!==p.indexOf("scene")?p+".":"",g=l[r].replace("allaxes",m+d[o]._name);t[g]||(t[g]=t[l[r]])}delete t[l[r]]}var v=E.layoutFlags(),y={},b={};function _(e,n){if(Array.isArray(e))e.forEach(function(e){_(e,n)});else if(!(e in t||w.hasParent(t,e))){var r=a.nestedProperty(i,e);e in b||(b[e]=D(r.get())),void 0!==n&&r.set(n)}}var k,A={};function S(e){var t=h.name2id(e.split(".")[0]);return A[t]=1,t}for(var M in t){if(w.hasParent(t,M))throw new Error("cannot set "+M+"and a parent attribute simultaneously");for(var C=a.nestedProperty(i,M),j=t[M],O=C.parts.length,N=O-1;N>0&&"string"!=typeof C.parts[N];)N--;var R=C.parts[N],P=C.parts[N-1]+"."+R,I=C.parts.slice(0,N).join("."),L=a.nestedProperty(e.layout,I).get(),B=a.nestedProperty(s,I).get(),F=C.get();if(void 0!==j){y[M]=j,b[M]="reverse"===R?j:D(F);var V=c.getLayoutValObject(s,C.parts);if(V&&V.impliedEdits&&null!==j)for(var W in V.impliedEdits)_(a.relativeAttr(M,W),V.impliedEdits[W]);if(-1!==["width","height"].indexOf(M))if(j){_("autosize",null);var G="height"===M?"width":"height";_(G,s[G])}else s[M]=e._initialAutoSize[M];else if("autosize"===M)_("width",j?null:s.width),_("height",j?null:s.height);else if(P.match(z))S(P),a.nestedProperty(s,I+"._inputRange").set(null);else if(P.match(U)){S(P),a.nestedProperty(s,I+"._inputRange").set(null);var X=a.nestedProperty(s,I).get();X._inputDomain&&(X._input.domain=X._inputDomain.slice())}else P.match(q)&&a.nestedProperty(s,I+"._inputDomain").set(null);if("type"===R){var K=L,Y="linear"===B.type&&"log"===j,$="log"===B.type&&"linear"===j;if(Y||$){if(K&&K.range)if(B.autorange)Y&&(K.range=K.range[1]>K.range[0]?[1,2]:[2,1]);else{var Z=K.range[0],Q=K.range[1];Y?(Z<=0&&Q<=0&&_(I+".autorange",!0),Z<=0?Z=Q/1e6:Q<=0&&(Q=Z/1e6),_(I+".range[0]",Math.log(Z)/Math.LN10),_(I+".range[1]",Math.log(Q)/Math.LN10)):(_(I+".range[0]",Math.pow(10,Z)),_(I+".range[1]",Math.pow(10,Q)))}else _(I+".autorange",!0);Array.isArray(s._subplots.polar)&&s._subplots.polar.length&&s[C.parts[0]]&&"radialaxis"===C.parts[1]&&delete s[C.parts[0]]._subplot.viewInitial["radialaxis.range"],u.getComponentMethod("annotations","convertCoords")(e,B,j,_),u.getComponentMethod("images","convertCoords")(e,B,j,_)}else _(I+".autorange",!0),_(I+".range",null);a.nestedProperty(s,I+"._inputRange").set(null)}else if(R.match(T)){var J=a.nestedProperty(s,M).get(),ee=(j||{}).type;ee&&"-"!==ee||(ee="linear"),u.getComponentMethod("annotations","convertCoords")(e,J,ee,_),u.getComponentMethod("images","convertCoords")(e,J,ee,_)}var te=x.containerArrayMatch(M);if(te){n=te.array,r=te.index;var ne=te.property,re=a.nestedProperty(i,n),oe=(re||[])[r]||{},ie=V||{editType:"calc"};""!==r&&""===ne&&(x.isAddVal(j)?b[M]=null:x.isRemoveVal(j)?b[M]=oe:a.warn("unrecognized full object value",t)),E.update(v,ie),f[n]||(f[n]={});var ae=f[n][r];ae||(ae=f[n][r]={}),ae[ne]=j,delete t[M]}else"reverse"===R?(L.range?L.range.reverse():(_(I+".autorange",!0),L.range=[1,0]),B.autorange?v.calc=!0:v.plot=!0):(s._has("scatter-like")&&s._has("regl")&&"dragmode"===M&&("lasso"===j||"select"===j)&&"lasso"!==F&&"select"!==F?v.plot=!0:V?E.update(v,V):v.calc=!0,C.set(j))}}for(n in f){var se=x.applyContainerArrayChanges(e,a.nestedProperty(i,n),f[n],v);se||(v.plot=!0)}var le=s._axisConstraintGroups||[];for(k in A)for(r=0;r<le.length;r++){var ue=le[r];if(ue[k])for(var ce in v.calc=!0,ue)A[ce]||(h.getFromId(e,ce)._constraintShrinkable=!0)}return(H(e)||t.height||t.width)&&(v.plot=!0),(v.plot||v.calc)&&(v.layoutReplot=!0),{flags:v,rangesAltered:A,undoit:b,redoit:y,eventData:a.extendDeep({},y)}}function H(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&d.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function W(e,t,n,r){var o,i,s=r.getValObject,l=r.flags,u=r.immutable,c=r.inArray,d=r.arrayIndex;function f(){var e=o.editType;c&&-1!==e.indexOf("arraydraw")?a.pushUnique(l.arrays[c],d):E.update(l,o)}function h(e){return"data_array"===e.valType||e.arrayOk}for(i in e){if(l.calc)return;var p=e[i],m=t[i];if("_"!==i.charAt(0)&&"function"!=typeof p&&p!==m){if(("tick0"===i||"dtick"===i)&&"geo"!==n[0]){var g=t.tickmode;if("auto"===g||"array"===g||!g)continue}if(("range"!==i||!t.autorange)&&("zmin"!==i&&"zmax"!==i||"contourcarpet"!==t.type)){var v=n.concat(i);if((o=s(v))&&(!o._compareAsJSON||JSON.stringify(p)!==JSON.stringify(m))){var y,b=o.valType,_=h(o),x=Array.isArray(p),w=Array.isArray(m);if(x&&w){var k="_input_"+i,T=e[k],A=t[k];if(Array.isArray(T)&&T===A)continue}if(void 0===m)_&&x?l.calc=!0:f();else if(o._isLinkedToArray){var S=[],M=!1;c||(l.arrays[i]=S);var C=Math.min(p.length,m.length),j=Math.max(p.length,m.length);if(C!==j){if("arraydraw"!==o.editType){f();continue}M=!0}for(y=0;y<C;y++)W(p[y],m[y],v.concat(y),a.extendFlat({inArray:i,arrayIndex:y},r));if(M)for(y=C;y<j;y++)S.push(y)}else!b&&a.isPlainObject(p)?W(p,m,v,r):_?x&&w?u&&(l.calc=!0):x!==w?l.calc=!0:f():x&&w&&p.length===m.length&&String(p)===String(m)||f()}}}}for(i in t)if(!(i in e||"_"===i.charAt(0)||"function"==typeof t[i])){if(h(o=s(n.concat(i)))&&Array.isArray(t[i]))return void(l.calc=!0);f()}}function G(e){var t=r.select(e),n=e._fullLayout;if(n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var o={};r.selectAll("defs").each(function(){this.id&&(o[this.id.split("-")[1]]=1)}),n._uid=a.randstr(o)}n._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var i=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=i.append("g").classed("imagelayer",!0),n._shapeLowerLayer=i.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var s=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),e.emit("plotly_framework")}n.update=function e(t,r,o,i){if(t=a.getGraphDiv(t),w.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);a.isPlainObject(r)||(r={}),a.isPlainObject(o)||(o={}),Object.keys(r).length&&(t.changed=!0),Object.keys(o).length&&(t.changed=!0);var s=w.coerceTraceIndices(t,i),u=L(t,a.extendFlat({},r),s),c=u.flags,f=V(t,a.extendFlat({},o)),h=f.flags;(c.calc||h.calc)&&(t.calcdata=void 0),c.clearAxisTypes&&w.clearAxisTypes(t,s,o);var p=[];if(c.fullReplot&&h.layoutReplot){var m=t.data,g=t.layout;t.data=void 0,t.layout=void 0,p.push(function(){return n.plot(t,m,g)})}else c.fullReplot?p.push(n.plot):h.layoutReplot?p.push(k.layoutReplot):(p.push(d.previousPromises),B(t,h,f)||d.supplyDefaults(t),c.style&&p.push(k.doTraceStyle),c.colorbars&&p.push(k.doColorBars),h.legend&&p.push(k.doLegend),h.layoutstyle&&p.push(k.layoutStyles),h.axrange&&F(p,f.rangesAltered),h.ticks&&p.push(k.doTicksRelayout),h.modebar&&p.push(k.doModeBar),h.camera&&p.push(k.doCamera),p.push(S));p.push(d.rehover),l.add(t,e,[t,u.undoit,f.undoit,u.traces],e,[t,u.redoit,f.redoit,u.traces]);var v=a.syncOrAsync(p,t);return v&&v.then||(v=Promise.resolve(t)),v.then(function(){return t.emit("plotly_update",{data:u.eventData,layout:f.eventData}),t})},n.react=function(e,t,r,o){var i,s,l=(e=a.getGraphDiv(e))._fullData,f=e._fullLayout;if(a.isPlotDiv(e)&&l&&f){if(a.isPlainObject(t)){var h=t;t=h.data,r=h.layout,o=h.config,i=h.frames}var p=!1;if(o){var m=a.extendDeep({},e._context);e._context=void 0,j(e,o),p=function e(t,n){var r;for(r in t)if("_"!==r.charAt(0)){var o=t[r],i=n[r];if(o!==i)if(a.isPlainObject(o)&&a.isPlainObject(i)){if(e(o,i))return!0}else{if(!Array.isArray(o)||!Array.isArray(i))return!0;if(o.length!==i.length)return!0;for(var s=0;s<o.length;s++)if(o[s]!==i[s]){if(!a.isPlainObject(o[s])||!a.isPlainObject(i[s]))return!0;if(e(o[s],i[s]))return!0}}}}(m,e._context)}e.data=t||[],w.cleanData(e.data),e.layout=r||{},w.cleanLayout(e.layout),d.supplyDefaults(e,{skipUpdateCalc:!0});var g=e._fullData,v=e._fullLayout,y=void 0===v.datarevision,b=function(e,t,n,r){if(t.length!==n.length)return{fullReplot:!0,calc:!0};var o,i,a=E.traceFlags();a.arrays={};var s={getValObject:function(e){return c.getTraceValObject(i,e)},flags:a,immutable:r,gd:e},l={};for(o=0;o<t.length;o++)i=n[o]._fullInput,d.hasMakesDataTransform(i)&&(i=n[o]),l[i.uid]||(l[i.uid]=1,W(t[o]._fullInput,i,[],s));return(a.calc||a.plot)&&(a.fullReplot=!0),a}(e,l,g,y),_=function(e,t,n,r){var o=E.layoutFlags();return o.arrays={},W(t,n,[],{getValObject:function(e){return c.getLayoutValObject(n,e)},flags:o,immutable:r,gd:e}),(o.plot||o.calc)&&(o.layoutReplot=!0),o}(e,f,v,y);H(e)&&(_.layoutReplot=!0),b.calc||_.calc?e.calcdata=void 0:d.supplyDefaultsUpdateCalc(e.calcdata,g);var x=[];if(i&&(e._transitionData={},d.createTransitionData(e),x.push(function(){return n.addFrames(e,i)})),b.fullReplot||_.layoutReplot||p)e._fullLayout._skipDefaults=!0,x.push(n.plot);else{for(var T in _.arrays){var A=_.arrays[T];if(A.length){var M=u.getComponentMethod(T,"drawOne");if(M!==a.noop)for(var C=0;C<A.length;C++)M(e,A[C]);else{var O=u.getComponentMethod(T,"draw");if(O===a.noop)throw new Error("cannot draw components: "+T);O(e)}}}x.push(d.previousPromises),b.style&&x.push(k.doTraceStyle),b.colorbars&&x.push(k.doColorBars),_.legend&&x.push(k.doLegend),_.layoutstyle&&x.push(k.layoutStyles),_.axrange&&F(x),_.ticks&&x.push(k.doTicksRelayout),_.modebar&&x.push(k.doModeBar),_.camera&&x.push(k.doCamera),x.push(S)}x.push(d.rehover),(s=a.syncOrAsync(x,e))&&s.then||(s=Promise.resolve(e))}else s=n.newPlot(e,t,r,o);return s.then(function(){return e.emit("plotly_react",{data:t,layout:r}),e})},n.animate=function(e,t,n){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var o=(n=d.supplyAnimationDefaults(n)).transition,i=n.frame;function s(e){return Array.isArray(o)?e>=o.length?o[0]:o[e]:o}function l(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function u(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise(function(i,c){function f(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,d.transition(e,t.frame.data,t.frame.layout,w.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function h(){e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;var t=function(){r._animationRaf=window.requestAnimationFrame(t),Date.now()-r._lastFrameAt>r._timeToNext&&f()};t()}var p,m,g=0;function v(e){return Array.isArray(o)?g>=o.length?e.transitionOpts=o[g]:e.transitionOpts=o[0]:e.transitionOpts=o,g++,e}var y=[],b=null==t,_=Array.isArray(t),x=!b&&!_&&a.isPlainObject(t);if(x)y.push({type:"object",data:v(a.extendFlat({},t))});else if(b||-1!==["string","number"].indexOf(typeof t))for(p=0;p<r._frames.length;p++)(m=r._frames[p])&&(b||String(m.group)===String(t))&&y.push({type:"byname",name:String(m.name),data:v({name:m.name})});else if(_)for(p=0;p<t.length;p++){var k=t[p];-1!==["number","string"].indexOf(typeof k)?(k=String(k),y.push({type:"byname",name:k,data:v({name:k})})):a.isPlainObject(k)&&y.push({type:"object",data:v(a.extendFlat({},k))})}for(p=0;p<y.length;p++)if("byname"===(m=y[p]).type&&!r._frameHash[m.data.name])return a.warn('animate failure: frame not found: "'+m.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&y.reverse();var E=e._fullLayout._currentFrame;if(E&&n.fromcurrent){var T=-1;for(p=0;p<y.length;p++)if("byname"===(m=y[p]).type&&m.name===E){T=p;break}if(T>0&&T<y.length-1){var A=[];for(p=0;p<y.length;p++)m=y[p],("byname"!==y[p].type||p>T)&&A.push(m);y=A}}y.length>0?function(t){if(0!==t.length){for(var o=0;o<t.length;o++){var a;a="byname"===t[o].type?d.computeFrame(e,t[o].name):t[o].data;var f=l(o),p=s(o);p.duration=Math.min(p.duration,f.duration);var m={frame:a,name:t[o].name,frameOpts:f,transitionOpts:p};o===t.length-1&&(m.onComplete=u(i,2),m.onInterrupt=c),r._frameQueue.push(m)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||h()}}(y):(e.emit("plotly_animated"),i())})},n.addFrames=function(e,t,n){if(e=a.getGraphDiv(e),null==t)return Promise.resolve();if(!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var r,o,i,s,u=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var f=u.length+2*t.length,h=[],p={};for(r=t.length-1;r>=0;r--)if(a.isPlainObject(t[r])){var m=t[r].name,g=(c[m]||p[m]||{}).name,v=t[r].name,y=c[g]||p[g];g&&v&&"number"==typeof v&&y&&A<5&&(A++,a.warn('addFrames: overwriting frame "'+(c[g]||p[g]).name+'" with a frame whose name of type "number" also equates to "'+g+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===A&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[m]={name:m},h.push({frame:d.supplyFrameDefaults(t[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:f+r})}h.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var b=[],_=[],x=u.length;for(r=h.length-1;r>=0;r--){if("number"==typeof(o=h[r].frame).name&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!o.name)for(;c[o.name="frame "+e._transitionData._counter++];);if(c[o.name]){for(i=0;i<u.length&&(u[i]||{}).name!==o.name;i++);b.push({type:"replace",index:i,value:o}),_.unshift({type:"replace",index:i,value:u[i]})}else s=Math.max(0,Math.min(h[r].index,x)),b.push({type:"insert",index:s,value:o}),_.unshift({type:"delete",index:s}),x++}var w=d.modifyFrames,k=d.modifyFrames,E=[e,_],T=[e,b];return l&&l.add(e,w,E,k,T),d.modifyFrames(e,b)},n.deleteFrames=function(e,t){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,o=e._transitionData._frames,i=[],s=[];if(!t)for(t=[],n=0;n<o.length;n++)t.push(n);for((t=t.slice(0)).sort(),n=t.length-1;n>=0;n--)r=t[n],i.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:o[r]});var u=d.modifyFrames,c=d.modifyFrames,f=[e,s],h=[e,i];return l&&l.add(e,u,f,c,h),d.modifyFrames(e,i)},n.purge=function(e){var t=(e=a.getGraphDiv(e))._fullLayout||{},n=e._fullData||[];return d.cleanPlot([],{},n,t),d.purge(e),s.purge(e),t._container&&t._container.remove(),delete e._context,e}},{"../components/color":319,"../components/colorbar/connect":321,"../components/drawing":344,"../constants/xmlns_namespaces":421,"../lib":441,"../lib/events":431,"../lib/queue":456,"../lib/svg_text_utils":465,"../plots/cartesian/axes":488,"../plots/cartesian/constants":494,"../plots/cartesian/graph_interact":498,"../plots/plots":525,"../plots/polar/legacy":528,"../registry":532,"./edit_types":471,"./helpers":472,"./manage_arrays":474,"./plot_config":476,"./plot_schema":477,"./subroutines":479,d3:85,"fast-isnumeric":149,"has-hover":200}],476:[function(e,t,n){"use strict";t.exports={staticPlot:!1,plotlyServerURL:"https://plot.ly",editable:!1,edits:{annotationPosition:!1,annotationTail:!1,annotationText:!1,axisTitleText:!1,colorbarPosition:!1,colorbarTitleText:!1,legendPosition:!1,legendText:!1,shapePosition:!1,titleText:!1},autosizable:!1,responsive:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,toImageButtonOptions:{},displaylogo:!0,plotGlPixelRatio:2,setBackground:"transparent",topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:1,globalTransforms:[],locale:"en-US",locales:{}}},{}],477:[function(e,t,n){"use strict";var r=e("../registry"),o=e("../lib"),i=e("../plots/attributes"),a=e("../plots/layout_attributes"),s=e("../plots/frame_attributes"),l=e("../plots/animation_attributes"),u=e("../plots/polar/legacy/area_attributes"),c=e("../plots/polar/legacy/axis_attributes"),d=e("./edit_types"),f=o.extendFlat,h=o.extendDeepAll,p=o.isPlainObject,m="_isSubplotObj",g="_isLinkedToArray",v=[m,g,"_arrayAttrRegexps","_deprecated"];function y(e,t,n){if(!e)return!1;if(e._isLinkedToArray)if(b(t[n]))n++;else if(n<t.length)return!1;for(;n<t.length;n++){var r=e[t[n]];if(!p(r))break;if(e=r,n===t.length-1)break;if(e._isLinkedToArray){if(!b(t[++n]))return!1}else if("info_array"===e.valType){var o=t[++n];if(!b(o))return!1;var i=e.items;if(Array.isArray(i)){if(o>=i.length)return!1;if(2===e.dimensions){if(n++,t.length===n)return e;var a=t[n];if(!b(a))return!1;e=i[o][a]}else e=i[o]}else e=i}}return e}function b(e){return e===Math.round(e)&&e>=0}function _(){var e,t,n={};for(e in h(n,a),r.subplotsRegistry)if((t=r.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(t.attr))for(var o=0;o<t.attr.length;o++)w(n,t,t.attr[o]);else{var i="subplot"===t.attr?t.name:t.attr;w(n,t,i)}for(e in n=function(e){return f(e,{radialaxis:c.radialaxis,angularaxis:c.angularaxis}),f(e,c.layout),e}(n),r.componentsRegistry){var s=(t=r.componentsRegistry[e]).schema;if(s&&(s.subplots||s.layout)){var l=s.subplots;if(l&&l.xaxis&&!l.yaxis)for(var u in l.xaxis)delete n.yaxis[u]}else t.layoutAttributes&&k(n,t.layoutAttributes,t.name)}return{layoutAttributes:x(n)}}function x(e){return function(e){n.crawl(e,function(e,t,r){n.isValObject(e)?"data_array"===e.valType?(e.role="data",r[t+"src"]={valType:"string",editType:"none"}):!0===e.arrayOk&&(r[t+"src"]={valType:"string",editType:"none"}):p(e)&&(e.role="object")})}(e),function(e){n.crawl(e,function(e,t,n){if(e){var r=e[g];r&&(delete e[g],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}})}(e),function(e){!function e(t){for(var n in t)if(p(t[n]))e(t[n]);else if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)e(t[n][r]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}(e)}(e),e}function w(e,t,n){var r=o.nestedProperty(e,n),i=h({},t.layoutAttributes);i[m]=!0,r.set(i)}function k(e,t,n){var r=o.nestedProperty(e,n);r.set(h(r.get()||{},t))}n.IS_SUBPLOT_OBJ=m,n.IS_LINKED_TO_ARRAY=g,n.DEPRECATED="_deprecated",n.UNDERSCORE_ATTRS=v,n.get=function(){var e={};r.allTypes.concat("area").forEach(function(t){e[t]=function(e){var t,a;"area"===e?(t={attributes:u},a={}):(t=r.modules[e]._module,a=t.basePlotModule);var s={type:null},l=h({},i),c=h({},t.attributes);n.crawl(c,function(e,t,n,r,i){o.nestedProperty(l,i).set(void 0),void 0===e&&o.nestedProperty(c,i).set(void 0)}),h(s,l),h(s,c),a.attributes&&h(s,a.attributes),s.type=e;var d={meta:t.meta||{},attributes:x(s)};if(t.layoutAttributes){var f={};h(f,t.layoutAttributes),d.layoutAttributes=x(f)}return d}(t)});var t,a={};return Object.keys(r.transformsRegistry).forEach(function(e){a[e]=function(e){var t=r.transformsRegistry[e],n=h({},t.attributes);return Object.keys(r.componentsRegistry).forEach(function(t){var o=r.componentsRegistry[t];o.schema&&o.schema.transforms&&o.schema.transforms[e]&&Object.keys(o.schema.transforms[e]).forEach(function(t){k(n,o.schema.transforms[e][t],t)})}),{attributes:x(n)}}(e)}),{defs:{valObjects:o.valObjectMeta,metaKeys:v.concat(["description","role","editType","impliedEdits"]),editType:{traces:d.traces,layout:d.layout},impliedEdits:{}},traces:e,layout:_(),transforms:a,frames:(t={frames:o.extendDeepAll({},s)},x(t),t.frames),animation:x(l)}},n.crawl=function(e,t,r,o){var i=r||0;o=o||"",Object.keys(e).forEach(function(r){var a=e[r];if(-1===v.indexOf(r)){var s=(o?o+".":"")+r;t(a,r,e,i,s),n.isValObject(a)||p(a)&&"impliedEdits"!==r&&n.crawl(a,t,i+1,s)}})},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var t,r,a=[],s=[],l=[];function u(e,n,i,u){s=s.slice(0,u).concat([n]),l=l.slice(0,u).concat([e&&e._isLinkedToArray]);var c=e&&("data_array"===e.valType||!0===e.arrayOk)&&!("colorbar"===s[u-1]&&("ticktext"===n||"tickvals"===n));c&&function e(t,n,i){var u=t[s[n]],c=i+s[n];if(n===s.length-1)o.isArrayOrTypedArray(u)&&a.push(r+c);else if(l[n]){if(Array.isArray(u))for(var d=0;d<u.length;d++)o.isPlainObject(u[d])&&e(u[d],n+1,c+"["+d+"].")}else o.isPlainObject(u)&&e(u,n+1,c+".")}(t,0,"")}t=e,r="",n.crawl(i,u),e._module&&e._module.attributes&&n.crawl(e._module.attributes,u);var c=e.transforms;if(c)for(var d=0;d<c.length;d++){var f=c[d],h=f._module;h&&(r="transforms["+d+"].",t=f,n.crawl(h.attributes,u))}return a},n.getTraceValObject=function(e,t){var n,o,a=t[0],s=1;if("transforms"===a){if(1===t.length)return i.transforms;var l=e.transforms;if(!Array.isArray(l)||!l.length)return!1;var c=t[1];if(!b(c)||c>=l.length)return!1;n=(r.transformsRegistry[l[c].type]||{}).attributes,o=n&&n[t[2]],s=3}else if("area"===e.type)o=u[a];else{var d=e._module;if(d||(d=(r.modules[e.type||i.type.dflt]||{})._module),!d)return!1;if(n=d.attributes,!(o=n&&n[a])){var f=d.basePlotModule;f&&f.attributes&&(o=f.attributes[a])}o||(o=i[a])}return y(o,t,s)},n.getLayoutValObject=function(e,t){var n=function(e,t){var n,o,i,s,l=e._basePlotModules;if(l){var u;for(n=0;n<l.length;n++){if((i=l[n]).attrRegex&&i.attrRegex.test(t)){if(i.layoutAttrOverrides)return i.layoutAttrOverrides;!u&&i.layoutAttributes&&(u=i.layoutAttributes)}var d=i.baseLayoutAttrOverrides;if(d&&t in d)return d[t]}if(u)return u}var f=e._modules;if(f)for(n=0;n<f.length;n++)if((s=f[n].layoutAttributes)&&t in s)return s[t];for(o in r.componentsRegistry)if(!(i=r.componentsRegistry[o]).schema&&t===i.name)return i.layoutAttributes;return t in a?a[t]:"radialaxis"===t||"angularaxis"===t?c[t]:c.layout[t]||!1}(e,t[0]);return y(n,t,1)}},{"../lib":441,"../plots/animation_attributes":483,"../plots/attributes":485,"../plots/frame_attributes":516,"../plots/layout_attributes":523,"../plots/polar/legacy/area_attributes":526,"../plots/polar/legacy/axis_attributes":527,"../registry":532,"./edit_types":471}],478:[function(e,t,n){"use strict";var r=e("../lib"),o=e("../plots/attributes"),i="templateitemname",a={name:{valType:"string",editType:"none"}};function s(e){return e&&"string"==typeof e}function l(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}a[i]={valType:"string",editType:"calc"},n.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=a.name,t[i]=a[i],t},n.traceTemplater=function(e){var t,n,i={};for(t in e)n=e[t],Array.isArray(n)&&n.length&&(i[t]=0);return{newTrace:function(a){var s={type:t=r.coerce(a,{},o,"type"),_template:null};if(t in i){n=e[t];var l=i[t]%n.length;i[t]++,s._template=n[l]}return s}}},n.newContainer=function(e,t,n){var o=e._template,i=o&&(o[t]||n&&o[n]);r.isPlainObject(i)||(i=null);var a=e[t]={_template:i};return a},n.arrayTemplater=function(e,t,n){var r=e._template,o=r&&r[l(t)],a=r&&r[t];Array.isArray(a)&&a.length||(a=[]);var u={};return{newItem:function(e){var t={name:e.name,_input:e},r=t[i]=e[i];if(!s(r))return t._template=o,t;for(var l=0;l<a.length;l++){var c=a[l];if(c.name===r)return u[r]=1,t._template=c,t}return t[n]=e[n]||!1,t._template=!1,t},defaultItems:function(){for(var e=[],t=0;t<a.length;t++){var n=a[t],r=n.name;if(s(r)&&!u[r]){var o={_template:n,name:r,_input:{_templateitemname:r}};o[i]=n[i],e.push(o),u[r]=1}}return e}}},n.arrayDefaultKey=l,n.arrayEditor=function(e,t,n){var o=(r.nestedProperty(e,t).get()||[]).length,a=n._index,s=a>=o&&(n._input||{})._templateitemname;s&&(a=o);var l,u=t+"["+a+"]";function c(){l={},s&&(l[u]={},l[u][i]=s)}function d(e,t){s?r.nestedProperty(l[u],e).set(t):l[u+"."+e]=t}function f(){var e=l;return c(),e}return c(),{modifyBase:function(e,t){l[e]=t},modifyItem:d,getUpdateObj:f,applyUpdate:function(t,n){t&&d(t,n);var o=f();for(var i in o)r.nestedProperty(e,i).set(o[i])}}}},{"../lib":441,"../plots/attributes":485}],479:[function(e,t,n){"use strict";var r=e("d3"),o=e("../registry"),i=e("../plots/plots"),a=e("../lib"),s=e("../lib/clear_gl_canvases"),l=e("../components/color"),u=e("../components/drawing"),c=e("../components/titles"),d=e("../components/modebar"),f=e("../plots/cartesian/axes"),h=e("../constants/alignment"),p=e("../plots/cartesian/constraints"),m=p.enforce,g=p.clean,v=e("../plots/cartesian/autorange").doAutoRange;function y(e,t,n){for(var r=0;r<n.length;r++){var o=n[r][0],i=n[r][1];if(!(o[0]>=e[1]||o[1]<=e[0])&&i[0]<t[1]&&i[1]>t[0])return!0}return!1}function b(e){var t,o,i,s,c,p=e._fullLayout,m=p._size,g=m.p,v=f.list(e,"",!0);if(p._paperdiv.style({width:e._context.responsive&&p.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":p.width+"px",height:e._context.responsive&&p.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":p.height+"px"}).selectAll(".main-svg").call(u.setSize,p.width,p.height),e._context.setBackground(e,p.paper_bgcolor),n.drawMainTitle(e),d.manage(e),!p._has("cartesian"))return e._promises.length&&Promise.all(e._promises);function b(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-g-r:t._offset+t._length+g+r:m.t+m.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+g+r:t._offset-g-r:m.l+m.w*(e.position||0)+r%1}for(t=0;t<v.length;t++){var w=v[t];w.setScale();var E=w._anchorAxis;w._linepositions={},w._lw=u.crispRound(e,w.linewidth,1),w._mainLinePosition=b(w,E,w.side),w._mainMirrorPosition=w.mirror&&E?b(w,E,h.OPPOSITE_SIDE[w.side]):null,w._mainSubplot=_(w,p)}var T=[],A=[],S=[],M=1===l.opacity(p.paper_bgcolor)&&1===l.opacity(p.plot_bgcolor)&&p.paper_bgcolor===p.plot_bgcolor;for(o in p._plots)if((i=p._plots[o]).mainplot)i.bg&&i.bg.remove(),i.bg=void 0;else{var C=i.xaxis.domain,j=i.yaxis.domain,O=i.plotgroup;if(y(C,j,S)){var N=O.node(),R=i.bg=a.ensureSingle(O,"rect","bg");N.insertBefore(R.node(),N.childNodes[0]),A.push(o)}else O.select("rect.bg").remove(),S.push([C,j]),M||(T.push(o),A.push(o))}var P,I,D,L,B,F,z,U,q,V,H,W,G,X=p._bgLayer.selectAll(".bg").data(T);for(X.enter().append("rect").classed("bg",!0),X.exit().remove(),X.each(function(e){p._plots[e].bg=r.select(this)}),t=0;t<A.length;t++)i=p._plots[A[t]],s=i.xaxis,c=i.yaxis,i.bg&&i.bg.call(u.setRect,s._offset-g,c._offset-g,s._length+2*g,c._length+2*g).call(l.fill,p.plot_bgcolor).style("stroke-width",0);if(!p._hasOnlyLargeSploms)for(o in p._plots){i=p._plots[o],s=i.xaxis,c=i.yaxis;var K,Y,$=i.clipId="clip"+p._uid+o+"plot",Z=a.ensureSingleById(p._clips,"clipPath",$,function(e){e.classed("plotclip",!0).append("rect")});i.clipRect=Z.select("rect").attr({width:s._length,height:c._length}),u.setTranslate(i.plot,s._offset,c._offset),i._hasClipOnAxisFalse?(K=null,Y=$):(K=$,Y=null),u.setClipUrl(i.plot,K),i.layerClipId=Y}function Q(e){return"M"+P+","+e+"H"+I}function J(e){return"M"+s._offset+","+e+"h"+s._length}function ee(e){return"M"+e+","+U+"V"+z}function te(e){return"M"+e+","+c._offset+"v"+c._length}function ne(e,t,n){if(!e.showline||o!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(o in p._plots){i=p._plots[o],s=i.xaxis,c=i.yaxis;var re="M0,0";x(s,o)&&(B=k(s,"left",c,v),P=s._offset-(B?g+B:0),F=k(s,"right",c,v),I=s._offset+s._length+(F?g+F:0),D=b(s,c,"bottom"),L=b(s,c,"top"),!(G=!s._anchorAxis||o!==s._mainSubplot)||"allticks"!==s.mirror&&"all"!==s.mirror||(s._linepositions[o]=[D,L]),re=ne(s,Q,J),G&&s.showline&&("all"===s.mirror||"allticks"===s.mirror)&&(re+=Q(D)+Q(L)),i.xlines.style("stroke-width",s._lw+"px").call(l.stroke,s.showline?s.linecolor:"rgba(0,0,0,0)")),i.xlines.attr("d",re);var oe="M0,0";x(c,o)&&(H=k(c,"bottom",s,v),z=c._offset+c._length+(H?g:0),W=k(c,"top",s,v),U=c._offset-(W?g:0),q=b(c,s,"left"),V=b(c,s,"right"),!(G=!c._anchorAxis||o!==c._mainSubplot)||"allticks"!==c.mirror&&"all"!==c.mirror||(c._linepositions[o]=[q,V]),oe=ne(c,ee,te),G&&c.showline&&("all"===c.mirror||"allticks"===c.mirror)&&(oe+=ee(q)+ee(V)),i.ylines.style("stroke-width",c._lw+"px").call(l.stroke,c.showline?c.linecolor:"rgba(0,0,0,0)")),i.ylines.attr("d",oe)}return f.makeClipPaths(e),e._promises.length&&Promise.all(e._promises)}function _(e,t){var n=t._subplots,r=n.cartesian.concat(n.gl2d||[]),o={_fullLayout:t},i="x"===e._id.charAt(0),a=e._mainAxis._anchorAxis,s="",l="",u="";if(a&&(u=a._mainAxis._id,s=i?e._id+u:u+e._id),!s||!t._plots[s]){s="";for(var c=0;c<r.length;c++){var d=r[c],h=d.indexOf("y"),p=i?d.substr(0,h):d.substr(h),m=i?d.substr(h):d.substr(0,h);if(p===e._id){l||(l=d);var g=f.getFromId(o,m);if(u&&g.overlaying===u){s=d;break}}}}return s||l}function x(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function w(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var o=h.FROM_BL[t];return n.side===t?r.domain[o]===e.domain[o]:n.mirror&&r.domain[1-o]===e.domain[1-o]}function k(e,t,n,r){if(w(e,t,n))return n._lw;for(var o=0;o<r.length;o++){var i=r[o];if(i._mainAxis===n._mainAxis&&w(e,t,i))return i._lw}return 0}n.layoutStyles=function(e){return a.syncOrAsync([i.doAutoMargin,b],e)},n.drawMainTitle=function(e){var t=e._fullLayout;c.draw(e,"gtitle",{propContainer:t,propName:"title",placeholder:t._dfltTitle.plot,attributes:{x:t.width/2,y:t._size.t/2,"text-anchor":"middle"}})},n.doTraceStyle=function(e){var t,r=e.calcdata,a=[];for(t=0;t<r.length;t++){var l=r[t],u=l[0]||{},c=u.trace||{},d=c._module||{},f=d.arraysToCalcdata;f&&f(l,c);var h=d.editStyle;h&&a.push({fn:h,cd0:u})}if(a.length){for(t=0;t<a.length;t++){var p=a[t];p.fn(e,p.cd0)}s(e),n.redrawReglTraces(e)}return i.style(e),o.getComponentMethod("legend","draw")(e),i.previousPromises(e)},n.doColorBars=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t][0];if((n.t||{}).cb){var r=n.trace,a=n.t.cb;o.traceIs(r,"contour")&&a.line({width:!1!==r.contours.showlines?r.line.width:0,dash:r.line.dash,color:"line"===r.contours.coloring?a._opts.line.color:r.line.color});var s=r._module.colorbar,l=s.container,u=(l?r[l]:r).colorbar;a.options(u)()}}return i.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,o.call("plot",e,"",t)},n.doLegend=function(e){return o.getComponentMethod("legend","draw")(e),i.previousPromises(e)},n.doTicksRelayout=function(e){return f.doTicks(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(o.subplotsRegistry.splom.updateGrid(e),s(e),n.redrawReglTraces(e)),n.drawMainTitle(e),i.previousPromises(e)},n.doModeBar=function(e){var t=e._fullLayout;d.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return i.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var o=t[n[r]],i=o._scene;i.setCamera(o.camera)}},n.drawData=function(e){var t,r=e._fullLayout,a=e.calcdata;for(t=0;t<a.length;t++){var l=a[t][0].trace;!0===l.visible&&l._module.colorbar||r._infolayer.select(".cb"+l.uid).remove()}s(e);var u=r._basePlotModules;for(t=0;t<u.length;t++)u[t].plot(e);return n.redrawReglTraces(e),i.style(e),o.getComponentMethod("shapes","draw")(e),o.getComponentMethod("annotations","draw")(e),r._replotting=!1,i.previousPromises(e)},n.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,o=e._fullData,i=[],s=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<o.length;n++){var l=o[n];!0===l.visible&&("splom"===l.type?t._splomScenes[l.uid].draw():"scattergl"===l.type?a.pushUnique(i,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&a.pushUnique(s,l.subplot))}for(n=0;n<i.length;n++)(r=t._plots[i[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=t[s[n]]._subplot)._scene&&r._scene.draw()}},n.doAutoRangeAndConstraints=function(e){for(var t=f.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];g(e,r),v(e,r)}m(e)},n.finalDraw=function(e){o.getComponentMethod("shapes","draw")(e),o.getComponentMethod("images","draw")(e),o.getComponentMethod("annotations","draw")(e),o.getComponentMethod("rangeslider","draw")(e),o.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){o.getComponentMethod("legend","draw")(e),o.getComponentMethod("rangeselector","draw")(e),o.getComponentMethod("sliders","draw")(e),o.getComponentMethod("updatemenus","draw")(e)}},{"../components/color":319,"../components/drawing":344,"../components/modebar":382,"../components/titles":410,"../constants/alignment":417,"../lib":441,"../lib/clear_gl_canvases":427,"../plots/cartesian/autorange":487,"../plots/cartesian/axes":488,"../plots/cartesian/constraints":496,"../plots/plots":525,"../registry":532,d3:85}],480:[function(e,t,n){"use strict";var r=e("../lib"),o=r.isPlainObject,i=e("./plot_schema"),a=e("../plots/plots"),s=e("../plots/attributes"),l=e("./plot_template"),u=e("./plot_config");function c(e,t){e=r.extendDeep({},e);var n,i,a=Object.keys(e).sort();function s(t,n,r){if(o(n)&&o(t))c(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var a=l.arrayTemplater({_template:e},r);for(i=0;i<n.length;i++){var s=n[i],u=a.newItem(s)._template;u&&c(u,s)}var d=a.defaultItems();for(i=0;i<d.length;i++)n.push(d[i]._template);for(i=0;i<n.length;i++)delete n[i].templateitemname}}for(n=0;n<a.length;n++){var u=a[n],f=e[u];if(u in t?s(f,t[u],u):t[u]=f,d(u)===u)for(var h in t){var p=d(h);h===p||p!==u||h in e||s(f,t[h],u)}}}function d(e){return e.replace(/[0-9]+$/,"")}function f(e,t,n,i,a){var s=a&&n(a);for(var u in e){var c=e[u],p=h(e,u,i),m=h(e,u,a),g=n(m);if(!g){var v=d(u);v!==u&&(m=h(e,v,a),g=n(m))}if(!(s&&s===g||!g||g._noTemplating||"data_array"===g.valType||g.arrayOk&&Array.isArray(c)))if(!g.valType&&o(c))f(c,t,n,p,m);else if(g._isLinkedToArray&&Array.isArray(c))for(var y=!1,b=0,_={},x=0;x<c.length;x++){var w=c[x];if(o(w)){var k=w.name;if(k)_[k]||(f(w,t,n,h(c,b,p),h(c,b,m)),b++,_[k]=1);else if(!y){var E=l.arrayDefaultKey(u),T=h(e,E,i),A=h(c,b,p);f(w,t,n,A,h(c,b,m));var S=r.nestedProperty(t,A),M=r.nestedProperty(t,T);M.set(S.get()),S.set(null),y=!0}}}else{var C=r.nestedProperty(t,p);C.set(c)}}}function h(e,t,n){return n?Array.isArray(e)?n+"["+t+"]":n+"."+t:t}function p(e){for(var t=0;t<e.length;t++)if(o(e[t]))return!0}function m(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}n.makeTemplate=function(e){e=r.extendDeep({_context:u},{data:e.data,layout:e.layout}),a.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var l={data:{},layout:{}};t.forEach(function(e){var t={};f(e,t,function(e,t){return i.getTraceValObject(e,r.nestedProperty({},t).parts)}.bind(null,e));var n=r.coerce(e,{},s,"type"),o=l.data[n];o||(o=l.data[n]=[]),o.push(t)}),f(n,l.layout,function(e,t){return i.getLayoutValObject(e,r.nestedProperty({},t).parts)}.bind(null,n)),delete l.layout.template;var d=n.template;if(o(d)){var h,p,m,g,v,y,b=d.layout;o(b)&&c(b,l.layout);var _=d.data;if(o(_)){for(p in l.data)if(m=_[p],Array.isArray(m)){for(v=l.data[p],y=v.length,g=m.length,h=0;h<y;h++)c(m[h%g],v[h]);for(h=y;h<g;h++)v.push(r.extendDeep({},m[h]))}for(p in _)p in l.data||(l.data[p]=r.extendDeep([],_[p]))}}return l},n.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:u,data:e.data,layout:e.layout}),i=n.layout||{};o(t)||(t=i.template||{});var s=t.layout,l=t.data,c=[];n.layout=i,n.layout.template=t,a.supplyDefaults(n);var f=n._fullLayout,g=n._fullData,v={};if(o(s)?(function e(t,n){for(var r in t)if("_"!==r.charAt(0)&&o(t[r])){var i,a=d(r),s=[];for(i=0;i<n.length;i++)s.push(h(t,r,n[i])),a!==r&&s.push(h(t,a,n[i]));for(i=0;i<s.length;i++)v[s[i]]=1;e(t[r],s)}}(f,["layout"]),function e(t,n){for(var r in t)if(-1===r.indexOf("defaults")&&o(t[r])){var i=h(t,r,n);v[i]?e(t[r],i):c.push({code:"unused",path:i})}}(s,"layout")):c.push({code:"layout"}),o(l)){for(var y,b={},_=0;_<g.length;_++){var x=g[_];y=x.type,b[y]=(b[y]||0)+1,x._fullInput._template||c.push({code:"missing",index:x._fullInput.index,traceType:y})}for(y in l){var w=l[y].length,k=b[y]||0;w>k?c.push({code:"unused",traceType:y,templateCount:w,dataCount:k}):k>w&&c.push({code:"reused",traceType:y,templateCount:w,dataCount:k})}}else c.push({code:"data"});if(function e(t,n){for(var r in t)if("_"!==r.charAt(0)){var i=t[r],a=h(t,r,n);o(i)?(Array.isArray(t)&&!1===i._template&&i.templateitemname&&c.push({code:"missing",path:a,templateitemname:i.templateitemname}),e(i,a)):Array.isArray(i)&&p(i)&&e(i,a)}}({data:g,layout:f},""),c.length)return c.map(m)}},{"../lib":441,"../plots/attributes":485,"../plots/plots":525,"./plot_config":476,"./plot_schema":477,"./plot_template":478}],481:[function(e,t,n){"use strict";var r=e("./plot_api"),o=e("../lib"),i=e("../snapshot/helpers"),a=e("../snapshot/tosvg"),s=e("../snapshot/svgtoimg"),l={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}},u=/^data:image\/\w+;base64,/;t.exports=function(e,t){var n,c,d;function f(e){return!(e in t)||o.validate(t[e],l[e])}if(t=t||{},o.isPlainObject(e)?(n=e.data||[],c=e.layout||{},d=e.config||{}):(e=o.getGraphDiv(e),n=o.extendDeep([],e.data),c=o.extendDeep({},e.layout),d=e._context),!f("width")||!f("height"))throw new Error("Height and width should be pixel values.");if(!f("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var h={};function p(e,n){return o.coerce(t,h,l,e,n)}var m=p("format"),g=p("width"),v=p("height"),y=p("scale"),b=p("setBackground"),_=p("imageDataOnly"),x=document.createElement("div");x.style.position="absolute",x.style.left="-5000px",document.body.appendChild(x);var w=o.extendFlat({},c);g&&(w.width=g),v&&(w.height=v);var k=o.extendFlat({},d,{staticPlot:!0,setBackground:b}),E=i.getRedrawFunc(x);function T(){return new Promise(function(e){setTimeout(e,i.getDelay(x._fullLayout))})}function A(){return new Promise(function(e,t){var n=a(x,m,y),i=x._fullLayout.width,l=x._fullLayout.height;if(r.purge(x),document.body.removeChild(x),"svg"===m)return e(_?n:"data:image/svg+xml,"+encodeURIComponent(n));var u=document.createElement("canvas");u.id=o.randstr(),s({format:m,width:i,height:l,scale:y,canvas:u,svg:n,promise:!0}).then(e).catch(t)})}return new Promise(function(e,t){r.plot(x,n,w,k).then(E).then(T).then(A).then(function(t){e(function(e){return _?e.replace(u,""):e}(t))}).catch(function(e){t(e)})})}},{"../lib":441,"../snapshot/helpers":536,"../snapshot/svgtoimg":538,"../snapshot/tosvg":540,"./plot_api":475}],482:[function(e,t,n){"use strict";var r=e("../lib"),o=e("../plots/plots"),i=e("./plot_schema"),a=e("./plot_config"),s=r.isPlainObject,l=Array.isArray,u=r.isArrayOrTypedArray;function c(e,t,n,o,i,a){a=a||[];for(var d=Object.keys(e),f=0;f<d.length;f++){var g=d[f];if("transforms"!==g){var v=a.slice();v.push(g);var y=e[g],b=t[g],_=m(n,g),x="info_array"===(_||{}).valType,w="colorscale"===(_||{}).valType,k=(_||{}).items;if(p(n,g))if(s(y)&&s(b))c(y,b,_,o,i,v);else if(x&&l(y)){y.length>b.length&&o.push(h("unused",i,v.concat(b.length)));var E,T,A,S,M,C=b.length,j=Array.isArray(k);if(j&&(C=Math.min(C,k.length)),2===_.dimensions)for(T=0;T<C;T++)if(l(y[T])){y[T].length>b[T].length&&o.push(h("unused",i,v.concat(T,b[T].length)));var O=b[T].length;for(E=0;E<(j?Math.min(O,k[T].length):O);E++)A=j?k[T][E]:k,S=y[T][E],M=b[T][E],r.validate(S,A)?M!==S&&M!==+S&&o.push(h("dynamic",i,v.concat(T,E),S,M)):o.push(h("value",i,v.concat(T,E),S))}else o.push(h("array",i,v.concat(T),y[T]));else for(T=0;T<C;T++)A=j?k[T]:k,S=y[T],M=b[T],r.validate(S,A)?M!==S&&M!==+S&&o.push(h("dynamic",i,v.concat(T),S,M)):o.push(h("value",i,v.concat(T),S))}else if(_.items&&!x&&l(y)){var N,R,P=k[Object.keys(k)[0]],I=[];for(N=0;N<b.length;N++){var D=b[N]._index||N;if((R=v.slice()).push(D),s(y[D])&&s(b[N])){I.push(D);var L=y[D],B=b[N];s(L)&&!1!==L.visible&&!1===B.visible?o.push(h("invisible",i,R)):c(L,B,P,o,i,R)}}for(N=0;N<y.length;N++)(R=v.slice()).push(N),s(y[N])?-1===I.indexOf(N)&&o.push(h("unused",i,R)):o.push(h("object",i,R,y[N]))}else!s(y)&&s(b)?o.push(h("object",i,v,y)):u(y)||!u(b)||x||w?g in t?r.validate(y,_)?"enumerated"===_.valType&&(_.coerceNumber&&y!==+b||y!==b)&&o.push(h("dynamic",i,v,y,b)):o.push(h("value",i,v,y)):o.push(h("unused",i,v,y)):o.push(h("array",i,v,y));else o.push(h("schema",i,v))}}return o}t.exports=function(e,t){var n,u,d=i.get(),f=[],p={_context:r.extendFlat({},a)};l(e)?(p.data=r.extendDeep([],e),n=e):(p.data=[],n=[],f.push(h("array","data"))),s(t)?(p.layout=r.extendDeep({},t),u=t):(p.layout={},u={},arguments.length>1&&f.push(h("object","layout"))),o.supplyDefaults(p);for(var m=p._fullData,g=n.length,v=0;v<g;v++){var y=n[v],b=["data",v];if(s(y)){var _=m[v],x=_.type,w=d.traces[x].attributes;w.type={valType:"enumerated",values:[x]},!1===_.visible&&!1!==y.visible&&f.push(h("invisible",b)),c(y,_,w,f,b);var k=y.transforms,E=_.transforms;if(k){l(k)||f.push(h("array",b,["transforms"])),b.push("transforms");for(var T=0;T<k.length;T++){var A=["transforms",T],S=k[T].type;if(s(k[T])){var M=d.transforms[S]?d.transforms[S].attributes:{};M.type={valType:"enumerated",values:Object.keys(d.transforms)},c(k[T],E[T],M,f,b,A)}else f.push(h("object",b,A))}}}else f.push(h("object",b))}var C=p._fullLayout,j=function(e,t){for(var n=e.layout.layoutAttributes,o=0;o<t.length;o++){var i=t[o],a=e.traces[i.type],s=a.layoutAttributes;s&&(i.subplot?r.extendFlat(n[a.attributes.subplot.dflt],s):r.extendFlat(n,s))}return n}(d,m);return c(u,C,j,f,"layout"),0===f.length?void 0:f};var d={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":f(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":f(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return f(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=s(n)?"container":"key";return f(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[f(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?f(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,n){return[f(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}};function f(e){return l(e)?"In data trace "+e[1]+", ":"In "+e+", "}function h(e,t,n,o,i){var a,s;n=n||"",l(t)?(a=t[0],s=t[1]):(a=t,s=null);var u=function(e){if(!l(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"==typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}(n),c=d[e](t,u,o,i);return r.log(c),{code:e,container:a,trace:s,path:n,astr:u,msg:c}}function p(e,t){var n=v(t),r=n.keyMinusId,o=n.id;return!!(r in e&&e[r]._isSubplotObj&&o)||t in e}function m(e,t){if(t in e)return e[t];var n=v(t);return e[n.keyMinusId]}var g=r.counterRegex("([a-z]+)");function v(e){var t=e.match(g);return{keyMinusId:t&&t[1],id:t&&t[2]}}},{"../lib":441,"../plots/plots":525,"./plot_config":476,"./plot_schema":477}],483:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"]}}}},{}],484:[function(e,t,n){"use strict";var r=e("../lib"),o=e("../plot_api/plot_template");t.exports=function(e,t,n){var i,a,s=n.name,l=n.inclusionAttr||"visible",u=t[s],c=r.isArrayOrTypedArray(e[s])?e[s]:[],d=t[s]=[],f=o.arrayTemplater(t,s,l);for(i=0;i<c.length;i++){var h=c[i];r.isPlainObject(h)?a=f.newItem(h):(a=f.newItem({}))[l]=!1,a._index=i,!1!==a[l]&&n.handleItemDefaults(h,a,t,n),d.push(a)}var p=f.defaultItems();for(i=0;i<p.length;i++)(a=p[i])._index=d.length,n.handleItemDefaults({},a,t,n,{}),d.push(a);if(r.isArrayOrTypedArray(u)){var m=Math.min(u.length,d.length);for(i=0;i<m;i++)r.relinkPrivateKeys(d[i],u[i])}return d}},{"../lib":441,"../plot_api/plot_template":478}],485:[function(e,t,n){"use strict";var r=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot"},ids:{valType:"data_array",editType:"calc"},customdata:{valType:"data_array",editType:"calc"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"}}},{"../components/fx/attributes":353}],486:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],487:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib"),i=e("../../constants/numerical").FP_SAFE;function a(e,t){var n,r,i=[],a=s(t),u=l(e,t),c=u.min,d=u.max;if(0===c.length||0===d.length)return o.simpleMap(t.range,t.r2l);var f=c[0].val,h=d[0].val;for(n=1;n<c.length&&f===h;n++)f=Math.min(f,c[n].val);for(n=1;n<d.length&&f===h;n++)h=Math.max(h,d[n].val);var p=!1;if(t.range){var m=o.simpleMap(t.range,t.r2l);p=m[1]<m[0]}"reversed"===t.autorange&&(p=!0,t.autorange=!0);var g,v,y,b,_,x,w=t.rangemode,k="tozero"===w,E="nonnegative"===w,T=t._length,A=T/10,S=0;for(n=0;n<c.length;n++)for(g=c[n],r=0;r<d.length;r++)v=d[r],(x=v.val-g.val)>0&&((_=T-a(g)-a(v))>A?x/_>S&&(y=g,b=v,S=x/_):x/T>S&&(y={val:g.val,pad:0},b={val:v.val,pad:0},S=x/T));if(f===h){var M=f-1,C=f+1;if(k)if(0===f)i=[0,1];else{var j=(f>0?d:c).reduce(function(e,t){return Math.max(e,a(t))},0),O=f/(1-Math.min(.5,j/T));i=f>0?[0,O]:[O,0]}else i=E?[Math.max(0,M),Math.max(1,C)]:[M,C]}else k?(y.val>=0&&(y={val:0,pad:0}),b.val<=0&&(b={val:0,pad:0})):E&&(y.val-S*a(y)<0&&(y={val:0,pad:0}),b.val<=0&&(b={val:1,pad:0})),S=(b.val-y.val)/(T-a(y)-a(b)),i=[y.val-S*a(y),b.val+S*a(b)];return p&&i.reverse(),o.simpleMap(i,t.l2r||Number)}function s(e){var t=e._length/20;return"domain"===e.constrain&&e._inputDomain&&(t*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(e){return e.pad+(e.extrapad?t:0)}}function l(e,t){var n,r,o,i=t._id,a=e._fullData,s=e._fullLayout,l=[],d=[];function f(e,t){for(n=0;n<t.length;n++){var a=e[t[n]],s=(a._extremes||{})[i];if(!0===a.visible&&s){for(r=0;r<s.min.length;r++)o=s.min[r],u(l,o.val,o.pad,{extrapad:o.extrapad});for(r=0;r<s.max.length;r++)o=s.max[r],c(d,o.val,o.pad,{extrapad:o.extrapad})}}}return f(a,t._traceIndices),f(s.annotations||[],t._annIndices||[]),f(s.shapes||[],t._shapeIndices||[]),{min:l,max:d}}function u(e,t,n,r){d(e,t,n,r,h)}function c(e,t,n,r){d(e,t,n,r,p)}function d(e,t,n,r,o){for(var i=r.tozero,a=r.extrapad,s=!0,l=0;l<e.length&&s;l++){var u=e[l];if(o(u.val,t)&&u.pad>=n&&(u.extrapad||!a)){s=!1;break}o(t,u.val)&&u.pad<=n&&(a||!u.extrapad)&&(e.splice(l,1),l--)}if(s){var c=i&&0===t;e.push({val:t,pad:c?0:n,extrapad:!c&&a})}}function f(e){return r(e)&&Math.abs(e)<i}function h(e,t){return e<=t}function p(e,t){return e>=t}t.exports={getAutoRange:a,makePadFn:s,doAutoRange:function(e,t){var n;if(t._length||t.setScale(),t.autorange&&(t.range=a(e,t),t._r=t.range.slice(),t._rl=o.simpleMap(t._r,t.r2l),(n=t._input).range=t.range.slice(),n.autorange=t.autorange),t._anchorAxis&&t._anchorAxis.rangeslider){var r=t._anchorAxis.rangeslider[t._name];r&&"auto"===r.rangemode&&(r.range=a(e,t)),(n=t._anchorAxis._input).rangeslider[t._name]=o.extendFlat({},r)}},findExtremes:function(e,t,n){n||(n={}),e._m||e.setScale();var o,a,s,l,d,h,p,m,g,v=[],y=[],b=t.length,_=n.padded||!1,x=n.tozero&&("linear"===e.type||"-"===e.type),w="log"===e.type,k=!1;function E(e){if(Array.isArray(e))return k=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var T=E((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),A=E((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),S=E(n.vpadplus||n.vpad),M=E(n.vpadminus||n.vpad);if(!k){if(m=1/0,g=-1/0,w)for(o=0;o<b;o++)(a=t[o])<m&&a>0&&(m=a),a>g&&a<i&&(g=a);else for(o=0;o<b;o++)(a=t[o])<m&&a>-i&&(m=a),a>g&&a<i&&(g=a);t=[m,g],b=2}var C={tozero:x,extrapad:_};function j(n){s=t[n],r(s)&&(h=T(n),p=A(n),m=s-M(n),g=s+S(n),w&&m<g/10&&(m=g/10),l=e.c2l(m),d=e.c2l(g),x&&(l=Math.min(0,l),d=Math.max(0,d)),f(l)&&u(v,l,p,C),f(d)&&c(y,d,h,C))}var O=Math.min(6,b);for(o=0;o<O;o++)j(o);for(o=b-1;o>=O;o--)j(o);return{min:v,max:y}},concatExtremes:l}},{"../../constants/numerical":420,"../../lib":441,"fast-isnumeric":149}],488:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../components/titles"),c=e("../../components/color"),d=e("../../components/drawing"),f=e("./layout_attributes"),h=e("./clean_ticks"),p=e("../../constants/numerical"),m=p.ONEAVGYEAR,g=p.ONEAVGMONTH,v=p.ONEDAY,y=p.ONEHOUR,b=p.ONEMIN,_=p.ONESEC,x=p.MINUS_SIGN,w=p.BADNUM,k=e("../../constants/alignment").MID_SHIFT,E=e("../../constants/alignment").LINE_SPACING,T=t.exports={};T.setConvert=e("./set_convert");var A=e("./axis_autotype"),S=e("./axis_ids");T.id2name=S.id2name,T.name2id=S.name2id,T.cleanId=S.cleanId,T.list=S.list,T.listIds=S.listIds,T.getFromId=S.getFromId,T.getFromTrace=S.getFromTrace;var M=e("./autorange");T.getAutoRange=M.getAutoRange,T.findExtremes=M.findExtremes,T.coerceRef=function(e,t,n,r,o,i){var a=r.charAt(r.length-1),l=n._fullLayout._subplots[a+"axis"],u=r+"ref",c={};return o||(o=l[0]||i),i||(i=o),c[u]={valType:"enumerated",values:l.concat(i?[i]:[]),dflt:o},s.coerce(e,t,c,u)},T.coercePosition=function(e,t,n,r,o,i){var a,l;if("paper"===r||"pixel"===r)a=s.ensureNumber,l=n(o,i);else{var u=T.getFromId(t,r);i=u.fraction2r(i),l=n(o,i),a=u.cleanPos}e[o]=a(l)},T.cleanPosition=function(e,t,n){var r="paper"===n||"pixel"===n?s.ensureNumber:T.getFromId(t,n).cleanPos;return r(e)};var C=T.getDataConversions=function(e,t,n,r){var o,i="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(i)){if(o={type:A(r),_categories:[]},T.setConvert(o),"category"===o.type)for(var a=0;a<r.length;a++)o.d2c(r[a])}else o=T.getFromTrace(e,t,i);return o?{d2c:o.d2c,c2d:o.c2d}:"ids"===i?{d2c:O,c2d:O}:{d2c:j,c2d:j}};function j(e){return+e}function O(e){return String(e)}T.getDataToCoordFunc=function(e,t,n,r){return C(e,t,n,r).d2c},T.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},T.minDtick=function(e,t,n,r){-1===["log","category"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},T.saveRangeInitial=function(e,t){for(var n=T.list(e,"",!0),r=!1,o=0;o<n.length;o++){var i=n[o],a=void 0===i._rangeInitial,s=a||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(a&&!1===i.autorange||t&&s)&&(i._rangeInitial=i.range.slice(),r=!0)}return r},T.saveShowSpikeInitial=function(e,t){for(var n=T.list(e,"",!0),r=!1,o="on",i=0;i<n.length;i++){var a=n[i],s=void 0===a._showSpikeInitial,l=s||!(a.showspikes===a._showspikes);(s||t&&l)&&(a._showSpikeInitial=a.showspikes,r=!0),"on"!==o||a.showspikes||(o="off")}return e._fullLayout._cartesianSpikesEnabled=o,r},T.autoBin=function(e,t,n,r,i,a){var l,u=s.aggNums(Math.min,null,e),c=s.aggNums(Math.max,null,e);if("category"===t.type)return{start:u-.5,end:c+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:c-u};if(i||(i=t.calendar),l="log"===t.type?{type:"linear",range:[u,c]}:{type:t.type,range:s.simpleMap([u,c],t.c2r,0,i),calendar:i},T.setConvert(l),a=a&&h.dtick(a,l.type))l.dtick=a,l.tick0=h.tick0(void 0,l.type,i);else{var d;if(n)d=(c-u)/n;else{var f=s.distinctVals(e),p=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),m=p*s.roundUp(f.minDiff/p,[.9,1.9,4.9,9.9],!0);d=Math.max(m,2*s.stdev(e)/Math.pow(e.length,r?.25:.4)),o(d)||(d=1)}T.autoTicks(l,d)}var g,y,b=l.dtick,_=T.tickIncrement(T.tickFirst(l),b,"reverse",i);if("number"==typeof b)_=function(e,t,n,r,i){var a=0,s=0,l=0,u=0;function c(t){return(1+100*(t-e)/n.dtick)%100<2}for(var d=0;d<t.length;d++)t[d]%1==0?l++:o(t[d])||u++,c(t[d])&&a++,c(t[d]+n.dtick/2)&&s++;var f=t.length-u;if(l===f&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(s<.1*f&&(a>.3*f||c(r)||c(i))){var h=n.dtick/2;e+=e+h<r?h:-h}return e}(_,e,l,u,c),y=1+Math.floor((c-_)/b),g=_+y*b;else for("M"===l.dtick.charAt(0)&&(_=function(e,t,n,r,o){var i=s.findExactDates(t,o);if(i.exactDays>.8){var a=Number(n.substr(1));i.exactYears>.8&&a%12==0?e=T.tickIncrement(e,"M6","reverse")+1.5*v:i.exactMonths>.8?e=T.tickIncrement(e,"M1","reverse")+15.5*v:e-=v/2;var l=T.tickIncrement(e,n);if(l<=r)return l}return e}(_,e,b,u,i)),g=_,y=0;g<=c;)g=T.tickIncrement(g,b,!1,i),y++;return{start:t.c2r(_,0,i),end:t.c2r(g,0,i),size:b,_dataSpan:c-u}},T.prepTicks=function(e){var t=s.simpleMap(e.range,e.r2l);if("auto"===e.tickmode||!e.dtick){var n,r=e.nticks;r||("category"===e.type?(n=e.tickfont?1.2*(e.tickfont.size||12):15,r=e._length/n):(n="y"===e._id.charAt(0)?40:80,r=s.constrain(e._length/n,4,9)+1),"radialaxis"===e._name&&(r*=2)),"array"===e.tickmode&&(r*=100),T.autoTicks(e,Math.abs(t[1]-t[0])/r),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),z(e)},T.calcTicks=function(e){T.prepTicks(e);var t=s.simpleMap(e.range,e.r2l);if("array"===e.tickmode)return function(e){var t,n,r=e.tickvals,o=e.ticktext,i=new Array(r.length),a=s.simpleMap(e.range,e.r2l),l=1.0001*a[0]-1e-4*a[1],u=1.0001*a[1]-1e-4*a[0],c=Math.min(l,u),d=Math.max(l,u),f=0;Array.isArray(o)||(o=[]);var h="category"===e.type?e.d2l_noadd:e.d2l;for("log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1)),n=0;n<r.length;n++)(t=h(r[n]))>c&&t<d&&(void 0===o[n]?i[f]=T.tickText(e,t):i[f]=U(e,t,String(o[n])),f++);return f<r.length&&i.splice(f,r.length-f),i}(e);e._tmin=T.tickFirst(e);var n=1.0001*t[0]-1e-4*t[1],r=1.0001*t[1]-1e-4*t[0],o=t[1]<t[0];if(e._tmin<n!==o)return[];var i=[];"category"===e.type&&(r=o?Math.max(-.5,r):Math.min(e._categories.length-.5,r));for(var a=null,l=Math.max(1e3,e._length||0),u=e._tmin;(o?u>=r:u<=r)&&!(i.length>l||u===a);u=T.tickIncrement(u,e.dtick,o,e.calendar))a=u,i.push(u);$(e)&&360===Math.abs(t[1]-t[0])&&i.pop(),e._tmax=i[i.length-1],e._prevDateHead="",e._inCalcTicks=!0;for(var c=new Array(i.length),d=0;d<i.length;d++)c[d]=T.tickText(e,i[d]);return e._inCalcTicks=!1,c};var N=[2,5,10],R=[1,2,3,6,12],P=[1,2,5,10,15,30],I=[1,2,3,7,14],D=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],L=[-.301,0,.301,.699,1],B=[15,30,45,90,180];function F(e,t,n){return t*s.roundUp(e/t,n)}function z(e){var t=e.dtick;if(e._tickexponent=0,o(t)||"string"==typeof t||(t=1),"category"===e.type&&(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),i=r.length;if("M"===String(t).charAt(0))i>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12==0?"y":"m";else if(t>=v&&i<=10||t>=15*v)e._tickround="d";else if(t>=b&&i<=16||t>=y)e._tickround="M";else if(t>=_&&i<=19||t>=b)e._tickround="S";else{var a=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(i,a)-20,e._tickround<0&&(e._tickround=4)}}else if(o(t)||"L"===t.charAt(0)){var s=e.range.map(e.r2d||Number);o(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),u=Math.floor(Math.log(l)/Math.LN10+.01);Math.abs(u)>3&&(V(e.exponentformat)&&!H(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}function U(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}T.autoTicks=function(e,t){var n;function r(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if("date"===e.type){e.tick0=s.dateTick0(e.calendar);var i=2*t;i>m?(t/=m,n=r(10),e.dtick="M"+12*F(t,n,N)):i>g?(t/=g,e.dtick="M"+F(t,1,R)):i>v?(e.dtick=F(t,v,I),e.tick0=s.dateTick0(e.calendar,!0)):i>y?e.dtick=F(t,y,R):i>b?e.dtick=F(t,b,P):i>_?e.dtick=F(t,_,P):(n=r(10),e.dtick=F(t,n,N))}else if("log"===e.type){e.tick0=0;var a=s.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(a[1]-a[0])<1){var l=1.5*Math.abs((a[1]-a[0])/t);t=Math.abs(Math.pow(10,a[1])-Math.pow(10,a[0]))/l,n=r(10),e.dtick="L"+F(t,n,N)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):$(e)?(e.tick0=0,n=1,e.dtick=F(t,n,B)):(e.tick0=0,n=r(10),e.dtick=F(t,n,N));if(0===e.dtick&&(e.dtick=1),!o(e.dtick)&&"string"!=typeof e.dtick){var u=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(u)}},T.tickIncrement=function(e,t,n,i){var a=n?-1:1;if(o(t))return e+a*t;var l=t.charAt(0),u=a*Number(t.substr(1));if("M"===l)return s.incrementMonth(e,u,i);if("L"===l)return Math.log(Math.pow(10,e)+u)/Math.LN10;if("D"===l){var c="D2"===t?L:D,d=e+.01*a,f=s.roundUp(s.mod(d,1),c,n);return Math.floor(d)+Math.log(r.round(Math.pow(10,f),1))/Math.LN10}throw"unrecognized dtick "+String(t)},T.tickFirst=function(e){var t=e.r2l||Number,n=s.simpleMap(e.range,t),i=n[1]<n[0],a=i?Math.floor:Math.ceil,l=1.0001*n[0]-1e-4*n[1],u=e.dtick,c=t(e.tick0);if(o(u)){var d=a((l-c)/u)*u+c;return"category"===e.type&&(d=s.constrain(d,0,e._categories.length-1)),d}var f=u.charAt(0),h=Number(u.substr(1));if("M"===f){for(var p,m,g,v=0,y=c;v<10;){if(((p=T.tickIncrement(y,u,i,e.calendar))-l)*(y-l)<=0)return i?Math.min(y,p):Math.max(y,p);m=(l-(y+p)/2)/(p-y),g=f+(Math.abs(Math.round(m))||1)*h,y=T.tickIncrement(y,g,m<0?!i:i,e.calendar),v++}return s.error("tickFirst did not converge",e),y}if("L"===f)return Math.log(a((Math.pow(10,l)-c)/h)*h+c)/Math.LN10;if("D"===f){var b="D2"===u?L:D,_=s.roundUp(s.mod(l,1),b,i);return Math.floor(l)+Math.log(r.round(Math.pow(10,_),1))/Math.LN10}throw"unrecognized dtick "+String(u)},T.tickText=function(e,t,n){var r,i,a=U(e,t),l="array"===e.tickmode,u=n||l,c="category"===e.type?e.d2l_noadd:e.d2l;if(l&&Array.isArray(e.ticktext)){var d=s.simpleMap(e.range,e.r2l),f=Math.abs(d[1]-d[0])/1e4;for(i=0;i<e.ticktext.length&&!(Math.abs(t-c(e.tickvals[i]))<f);i++);if(i<e.ticktext.length)return a.text=String(e.ticktext[i]),a}function h(r){var o;return void 0===r||(n?"none"===r:(o={first:e._tmin,last:e._tmax}[r],"all"!==r&&t!==o))}return r=n?"never":"none"!==e.exponentformat&&h(e.showexponent)?"hide":"","date"===e.type?function(e,t,n,r){var i=e._tickround,a=n&&e.hoverformat||T.getTickFormat(e);r&&(i=o(i)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[i]);var l,u=s.formatDate(t.x,a,i,e._dateFormat,e.calendar,e._extraFormat),c=u.indexOf("\n");-1!==c&&(l=u.substr(c+1),u=u.substr(0,c)),r&&("00:00:00"===u||"00:00"===u?(u=l,l=""):8===u.length&&(u=u.replace(/:00$/,""))),l&&(n?"d"===i?u+=", "+l:u=l+(u?", "+u:""):e._inCalcTicks&&l===e._prevDateHead||(u+="<br>"+l,e._prevDateHead=l)),t.text=u}(e,a,n,u):"log"===e.type?function(e,t,n,r,i){var a=e.dtick,l=t.x,u=e.tickformat,c="string"==typeof a&&a.charAt(0);if("never"===i&&(i=""),r&&"L"!==c&&(a="L3",c="L"),u||"L"===c)t.text=W(Math.pow(10,l),e,i,r);else if(o(a)||"D"===c&&s.mod(l+.01,1)<.1){var d=Math.round(l),f=Math.abs(d),h=e.exponentformat;"power"===h||V(h)&&H(d)?(t.text=0===d?1:1===d?"10":"10<sup>"+(d>1?"":x)+f+"</sup>",t.fontSize*=1.25):("e"===h||"E"===h)&&f>2?t.text="1"+h+(d>0?"+":x)+f:(t.text=W(Math.pow(10,l),e,"","fakehover"),"D1"===a&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==c)throw"unrecognized dtick "+String(a);t.text=String(Math.round(Math.pow(10,s.mod(l,1)))),t.fontSize*=.75}if("D1"===e.dtick){var p=String(t.text).charAt(0);"0"!==p&&"1"!==p||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(l<0?.5:.25)))}}(e,a,0,u,r):"category"===e.type?function(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}(e,a):$(e)?function(e,t,n,r,o){if("radians"!==e.thetaunit||n)t.text=W(t.x,e,o,r);else{var i=t.x/180;if(0===i)t.text="0";else{var a=function(e){function t(e,t){return Math.abs(e-t)<=1e-6}var n=function(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}(e),r=e*n,o=Math.abs(function e(n,r){return t(r,0)?n:e(r,n%r)}(r,n));return[Math.round(r/o),Math.round(n/o)]}(i);if(a[1]>=100)t.text=W(s.deg2rad(t.x),e,o,r);else{var l=t.x<0;1===a[1]?1===a[0]?t.text="":t.text=a[0]+"":t.text=["<sup>",a[0],"</sup>","","<sub>",a[1],"</sub>",""].join(""),l&&(t.text=x+t.text)}}}}(e,a,n,u,r):function(e,t,n,r,o){"never"===o?o="":"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(o="hide"),t.text=W(t.x,e,o,r)}(e,a,0,u,r),e.tickprefix&&!h(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!h(e.showticksuffix)&&(a.text+=e.ticksuffix),a},T.hoverLabelText=function(e,t,n){if(n!==w&&n!==t)return T.hoverLabelText(e,t)+" - "+T.hoverLabelText(e,n);var r="log"===e.type&&t<=0,o=T.tickText(e,e.c2l(r?-t:t),"hover").text;return r?0===t?"0":x+o:o};var q=["f","p","n","","m","","k","M","G","T"];function V(e){return"SI"===e||"B"===e}function H(e){return e>14||e<-15}function W(e,t,n,r){var i=e<0,a=t._tickround,l=n||t.exponentformat||"B",u=t._tickexponent,c=T.getTickFormat(t),d=t.separatethousands;if(r){var f={exponentformat:l,dtick:"none"===t.showexponent?t.dtick:o(e)&&Math.abs(e)||1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};z(f),a=(Number(f._tickround)||0)+4,u=f._tickexponent,t.hoverformat&&(c=t.hoverformat)}if(c)return t._numFormat(c)(e).replace(/-/g,x);var h,p=Math.pow(10,-a)/2;if("none"===l&&(u=0),(e=Math.abs(e))<p)e="0",i=!1;else{if(e+=p,u&&(e*=Math.pow(10,-u),a+=u),0===a)e=String(Math.floor(e));else if(a<0){e=(e=String(Math.round(e))).substr(0,e.length+a);for(var m=a;m<0;m++)e+="0"}else{var g=(e=String(e)).indexOf(".")+1;g&&(e=e.substr(0,g+a).replace(/\.?0+$/,""))}e=s.numSeparate(e,t._separators,d)}return u&&"hide"!==l&&(V(l)&&H(u)&&(l="power"),h=u<0?x+-u:"power"!==l?"+"+u:String(u),"e"===l||"E"===l?e+=l+h:"power"===l?e+="10<sup>"+h+"</sup>":"B"===l&&9===u?e+="B":V(l)&&(e+=q[u/3+5])),i?x+e:e}function G(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function X(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function K(e,t,n){var r,o,i=[],a=[],l=e.layout;for(r=0;r<t.length;r++)i.push(T.getFromId(e,t[r]));for(r=0;r<n.length;r++)a.push(T.getFromId(e,n[r]));var u=Object.keys(f),c=["anchor","domain","overlaying","position","side","tickangle","editType"],d=["linear","log"];for(r=0;r<u.length;r++){var h=u[r],p=i[0][h],m=a[0][h],g=!0,v=!1,y=!1;if("_"!==h.charAt(0)&&"function"!=typeof p&&-1===c.indexOf(h)){for(o=1;o<i.length&&g;o++){var b=i[o][h];"type"===h&&-1!==d.indexOf(p)&&-1!==d.indexOf(b)&&p!==b?v=!0:b!==p&&(g=!1)}for(o=1;o<a.length&&g;o++){var _=a[o][h];"type"===h&&-1!==d.indexOf(m)&&-1!==d.indexOf(_)&&m!==_?y=!0:a[o][h]!==m&&(g=!1)}g&&(v&&(l[i[0]._name].type="linear"),y&&(l[a[0]._name].type="linear"),Y(l,h,i,a,e._fullLayout._dfltTitle))}}for(r=0;r<e._fullLayout.annotations.length;r++){var x=e._fullLayout.annotations[r];-1!==t.indexOf(x.xref)&&-1!==n.indexOf(x.yref)&&s.swapAttrs(l.annotations[r],["?"])}}function Y(e,t,n,r,o){var i,a=s.nestedProperty,l=a(e[n[0]._name],t).get(),u=a(e[r[0]._name],t).get();for("title"===t&&(l===o.x&&(l=o.y),u===o.y&&(u=o.x)),i=0;i<n.length;i++)a(e,n[i]._name+"."+t).set(u);for(i=0;i<r.length;i++)a(e,r[i]._name+"."+t).set(l)}function $(e){return"angularaxis"===e._id}T.getTickFormat=function(e){var t,n,r,o,i,a,s,l;function u(e){return"string"!=typeof e?e:Number(e.replace("M",""))*g}function c(e,t){var n=["L","D"];if(typeof e==typeof t){if("number"==typeof e)return e-t;var r=n.indexOf(e.charAt(0)),o=n.indexOf(t.charAt(0));return r===o?Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,"")):r-o}return"number"==typeof e?1:-1}function d(e,t){var n=null===t[0],r=null===t[1],o=c(e,t[0])>=0,i=c(e,t[1])<=0;return(n||o)&&(r||i)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&(o=e.dtick,i=r.dtickrange,a=void 0,s=void 0,l=void 0,a=u||function(e){return e},s=i[0],l=i[1],(!s&&"number"!=typeof s||a(s)<=a(o))&&(!l&&"number"!=typeof l||a(l)>=a(o)))){n=r;break}break;case"log":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&d(e.dtick,r.dtickrange)){n=r;break}}return n?n.value:e.tickformat},T.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),o=t?T.findSubplotsWithAxis(r,t):r;return o.sort(function(e,t){var n=e.substr(1).split("y"),r=t.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]}),o},T.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],o=0;o<e.length;o++){var i=e[o];n.test(i)&&r.push(i)}return r},T.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n,o,i={_offset:0,_length:t.width,_id:""},a={_offset:0,_length:t.height,_id:""},s=T.list(e,"x",!0),l=T.list(e,"y",!0),u=[];for(n=0;n<s.length;n++)for(u.push({x:s[n],y:a}),o=0;o<l.length;o++)0===n&&u.push({x:i,y:l[o]}),u.push({x:s[n],y:l[o]});var c=t._clips.selectAll(".axesclip").data(u,function(e){return e.x._id+e.y._id});c.enter().append("clipPath").classed("axesclip",!0).attr("id",function(e){return"clip"+t._uid+e.x._id+e.y._id}).append("rect"),c.exit().remove(),c.each(function(e){r.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})}},T.doTicks=function(e,t,n){var r=e._fullLayout;"redraw"===t&&r._paper.selectAll("g.subplot").each(function(e){var t=e[0],n=r._plots[t],o=n.xaxis,i=n.yaxis;n.xaxislayer.selectAll("."+o._id+"tick").remove(),n.yaxislayer.selectAll("."+i._id+"tick").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+o._id+"title").remove(),r._infolayer.select(".g-"+i._id+"title").remove()});var o=t&&"redraw"!==t?t:T.listIds(e);s.syncOrAsync(o.map(function(t){return function(){if(t){var r=T.doTicksSingle(e,t,n),o=T.getFromId(e,t);return o._r=o.range.slice(),o._rl=s.simpleMap(o._r,o.r2l),r}}}))},T.doTicksSingle=function(e,t,n){var a,f=e._fullLayout,h=!1;s.isPlainObject(t)?(a=t,h=!0):a=T.getFromId(e,t),a.setScale();var p,m,g,v,y,b,_=a._id,x=_.charAt(0),w=T.counterLetter(_),A=a._vals=T.calcTicks(a),M=function(e){return[e.text,e.x,a.mirror,e.font,e.fontSize,e.fontColor].join("_")},C=_+"tick",j=_+"grid",O=_+"zl",N=(a.linewidth||1)/2,R="outside"===a.ticks?a.ticklen:0,P=0,I=d.crispRound(e,a.gridwidth,1),D=d.crispRound(e,a.zerolinewidth,I),L=d.crispRound(e,a.tickwidth,1);if(a._counterangle&&"outside"===a.ticks){var B=a._counterangle*Math.PI/180;R=a.ticklen*Math.cos(B)+1,P=a.ticklen*Math.sin(B)}if(a.showticklabels&&("outside"===a.ticks||a.showline)&&(R+=.2*a.tickfont.size),"x"===x)p=["bottom","top"],m=a._transfn||function(e){return"translate("+(a._offset+a.l2p(e.x))+",0)"},g=function(e,t){if(a._counterangle){var n=a._counterangle*Math.PI/180;return"M0,"+e+"l"+Math.sin(n)*t+","+Math.cos(n)*t}return"M0,"+e+"v"+t};else if("y"===x)p=["left","right"],m=a._transfn||function(e){return"translate(0,"+(a._offset+a.l2p(e.x))+")"},g=function(e,t){if(a._counterangle){var n=a._counterangle*Math.PI/180;return"M"+e+",0l"+Math.cos(n)*t+","+-Math.sin(n)*t}return"M"+e+",0h"+t};else{if(!$(a))return void s.warn("Unrecognized doTicks axis:",_);p=["left","right"],m=a._transfn,g=function(e,t){return"M"+e+",0h"+t}}var F=a.side||p[0],z=[-1,1,F===p[1]?1:-1];if("inside"!==a.ticks==("x"===x)&&(z=z.map(function(e){return-e})),a.visible){a._tickFilter&&(A=A.filter(a._tickFilter));var U=a._valsClipped=$(a)?A:A.filter(function(e){return G(a,e.x)});if(h){if(Q(a._axislayer,g(a._pos+N*z[2],z[2]*a.ticklen)),a._counteraxis){var q={gridlayer:a._gridlayer,zerolinelayer:a._zerolinelayer};te(q,a._counteraxis)}return J(a._axislayer,a._pos)}if(f._has("cartesian")){v=T.getSubplots(e,a);var V={};v.map(function(e){var t=f._plots[e],n=t[w+"axis"],r=n._mainAxis._id;V[r]||(V[r]=1,te(t,n))});var H=a._mainSubplot,W=f._plots[H],X=[];if(a.ticks){var K=z[2],Y=g(a._mainLinePosition+N*K,K*a.ticklen);a._anchorAxis&&a.mirror&&!0!==a.mirror&&(Y+=g(a._mainMirrorPosition-N*K,-K*a.ticklen)),Q(W[x+"axislayer"],Y),X=Object.keys(a._linepositions||{})}X.map(function(e){var t=f._plots[e],n=t[x+"axislayer"],r=a._linepositions[e]||[];function o(e){var t=z[e];return g(r[e]+N*t,t*a.ticklen)}Q(n,o(0)+o(1))});var Z=W[x+"axislayer"];return J(Z,a._mainLinePosition)}}function Q(e,t){var n=e.selectAll("path."+C).data("inside"===a.ticks?U:A,M);t&&a.ticks?(n.enter().append("path").classed(C,1).classed("ticks",1).classed("crisp",1).call(c.stroke,a.tickcolor).style("stroke-width",L+"px").attr("d",t),n.attr("transform",m),n.exit().remove()):n.remove()}function J(t,n){if(y=t.selectAll("g."+C).data(A,M),!o(n))return y.remove(),void ee();if(!a.showticklabels)return y.remove(),ee(),void O();var u,c,h,p,g;"x"===x?(u=function(e){return e.dx+P*g},p=n+(R+N)*(g="bottom"===F?1:-1),c=function(e){return e.dy+p+e.fontSize*("bottom"===F?1:-.2)},h=function(e){return o(e)&&0!==e&&180!==e?e*g<0?"end":"start":"middle"}):"y"===x?(g="right"===F?1:-1,c=function(e){return e.dy+e.fontSize*k-P*g},u=function(e){return e.dx+n+(R+N+(90===Math.abs(a.tickangle)?e.fontSize/2:0))*g},h=function(e){return o(e)&&90===Math.abs(e)?"middle":"right"===F?"start":"end"}):$(a)&&(a._labelShift=P,a._labelStandoff=R,a._pad=N,u=a._labelx,c=a._labely,h=a._labelanchor);var w=0,T=0,S=[];function j(e,t){e.each(function(e){var n=h(t,e),i=r.select(this),a=i.select(".text-math-group"),s=m.call(i.node(),e)+(o(t)&&0!=+t?" rotate("+t+","+u(e)+","+(c(e)-e.fontSize/2)+")":""),f=function(e,t,n){var r=(e-1)*t;if("x"===x){if(n<-60||60<n)return-.5*r;if("top"===F)return-r}else{if((n*="left"===F?1:-1)<-30)return-r;if(n<30)return-.5*r}return 0}(l.lineCount(i),E*e.fontSize,o(t)?+t:0);if(f&&(s+=" translate(0, "+f+")"),a.empty())i.select("text").attr({transform:s,"text-anchor":n});else{var p=d.bBox(a.node()).width*{end:-.5,start:.5}[n];a.attr("transform",s+(p?"translate("+p+",0)":""))}})}function O(){if(a.showticklabels){var n=e.getBoundingClientRect(),r=t.node().getBoundingClientRect();a._boundingBox={width:r.width,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,bottom:r.bottom-n.top}}else{var o,i=f._size;"x"===x?(o="free"===a.anchor?i.t+i.h*(1-a.position):i.t+i.h*(1-a._anchorAxis.domain[{bottom:0,top:1}[a.side]]),a._boundingBox={top:o,bottom:o,left:a._offset,right:a._offset+a._length,width:a._length,height:0}):(o="free"===a.anchor?i.l+i.w*a.position:i.l+i.w*a._anchorAxis.domain[{left:0,right:1}[a.side]],a._boundingBox={left:o,right:o,bottom:a._offset+a._length,top:a._offset,height:a._length,width:0})}if(v){var s=a._counterSpan=[1/0,-1/0];for(b=0;b<v.length;b++){var l=f._plots[v[b]],u=l["x"===x?"yaxis":"xaxis"];c(s,[u._offset,u._offset+u._length])}"free"===a.anchor&&c(s,"x"===x?[a._boundingBox.bottom,a._boundingBox.top]:[a._boundingBox.right,a._boundingBox.left])}function c(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.max(e[1],t[1])}}y.enter().append("g").classed(C,1).append("text").attr("text-anchor","middle").each(function(t){var n=r.select(this),o=e._promises.length;n.call(l.positionText,u(t),c(t)).call(d.font,t.font,t.fontSize,t.fontColor).text(t.text).call(l.convertToTspans,e),(o=e._promises[o])?S.push(e._promises.pop().then(function(){j(n,a.tickangle)})):j(n,a.tickangle)}),y.exit().remove(),y.each(function(e){w=Math.max(w,e.fontSize)}),$(a)&&y.each(function(e){r.select(this).select("text").call(l.positionText,u(e),c(e))}),j(y,a._lastangle||a.tickangle);var I=s.syncOrAsync([function(){return S.length&&Promise.all(S)},function(){if(j(y,a.tickangle),"x"===x&&!o(a.tickangle)&&("log"!==a.type||"D"!==String(a.dtick).charAt(0))){var e=[];for(y.each(function(t){var n=r.select(this),o=n.select(".text-math-group"),i=a.l2p(t.x);o.empty()&&(o=n.select("text"));var s=d.bBox(o.node());e.push({top:0,bottom:10,height:10,left:i-s.width/2,right:i+s.width/2+2,width:s.width+2})}),b=0;b<e.length-1;b++)if(s.bBoxIntersect(e[b],e[b+1])){T=30;break}if(T){var t=Math.abs((A[A.length-1].x-A[0].x)*a._m)/(A.length-1);t<2.5*w&&(T=90),j(y,T)}a._lastangle=T}return ee(),_+" done"},O,function(){var t=a._name+".automargin";if("x"===x||"y"===x)if(a.automargin){var n=a.side[0],r={x:0,y:0,r:0,l:0,t:0,b:0};"x"===x?(r.y="free"===a.anchor?a.position:a._anchorAxis.domain["t"===n?1:0],r[n]+=a._boundingBox.height):(r.x="free"===a.anchor?a.position:a._anchorAxis.domain["r"===n?1:0],r[n]+=a._boundingBox.width),a.title!==f._dfltTitle[x]&&(r[n]+=a.titlefont.size),i.autoMargin(e,t,r)}else i.autoMargin(e,t)}]);return I&&I.then&&e._promises.push(I),I}function ee(){if(!(n||a.rangeslider&&a.rangeslider.visible&&a._boundingBox&&"bottom"===a.side)){var t,r,o,i,s={selection:y,side:a.side},l=_.charAt(0),c=e._fullLayout._size,h=a.titlefont.size;if(y.size()){var p=d.getTranslate(y.node().parentNode);s.offsetLeft=p.x,s.offsetTop=p.y}var m=10+1.5*h+(a.linewidth?a.linewidth-1:0);"x"===l?(r="free"===a.anchor?{_offset:c.t+(1-(a.position||0))*c.h,_length:0}:S.getFromId(e,a.anchor),o=a._offset+a._length/2,i="top"===a.side?-m-h*(a.showticklabels?1:0):r._length+m+h*(a.showticklabels?1.5:.5),i+=r._offset,s.side||(s.side="bottom")):(r="free"===a.anchor?{_offset:c.l+(a.position||0)*c.w,_length:0}:S.getFromId(e,a.anchor),i=a._offset+a._length/2,o="right"===a.side?r._length+m+h*(a.showticklabels?1:.5):-m-h*(a.showticklabels?.5:0),o+=r._offset,t={rotate:"-90",offset:0},s.side||(s.side="left")),u.draw(e,_+"title",{propContainer:a,propName:a._name+".title",placeholder:f._dfltTitle[l],avoid:s,transform:t,attributes:{x:o,y:i,"text-anchor":"middle"}})}}function te(t,n){if(!f._hasOnlyLargeSploms){var o=t.gridlayer.selectAll("."+_),i=t.zerolinelayer,s=a._gridpath||("x"===x?"M0,"+n._offset+"v":"M"+n._offset+",0h")+n._length,l=o.selectAll("path."+j).data(!1===a.showgrid?[]:U,M);if(l.enter().append("path").classed(j,1).classed("crisp",1).attr("d",s).each(function(e){a.zeroline&&("linear"===a.type||"-"===a.type)&&Math.abs(e.x)<a.dtick/100&&r.select(this).remove()}),l.attr("transform",m).call(c.stroke,a.gridcolor||"#ddd").style("stroke-width",I+"px"),"function"==typeof s&&l.attr("d",s),l.exit().remove(),i){var u={x:0,id:_},d=T.shouldShowZeroLine(e,a,n),h=i.selectAll("path."+O).data(d?[u]:[]);h.enter().append("path").classed(O,1).classed("zl",1).classed("crisp",1).attr("d",s).each(function(){i.selectAll("path").sort(function(e,t){return S.idSort(e.id,t.id)})}),h.attr("transform",m).call(c.stroke,a.zerolinecolor||c.defaultLine).style("stroke-width",D+"px"),h.exit().remove()}}}},T.shouldShowZeroLine=function(e,t,n){var r=s.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&("linear"===t.type||"-"===t.type)&&t._valsClipped.length&&(G(t,0)||!function(e,t,n,r){var o=n._mainAxis;if(o){var i=e._fullLayout,a=t._id.charAt(0),s=T.counterLetter(t._id),l=t._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===a)?0:t._length),u=i._plots[n._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return h(n);for(var c=T.list(e,s),d=0;d<c.length;d++){var f=c[d];if(f._mainAxis===o&&h(f))return!0}}function h(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return"number"==typeof e&&Math.abs(e-l)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var o=e._linepositions||{};for(var i in o)if(r(o[i][0])||r(o[i][1]))return!0}}(e,t,n,r)||function(e,t){for(var n=e._fullData,r=t._mainSubplot,o=t._id.charAt(0),i=0;i<n.length;i++){var s=n[i];if(!0===s.visible&&s.xaxis+s.yaxis===r&&(a.traceIs(s,"bar")&&s.orientation==={x:"h",y:"v"}[o]||s.fill&&s.fill.charAt(s.fill.length-1)===o))return!0}return!1}(e,t))},T.allowAutoMargin=function(e){for(var t=T.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&i.allowAutoMargin(e,r._name+".automargin"),r.rangeslider&&r.rangeslider.visible&&i.allowAutoMargin(e,"rangeslider"+r._id)}},T.swap=function(e,t){for(var n=function(e,t){var n,r,o=[];for(n=0;n<t.length;n++){var i=[],a=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(a&&s){for(r=0;r<o.length;r++)-1===o[r].x.indexOf(a)&&-1===o[r].y.indexOf(s)||i.push(r);if(i.length){var l,u=o[i[0]];if(i.length>1)for(r=1;r<i.length;r++)l=o[i[r]],X(u.x,l.x),X(u.y,l.y);X(u.x,[a]),X(u.y,[s])}else o.push({x:[a],y:[s]})}}return o}(e,t),r=0;r<n.length;r++)K(e,n[r].x,n[r].y)}},{"../../components/color":319,"../../components/drawing":344,"../../components/titles":410,"../../constants/alignment":417,"../../constants/numerical":420,"../../lib":441,"../../lib/svg_text_utils":465,"../../plots/plots":525,"../../registry":532,"./autorange":487,"./axis_autotype":489,"./axis_ids":491,"./clean_ticks":493,"./layout_attributes":501,"./set_convert":507,d3:85,"fast-isnumeric":149}],489:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib"),i=e("../../constants/numerical").BADNUM;t.exports=function(e,t){return function(e,t){for(var n=Math.max(1,(e.length-1)/1e3),i=0,a=0,s={},l=0;l<e.length;l+=n){var u=e[Math.round(l)],c=String(u);s[c]||(s[c]=1,o.isDateTime(u,t)&&(i+=1),r(u)&&(a+=1))}return i>2*a}(e,t)?"date":function(e){for(var t=Math.max(1,(e.length-1)/1e3),n=0,r=0,a={},s=0;s<e.length;s+=t){var l=e[Math.round(s)],u=String(l);a[u]||(a[u]=1,"boolean"==typeof l?r++:o.cleanNumber(l)!==i?n++:"string"==typeof l&&r++)}return r>2*n}(e)?"category":function(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(r(e[t]))return!0;return!1}(e)?"linear":"-"}},{"../../constants/numerical":420,"../../lib":441,"fast-isnumeric":149}],490:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("../../lib"),i=e("./layout_attributes"),a=e("./tick_value_defaults"),s=e("./tick_mark_defaults"),l=e("./tick_label_defaults"),u=e("./category_order_defaults"),c=e("./line_grid_defaults"),d=e("./set_convert");t.exports=function(e,t,n,f,h){var p=f.letter,m=f.font||{},g=f.splomStash||{},v=n("visible",!f.cheateronly),y=t.type;if("date"===y){var b=r.getComponentMethod("calendars","handleDefaults");b(e,t,"calendar",f.calendar)}d(t,h);var _=n("autorange",!t.isValidRange(e.range));if(!_||"linear"!==y&&"-"!==y||n("rangemode"),n("range"),t.cleanRange(),u(e,t,n,f),"category"===y||f.noHover||n("hoverformat"),!v)return t;var x=n("color"),w=x!==i.color.dflt?x:m.color,k=g.label||h._dfltTitle[p];return n("title",k),o.coerceFont(n,"titlefont",{family:m.family,size:Math.round(1.2*m.size),color:w}),a(e,t,n,y),l(e,t,n,y,f),s(e,t,n,f),c(e,t,n,{dfltColor:x,bgColor:f.bgColor,showGrid:f.showGrid,attributes:i}),(t.showline||t.ticks)&&n("mirror"),f.automargin&&n("automargin"),t}},{"../../lib":441,"../../registry":532,"./category_order_defaults":492,"./layout_attributes":501,"./line_grid_defaults":503,"./set_convert":507,"./tick_label_defaults":508,"./tick_mark_defaults":509,"./tick_value_defaults":510}],491:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("./constants");n.id2name=function(e){if("string"==typeof e&&e.match(o.AX_ID_PATTERN)){var t=e.substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(o.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t){if(e.match(o.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)){var n=e.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),e.charAt(0)+n}},n.list=function(e,t,r){var o=e._fullLayout;if(!o)return[];var i,a=n.listIds(e,t),s=new Array(a.length);for(i=0;i<a.length;i++){var l=a[i];s[i]=o[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var u=o._subplots.gl3d||[];for(i=0;i<u.length;i++){var c=o[u[i]];t?s.push(c[t+"axis"]):s.push(c.xaxis,c.yaxis,c.zaxis)}}return s},n.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(e,t,r){var o=e._fullLayout;return"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),o[n.id2name(t)]},n.getFromTrace=function(e,t,o){var i=e._fullLayout,a=null;if(r.traceIs(t,"gl3d")){var s=t.scene;"scene"===s.substr(0,5)&&(a=i[s][o+"axis"])}else a=n.getFromId(e,t[o+"axis"]||o);return a},n.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n!==r?n>r?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)}},{"../../registry":532,"./constants":494}],492:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){if("category"===t.type){var o,i=e.categoryarray,a=Array.isArray(i)&&i.length>0;a&&(o="array");var s,l=n("categoryorder",o);"array"===l&&(s=n("categoryarray")),a||"array"!==l||(l=t.categoryorder="trace"),"trace"===l?t._initialCategories=[]:"array"===l?t._initialCategories=s.slice():(s=function(e,t){var n,r,o,i=t.dataAttr||e._id.charAt(0),a={};if(t.axData)n=t.axData;else for(n=[],r=0;r<t.data.length;r++){var s=t.data[r];s[i+"axis"]===e._id&&n.push(s)}for(r=0;r<n.length;r++){var l=n[r][i];for(o=0;o<l.length;o++){var u=l[o];null!=u&&(a[u]=1)}}return Object.keys(a)}(t,r).sort(),"category ascending"===l?t._initialCategories=s:"category descending"===l&&(t._initialCategories=s.reverse()))}}},{}],493:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib"),i=e("../../constants/numerical").ONEDAY;n.dtick=function(e,t){var n="log"===t,o="date"===t,a="category"===t,s=o?i:1;if(!e)return s;if(r(e))return(e=Number(e))<=0?s:a?Math.max(1,Math.round(e)):o?Math.max(.1,e):e;if("string"!=typeof e||!o&&!n)return s;var l=e.charAt(0),u=e.substr(1);return(u=r(u)?Number(u):0)<=0||!(o&&"M"===l&&u===Math.round(u)||n&&"L"===l||n&&"D"===l&&(1===u||2===u))?s:e},n.tick0=function(e,t,n,i){return"date"===t?o.cleanDate(e,o.dateTick0(n)):"D1"!==i&&"D2"!==i?r(e)?Number(e):0:void 0}},{"../../constants/numerical":420,"../../lib":441,"fast-isnumeric":149}],494:[function(e,t,n){"use strict";var r=e("../../lib/regex").counter;t.exports={idRegex:{x:r("x"),y:r("y")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["heatmaplayer","contourcarpetlayer","contourlayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":457}],495:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./axis_ids").id2name;t.exports=function(e,t,n,i,a){var s=a._axisConstraintGroups,l=t._id,u=l.charAt(0);if(!t.fixedrange&&(n("constrain"),r.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===u?["left","center","right"]:["bottom","middle","top"],dflt:"x"===u?"center":"middle"}},"constraintoward"),e.scaleanchor)){var c=function(e,t,n,r){var i,a,s,l,u=r[o(t)].type,c=[];for(a=0;a<n.length;a++)(s=n[a])!==t&&((l=r[o(s)]).type!==u||l.fixedrange||c.push(s));for(i=0;i<e.length;i++)if(e[i][t]){var d=e[i],f=[];for(a=0;a<c.length;a++)s=c[a],d[s]||f.push(s);return{linkableAxes:f,thisGroup:d}}return{linkableAxes:c,thisGroup:null}}(s,l,i,a),d=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:c.linkableAxes}},"scaleanchor");if(d){var f=n("scaleratio");f||(f=t.scaleratio=1),function(e,t,n,r,o){var i,a,s,l,u;null===t?((t={})[n]=1,u=e.length,e.push(t)):u=e.indexOf(t);var c=Object.keys(t);for(i=0;i<e.length;i++)if(s=e[i],i!==u&&s[r]){var d=s[r];for(a=0;a<c.length;a++)l=c[a],s[l]=d*o*t[l];return void e.splice(u,1)}if(1!==o)for(a=0;a<c.length;a++)t[c[a]]*=o;t[r]=1}(s,c.thisGroup,l,d,f)}else-1!==i.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},{"../../lib":441,"./axis_ids":491}],496:[function(e,t,n){"use strict";var r=e("./axis_ids").id2name,o=e("./scale_zoom"),i=e("./autorange").makePadFn,a=e("./autorange").concatExtremes,s=e("../../constants/numerical").ALMOST_EQUAL,l=e("../../constants/alignment").FROM_BL;function u(e,t){var n=e._inputDomain,r=l[e.constraintoward],o=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[o+(n[0]-o)/t,o+(n[1]-o)/t]}n.enforce=function(e){var t,n,l,c,d,f,h,p=e._fullLayout,m=p._axisConstraintGroups||[];for(t=0;t<m.length;t++){var g=m[t],v=Object.keys(g),y=1/0,b=0,_=1/0,x={},w={},k=!1;for(n=0;n<v.length;n++)l=v[n],w[l]=c=p[r(l)],c._inputDomain?c.domain=c._inputDomain.slice():c._inputDomain=c.domain.slice(),c._inputRange||(c._inputRange=c.range.slice()),c.setScale(),x[l]=d=Math.abs(c._m)/g[l],y=Math.min(y,d),"domain"!==c.constrain&&c._constraintShrinkable||(_=Math.min(_,d)),delete c._constraintShrinkable,b=Math.max(b,d),"domain"===c.constrain&&(k=!0);if(!(y>s*b)||k)for(n=0;n<v.length;n++)if(l=v[n],d=x[l],c=w[l],f=c.constrain,d!==_||"domain"===f)if(h=d/_,"range"===f)o(c,h);else{var E=c._inputDomain,T=(c.domain[1]-c.domain[0])/(E[1]-E[0]),A=(c.r2l(c.range[1])-c.r2l(c.range[0]))/(c.r2l(c._inputRange[1])-c.r2l(c._inputRange[0]));if((h/=T)*A<1){c.domain=c._input.domain=E.slice(),o(c,h);continue}if(A<1&&(c.range=c._input.range=c._inputRange.slice(),h*=A),c.autorange){var S=c.r2l(c.range[0]),M=c.r2l(c.range[1]),C=(S+M)/2,j=C,O=C,N=Math.abs(M-C),R=C-N*h*1.0001,P=C+N*h*1.0001,I=i(c);u(c,h),c.setScale();var D,L,B=Math.abs(c._m),F=a(e,c),z=F.min,U=F.max;for(L=0;L<z.length;L++)(D=z[L].val-I(z[L])/B)>R&&D<j&&(j=D);for(L=0;L<U.length;L++)(D=U[L].val+I(U[L])/B)<P&&D>O&&(O=D);var q=(O-j)/(2*N);h/=q,j=c.l2r(j),O=c.l2r(O),c.range=c._input.range=S<M?[j,O]:[O,j]}u(c,h)}}},n.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,o=e._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},{"../../constants/alignment":417,"../../constants/numerical":420,"./autorange":487,"./axis_ids":491,"./scale_zoom":505}],497:[function(e,t,n){"use strict";var r=e("d3"),o=e("tinycolor2"),i=e("has-passive-events"),a=e("../../registry"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../components/color"),c=e("../../components/drawing"),d=e("../../components/fx"),f=e("../../lib/setcursor"),h=e("../../components/dragelement"),p=e("../../constants/alignment").FROM_TL,m=e("../../lib/clear_gl_canvases"),g=e("../../plot_api/subroutines").redrawReglTraces,v=e("../plots"),y=e("./axes").doTicksSingle,b=e("./axis_ids").getFromId,_=e("./select").prepSelect,x=e("./select").clearSelect,w=e("./select").selectOnClick,k=e("./scale_zoom"),E=e("./constants"),T=E.MINDRAG,A=E.MINZOOM,S=!0;function M(e,t,n,r){var o=s.ensureSingle(e.draglayer,t,n,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return o.call(f,r),o.node()}function C(e,t,n,o,i,a,s){var l=M(e,"rect",t,n);return r.select(l).call(c.setRect,o,i,a,s),l}function j(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function O(e,t,n,r,o){var i,a,s,l;for(i=0;i<e.length;i++)(a=e[i]).fixedrange||(s=a._rl[0],l=a._rl[1]-s,a.range=[a.l2r(s+l*t),a.l2r(s+l*n)],r[a._name+".range[0]"]=a.range[0],r[a._name+".range[1]"]=a.range[1]);if(o&&o.length){var u=(t+(1-n))/2;O(o,u,1-u,r)}}function N(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.fixedrange||(r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)])}}function R(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function P(e,t,n,r,o){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",o+"Z")}function I(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+n+")").attr("d","M0,0Z")}function D(e,t,n,r,o,i){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),L(e,t,o,i)}function L(e,t,n,r){n||(e.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function B(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function F(e){S&&e.data&&e._context.showTips&&(s.notifier(s._(e,"Double-click to zoom back out"),"long"),S=!1)}function z(e){return"lasso"===e||"select"===e}function U(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,A)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function q(e,t){if(i){var n=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel&&(e.onmousewheel=t)}function V(e){var t=[];for(var n in e)t.push(e[n]);return t}t.exports={makeDragBox:function(e,t,n,i,u,f,S,M){var L,H,W,G,X,K,Y,$,Z,Q,J,ee,te,ne,re,oe,ie,ae,se,le,ue,ce=e._fullLayout._zoomlayer,de=S+M==="nsew",fe=1===(S+M).length;function he(){if(L=t.xaxis,H=t.yaxis,Z=L._length,Q=H._length,Y=L._offset,$=H._offset,(W={})[L._id]=L,(G={})[H._id]=H,S&&M)for(var n=t.overlays,r=0;r<n.length;r++){var o=n[r].xaxis;W[o._id]=o;var i=n[r].yaxis;G[i._id]=i}X=V(W),K=V(G),ee=j(X,M),te=j(K,S),ne=!te&&!ee,J=function(e,t,n){for(var r,o,i,a,l=e._fullLayout._axisConstraintGroups,u=!1,c={},d={},f=0;f<l.length;f++){var h=l[f];for(r in t)if(h[r]){for(i in h)("x"===i.charAt(0)?t:n)[i]||(c[i]=1);for(o in n)h[o]&&(u=!0)}for(o in n)if(h[o])for(a in h)("x"===a.charAt(0)?t:n)[a]||(d[a]=1)}u&&(s.extendFlat(c,d),d={});var p={},m=[];for(i in c){var g=b(e,i);m.push(g),p[g._id]=g}var v={},y=[];for(a in d){var _=b(e,a);y.push(_),v[_._id]=_}return{xaHash:p,yaHash:v,xaxes:m,yaxes:y,isSubplotConstrained:u}}(e,W,G),re=J.isSubplotConstrained,oe=M||re,ie=S||re;var a=e._fullLayout;ae=a._has("scattergl"),se=a._has("splom"),le=a._has("svg")}he();var pe=function(e,t,n){return e?"nsew"===e?n?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(te+ee,e._fullLayout.dragmode,de),me=C(t,S+M+"drag",pe,n,i,u,f);if(ne&&!de)return me.onmousedown=null,me.style.pointerEvents="none",me;var ge,ve,ye,be,_e,xe,we,ke,Ee,Te,Ae={element:me,gd:e,plotinfo:t};function Se(){Ae.plotinfo.selection=!1,x(ce)}function Me(n,o){var i=e._fullLayout.clickmode;if(B(e),2!==n||fe||function(){if(!e._transitioningWithDuration){var t,n,r,o=e._context.doubleClick,i=(ee?X:[]).concat(te?K:[]),s={};if("reset+autosize"===o)for(o="autosize",n=0;n<i.length;n++)if((t=i[n])._rangeInitial&&(t.range[0]!==t._rangeInitial[0]||t.range[1]!==t._rangeInitial[1])||!t._rangeInitial&&!t.autorange){o="reset";break}if("autosize"===o)for(n=0;n<i.length;n++)(t=i[n]).fixedrange||(s[t._name+".autorange"]=!0);else if("reset"===o)for((ee||re)&&(i=i.concat(J.xaxes)),te&&!re&&(i=i.concat(J.yaxes)),re&&(ee?te||(i=i.concat(K)):i=i.concat(X)),n=0;n<i.length;n++)(t=i[n])._rangeInitial?(r=t._rangeInitial,s[t._name+".range[0]"]=r[0],s[t._name+".range[1]"]=r[1]):s[t._name+".autorange"]=!0;e.emit("plotly_doubleclick",null),a.call("relayout",e,s)}}(),de)i.indexOf("select")>-1&&w(o,e,X,K,t.id,Ae),i.indexOf("event")>-1&&d.click(e,o,t.id);else if(1===n&&fe){var s=S?H:L,u="s"===S||"w"===M?0:1,c=s._name+".range["+u+"]",f=function(e,t){var n,o=e.range[t],i=Math.abs(o-e.range[1-t]);return"date"===e.type?o:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,r.format("."+n+"g")(Math.pow(10,o))):(n=Math.floor(Math.log(Math.abs(o))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,r.format("."+String(n)+"g")(o))}(s,u),h="left",p="middle";if(s.fixedrange)return;S?(p="n"===S?"top":"bottom","right"===s.side&&(h="right")):"e"===M&&(h="right"),e._context.showAxisRangeEntryBoxes&&r.select(me).call(l.makeEditable,{gd:e,immediate:!0,background:e._fullLayout.paper_bgcolor,text:String(f),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:h,verticalAlign:p}).on("edit",function(t){var n=s.d2r(t);void 0!==n&&a.call("relayout",e,c,n)})}}function Ce(t,n){if(e._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(Z,t+ge)),o=Math.max(0,Math.min(Q,n+ve)),i=Math.abs(r-ge),a=Math.abs(o-ve);function s(){we="",ye.r=ye.l,ye.t=ye.b,Ee.attr("d","M0,0Z")}ye.l=Math.min(ge,r),ye.r=Math.max(ge,r),ye.t=Math.min(ve,o),ye.b=Math.max(ve,o),re?i>A||a>A?(we="xy",i/Z>a/Q?(a=i*Q/Z,ve>o?ye.t=ve-a:ye.b=ve+a):(i=a*Z/Q,ge>r?ye.l=ge-i:ye.r=ge+i),Ee.attr("d",U(ye))):s():!te||a<Math.min(Math.max(.6*i,T),A)?i<T||!ee?s():(ye.t=0,ye.b=Q,we="x",Ee.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-A-.5)+"h-3v"+(2*A+1)+"h3ZM"+(e.r+.5)+","+(t-A-.5)+"h3v"+(2*A+1)+"h-3Z"}(ye,ve))):!ee||i<Math.min(.6*a,A)?(ye.l=0,ye.r=Z,we="y",Ee.attr("d",function(e,t){return"M"+(t-A-.5)+","+(e.t-.5)+"v-3h"+(2*A+1)+"v3ZM"+(t-A-.5)+","+(e.b+.5)+"v3h"+(2*A+1)+"v-3Z"}(ye,ge))):(we="xy",Ee.attr("d",U(ye))),ye.w=ye.r-ye.l,ye.h=ye.b-ye.t,we&&(Te=!0),e._dragged=Te,D(ke,Ee,ye,_e,xe,be),xe=!0}function je(){if(ue={},Math.min(ye.h,ye.w)<2*T)return B(e);"xy"!==we&&"x"!==we||O(X,ye.l/Z,ye.r/Z,ue,J.xaxes),"xy"!==we&&"y"!==we||O(K,(Q-ye.b)/Q,(Q-ye.t)/Q,ue,J.yaxes),B(e),Fe(),F(e)}Ae.prepFn=function(t,n,r){var i=Ae.dragmode,a=e._fullLayout.dragmode;a!==i&&(Ae.dragmode=a),he(),ne||(de?t.shiftKey?"pan"===a?a="zoom":z(a)||(a="pan"):t.ctrlKey&&(a="pan"):a="pan"),Ae.minDrag="lasso"===a?1:void 0,z(a)?(Ae.xaxes=X,Ae.yaxes=K,_(t,n,r,Ae,a)):(Ae.clickFn=Me,z(i)&&Se(),ne||("zoom"===a?(Ae.moveFn=Ce,Ae.doneFn=je,Ae.minDrag=1,function(t,n,r){var i=me.getBoundingClientRect();ge=n-i.left,ve=r-i.top,ye={l:ge,r:ge,w:0,t:ve,b:ve,h:0},be=e._hmpixcount?e._hmlumcount/e._hmpixcount:o(e._fullLayout.plot_bgcolor).getLuminance(),xe=!1,we="xy",Te=!1,ke=P(ce,be,Y,$,_e="M0,0H"+Z+"V"+Q+"H0V0"),Ee=I(ce,Y,$)}(0,n,r)):"pan"===a&&(Ae.moveFn=Le,Ae.doneFn=Fe)))},h.init(Ae);var Oe,Ne,Re=[0,0,Z,Q],Pe=null,Ie=E.REDRAWDELAY,De=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function Le(t,n){if(!e._transitioningWithDuration){if("ew"===ee||"ns"===te)return ee&&N(X,t),te&&N(K,n),ze([ee?-t:0,te?-n:0,Z,Q]),void Be(te,ee);if(re&&ee&&te){var r="w"===ee==("n"===te)?1:-1,o=(t/Z+r*n/Q)/2;t=o*Z,n=r*o*Q}"w"===ee?t=l(X,0,t):"e"===ee?t=l(X,1,-t):ee||(t=0),"n"===te?n=l(K,1,n):"s"===te?n=l(K,0,-n):te||(n=0);var i="w"===ee?t:0,a="n"===te?n:0;if(re){var s;if(!ee&&1===te.length){for(s=0;s<X.length;s++)X[s].range=X[s]._r.slice(),k(X[s],1-n/Q);i=(t=n*Z/Q)/2}if(!te&&1===ee.length){for(s=0;s<K.length;s++)K[s].range=K[s]._r.slice(),k(K[s],1-t/Z);a=(n=t*Q/Z)/2}}ze([i,a,Z-t,Q-n]),Be(te,ee)}function l(e,t,n){for(var r,o,i=1-t,a=0;a<e.length;a++){var s=e[a];if(!s.fixedrange){r=s,o=s._rl[i]+(s._rl[t]-s._rl[i])/R(n/s._length);var l=s.l2r(o);!1!==l&&void 0!==l&&(s.range[t]=l)}}return r._length*(r._rl[t]-o)/(r._rl[t]-r._rl[i])}}function Be(t,n){var r,o=[];function i(e){for(r=0;r<e.length;r++)e[r].fixedrange||o.push(e[r]._id)}for(oe&&(i(X),i(J.xaxes)),ie&&(i(K),i(J.yaxes)),ue={},r=0;r<o.length;r++){var s=o[r];y(e,s,!0);var l=b(e,s);ue[l._name+".range[0]"]=l.range[0],ue[l._name+".range[1]"]=l.range[1]}function u(i,a,s){for(r=0;r<i.length;r++){var l=i[r];if((n&&-1!==o.indexOf(l.xref)||t&&-1!==o.indexOf(l.yref))&&(a(e,r),s))return}}u(e._fullLayout.annotations||[],a.getComponentMethod("annotations","drawOne")),u(e._fullLayout.shapes||[],a.getComponentMethod("shapes","drawOne")),u(e._fullLayout.images||[],a.getComponentMethod("images","draw"),!0)}function Fe(){ze([0,0,Z,Q]),s.syncOrAsync([v.previousPromises,function(){a.call("relayout",e,ue)}],e)}function ze(t){var n,r,o,i,l=e._fullLayout,u=l._plots,d=l._subplots.cartesian;if(se&&a.subplotsRegistry.splom.drag(e),ae)for(n=0;n<d.length;n++)if(r=u[d[n]],o=r.xaxis,i=r.yaxis,r._scene){var f=s.simpleMap(o.range,o.r2l),h=s.simpleMap(i.range,i.r2l);r._scene.update({range:[f[0],h[0],f[1],h[1]]})}if((se||ae)&&(m(e),g(e)),le){var p=t[2]/L._length,v=t[3]/H._length;for(n=0;n<d.length;n++){r=u[d[n]],o=r.xaxis,i=r.yaxis;var y,b,_,x,w=oe&&!o.fixedrange&&W[o._id],k=ie&&!i.fixedrange&&G[i._id];if(w?(y=p,_=M?t[0]:Ve(o,y)):(y=Ue(o,p,v),_=qe(o,y)),k?(b=v,x=S?t[1]:Ve(i,b)):(b=Ue(i,p,v),x=qe(i,b)),y||b){y||(y=1),b||(b=1);var E=o._offset-_/y,T=i._offset-x/b;r.clipRect.call(c.setTranslate,_,x).call(c.setScale,y,b),r.plot.call(c.setTranslate,E,T).call(c.setScale,1/y,1/b),y===Oe&&b===Ne||(c.setPointGroupScale(r.zoomScalePts,y,b),c.setTextPointsScale(r.zoomScaleTxt,y,b)),c.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),Oe=y,Ne=b}}}}function Ue(e,t,n){return e.fixedrange?0:oe&&J.xaHash[e._id]?t:ie&&(re?J.xaHash:J.yaHash)[e._id]?n:0}function qe(e,t){return t?(e.range=e._r.slice(),k(e,t),Ve(e,t)):0}function Ve(e,t){return e._length*(1-t)*p[e.constraintoward||"middle"]}return S.length*M.length!=1&&q(me,function(t){if(e._context.scrollZoom||e._fullLayout._enablescrollzoom){if(Se(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();var n=e.querySelector(".plotly");if(he(),!(n.scrollHeight-n.clientHeight>10||n.scrollWidth-n.clientWidth>10)){clearTimeout(Pe);var r=-t.deltaY;if(isFinite(r)||(r=t.wheelDelta/10),isFinite(r)){var o,i=Math.exp(-Math.min(Math.max(r,-20),20)/200),a=De.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(t.clientX-a.left)/a.width,u=(a.bottom-t.clientY)/a.height;if(oe){for(M||(l=.5),o=0;o<X.length;o++)c(X[o],l,i);Re[2]*=i,Re[0]+=Re[2]*l*(1/i-1)}if(ie){for(S||(u=.5),o=0;o<K.length;o++)c(K[o],u,i);Re[3]*=i,Re[1]+=Re[3]*(1-u)*(1/i-1)}return ze(Re),Be(S,M),Pe=setTimeout(function(){Re=[0,0,Z,Q],Fe()},Ie),void t.preventDefault()}s.log("Did not find wheel motion attributes: ",t)}}function c(e,t,n){if(!e.fixedrange){var r=s.simpleMap(e.range,e.r2l),o=r[0]+(r[1]-r[0])*t;e.range=r.map(function(t){return e.l2r(o+(t-o)*n)})}}}),me},makeDragger:M,makeRectDragger:C,makeZoombox:P,makeCorners:I,updateZoombox:D,xyCorners:U,transitionZoombox:L,removeZoombox:B,showDoubleClickNotifier:F,attachWheelEventHandler:q}},{"../../components/color":319,"../../components/dragelement":341,"../../components/drawing":344,"../../components/fx":361,"../../constants/alignment":417,"../../lib":441,"../../lib/clear_gl_canvases":427,"../../lib/setcursor":461,"../../lib/svg_text_utils":465,"../../plot_api/subroutines":479,"../../registry":532,"../plots":525,"./axes":488,"./axis_ids":491,"./constants":494,"./scale_zoom":505,"./select":506,d3:85,"has-passive-events":201,tinycolor2:284}],498:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../components/fx"),i=e("../../components/dragelement"),a=e("../../lib/setcursor"),s=e("./dragbox").makeDragBox,l=e("./constants").DRAGGERSIZE;n.initInteractions=function(e){var t=e._fullLayout;if(e._context.staticPlot)r.select(e).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){var a=Object.keys(t._plots||{}).sort(function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),o=n.split("y");return r[0]===o[0]?Number(r[1]||1)-Number(o[1]||1):Number(r[0]||1)-Number(o[0]||1)}return t._plots[e].mainplot?1:-1});a.forEach(function(n){var r=t._plots[n],a=r.xaxis,u=r.yaxis;if(!r.mainplot){var c=s(e,r,a._offset,u._offset,a._length,u._length,"ns","ew");c.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&o.hover(e,t,n)},o.hover(e,t,n),e._fullLayout._lasthover=c,e._fullLayout._hoversubplot=n},c.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,t))},e._context.showAxisDragHandles&&(s(e,r,a._offset-l,u._offset-l,l,l,"n","w"),s(e,r,a._offset+a._length,u._offset-l,l,l,"n","e"),s(e,r,a._offset-l,u._offset+u._length,l,l,"s","w"),s(e,r,a._offset+a._length,u._offset+u._length,l,l,"s","e"))}if(e._context.showAxisDragHandles){if(n===a._mainSubplot){var d=a._mainLinePosition;"top"===a.side&&(d-=l),s(e,r,a._offset+.1*a._length,d,.8*a._length,l,"","ew"),s(e,r,a._offset,d,.1*a._length,l,"","w"),s(e,r,a._offset+.9*a._length,d,.1*a._length,l,"","e")}if(n===u._mainSubplot){var f=u._mainLinePosition;"right"!==u.side&&(f-=l),s(e,r,f,u._offset+.1*u._length,l,.8*u._length,"ns",""),s(e,r,f,u._offset+.9*u._length,l,.1*u._length,"s",""),s(e,r,f,u._offset,l,.1*u._length,"n","")}}});var u=t._hoverlayer.node();u.onmousemove=function(n){n.target=e._fullLayout._lasthover,o.hover(e,n,t._hoversubplot)},u.onclick=function(t){t.target=e._fullLayout._lasthover,o.click(e,t)},u.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},n.updateFx(e)}},n.updateFx=function(e){var t=e._fullLayout,n="pan"===t.dragmode?"move":"crosshair";a(t._draggers,n)}},{"../../components/dragelement":341,"../../components/fx":361,"../../lib/setcursor":461,"./constants":494,"./dragbox":497,d3:85}],499:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("../../lib");t.exports=function(e){return function(t,n){var i=t[e];if(Array.isArray(i))for(var a=r.subplotsRegistry.cartesian,s=a.idRegex,l=n._subplots,u=l.xaxis,c=l.yaxis,d=l.cartesian,f=n._has("cartesian")||n._has("gl2d"),h=0;h<i.length;h++){var p=i[h];if(o.isPlainObject(p)){var m=p.xref,g=p.yref,v=s.x.test(m),y=s.y.test(g);if(v||y){f||o.pushUnique(n._basePlotModules,a);var b=!1;v&&-1===u.indexOf(m)&&(u.push(m),b=!0),y&&-1===c.indexOf(g)&&(c.push(g),b=!0),b&&v&&y&&d.push(m+g)}}}}}},{"../../lib":441,"../../registry":532}],500:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../registry"),i=e("../../lib"),a=e("../plots"),s=e("../../components/drawing"),l=e("../get_data").getModuleCalcData,u=e("./axis_ids"),c=e("./constants"),d=e("../../constants/xmlns_namespaces"),f=i.ensureSingle;function h(e,t,n){return i.ensureSingle(e,t,n,function(e){e.datum(n)})}function p(e,t,n,i,a){for(var u,d,f,h=c.traceLayerClasses,p=e._fullLayout,m=p._modules,g=[],v=[],y=0;y<m.length;y++){var b=(u=m[y]).name,_=o.modules[b].categories;if(_.svg){var x=u.layerName||b+"layer",w=u.plot;d=l(n,w),f=d[0],n=d[1],f.length&&g.push({i:h.indexOf(x),className:x,plotMethod:w,cdModule:f}),_.zoomScale&&v.push("."+x)}}g.sort(function(e,t){return e.i-t.i});var k=t.plot.selectAll("g.mlayer").data(g,function(e){return e.className});if(k.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0),k.exit().remove(),k.order(),k.each(function(n){var o=r.select(this),l=n.className;n.plotMethod(e,t,n.cdModule,o,i,a),"scatterlayer"!==l&&"barlayer"!==l&&s.setClipUrl(o,t.layerClipId)}),p._has("scattergl")&&(u=o.getModule("scattergl"),f=l(n,u)[0],u.plot(e,t,f)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(".scatterlayer, .barlayer").selectAll(".trace")),v.length)){var E=t.plot.selectAll(v.join(",")).selectAll(".trace");t.zoomScalePts=E.selectAll("path.point"),t.zoomScaleTxt=E.selectAll(".textpoint")}}function m(e,t){var n=t.plotgroup,r=t.id,o=c.layerValue2layerClass[t.xaxis.layer],i=c.layerValue2layerClass[t.yaxis.layer],a=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var s=t.mainplotinfo,l=s.plotgroup,d=r+"-x",p=r+"-y";t.gridlayer=s.gridlayer,t.zerolinelayer=s.zerolinelayer,f(s.overlinesBelow,"path",d),f(s.overlinesBelow,"path",p),f(s.overaxesBelow,"g",d),f(s.overaxesBelow,"g",p),t.plot=f(s.overplot,"g",r),f(s.overlinesAbove,"path",d),f(s.overlinesAbove,"path",p),f(s.overaxesAbove,"g",d),f(s.overaxesAbove,"g",p),t.xlines=l.select(".overlines-"+o).select("."+d),t.ylines=l.select(".overlines-"+i).select("."+p),t.xaxislayer=l.select(".overaxes-"+o).select("."+d),t.yaxislayer=l.select(".overaxes-"+i).select("."+p)}else if(a)t.xlines=f(n,"path","xlines-above"),t.ylines=f(n,"path","ylines-above"),t.xaxislayer=f(n,"g","xaxislayer-above"),t.yaxislayer=f(n,"g","yaxislayer-above");else{var m=f(n,"g","layer-subplot");t.shapelayer=f(m,"g","shapelayer"),t.imagelayer=f(m,"g","imagelayer"),t.gridlayer=f(n,"g","gridlayer"),t.zerolinelayer=f(n,"g","zerolinelayer"),f(n,"path","xlines-below"),f(n,"path","ylines-below"),t.overlinesBelow=f(n,"g","overlines-below"),f(n,"g","xaxislayer-below"),f(n,"g","yaxislayer-below"),t.overaxesBelow=f(n,"g","overaxes-below"),t.plot=f(n,"g","plot"),t.overplot=f(n,"g","overplot"),t.xlines=f(n,"path","xlines-above"),t.ylines=f(n,"path","ylines-above"),t.overlinesAbove=f(n,"g","overlines-above"),f(n,"g","xaxislayer-above"),f(n,"g","yaxislayer-above"),t.overaxesAbove=f(n,"g","overaxes-above"),t.xlines=n.select(".xlines-"+o),t.ylines=n.select(".ylines-"+i),t.xaxislayer=n.select(".xaxislayer-"+o),t.yaxislayer=n.select(".yaxislayer-"+i)}a||(h(t.gridlayer,"g",t.xaxis._id),h(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(u.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function g(e,t){if(e){var n={};for(var o in e.each(function(e){var o=e[0],i=r.select(this);i.remove(),v(o,t),n[o]=!0}),t._plots)for(var i=t._plots[o],a=i.overlays||[],s=0;s<a.length;s++){var l=a[s];n[l.id]&&l.plot.selectAll(".trace").remove()}}}function v(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=c.idRegex,n.attrRegex=c.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.transitionAxes=e("./transition_axes"),n.finalizeSubplots=function(e,t){var n,r,o,a=t._subplots,s=a.xaxis,l=a.yaxis,d=a.cartesian,f=d.concat(a.gl2d||[]),h={},p={};for(n=0;n<f.length;n++){var m=f[n].split("y");h[m[0]]=1,p["y"+m[1]]=1}for(n=0;n<s.length;n++)r=s[n],h[r]||(o=(e[u.id2name(r)]||{}).anchor,c.idRegex.y.test(o)||(o="y"),d.push(r+o),f.push(r+o),p[o]||(p[o]=1,i.pushUnique(l,o)));for(n=0;n<l.length;n++)o=l[n],p[o]||(r=(e[u.id2name(o)]||{}).anchor,c.idRegex.x.test(r)||(r="x"),d.push(r+o),f.push(r+o),h[r]||(h[r]=1,i.pushUnique(s,r)));if(!f.length){for(var g in r="",o="",e)if(c.attrRegex.test(g)){var v=g.charAt(0);"x"===v?(!r||+g.substr(5)<+r.substr(5))&&(r=g):(!o||+g.substr(5)<+o.substr(5))&&(o=g)}r=r?u.name2id(r):"x",o=o?u.name2id(o):"y",s.push(r),l.push(o),d.push(r+o)}},n.plot=function(e,t,n,r){var o,i=e._fullLayout,a=i._subplots.cartesian,s=e.calcdata;if(null!==t){if(!Array.isArray(t))for(t=[],o=0;o<s.length;o++)t.push(o);for(o=0;o<a.length;o++){for(var l,u=a[o],c=i._plots[u],d=[],f=0;f<s.length;f++){var h=s[f],m=h[0].trace;m.xaxis+m.yaxis===u&&((-1!==t.indexOf(m.index)||m.carpet)&&(l&&l[0].trace.xaxis+l[0].trace.yaxis===u&&-1!==["tonextx","tonexty","tonext"].indexOf(m.fill)&&-1===d.indexOf(l)&&d.push(l),d.push(h)),l=h)}p(e,c,d,n,r)}}},n.clean=function(e,t,n,r){var o,i,a,s=r._plots||{},l=t._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(a in s)(o=s[a]).plotgroup&&o.plotgroup.remove();var d=r._has&&r._has("gl"),f=t._has&&t._has("gl");if(d&&!f)for(a in s)(o=s[a])._scene&&o._scene.destroy();if(c.xaxis&&c.yaxis){var h=u.listIds({_fullLayout:r});for(i=0;i<h.length;i++){var p=h[i];t[u.id2name(p)]||r._infolayer.selectAll(".g-"+p+"title").remove()}}var m=r._has&&r._has("cartesian"),y=t._has&&t._has("cartesian");if(m&&!y)g(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups;else if(c.cartesian)for(i=0;i<c.cartesian.length;i++){var b=c.cartesian[i];if(!l[b]){var _="."+b+",."+b+"-x,."+b+"-y";r._cartesianlayer.selectAll(_).remove(),v(b,r)}}},n.drawFramework=function(e){var t=e._fullLayout,n=function(e){var t,n,r,o,i,a,s=e._fullLayout,l=s._subplots.cartesian,u=l.length,c=[],d=[];for(t=0;t<u;t++){r=l[t],o=s._plots[r],i=o.xaxis,a=o.yaxis;var f=i._mainAxis,h=a._mainAxis,p=f._id+h._id,m=s._plots[p];o.overlays=[],p!==r&&m?(o.mainplot=p,o.mainplotinfo=m,d.push(r)):(o.mainplot=void 0,o.mainPlotinfo=void 0,c.push(r))}for(t=0;t<d.length;t++)r=d[t],(o=s._plots[r]).mainplotinfo.overlays.push(o);var g=c.concat(d),v=new Array(u);for(t=0;t<u;t++){r=g[t],o=s._plots[r],i=o.xaxis,a=o.yaxis;var y=[r,i.layer,a.layer,i.overlaying||"",a.overlaying||""];for(n=0;n<o.overlays.length;n++)y.push(o.overlays[n].id);v[t]=y}return v}(e),o=t._cartesianlayer.selectAll(".subplot").data(n,String);o.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),o.order(),o.exit().call(g,t),o.each(function(n){var o=n[0],i=t._plots[o];i.plotgroup=r.select(this),m(e,i),i.draglayer=f(t._draggers,"g",o)})},n.rangePlot=function(e,t,n){m(e,t),p(e,t,n),a.style(e)},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container"),o=n.filter(function(e,t){return t===n.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");o.each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:d.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},n.updateFx=e("./graph_interact").updateFx},{"../../components/drawing":344,"../../constants/xmlns_namespaces":421,"../../lib":441,"../../registry":532,"../get_data":517,"../plots":525,"./attributes":486,"./axis_ids":491,"./constants":494,"./graph_interact":498,"./layout_attributes":501,"./layout_defaults":502,"./transition_axes":511,d3:85}],501:[function(e,t,n){"use strict";var r=e("../font_attributes"),o=e("../../components/color/attributes"),i=e("../../components/drawing/attributes").dash,a=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray,l=e("./constants");t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:o.defaultLine,editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",editType:"calc",_noTemplating:!0},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1}}],editType:"axrange",impliedEdits:{autorange:!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:o.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor"],dflt:"data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:o.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:o.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:o.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"}}}},{"../../components/color/attributes":318,"../../components/drawing/attributes":343,"../../lib/extend":432,"../../plot_api/plot_template":478,"../font_attributes":515,"./constants":494}],502:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../components/color"),i=e("../../plot_api/plot_template"),a=e("../layout_attributes"),s=e("./layout_attributes"),l=e("./type_defaults"),u=e("./axis_defaults"),c=e("./constraint_defaults"),d=e("./position_defaults"),f=e("./axis_ids"),h=f.id2name,p=f.name2id,m=e("../../registry"),g=m.traceIs,v=m.getComponentMethod;function y(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}t.exports=function(e,t,n){var f,m,b={},_={},x={},w={},k={};for(f=0;f<n.length;f++){var E=n[f];if(g(E,"cartesian")||g(E,"gl2d")){var T,A;if(E.xaxis)T=h(E.xaxis),y(b,T,E);else if(E.xaxes)for(m=0;m<E.xaxes.length;m++)y(b,h(E.xaxes[m]),E);if(E.yaxis)A=h(E.yaxis),y(b,A,E);else if(E.yaxes)for(m=0;m<E.yaxes.length;m++)y(b,h(E.yaxes[m]),E);if(g(E,"carpet")&&("carpet"!==E.type||E._cheater)||T&&(x[T]=1),"carpet"===E.type&&E._cheater&&T&&(_[T]=1),g(E,"2dMap")&&(w[T]=1,w[A]=1),g(E,"oriented")){var S="h"===E.orientation?A:T;k[S]=1}}}var M=t._subplots,C=M.xaxis,j=M.yaxis,O=r.simpleMap(C,h),N=r.simpleMap(j,h),R=O.concat(N),P=o.background;C.length&&j.length&&(P=r.coerce(e,t,a,"plot_bgcolor"));var I,D,L,B,F=o.combine(P,t.paper_bgcolor);function z(e,t){return r.coerce(L,B,s,e,t)}function U(e,t){return r.coerce2(L,B,s,e,t)}function q(e){return"x"===e?j:C}var V={x:q("x"),y:q("y")};function H(t,n){for(var r="x"===t?O:N,o=[],i=0;i<r.length;i++){var a=r[i];a===n||(e[a]||{}).overlaying||o.push(p(a))}return o}for(f=0;f<R.length;f++){I=R[f],D=I.charAt(0),r.isPlainObject(e[I])||(e[I]={}),L=e[I],B=i.newContainer(t,I,D+"axis");var W=b[I]||[];B._traceIndices=W.map(function(e){return e._expandedIndex}),B._annIndices=[],B._shapeIndices=[],B._name=I;var G=B._id=p(I),X=H(D,I),K={letter:D,font:t.font,outerTicks:w[I],showGrid:!k[I],data:W,bgColor:F,calendar:t.calendar,automargin:!0,cheateronly:"x"===D&&_[I]&&!x[I],splomStash:((t._splomAxes||{})[D]||{})[G]};l(L,B,z,K),u(L,B,z,K,t);var Y=U("spikecolor"),$=U("spikethickness"),Z=U("spikedash"),Q=U("spikemode"),J=U("spikesnap"),ee=z("showspikes",!!(Y||$||Z||Q||J));ee||(delete B.spikecolor,delete B.spikethickness,delete B.spikedash,delete B.spikemode,delete B.spikesnap);var te={letter:D,counterAxes:V[D],overlayableAxes:X,grid:t.grid};d(L,B,z,te),B._input=L}var ne=v("rangeslider","handleDefaults"),re=v("rangeselector","handleDefaults");for(f=0;f<O.length;f++)I=O[f],L=e[I],B=t[I],ne(e,t,I),"date"===B.type&&re(L,B,t,N,B.calendar),z("fixedrange");for(f=0;f<N.length;f++){I=N[f],L=e[I],B=t[I];var oe=t[h(B.anchor)],ie=oe&&oe.rangeslider&&oe.rangeslider.visible;z("fixedrange",ie)}t._axisConstraintGroups=[];var ae=V.x.concat(V.y);for(f=0;f<R.length;f++)I=R[f],D=I.charAt(0),L=e[I],B=t[I],c(L,B,z,ae,t)}},{"../../components/color":319,"../../lib":441,"../../plot_api/plot_template":478,"../../registry":532,"../layout_attributes":523,"./axis_defaults":490,"./axis_ids":491,"./constraint_defaults":495,"./layout_attributes":501,"./position_defaults":504,"./type_defaults":512}],503:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,o=e("../../components/color/attributes").lightFraction,i=e("../../lib");t.exports=function(e,t,n,a){var s=(a=a||{}).dfltColor;function l(n,r){return i.coerce2(e,t,a.attributes,n,r)}var u=l("linecolor",s),c=l("linewidth"),d=n("showline",a.showLine||!!u||!!c);d||(delete t.linecolor,delete t.linewidth);var f=r(s,a.bgColor,a.blend||o).toRgbString(),h=l("gridcolor",f),p=l("gridwidth"),m=n("showgrid",a.showGrid||!!h||!!p);if(m||(delete t.gridcolor,delete t.gridwidth),!a.noZeroLine){var g=l("zerolinecolor",s),v=l("zerolinewidth"),y=n("zeroline",a.showGrid||!!g||!!v);y||(delete t.zerolinecolor,delete t.zerolinewidth)}}},{"../../components/color/attributes":318,"../../lib":441,tinycolor2:284}],504:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib");t.exports=function(e,t,n,i){var a,s,l,u,c=i.counterAxes||[],d=i.overlayableAxes||[],f=i.letter,h=i.grid;h&&(s=h._domains[f][h._axisMap[t._id]],a=h._anchors[t._id],s&&(l=h[f+"side"].split(" ")[0],u=h.domain[f]["right"===l||"top"===l?1:0])),s=s||[0,1],a=a||(r(e.position)?"free":c[0]||"free"),l=l||("x"===f?"bottom":"left"),u=u||0;var p=o.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:a}},"anchor");"free"===p&&n("position",u),o.coerce(e,t,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:l}},"side");var m=!1;if(d.length&&(m=o.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!m){var g=n("domain",s);g[0]>g[1]-.01&&(t.domain=s),o.noneOrAll(e.domain,t.domain,s)}return n("layer"),t}},{"../../lib":441,"fast-isnumeric":149}],505:[function(e,t,n){"use strict";var r=e("../../constants/alignment").FROM_BL;t.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var o=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=o[0]+(o[1]-o[0])*n;e.range=e._input.range=[e.l2r(i+(o[0]-i)*t),e.l2r(i+(o[1]-i)*t)]}},{"../../constants/alignment":417}],506:[function(e,t,n){"use strict";var r=e("polybooljs"),o=e("../../registry"),i=e("../../components/color"),a=e("../../components/fx"),s=e("../../lib/polygon"),l=e("../../lib/throttle"),u=e("../../components/fx/helpers").makeEventData,c=e("./axis_ids").getFromId,d=e("../../lib/clear_gl_canvases"),f=e("../../plot_api/subroutines").redrawReglTraces,h=e("./constants"),p=h.MINSELECT,m=s.filter,g=s.tester;function v(e){return e._id}function y(e,t,n,r,o,i,a){var s,l,u,c,d,f,h,p,m,g,v=t._hoverdata,y=t._fullLayout.clickmode,b=y.indexOf("event")>-1,_=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(v)){w(e,t,i),s=E(t,n,r,o);var C=function(e,t){var n,r,o=e[0],i=-1,a=[];for(r=0;r<t.length;r++)if(n=t[r],o.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===o.hoverOnBox)break;void 0!==o.pointNumber?i=o.pointNumber:void 0!==o.binNumber&&(i=o.binNumber,a=o.pointNumbers);break}return{pointNumber:i,pointNumbers:a,searchInfo:n}}(v,s),j=C.pointNumbers.length>0;if(j?function(e,t){var n,r,o,i=[];for(o=0;o<e.length;o++)(n=e[o]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&i.push(n);if(1===i.length&&i[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(o=0;o<t.pointNumbers.length;o++)if(r.selectedpoints.indexOf(t.pointNumbers[o])<0)return!1;return!0}return!1}(s,C):function(e){var t,n,r,o=0;for(r=0;r<e.length;r++)if(t=e[r],(n=t.cd[0].trace).selectedpoints){if(n.selectedpoints.length>1)return!1;if((o+=n.selectedpoints.length)>1)return!1}return 1===o}(s)&&(h=A(C))){for(a&&a.remove(),g=0;g<s.length;g++)(l=s[g])._module.selectPoints(l,!1);S(t,s),k(i),b&&t.emit("plotly_deselect",null)}else{p=e.shiftKey&&(void 0!==h?h:A(C)),u=function(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}(C.pointNumber,C.searchInfo,p);var O=i.selectionDefs.concat([u]);for(c=x(O),g=0;g<s.length;g++)if(d=s[g]._module.selectPoints(s[g],c),f=M(d,s[g]),_.length)for(var N=0;N<f.length;N++)_.push(f[N]);else _=f;S(t,s,m={points:_}),u&&i&&i.selectionDefs.push(u),a&&T(i.mergedPolygons,a),b&&t.emit("plotly_selected",m)}}}function b(e){return"pointNumber"in e&&"searchInfo"in e}function _(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,o){var i=e.searchInfo.cd[0].trace._expandedIndex,a=o.cd[0].trace._expandedIndex;return a===i&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function x(e){for(var t=[],n=b(e[0])?0:e[0][0][0],r=n,o=b(e[0])?0:e[0][0][1],i=o,a=0;a<e.length;a++)if(b(e[a]))t.push(_(e[a]));else{var l=s.tester(e[a]);l.subtract=e[a].subtract,t.push(l),n=Math.min(n,l.xmin),r=Math.max(r,l.xmax),o=Math.min(o,l.ymin),i=Math.max(i,l.ymax)}return{xmin:n,xmax:r,ymin:o,ymax:i,pts:[],contains:function(e,n,r,o){for(var i=!1,a=0;a<t.length;a++)t[a].contains(e,n,r,o)&&(i=!1===t[a].subtract);return i},isRect:!1,degenerate:!1}}function w(e,t,n){var r=t._fullLayout,o=r._zoomlayer,i=n.plotinfo,a=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=e.shiftKey||e.altKey;a&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):s&&i.selection||k(n),a||(C(o),r._lastSelectedSubplot=i.id)}function k(e){var t=e.plotinfo;t.selection={},t.selection.selectionDefs=e.selectionDefs=[],t.selection.mergedPolygons=e.mergedPolygons=[]}function E(e,t,n,r){var o,i,a,s=[],l=t.map(v),u=n.map(v);for(a=0;a<e.calcdata.length;a++)if(o=e.calcdata[a],!0===(i=o[0].trace).visible&&i._module&&i._module.selectPoints)if(!r||i.subplot!==r&&i.geo!==r)if("splom"===i.type&&i._xaxes[l[0]]&&i._yaxes[u[0]]){var d=f(i._module,o,t[0],n[0]);d.scene=e._fullLayout._splomScenes[i.uid],s.push(d)}else{if(-1===l.indexOf(i.xaxis))continue;if(-1===u.indexOf(i.yaxis))continue;s.push(f(i._module,o,c(e,i.xaxis),c(e,i.yaxis)))}else s.push(f(i._module,o,t[0],n[0]));return s;function f(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function T(e,t){var n,r,o=[];for(n=0;n<e.length;n++){var i=e[n];o.push(i.join("L")+"L"+i[0])}r=e.length>0?"M"+o.join("M")+"Z":"M0,0Z",t.attr("d",r)}function A(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,o=r.length>0,i=o?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(i)>-1}function S(e,t,n){var r,i,a,s;if(n){var l=n.points||[];for(r=0;r<t.length;r++)(s=t[r].cd[0].trace).selectedpoints=[],s._input.selectedpoints=[];for(r=0;r<l.length;r++){var u=l[r],c=u.data,h=u.fullData;u.pointIndices?([].push.apply(c.selectedpoints,u.pointIndices),[].push.apply(h.selectedpoints,u.pointIndices)):(c.selectedpoints.push(u.pointIndex),h.selectedpoints.push(u.pointIndex))}}else for(r=0;r<t.length;r++)delete(s=t[r].cd[0].trace).selectedpoints,delete s._input.selectedpoints;var p=!1;for(r=0;r<t.length;r++){i=t[r],a=i.cd,s=a[0].trace,o.traceIs(s,"regl")&&(p=!0);var m=i._module,g=m.styleOnSelect||m.style;g&&g(e,a)}p&&(d(e),f(e))}function M(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,o=0;o<e.length;o++)e[o]=u(e[o],r,n);return e}function C(e){e.selectAll(".select-outline").remove()}t.exports={prepSelect:function(e,t,n,o,s){var u,c,d,f,v,b,_,A=o.gd,C=A._fullLayout,j=C._zoomlayer,O=o.element.getBoundingClientRect(),N=o.plotinfo,R=N.xaxis._offset,P=N.yaxis._offset,I=t-O.left,D=n-O.top,L=I,B=D,F="M"+I+","+D,z=o.xaxes[0]._length,U=o.yaxes[0]._length,q=o.xaxes.concat(o.yaxes),V=e.altKey;w(e,A,o),"lasso"===s&&(u=m([[I,D]],h.BENDPX));var H=j.selectAll("path.select-outline-"+N.id).data([1,2]);H.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+N.id}).attr("transform","translate("+R+", "+P+")").attr("d",F+"Z");var W,G=j.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform","translate("+R+", "+P+")").attr("d","M0,0Z"),X=C._uid+h.SELECTID,K=[],Y=E(A,o.xaxes,o.yaxes,o.subplot);function $(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return e.p2d(n[t])}}function Z(e,t){return e-t}W=N.fillRangeItems?N.fillRangeItems:"select"===s?function(e,t){var n=e.range={};for(v=0;v<q.length;v++){var r=q[v],o=r._id.charAt(0);n[r._id]=[r.p2d(t[o+"min"]),r.p2d(t[o+"max"])].sort(Z)}}:function(e,t,n){var r=e.lassoPoints={};for(v=0;v<q.length;v++){var o=q[v];r[o._id]=n.filtered.map($(o))}},o.moveFn=function(e,t){L=Math.max(0,Math.min(z,e+I)),B=Math.max(0,Math.min(U,t+D));var n=Math.abs(L-I),i=Math.abs(B-D);if("select"===s){var a=C.selectdirection;"h"===(a="any"===C.selectdirection?i<Math.min(.6*n,p)?"h":n<Math.min(.6*i,p)?"v":"d":C.selectdirection)?((f=[[I,0],[I,U],[L,U],[L,0]]).xmin=Math.min(I,L),f.xmax=Math.max(I,L),f.ymin=Math.min(0,U),f.ymax=Math.max(0,U),G.attr("d","M"+f.xmin+","+(D-p)+"h-4v"+2*p+"h4ZM"+(f.xmax-1)+","+(D-p)+"h4v"+2*p+"h-4Z")):"v"===a?((f=[[0,D],[0,B],[z,B],[z,D]]).xmin=Math.min(0,z),f.xmax=Math.max(0,z),f.ymin=Math.min(D,B),f.ymax=Math.max(D,B),G.attr("d","M"+(I-p)+","+f.ymin+"v-4h"+2*p+"v4ZM"+(I-p)+","+(f.ymax-1)+"v4h"+2*p+"v-4Z")):"d"===a&&((f=[[I,D],[I,B],[L,B],[L,D]]).xmin=Math.min(I,L),f.xmax=Math.max(I,L),f.ymin=Math.min(D,B),f.ymax=Math.max(D,B),G.attr("d","M0,0Z"))}else"lasso"===s&&(u.addPt([L,B]),f=u.filtered);o.selectionDefs&&o.selectionDefs.length?(d=function(e,t,n){return n?r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(o.mergedPolygons,f,V),f.subtract=V,c=x(o.selectionDefs.concat([f]))):(d=[f],c=g(f)),T(d,H),l.throttle(X,h.SELECTDELAY,function(){K=[];var e,t,n=[];for(v=0;v<Y.length;v++)if(b=Y[v],t=b._module.selectPoints(b,c),n.push(t),e=M(t,b),K.length)for(var r=0;r<e.length;r++)K.push(e[r]);else K=e;S(A,Y,_={points:K}),W(_,f,u),o.gd.emit("plotly_selecting",_)})},o.clickFn=function(e,t){var n=C.clickmode;G.remove(),l.done(X).then(function(){if(l.clear(X),2===e){for(H.remove(),v=0;v<Y.length;v++)(b=Y[v])._module.selectPoints(b,!1);S(A,Y),k(o),A.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&y(t,A,o.xaxes,o.yaxes,o.subplot,o,H),"event"===n&&A.emit("plotly_selected",void 0);a.click(A,t)})},o.doneFn=function(){G.remove(),l.done(X).then(function(){l.clear(X),o.gd.emit("plotly_selected",_),f&&o.selectionDefs&&(f.subtract=V,o.selectionDefs.push(f),o.mergedPolygons.length=0,[].push.apply(o.mergedPolygons,d))})}},clearSelect:C,selectOnClick:y}},{"../../components/color":319,"../../components/fx":361,"../../components/fx/helpers":358,"../../lib/clear_gl_canvases":427,"../../lib/polygon":453,"../../lib/throttle":466,"../../plot_api/subroutines":479,"../../registry":532,"./axis_ids":491,"./constants":494,polybooljs:240}],507:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("../../lib"),a=i.cleanNumber,s=i.ms2DateTime,l=i.dateTime2ms,u=i.ensureNumber,c=e("../../constants/numerical"),d=c.FP_SAFE,f=c.BADNUM,h=c.LOG_CLIP,p=e("./constants"),m=e("./axis_ids");function g(e){return Math.pow(10,e)}t.exports=function(e,t){t=t||{};var n=(e._id||"x").charAt(0);function c(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],o=e.range[1];return.5*(r+o-2*h*Math.abs(r-o))}return f}function v(t,n,r){var a=l(t,r||e.calendar);if(a===f){if(!o(t))return f;t=+t;var s=Math.floor(10*i.mod(t+.05,1)),u=Math.round(t-s/10);a=l(new Date(u))+s/10}return a}function y(t,n,r){return s(t,n,r||e.calendar)}function b(t){return e._categories[Math.round(t)]}function _(t){if(e._categoriesMap){var n=e._categoriesMap[t];if(void 0!==n)return n}if(o(t))return+t}function x(t){return o(t)?r.round(e._b+e._m*t,2):f}function w(t){return(t-e._b)/e._m}e.c2l="log"===e.type?c:u,e.l2c="log"===e.type?g:u,e.l2p=x,e.p2l=w,e.c2p="log"===e.type?function(e,t){return x(c(e,t))}:x,e.p2c="log"===e.type?function(e){return g(w(e))}:w,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=a,e.c2d=e.c2r=e.l2d=e.l2r=u,e.d2p=e.r2p=function(t){return e.l2p(a(t))},e.p2d=e.p2r=w,e.cleanPos=u):"log"===e.type?(e.d2r=e.d2l=function(e,t){return c(a(e),t)},e.r2d=e.r2c=function(e){return g(a(e))},e.d2c=e.r2l=a,e.c2d=e.l2r=u,e.c2r=c,e.l2d=g,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return g(w(e))},e.r2p=function(t){return e.l2p(a(t))},e.p2r=w,e.cleanPos=u):"date"===e.type?(e.d2r=e.r2d=i.identity,e.d2c=e.r2c=e.d2l=e.r2l=v,e.c2d=e.c2r=e.l2d=e.l2r=y,e.d2p=e.r2p=function(t,n,r){return e.l2p(v(t,0,r))},e.p2d=e.p2r=function(e,t,n){return y(w(e),t,n)},e.cleanPos=function(t){return i.cleanDate(t,f,e.calendar)}):"category"===e.type&&(e.d2c=e.d2l=function(t){if(null!=t){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push(t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return f},e.r2d=e.c2d=e.l2d=b,e.d2r=e.d2l_noadd=_,e.r2c=function(t){var n=_(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=u,e.r2l=_,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return b(w(e))},e.r2p=e.d2p,e.p2r=w,e.cleanPos=function(e){return"string"==typeof e&&""!==e?e:u(e)}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,r){r||(r={}),t||(t="range");var a,s,l=i.nestedProperty(e,t).get();if(s=(s="date"===e.type?i.dfltRange(e.calendar):"y"===n?p.DFLTRANGEY:r.dfltRange||p.DFLTRANGEX).slice(),l&&2===l.length)for("date"===e.type&&(l[0]=i.cleanDate(l[0],f,e.calendar),l[1]=i.cleanDate(l[1],f,e.calendar)),a=0;a<2;a++)if("date"===e.type){if(!i.isDateTime(l[a],e.calendar)){e[t]=s;break}if(e.r2l(l[0])===e.r2l(l[1])){var u=i.constrain(e.r2l(l[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);l[0]=e.l2r(u-1e3),l[1]=e.l2r(u+1e3);break}}else{if(!o(l[a])){if(!o(l[1-a])){e[t]=s;break}l[a]=l[1-a]*(a?10:.1)}if(l[a]<-d?l[a]=-d:l[a]>d&&(l[a]=d),l[0]===l[1]){var c=Math.max(1,Math.abs(1e-6*l[0]));l[0]-=c,l[1]+=c}}else i.nestedProperty(e,t).set(s)},e.setScale=function(r){var o=t._size;if(e._categories||(e._categories=[]),e._categoriesMap||(e._categoriesMap={}),e.overlaying){var i=m.getFromId({_fullLayout:t},e.overlaying);e.domain=i.domain}var a=r&&e._r?"_r":"range",s=e.calendar;e.cleanRange(a);var l=e.r2l(e[a][0],s),u=e.r2l(e[a][1],s);if("y"===n?(e._offset=o.t+(1-e.domain[1])*o.h,e._length=o.h*(e.domain[1]-e.domain[0]),e._m=e._length/(l-u),e._b=-e._m*u):(e._offset=o.l+e.domain[0]*o.w,e._length=o.w*(e.domain[1]-e.domain[0]),e._m=e._length/(u-l),e._b=-e._m*l),!isFinite(e._m)||!isFinite(e._b))throw t._replotting=!1,new Error("Something went wrong with axis scaling")},e.makeCalcdata=function(t,n){var r,o,a,s,l=e.type,u="date"===l&&t[n+"calendar"];if(n in t){if(r=t[n],s=t._length||r.length,i.isTypedArray(r)&&("linear"===l||"log"===l)){if(s===r.length)return r;if(r.subarray)return r.subarray(0,s)}for(o=new Array(s),a=0;a<s;a++)o[a]=e.d2c(r[a],0,u)}else{var c=n+"0"in t?e.d2c(t[n+"0"],0,u):0,d=t["d"+n]?Number(t["d"+n]):1;for(r=t[{x:"y",y:"x"}[n]],s=t._length||r.length,o=new Array(s),a=0;a<s;a++)o[a]=c+a*d}return o},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&o(e.r2l(t[0]))&&o(e.r2l(t[1]))},e.isPtWithinRange=function(t,r){var o=e.c2l(t[n],null,r),i=e.r2l(e.range[0]),a=e.r2l(e.range[1]);return i<a?i<=o&&o<=a:a<=o&&o<=i},e.clearCalc=function(){e._categories=(e._initialCategories||[]).slice(),e._categoriesMap={};for(var t=0;t<e._categories.length;t++)e._categoriesMap[e._categories[t]]=t};var k=t._d3locale;"date"===e.type&&(e._dateFormat=k?k.timeFormat.utc:r.time.format.utc,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=k?k.numberFormat:r.format,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":420,"../../lib":441,"./axis_ids":491,"./constants":494,d3:85,"fast-isnumeric":149}],508:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./layout_attributes"),i=e("../array_container_defaults");function a(e,t){function n(n,i){return r.coerce(e,t,o.tickformatstops,n,i)}var i=n("enabled");i&&(n("dtickrange"),n("value"))}t.exports=function(e,t,n,s,l){var u=function(e){var t=["showexponent","showtickprefix","showticksuffix"].filter(function(t){return void 0!==e[t]});if(t.every(function(n){return e[n]===e[t[0]]})||1===t.length)return e[t[0]]}(e),c=n("tickprefix");c&&n("showtickprefix",u);var d=n("ticksuffix",l.tickSuffixDflt);d&&n("showticksuffix",u);var f=n("showticklabels");if(f){var h=l.font||{},p=t.color,m=p&&p!==o.color.dflt?p:h.color;if(r.coerceFont(n,"tickfont",{family:h.family,size:h.size,color:m}),n("tickangle"),"category"!==s){var g=n("tickformat"),v=e.tickformatstops;Array.isArray(v)&&v.length&&i(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:a}),g||"date"===s||(n("showexponent",u),n("exponentformat"),n("separatethousands"))}}}},{"../../lib":441,"../array_container_defaults":484,"./layout_attributes":501}],509:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./layout_attributes");t.exports=function(e,t,n,i){var a=r.coerce2(e,t,o,"ticklen"),s=r.coerce2(e,t,o,"tickwidth"),l=r.coerce2(e,t,o,"tickcolor",t.color),u=n("ticks",i.outerTicks||a||s||l?"outside":"");u||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":441,"./layout_attributes":501}],510:[function(e,t,n){"use strict";var r=e("./clean_ticks");t.exports=function(e,t,n,o){var i;if("array"!==e.tickmode||"log"!==o&&"date"!==o){var a=Array.isArray(e.tickvals)?"array":e.dtick?"linear":"auto";i=n("tickmode",a)}else i=t.tickmode="auto";if("auto"===i)n("nticks");else if("linear"===i){var s=t.dtick=r.dtick(e.dtick,o);t.tick0=r.tick0(e.tick0,o,t.calendar,s)}else{var l=n("tickvals");void 0===l?t.tickmode="auto":n("ticktext")}}},{"./clean_ticks":493}],511:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../registry"),i=e("../../components/drawing"),a=e("./axes"),s=e("./constants").attrRegex;t.exports=function(e,t,n,l){var u,c,d,f,h=e._fullLayout,p=[],m=function(e){var t,n,r,o,i={};for(t in e)if((n=t.split("."))[0].match(s)){var a=t.charAt(0),l=n[0];if(r=h[l],o={},Array.isArray(e[t])?o.to=e[t].slice(0):Array.isArray(e[t].range)&&(o.to=e[t].range.slice(0)),!o.to)continue;o.axisName=l,o.length=r._length,p.push(a),i[a]=o}return i}(t),g=Object.keys(m),v=function(e,t,n){var r,o,i,a=e._plots,s=[];for(r in a){var l=a[r];if(-1===s.indexOf(l)){var u=l.xaxis._id,c=l.yaxis._id,d=l.xaxis.range,f=l.yaxis.range;l.xaxis._r=l.xaxis.range.slice(),l.yaxis._r=l.yaxis.range.slice(),o=n[u]?n[u].to:d,i=n[c]?n[c].to:f,d[0]===o[0]&&d[1]===o[1]&&f[0]===i[0]&&f[1]===i[1]||-1===t.indexOf(u)&&-1===t.indexOf(c)||s.push(l)}}return s}(h,g,m);if(!v.length)return function(){function t(t,n,r){for(var o=0;o<t.length;o++)if(n(e,o),r)return}t(h.annotations||[],o.getComponentMethod("annotations","drawOne")),t(h.shapes||[],o.getComponentMethod("shapes","drawOne")),t(h.images||[],o.getComponentMethod("images","draw"),!0)}(),!1;function y(e){var t=e.xaxis,n=e.yaxis;h._defs.select("#"+e.clipId+"> rect").call(i.setTranslate,0,0).call(i.setScale,1,1),e.plot.call(i.setTranslate,t._offset,n._offset).call(i.setScale,1,1);var r=e.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(i.setPointGroupScale,1,1),r.selectAll(".textpoint").call(i.setTextPointsScale,1,1),r.call(i.hideOutsideRangePoints,e)}function b(t,n){var r,s,l,u=m[t.xaxis._id],c=m[t.yaxis._id],d=[];if(u){r=e._fullLayout[u.axisName],s=r._r,l=u.to,d[0]=(s[0]*(1-n)+n*l[0]-s[0])/(s[1]-s[0])*t.xaxis._length;var f=s[1]-s[0],p=l[1]-l[0];r.range[0]=s[0]*(1-n)+n*l[0],r.range[1]=s[1]*(1-n)+n*l[1],d[2]=t.xaxis._length*(1-n+n*p/f)}else d[0]=0,d[2]=t.xaxis._length;if(c){r=e._fullLayout[c.axisName],s=r._r,l=c.to,d[1]=(s[1]*(1-n)+n*l[1]-s[1])/(s[0]-s[1])*t.yaxis._length;var g=s[1]-s[0],v=l[1]-l[0];r.range[0]=s[0]*(1-n)+n*l[0],r.range[1]=s[1]*(1-n)+n*l[1],d[3]=t.yaxis._length*(1-n+n*v/g)}else d[1]=0,d[3]=t.yaxis._length;!function(t,n){var r,i=[];for(i=[t._id,n._id],r=0;r<i.length;r++)a.doTicksSingle(e,i[r],!0);function s(t,n,o){for(r=0;r<t.length;r++){var a=t[r];if(-1===i.indexOf(a.xref)&&-1===i.indexOf(a.yref)||n(e,r),o)return}}s(h.annotations||[],o.getComponentMethod("annotations","drawOne")),s(h.shapes||[],o.getComponentMethod("shapes","drawOne")),s(h.images||[],o.getComponentMethod("images","draw"),!0)}(t.xaxis,t.yaxis);var y=t.xaxis,b=t.yaxis,_=!!u,x=!!c,w=_?y._length/d[2]:1,k=x?b._length/d[3]:1,E=_?d[0]:0,T=x?d[1]:0,A=_?d[0]/d[2]*y._length:0,S=x?d[1]/d[3]*b._length:0,M=y._offset-A,C=b._offset-S;t.clipRect.call(i.setTranslate,E,T).call(i.setScale,1/w,1/k),t.plot.call(i.setTranslate,M,C).call(i.setScale,w,k),i.setPointGroupScale(t.zoomScalePts,1/w,1/k),i.setTextPointsScale(t.zoomScaleTxt,1/w,1/k)}l&&(u=l());var _=r.ease(n.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(f),f=null,function(){for(var t={},n=0;n<g.length;n++){var r=e._fullLayout[g[n]+"axis"];t[r._name+".range[0]"]=r.range[0],t[r._name+".range[1]"]=r.range[1],r.range=r._r.slice()}return o.call("relayout",e,t).then(function(){for(var e=0;e<v.length;e++)y(v[e])})}()}),c=Date.now(),f=window.requestAnimationFrame(function t(){d=Date.now();for(var r=Math.min(1,(d-c)/n.duration),i=_(r),a=0;a<v.length;a++)b(v[a],i);d-c>n.duration?(function(){for(var t={},n=0;n<g.length;n++){var r=e._fullLayout[m[g[n]].axisName],i=m[g[n]].to;t[r._name+".range[0]"]=i[0],t[r._name+".range[1]"]=i[1],r.range=i.slice()}u&&u(),o.call("relayout",e,t).then(function(){for(var e=0;e<v.length;e++)y(v[e])})}(),f=window.cancelAnimationFrame(t)):f=window.requestAnimationFrame(t)}),Promise.resolve()}},{"../../components/drawing":344,"../../registry":532,"./axes":488,"./constants":494,d3:85}],512:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("./axis_autotype");function i(e){return{v:"x",h:"y"}[e.orientation||"v"]}function a(e,t){var n=i(e),o=r.traceIs(e,"box-violin"),a=r.traceIs(e._fullInput||{},"candlestick");return o&&!a&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}t.exports=function(e,t,n,s){var l=n("type",(s.splomStash||{}).type);"-"===l&&(function(e,t){if("-"===e.type){var n=e._id,s=n.charAt(0);-1!==n.indexOf("scene")&&(n=s);var l=function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if("splom"===o.type&&o._length>0&&(o["_"+n+"axes"]||{})[t])return o;if((o[n+"axis"]||n)===t){if(a(o,n))return o;if((o[n]||[]).length||o[n+"0"])return o}}}(t,n,s);if(l)if("histogram"!==l.type||s!=={v:"y",h:"x"}[l.orientation||"v"]){var u,c=s+"calendar",d=l[c];if(a(l,s)){var f=i(l),h=[];for(u=0;u<t.length;u++){var p=t[u];r.traceIs(p,"box-violin")&&(p[s+"axis"]||s)===n&&(void 0!==p[f]?h.push(p[f][0]):void 0!==p.name?h.push(p.name):h.push("text"),p[c]!==d&&(d=void 0))}e.type=o(h,d)}else if("splom"===l.type){var m=l.dimensions,g=l._diag;for(u=0;u<m.length;u++){var v=m[u];if(v.visible&&(g[u][0]===n||g[u][1]===n)){e.type=o(v.values,d);break}}}else e.type=o(l[s]||[l[s+"0"]],d)}else e.type="linear"}}(t,s.data),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":532,"./axis_autotype":489}],513:[function(e,t,n){"use strict";var r=e("../registry"),o=e("../lib");function i(e,t,n){var r,i,a,s=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return i=o.nestedProperty(r,t.prop).get(),(a=n[t.type]=n[t.type]||{}).hasOwnProperty(t.prop)&&a[t.prop]!==i&&(s=!0),a[t.prop]=i,{changed:s,value:i}}function a(e,t){var n=[],r=t[0],i={};if("string"==typeof r)i[r]=t[1];else{if(!o.isPlainObject(r))return n;i=r}return l(i,function(e,t,r){n.push({type:"layout",prop:e,value:r})},"",0),n}function s(e,t){var n,r,i,a,s=[];if(r=t[0],i=t[1],n=t[2],a={},"string"==typeof r)a[r]=i;else{if(!o.isPlainObject(r))return s;a=r,void 0===n&&(n=i)}return void 0===n&&(n=null),l(a,function(t,r,o){var i;if(Array.isArray(o)){var a=Math.min(o.length,e.data.length);n&&(a=Math.min(a,n.length)),i=[];for(var l=0;l<a;l++)i[l]=n?n[l]:l}else i=n?n.slice(0):null;if(null===i)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(i)){if(!Array.isArray(o)){var u=o;o=[];for(var c=0;c<i.length;c++)o[c]=u}o.length=Math.min(i.length,o.length)}s.push({type:"data",prop:t,traces:i,value:o})},"",0),s}function l(e,t,n,r){Object.keys(e).forEach(function(i){var a=e[i];if("_"!==i[0]){var s=n+(r>0?".":"")+i;o.isPlainObject(a)?l(a,t,s,r+1):t(s,i,a)}})}n.manageCommandObserver=function(e,t,r,a){var s={},l=!0;t&&t._commandObserver&&(s=t._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=n.hasSimpleAPICommandBindings(e,r,s.lookupTable);if(t&&t._commandObserver){if(u)return s;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,s}if(u){i(e,u,s.cache),s.check=function(){if(l){var t=i(e,u,s.cache);return t.changed&&a&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(a({value:t.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<c.length;d++)e._internalOn(c[d],s.check);s.remove=function(){for(var t=0;t<c.length;t++)e._removeInternalListener(c[t],s.check)}}else o.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},t&&(t._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(e,t,r){var o,i,a=t.length;for(o=0;o<a;o++){var s,l=t[o],u=l.method,c=l.args;if(Array.isArray(c)||(c=[]),!u)return!1;var d=n.computeAPICommandBindings(e,u,c);if(1!==d.length)return!1;if(i){if((s=d[0]).type!==i.type)return!1;if(s.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var f=0;f<i.traces.length;f++)if(i.traces[f]!==s.traces[f])return!1}else if(s.prop!==i.prop)return!1}else i=d[0],Array.isArray(i.traces)&&i.traces.sort();var h=(s=d[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}r&&(r[h]=o)}return i},n.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var i=r.apiMethodRegistry[t],a=[e];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)a.push(n[s]);return i.apply(null,a).catch(function(e){return o.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)})},n.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=s(e,n);break;case"relayout":r=a(0,n);break;case"update":r=s(e,[n[0],n[2]]).concat(a(0,[n[1]]));break;case"animate":r=function(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}(0,n);break;default:r=[]}return r}},{"../lib":441,"../registry":532}],514:[function(e,t,n){"use strict";var r=e("../lib/extend").extendFlat;n.attributes=function(e,t){t=t||{};var n={valType:"info_array",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},o=(e.name&&e.name,e.trace,t.description&&t.description,{x:r({},n,{}),y:r({},n,{}),editType:e.editType});return e.noGridCell||(o.row={valType:"integer",min:0,dflt:0,editType:e.editType},o.column={valType:"integer",min:0,dflt:0,editType:e.editType}),o},n.defaults=function(e,t,n,r){var o=r&&r.x||[0,1],i=r&&r.y||[0,1],a=t.grid;if(a){var s=n("domain.column");void 0!==s&&(s<a.columns?o=a._domains.x[s]:delete e.domain.column);var l=n("domain.row");void 0!==l&&(l<a.rows?i=a._domains.y[l]:delete e.domain.row)}n("domain.x",o),n("domain.y",i)}},{"../lib/extend":432}],515:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},editType:t};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],516:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],517:[function(e,t,n){"use strict";var r=e("../registry"),o=e("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,t,n){var o=r.subplotsRegistry[t];if(!o)return[];for(var i=o.attr,a=[],s=0;s<e.length;s++){var l=e[s],u=l[0].trace;u[i]===n&&a.push(l)}return a},n.getModuleCalcData=function(e,t){var n,o=[],i=[];if(!(n="string"==typeof t?r.getModule(t).plot:"function"==typeof t?t:t.plot))return[o,e];for(var a=0;a<e.length;a++){var s=e[a],l=s[0].trace;!0===l.visible&&(l._module.plot===n?o.push(s):i.push(s))}return[o,i]},n.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var i,a,s,l=r.subplotsRegistry[t].attr,u=[];if("gl2d"===t){var c=n.match(o);a="x"+c[1],s="y"+c[2]}for(var d=0;d<e.length;d++)i=e[d],"gl2d"===t&&r.traceIs(i,"gl2d")?i[l[0]]===a&&i[l[1]]===s&&u.push(i):i[l]===n&&u.push(i);return u}},{"../registry":532,"./cartesian/constants":494}],518:[function(e,t,n){"use strict";var r=e("mouse-change"),o=e("mouse-wheel"),i=e("mouse-event-offset"),a=e("../cartesian/constants"),s=e("has-passive-events");function l(e,t){this.element=e,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}t.exports=function(e){var t=e.mouseContainer,n=e.glplot,u=new l(t,n);function c(){e.xaxis.autorange=!1,e.yaxis.autorange=!1}function d(t,r,o){var i,s,l=e.calcDataBox(),d=n.viewBox,f=u.lastPos[0],h=u.lastPos[1],p=a.MINDRAG*n.pixelRatio,m=a.MINZOOM*n.pixelRatio;function g(t,n,r){var o=Math.min(n,r),i=Math.max(n,r);o!==i?(l[t]=o,l[t+2]=i,u.dataBox=l,e.setRanges(l)):(e.selectBox.selectBox=[0,0,1,1],e.glplot.setDirty())}switch(r*=n.pixelRatio,o*=n.pixelRatio,o=d[3]-d[1]-o,e.fullLayout.dragmode){case"zoom":if(t){var v=r/(d[2]-d[0])*(l[2]-l[0])+l[0],y=o/(d[3]-d[1])*(l[3]-l[1])+l[1];u.boxInited||(u.boxStart[0]=v,u.boxStart[1]=y,u.dragStart[0]=r,u.dragStart[1]=o),u.boxEnd[0]=v,u.boxEnd[1]=y,u.boxInited=!0,u.boxEnabled||u.boxStart[0]===u.boxEnd[0]&&u.boxStart[1]===u.boxEnd[1]||(u.boxEnabled=!0);var b=Math.abs(u.dragStart[0]-r)<m,_=Math.abs(u.dragStart[1]-o)<m;if(!function(){for(var t=e.graphDiv._fullLayout._axisConstraintGroups,n=e.xaxis._id,r=e.yaxis._id,o=0;o<t.length;o++)if(-1!==t[o][n]){if(-1!==t[o][r])return!0;break}return!1}()||b&&_)b&&(u.boxEnd[0]=u.boxStart[0]),_&&(u.boxEnd[1]=u.boxStart[1]);else{i=u.boxEnd[0]-u.boxStart[0],s=u.boxEnd[1]-u.boxStart[1];var x=(l[3]-l[1])/(l[2]-l[0]);Math.abs(i*x)>Math.abs(s)?(u.boxEnd[1]=u.boxStart[1]+Math.abs(i)*x*(s>=0?1:-1),u.boxEnd[1]<l[1]?(u.boxEnd[1]=l[1],u.boxEnd[0]=u.boxStart[0]+(l[1]-u.boxStart[1])/Math.abs(x)):u.boxEnd[1]>l[3]&&(u.boxEnd[1]=l[3],u.boxEnd[0]=u.boxStart[0]+(l[3]-u.boxStart[1])/Math.abs(x))):(u.boxEnd[0]=u.boxStart[0]+Math.abs(s)/x*(i>=0?1:-1),u.boxEnd[0]<l[0]?(u.boxEnd[0]=l[0],u.boxEnd[1]=u.boxStart[1]+(l[0]-u.boxStart[0])*Math.abs(x)):u.boxEnd[0]>l[2]&&(u.boxEnd[0]=l[2],u.boxEnd[1]=u.boxStart[1]+(l[2]-u.boxStart[0])*Math.abs(x)))}}else u.boxEnabled?(i=u.boxStart[0]!==u.boxEnd[0],s=u.boxStart[1]!==u.boxEnd[1],i||s?(i&&(g(0,u.boxStart[0],u.boxEnd[0]),e.xaxis.autorange=!1),s&&(g(1,u.boxStart[1],u.boxEnd[1]),e.yaxis.autorange=!1),e.relayoutCallback()):e.glplot.setDirty(),u.boxEnabled=!1,u.boxInited=!1):u.boxInited&&(u.boxInited=!1);break;case"pan":u.boxEnabled=!1,u.boxInited=!1,t?(u.panning||(u.dragStart[0]=r,u.dragStart[1]=o),Math.abs(u.dragStart[0]-r)<p&&(r=u.dragStart[0]),Math.abs(u.dragStart[1]-o)<p&&(o=u.dragStart[1]),i=(f-r)*(l[2]-l[0])/(n.viewBox[2]-n.viewBox[0]),s=(h-o)*(l[3]-l[1])/(n.viewBox[3]-n.viewBox[1]),l[0]+=i,l[2]+=i,l[1]+=s,l[3]+=s,e.setRanges(l),u.panning=!0,u.lastInputTime=Date.now(),c(),e.cameraChanged(),e.handleAnnotations()):u.panning&&(u.panning=!1,e.relayoutCallback())}u.lastPos[0]=r,u.lastPos[1]=o}return u.mouseListener=r(t,d),t.addEventListener("touchstart",function(e){var n=i(e.changedTouches[0],t);d(0,n[0],n[1]),d(1,n[0],n[1]),e.preventDefault()},!!s&&{passive:!1}),t.addEventListener("touchmove",function(e){e.preventDefault();var n=i(e.changedTouches[0],t);d(1,n[0],n[1]),e.preventDefault()},!!s&&{passive:!1}),t.addEventListener("touchend",function(e){d(0,u.lastPos[0],u.lastPos[1]),e.preventDefault()},!!s&&{passive:!1}),u.wheelListener=o(t,function(t,r){if(!e.scrollZoom)return!1;var o=e.calcDataBox(),i=n.viewBox,a=u.lastPos[0],s=u.lastPos[1],l=Math.exp(5*r/(i[3]-i[1])),d=a/(i[2]-i[0])*(o[2]-o[0])+o[0],f=s/(i[3]-i[1])*(o[3]-o[1])+o[1];return o[0]=(o[0]-d)*l+d,o[2]=(o[2]-d)*l+d,o[1]=(o[1]-f)*l+f,o[3]=(o[3]-f)*l+f,e.setRanges(o),u.lastInputTime=Date.now(),c(),e.cameraChanged(),e.handleAnnotations(),e.relayoutCallback(),!0},!0),u}},{"../cartesian/constants":494,"has-passive-events":201,"mouse-change":214,"mouse-event-offset":215,"mouse-wheel":217}],519:[function(e,t,n){"use strict";var r=e("../cartesian/axes"),o=e("../../lib/html2unicode"),i=e("../../lib/str2rgbarray");function a(e){this.scene=e,this.gl=e.gl,this.pixelRatio=e.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=!1,this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var s=a.prototype,l=["xaxis","yaxis"];s.merge=function(e){var t,n,r,a,s,u,c,d,f,h,p;for(this.titleEnable=!1,this.backgroundColor=i(e.plot_bgcolor),h=0;h<2;++h){var m=(t=l[h]).charAt(0);for(n=e[this.scene[t]._name],r=n.title===this.scene.fullLayout._dfltTitle[m]?"":n.title,p=0;p<=2;p+=2)this.labelEnable[h+p]=!1,this.labels[h+p]=o(r),this.labelColor[h+p]=i(n.titlefont.color),this.labelFont[h+p]=n.titlefont.family,this.labelSize[h+p]=n.titlefont.size,this.labelPad[h+p]=this.getLabelPad(t,n),this.tickEnable[h+p]=!1,this.tickColor[h+p]=i((n.tickfont||{}).color),this.tickAngle[h+p]="auto"===n.tickangle?0:Math.PI*-n.tickangle/180,this.tickPad[h+p]=this.getTickPad(n),this.tickMarkLength[h+p]=0,this.tickMarkWidth[h+p]=n.tickwidth||0,this.tickMarkColor[h+p]=i(n.tickcolor),this.borderLineEnable[h+p]=!1,this.borderLineColor[h+p]=i(n.linecolor),this.borderLineWidth[h+p]=n.linewidth||0;c=this.hasSharedAxis(n),s=this.hasAxisInDfltPos(t,n)&&!c,u=this.hasAxisInAltrPos(t,n)&&!c,a=n.mirror||!1,d=c?-1!==String(a).indexOf("all"):!!a,f=c?"allticks"===a:-1!==String(a).indexOf("ticks"),s?this.labelEnable[h]=!0:u&&(this.labelEnable[h+2]=!0),s?this.tickEnable[h]=n.showticklabels:u&&(this.tickEnable[h+2]=n.showticklabels),(s||d)&&(this.borderLineEnable[h]=n.showline),(u||d)&&(this.borderLineEnable[h+2]=n.showline),(s||f)&&(this.tickMarkLength[h]=this.getTickMarkLength(n)),(u||f)&&(this.tickMarkLength[h+2]=this.getTickMarkLength(n)),this.gridLineEnable[h]=n.showgrid,this.gridLineColor[h]=i(n.gridcolor),this.gridLineWidth[h]=n.gridwidth,this.zeroLineEnable[h]=n.zeroline,this.zeroLineColor[h]=i(n.zerolinecolor),this.zeroLineWidth[h]=n.zerolinewidth}},s.hasSharedAxis=function(e){var t=this.scene,n=t.fullLayout._subplots.gl2d,o=r.findSubplotsWithAxis(n,e);return 0!==o.indexOf(t.id)},s.hasAxisInDfltPos=function(e,t){var n=t.side;return"xaxis"===e?"bottom"===n:"yaxis"===e?"left"===n:void 0},s.hasAxisInAltrPos=function(e,t){var n=t.side;return"xaxis"===e?"top"===n:"yaxis"===e?"right"===n:void 0},s.getLabelPad=function(e,t){var n=t.titlefont.size,r=t.showticklabels;return"xaxis"===e?"top"===t.side?n*(1.5+(r?1:0))-10:n*(1.5+(r?.5:0))-10:"yaxis"===e?"right"===t.side?10+n*(1.5+(r?1:.5)):10+n*(1.5+(r?.5:0)):void 0},s.getTickPad=function(e){return"outside"===e.ticks?10+e.ticklen:15},s.getTickMarkLength=function(e){if(!e.ticks)return 0;var t=e.ticklen;return"inside"===e.ticks?-t:t},t.exports=function(e){return new a(e)}},{"../../lib/html2unicode":439,"../../lib/str2rgbarray":464,"../cartesian/axes":488}],520:[function(e,t,n){"use strict";var r=e("../../plot_api/edit_types").overrideAll,o=e("./scene2d"),i=e("../layout_attributes"),a=e("../../constants/xmlns_namespaces"),s=e("../cartesian/constants"),l=e("../cartesian"),u=e("../../components/fx/layout_attributes"),c=e("../get_data").getSubplotData;n.name="gl2d",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=s.idRegex,n.attrRegex=s.attrRegex,n.attributes=e("../cartesian/attributes"),n.supplyLayoutDefaults=function(e,t,n){t._has("cartesian")||l.supplyLayoutDefaults(e,t,n)},n.layoutAttrOverrides=r(l.layoutAttributes,"plot","from-root"),n.baseLayoutAttrOverrides=r({plot_bgcolor:i.plot_bgcolor,hoverlabel:u.hoverlabel},"plot","nested"),n.plot=function(e){for(var t=e._fullLayout,n=e._fullData,r=t._subplots.gl2d,i=0;i<r.length;i++){var a=r[i],s=t._plots[a],l=c(n,"gl2d",a),u=s._scene2d;void 0===u&&(u=new o({id:a,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio},t),s._scene2d=u),u.plot(l,e.calcdata,t,e.layout)}},n.clean=function(e,t,n,r){for(var o=r._subplots.gl2d||[],i=0;i<o.length;i++){var a=o[i],s=r._plots[a];if(s._scene2d){var u=c(e,"gl2d",a);0===u.length&&(s._scene2d.destroy(),delete r._plots[a])}}l.clean.apply(this,arguments)},n.drawFramework=function(e){e._context.staticPlot||l.drawFramework(e)},n.toSVG=function(e){for(var t=e._fullLayout,n=t._subplots.gl2d,r=0;r<n.length;r++){var o=t._plots[n[r]],i=o._scene2d,s=i.toImage("png"),l=t._glimages.append("svg:image");l.attr({xmlns:a.svg,"xlink:href":s,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),i.destroy()}},n.updateFx=function(e){for(var t=e._fullLayout,n=t._subplots.gl2d,r=0;r<n.length;r++){var o=t._plots[n[r]]._scene2d;o.updateFx(t.dragmode)}}},{"../../components/fx/layout_attributes":362,"../../constants/xmlns_namespaces":421,"../../plot_api/edit_types":471,"../cartesian":500,"../cartesian/attributes":486,"../cartesian/constants":494,"../get_data":517,"../layout_attributes":523,"./scene2d":521}],521:[function(e,t,n){"use strict";var r,o,i=e("../../registry"),a=e("../../plots/cartesian/axes"),s=e("../../components/fx"),l=e("gl-plot2d"),u=e("gl-spikes2d"),c=e("gl-select-box"),d=e("webgl-context"),f=e("./convert"),h=e("./camera"),p=e("../../lib/html2unicode"),m=e("../../lib/show_no_webgl_msg"),g=e("../cartesian/constraints"),v=g.enforce,y=g.clean,b=e("../cartesian/autorange").doAutoRange,_=["xaxis","yaxis"],x=e("../cartesian/constants").SUBPLOT_PATTERN;function w(e,t){this.container=e.container,this.graphDiv=e.graphDiv,this.pixelRatio=e.plotGlPixelRatio||window.devicePixelRatio,this.id=e.id,this.staticPlot=!!e.staticPlot,this.scrollZoom=this.graphDiv._context.scrollZoom,this.fullData=null,this.updateRefs(t),this.makeFramework(),this.stopped||(this.glplotOptions=f(this),this.glplotOptions.merge(t),this.glplot=l(this.glplotOptions),this.camera=h(this),this.traces={},this.spikes=u(this.glplot),this.selectBox=c(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}t.exports=w;var k=w.prototype;k.makeFramework=function(){if(this.staticPlot){if(!(o||(r=document.createElement("canvas"),o=d({canvas:r,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=r,this.gl=o}else{var e=this.container.querySelector(".gl-canvas-focus"),t=d({canvas:e,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!t)return m(this),void(this.stopped=!0);this.canvas=e,this.gl=t}var n=this.canvas;n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style["pointer-events"]="none",this.updateSize(n),n.className+=" user-select-none";var i=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none";var a=this.mouseContainer=document.createElement("div");a.style.position="absolute",a.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var s=this.container;s.appendChild(i),s.appendChild(a);var l=this;a.addEventListener("mouseout",function(){l.isMouseOver=!1,l.unhover()}),a.addEventListener("mouseover",function(){l.isMouseOver=!0})},k.toImage=function(e){e||(e="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(r),this.updateSize(this.canvas);var t=this.glplot.gl,n=t.drawingBufferWidth,o=t.drawingBufferHeight;t.clearColor(1,1,1,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),t.bindFramebuffer(t.FRAMEBUFFER,null);var i=new Uint8Array(n*o*4);t.readPixels(0,0,n,o,t.RGBA,t.UNSIGNED_BYTE,i);for(var a=0,s=o-1;a<s;++a,--s)for(var l=0;l<n;++l)for(var u=0;u<4;++u){var c=i[4*(n*a+l)+u];i[4*(n*a+l)+u]=i[4*(n*s+l)+u],i[4*(n*s+l)+u]=c}var d=document.createElement("canvas");d.width=n,d.height=o;var f,h=d.getContext("2d"),p=h.createImageData(n,o);switch(p.data.set(i),h.putImageData(p,0,0),e){case"jpeg":f=d.toDataURL("image/jpeg");break;case"webp":f=d.toDataURL("image/webp");break;default:f=d.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(r),f},k.updateSize=function(e){e||(e=this.canvas);var t=this.pixelRatio,n=this.fullLayout,r=n.width,o=n.height,i=0|Math.ceil(t*r),a=0|Math.ceil(t*o);return e.width===i&&e.height===a||(e.width=i,e.height=a),e},k.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var e=[a.calcTicks(this.xaxis),a.calcTicks(this.yaxis)],t=0;t<2;++t)for(var n=0;n<e[t].length;++n)e[t][n].text=p(e[t][n].text+"");return e},k.updateRefs=function(e){this.fullLayout=e;var t=this.id.match(x),n="xaxis"+t[1],r="yaxis"+t[2];this.xaxis=this.fullLayout[n],this.yaxis=this.fullLayout[r]},k.relayoutCallback=function(){var e=this.graphDiv,t=this.xaxis,n=this.yaxis,r=e.layout;r.xaxis.autorange=t.autorange,r.xaxis.range=t.range.slice(0),r.yaxis.autorange=n.autorange,r.yaxis.range=n.range.slice(0);var o={lastInputTime:this.camera.lastInputTime};o[t._name]=t.range.slice(0),o[n._name]=n.range.slice(0),e.emit("plotly_relayout",o)},k.cameraChanged=function(){var e=this.camera;this.glplot.setDataBox(this.calcDataBox());var t=this.computeTickMarks(),n=this.glplotOptions.ticks;(function(e,t){for(var n=0;n<2;++n){var r=e[n],o=t[n];if(r.length!==o.length)return!0;for(var i=0;i<r.length;++i)if(r[i].x!==o[i].x)return!0}return!1})(t,n)&&(this.glplotOptions.ticks=t,this.glplotOptions.dataBox=e.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},k.handleAnnotations=function(){for(var e=this.graphDiv,t=this.fullLayout.annotations,n=0;n<t.length;n++){var r=t[n];r.xref===this.xaxis._id&&r.yref===this.yaxis._id&&i.getComponentMethod("annotations","drawOne")(e,n)}},k.destroy=function(){if(this.glplot){var e=this.traces;e&&Object.keys(e).map(function(t){e[t].dispose(),delete e[t]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},k.plot=function(e,t,n){var r=this.glplot;this.updateRefs(n),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(e,t),this.updateFx(n.dragmode);var o=n.width,i=n.height;this.updateSize(this.canvas);var a=this.glplotOptions;a.merge(n),a.screenBox=[0,0,o,i];var s={_fullLayout:{_axisConstraintGroups:this.graphDiv._fullLayout._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis}};y(s,this.xaxis),y(s,this.yaxis);var l,u,c=n._size,d=this.xaxis.domain,f=this.yaxis.domain;for(a.viewBox=[c.l+d[0]*c.w,c.b+f[0]*c.h,o-c.r-(1-d[1])*c.w,i-c.t-(1-f[1])*c.h],this.mouseContainer.style.width=c.w*(d[1]-d[0])+"px",this.mouseContainer.style.height=c.h*(f[1]-f[0])+"px",this.mouseContainer.height=c.h*(f[1]-f[0]),this.mouseContainer.style.left=c.l+d[0]*c.w+"px",this.mouseContainer.style.top=c.t+(1-f[1])*c.h+"px",u=0;u<2;++u)(l=this[_[u]])._length=a.viewBox[u+2]-a.viewBox[u],b(this.graphDiv,l),l.setScale();v(s),a.ticks=this.computeTickMarks(),a.dataBox=this.calcDataBox(),a.merge(n),r.update(a),this.glplot.draw()},k.calcDataBox=function(){var e=this.xaxis,t=this.yaxis,n=e.range,r=t.range,o=e.r2l,i=t.r2l;return[o(n[0]),i(r[0]),o(n[1]),i(r[1])]},k.setRanges=function(e){var t=this.xaxis,n=this.yaxis,r=t.l2r,o=n.l2r;t.range=[r(e[0]),r(e[2])],n.range=[o(e[1]),o(e[3])]},k.updateTraces=function(e,t){var n,r,o,i=Object.keys(this.traces);this.fullData=e;e:for(n=0;n<i.length;n++){var a=i[n],s=this.traces[a];for(r=0;r<e.length;r++)if((o=e[r]).uid===a&&o.type===s.type)continue e;s.dispose(),delete this.traces[a]}for(n=0;n<e.length;n++){o=e[n];var l=t[n],u=this.traces[o.uid];u?u.update(o,l):(u=o._module.plot(this,o,l),this.traces[o.uid]=u)}this.glplot.objects.sort(function(e,t){return e._trace.index-t._trace.index})},k.updateFx=function(e){"lasso"===e||"select"===e?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===e?"move":"zoom"===e?"crosshair":null},k.emitPointAction=function(e,t){for(var n,r=e.trace.uid,o=e.pointIndex,i=0;i<this.fullData.length;i++)this.fullData[i].uid===r&&(n=this.fullData[i]);var a={x:e.traceCoord[0],y:e.traceCoord[1],curveNumber:n.index,pointNumber:o,data:n._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};s.appendArrayPointValue(a,n,o),this.graphDiv.emit(t,{points:[a]})},k.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var e=this.glplot,t=this.camera,n=t.mouseListener,r=1===this.lastButtonState&&0===n.buttons,o=this.fullLayout;this.lastButtonState=n.buttons,this.cameraChanged();var i,a=n.x*e.pixelRatio,l=this.canvas.height-e.pixelRatio*n.y;if(t.boxEnabled&&"zoom"===o.dragmode){this.selectBox.enabled=!0;for(var u=this.selectBox.selectBox=[Math.min(t.boxStart[0],t.boxEnd[0]),Math.min(t.boxStart[1],t.boxEnd[1]),Math.max(t.boxStart[0],t.boxEnd[0]),Math.max(t.boxStart[1],t.boxEnd[1])],c=0;c<2;c++)t.boxStart[c]===t.boxEnd[c]&&(u[c]=e.dataBox[c],u[c+2]=e.dataBox[c+2]);e.setDirty()}else if(!t.panning&&this.isMouseOver){this.selectBox.enabled=!1;var d=o._size,f=this.xaxis.domain,h=this.yaxis.domain,p=(i=e.pick(a/e.pixelRatio+d.l+f[0]*d.w,l/e.pixelRatio-(d.t+(1-h[1])*d.h)))&&i.object._trace.handlePick(i);if(p&&r&&this.emitPointAction(p,"plotly_click"),i&&"skip"!==i.object._trace.hoverinfo&&o.hovermode&&p&&(!this.lastPickResult||this.lastPickResult.traceUid!==p.trace.uid||this.lastPickResult.dataCoord[0]!==p.dataCoord[0]||this.lastPickResult.dataCoord[1]!==p.dataCoord[1])){var m=p;this.lastPickResult={traceUid:p.trace?p.trace.uid:null,dataCoord:p.dataCoord.slice()},this.spikes.update({center:i.dataCoord}),m.screenCoord=[((e.viewBox[2]-e.viewBox[0])*(i.dataCoord[0]-e.dataBox[0])/(e.dataBox[2]-e.dataBox[0])+e.viewBox[0])/e.pixelRatio,(this.canvas.height-(e.viewBox[3]-e.viewBox[1])*(i.dataCoord[1]-e.dataBox[1])/(e.dataBox[3]-e.dataBox[1])-e.viewBox[1])/e.pixelRatio],this.emitPointAction(p,"plotly_hover");var g=this.fullData[m.trace.index]||{},v=m.pointIndex,y=s.castHoverinfo(g,o,v);if(y&&"all"!==y){var b=y.split("+");-1===b.indexOf("x")&&(m.traceCoord[0]=void 0),-1===b.indexOf("y")&&(m.traceCoord[1]=void 0),-1===b.indexOf("z")&&(m.traceCoord[2]=void 0),-1===b.indexOf("text")&&(m.textLabel=void 0),-1===b.indexOf("name")&&(m.name=void 0)}s.loneHover({x:m.screenCoord[0],y:m.screenCoord[1],xLabel:this.hoverFormatter("xaxis",m.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",m.traceCoord[1]),zLabel:m.traceCoord[2],text:m.textLabel,name:m.name,color:s.castHoverOption(g,v,"bgcolor")||m.color,borderColor:s.castHoverOption(g,v,"bordercolor"),fontFamily:s.castHoverOption(g,v,"font.family"),fontSize:s.castHoverOption(g,v,"font.size"),fontColor:s.castHoverOption(g,v,"font.color")},{container:this.svgContainer,gd:this.graphDiv})}}i||this.unhover(),e.draw()}},k.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),s.loneUnhover(this.svgContainer))},k.hoverFormatter=function(e,t){if(void 0!==t){var n=this[e];return a.tickText(n,n.c2l(t),"hover").text}}},{"../../components/fx":361,"../../lib/html2unicode":439,"../../lib/show_no_webgl_msg":462,"../../plots/cartesian/axes":488,"../../registry":532,"../cartesian/autorange":487,"../cartesian/constants":494,"../cartesian/constraints":496,"./camera":518,"./convert":519,"gl-plot2d":174,"gl-select-box":178,"gl-spikes2d":187,"webgl-context":300}],522:[function(e,t,n){"use strict";function r(e,t){var n,r,o=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)o[r]+=e[4*n+r]*t[n];return o}t.exports=function(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}},{}],523:[function(e,t,n){"use strict";var r=e("./font_attributes"),o=e("../components/color/attributes"),i=r({editType:"calc"});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=o.defaultLine,t.exports={font:i,title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"}),autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},template:{valType:"any",editType:"calc"},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},editType:"modebar"}}},{"../components/color/attributes":318,"./font_attributes":515}],524:[function(e,t,n){"use strict";t.exports={t:{valType:"number",dflt:0,editType:"arraydraw"},r:{valType:"number",dflt:0,editType:"arraydraw"},b:{valType:"number",dflt:0,editType:"arraydraw"},l:{valType:"number",dflt:0,editType:"arraydraw"},editType:"arraydraw"}},{}],525:[function(e,t,n){"use strict";var r=e("d3"),o=e("fast-isnumeric"),i=e("../registry"),a=e("../plot_api/plot_schema"),s=e("../plot_api/plot_template"),l=e("../lib"),u=e("../components/color"),c=e("../constants/numerical").BADNUM,d=e("../plots/cartesian/axis_ids"),f=e("./animation_attributes"),h=e("./frame_attributes"),p=l.relinkPrivateKeys,m=l._,g=t.exports={};l.extendFlat(g,i),g.attributes=e("./attributes"),g.attributes.type.values=g.allTypes,g.fontAttrs=e("./font_attributes"),g.layoutAttributes=e("./layout_attributes"),g.fontWeight="normal";var v=g.transformsRegistry,y=e("./command");g.executeAPICommand=y.executeAPICommand,g.computeAPICommandBindings=y.computeAPICommandBindings,g.manageCommandObserver=y.manageCommandObserver,g.hasSimpleAPICommandBindings=y.hasSimpleAPICommandBindings,g.redrawText=function(e){if(!((e=l.getGraphDiv(e)).data&&e.data[0]&&e.data[0].r))return new Promise(function(t){setTimeout(function(){i.getComponentMethod("annotations","draw")(e),i.getComponentMethod("legend","draw")(e),(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()}),t(g.previousPromises(e))},300)})},g.resize=function(e){return e=l.getGraphDiv(e),new Promise(function(t,n){function r(e){var t=window.getComputedStyle(e).display;return!t||"none"===t}e&&!r(e)||n(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||r(e))t(e);else{delete e.layout.width,delete e.layout.height;var n=e.changed;e.autoplay=!0,i.call("relayout",e,{autosize:!0}).then(function(){e.changed=n,t(e)})}},100)})},g.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})},g.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=l.ensureSingle(t._paper,"text","js-plot-link-container",function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var e=r.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)})}),o=n.node(),i={y:t._paper.attr("height")-9};document.body.contains(o)&&o.getComputedTextLength()>=t.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=t._paper.attr("width")-7),n.attr(i);var a=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),c=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&function(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",function(){g.sendDataToCloud(e)});else{var r=window.location.pathname.split("/"),o=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+o})}}(e,a),s.text(a.text()&&c.text()?" - ":"")}},g.sendDataToCloud=function(e){e.emit("plotly_beforeexport");var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL,n=r.select(e).append("div").attr("id","hiddenform").style("display","none"),o=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"}),i=o.append("input").attr({type:"text",name:"data"});return i.node().value=g.graphJson(e,!1,"keepdata"),o.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1};var b,_=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],x=["year","month","dayMonth","dayMonthYear"];function w(e,t){var n=e._context.locale,r=!1,o={};function a(e){for(var n=!0,i=0;i<t.length;i++){var a=t[i];o[a]||(e[a]?o[a]=e[a]:n=!1)}n&&(r=!0)}for(var s=0;s<2;s++){for(var l=e._context.locales,u=0;u<2;u++){var c=(l[n]||{}).format;if(c&&(a(c),r))break;l=i.localeRegistry}var d=n.split("-")[0];if(r||d===n)break;n=d}return r||a(i.localeRegistry.en.format),o}function k(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],o=r._module||v[r.type];if(o&&o.makesData)return!0}return!1}function E(e,t,n,r){for(var o=e.transforms,i=[e],a=0;a<o.length;a++){var s=o[a],l=v[s.type];l&&l.transform&&(i=l.transform(i,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:a}))}return i}function T(e){e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}function A(e){for(var t=0;t<e.length;t++)e[t].clearCalc()}g.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,o=e._fullLayout||{};if(o._skipDefaults)delete o._skipDefaults;else{var a,s=e._fullLayout={},u=e.layout||{},c=e._fullData||[],f=e._fullData=[],h=e.data||[],v=e.calcdata||[],y=e._context||{};e._transitionData||g.createTransitionData(e),s._dfltTitle={plot:m(e,"Click to enter Plot title"),x:m(e,"Click to enter X axis title"),y:m(e,"Click to enter Y axis title"),colorbar:m(e,"Click to enter Colorscale title"),annotation:m(e,"new text")},s._traceWord=m(e,"trace");var k=w(e,_);if(s._mapboxAccessToken=y.mapboxAccessToken,o._initialAutoSizeIsDone){var E=o.width,T=o.height;g.supplyLayoutGlobalDefaults(u,s,k),u.width||(s.width=E),u.height||(s.height=T),g.sanitizeMargins(s)}else{g.supplyLayoutGlobalDefaults(u,s,k);var A=!u.width||!u.height,S=s.autosize,M=y.autosizable,C=A&&(S||M);C?g.plotAutoSize(e,u,s):A&&g.sanitizeMargins(s),!S&&A&&(u.width=s.width,u.height=s.height)}s._d3locale=function(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),r.locale(e)}(k,s.separators),s._extraFormat=w(e,x),s._initialAutoSizeIsDone=!0,s._dataLength=h.length,s._modules=[],s._visibleModules=[],s._basePlotModules=[];var j=s._subplots=function(){var e,t,n={};if(!b){b=[];var r=i.subplotsRegistry;for(var o in r){var a=r[o],s=a.attr;if(s&&(b.push(o),Array.isArray(s)))for(t=0;t<s.length;t++)l.pushUnique(b,s[t])}}for(e=0;e<b.length;e++)n[b[e]]=[];return n}(),O=s._splomAxes={x:{},y:{}},N=s._splomSubplots={};s._splomGridDflt={},s._scatterStackOpts={},s._firstScatter={},s._requestRangeslider={},s._traceUids=function(e,t){var n,r,o=t.length,i=[];for(n=0;n<e.length;n++){var a=e[n]._fullInput;a!==r&&i.push(a),r=a}var s=i.length,u=new Array(o),c={};function d(e,t){u[t]=e,c[e]=1}function f(e,t){if(e&&"string"==typeof e&&!c[e])return d(e,t),!0}for(n=0;n<o;n++)f(t[n].uid,n)||n<s&&f(i[n].uid,n)||d(l.randstr(c),n);return u}(c,h),s._globalTransforms=(e._context||{}).globalTransforms,g.supplyDataDefaults(h,f,u,s);var R=Object.keys(O.x),P=Object.keys(O.y);if(R.length>1&&P.length>1){for(i.getComponentMethod("grid","sizeDefaults")(u,s),a=0;a<R.length;a++)l.pushUnique(j.xaxis,R[a]);for(a=0;a<P.length;a++)l.pushUnique(j.yaxis,P[a]);for(var I in N)l.pushUnique(j.cartesian,I)}if(s._has=g._hasPlotType.bind(s),c.length===f.length)for(a=0;a<f.length;a++)p(f[a],c[a]);g.supplyLayoutModuleDefaults(u,s,f,e._transitionData);var D=s._visibleModules,L=[];for(a=0;a<D.length;a++){var B=D[a].crossTraceDefaults;B&&l.pushUnique(L,B)}for(a=0;a<L.length;a++)L[a](f,s);s._hasOnlyLargeSploms=1===s._basePlotModules.length&&"splom"===s._basePlotModules[0].name&&R.length>15&&P.length>15&&0===s.shapes.length&&0===s.images.length,s._hasCartesian=s._has("cartesian"),s._hasGeo=s._has("geo"),s._hasGL3D=s._has("gl3d"),s._hasGL2D=s._has("gl2d"),s._hasTernary=s._has("ternary"),s._hasPie=s._has("pie"),g.linkSubplots(f,s,c,o),g.cleanPlot(f,s,c,o),p(s,o),g.doAutoMargin(e);var F=d.list(e);for(a=0;a<F.length;a++){var z=F[a];z.setScale()}n||v.length!==f.length||g.supplyDefaultsUpdateCalc(v,f)}},g.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=e[n][0];if(o&&o.trace){var i=o.trace;if(i._hasCalcTransform){var a,s,u,c=i._arrayAttrs;for(a=0;a<c.length;a++)s=c[a],u=l.nestedProperty(i,s).get().slice(),l.nestedProperty(r,s).set(u)}o.trace=r}}},g.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},g._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var o=r[t].name;if(o===e)return!0;var a=i.modules[o];if(a&&a.categories[e])return!0}return!1},g.cleanPlot=function(e,t,n,r){var o,i,a=r._basePlotModules||[];for(o=0;o<a.length;o++){var s=a[o];s.clean&&s.clean(e,t,n,r)}var l=r._has&&r._has("gl"),u=t._has&&t._has("gl");l&&!u&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var c=!!r._infolayer;e:for(o=0;o<n.length;o++){var d=n[o],f=d.uid;for(i=0;i<e.length;i++){var h=e[i];if(f===h.uid)continue e}c&&r._infolayer.select(".cb"+f).remove()}r._zoomlayer&&r._zoomlayer.selectAll(".select-outline").remove()},g.linkSubplots=function(e,t,n,r){var o,i,a=r._plots||{},s=t._plots={},l=t._subplots,u={_fullData:e,_fullLayout:t},c=l.cartesian.concat(l.gl2d||[]);for(o=0;o<c.length;o++){var f,h=c[o],p=a[h],m=d.getFromId(u,h,"x"),g=d.getFromId(u,h,"y");for(p?f=s[h]=p:(f=s[h]={}).id=h,f.xaxis=m,f.yaxis=g,f._hasClipOnAxisFalse=!1,i=0;i<e.length;i++){var v=e[i];if(v.xaxis===f.xaxis._id&&v.yaxis===f.yaxis._id&&!1===v.cliponaxis){f._hasClipOnAxisFalse=!0;break}}}var y=d.list(u,null,!0);for(o=0;o<y.length;o++){var b=y[o],_=null;b.overlaying&&(_=d.getFromId(u,b.overlaying))&&_.overlaying&&(b.overlaying=!1,_=null),b._mainAxis=_||b,_&&(b.domain=_.domain.slice()),b._anchorAxis="free"===b.anchor?null:d.getFromId(u,b.anchor)}},g.clearExpandedTraceDefaultColors=function(e){var t,n,r;for(n=[],(t=e._module._colorAttrs)||(e._module._colorAttrs=t=[],a.crawl(e._module.attributes,function(e,r,o,i){n[i]=r,n.length=i+1,"color"===e.valType&&void 0===e.dflt&&t.push(n.join("."))})),r=0;r<t.length;r++){var o=l.nestedProperty(e,"_input."+t[r]);o.get()||l.nestedProperty(e,t[r]).set(null)}},g.supplyDataDefaults=function(e,t,n,r){var o,a,u,c=r._modules,d=r._visibleModules,f=r._basePlotModules,h=0,m=0;function v(e){t.push(e);var n=e._module;n&&(l.pushUnique(c,n),!0===e.visible&&l.pushUnique(d,n),l.pushUnique(f,e._module.basePlotModule),h++,!1!==e._input.visible&&m++)}r._transformModules=[];var y={},b=[],_=(n.template||{}).data||{},x=s.traceTemplater(_);for(o=0;o<e.length;o++){if(u=e[o],(a=x.newTrace(u)).uid=r._traceUids[o],g.supplyTraceDefaults(u,a,m,r,o),a.index=o,a._input=u,a._expandedIndex=h,a.transforms&&a.transforms.length)for(var w=!1!==u.visible&&!1===a.visible,k=E(a,t,n,r),T=0;T<k.length;T++){var A=k[T],S={_template:a._template,type:a.type,uid:a.uid+T};w&&!1===A.visible&&delete A.visible,g.supplyTraceDefaults(A,S,h,r,o),p(S,A),S.index=o,S._input=u,S._fullInput=a,S._expandedIndex=h,S._expandedInput=A,v(S)}else a._fullInput=a,a._expandedInput=a,v(a);i.traceIs(a,"carpetAxis")&&(y[a.carpet]=a),i.traceIs(a,"carpetDependent")&&b.push(o)}for(o=0;o<b.length;o++)if((a=t[b[o]]).visible){var M=y[a.carpet];a._carpet=M,M&&M.visible?(a.xaxis=M.xaxis,a.yaxis=M.yaxis):a.visible=!1}},g.supplyAnimationDefaults=function(e){var t;e=e||{};var n={};function r(t,r){return l.coerce(e||{},n,f,t,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=g.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=g.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=g.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=g.supplyAnimationTransitionDefaults(e.transition||{});return n},g.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,f.frame,n,r)}return n("duration"),n("redraw"),t},g.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,f.transition,n,r)}return n("duration"),n("easing"),t},g.supplyFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e,t,h,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),t},g.supplyTraceDefaults=function(e,t,n,r,o){var a,s=r.colorway||u.defaults,c=s[n%s.length];function d(n,r){return l.coerce(e,t,g.attributes,n,r)}var f=d("visible");d("type"),d("name",r._traceWord+" "+o);var h,p,m,v=g.getModule(t);if(t._module=v,v){var y=v.basePlotModule,b=y.attr,_=y.attributes;if(b&&_){var x=r._subplots,w="";if("gl2d"!==y.name||f){if(Array.isArray(b))for(a=0;a<b.length;a++){var k=b[a],E=l.coerce(e,t,_,k);x[k]&&l.pushUnique(x[k],E),w+=E}else w=l.coerce(e,t,_,b);x[y.name]&&l.pushUnique(x[y.name],w)}}}return f&&(d("customdata"),d("ids"),i.traceIs(t,"showLegend")?(t._dfltShowLegend=!0,d("showlegend"),d("legendgroup")):t._dfltShowLegend=!1,h="hoverlabel",p="",m=function(){i.getComponentMethod("fx","supplyDefaults")(e,t,c,r)},v&&h in v.attributes&&void 0===v.attributes[h]||(m&&"function"==typeof m?m():d(h,p)),v&&(v.supplyDefaults(e,t,c,r),l.coerceHoverinfo(e,t,r)),i.traceIs(t,"noOpacity")||d("opacity"),i.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),v&&v.selectPoints&&d("selectedpoints"),g.supplyTransformDefaults(e,t,r)),t},g.hasMakesDataTransform=k,g.supplyTransformDefaults=function(e,t,n){if(t._length||k(e)){var r=n._globalTransforms||[],o=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var i=e.transforms||[],a=r.concat(i),s=t.transforms=[],u=0;u<a.length;u++){var c,d=a[u],f=d.type,h=v[f],p=!(d._module&&d._module===h),m=h&&"function"==typeof h.transform;h||l.warn("Unrecognized transform type "+f+"."),h&&h.supplyDefaults&&(p||m)?((c=h.supplyDefaults(d,t,n,e)).type=f,c._module=h,l.pushUnique(o,h)):c=l.extendFlat({},d),s.push(c)}}},g.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return l.coerce(e,t,g.layoutAttributes,n,r)}var o=e.template;l.isPlainObject(o)&&(t.template=o,t._template=o.layout,t._dataTemplate=o.data);var a=l.coerceFont(r,"font");r("title",t._dfltTitle.plot),l.coerceFont(r,"titlefont",{family:a.family,size:Math.round(1.4*a.size),color:a.color}),r("autosize",!(e.width&&e.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),e.width&&e.height&&g.sanitizeMargins(t),i.getComponentMethod("grid","sizeDefaults")(e,t),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision"),r("modebar.orientation"),r("modebar.bgcolor",u.addOpacity(t.paper_bgcolor,.5));var s=u.contrast(u.rgb(t.modebar.bgcolor));r("modebar.color",u.addOpacity(s,.3)),r("modebar.activecolor",u.addOpacity(s,.7)),i.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),i.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,r)},g.plotAutoSize=function(e,t,n){var r,i,a=e._context||{},s=a.frameMargins,u=l.isPlotDiv(e);if(u&&e.emit("plotly_autosize"),a.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var c=u?window.getComputedStyle(e):{};if(r=parseFloat(c.width)||parseFloat(c.maxWidth)||n.width,i=parseFloat(c.height)||parseFloat(c.maxHeight)||n.height,o(s)&&s>0){var d=1-2*s;r=Math.round(d*r),i=Math.round(d*i)}}var f=g.layoutAttributes.width.min,h=g.layoutAttributes.height.min;r<f&&(r=f),i<h&&(i=h);var p=!t.width&&Math.abs(n.width-r)>1,m=!t.height&&Math.abs(n.height-i)>1;(m||p)&&(p&&(n.width=r),m&&(n.height=i)),e._initialAutoSize||(e._initialAutoSize={width:r,height:i}),g.sanitizeMargins(n)},g.supplyLayoutModuleDefaults=function(e,t,n,r){var o,a,s,u=i.componentsRegistry,c=t._basePlotModules,d=i.subplotsRegistry.cartesian;for(o in u)(s=u[o]).includeBasePlot&&s.includeBasePlot(e,t);for(var f in c.length||c.push(d),t._has("cartesian")&&(i.getComponentMethod("grid","contentDefaults")(e,t),d.finalizeSubplots(e,t)),t._subplots)t._subplots[f].sort(l.subplotSort);for(a=0;a<c.length;a++)(s=c[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var h=t._modules;for(a=0;a<h.length;a++)(s=h[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var p=t._transformModules;for(a=0;a<p.length;a++)(s=p[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n,r);for(o in u)(s=u[o]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n)},g.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),void 0!==t._geocontainer&&t._geocontainer.remove(),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),l.clearThrottle(),l.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._replotPending,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},g.style=function(e){var t,n=e._fullLayout._visibleModules,r=[];for(t=0;t<n.length;t++){var o=n[t];o.style&&l.pushUnique(r,o.style)}for(t=0;t<r.length;t++)r[t](e)},g.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,o=e.margin,i=n-(o.l+o.r),a=r-(o.t+o.b);i<0&&(t=(n-1)/(o.l+o.r),o.l=Math.floor(t*o.l),o.r=Math.floor(t*o.r)),a<0&&(t=(r-1)/(o.t+o.b),o.t=Math.floor(t*o.t),o.b=Math.floor(t*o.b))}},g.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},g.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1},g.autoMargin=function(e,t,n){var r=e._fullLayout;T(r);var o=r._pushmargin,i=r._pushmarginIds;if(!1!==r.margin.autoexpand){if(n){var a=n.pad;if(void 0===a){var s=r.margin;a=Math.min(12,s.l,s.r,s.t,s.b)}n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0);var l=void 0!==n.xl?n.xl:n.x,u=void 0!==n.xr?n.xr:n.x,c=void 0!==n.yt?n.yt:n.y,d=void 0!==n.yb?n.yb:n.y;o[t]={l:{val:l,size:n.l+a},r:{val:u,size:n.r+a},b:{val:d,size:n.b+a},t:{val:c,size:n.t+a}},i[t]=1}else delete o[t],delete i[t];r._replotting||g.doAutoMargin(e)}},g.doAutoMargin=function(e){var t=e._fullLayout;t._size||(t._size={}),T(t);var n=t._size,r=JSON.stringify(n),a=Math.max(t.margin.l||0,0),s=Math.max(t.margin.r||0,0),l=Math.max(t.margin.t||0,0),u=Math.max(t.margin.b||0,0),c=t._pushmargin,d=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var f in c)d[f]||delete c[f];for(var h in c.base={l:{val:0,size:a},r:{val:1,size:s},t:{val:1,size:l},b:{val:0,size:u}},c){var p=c[h].l||{},m=c[h].b||{},g=p.val,v=p.size,y=m.val,b=m.size;for(var _ in c){if(o(v)&&c[_].r){var x=c[_].r.val,w=c[_].r.size;if(x>g){var k=(v*x+(w-t.width)*g)/(x-g),E=(w*(1-g)+(v-t.width)*(1-x))/(x-g);k>=0&&E>=0&&k+E>a+s&&(a=k,s=E)}}if(o(b)&&c[_].t){var A=c[_].t.val,S=c[_].t.size;if(A>y){var M=(b*A+(S-t.height)*y)/(A-y),C=(S*(1-y)+(b-t.height)*(1-A))/(A-y);M>=0&&C>=0&&M+C>u+l&&(u=M,l=C)}}}}}if(n.l=Math.round(a),n.r=Math.round(s),n.t=Math.round(l),n.b=Math.round(u),n.p=Math.round(t.margin.pad),n.w=Math.round(t.width)-n.l-n.r,n.h=Math.round(t.height)-n.t-n.b,!t._replotting&&"{}"!==r&&r!==JSON.stringify(t._size))return"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1,i.call("plot",e)},g.graphJson=function(e,t,n,r,o){(o&&t&&!e._fullData||o&&!t&&!e._fullLayout)&&g.supplyDefaults(e);var i=o?e._fullData:e.data,a=o?e._fullLayout:e.layout,s=(e._transitionData||{})._frames;function u(e){if("function"==typeof e)return null;if(l.isPlainObject(e)){var t,r,o={};for(t in e)if("function"!=typeof e[t]&&-1===["_","["].indexOf(t.charAt(0))){if("keepdata"===n){if("src"===t.substr(t.length-3))continue}else if("keepstream"===n){if("string"==typeof(r=e[t+"src"])&&r.indexOf(":")>0&&!l.isPlainObject(e.stream))continue}else if("keepall"!==n&&"string"==typeof(r=e[t+"src"])&&r.indexOf(":")>0)continue;o[t]=u(e[t])}return o}return Array.isArray(e)?e.map(u):l.isTypedArray(e)?l.simpleMap(e,l.identity):l.isJSDate(e)?l.ms2DateTimeLocal(+e):e}var c={data:(i||[]).map(function(e){var n=u(e);return t&&delete n.fit,n})};return t||(c.layout=u(a)),e.framework&&e.framework.isPolar&&(c=e.framework.getConfig()),s&&(c.frames=u(s)),"object"===r?c:JSON.stringify(c)},g.modifyFrames=function(e,t){var n,r,o,i=e._transitionData._frames,a=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch((r=t[n]).type){case"replace":o=r.value;var s=(i[r.index]||{}).name,l=o.name;i[r.index]=a[l]=o,l!==s&&(delete a[s],a[l]=o);break;case"insert":o=r.value,a[o.name]=o,i.splice(r.index,0,o);break;case"delete":o=i[r.index],delete a[o.name],i.splice(r.index,1)}return Promise.resolve()},g.computeFrame=function(e,t){var n,r,o,i,a=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=a[t.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===u.indexOf(s.name);)l.push(s),u.push(s.name);for(var c={};s=l.pop();)if(s.layout&&(c.layout=g.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)null!=(o=r[n])&&(-1===(i=c.traces.indexOf(o))&&(i=c.data.length,c.traces[i]=o),c.data[i]=g.extendTrace(c.data[i],s.data[n]))}return c},g.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var o=n[r];o&&o.name&&(t[o.name]=o)}},g.extendObjectWithContainers=function(e,t,n){var r,o,i,a,s,u,c,d,f=l.extendDeepNoArrays({},t||{}),h=l.expandObjectPaths(f),p={};if(n&&n.length)for(i=0;i<n.length;i++)r=l.nestedProperty(h,n[i]),void 0===(o=r.get())?l.nestedProperty(p,n[i]).set(null):(r.set(null),l.nestedProperty(p,n[i]).set(o));if(e=l.extendDeepNoArrays(e||{},h),n&&n.length)for(i=0;i<n.length;i++)if(s=l.nestedProperty(p,n[i]),c=s.get()){for(u=l.nestedProperty(e,n[i]),d=u.get(),Array.isArray(d)||(d=[],u.set(d)),a=0;a<c.length;a++){var m=c[a];d[a]=null===m?null:g.extendObjectWithContainers(d[a],m)}u.set(d)}return e},g.dataArrayContainers=["transforms","dimensions"],g.layoutArrayContainers=i.layoutArrayContainers,g.extendTrace=function(e,t){return g.extendObjectWithContainers(e,t,g.dataArrayContainers)},g.extendLayout=function(e,t){return g.extendObjectWithContainers(e,t,g.layoutArrayContainers)},g.transition=function(e,t,n,r,o,a){var s,u,c=Array.isArray(t)?t.length:0,d=r.slice(0,c),f=[],h=!1;for(s=0;s<d.length;s++){u=d[s];var p=e._fullData[u];p._module}var m=[g.previousPromises,function(){if(e._transitionData)return e._transitioning=!1,function(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}(e._transitionData._interruptCallbacks)},function(){var r;for(r=0;r<d.length;r++){var o=d[r],i=e._fullData[o],a=i._module;a&&(a.animatable&&f.push(o),e.data[d[r]]=g.extendTrace(e.data[d[r]],t[r]))}var s=l.expandObjectPaths(l.extendDeepNoArrays({},n)),u=/^[xy]axis[0-9]*$/;for(var c in s)u.test(c)&&delete s[c].range;return g.extendLayout(e.layout,s),delete e.calcdata,g.supplyDefaults(e),g.doCalcdata(e),Promise.resolve()},g.rehover,function(){return e.emit("plotly_transitioning",[]),new Promise(function(t){e._transitioning=!0,a.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){h=!0}),o.redraw&&e._transitionData._interruptCallbacks.push(function(){return i.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var r,s,u=0,c=0;function d(){return u++,function(){var n;c++,h||c!==u||(n=t,e._transitionData&&(function(e){if(e)for(;e.length;)e.shift()}(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(o.redraw)return i.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(n)))}}var p=e._fullLayout._basePlotModules,m=!1;if(n)for(s=0;s<p.length;s++)if(p[s].transitionAxes){var g=l.expandObjectPaths(n);m=p[s].transitionAxes(e,g,a,d)||m}for(m?((r=l.extendFlat({},a)).duration=0,f=null):r=a,s=0;s<p.length;s++)p[s].plot(e,f,r,d);setTimeout(d())})}],v=l.syncOrAsync(m,e);return v&&v.then||(v=Promise.resolve()),v.then(function(){return e})},g.doCalcdata=function(e,t){var n,r,o,s,u=d.list(e),f=e._fullData,h=e._fullLayout,p=new Array(f.length),m=(e.calcdata||[]).slice(0);for(e.calcdata=p,h._numBoxes=0,h._numViolins=0,h._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,h._piecolormap={},o=0;o<f.length;o++)Array.isArray(t)&&-1===t.indexOf(o)&&(p[o]=m[o]);for(o=0;o<f.length;o++)(n=f[o])._arrayAttrs=a.findArrayAttributes(n),n._extremes={};var g=h._subplots.polar||[];for(o=0;o<g.length;o++)u.push(h[g[o]].radialaxis,h[g[o]].angularaxis);A(u);var y=!1;for(o=0;o<f.length;o++)if(!0===(n=f[o]).visible&&n.transforms){if((r=n._module)&&r.calc){var b=r.calc(e,n);b[0]&&b[0].t&&b[0].t._scene&&delete b[0].t._scene.dirty}for(s=0;s<n.transforms.length;s++){var _=n.transforms[s];(r=v[_.type])&&r.calcTransform&&(n._hasCalcTransform=!0,y=!0,r.calcTransform(e,n,_))}}function x(t,o){if(n=f[t],!!(r=n._module).isContainer===o){var i=[];if(!0===n.visible){delete n._indexToPoints;var a=n.transforms||[];for(s=a.length-1;s>=0;s--)if(a[s].enabled){n._indexToPoints=a[s]._indexToPoints;break}r&&r.calc&&(i=r.calc(e,n))}Array.isArray(i)&&i[0]||(i=[{x:c,y:c}]),i[0].t||(i[0].t={}),i[0].trace=n,p[t]=i}}for(y&&A(u),o=0;o<f.length;o++)x(o,!0);for(o=0;o<f.length;o++)x(o,!1);!function(e){var t,n,r,o=e._fullLayout,i=o._visibleModules,a={};for(n=0;n<i.length;n++){var s=i[n],u=s.crossTraceCalc;if(u){var c=s.basePlotModule.name;a[c]?l.pushUnique(a[c],u):a[c]=[u]}}for(r in a){var d=a[r],f=o._subplots[r];if(Array.isArray(f))for(t=0;t<f.length;t++){var h=f[t],p="cartesian"===r?o._plots[h]:o[h];for(n=0;n<d.length;n++)d[n](e,p,h)}else for(n=0;n<d.length;n++)d[n](e)}}(e),i.getComponentMethod("fx","calc")(e),i.getComponentMethod("errorbars","calc")(e)},g.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},g.generalUpdatePerTraceModule=function(e,t,n,r){var o,i=t.traceHash,a={};for(o=0;o<n.length;o++){var s=n[o],u=s[0].trace;u.visible&&(a[u.type]=a[u.type]||[],a[u.type].push(s))}for(var c in i)if(!a[c]){var d=i[c][0],f=d[0].trace;f.visible=!1,a[c]=[d]}for(var h in a){var p=a[h],m=p[0][0].trace._module;m.plot(e,t,l.filterVisible(p),r)}t.traceHash=a}},{"../components/color":319,"../constants/numerical":420,"../lib":441,"../plot_api/plot_schema":477,"../plot_api/plot_template":478,"../plots/cartesian/axis_ids":491,"../registry":532,"./animation_attributes":483,"./attributes":485,"./command":513,"./font_attributes":515,"./frame_attributes":516,"./layout_attributes":523,d3:85,"fast-isnumeric":149}],526:[function(e,t,n){"use strict";var r=e("../../../traces/scatter/attributes"),o=r.marker,i=e("../../../lib/extend").extendFlat;["Area traces are deprecated!","Please switch to the *barpolar* trace type."].join(" "),t.exports={r:i({},r.r,{}),t:i({},r.t,{}),marker:{color:i({},o.color,{}),size:i({},o.size,{}),symbol:i({},o.symbol,{}),opacity:i({},o.opacity,{}),editType:"calc"}}},{"../../../lib/extend":432,"../../../traces/scatter/attributes":592}],527:[function(e,t,n){"use strict";var r=e("../../cartesian/layout_attributes"),o=e("../../../lib/extend").extendFlat,i=e("../../../plot_api/edit_types").overrideAll,a=["Legacy polar charts are deprecated!","Please switch to *polar* subplots."].join(" "),s=o({},r.domain,{});function l(e,t){var n={showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number",description:a},visible:{valType:"boolean"}};return o({},t,n)}t.exports=i({radialaxis:l(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:s,orientation:{valType:"number"}}),angularaxis:l(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:s}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../../lib/extend":432,"../../../plot_api/edit_types":471,"../../cartesian/layout_attributes":501}],528:[function(e,t,n){"use strict";var r=t.exports=e("./micropolar");r.manager=e("./micropolar_manager")},{"./micropolar":529,"./micropolar_manager":530}],529:[function(e,t,n){var r=e("d3"),o=e("../../../lib"),i=o.extendDeepAll,a=e("../../../constants/alignment").MID_SHIFT,s=t.exports={version:"0.2.2"};s.Axis=function(){var e,t,n,o,l={data:[],layout:{}},u={},c={},d=r.dispatch("hover"),f={render:function(u){return function(u){t=u||t;var d=l.data,f=l.layout;("string"==typeof t||t.nodeName)&&(t=r.select(t)),t.datum(d).each(function(t,l){var u=t.slice();c={data:s.util.cloneJson(u),layout:s.util.cloneJson(f)};var d=0;u.forEach(function(e,t){e.color||(e.color=f.defaultColorRange[d],d=(d+1)%f.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),c.data[t].color=e.color,c.data[t].strokeColor=e.strokeColor,c.data[t].strokeDash=e.strokeDash,c.data[t].strokeSize=e.strokeSize});var h=u.filter(function(e,t){var n=e.visible;return void 0===n||!0===n}),p=!1,m=h.map(function(e,t){return p=p||void 0!==e.groupId,e});if(p){var g=r.nest().key(function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"}).entries(m),v=[],y=g.map(function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,r){e.yStack=[n],v.push(n),n=s.util.sumArrays(e.r,n)}),e.values});h=r.merge(y)}h.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var b=Math.min(f.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2;b=Math.max(10,b);var _,x=[f.margin.left+b,f.margin.top+b];_=p?[0,r.max(s.util.sumArrays(s.util.arrayLast(h).r[0],s.util.arrayLast(v)))]:r.extent(s.util.flattenArray(h.map(function(e,t){return e.r}))),f.radialAxis.domain!=s.DATAEXTENT&&(_[0]=0),n=r.scale.linear().domain(f.radialAxis.domain!=s.DATAEXTENT&&f.radialAxis.domain?f.radialAxis.domain:_).range([0,b]),c.layout.radialAxis.domain=n.domain();var w,k=s.util.flattenArray(h.map(function(e,t){return e.t})),E="string"==typeof k[0];E&&(k=s.util.deduplicate(k),w=k.slice(),k=r.range(k.length),h=h.map(function(e,t){var n=e;return e.t=[k],p&&(n.yStack=e.yStack),n}));var T=h.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===h.length,A=null===f.needsEndSpacing?E||!T:f.needsEndSpacing,S=f.angularAxis.domain&&f.angularAxis.domain!=s.DATAEXTENT&&!E&&f.angularAxis.domain[0]>=0?f.angularAxis.domain:r.extent(k),M=Math.abs(k[1]-k[0]);T&&!E&&(M=0);var C=S.slice();A&&E&&(C[1]+=M);var j=f.angularAxis.ticksCount||4;j>8&&(j=j/(j/8)+j%8),f.angularAxis.ticksStep&&(j=(C[1]-C[0])/j);var O=f.angularAxis.ticksStep||(C[1]-C[0])/(j*(f.minorTicks+1));w&&(O=Math.max(Math.round(O),1)),C[2]||(C[2]=O);var N=r.range.apply(this,C);if(N=N.map(function(e,t){return parseFloat(e.toPrecision(12))}),o=r.scale.linear().domain(C.slice(0,2)).range("clockwise"===f.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=o.domain(),c.layout.angularAxis.endPadding=A?M:0,void 0===(e=r.select(this).select("svg.chart-root"))||e.empty()){var R=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),P=this.appendChild(this.ownerDocument.importNode(R.documentElement,!0));e=r.select(P)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var I,D=e.select(".chart-group"),L={fill:"none",stroke:f.tickColor},B={"font-size":f.font.size,"font-family":f.font.family,fill:f.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+f.font.outlineColor}).join(",")};if(f.showLegend){I=e.select(".legend-group").attr({transform:"translate("+[b,f.margin.top]+")"}).style({display:"block"});var F=h.map(function(e,t){var n=s.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n});s.Legend().config({data:h.map(function(e,t){return e.name||"Element"+t}),legendConfig:i({},s.Legend.defaultConfig().legendConfig,{container:I,elements:F,reverseOrder:f.legend.reverseOrder})})();var z=I.node().getBBox();b=Math.min(f.width-z.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2,b=Math.max(10,b),x=[f.margin.left+b,f.margin.top+b],n.range([0,b]),c.layout.radialAxis.domain=n.domain(),I.attr("transform","translate("+[x[0]+b,x[1]-b]+")")}else I=e.select(".legend-group").style({display:"none"});e.attr({width:f.width,height:f.height}).style({opacity:f.opacity}),D.attr("transform","translate("+x+")").style({cursor:"crosshair"});var U=[(f.width-(f.margin.left+f.margin.right+2*b+(z?z.width:0)))/2,(f.height-(f.margin.top+f.margin.bottom+2*b))/2];if(U[0]=Math.max(0,U[0]),U[1]=Math.max(0,U[1]),e.select(".outer-group").attr("transform","translate("+U+")"),f.title){var q=e.select("g.title-group text").style(B).text(f.title),V=q.node().getBBox();q.attr({x:x[0]-V.width/2,y:x[1]-b-20})}var H=e.select(".radial.axis-group");if(f.radialAxis.gridLinesVisible){var W=H.selectAll("circle.grid-circle").data(n.ticks(5));W.enter().append("circle").attr({class:"grid-circle"}).style(L),W.attr("r",n),W.exit().remove()}H.select("circle.outside-circle").attr({r:b}).style(L);var G=e.select("circle.background-circle").attr({r:b}).style({fill:f.backgroundColor,stroke:f.stroke});function X(e,t){return o(e)%360+f.orientation}if(f.radialAxis.visible){var K=r.svg.axis().scale(n).ticks(5).tickSize(5);H.call(K).attr({transform:"rotate("+f.radialAxis.orientation+")"}),H.selectAll(".domain").style(L),H.selectAll("g>text").text(function(e,t){return this.textContent+f.radialAxis.ticksSuffix}).style(B).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===f.radialAxis.tickOrientation?"rotate("+-f.radialAxis.orientation+") translate("+[0,B["font-size"]]+")":"translate("+[0,B["font-size"]]+")"}}),H.selectAll("g>line").style({stroke:"black"})}var Y=e.select(".angular.axis-group").selectAll("g.angular-tick").data(N),$=Y.enter().append("g").classed("angular-tick",!0);Y.attr({transform:function(e,t){return"rotate("+X(e)+")"}}).style({display:f.angularAxis.visible?"block":"none"}),Y.exit().remove(),$.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(f.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(f.minorTicks+1)==0)}).style(L),$.selectAll(".minor").style({stroke:f.minorTickColor}),Y.select("line.grid-line").attr({x1:f.tickLength?b-f.tickLength:0,x2:b}).style({display:f.angularAxis.gridLinesVisible?"block":"none"}),$.append("text").classed("axis-text",!0).style(B);var Z=Y.select("text.axis-text").attr({x:b+f.labelOffset,dy:a+"em",transform:function(e,t){var n=X(e),r=b+f.labelOffset,o=f.angularAxis.tickOrientation;return"horizontal"==o?"rotate("+-n+" "+r+" 0)":"radial"==o?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:f.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(f.minorTicks+1)!=0?"":w?w[e]+f.angularAxis.ticksSuffix:e+f.angularAxis.ticksSuffix}).style(B);f.angularAxis.rewriteTicks&&Z.text(function(e,t){return t%(f.minorTicks+1)!=0?"":f.angularAxis.rewriteTicks(this.textContent,t)});var Q=r.max(D.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));I.attr({transform:"translate("+[b+Q,f.margin.top]+")"});var J=e.select("g.geometry-group").selectAll("g").size()>0,ee=e.select("g.geometry-group").selectAll("g.geometry").data(h);if(ee.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),ee.exit().remove(),h[0]||J){var te=[];h.forEach(function(e,t){var r={};r.radialScale=n,r.angularScale=o,r.container=ee.filter(function(e,n){return n==t}),r.geometry=e.geometry,r.orientation=f.orientation,r.direction=f.direction,r.index=t,te.push({data:e,geometryConfig:r})});var ne=r.nest().key(function(e,t){return void 0!==e.data.groupId||"unstacked"}).entries(te),re=[];ne.forEach(function(e,t){"unstacked"===e.key?re=re.concat(e.values.map(function(e,t){return[e]})):re.push(e.values)}),re.forEach(function(e,t){var n;n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map(function(e,t){return i(s[n].defaultConfig(),e)});s[n]().config(r)()})}var oe,ie,ae=e.select(".guides-group"),se=e.select(".tooltips-group"),le=s.tooltipPanel().config({container:se,fontSize:8})(),ue=s.tooltipPanel().config({container:se,fontSize:8})(),ce=s.tooltipPanel().config({container:se,hasTick:!0})();if(!E){var de=ae.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});D.on("mousemove.angular-guide",function(e,t){var n=s.util.getMousePos(G).angle;de.attr({x2:-b,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-f.orientation)%360;oe=o.invert(r);var i=s.util.convertToCartesian(b+12,n+180);le.text(s.util.round(oe)).move([i[0]+x[0],i[1]+x[1]])}).on("mouseout.angular-guide",function(e,t){ae.select("line").style({opacity:0})})}var fe=ae.select("circle").style({stroke:"grey",fill:"none"});D.on("mousemove.radial-guide",function(e,t){var r=s.util.getMousePos(G).radius;fe.attr({r:r}).style({opacity:.5}),ie=n.invert(s.util.getMousePos(G).radius);var o=s.util.convertToCartesian(r,f.radialAxis.orientation);ue.text(s.util.round(ie)).move([o[0]+x[0],o[1]+x[1]])}).on("mouseout.radial-guide",function(e,t){fe.style({opacity:0}),ce.hide(),le.hide(),ue.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,n){var o=r.select(this),i=this.style.fill,a="black",l=this.style.opacity||1;if(o.attr({"data-opacity":l}),i&&"none"!==i){o.attr({"data-fill":i}),a=r.hsl(i).darker().toString(),o.style({fill:a,opacity:1});var u={t:s.util.round(t[0]),r:s.util.round(t[1])};E&&(u.t=w[t[0]]);var c="t: "+u.t+", r: "+u.r,d=this.getBoundingClientRect(),f=e.node().getBoundingClientRect(),h=[d.left+d.width/2-U[0]-f.left,d.top+d.height/2-U[1]-f.top];ce.config({color:a}).text(c),ce.move(h)}else i=this.style.stroke||"black",o.attr({"data-stroke":i}),a=r.hsl(i).darker().toString(),o.style({stroke:a,opacity:1})}).on("mousemove.tooltip",function(e,t){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&ce.show()}).on("mouseout.tooltip",function(e,t){ce.hide();var n=r.select(this),o=n.attr("data-fill");o?n.style({fill:o,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})})}(u),this},config:function(e){if(!arguments.length)return l;var t=s.util.cloneJson(e);return t.data.forEach(function(e,t){l.data[t]||(l.data[t]={}),i(l.data[t],s.Axis.defaultConfig().data[0]),i(l.data[t],e)}),i(l.layout,s.Axis.defaultConfig().layout),i(l.layout,t.layout),this},getLiveConfig:function(){return c},getinputConfig:function(){return u},radialScale:function(e){return n},angularScale:function(e){return o},svg:function(){return e}};return r.rebind(f,d,"on"),f},s.Axis.defaultConfig=function(e,t){var n={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return n},s.util={},s.DATAEXTENT="dataExtent",s.AREA="AreaChart",s.LINE="LinePlot",s.DOT="DotPlot",s.BAR="BarChart",s.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},s.util._extend=function(e,t){for(var n in e)t[n]=e[n]},s.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},s.util.dataFromEquation2=function(e,t){var n=t||6,o=r.range(0,360+n,n).map(function(t,n){var r=t*Math.PI/180,o=e(r);return[t,o]});return o},s.util.dataFromEquation=function(e,t,n){var o=t||6,i=[],a=[];r.range(0,360+o,o).forEach(function(t,n){var r=t*Math.PI/180,o=e(r);i.push(t),a.push(o)});var s={t:i,r:a};return n&&(s.name=n),s},s.util.ensureArray=function(e,t){if(void 0===e)return null;var n=[].concat(e);return r.range(t).map(function(e,t){return n[t]||n[0]})},s.util.fillArrays=function(e,t,n){return t.forEach(function(t,r){e[t]=s.util.ensureArray(e[t],n)}),e},s.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},s.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},s.util.sumArrays=function(e,t){return r.zip(e,t).map(function(e,t){return r.sum(e)})},s.util.arrayLast=function(e){return e[e.length-1]},s.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return-2===n},s.util.flattenArray=function(e){for(var t=[];!s.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},s.util.deduplicate=function(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})},s.util.convertToCartesian=function(e,t){var n=t*Math.PI/180,r=e*Math.cos(n),o=e*Math.sin(n);return[r,o]},s.util.round=function(e,t){var n=t||2,r=Math.pow(10,n);return Math.round(e*r)/r},s.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],o=t[1],i={};return i.x=n,i.y=o,i.pos=t,i.angle=180*(Math.atan2(o,n)+Math.PI)/Math.PI,i.radius=Math.sqrt(n*n+o*o),i},s.util.duplicatesCount=function(e){for(var t,n={},r={},o=0,i=e.length;o<i;o++)(t=e[o])in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},s.util.duplicates=function(e){return Object.keys(s.util.duplicatesCount(e))},s.util.translator=function(e,t,n,r){if(r){var o=n.slice();n=t,t=o}var i=t.reduce(function(e,t){if(void 0!==e)return e[t]},e);void 0!==i&&(t.reduce(function(e,n,r){if(void 0!==e)return r===t.length-1&&delete e[n],e[n]},e),n.reduce(function(e,t,r){return void 0===e[t]&&(e[t]={}),r===n.length-1&&(e[t]=i),e[t]},e))},s.PolyChart=function(){var e=[s.PolyChart.defaultConfig()],t=r.dispatch("hover"),n={solid:"none",dash:[5,2],dot:[2,5]};function o(){var t=e[0].geometryConfig,o=t.container;"string"==typeof o&&(o=r.select(o)),o.datum(e).each(function(e,o){var i=!!e[0].data.yStack,a=e.map(function(e,t){return i?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])}),s=t.angularScale,l=t.radialScale.domain()[0],u={bar:function(n,o,i){var a=e[i].data,l=t.radialScale(n[1])-t.radialScale(0),u=t.radialScale(n[2]||0),c=a.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[l+u,-c/2],[l+u,c/2],[u,c/2],[u,-c/2]].join("L")+"Z",transform:function(e,n){return"rotate("+(t.orientation+s(e[0]))+")"}})},dot:function(n,o,i){var a=n[2]?[n[0],n[1]+n[2]]:n,s=r.svg.symbol().size(e[i].data.dotSize).type(e[i].data.dotType)(n,o);r.select(this).attr({class:"mark dot",d:s,transform:function(e,n){var r,o,i,s=(r=function(e,n){var r=t.radialScale(e[1]),o=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:r,t:o}}(a),o=r.r*Math.cos(r.t),i=r.r*Math.sin(r.t),{x:o,y:i});return"translate("+[s.x,s.y]+")"}})}},c=r.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});u.line=function(n,o,i){var s=n[2]?a[i].map(function(e,t){return[e[0],e[1]+e[2]]}):a[i];if(r.select(this).each(u.dot).style({opacity:function(t,n){return+e[i].data.dotVisible},fill:p.stroke(n,o,i)}).attr({class:"mark dot"}),!(o>0)){var l=r.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({class:"line",d:c(s),transform:function(e,n){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return p.fill(n,o,i)},"fill-opacity":0,stroke:function(e,t){return p.stroke(n,o,i)},"stroke-width":function(e,t){return p["stroke-width"](n,o,i)},"stroke-dasharray":function(e,t){return p["stroke-dasharray"](n,o,i)},opacity:function(e,t){return p.opacity(n,o,i)},display:function(e,t){return p.display(n,o,i)}})}};var d=t.angularScale.range(),f=Math.abs(d[1]-d[0])/a[0].length*Math.PI/180,h=r.svg.arc().startAngle(function(e){return-f/2}).endAngle(function(e){return f/2}).innerRadius(function(e){return t.radialScale(l+(e[2]||0))}).outerRadius(function(e){return t.radialScale(l+(e[2]||0))+t.radialScale(e[1])});u.arc=function(e,n,o){r.select(this).attr({class:"mark arc",d:h,transform:function(e,n){return"rotate("+(t.orientation+s(e[0])+90)+")"}})};var p={fill:function(t,n,r){return e[r].data.color},stroke:function(t,n,r){return e[r].data.strokeColor},"stroke-width":function(t,n,r){return e[r].data.strokeSize+"px"},"stroke-dasharray":function(t,r,o){return n[e[o].data.strokeDash]},opacity:function(t,n,r){return e[r].data.opacity},display:function(t,n,r){return void 0===e[r].data.visible||e[r].data.visible?"block":"none"}},m=r.select(this).selectAll("g.layer").data(a);m.enter().append("g").attr({class:"layer"});var g=m.selectAll("path.mark").data(function(e,t){return e});g.enter().append("path").attr({class:"mark"}),g.style(p).each(u[t.geometryType]),g.exit().remove(),m.exit().remove()})}return o.config=function(t){return arguments.length?(t.forEach(function(t,n){e[n]||(e[n]={}),i(e[n],s.PolyChart.defaultConfig()),i(e[n],t)}),this):e},o.getColorScale=function(){},r.rebind(o,t,"on"),o},s.PolyChart.defaultConfig=function(){var e={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}};return e},s.BarChart=function(){return s.PolyChart()},s.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},s.AreaChart=function(){return s.PolyChart()},s.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},s.DotPlot=function(){return s.PolyChart()},s.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},s.LinePlot=function(){return s.PolyChart()},s.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},s.Legend=function(){var e=s.Legend.defaultConfig(),t=r.dispatch("hover");function n(){var t=e.legendConfig,o=e.data.map(function(e,n){return[].concat(e).map(function(e,r){var o=i({},t.elements[n]);return o.name=e,o.color=[].concat(t.elements[n].color)[r],o})}),a=r.merge(o);a=a.filter(function(e,n){return t.elements[n]&&(t.elements[n].visibleInLegend||void 0===t.elements[n].visibleInLegend)}),t.reverseOrder&&(a=a.reverse());var s=t.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=a.map(function(e,t){return e.color}),u=t.fontSize,c=null==t.isContinuous?"number"==typeof a[0]:t.isContinuous,d=c?t.height:u*a.length,f=s.classed("legend-group",!0),h=f.selectAll("svg").data([0]),p=h.enter().append("svg").attr({width:300,height:d+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});p.append("g").classed("legend-axis",!0),p.append("g").classed("legend-marks",!0);var m=r.range(a.length),g=r.scale[c?"linear":"ordinal"]().domain(m).range(l),v=r.scale[c?"linear":"ordinal"]().domain(m)[c?"range":"rangePoints"]([0,d]);if(c){var y=h.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);y.enter().append("stop"),y.attr({offset:function(e,t){return t/(l.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),h.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var b=h.select(".legend-marks").selectAll("path.legend-mark").data(a);b.enter().append("path").classed("legend-mark",!0),b.attr({transform:function(e,t){return"translate("+[u/2,v(t)+u/2]+")"},d:function(e,t){var n,o,i,a=e.symbol;return i=3*(o=u),"line"===(n=a)?"M"+[[-o/2,-o/12],[o/2,-o/12],[o/2,o/12],[-o/2,o/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(n)?r.svg.symbol().type(n).size(i)():r.svg.symbol().type("square").size(i)()},fill:function(e,t){return g(t)}}),b.exit().remove()}var _=r.svg.axis().scale(v).orient("right"),x=h.select("g.legend-axis").attr({transform:"translate("+[c?t.colorBandWidth:u,u/2]+")"}).call(_);return x.selectAll(".domain").style({fill:"none",stroke:"none"}),x.selectAll("line").style({fill:"none",stroke:c?t.textColor:"none"}),x.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text(function(e,t){return a[t].name}),n}return n.config=function(t){return arguments.length?(i(e,t),this):e},r.rebind(n,t,"on"),n},s.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},s.tooltipPanel=function(){var e,t,n,o={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},a="tooltip-"+s.tooltipPanel.uid++,l=10,u=function(){var r=(e=o.container.selectAll("g."+a).data([0])).enter().append("g").classed(a,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=r.append("text").attr({dx:o.padding+l,dy:.3*+o.fontSize}),u};return u.text=function(i){var a=r.hsl(o.color).l,s=a>=.5?"#aaa":"white",c=a>=.5?"black":"white",d=i||"";t.style({fill:c,"font-size":o.fontSize+"px"}).text(d);var f=o.padding,h=t.node().getBBox(),p={fill:o.color,stroke:s,"stroke-width":"2px"},m=h.width+2*f+l,g=h.height+2*f;return n.attr({d:"M"+[[l,-g/2],[l,-g/4],[o.hasTick?0:l,0],[l,g/4],[l,g/2],[m,g/2],[m,-g/2]].join("L")+"Z"}).style(p),e.attr({transform:"translate("+[l,-g/2+2*f]+")"}),e.style({display:"block"}),u},u.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(e)return e.style({display:"none"}),u},u.show=function(){if(e)return e.style({display:"block"}),u},u.config=function(e){return i(o,e),u},u},s.tooltipPanel.uid=1,s.adapter={},s.adapter.plotly=function(){var e={convert:function(e,t){var n={};if(e.data&&(n.data=e.data.map(function(e,n){var r=i({},e),o=[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]];return o.forEach(function(e,n){s.util.translator.apply(null,e.concat(t))}),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!t&&e.layout&&"stack"===e.layout.barmode)){var o=s.util.duplicates(n.data.map(function(e,t){return e.geometry}));n.data.forEach(function(e,t){var r=o.indexOf(e.geometry);-1!=r&&(n.data[t].groupId=r)})}if(e.layout){var a=i({},e.layout),l=[[a,["plot_bgcolor"],["backgroundColor"]],[a,["showlegend"],["showLegend"]],[a,["radialaxis"],["radialAxis"]],[a,["angularaxis"],["angularAxis"]],[a.angularaxis,["showline"],["gridLinesVisible"]],[a.angularaxis,["showticklabels"],["labelsVisible"]],[a.angularaxis,["nticks"],["ticksCount"]],[a.angularaxis,["tickorientation"],["tickOrientation"]],[a.angularaxis,["ticksuffix"],["ticksSuffix"]],[a.angularaxis,["range"],["domain"]],[a.angularaxis,["endpadding"],["endPadding"]],[a.radialaxis,["showline"],["gridLinesVisible"]],[a.radialaxis,["tickorientation"],["tickOrientation"]],[a.radialaxis,["ticksuffix"],["ticksSuffix"]],[a.radialaxis,["range"],["domain"]],[a.angularAxis,["showline"],["gridLinesVisible"]],[a.angularAxis,["showticklabels"],["labelsVisible"]],[a.angularAxis,["nticks"],["ticksCount"]],[a.angularAxis,["tickorientation"],["tickOrientation"]],[a.angularAxis,["ticksuffix"],["ticksSuffix"]],[a.angularAxis,["range"],["domain"]],[a.angularAxis,["endpadding"],["endPadding"]],[a.radialAxis,["showline"],["gridLinesVisible"]],[a.radialAxis,["tickorientation"],["tickOrientation"]],[a.radialAxis,["ticksuffix"],["ticksSuffix"]],[a.radialAxis,["range"],["domain"]],[a.font,["outlinecolor"],["outlineColor"]],[a.legend,["traceorder"],["reverseOrder"]],[a,["labeloffset"],["labelOffset"]],[a,["defaultcolorrange"],["defaultColorRange"]]];if(l.forEach(function(e,n){s.util.translator.apply(null,e.concat(t))}),t?(void 0!==a.tickLength&&(a.angularaxis.ticklen=a.tickLength,delete a.tickLength),a.tickColor&&(a.angularaxis.tickcolor=a.tickColor,delete a.tickColor)):(a.angularAxis&&void 0!==a.angularAxis.ticklen&&(a.tickLength=a.angularAxis.ticklen),a.angularAxis&&void 0!==a.angularAxis.tickcolor&&(a.tickColor=a.angularAxis.tickcolor)),a.legend&&"boolean"!=typeof a.legend.reverseOrder&&(a.legend.reverseOrder="normal"!=a.legend.reverseOrder),a.legend&&"boolean"==typeof a.legend.traceorder&&(a.legend.traceorder=a.legend.traceorder?"reversed":"normal",delete a.legend.reverseOrder),a.margin&&void 0!==a.margin.t){var u=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],d={};r.entries(a.margin).forEach(function(e,t){d[c[u.indexOf(e.key)]]=e.value}),a.margin=d}t&&(delete a.needsEndSpacing,delete a.minorTickColor,delete a.minorTicks,delete a.angularaxis.ticksCount,delete a.angularaxis.ticksCount,delete a.angularaxis.ticksStep,delete a.angularaxis.rewriteTicks,delete a.angularaxis.nticks,delete a.radialaxis.ticksCount,delete a.radialaxis.ticksCount,delete a.radialaxis.ticksStep,delete a.radialaxis.rewriteTicks,delete a.radialaxis.nticks),n.layout=a}return n}};return e}},{"../../../constants/alignment":417,"../../../lib":441,d3:85}],530:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../../lib"),i=e("../../../components/color"),a=e("./micropolar"),s=e("./undo_manager"),l=o.extendDeepAll,u=t.exports={};u.framework=function(e){var t,n,o,i,c,d=new s;function f(n,s){return s&&(c=s),r.select(r.select(c).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?l(t,n):n,o||(o=a.Axis()),i=a.adapter.plotly().convert(t),o.config(i).render(c),e.data=t.data,e.layout=t.layout,u.fillLayout(e),t}return f.isPolar=!0,f.svg=function(){return o.svg()},f.getConfig=function(){return t},f.getLiveConfig=function(){return a.adapter.plotly().convert(o.getLiveConfig(),!0)},f.getLiveScales=function(){return{t:o.angularScale(),r:o.radialScale()}},f.setUndoPoint=function(){var e,r,o=this,i=a.util.cloneJson(t);e=i,r=n,d.add({undo:function(){r&&o(r)},redo:function(){o(e)}}),n=a.util.cloneJson(i)},f.undo=function(){d.undo()},f.redo=function(){d.redo()},f},u.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),o=e.framework&&e.framework.svg&&e.framework.svg(),a={width:800,height:600,paper_bgcolor:i.background,_container:t,_paperdiv:n,_paper:o};e._fullLayout=l(a,e.layout)}},{"../../../components/color":319,"../../../lib":441,"./micropolar":529,"./undo_manager":531,d3:85}],531:[function(e,t,n){"use strict";t.exports=function(){var e,t=[],n=-1,r=!1;function o(e,t){return e?(r=!0,e[t](),r=!1,this):this}return{add:function(e){return r?this:(t.splice(n+1,t.length-n),t.push(e),n=t.length-1,this)},setCallback:function(t){e=t},undo:function(){var r=t[n];return r?(o(r,"undo"),n-=1,e&&e(r.undo),this):this},redo:function(){var r=t[n+1];return r?(o(r,"redo"),n+=1,e&&e(r.redo),this):this},clear:function(){t=[],n=-1},hasUndo:function(){return-1!==n},hasRedo:function(){return n<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[n-1]},getIndex:function(){return n}}}},{}],532:[function(e,t,n){"use strict";var r=e("./lib/loggers"),o=e("./lib/noop"),i=e("./lib/push_unique"),a=e("./lib/is_plain_object"),s=e("./lib/extend"),l=e("./plots/attributes"),u=e("./plots/layout_attributes"),c=s.extendFlat,d=s.extendDeepAll;function f(e){var t=e.name,o=e.categories,i=e.meta;if(n.modules[t])r.log("Type "+t+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||function(e){var t=e.name;if(n.subplotsRegistry[t])r.log("Plot type "+t+" already registered.");else for(var o in g(e),n.subplotsRegistry[t]=e,n.componentsRegistry)b(o,e.name)}(e.basePlotModule);for(var a={},s=0;s<o.length;s++)a[o[s]]=!0,n.allCategories[o[s]]=!0;for(var l in n.modules[t]={_module:e,categories:a},i&&Object.keys(i).length&&(n.modules[t].meta=i),n.allTypes.push(t),n.componentsRegistry)v(l,t);e.layoutAttributes&&c(n.traceLayoutAttributes,e.layoutAttributes)}}function h(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");var t=e.name;for(var r in n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&i(n.layoutArrayContainers,t),g(e)),n.modules)v(t,r);for(var o in n.subplotsRegistry)b(t,o);for(var a in n.transformsRegistry)y(t,a);e.schema&&e.schema.layout&&d(u,e.schema.layout)}function p(e){if("string"!=typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,o="function"==typeof e.transform,i="function"==typeof e.calcTransform;if(!o&&!i)throw new Error(t+" is missing a *transform* or *calcTransform* method.");for(var s in o&&i&&r.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(e.attributes)||r.log(t+" registered without an *attributes* object."),"function"!=typeof e.supplyDefaults&&r.log(t+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)y(s,e.name)}function m(e){var t=e.name,r=t.split("-")[0],o=e.dictionary,i=e.format,a=o&&Object.keys(o).length,s=i&&Object.keys(i).length,l=n.localeRegistry,u=l[t];if(u||(l[t]=u={}),r!==t){var c=l[r];c||(l[r]=c={}),a&&c.dictionary===u.dictionary&&(c.dictionary=o),s&&c.format===u.format&&(c.format=i)}a&&(u.dictionary=o),s&&(u.format=i)}function g(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)i(n.layoutArrayRegexes,t[r])}}function v(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.traces){var o=r.traces[t];o&&d(n.modules[t]._module.attributes,o)}}function y(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.transforms){var o=r.transforms[t];o&&d(n.transformsRegistry[t].attributes,o)}}function b(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.subplots){var o=n.subplotsRegistry[t],i=o.layoutAttributes,a="subplot"===o.attr?o.name:o.attr;Array.isArray(a)&&(a=a[0]);var s=r.subplots[a];i&&s&&d(i,s)}}function _(e){return"object"==typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.register=function(e){if(!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":f(r);break;case"transform":p(r);break;case"component":h(r);break;case"locale":m(r);break;case"apiMethod":var o=r.name;n.apiMethodRegistry[o]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var t=n.modules[_(e)];return!!t&&t._module},n.traceIs=function(e,t){if("various"===(e=_(e)))return!1;var o=n.modules[e];return o||(e&&"area"!==e&&r.log("Unrecognized trace type "+e+"."),o=n.modules[l.type.dflt]),!!o.categories[t]},n.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],o=0;o<r.length;o++)r[o].type===t&&n.push(o);return n},n.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r&&r[t]||o},n.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,t)}},{"./lib/extend":432,"./lib/is_plain_object":442,"./lib/loggers":445,"./lib/noop":450,"./lib/push_unique":455,"./plots/attributes":485,"./plots/layout_attributes":523}],533:[function(e,t,n){"use strict";var r=e("../lib"),o=r.extendFlat,i=r.extendDeep;function a(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}t.exports=function(e,t){var n;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var r,s=e.data,l=e.layout,u=i([],s),c=i({},l,a(t.tileClass)),d=e._context||{};if(t.width&&(c.width=t.width),t.height&&(c.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){c.annotations=[];var f=Object.keys(c);for(n=0;n<f.length;n++)r=f[n],["xaxis","yaxis","zaxis"].indexOf(r.slice(0,5))>-1&&(c[f[n]].title="");for(n=0;n<u.length;n++){var h=u[n];h.showscale=!1,h.marker&&(h.marker.showscale=!1),"pie"===h.type&&(h.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)c.annotations.push(t.annotations[n]);var p=Object.keys(c).filter(function(e){return e.match(/^scene\d*$/)});if(p.length){var m={};for("thumbnail"===t.tileClass&&(m={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<p.length;n++){var g=c[p[n]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),o(g.xaxis,m),o(g.yaxis,m),o(g.zaxis,m),g._scene=null}}var v=document.createElement("div");t.tileClass&&(v.className=t.tileClass);var y={gd:v,td:v,layout:c,data:u,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==t.setBackground&&(y.config.setBackground=t.setBackground||"opaque"),y.gd.defaultLayout=a(t.tileClass),y}},{"../lib":441}],534:[function(e,t,n){"use strict";var r=e("../plot_api/to_image"),o=e("../lib"),i=e("./filesaver");t.exports=function(e,t){var n;return o.isPlainObject(e)||(n=o.getGraphDiv(e)),(t=t||{}).format=t.format||"png",new Promise(function(a,s){n&&n._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),o.isIE()&&"svg"!==t.format&&s(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),n&&(n._snapshotInProgress=!0);var l=r(e,t),u=t.filename||e.fn||"newplot";u+="."+t.format,l.then(function(e){return n&&(n._snapshotInProgress=!1),i(e,u)}).then(function(e){a(e)}).catch(function(e){n&&(n._snapshotInProgress=!1),s(e)})})}},{"../lib":441,"../plot_api/to_image":481,"./filesaver":535}],535:[function(e,t,n){"use strict";t.exports=function(e,t){var n=document.createElement("a"),r="download"in n,o=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(i,a){if("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&a(new Error("IE < 10 unsupported")),o&&(document.location.href="data:application/octet-stream"+e.slice(e.search(/[,;]/)),i(t)),t||(t="download"),r&&(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),i(t)),"undefined"!=typeof navigator&&navigator.msSaveBlob){var s=e.split(/^data:image\/svg\+xml,/)[1],l=decodeURIComponent(s);navigator.msSaveBlob(new Blob([l]),t),i(t)}a(new Error("download error"))})}},{}],536:[function(e,t,n){"use strict";n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){var t=e._fullLayout||{},n=t._has&&t._has("polar"),r=!n&&e.data&&e.data[0]&&e.data[0].r;if(!r)return function(){(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()})}}},{}],537:[function(e,t,n){"use strict";var r=e("./helpers"),o={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=o},{"./cloneplot":533,"./download":534,"./helpers":536,"./svgtoimg":538,"./toimage":539,"./tosvg":540}],538:[function(e,t,n){"use strict";var r=e("../lib"),o=e("events").EventEmitter;t.exports=function(e){var t=e.emitter||new o,n=new Promise(function(o,i){var a=window.Image,s=e.svg,l=e.format||"png";if(r.isIE()&&"svg"!==l){var u=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return i(u),e.promise?n:t.emit("error",u)}var c=e.canvas,d=e.scale||1,f=e.width||300,h=e.height||150,p=d*f,m=d*h,g=c.getContext("2d"),v=new a,y="data:image/svg+xml,"+encodeURIComponent(s);c.width=p,c.height=m,v.onload=function(){var n;switch("svg"!==l&&g.drawImage(v,0,0,p,m),l){case"jpeg":n=c.toDataURL("image/jpeg");break;case"png":n=c.toDataURL("image/png");break;case"webp":n=c.toDataURL("image/webp");break;case"svg":n=y;break;default:var r="Image format is not jpeg, png, svg or webp.";if(i(new Error(r)),!e.promise)return t.emit("error",r)}o(n),e.promise||t.emit("success",n)},v.onerror=function(n){if(i(n),!e.promise)return t.emit("error",n)},v.src=y});return e.promise?n:t}},{"../lib":441,events:50}],539:[function(e,t,n){"use strict";var r=e("events").EventEmitter,o=e("../registry"),i=e("../lib"),a=e("./helpers"),s=e("./cloneplot"),l=e("./tosvg"),u=e("./svgtoimg");t.exports=function(e,t){var n=new r,c=s(e,{format:"png"}),d=c.gd;d.style.position="absolute",d.style.left="-5000px",document.body.appendChild(d);var f=a.getRedrawFunc(d);return o.call("plot",d,c.data,c.layout,c.config).then(f).then(function(){var e=a.getDelay(d._fullLayout);setTimeout(function(){var e=l(d),r=document.createElement("canvas");r.id=i.randstr(),(n=u({format:t.format,width:d._fullLayout.width,height:d._fullLayout.height,canvas:r,emitter:n,svg:e})).clean=function(){d&&document.body.removeChild(d)}},e)}).catch(function(e){n.emit("error",e)}),n}},{"../lib":441,"../registry":532,"./cloneplot":533,"./helpers":536,"./svgtoimg":538,"./tosvg":540,events:50}],540:[function(e,t,n){"use strict";var r=e("d3"),o=e("../lib"),i=e("../components/drawing"),a=e("../components/color"),s=e("../constants/xmlns_namespaces"),l=/"/g,u=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");t.exports=function(e,t,n){var c,d=e._fullLayout,f=d._paper,h=d._toppaper,p=d.width,m=d.height;f.insert("rect",":first-child").call(i.setRect,0,0,p,m).call(a.fill,d.paper_bgcolor);var g=d._basePlotModules||[];for(c=0;c<g.length;c++){var v=g[c];v.toSVG&&v.toSVG(e)}if(h){var y=h.node().childNodes,b=Array.prototype.slice.call(y);for(c=0;c<b.length;c++){var _=b[c];_.childNodes.length&&f.node().appendChild(_)}}d._draggers&&d._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var e=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(l,"TOBESTRIPPED"))}else e.remove()}),f.selectAll(".point, .scatterpts, .legendfill>path, .legendlines>path, .cbfill").each(function(){var e=r.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(l,"TOBESTRIPPED"));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&e.style("stroke",n.replace(l,"TOBESTRIPPED"))}),"pdf"!==t&&"eps"!==t||f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(s.xmlns,"xmlns",s.svg),f.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===t&&n&&(f.attr("width",n*p),f.attr("height",n*m),f.attr("viewBox","0 0 "+p+" "+m));var x=(new window.XMLSerializer).serializeToString(f.node());return x=(x=(x=function(e){var t=r.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()});return t.remove(),n}(x)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(u,"'"),o.isIE()&&(x=(x=(x=x.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),x}},{"../components/color":319,"../components/drawing":344,"../constants/xmlns_namespaces":421,"../lib":441,d3:85}],541:[function(e,t,n){"use strict";var r=e("../heatmap/attributes"),o=e("../scatter/attributes"),i=e("../../components/colorscale/attributes"),a=e("../../components/colorbar/attributes"),s=e("../../components/drawing/attributes").dash,l=e("../../plots/font_attributes"),u=e("../../lib/extend").extendFlat,c=e("../../constants/filter_ops"),d=c.COMPARISON_OPS2,f=c.INTERVAL_OPS,h=o.line;t.exports=u({z:r.z,x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,transpose:r.transpose,xtype:r.xtype,ytype:r.ytype,zhoverformat:r.zhoverformat,connectgaps:r.connectgaps,fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:l({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot"},operation:{valType:"enumerated",values:[].concat(d).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:u({},h.color,{editType:"style+colorbars"}),width:u({},h.width,{editType:"style+colorbars"}),dash:s,smoothing:u({},h.smoothing,{}),editType:"plot"}},i("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}),{colorbar:a})},{"../../components/colorbar/attributes":320,"../../components/colorscale/attributes":326,"../../components/drawing/attributes":343,"../../constants/filter_ops":418,"../../lib/extend":432,"../../plots/font_attributes":515,"../heatmap/attributes":554,"../scatter/attributes":592}],542:[function(e,t,n){"use strict";var r=e("../heatmap/calc"),o=e("./set_contours");t.exports=function(e,t){var n=r(e,t);return o(t),n}},{"../heatmap/calc":555,"./set_contours":550}],543:[function(e,t,n){"use strict";var r=e("../../components/colorbar/draw"),o=e("./make_color_map"),i=e("./end_plus");t.exports=function(e,t){var n=t[0].trace,a="cb"+n.uid;if(e._fullLayout._infolayer.selectAll("."+a).remove(),n.showscale){var s=t[0].t.cb=r(e,a),l=n.contours,u=n.line,c=l.size||1,d=l.coloring,f=o(n,{isColorbar:!0});s.fillgradient("heatmap"===d?n.colorscale:"").zrange("heatmap"===d?[n.zmin,n.zmax]:"").fillcolor("fill"===d?f:"").line({color:"lines"===d?f:u.color,width:!1!==l.showlines?u.width:0,dash:u.dash}).levels({start:l.start,end:i(l),size:c}).options(n.colorbar)()}}},{"../../components/colorbar/draw":324,"./end_plus":547,"./make_color_map":549}],544:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("./label_defaults"),i=e("../../components/color"),a=i.addOpacity,s=i.opacity,l=e("../../constants/filter_ops"),u=l.CONSTRAINT_REDUCTION,c=l.COMPARISON_OPS2;t.exports=function(e,t,n,i,l,d){var f,h,p,m=t.contours,g=n("contours.operation");if(m._operation=u[g],function(e,t){var n;-1===c.indexOf(t.operation)?(e("contours.value",[0,1]),Array.isArray(t.value)?t.value.length>2?t.value=t.value.slice(2):0===t.length?t.value=[0,1]:t.length<2?(n=parseFloat(t.value[0]),t.value=[n,n+1]):t.value=[parseFloat(t.value[0]),parseFloat(t.value[1])]:r(t.value)&&(n=parseFloat(t.value),t.value=[n,n+1])):(e("contours.value",0),r(t.value)||(Array.isArray(t.value)?t.value=parseFloat(t.value[0]):t.value=0))}(n,m),"="===g?f=m.showlines=!0:(f=n("contours.showlines"),p=n("fillcolor",a((e.line||{}).color||l,.5))),f){var v=p&&s(p)?a(t.fillcolor,1):l;h=n("line.color",v),n("line.width",2),n("line.dash")}n("line.smoothing"),o(n,i,h,d)}},{"../../components/color":319,"../../constants/filter_ops":418,"./label_defaults":548,"fast-isnumeric":149}],545:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o=r("contours.start"),i=r("contours.end"),a=!1===o||!1===i,s=n("contours.size");!(a?t.autocontour=!0:n("autocontour",!1))&&s||n("ncontours")}},{}],546:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../heatmap/xyz_defaults"),i=e("./constraint_defaults"),a=e("./contours_defaults"),s=e("./style_defaults"),l=e("./attributes");t.exports=function(e,t,n,u){function c(n,o){return r.coerce(e,t,l,n,o)}var d=o(e,t,c,u);if(d){c("text");var f="constraint"===c("contours.type");c("connectgaps",r.isArray1D(t.z)),f?i(e,t,c,u,n):(a(e,t,c,function(n){return r.coerce2(e,t,l,n)}),s(e,t,c,u))}else t.visible=!1}},{"../../lib":441,"../heatmap/xyz_defaults":565,"./attributes":541,"./constraint_defaults":544,"./contours_defaults":545,"./style_defaults":551}],547:[function(e,t,n){"use strict";t.exports=function(e){return e.end+e.size/1e6}},{}],548:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,o){o||(o={});var i=e("contours.showlabels");if(i){var a=t.font;r.coerceFont(e,"contours.labelfont",{family:a.family,size:a.size,color:n}),e("contours.labelformat")}!1!==o.hasHover&&e("zhoverformat")}},{"../../lib":441}],549:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../components/colorscale"),i=e("./end_plus");t.exports=function(e){var t=e.contours,n=t.start,a=i(t),s=t.size||1,l=Math.floor((a-n)/s)+1,u="lines"===t.coloring?0:1;isFinite(s)||(s=1,l=1);var c,d,f=e.colorscale,h=f.length,p=new Array(h),m=new Array(h);if("heatmap"===t.coloring){for(e.zauto&&!1===e.autocontour&&(e.zmin=n-s/2,e.zmax=e.zmin+l*s),d=0;d<h;d++)c=f[d],p[d]=c[0]*(e.zmax-e.zmin)+e.zmin,m[d]=c[1];var g=r.extent([e.zmin,e.zmax,t.start,t.start+s*(l-1)]),v=g[e.zmin<e.zmax?0:1],y=g[e.zmin<e.zmax?1:0];v!==e.zmin&&(p.splice(0,0,v),m.splice(0,0,Range[0])),y!==e.zmax&&(p.push(y),m.push(m[m.length-1]))}else for(d=0;d<h;d++)c=f[d],p[d]=(c[0]*(l+u-1)-u/2)*s+n,m[d]=c[1];return o.makeColorScaleFunc({domain:p,range:m},{noNumericCheck:!0})}},{"../../components/colorscale":334,"./end_plus":547,d3:85}],550:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),o=e("../../lib");function i(e,t,n){var o={type:"linear",range:[e,t]};return r.autoTicks(o,(t-e)/(n||15)),o}t.exports=function(e){var t=e.contours;if(e.autocontour){var n=e.zmin,a=e.zmax;void 0!==n&&void 0!==a||(n=o.aggNums(Math.min,null,e._z),a=o.aggNums(Math.max,null,e._z));var s=i(n,a,e.ncontours);t.size=s.dtick,t.start=r.tickFirst(s),s.range.reverse(),t.end=r.tickFirst(s),t.start===n&&(t.start+=t.size),t.end===a&&(t.end-=t.size),t.start>t.end&&(t.start=t.end=(t.start+t.end)/2),e._input.contours||(e._input.contours={}),o.extendFlat(e._input.contours,{start:t.start,end:t.end,size:t.size}),e._input.autocontour=!0}else if("constraint"!==t.type){var l,u=t.start,c=t.end,d=e._input.contours;u>c&&(t.start=d.start=c,c=t.end=d.end=u,u=t.start),t.size>0||(l=u===c?1:i(u,c,e.ncontours).dtick,d.size=t.size=l)}}},{"../../lib":441,"../../plots/cartesian/axes":488}],551:[function(e,t,n){"use strict";var r=e("../../components/colorscale/defaults"),o=e("./label_defaults");t.exports=function(e,t,n,i,a){var s,l=n("contours.coloring"),u="";"fill"===l&&(s=n("contours.showlines")),!1!==s&&("lines"!==l&&(u=n("line.color","#000")),n("line.width",.5),n("line.dash")),"none"!==l&&(!0!==e.showlegend&&(t.showlegend=!1),t._dfltShowLegend=!1,r(e,t,i,n,{prefix:"",cLetter:"z"})),n("line.smoothing"),o(n,i,u,a)}},{"../../components/colorscale/defaults":329,"./label_defaults":548}],552:[function(e,t,n){"use strict";var r=e("gl-contour2d"),o=e("gl-heatmap2d"),i=e("../../plots/cartesian/axes"),a=e("../contour/make_color_map"),s=e("../../lib/str2rgbarray");function l(e,t){this.scene=e,this.uid=t,this.type="contourgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.contourOptions={z:new Float32Array(0),x:[],y:[],shape:[0,0],levels:[0],levelColors:[0,0,0,1],lineWidth:1},this.contour=r(e.glplot,this.contourOptions),this.contour._trace=this,this.heatmapOptions={z:new Float32Array(0),x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,0]},this.heatmap=o(e.glplot,this.heatmapOptions),this.heatmap._trace=this}var u=l.prototype;function c(e,t){for(var n=e.contours,r=n.start,o=n.end,i=n.size||1,l=t.fill,u=a(e),c=Math.floor((o-r)/i)+(l?2:1),d=new Array(c),f=new Array(4*c),h=0;h<c;h++)for(var p=d[h]=r+i*h-(l?i/2:0),m=s(u(p)),g=0;g<4;g++)f[4*h+g]=m[g];return{levels:d,levelColors:f}}u.handlePick=function(e){var t=this.heatmapOptions,n=t.shape,r=e.pointId,o=r%n[0],i=Math.floor(r/n[0]),a=r;return{trace:this,dataCoord:e.dataCoord,traceCoord:[t.x[o],t.y[i],t.z[a]],textLabel:this.textLabels[r],name:this.name,pointIndex:[i,o],hoverinfo:this.hoverinfo}},u.update=function(e,t){var n=t[0];this.index=e.index,this.name=e.name,this.hoverinfo=e.hoverinfo;var r,o=n.z,a=o[0].length,s=o.length;this.contourOptions.z=function(e,t,n){for(var r=new Float32Array(t*n),o=0,i=0;i<t;i++)for(var a=0;a<n;a++)r[o++]=e[a][i];return r}(o,a,s),this.heatmapOptions.z=[].concat.apply([],o),this.contourOptions.shape=this.heatmapOptions.shape=[a,s],this.contourOptions.x=this.heatmapOptions.x=n.x,this.contourOptions.y=this.heatmapOptions.y=n.y,"fill"===e.contours.coloring?(r=c(e,{fill:!0}),this.contourOptions.levels=r.levels.slice(1),this.contourOptions.fillColors=r.levelColors,this.contourOptions.levelColors=[].concat.apply([],this.contourOptions.levels.map(function(){return[.25,.25,.25,1]}))):(r=c(e,{fill:!1}),this.contourOptions.levels=r.levels,this.contourOptions.levelColors=r.levelColors),this.textLabels=[].concat.apply([],e.text),this.contour.update(this.contourOptions),this.heatmap.update(this.heatmapOptions);var l=this.scene.xaxis,u=this.scene.yaxis;e._extremes[l._id]=i.findExtremes(l,n.x),e._extremes[u._id]=i.findExtremes(u,n.y)},u.dispose=function(){this.contour.dispose(),this.heatmap.dispose()},t.exports=function(e,t,n){var r=new l(e,t.uid);return r.update(t,n),r}},{"../../lib/str2rgbarray":464,"../../plots/cartesian/axes":488,"../contour/make_color_map":549,"gl-contour2d":159,"gl-heatmap2d":164}],553:[function(e,t,n){"use strict";var r=e("../../plot_api/edit_types").overrideAll,o={};o.attributes=r(e("../contour/attributes"),"calc","nested"),o.supplyDefaults=e("../contour/defaults"),o.colorbar=e("../contour/colorbar"),o.calc=e("../contour/calc"),o.plot=e("./convert"),o.moduleType="trace",o.name="contourgl",o.basePlotModule=e("../../plots/gl2d"),o.categories=["gl","gl2d","2dMap"],o.meta={},t.exports=o},{"../../plot_api/edit_types":471,"../../plots/gl2d":520,"../contour/attributes":541,"../contour/calc":542,"../contour/colorbar":543,"../contour/defaults":546,"./convert":552}],554:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),o=e("../../components/colorscale/attributes"),i=e("../../components/colorbar/attributes"),a=e("../../lib/extend").extendFlat;t.exports=a({z:{valType:"data_array",editType:"calc"},x:a({},r.x,{impliedEdits:{xtype:"array"}}),x0:a({},r.x0,{impliedEdits:{xtype:"scaled"}}),dx:a({},r.dx,{impliedEdits:{xtype:"scaled"}}),y:a({},r.y,{impliedEdits:{ytype:"array"}}),y0:a({},r.y0,{impliedEdits:{ytype:"scaled"}}),dy:a({},r.dy,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},zhoverformat:{valType:"string",dflt:"",editType:"none"},transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}),{colorbar:i})},{"../../components/colorbar/attributes":320,"../../components/colorscale/attributes":326,"../../lib/extend":432,"../scatter/attributes":592}],555:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../histogram2d/calc"),s=e("../../components/colorscale/calc"),l=e("./convert_column_xyz"),u=e("./max_row_length"),c=e("./clean_2d_array"),d=e("./interp2d"),f=e("./find_empties"),h=e("./make_bound_array");t.exports=function(e,t){var n,p,m,g,v,y,b,_,x,w=i.getFromId(e,t.xaxis||"x"),k=i.getFromId(e,t.yaxis||"y"),E=r.traceIs(t,"contour"),T=r.traceIs(t,"histogram"),A=r.traceIs(t,"gl2d"),S=E?"best":t.zsmooth;if(w._minDtick=0,k._minDtick=0,T)x=a(e,t),n=x.x,p=x.x0,m=x.dx,g=x.y,v=x.y0,y=x.dy,b=x.z;else{var M=t.z;o.isArray1D(M)?(l(t,w,k,"x","y",["z"]),n=t._x,g=t._y,M=t._z):(n=t.x?w.makeCalcdata(t,"x"):[],g=t.y?k.makeCalcdata(t,"y"):[]),p=t.x0||0,m=t.dx||1,v=t.y0||0,y=t.dy||1,b=c(M,t.transpose),(E||t.connectgaps)&&(t._emptypoints=f(b),d(b,t._emptypoints))}function C(e){S=t._input.zsmooth=t.zsmooth=!1,o.warn('cannot use zsmooth: "fast": '+e)}if("fast"===S)if("log"===w.type||"log"===k.type)C("log axis found");else if(!T){if(n.length){var j=(n[n.length-1]-n[0])/(n.length-1),O=Math.abs(j/100);for(_=0;_<n.length-1;_++)if(Math.abs(n[_+1]-n[_]-j)>O){C("x scale is not linear");break}}if(g.length&&"fast"===S){var N=(g[g.length-1]-g[0])/(g.length-1),R=Math.abs(N/100);for(_=0;_<g.length-1;_++)if(Math.abs(g[_+1]-g[_]-N)>R){C("y scale is not linear");break}}}var P=u(b),I="scaled"===t.xtype?"":n,D=h(t,I,p,m,P,w),L="scaled"===t.ytype?"":g,B=h(t,L,v,y,b.length,k);A||(t._extremes[w._id]=i.findExtremes(w,D),t._extremes[k._id]=i.findExtremes(k,B));var F={x:D,y:B,z:b,text:t._text||t.text};if(I&&I.length===D.length-1&&(F.xCenter=I),L&&L.length===B.length-1&&(F.yCenter=L),T&&(F.xRanges=x.xRanges,F.yRanges=x.yRanges,F.pts=x.pts),E&&"constraint"===t.contours.type||s(t,b,"","z"),E&&t.contours&&"heatmap"===t.contours.coloring){var z={type:"contour"===t.type?"heatmap":"histogram2d",xcalendar:t.xcalendar,ycalendar:t.ycalendar};F.xfill=h(z,I,p,m,P,w),F.yfill=h(z,L,v,y,b.length,k)}return[F]}},{"../../components/colorscale/calc":327,"../../lib":441,"../../plots/cartesian/axes":488,"../../registry":532,"../histogram2d/calc":573,"./clean_2d_array":556,"./convert_column_xyz":558,"./find_empties":560,"./interp2d":561,"./make_bound_array":562,"./max_row_length":563}],556:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){var n,o,i,a,s,l;function u(e){if(r(e))return+e}if(t){for(n=0,s=0;s<e.length;s++)n=Math.max(n,e[s].length);if(0===n)return!1;i=function(e){return e.length},a=function(e,t,n){return e[n][t]}}else n=e.length,i=function(e,t){return e[t].length},a=function(e,t,n){return e[t][n]};var c=new Array(n);for(s=0;s<n;s++)for(o=i(e,s),c[s]=new Array(o),l=0;l<o;l++)c[s][l]=u(a(e,s,l));return c}},{"fast-isnumeric":149}],557:[function(e,t,n){"use strict";t.exports={min:"zmin",max:"zmax"}},{}],558:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../constants/numerical").BADNUM;t.exports=function(e,t,n,i,a,s){var l,u,c,d,f=e._length,h=e[i].slice(0,f),p=e[a].slice(0,f),m=e.text,g=void 0!==m&&r.isArray1D(m),v=e[i+"calendar"],y=e[a+"calendar"];for(l=0;l<f;l++)h[l]=t.d2c(h[l],0,v),p[l]=n.d2c(p[l],0,y);var b,_,x,w=r.distinctVals(h),k=w.vals,E=r.distinctVals(p),T=E.vals,A=[];for(l=0;l<s.length;l++)A[l]=r.init2dArray(T.length,k.length);for(g&&(x=r.init2dArray(T.length,k.length)),l=0;l<f;l++)if(h[l]!==o&&p[l]!==o){for(b=r.findBin(h[l]+w.minDiff/2,k),_=r.findBin(p[l]+E.minDiff/2,T),u=0;u<s.length;u++)d=s[u],c=e[d],A[u][_][b]=c[l];g&&(x[_][b]=m[l])}for(e["_"+i]=k,e["_"+a]=T,u=0;u<s.length;u++)e["_"+s[u]]=A[u];g&&(e._text=x)}},{"../../constants/numerical":420,"../../lib":441}],559:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./xyz_defaults"),i=e("./style_defaults"),a=e("../../components/colorscale/defaults"),s=e("./attributes");t.exports=function(e,t,n,l){function u(n,o){return r.coerce(e,t,s,n,o)}var c=o(e,t,u,l);c?(u("text"),i(e,t,u,l),u("connectgaps",r.isArray1D(t.z)&&!1!==t.zsmooth),a(e,t,l,u,{prefix:"",cLetter:"z"})):t.visible=!1}},{"../../components/colorscale/defaults":329,"../../lib":441,"./attributes":554,"./style_defaults":564,"./xyz_defaults":565}],560:[function(e,t,n){"use strict";var r=e("./max_row_length");t.exports=function(e){var t,n,o,i,a,s,l,u,c=[],d={},f=[],h=e[0],p=[],m=[0,0,0],g=r(e);for(n=0;n<e.length;n++)for(t=p,p=h,h=e[n+1]||[],o=0;o<g;o++)void 0===p[o]&&((s=(void 0!==p[o-1]?1:0)+(void 0!==p[o+1]?1:0)+(void 0!==t[o]?1:0)+(void 0!==h[o]?1:0))?(0===n&&s++,0===o&&s++,n===e.length-1&&s++,o===p.length-1&&s++,s<4&&(d[[n,o]]=[n,o,s]),c.push([n,o,s])):f.push([n,o]));for(;f.length;){for(l={},u=!1,a=f.length-1;a>=0;a--)i=f[a],n=i[0],o=i[1],(s=((d[[n-1,o]]||m)[2]+(d[[n+1,o]]||m)[2]+(d[[n,o-1]]||m)[2]+(d[[n,o+1]]||m)[2])/20)&&(l[i]=[n,o,s],f.splice(a,1),u=!0);if(!u)throw"findEmpties iterated with no new neighbors";for(i in l)d[i]=l[i],c.push(l[i])}return c.sort(function(e,t){return t[2]-e[2]})}},{"./max_row_length":563}],561:[function(e,t,n){"use strict";var r=e("../../lib"),o=[[-1,0],[1,0],[0,-1],[0,1]];function i(e){return.5-.25*Math.min(1,.5*e)}function a(e,t,n){var r,i,a,s,l,u,c,d,f,h,p,m,g,v=0;for(s=0;s<t.length;s++){for(r=t[s],i=r[0],a=r[1],p=e[i][a],h=0,f=0,l=0;l<4;l++)u=o[l],(c=e[i+u[0]])&&void 0!==(d=c[a+u[1]])&&(0===h?m=g=d:(m=Math.min(m,d),g=Math.max(g,d)),f++,h+=d);if(0===f)throw"iterateInterp2d order is wrong: no defined neighbors";e[i][a]=h/f,void 0===p?f<4&&(v=1):(e[i][a]=(1+n)*e[i][a]-n*p,g>m&&(v=Math.max(v,Math.abs(e[i][a]-p)/(g-m))))}return v}t.exports=function(e,t){var n,o=1;for(a(e,t),n=0;n<t.length&&!(t[n][2]<4);n++);for(t=t.slice(n),n=0;n<100&&o>.01;n++)o=a(e,t,i(o));return o>.01&&r.log("interp2d didn't converge quickly",o),e}},{"../../lib":441}],562:[function(e,t,n){"use strict";var r=e("../../registry"),o=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,i,a,s){var l,u,c,d=[],f=r.traceIs(e,"contour"),h=r.traceIs(e,"histogram"),p=r.traceIs(e,"gl2d"),m=o(t)&&t.length>1;if(m&&!h&&"category"!==s.type){var g=t.length;if(!(g<=a))return f?t.slice(0,a):t.slice(0,a+1);if(f||p)d=t.slice(0,a);else if(1===a)d=[t[0]-.5,t[0]+.5];else{for(d=[1.5*t[0]-.5*t[1]],c=1;c<g;c++)d.push(.5*(t[c-1]+t[c]));d.push(1.5*t[g-1]-.5*t[g-2])}if(g<a){var v=d[d.length-1],y=v-d[d.length-2];for(c=g;c<a;c++)v+=y,d.push(v)}}else{u=i||1;var b=e[s._id.charAt(0)+"calendar"];for(l=h||"category"===s.type?s.r2c(n,0,b)||0:o(t)&&1===t.length?t[0]:void 0===n?0:s.d2c(n,0,b),c=f||p?0:-.5;c<a;c++)d.push(l+u*c)}return d}},{"../../lib":441,"../../registry":532}],563:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0,n=0;n<e.length;n++)t=Math.max(t,e[n].length);return t}},{}],564:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=n("zsmooth");!1===r&&(n("xgap"),n("ygap")),n("zhoverformat")}},{}],565:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib"),i=e("../../registry");function a(e,t){var n=t(e),r=n?t(e+"type","array"):"scaled";return"scaled"===r&&(t(e+"0"),t("d"+e)),n}t.exports=function(e,t,n,s,l,u){var c,d,f=n("z");if(l=l||"x",u=u||"y",void 0===f||!f.length)return 0;if(o.isArray1D(e.z)){if(c=n(l),d=n(u),!(c&&c.length&&d&&d.length))return 0;t._length=Math.min(c.length,d.length,f.length)}else{if(c=a(l,n),d=a(u,n),!function(e){for(var t,n=!0,i=!1,a=!1,s=0;s<e.length;s++){if(t=e[s],!o.isArrayOrTypedArray(t)){n=!1;break}t.length>0&&(i=!0);for(var l=0;l<t.length;l++)if(r(t[l])){a=!0;break}}return n&&i&&a}(f))return 0;n("transpose"),t._length=null}var h=i.getComponentMethod("calendars","handleTraceDefaults");return h(e,t,[l,u],s),!0}},{"../../lib":441,"../../registry":532,"fast-isnumeric":149}],566:[function(e,t,n){"use strict";for(var r=e("../heatmap/attributes"),o=e("../../components/colorscale/attributes"),i=e("../../components/colorbar/attributes"),a=e("../../lib/extend").extendFlat,s=e("../../plot_api/edit_types").overrideAll,l=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],u={},c=0;c<l.length;c++){var d=l[c];u[d]=r[d]}a(u,o("",{cLetter:"z",autoColorDflt:!1}),{colorbar:i}),t.exports=s(u,"calc","nested")},{"../../components/colorbar/attributes":320,"../../components/colorscale/attributes":326,"../../lib/extend":432,"../../plot_api/edit_types":471,"../heatmap/attributes":554}],567:[function(e,t,n){"use strict";var r=e("gl-heatmap2d"),o=e("../../plots/cartesian/axes"),i=e("../../lib/str2rgbarray");function a(e,t){this.scene=e,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=r(e.glplot,this.options),this.heatmap._trace=this}var s=a.prototype;s.handlePick=function(e){var t=this.options,n=t.shape,r=e.pointId,o=r%n[0],i=Math.floor(r/n[0]),a=r;return{trace:this,dataCoord:e.dataCoord,traceCoord:[t.x[o],t.y[i],t.z[a]],textLabel:this.textLabels[r],name:this.name,pointIndex:[i,o],hoverinfo:this.hoverinfo}},s.update=function(e,t){var n=t[0];this.index=e.index,this.name=e.name,this.hoverinfo=e.hoverinfo;var r=n.z;this.options.z=[].concat.apply([],r);var a=r[0].length,s=r.length;this.options.shape=[a,s],this.options.x=n.x,this.options.y=n.y;var l=function(e){for(var t=e.colorscale,n=e.zmin,r=e.zmax,o=t.length,a=new Array(o),s=new Array(4*o),l=0;l<o;l++){var u=t[l],c=i(u[1]);a[l]=n+u[0]*(r-n);for(var d=0;d<4;d++)s[4*l+d]=c[d]}return{colorLevels:a,colorValues:s}}(e);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],e.text),this.heatmap.update(this.options);var u=this.scene.xaxis,c=this.scene.yaxis;e._extremes[u._id]=o.findExtremes(u,n.x),e._extremes[c._id]=o.findExtremes(c,n.y)},s.dispose=function(){this.heatmap.dispose()},t.exports=function(e,t,n){var r=new a(e,t.uid);return r.update(t,n),r}},{"../../lib/str2rgbarray":464,"../../plots/cartesian/axes":488,"gl-heatmap2d":164}],568:[function(e,t,n){"use strict";var r={};r.attributes=e("./attributes"),r.supplyDefaults=e("../heatmap/defaults"),r.colorbar=e("../heatmap/colorbar"),r.calc=e("../heatmap/calc"),r.plot=e("./convert"),r.moduleType="trace",r.name="heatmapgl",r.basePlotModule=e("../../plots/gl2d"),r.categories=["gl","gl2d","2dMap"],r.meta={},t.exports=r},{"../../plots/gl2d":520,"../heatmap/calc":555,"../heatmap/colorbar":557,"../heatmap/defaults":559,"./attributes":566,"./convert":567}],569:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=e.length,r=0,o=0;o<n;o++)t[o]?(e[o]/=t[o],r+=e[o]):e[o]=null;return r}},{}],570:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports={count:function(e,t,n){return n[e]++,1},sum:function(e,t,n,o){var i=o[t];return r(i)?(i=Number(i),n[e]+=i,i):0},avg:function(e,t,n,o,i){var a=o[t];return r(a)&&(a=Number(a),n[e]+=a,i[e]++),0},min:function(e,t,n,o){var i=o[t];if(r(i)){if(i=Number(i),!r(n[e]))return n[e]=i,i;if(n[e]>i){var a=i-n[e];return n[e]=i,a}}return 0},max:function(e,t,n,o){var i=o[t];if(r(i)){if(i=Number(i),!r(n[e]))return n[e]=i,i;if(n[e]<i){var a=i-n[e];return n[e]=i,a}}return 0}}},{"fast-isnumeric":149}],571:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),o=r.ONEAVGYEAR,i=r.ONEAVGMONTH,a=r.ONEDAY,s=r.ONEHOUR,l=r.ONEMIN,u=r.ONESEC,c=e("../../plots/cartesian/axes").tickIncrement;function d(e,t,n,r){if(e*t<=0)return 1/0;for(var o=Math.abs(t-e),i="date"===n.type,a=f(o,i),s=0;s<10;s++){var l=f(80*a,i);if(a===l)break;if(!h(l,e,t,i,n,r))break;a=l}return a}function f(e,t){return t&&e>u?e>a?e>1.1*o?o:e>1.1*i?i:a:e>s?s:e>l?l:u:Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function h(e,t,n,r,i,s){if(r&&e>a){var l=p(t,i,s),u=p(n,i,s),c=e===o?0:1;return l[c]!==u[c]}return Math.floor(n/e)-Math.floor(t/e)>.1}function p(e,t,n){var r=t.c2d(e,o,n).split("-");return""===r[0]&&(r.unshift(),r[0]="-"+r[0]),r}t.exports=function(e,t,n,r,i){var s,l,u=-1.1*t,f=-.1*t,h=e-f,p=n[0],m=n[1],g=Math.min(d(p+f,p+h,r,i),d(m+f,m+h,r,i)),v=Math.min(d(p+u,p+f,r,i),d(m+u,m+f,r,i));if(g>v&&v<Math.abs(m-p)/4e3?(s=g,l=!1):(s=Math.min(g,v),l=!0),"date"===r.type&&s>a){var y=s===o?1:6,b=s===o?"M12":"M1";return function(t,n){var a=r.c2d(t,o,i),s=a.indexOf("-",y);s>0&&(a=a.substr(0,s));var u=r.d2c(a,0,i);if(u<t){var d=c(u,b,!1,i);(u+d)/2<t+e&&(u=d)}return n&&l?c(u,b,!0,i):u}}return function(t,n){var r=s*Math.round(t/s);return r+s/10<t&&r+.9*s<t+e&&(r+=s),n&&l&&(r-=s),r}}},{"../../constants/numerical":420,"../../plots/cartesian/axes":488}],572:[function(e,t,n){"use strict";t.exports={percent:function(e,t){for(var n=e.length,r=100/t,o=0;o<n;o++)e[o]*=r},probability:function(e,t){for(var n=e.length,r=0;r<n;r++)e[r]/=t},density:function(e,t,n,r){var o=e.length;r=r||1;for(var i=0;i<o;i++)e[i]*=n[i]*r},"probability density":function(e,t,n,r){var o=e.length;r&&(t/=r);for(var i=0;i<o;i++)e[i]*=n[i]/t}}},{}],573:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("../histogram/bin_functions"),a=e("../histogram/norm_functions"),s=e("../histogram/average"),l=e("../histogram/bin_label_vals");function u(e,t,n,i,a,s,l){var u=t+"bins",c=e[u];c||(c=e[u]={});var d=e._input[u]||{},f=e._autoBin={};d.size||delete c.size,void 0===d.start&&delete c.start,void 0===d.end&&delete c.end;var h=!c.size,p=void 0===c.start,m=void 0===c.end;if(h||p||m){var g=o.autoBin(n,i,e["nbins"+t],"2d",l,c.size);"histogram2dcontour"===e.type&&(p&&(g.start=s(o.tickIncrement(a(g.start),g.size,!0,l))),m&&(g.end=s(o.tickIncrement(a(g.end),g.size,!1,l)))),h&&(c.size=f.size=g.size),p&&(c.start=f.start=g.start),m&&(c.end=f.end=g.end)}var v="autobin"+t;!1===e._input[v]&&(e._input[u]=r.extendFlat({},c),delete e._input[v],delete e[v])}function c(e,t,n,r){var o,i=new Array(e);if(r)for(o=0;o<e;o++)i[o]=1/(t[o+1]-t[o]);else{var a=1/n;for(o=0;o<e;o++)i[o]=a}return i}function d(e,t){return{start:e(t.start),end:e(t.end),size:t.size}}function f(e,t,n,r,o,i){var a,s=e.length-1,u=new Array(s);if(t)for(a=0;a<s;a++)u[a]=[t[a],t[a]];else{var c=l(n,r,e,o,i);for(a=0;a<s;a++)u[a]=[c(e[a]),c(e[a+1],!0)]}return u}t.exports=function(e,t){var n,l,h,p,m=o.getFromId(e,t.xaxis||"x"),g=t.x?m.makeCalcdata(t,"x"):[],v=o.getFromId(e,t.yaxis||"y"),y=t.y?v.makeCalcdata(t,"y"):[],b=t.xcalendar,_=t.ycalendar,x=function(e){return m.r2c(e,0,b)},w=function(e){return v.r2c(e,0,_)},k=function(e){return m.c2r(e,0,b)},E=function(e){return v.c2r(e,0,_)},T=t._length;g.length>T&&g.splice(T,g.length-T),y.length>T&&y.splice(T,y.length-T),u(t,"x",g,m,x,k,b),u(t,"y",y,v,w,E,_);var A=[],S=[],M=[],C="string"==typeof t.xbins.size,j="string"==typeof t.ybins.size,O=[],N=[],R=C?O:t.xbins,P=j?N:t.ybins,I=0,D=[],L=[],B=t.histnorm,F=t.histfunc,z=-1!==B.indexOf("density"),U="max"===F||"min"===F,q=U?null:0,V=i.count,H=a[B],W=!1,G=[],X=[],K="z"in t?t.z:"marker"in t&&Array.isArray(t.marker.color)?t.marker.color:"";K&&"count"!==F&&(W="avg"===F,V=i[F]);var Y=t.xbins,$=x(Y.start),Z=x(Y.end)+($-o.tickIncrement($,Y.size,!1,b))/1e6;for(n=$;n<Z;n=o.tickIncrement(n,Y.size,!1,b))S.push(q),O.push(n),W&&M.push(0);O.push(n);var Q=S.length,J=x(t.xbins.start),ee=(n-J)/Q,te=k(J+ee/2);for(Y=t.ybins,$=w(Y.start),Z=w(Y.end)+($-o.tickIncrement($,Y.size,!1,_))/1e6,n=$;n<Z;n=o.tickIncrement(n,Y.size,!1,_)){A.push(S.slice()),N.push(n);var ne=new Array(Q);for(l=0;l<Q;l++)ne[l]=[];L.push(ne),W&&D.push(M.slice())}N.push(n);var re=A.length,oe=w(t.ybins.start),ie=(n-oe)/re,ae=E(oe+ie/2);z&&(G=c(S.length,R,ee,C),X=c(A.length,P,ie,j)),C||"date"!==m.type||(R=d(x,R)),j||"date"!==v.type||(P=d(w,P));var se=!0,le=!0,ue=new Array(Q),ce=new Array(re),de=1/0,fe=1/0,he=1/0,pe=1/0;for(n=0;n<T;n++){var me=g[n],ge=y[n];h=r.findBin(me,R),p=r.findBin(ge,P),h>=0&&h<Q&&p>=0&&p<re&&(I+=V(h,n,A[p],K,D[p]),L[p][h].push(n),se&&(void 0===ue[h]?ue[h]=me:ue[h]!==me&&(se=!1)),le&&(void 0===ce[h]?ce[h]=ge:ce[h]!==ge&&(le=!1)),de=Math.min(de,me-O[h]),fe=Math.min(fe,O[h+1]-me),he=Math.min(he,ge-N[p]),pe=Math.min(pe,N[p+1]-ge))}if(W)for(p=0;p<re;p++)I+=s(A[p],D[p]);if(H)for(p=0;p<re;p++)H(A[p],I,G,X[p]);return{x:g,xRanges:f(O,se&&ue,de,fe,m,b),x0:te,dx:ee,y:y,yRanges:f(N,le&&ce,he,pe,v,_),y0:ae,dy:ie,z:A,pts:L}}},{"../../lib":441,"../../plots/cartesian/axes":488,"../histogram/average":569,"../histogram/bin_functions":570,"../histogram/bin_label_vals":571,"../histogram/norm_functions":572}],574:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),o=e("../../components/colorbar/attributes"),i=e("../../plots/cartesian/layout_attributes"),a=e("../../plots/font_attributes"),s=e("../../plots/domain").attributes,l=e("../../lib/extend").extendFlat,u=e("../../plot_api/plot_template").templatedArray;t.exports={domain:s({name:"parcoords",trace:!0,editType:"calc"}),hoverlabel:void 0,labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),rangefont:a({editType:"calc"}),dimensions:u("dimension",{label:{valType:"string",editType:"calc"},tickvals:l({},i.tickvals,{editType:"calc"}),ticktext:l({},i.ticktext,{editType:"calc"}),tickformat:{valType:"string",dflt:"3s",editType:"calc"},visible:{valType:"boolean",dflt:!0,editType:"calc"},range:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},multiselect:{valType:"boolean",dflt:!0,editType:"calc"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:l(r("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"}),{colorbar:o,editType:"calc"})}},{"../../components/colorbar/attributes":320,"../../components/colorscale/attributes":326,"../../lib/extend":432,"../../plot_api/plot_template":478,"../../plots/cartesian/layout_attributes":501,"../../plots/domain":514,"../../plots/font_attributes":515}],575:[function(e,t,n){"use strict";var r=e("./constants"),o=e("d3"),i=e("../../lib/gup").keyFun,a=e("../../lib/gup").repeat,s=e("../../lib").sorterAsc,l=r.bar.snapRatio;function u(e,t){return e*(1-l)+t*l}var c=r.bar.snapClose;function d(e,t){return e*(1-c)+t*c}function f(e,t,n){if(p(t,n))return t;for(var r=e[0],o=r,i=1;i<e.length;i++){var a=e[i];if(t<d(r,a))return u(r,o);if(t<a||i===e.length-1)return u(a,r);o=r,r=a}}function h(e,t,n){if(p(t,n))return t;for(var r=e[e.length-1],o=r,i=e.length-2;i>=0;i--){var a=e[i];if(t>d(r,a))return u(r,o);if(t>a||i===e.length-1)return u(a,r);o=r,r=a}}function p(e,t){for(var n=0;n<t.length;n++)if(e>=t[n][0]&&e<=t[n][1])return!0;return!1}function m(e){e.attr("x",-r.bar.captureWidth/2).attr("width",r.bar.captureWidth)}function g(e){e.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function v(e){if(!e.brush.filterSpecified)return"0,"+e.height;for(var t,n,r,o=y(e.brush.filter.getConsolidated(),e.height),i=[0],a=o.length?o[0][0]:null,s=0;s<o.length;s++)t=o[s],n=t[1]-t[0],i.push(a),i.push(n),(r=s+1)<o.length&&(a=o[r][0]-t[1]);return i.push(e.height),i}function y(e,t){return e.map(function(e){return e.map(function(e){return e*t}).sort(s)})}function b(){o.select(document.body).style("cursor",null)}function _(e){e.attr("stroke-dasharray",v)}function x(e,t){var n=o.select(e).selectAll(".highlight, .highlight-shadow"),i=t?n.transition().duration(r.bar.snapDuration).each("end",t):n;_(i)}function w(e,t){var n,o=e.brush,i=o.filterSpecified,a=NaN,s={};if(i){var l=e.height,u=o.filter.getConsolidated(),c=y(u,l),d=NaN,f=NaN,h=NaN;for(n=0;n<=c.length;n++){var p=c[n];if(p&&p[0]<=t&&t<=p[1]){d=n;break}if(f=n?n-1:NaN,p&&p[0]>t){h=n;break}}if(a=d,isNaN(a)&&(a=isNaN(f)||isNaN(h)?isNaN(f)?h:f:t-c[f][1]<c[h][0]-t?f:h),!isNaN(a)){var m=c[a],g=function(e,t){var n=r.bar.handleHeight;if(!(t>e[1]+n||t<e[0]-n))return t>=.9*e[1]+.1*e[0]?"n":t<=.9*e[0]+.1*e[1]?"s":"ns"}(m,t);g&&(s.interval=u[a],s.intervalPix=m,s.region=g)}}if(e.ordinal&&!s.region){var v=e.unitTickvals,b=e.unitToPaddedPx.invert(t);for(n=0;n<v.length;n++){var _=[.25*v[Math.max(n-1,0)]+.75*v[n],.25*v[Math.min(n+1,v.length-1)]+.75*v[n]];if(b>=_[0]&&b<=_[1]){s.clickableOrdinalRange=_;break}}}return s}function k(e){e.on("mousemove",function(e){if(o.event.preventDefault(),!e.parent.inBrushDrag){var t=e.height-o.mouse(this)[1]-2*r.verticalPadding,n=w(e,t),i="crosshair";n.clickableOrdinalRange?i="pointer":n.region&&(i=n.region+"-resize"),o.select(document.body).style("cursor",i)}}).on("mouseleave",function(e){e.parent.inBrushDrag||b()}).call(o.behavior.drag().on("dragstart",function(e){o.event.sourceEvent.stopPropagation();var t=e.height-o.mouse(this)[1]-2*r.verticalPadding,n=e.unitToPaddedPx.invert(t),i=e.brush,a=w(e,t),s=a.interval,l=i.svgBrush;if(l.wasDragged=!1,l.grabbingBar="ns"===a.region,l.grabbingBar){var u=s.map(e.unitToPaddedPx);l.grabPoint=t-u[0]-r.verticalPadding,l.barLength=u[1]-u[0]}l.clickableOrdinalRange=a.clickableOrdinalRange,l.stayingIntervals=e.multiselect&&i.filterSpecified?i.filter.getConsolidated():[],s&&(l.stayingIntervals=l.stayingIntervals.filter(function(e){return e[0]!==s[0]&&e[1]!==s[1]})),l.startExtent=a.region?s["s"===a.region?1:0]:n,e.parent.inBrushDrag=!0,l.brushStartCallback()}).on("drag",function(e){o.event.sourceEvent.stopPropagation();var t=e.height-o.mouse(this)[1]-2*r.verticalPadding,n=e.brush.svgBrush;n.wasDragged=!0,n.grabbingBar?n.newExtent=[t-n.grabPoint,t+n.barLength-n.grabPoint].map(e.unitToPaddedPx.invert):n.newExtent=[n.startExtent,e.unitToPaddedPx.invert(t)].sort(s);var i=Math.max(0,-n.newExtent[0]),a=Math.max(0,n.newExtent[1]-1);n.newExtent[0]+=i,n.newExtent[1]-=a,n.grabbingBar&&(n.newExtent[1]+=i,n.newExtent[0]-=a),e.brush.filterSpecified=!0,n.extent=n.stayingIntervals.concat([n.newExtent]),n.brushCallback(e),x(this.parentNode)}).on("dragend",function(e){var t=o.event;t.sourceEvent.stopPropagation();var n=e.brush,r=n.filter,i=n.svgBrush,a=i.grabbingBar;if(i.grabbingBar=!1,i.grabLocation=void 0,e.parent.inBrushDrag=!1,b(),!i.wasDragged)return i.wasDragged=void 0,i.clickableOrdinalRange?n.filterSpecified&&e.multiselect?i.extent.push(i.clickableOrdinalRange):(i.extent=[i.clickableOrdinalRange],n.filterSpecified=!0):a?(i.extent=i.stayingIntervals,0===i.extent.length&&T(n)):T(n),i.brushCallback(e),x(this.parentNode),void i.brushEndCallback(n.filterSpecified?r.getConsolidated():[]);var s=function(){r.set(r.getConsolidated())};if(e.ordinal){var l=e.unitTickvals;l[l.length-1]<l[0]&&l.reverse(),i.newExtent=[f(l,i.newExtent[0],i.stayingIntervals),h(l,i.newExtent[1],i.stayingIntervals)];var u=i.newExtent[1]>i.newExtent[0];i.extent=i.stayingIntervals.concat(u?[i.newExtent]:[]),i.extent.length||T(n),i.brushCallback(e),u?x(this.parentNode,s):(s(),x(this.parentNode))}else s();i.brushEndCallback(n.filterSpecified?r.getConsolidated():[])}))}function E(e,t){return e[0]-t[0]}function T(e){e.filterSpecified=!1,e.svgBrush.extent=[[0,1]]}function A(e){for(var t,n=e.slice(),r=[],o=n.shift();o;){for(t=o.slice();(o=n.shift())&&o[0]<=t[1];)t[1]=Math.max(t[1],o[1]);r.push(t)}return r}t.exports={makeBrush:function(e,t,n,r,o,i){var a,l=function(){var e,t,n=[];return{set:function(r){n=r.map(function(e){return e.slice().sort(s)}).sort(E),e=A(n),t=n.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0])},get:function(){return n.slice()},getConsolidated:function(){return e},getBounds:function(){return t}}}();return l.set(n),{filter:l,filterSpecified:t,svgBrush:{extent:[],brushStartCallback:r,brushCallback:(a=o,function(e){var t=e.brush,n=function(e){return e.svgBrush.extent.map(function(e){return e.slice()})}(t),r=n.slice();t.filter.set(r),a()}),brushEndCallback:i}}},ensureAxisBrush:function(e){var t=e.selectAll("."+r.cn.axisBrush).data(a,i);t.enter().append("g").classed(r.cn.axisBrush,!0),function(e){var t=e.selectAll(".background").data(a);t.enter().append("rect").classed("background",!0).call(m).call(g).style("pointer-events","auto").attr("transform","translate(0 "+r.verticalPadding+")"),t.call(k).attr("height",function(e){return e.height-r.verticalPadding});var n=e.selectAll(".highlight-shadow").data(a);n.enter().append("line").classed("highlight-shadow",!0).attr("x",-r.bar.width/2).attr("stroke-width",r.bar.width+r.bar.strokeWidth).attr("stroke",r.bar.strokeColor).attr("opacity",r.bar.strokeOpacity).attr("stroke-linecap","butt"),n.attr("y1",function(e){return e.height}).call(_);var o=e.selectAll(".highlight").data(a);o.enter().append("line").classed("highlight",!0).attr("x",-r.bar.width/2).attr("stroke-width",r.bar.width-r.bar.strokeWidth).attr("stroke",r.bar.fillColor).attr("opacity",r.bar.fillOpacity).attr("stroke-linecap","butt"),o.attr("y1",function(e){return e.height}).call(_)}(t)},cleanRanges:function(e,t){if(Array.isArray(e[0])?(e=e.map(function(e){return e.sort(s)}),e=t.multiselect?A(e.sort(E)):[e[0]]):e=[e.sort(s)],t.tickvals){var n=t.tickvals.slice().sort(s);if(!(e=e.map(function(e){var t=[f(n,e[0],[]),h(n,e[1],[])];if(t[1]>t[0])return t}).filter(function(e){return e})).length)return}return e.length>1?e:e[0]}}},{"../../lib":441,"../../lib/gup":438,"./constants":578,d3:85}],576:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../plots/get_data").getModuleCalcData,i=e("./plot"),a=e("../../constants/xmlns_namespaces");n.name="parcoords",n.plot=function(e){var t=o(e.calcdata,"parcoords")[0];t.length&&i(e,t)},n.clean=function(e,t,n,r){var o=r._has&&r._has("parcoords"),i=t._has&&t._has("parcoords");o&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container"),o=n.filter(function(e,t){return t===n.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");o.each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:a.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})}),window.setTimeout(function(){r.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},{"../../constants/xmlns_namespaces":421,"../../plots/get_data":517,"./plot":584,d3:85}],577:[function(e,t,n){"use strict";var r=e("../../components/colorscale/has_colorscale"),o=e("../../components/colorscale/calc"),i=e("../../lib"),a=e("../../lib/gup").wrap;t.exports=function(e,t){var n=!!t.line.colorscale&&i.isArrayOrTypedArray(t.line.color),s=n?t.line.color:function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=.5;return t}(t._length),l=n?t.line.colorscale:[[0,t.line.color],[1,t.line.color]];return r(t,"line")&&o(t,s,"line","c"),a({lineColor:s,cscale:l})}},{"../../components/colorscale/calc":327,"../../components/colorscale/has_colorscale":333,"../../lib":441,"../../lib/gup":438}],578:[function(e,t,n){"use strict";t.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeColor:"white",strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},{}],579:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../components/colorscale/has_colorscale"),i=e("../../components/colorscale/defaults"),a=e("../../plots/domain").defaults,s=e("../../plots/array_container_defaults"),l=e("./attributes"),u=e("./axisbrush"),c=e("./constants").maxDimensionCount,d=e("./merge_length");function f(e,t){function n(n,o){return r.coerce(e,t,l.dimensions,n,o)}var o=n("values"),i=n("visible");if(o&&o.length||(i=t.visible=!1),i){n("label"),n("tickvals"),n("ticktext"),n("tickformat"),n("range"),n("multiselect");var a=n("constraintrange");a&&(t.constraintrange=u.cleanRanges(a,t))}}t.exports=function(e,t,n,u){function h(n,o){return r.coerce(e,t,l,n,o)}var p=e.dimensions;Array.isArray(p)&&p.length>c&&(r.log("parcoords traces support up to "+c+" dimensions at the moment"),p.splice(c));var m=s(e,t,{name:"dimensions",handleItemDefaults:f}),g=function(e,t,n,a,s){var l=s("line.color",n);if(o(e,"line")&&r.isArrayOrTypedArray(l)){if(l.length)return s("line.colorscale"),i(e,t,a,s,{prefix:"line.",cLetter:"c"}),l.length;t.line.color=n}return 1/0}(e,t,n,u,h);a(t,u,h),Array.isArray(m)&&m.length||(t.visible=!1),d(t,m,"values",g);var v={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};r.coerceFont(h,"labelfont",v),r.coerceFont(h,"tickfont",v),r.coerceFont(h,"rangefont",v)}},{"../../components/colorscale/defaults":329,"../../components/colorscale/has_colorscale":333,"../../lib":441,"../../plots/array_container_defaults":484,"../../plots/domain":514,"./attributes":574,"./axisbrush":575,"./constants":578,"./merge_length":582}],580:[function(e,t,n){"use strict";var r={};r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.calc=e("./calc"),r.plot=e("./plot"),r.colorbar={container:"line",min:"cmin",max:"cmax"},r.moduleType="trace",r.name="parcoords",r.basePlotModule=e("./base_plot"),r.categories=["gl","regl","noOpacity"],r.meta={},t.exports=r},{"./attributes":574,"./base_plot":576,"./calc":577,"./defaults":579,"./plot":584}],581:[function(e,t,n){"use strict";var r=e("glslify"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D palette;\nuniform sampler2D mask;\nuniform float maskHeight;\n\nuniform vec2 colorClamp;\n\nvarying vec4 fragColor;\n\nvec4 unit_1 = vec4(1, 1, 1, 1);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit_1, unit_1);\n}\n\nfloat axisY(\n        float x,\n        mat4 d[4],\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D\n    ) {\n\n    float y1 = val(d[0], dim1A) + val(d[1], dim1B) + val(d[2], dim1C) + val(d[3], dim1D);\n    float y2 = val(d[0], dim2A) + val(d[1], dim2B) + val(d[2], dim2C) + val(d[3], dim2D);\n    return y1 * (1.0 - x) + y2 * x;\n}\n\nconst int bitsPerByte = 8;\n\nint mod2(int a) {\n    return a - 2 * (a / 2);\n}\n\nint mod8(int a) {\n    return a - 8 * (a / 8);\n}\n\nvec4 zero = vec4(0, 0, 0, 0);\nvec4 unit_0 = vec4(1, 1, 1, 1);\nvec2 xyProjection = vec2(1, 1);\n\nmat4 mclamp(mat4 m, mat4 lo, mat4 hi) {\n    return mat4(clamp(m[0], lo[0], hi[0]),\n                clamp(m[1], lo[1], hi[1]),\n                clamp(m[2], lo[2], hi[2]),\n                clamp(m[3], lo[3], hi[3]));\n}\n\nbool mshow(mat4 p, mat4 lo, mat4 hi) {\n    return mclamp(p, lo, hi) == p;\n}\n\nbool withinBoundingBox(\n        mat4 d[4],\n        mat4 loA, mat4 hiA, mat4 loB, mat4 hiB, mat4 loC, mat4 hiC, mat4 loD, mat4 hiD\n    ) {\n\n    return mshow(d[0], loA, hiA) &&\n           mshow(d[1], loB, hiB) &&\n           mshow(d[2], loC, hiC) &&\n           mshow(d[3], loD, hiD);\n}\n\nbool withinRasterMask(mat4 d[4], sampler2D mask, float height) {\n    bool result = true;\n    int bitInByteStepper;\n    float valY, valueY, scaleX;\n    int hit, bitmask, valX;\n    for(int i = 0; i < 4; i++) {\n        for(int j = 0; j < 4; j++) {\n            for(int k = 0; k < 4; k++) {\n                bitInByteStepper = mod8(j * 4 + k);\n                valX = i * 2 + j / 2;\n                valY = d[i][j][k];\n                valueY = valY * (height - 1.0) + 0.5;\n                scaleX = (float(valX) + 0.5) / 8.0;\n                hit = int(texture2D(mask, vec2(scaleX, (valueY + 0.5) / height))[3] * 255.0) / int(pow(2.0, float(bitInByteStepper)));\n                result = result && mod2(hit) == 1;\n            }\n        }\n    }\n    return result;\n}\n\nvec4 position(\n        float depth,\n        vec2 resolution, vec2 viewBoxPosition, vec2 viewBoxSize,\n        mat4 dims[4],\n        float signum,\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D,\n        mat4 loA, mat4 hiA, mat4 loB, mat4 hiB, mat4 loC, mat4 hiC, mat4 loD, mat4 hiD,\n        sampler2D mask, float maskHeight\n    ) {\n\n    float x = 0.5 * signum + 0.5;\n    float y = axisY(x, dims, dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D);\n\n    float show = float(\n                            withinBoundingBox(dims, loA, hiA, loB, hiB, loC, hiC, loD, hiD)\n                         && withinRasterMask(dims, mask, maskHeight)\n                      );\n\n    vec2 viewBoxXY = viewBoxPosition + viewBoxSize * vec2(x, y);\n    float depthOrHide = depth + 2.0 * (1.0 - show);\n\n    return vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depthOrHide,\n        1.0\n    );\n}\n\nvoid main() {\n\n    float prominence = abs(pf[3]);\n\n    mat4 p[4];\n    p[0] = mat4(p0, p1, p2, p3);\n    p[1] = mat4(p4, p5, p6, p7);\n    p[2] = mat4(p8, p9, pa, pb);\n    p[3] = mat4(pc, pd, pe, abs(pf));\n\n    gl_Position = position(\n        1.0 - prominence,\n        resolution, viewBoxPosition, viewBoxSize,\n        p,\n        sign(pf[3]),\n        dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n        loA, hiA, loB, hiB, loC, hiC, loD, hiD,\n        mask, maskHeight\n    );\n\n    float clampedColorIndex = clamp((prominence - colorClamp[0]) / (colorClamp[1] - colorClamp[0]), 0.0, 1.0);\n    fragColor = texture2D(palette, vec2((clampedColorIndex * 255.0 + 0.5) / 256.0, 0.5));\n}\n"]),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D palette;\n\nuniform vec2 colorClamp;\n\nvarying vec4 fragColor;\n\nvec2 xyProjection = vec2(1, 1);\n\nvec4 unit = vec4(1, 1, 1, 1);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit, unit);\n}\n\nfloat axisY(\n        float x,\n        mat4 d[4],\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D\n    ) {\n\n    float y1 = val(d[0], dim1A) + val(d[1], dim1B) + val(d[2], dim1C) + val(d[3], dim1D);\n    float y2 = val(d[0], dim2A) + val(d[1], dim2B) + val(d[2], dim2C) + val(d[3], dim2D);\n    return y1 * (1.0 - x) + y2 * x;\n}\n\nvec4 position(\n        float depth,\n        vec2 resolution, vec2 viewBoxPosition, vec2 viewBoxSize,\n        mat4 dims[4],\n        float signum,\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D\n    ) {\n\n    float x = 0.5 * signum + 0.5;\n    float y = axisY(x, dims, dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D);\n\n    vec2 viewBoxXY = viewBoxPosition + viewBoxSize * vec2(x, y);\n\n    return vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depth,\n        1.0\n    );\n}\n\nvoid main() {\n\n    float prominence = abs(pf[3]);\n\n    mat4 p[4];\n    p[0] = mat4(p0, p1, p2, p3);\n    p[1] = mat4(p4, p5, p6, p7);\n    p[2] = mat4(p8, p9, pa, pb);\n    p[3] = mat4(pc, pd, pe, abs(pf));\n\n    gl_Position = position(\n        1.0 - prominence,\n        resolution, viewBoxPosition, viewBoxSize,\n        p,\n        sign(pf[3]),\n        dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D\n    );\n\n    float clampedColorIndex = clamp((prominence - colorClamp[0]) / (colorClamp[1] - colorClamp[0]), 0.0, 1.0);\n    fragColor = texture2D(palette, vec2((clampedColorIndex * 255.0 + 0.5) / 256.0, 0.5));\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D mask;\nuniform float maskHeight;\n\nuniform vec2 colorClamp;\n\nvarying vec4 fragColor;\n\nvec4 unit_1 = vec4(1, 1, 1, 1);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit_1, unit_1);\n}\n\nfloat axisY(\n        float x,\n        mat4 d[4],\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D\n    ) {\n\n    float y1 = val(d[0], dim1A) + val(d[1], dim1B) + val(d[2], dim1C) + val(d[3], dim1D);\n    float y2 = val(d[0], dim2A) + val(d[1], dim2B) + val(d[2], dim2C) + val(d[3], dim2D);\n    return y1 * (1.0 - x) + y2 * x;\n}\n\nconst int bitsPerByte = 8;\n\nint mod2(int a) {\n    return a - 2 * (a / 2);\n}\n\nint mod8(int a) {\n    return a - 8 * (a / 8);\n}\n\nvec4 zero = vec4(0, 0, 0, 0);\nvec4 unit_0 = vec4(1, 1, 1, 1);\nvec2 xyProjection = vec2(1, 1);\n\nmat4 mclamp(mat4 m, mat4 lo, mat4 hi) {\n    return mat4(clamp(m[0], lo[0], hi[0]),\n                clamp(m[1], lo[1], hi[1]),\n                clamp(m[2], lo[2], hi[2]),\n                clamp(m[3], lo[3], hi[3]));\n}\n\nbool mshow(mat4 p, mat4 lo, mat4 hi) {\n    return mclamp(p, lo, hi) == p;\n}\n\nbool withinBoundingBox(\n        mat4 d[4],\n        mat4 loA, mat4 hiA, mat4 loB, mat4 hiB, mat4 loC, mat4 hiC, mat4 loD, mat4 hiD\n    ) {\n\n    return mshow(d[0], loA, hiA) &&\n           mshow(d[1], loB, hiB) &&\n           mshow(d[2], loC, hiC) &&\n           mshow(d[3], loD, hiD);\n}\n\nbool withinRasterMask(mat4 d[4], sampler2D mask, float height) {\n    bool result = true;\n    int bitInByteStepper;\n    float valY, valueY, scaleX;\n    int hit, bitmask, valX;\n    for(int i = 0; i < 4; i++) {\n        for(int j = 0; j < 4; j++) {\n            for(int k = 0; k < 4; k++) {\n                bitInByteStepper = mod8(j * 4 + k);\n                valX = i * 2 + j / 2;\n                valY = d[i][j][k];\n                valueY = valY * (height - 1.0) + 0.5;\n                scaleX = (float(valX) + 0.5) / 8.0;\n                hit = int(texture2D(mask, vec2(scaleX, (valueY + 0.5) / height))[3] * 255.0) / int(pow(2.0, float(bitInByteStepper)));\n                result = result && mod2(hit) == 1;\n            }\n        }\n    }\n    return result;\n}\n\nvec4 position(\n        float depth,\n        vec2 resolution, vec2 viewBoxPosition, vec2 viewBoxSize,\n        mat4 dims[4],\n        float signum,\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D,\n        mat4 loA, mat4 hiA, mat4 loB, mat4 hiB, mat4 loC, mat4 hiC, mat4 loD, mat4 hiD,\n        sampler2D mask, float maskHeight\n    ) {\n\n    float x = 0.5 * signum + 0.5;\n    float y = axisY(x, dims, dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D);\n\n    float show = float(\n                            withinBoundingBox(dims, loA, hiA, loB, hiB, loC, hiC, loD, hiD)\n                         && withinRasterMask(dims, mask, maskHeight)\n                      );\n\n    vec2 viewBoxXY = viewBoxPosition + viewBoxSize * vec2(x, y);\n    float depthOrHide = depth + 2.0 * (1.0 - show);\n\n    return vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depthOrHide,\n        1.0\n    );\n}\n\nvoid main() {\n\n    float prominence = abs(pf[3]);\n\n    mat4 p[4];\n    p[0] = mat4(p0, p1, p2, p3);\n    p[1] = mat4(p4, p5, p6, p7);\n    p[2] = mat4(p8, p9, pa, pb);\n    p[3] = mat4(pc, pd, pe, abs(pf));\n\n    gl_Position = position(\n        1.0 - prominence,\n        resolution, viewBoxPosition, viewBoxSize,\n        p,\n        sign(pf[3]),\n        dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n        loA, hiA, loB, hiB, loC, hiC, loD, hiD,\n        mask, maskHeight\n    );\n\n    fragColor = vec4(pf.rgb, 1.0);\n}\n"]),s=r(["precision lowp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),l=e("../../lib"),u=1e-6,c=1e-7,d=2048,f=64,h=2,p=4,m=8,g=f/m,v=[119,119,119],y=new Uint8Array(4),b=new Uint8Array(4),_={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function x(e,t,n,r,o){var i=e._gl;i.enable(i.SCISSOR_TEST),i.scissor(t,n,r,o),e.clear({color:[0,0,0,0],depth:1})}function w(e,t,n,r,o,i){var a=i.key;n.drawCompleted||(function(e){e.read({x:0,y:0,width:1,height:1,data:y})}(e),n.drawCompleted=!0),function s(l){var u;u=Math.min(r,o-l*r),i.offset=h*l*r,i.count=h*u,0===l&&(window.cancelAnimationFrame(n.currentRafs[a]),delete n.currentRafs[a],x(e,i.scissorX,i.scissorY,i.scissorWidth,i.viewBoxSize[1])),n.clearOnly||(t(i),l*r+u<o&&(n.currentRafs[a]=window.requestAnimationFrame(function(){s(l+1)})),n.drawCompleted=!1)}(0)}function k(e,t,n){for(var r=[],o=0;o<256;o++){var i=e(o/255);r.push((t?v:i).concat(n))}return r}function E(e,t){return(e>>>8*t)%256/255}function T(e,t,n){var r,o,i,a=[];for(o=0;o<e;o++)for(i=0;i<h;i++)for(r=0;r<p;r++)a.push(t[o*f+n*p+r]),n*p+r===f-1&&i%2==0&&(a[a.length-1]*=-1);return a}t.exports=function(e,t){var n,r,h,p,v,y=t.context,A=t.pick,S=t.regl,M={currentRafs:{},drawCompleted:!0,clearOnly:!1},C=function(e){for(var t={},n=0;n<16;n++)t["p"+n.toString(16)]=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return t}(S),j=S.texture(_);N(t);var O=S({profile:!1,blend:{enable:y,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!y,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:S.prop("scissorX"),y:S.prop("scissorY"),width:S.prop("scissorWidth"),height:S.prop("scissorHeight")}},viewport:{x:S.prop("viewportX"),y:S.prop("viewportY"),width:S.prop("viewportWidth"),height:S.prop("viewportHeight")},dither:!1,vert:A?a:y?i:o,frag:s,primitive:"lines",lineWidth:1,attributes:C,uniforms:{resolution:S.prop("resolution"),viewBoxPosition:S.prop("viewBoxPosition"),viewBoxSize:S.prop("viewBoxSize"),dim1A:S.prop("dim1A"),dim2A:S.prop("dim2A"),dim1B:S.prop("dim1B"),dim2B:S.prop("dim2B"),dim1C:S.prop("dim1C"),dim2C:S.prop("dim2C"),dim1D:S.prop("dim1D"),dim2D:S.prop("dim2D"),loA:S.prop("loA"),hiA:S.prop("hiA"),loB:S.prop("loB"),hiB:S.prop("hiB"),loC:S.prop("loC"),hiC:S.prop("hiC"),loD:S.prop("loD"),hiD:S.prop("hiD"),palette:j,mask:S.prop("maskTexture"),maskHeight:S.prop("maskHeight"),colorClamp:S.prop("colorClamp")},offset:S.prop("offset"),count:S.prop("count")});function N(e){n=e.model,r=e.viewModel,h=r.dimensions.slice(),p=h[0]?h[0].values.length:0;var t=n.lines,o=A?t.color.map(function(e,n){return n/t.color.length}):t.color,i=Math.max(1/255,Math.pow(1/o.length,1/3)),a=function(e,t,n){for(var r=t.length,o=[],i=0;i<e;i++)for(var a=0;a<f;a++)o.push(a<r?t[a].paddedUnitValues[i]:a===f-1?(s=n[i],Math.max(u,Math.min(1-u,s))):a>=f-4?E(i,f-2-a):.5);var s;return o}(p,h,o);!function(e,t,n){for(var r=0;r<16;r++)e["p"+r.toString(16)](T(t,n,r))}(C,p,a),j=S.texture(l.extendFlat({data:k(n.unitToColor,y,Math.round(255*(y?i:1)))},_))}var R=[0,1],P=[];function I(e,t,r,o,i,a,s,u,c,d,f){var h,p,m,g,v=[e,t],y=[0,1].map(function(){return[0,1,2,3].map(function(){return new Float32Array(16)})});for(h=0;h<2;h++)for(g=v[h],p=0;p<4;p++)for(m=0;m<16;m++)y[h][p][m]=m+16*p===g?1:0;var b=n.lines.canvasOverdrag,_=n.domain,x=n.canvasWidth,w=n.canvasHeight,k=l.extendFlat({key:s,resolution:[x,w],viewBoxPosition:[r+b,o],viewBoxSize:[i,a],i:e,ii:t,dim1A:y[0][0],dim1B:y[0][1],dim1C:y[0][2],dim1D:y[0][3],dim2A:y[1][0],dim2B:y[1][1],dim2C:y[1][2],dim2D:y[1][3],colorClamp:R,scissorX:(u===c?0:r+b)+(n.pad.l-b)+n.layoutWidth*_.x[0],scissorWidth:(u===d?x-r+b:i+.5)+(u===c?r+b:0),scissorY:o+n.pad.b+n.layoutHeight*_.y[0],scissorHeight:a,viewportX:n.pad.l-b+n.layoutWidth*_.x[0],viewportY:n.pad.b+n.layoutHeight*_.y[0],viewportWidth:x,viewportHeight:w},f);return k}return{setColorDomain:function(e){R[0]=e[0],R[1]=e[1]},render:function(e,t,r){var o,i,a,s=e.length,l=1/0,u=-1/0;for(o=0;o<s;o++)e[o].dim2.canvasX>u&&(u=e[o].dim2.canvasX,a=o),e[o].dim1.canvasX<l&&(l=e[o].dim1.canvasX,i=o);0===s&&x(S,0,0,n.canvasWidth,n.canvasHeight);var f=y?{}:function(){var e,t,n,r=[0,1].map(function(){return[0,1,2,3].map(function(){return new Float32Array(16)})});for(e=0;e<2;e++)for(t=0;t<4;t++)for(n=0;n<16;n++){var o,i=n+16*t;o=i<h.length?h[i].brush.filter.getBounds()[e]:e,r[e][t][n]=o+(2*e-1)*c}function a(e,t){var n=d-1;return[Math.max(0,Math.floor(t[0]*n)),Math.min(n,Math.ceil(t[1]*n))]}for(var s=Array.apply(null,new Array(d*g)).map(function(){return 255}),l=0;l<h.length;l++){var u=l%m,f=(l-u)/m,p=Math.pow(2,u),y=h[l],b=y.brush.filter.get();if(!(b.length<2))for(var _=a(y,b[0])[1],x=1;x<b.length;x++){for(var w=a(y,b[x]),k=_+1;k<w[0];k++)s[k*g+f]&=~p;_=Math.max(_,w[1])}}var E={shape:[g,d],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:s};return v?v(E):v=S.texture(E),{maskTexture:v,maskHeight:d,loA:r[0][0],loB:r[0][1],loC:r[0][2],loD:r[0][3],hiA:r[1][0],hiB:r[1][1],hiC:r[1][2],hiD:r[1][3]}}();for(o=0;o<s;o++){var b=e[o],_=b.dim1,k=_.crossfilterDimensionIndex,E=b.canvasX,T=b.canvasY,A=b.dim2,C=A.crossfilterDimensionIndex,j=b.panelSizeX,N=b.panelSizeY,R=E+j;if(t||!P[k]||P[k][0]!==E||P[k][1]!==R){P[k]=[E,R];var D=I(k,C,E,T,j,N,_.crossfilterDimensionIndex,o,i,a,f);M.clearOnly=r,w(S,O,M,t?n.lines.blockLineCount:p,p,D)}}},readPixel:function(e,t){return S.read({x:e,y:t,width:1,height:1,data:b}),b},readPixels:function(e,t,n,r){var o=new Uint8Array(4*n*r);return S.read({x:e,y:t,width:n,height:r,data:o}),o},destroy:function(){for(var t in e.style["pointer-events"]="none",j.destroy(),v&&v.destroy(),C)C[t].destroy()},update:N}}},{"../../lib":441,glslify:199}],582:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o,i;for(r||(r=1/0),o=0;o<t.length;o++)(i=t[o]).visible&&(r=Math.min(r,i[n].length));for(r===1/0&&(r=0),e._length=r,o=0;o<t.length;o++)(i=t[o]).visible&&(i._length=r);return r}},{}],583:[function(e,t,n){"use strict";var r=e("./lines"),o=e("./constants"),i=e("../../lib"),a=e("d3"),s=e("../../components/drawing"),l=e("../../lib/gup"),u=l.keyFun,c=l.repeat,d=l.unwrap,f=e("./axisbrush");function h(e){return!("visible"in e)||e.visible}function p(e){var t=e.range?e.range[0]:i.aggNums(Math.min,null,e.values,e._length),n=e.range?e.range[1]:i.aggNums(Math.max,null,e.values,e._length);return!isNaN(t)&&isFinite(t)||(t=0),!isNaN(n)&&isFinite(n)||(n=0),t===n&&(0===t?(t-=1,n+=1):(t*=.9,n*=1.1)),[t,n]}function m(e,t,n,r,o){var i,s,l=p(n);return r?a.scale.ordinal().domain(r.map((i=a.format(n.tickformat),s=o,s?function(e,t){var n=s[t];return null==n?i(e):n}:i))).range(r.map(function(n){var r=(n-l[0])/(l[1]-l[0]);return e-t+r*(2*t-e)})):a.scale.linear().domain(l).range([e-t,t])}function g(e){if(e.tickvals){var t=p(e);return a.scale.ordinal().domain(e.tickvals).range(e.tickvals.map(function(e){return(e-t[0])/(t[1]-t[0])}))}}function v(e){var t=e.map(function(e){return e[0]}),n=e.map(function(e){return a.rgb(e[1])}),r="rgb".split("").map(function(e){return a.scale.linear().clamp(!0).domain(t).range(n.map((r=e,function(e){return e[r]})));var r});return function(e){return r.map(function(t){return t(e)})}}function y(e){return e.dimensions.some(function(e){return e.brush.filterSpecified})}function b(e,t,n){var r=n.width,s=n.height,l=n.dimensions,u=n.canvasPixelRatio,c=function(e){return r*e/Math.max(1,n.colCount-1)},d=o.verticalPadding/s,v=function(e,t){return a.scale.linear().range([t,e-t])}(s,o.verticalPadding),b={key:n.key,xScale:c,model:n,inBrushDrag:!1},_={};return b.dimensions=l.filter(h).map(function(r,l){var h=function(e,t){return a.scale.linear().domain(p(e)).range([t,1-t])}(r,d),x=_[r.label];_[r.label]=(x||0)+1;var w=r.label+(x?"__"+x:""),k=r.constraintrange,E=k&&k.length;E&&!Array.isArray(k[0])&&(k=[k]);var T=E?k.map(function(e){return e.map(h)}):[[0,1]],A=r.values;A.length>r._length&&(A=A.slice(0,r._length));var S,M=r.tickvals;function C(e,t){return{val:e,text:S[t]}}function j(e,t){return e.val-t.val}if(Array.isArray(M)&&M.length){S=r.ticktext,Array.isArray(S)&&S.length?S.length>M.length?S=S.slice(0,M.length):M.length>S.length&&(M=M.slice(0,S.length)):S=M.map(a.format(r.tickformat));for(var O=1;O<M.length;O++)if(M[O]<M[O-1]){for(var N=M.map(C).sort(j),R=0;R<M.length;R++)M[R]=N[R].val,S[R]=N[R].text;break}}else M=void 0;return{key:w,label:r.label,tickFormat:r.tickformat,tickvals:M,ticktext:S,ordinal:!!M,multiselect:r.multiselect,xIndex:l,crossfilterDimensionIndex:l,visibleIndex:r._index,height:s,values:A,paddedUnitValues:A.map(h),unitTickvals:M&&M.map(h),xScale:c,x:c(l),canvasX:c(l)*u,unitToPaddedPx:v,domainScale:m(s,o.verticalPadding,r,M,S),ordinalScale:g(r),parent:b,model:n,brush:f.makeBrush(e,E,T,function(){e.linePickActive(!1)},function(){var t=b;t.focusLayer&&t.focusLayer.render(t.panels,!0);var n=y(t);!e.contextShown()&&n?(t.contextLayer&&t.contextLayer.render(t.panels,!0),e.contextShown(!0)):e.contextShown()&&!n&&(t.contextLayer&&t.contextLayer.render(t.panels,!0,!0),e.contextShown(!1))},function(n){var o=b;if(o.focusLayer.render(o.panels,!0),o.pickLayer&&o.pickLayer.render(o.panels,!0),e.linePickActive(!0),t&&t.filterChanged){var a=h.invert,s=n.map(function(e){return e.map(a).sort(i.sorterAsc)}).sort(function(e,t){return e[0]-t[0]});t.filterChanged(o.key,r._index,s)}})}}),b}function _(e){e.classed(o.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default").style("user-select","none")}t.exports=function(e,t,n,l,m,g){var x,w,k=(x=!0,w=!1,{linePickActive:function(e){return arguments.length?x=!!e:x},contextShown:function(e){return arguments.length?w=!!e:w}}),E=l.filter(function(e){return d(e).trace.visible}).map(function(e,t,n){var r=d(t),s=r.trace,l=r.lineColor,u=r.cscale,c=s.line,f=s.domain,m=s.dimensions,g=e.width,y=s.labelfont,b=s.tickfont,_=s.rangefont,x=i.extendDeepNoArrays({},c,{color:l.map(a.scale.linear().domain(p({values:l,range:[c.cmin,c.cmax],_length:s._length}))),blockLineCount:o.blockLineCount,canvasOverdrag:o.overdrag*o.canvasPixelRatio}),w=Math.floor(g*(f.x[1]-f.x[0])),k=Math.floor(e.height*(f.y[1]-f.y[0])),E=e.margin||{l:80,r:80,t:100,b:80},T=w,A=k;return{key:n,colCount:m.filter(h).length,dimensions:m,tickDistance:o.tickDistance,unitToColor:v(u),lines:x,labelFont:y,tickFont:b,rangeFont:_,layoutWidth:g,layoutHeight:e.height,domain:f,translateX:f.x[0]*g,translateY:e.height-f.y[1]*e.height,pad:E,canvasWidth:T*o.canvasPixelRatio+2*x.canvasOverdrag,canvasHeight:A*o.canvasPixelRatio,width:T,height:A,canvasPixelRatio:o.canvasPixelRatio}}.bind(0,m)).map(b.bind(0,k,g));n.each(function(e,t){return i.extendFlat(e,E[t])});var T=n.selectAll(".gl-canvas").each(function(e){e.viewModel=E[0],e.model=e.viewModel?e.viewModel.model:null}),A=null,S=T.filter(function(e){return e.pick});S.style("pointer-events","auto").on("mousemove",function(e){if(k.linePickActive()&&e.lineLayer&&g&&g.hover){var t=a.event,n=this.width,r=this.height,o=a.mouse(this),i=o[0],s=o[1];if(i<0||s<0||i>=n||s>=r)return;var l=e.lineLayer.readPixel(i,r-1-s),u=0!==l[3],c=u?l[2]+256*(l[1]+256*l[0]):null,d={x:i,y:s,clientX:t.clientX,clientY:t.clientY,dataIndex:e.model.key,curveNumber:c};c!==A&&(u?g.hover(d):g.unhover&&g.unhover(d),A=c)}}),T.style("opacity",function(e){return e.pick?.01:1}),t.style("background","rgba(255, 255, 255, 0)");var M=t.selectAll("."+o.cn.parcoords).data(E,u);M.exit().remove(),M.enter().append("g").classed(o.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),M.attr("transform",function(e){return"translate("+e.model.translateX+","+e.model.translateY+")"});var C=M.selectAll("."+o.cn.parcoordsControlView).data(c,u);C.enter().append("g").classed(o.cn.parcoordsControlView,!0),C.attr("transform",function(e){return"translate("+e.model.pad.l+","+e.model.pad.t+")"});var j=C.selectAll("."+o.cn.yAxis).data(function(e){return e.dimensions},u);function O(e,t){for(var n=t.panels||(t.panels=[]),r=e.data(),o=r.length-1,i=0;i<o;i++){var a=n[i]||(n[i]={}),s=r[i],l=r[i+1];a.dim1=s,a.dim2=l,a.canvasX=s.canvasX,a.panelSizeX=l.canvasX-s.canvasX,a.panelSizeY=t.model.canvasHeight,a.y=0,a.canvasY=0}}j.enter().append("g").classed(o.cn.yAxis,!0),C.each(function(e){O(j,e)}),T.each(function(e){if(e.viewModel){!e.lineLayer||g?e.lineLayer=r(this,e):e.lineLayer.update(e),(e.key||0===e.key)&&(e.viewModel[e.key]=e.lineLayer);var t=!e.context||g;e.lineLayer.render(e.viewModel.panels,t)}}),j.attr("transform",function(e){return"translate("+e.xScale(e.xIndex)+", 0)"}),j.call(a.behavior.drag().origin(function(e){return e}).on("drag",function(e){var t=e.parent;k.linePickActive(!1),e.x=Math.max(-o.overdrag,Math.min(e.model.width+o.overdrag,a.event.x)),e.canvasX=e.x*e.model.canvasPixelRatio,j.sort(function(e,t){return e.x-t.x}).each(function(t,n){t.xIndex=n,t.x=e===t?t.x:t.xScale(t.xIndex),t.canvasX=t.x*t.model.canvasPixelRatio}),O(j,t),j.filter(function(t){return 0!==Math.abs(e.xIndex-t.xIndex)}).attr("transform",function(e){return"translate("+e.xScale(e.xIndex)+", 0)"}),a.select(this).attr("transform","translate("+e.x+", 0)"),j.each(function(n,r,o){o===e.parent.key&&(t.dimensions[r]=n)}),t.contextLayer&&t.contextLayer.render(t.panels,!1,!y(t)),t.focusLayer.render&&t.focusLayer.render(t.panels)}).on("dragend",function(e){var t=e.parent;e.x=e.xScale(e.xIndex),e.canvasX=e.x*e.model.canvasPixelRatio,O(j,t),a.select(this).attr("transform",function(e){return"translate("+e.x+", 0)"}),t.contextLayer&&t.contextLayer.render(t.panels,!1,!y(t)),t.focusLayer&&t.focusLayer.render(t.panels),t.pickLayer&&t.pickLayer.render(t.panels,!0),k.linePickActive(!0),g&&g.axesMoved&&g.axesMoved(t.key,t.dimensions.map(function(e){return e.crossfilterDimensionIndex}))})),j.exit().remove();var N=j.selectAll("."+o.cn.axisOverlays).data(c,u);N.enter().append("g").classed(o.cn.axisOverlays,!0),N.selectAll("."+o.cn.axis).remove();var R=N.selectAll("."+o.cn.axis).data(c,u);R.enter().append("g").classed(o.cn.axis,!0),R.each(function(e){var t=e.model.height/e.model.tickDistance,n=e.domainScale,r=n.domain();a.select(this).call(a.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(t,e.tickFormat).tickValues(e.ordinal?r:null).tickFormat(e.ordinal?function(e){return e}:null).scale(n)),s.font(R.selectAll("text"),e.model.tickFont)}),R.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),R.selectAll("text").style("text-shadow","1px 1px 1px #fff, -1px -1px 1px #fff, 1px -1px 1px #fff, -1px 1px 1px #fff").style("cursor","default").style("user-select","none");var P=N.selectAll("."+o.cn.axisHeading).data(c,u);P.enter().append("g").classed(o.cn.axisHeading,!0);var I=P.selectAll("."+o.cn.axisTitle).data(c,u);I.enter().append("text").classed(o.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("user-select","none").style("pointer-events","auto"),I.attr("transform","translate(0,"+-o.axisTitleOffset+")").text(function(e){return e.label}).each(function(e){s.font(a.select(this),e.model.labelFont)});var D=N.selectAll("."+o.cn.axisExtent).data(c,u);D.enter().append("g").classed(o.cn.axisExtent,!0);var L=D.selectAll("."+o.cn.axisExtentTop).data(c,u);L.enter().append("g").classed(o.cn.axisExtentTop,!0),L.attr("transform","translate(0,"+-o.axisExtentOffset+")");var B=L.selectAll("."+o.cn.axisExtentTopText).data(c,u);function F(e,t){if(e.ordinal)return"";var n=e.domainScale.domain();return a.format(e.tickFormat)(n[t?n.length-1:0])}B.enter().append("text").classed(o.cn.axisExtentTopText,!0).call(_),B.text(function(e){return F(e,!0)}).each(function(e){s.font(a.select(this),e.model.rangeFont)});var z=D.selectAll("."+o.cn.axisExtentBottom).data(c,u);z.enter().append("g").classed(o.cn.axisExtentBottom,!0),z.attr("transform",function(e){return"translate(0,"+(e.model.height+o.axisExtentOffset)+")"});var U=z.selectAll("."+o.cn.axisExtentBottomText).data(c,u);U.enter().append("text").classed(o.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(_),U.text(function(e){return F(e)}).each(function(e){s.font(a.select(this),e.model.rangeFont)}),f.ensureAxisBrush(N)}},{"../../components/drawing":344,"../../lib":441,"../../lib/gup":438,"./axisbrush":575,"./constants":578,"./lines":581,d3:85}],584:[function(e,t,n){"use strict";var r=e("./parcoords"),o=e("../../lib/prepare_regl");t.exports=function(e,t){var n=e._fullLayout,i=n._toppaper,a=n._paperdiv,s=n._glcontainer,l=o(e);if(l){var u={},c={},d=n._size;t.forEach(function(t,n){u[n]=e.data[n].dimensions,c[n]=e.data[n].dimensions.slice()}),r(a,i,s,t,{width:d.w,height:d.h,margin:{t:d.t,r:d.r,b:d.b,l:d.l}},{filterChanged:function(t,n,r){var o=c[t][n],i=r.map(function(e){return e.slice()});i.length?(1===i.length&&(i=i[0]),o.constraintrange=i,i=[i]):(delete o.constraintrange,i=null);var a={};a["dimensions["+n+"].constraintrange"]=i,e.emit("plotly_restyle",[a,[t]])},hover:function(t){e.emit("plotly_hover",t)},unhover:function(t){e.emit("plotly_unhover",t)},axesMoved:function(t,n){function r(e){return!("visible"in e)||e.visible}function o(e,t,n){var r=t.indexOf(n),o=e.indexOf(r);return-1===o&&(o+=t.length),o}var i=function(e){return function(t,r){var i=o(n,e,t),a=o(n,e,r);return i-a}}(c[t].filter(r));u[t].sort(i),c[t].filter(function(e){return!r(e)}).sort(function(e){return c[t].indexOf(e)}).forEach(function(e){u[t].splice(u[t].indexOf(e),1),u[t].splice(c[t].indexOf(e),0,e)}),e.emit("plotly_restyle")}})}}},{"../../lib/prepare_regl":454,"./parcoords":583}],585:[function(e,t,n){"use strict";var r=e("../../lib");n.formatPiePercent=function(e,t){var n=(100*e).toPrecision(3);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=e.toPrecision(10);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)},n.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r)return r}},n.castOption=function(e,t){return Array.isArray(e)?n.getFirstFilled(e,t):e||void 0}},{"../../lib":441}],586:[function(e,t,n){"use strict";var r=e("../../components/color"),o=e("./helpers").castOption;t.exports=function(e,t,n){var i=n.marker.line,a=o(i.color,t.pts)||r.defaultLine,s=o(i.width,t.pts)||0;e.style({"stroke-width":s}).call(r.fill,t.color).call(r.stroke,a)}},{"../../components/color":319,"./helpers":585}],587:[function(e,t,n){"use strict";var r=e("../scatter/attributes");t.exports={x:r.x,y:r.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:r.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},{"../scatter/attributes":592}],588:[function(e,t,n){"use strict";var r=e("gl-pointcloud2d"),o=e("../../lib/str2rgbarray"),i=e("../../plots/cartesian/autorange").findExtremes,a=e("../scatter/get_trace_color");function s(e,t){this.scene=e,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=r(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var l=s.prototype;l.handlePick=function(e){var t=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},l.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=a(e,{})},l.updateFast=function(e){var t,n,r,a,s,l,u=this.xData=this.pickXData=e.x,c=this.yData=this.pickYData=e.y,d=this.pickXYData=e.xy,f=e.xbounds&&e.ybounds,h=e.indices,p=this.bounds;if(d){if(r=d,t=d.length>>>1,f)p[0]=e.xbounds[0],p[2]=e.xbounds[1],p[1]=e.ybounds[0],p[3]=e.ybounds[1];else for(l=0;l<t;l++)a=r[2*l],s=r[2*l+1],a<p[0]&&(p[0]=a),a>p[2]&&(p[2]=a),s<p[1]&&(p[1]=s),s>p[3]&&(p[3]=s);if(h)n=h;else for(n=new Int32Array(t),l=0;l<t;l++)n[l]=l}else for(t=u.length,r=new Float32Array(2*t),n=new Int32Array(t),l=0;l<t;l++)a=u[l],s=c[l],n[l]=l,r[2*l]=a,r[2*l+1]=s,a<p[0]&&(p[0]=a),a>p[2]&&(p[2]=a),s<p[1]&&(p[1]=s),s>p[3]&&(p[3]=s);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var m=o(e.marker.color),g=o(e.marker.border.color),v=e.opacity*e.marker.opacity;m[3]*=v,this.pointcloudOptions.color=m;var y=e.marker.blend;null===y&&(y=u.length<100||c.length<100),this.pointcloudOptions.blend=y,g[3]*=v,this.pointcloudOptions.borderColor=g;var b=e.marker.sizemin,_=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=_,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var x=this.scene.xaxis,w=this.scene.yaxis,k=_/2||.5;e._extremes[x._id]=i(x,[p[0],p[2]],{ppad:k}),e._extremes[w._id]=i(w,[p[1],p[3]],{ppad:k})},l.dispose=function(){this.pointcloud.dispose()},t.exports=function(e,t){var n=new s(e,t.uid);return n.update(t),n}},{"../../lib/str2rgbarray":464,"../../plots/cartesian/autorange":487,"../scatter/get_trace_color":602,"gl-pointcloud2d":176}],589:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("./attributes");t.exports=function(e,t,n){function i(n,i){return r.coerce(e,t,o,n,i)}i("x"),i("y"),i("xbounds"),i("ybounds"),e.xy&&e.xy instanceof Float32Array&&(t.xy=e.xy),e.indices&&e.indices instanceof Int32Array&&(t.indices=e.indices),i("text"),i("marker.color",n),i("marker.opacity"),i("marker.blend"),i("marker.sizemin"),i("marker.sizemax"),i("marker.border.color",n),i("marker.border.arearatio"),t._length=null}},{"../../lib":441,"./attributes":587}],590:[function(e,t,n){"use strict";var r={};r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.calc=e("../scatter3d/calc"),r.plot=e("./convert"),r.moduleType="trace",r.name="pointcloud",r.basePlotModule=e("../../plots/gl2d"),r.categories=["gl","gl2d","showLegend"],r.meta={},t.exports=r},{"../../plots/gl2d":520,"../scatter3d/calc":619,"./attributes":587,"./convert":588,"./defaults":589}],591:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArray(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var o=t.marker;if(o){r.mergeArray(o.size,e,"ms"),r.mergeArray(o.opacity,e,"mo"),r.mergeArray(o.symbol,e,"mx"),r.mergeArray(o.color,e,"mc");var i=o.line;o.line&&(r.mergeArray(i.color,e,"mlc"),r.mergeArray(i.width,e,"mlw"));var a=o.gradient;a&&"none"!==a.type&&(r.mergeArray(a.type,e,"mgt"),r.mergeArray(a.color,e,"mgc"))}}},{"../../lib":441}],592:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),o=e("../../components/colorbar/attributes"),i=e("../../plots/font_attributes"),a=e("../../components/drawing/attributes").dash,s=e("../../components/drawing"),l=(e("./constants"),e("../../lib/extend").extendFlat);t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dy:{valType:"number",dflt:1,editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},a,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style"},marker:l({symbol:{valType:"enumerated",values:s.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style"},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc"},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},colorbar:o,line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style"},editType:"calc"},r("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},r("marker")),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:i({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},{"../../components/colorbar/attributes":320,"../../components/colorscale/attributes":326,"../../components/drawing":344,"../../components/drawing/attributes":343,"../../lib/extend":432,"../../plots/font_attributes":515,"./constants":596}],593:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../constants/numerical").BADNUM,s=e("./subtypes"),l=e("./colorscale_calc"),u=e("./arrays_to_calcdata"),c=e("./calc_selection");function d(e,t,n,r,o,a,l){var u=t._length,c=e._fullLayout,d=n._id,f=r._id,h=c._firstScatter[p(t)]===t.uid,g=(m(t,c,n,r)||{}).orientation,v=t.fill;n._minDtick=0,r._minDtick=0;var y={padded:!0},b={padded:!0};l&&(y.ppad=b.ppad=l);var _=u<2||o[0]!==o[u-1]||a[0]!==a[u-1];_&&("tozerox"===v||"tonextx"===v&&(h||"h"===g))?y.tozero=!0:(t.error_y||{}).visible||"tonexty"!==v&&"tozeroy"!==v&&(s.hasMarkers(t)||s.hasText(t))||(y.padded=!1,y.ppad=0),_&&("tozeroy"===v||"tonexty"===v&&(h||"v"===g))?b.tozero=!0:"tonextx"!==v&&"tozerox"!==v||(b.padded=!1),d&&(t._extremes[d]=i.findExtremes(n,o,y)),f&&(t._extremes[f]=i.findExtremes(r,a,b))}function f(e,t){if(s.hasMarkers(e)){var n,r=e.marker,a=1.6*(e.marker.sizeref||1);if(n="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/a),3)}:function(e){return Math.max((e||0)/a,3)},o.isArrayOrTypedArray(r.size)){var l={type:"linear"};i.setConvert(l);for(var u=l.makeCalcdata(e.marker,"size"),c=new Array(t),d=0;d<t;d++)c[d]=n(u[d]);return c}return n(r.size)}}function h(e,t){var n=p(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function p(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function m(e,t,n,r){var o=e.stackgroup;if(o){var i=t._scatterStackOpts[n._id+r._id][o],a="v"===i.orientation?r:n;return"linear"===a.type||"log"===a.type?i:void 0}}t.exports={calc:function(e,t){var n,s,p,g,v,y,b=e._fullLayout,_=i.getFromId(e,t.xaxis||"x"),x=i.getFromId(e,t.yaxis||"y"),w=_.makeCalcdata(t,"x"),k=x.makeCalcdata(t,"y"),E=t._length,T=new Array(E),A=t.ids,S=m(t,b,_,x),M=!1;h(b,t);var C,j="x",O="y";if(S)S.traceIndices.push(t.index),(n="v"===S.orientation)?(O="s",C="x"):(j="s",C="y"),v="interpolate"===S.stackgaps;else{var N=f(t,E);d(e,t,_,x,w,k,N)}for(s=0;s<E;s++){var R=T[s]={},P=r(w[s]),I=r(k[s]);P&&I?(R[j]=w[s],R[O]=k[s]):S&&(n?P:I)?(R[C]=n?w[s]:k[s],R.gap=!0,v?(R.s=a,M=!0):R.s=0):R[j]=R[O]=a,A&&(R.id=String(A[s]))}if(u(T,t),l(t),c(T,t),S){for(s=0;s<T.length;)T[s][C]===a?T.splice(s,1):s++;if(o.sort(T,function(e,t){return e[C]-t[C]||e.i-t.i}),M){for(s=0;s<T.length-1&&T[s].gap;)s++;for((y=T[s].s)||(y=T[s].s=0),p=0;p<s;p++)T[p].s=y;for(g=T.length-1;g>s&&T[g].gap;)g--;for(y=T[g].s,p=T.length-1;p>g;p--)T[p].s=y;for(;s<g;)if(T[++s].gap){for(p=s+1;T[p].gap;)p++;for(var D=T[s-1][C],L=T[s-1].s,B=(T[p].s-L)/(T[p][C]-D);s<p;)T[s].s=L+(T[s][C]-D)*B,s++}}}return T},calcMarkerSize:f,calcAxisExpansion:d,setFirstScatter:h,getStackOpts:m}},{"../../constants/numerical":420,"../../lib":441,"../../plots/cartesian/axes":488,"./arrays_to_calcdata":591,"./calc_selection":594,"./colorscale_calc":595,"./subtypes":616,"fast-isnumeric":149}],594:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}},{"../../lib":441}],595:[function(e,t,n){"use strict";var r=e("../../components/colorscale/has_colorscale"),o=e("../../components/colorscale/calc"),i=e("./subtypes");t.exports=function(e){i.hasLines(e)&&r(e,"line")&&o(e,e.line.color,"line","c"),i.hasMarkers(e)&&(r(e,"marker")&&o(e,e.marker.color,"marker","c"),r(e,"marker.line")&&o(e,e.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":327,"../../components/colorscale/has_colorscale":333,"./subtypes":616}],596:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20}},{}],597:[function(e,t,n){"use strict";var r=e("./calc");function o(e,t,n,r,o,i,a){o[r]=!0;var s={i:null,gap:!0,s:0};if(s[a]=n,e.splice(t,0,s),t&&n===e[t-1][a]){var l=e[t-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else i&&(s.s=function(e,t,n,r){var o=e[t-1],i=e[t+1];return i?o?o.s+(i.s-o.s)*(n-o[r])/(i[r]-o[r]):i.s:o.s}(e,t,n,a));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}t.exports=function(e,t){var n=t.xaxis,i=t.yaxis,a=n._id+i._id,s=e._fullLayout._scatterStackOpts[a];if(s){var l,u,c,d,f,h,p,m,g,v,y,b,_,x,w,k=e.calcdata;for(var E in s){var T=(v=s[E]).traceIndices;if(T.length){for(y="interpolate"===v.stackgaps,b=v.groupnorm,"v"===v.orientation?(_="x",x="y"):(_="y",x="x"),w=new Array(T.length),l=0;l<w.length;l++)w[l]=!1;h=k[T[0]];var A=new Array(h.length);for(l=0;l<h.length;l++)A[l]=h[l][_];for(l=1;l<T.length;l++){for(f=k[T[l]],u=c=0;u<f.length;u++){for(p=f[u][_];p>A[c]&&c<A.length;c++)o(f,u,A[c],l,w,y,_),u++;if(p!==A[c]){for(d=0;d<l;d++)o(k[T[d]],c,p,d,w,y,_);A.splice(c,0,p)}c++}for(;c<A.length;c++)o(f,u,A[c],l,w,y,_),u++}var S=A.length;for(u=0;u<h.length;u++){for(m=h[u][x]=h[u].s,l=1;l<T.length;l++)(f=k[T[l]])[0].trace._rawLength=f[0].trace._length,f[0].trace._length=S,m+=f[u].s,f[u][x]=m;if(b)for(g=("fraction"===b?m:m/100)||1,l=0;l<T.length;l++){var M=k[T[l]][u];M[x]/=g,M.sNorm=M.s/g}}for(l=0;l<T.length;l++){var C=(f=k[T[l]])[0].trace,j=r.calcMarkerSize(C,C._rawLength),O=Array.isArray(j);if(j&&w[l]||O){var N=j;for(j=new Array(S),u=0;u<S;u++)j[u]=f[u].gap?0:O?N[f[u].i]:N}var R=new Array(S),P=new Array(S);for(u=0;u<S;u++)R[u]=f[u].x,P[u]=f[u].y;r.calcAxisExpansion(e,C,n,i,R,P,j),f[0].t.orientation=v.orientation}}}}}},{"./calc":593}],598:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var o=t-1;o>=0;o--){var i=e[o];if("scatter"===i.type&&i.xaxis===n.xaxis&&i.yaxis===n.yaxis){i.opacity=void 0;break}}}}}},{}],599:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../registry"),i=e("./attributes"),a=e("./constants"),s=e("./subtypes"),l=e("./xy_defaults"),u=e("./stack_defaults"),c=e("./marker_defaults"),d=e("./line_defaults"),f=e("./line_shape_defaults"),h=e("./text_defaults"),p=e("./fillcolor_defaults");t.exports=function(e,t,n,m){function g(n,o){return r.coerce(e,t,i,n,o)}var v=l(e,t,m,g);if(v||(t.visible=!1),t.visible){var y=u(e,t,m,g),b=!y&&v<a.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",b),s.hasLines(t)&&(d(e,t,n,m,g),f(e,t,g),g("connectgaps"),g("line.simplify")),s.hasMarkers(t)&&c(e,t,n,m,g,{gradient:!0}),s.hasText(t)&&h(e,t,m,g);var _=[];(s.hasMarkers(t)||s.hasText(t))&&(g("cliponaxis"),g("marker.maxdisplayed"),_.push("points")),g("fill",y?y.fillDflt:"none"),"none"!==t.fill&&(p(e,t,n,g),s.hasLines(t)||f(e,t,g)),"tonext"!==t.fill&&"toself"!==t.fill||_.push("fills"),g("hoveron",_.join("+")||"points");var x=o.getComponentMethod("errorbars","supplyDefaults");x(e,t,n,{axis:"y"}),x(e,t,n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,g)}}},{"../../lib":441,"../../registry":532,"./attributes":592,"./constants":596,"./fillcolor_defaults":601,"./line_defaults":605,"./line_shape_defaults":607,"./marker_defaults":611,"./stack_defaults":614,"./subtypes":616,"./text_defaults":617,"./xy_defaults":618}],600:[function(e,t,n){"use strict";var r=e("../../lib");function o(e){return e||0===e}t.exports=function(e,t,n){var i=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},a=r.extractOption(e,t,"htx","hovertext");if(o(a))return i(a);var s=r.extractOption(e,t,"tx","text");return o(s)?i(s):void 0}},{"../../lib":441}],601:[function(e,t,n){"use strict";var r=e("../../components/color"),o=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,i){var a=!1;if(t.marker){var s=t.marker.color,l=(t.marker.line||{}).color;s&&!o(s)?a=s:l&&!o(l)&&(a=l)}i("fillcolor",r.addOpacity((t.line||{}).color||a||n,.5))}},{"../../components/color":319,"../../lib":441}],602:[function(e,t,n){"use strict";var r=e("../../components/color"),o=e("./subtypes");t.exports=function(e,t){var n,i;if("lines"===e.mode)return(n=e.line.color)&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var a=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return(i=a&&r.opacity(a)?a:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"")?r.opacity(i)<.3?r.addOpacity(i,.3):i:(n=(e.line||{}).color)&&r.opacity(n)&&o.hasLines(e)&&e.line.width?n:e.fillcolor}},{"../../components/color":319,"./subtypes":616}],603:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../components/fx"),i=e("../../registry"),a=e("./get_trace_color"),s=e("../../components/color"),l=e("./fill_hover_text");t.exports=function(e,t,n,u){var c=e.cd,d=c[0].trace,f=e.xa,h=e.ya,p=f.c2p(t),m=h.c2p(n),g=[p,m],v=d.hoveron||"",y=-1!==d.mode.indexOf("markers")?3:.5;if(-1!==v.indexOf("points")){var b=function(e){var t=Math.max(y,e.mrc||0),n=f.c2p(e.x)-p,r=h.c2p(e.y)-m;return Math.max(Math.sqrt(n*n+r*r)-t,1-y/t)},_=o.getDistanceFunction(u,function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(f.c2p(e.x)-p);return r<t?n*r/t:r-t+n},function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(h.c2p(e.y)-m);return r<t?n*r/t:r-t+n},b);if(o.getClosest(c,_,e),!1!==e.index){var x=c[e.index],w=f.c2p(x.x,!0),k=h.c2p(x.y,!0),E=x.mrc||1;e.index=x.i;var T=c[0].t.orientation,A=T&&(x.sNorm||x.s),S="h"===T?A:x.x,M="v"===T?A:x.y;return r.extendFlat(e,{color:a(d,x),x0:w-E,x1:w+E,xLabelVal:S,y0:k-E,y1:k+E,yLabelVal:M,spikeDistance:b(x)}),l(x,d,e),i.getComponentMethod("errorbars","hoverInfo")(x,d,e),[e]}}if(-1!==v.indexOf("fills")&&d._polygons){var C,j,O,N,R,P,I,D,L,B=d._polygons,F=[],z=!1,U=1/0,q=-1/0,V=1/0,H=-1/0;for(C=0;C<B.length;C++)(O=B[C]).contains(g)&&(z=!z,F.push(O),V=Math.min(V,O.ymin),H=Math.max(H,O.ymax));if(z){V=Math.max(V,0),H=Math.min(H,h._length);var W=(V+H)/2;for(C=0;C<F.length;C++)for(N=F[C].pts,j=1;j<N.length;j++)D=N[j-1][1],L=N[j][1],D>W!=L>=W&&(P=N[j-1][0],I=N[j][0],L-D&&(R=P+(I-P)*(W-D)/(L-D),U=Math.min(U,R),q=Math.max(q,R)));U=Math.max(U,0),q=Math.min(q,f._length);var G=s.defaultLine;return s.opacity(d.fillcolor)?G=d.fillcolor:s.opacity((d.line||{}).color)&&(G=d.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:U,x1:q,y0:W,y1:W,color:G}),delete e.index,d.text&&!Array.isArray(d.text)?e.text=String(d.text):e.text=d.name,[e]}}}},{"../../components/color":319,"../../components/fx":361,"../../lib":441,"../../registry":532,"./fill_hover_text":600,"./get_trace_color":602}],604:[function(e,t,n){"use strict";var r={},o=e("./subtypes");r.hasLines=o.hasLines,r.hasMarkers=o.hasMarkers,r.hasText=o.hasText,r.isBubble=o.isBubble,r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.crossTraceDefaults=e("./cross_trace_defaults"),r.calc=e("./calc").calc,r.crossTraceCalc=e("./cross_trace_calc"),r.arraysToCalcdata=e("./arrays_to_calcdata"),r.plot=e("./plot"),r.colorbar=e("./marker_colorbar"),r.style=e("./style").style,r.styleOnSelect=e("./style").styleOnSelect,r.hoverPoints=e("./hover"),r.selectPoints=e("./select"),r.animatable=!0,r.moduleType="trace",r.name="scatter",r.basePlotModule=e("../../plots/cartesian"),r.categories=["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],r.meta={},t.exports=r},{"../../plots/cartesian":500,"./arrays_to_calcdata":591,"./attributes":592,"./calc":593,"./cross_trace_calc":597,"./cross_trace_defaults":598,"./defaults":599,"./hover":603,"./marker_colorbar":610,"./plot":612,"./select":613,"./style":615,"./subtypes":616}],605:[function(e,t,n){"use strict";var r=e("../../lib").isArrayOrTypedArray,o=e("../../components/colorscale/has_colorscale"),i=e("../../components/colorscale/defaults");t.exports=function(e,t,n,a,s,l){var u=(e.marker||{}).color;if(s("line.color",n),o(e,"line"))i(e,t,a,s,{prefix:"line.",cLetter:"c",noScale:!0});else{var c=!r(u)&&u||n;s("line.color",c)}s("line.width"),(l||{}).noDash||s("line.dash")}},{"../../components/colorscale/defaults":329,"../../components/colorscale/has_colorscale":333,"../../lib":441}],606:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),o=r.BADNUM,i=r.LOG_CLIP,a=i+.5,s=i-.5,l=e("../../lib"),u=l.segmentsIntersect,c=l.constrain,d=e("./constants");t.exports=function(e,t){var n,r,i,f,h,p,m,g,v,y,b,_,x,w,k,E,T,A,S=t.xaxis,M=t.yaxis,C="log"===S.type,j="log"===M.type,O=S._length,N=M._length,R=t.connectGaps,P=t.baseTolerance,I=t.shape,D="linear"===I,L=[],B=d.minTolerance,F=new Array(e.length),z=0;function U(t){var n=e[t];if(!n)return!1;var r=S.c2p(n.x),i=M.c2p(n.y);if(r===o){if(C&&(r=S.c2p(n.x,!0)),r===o)return!1;j&&i===o&&(r*=Math.abs(S._m*N*(S._m>0?a:s)/(M._m*O*(M._m>0?a:s)))),r*=1e3}if(i===o){if(j&&(i=M.c2p(n.y,!0)),i===o)return!1;i*=1e3}return[r,i]}function q(e,t,n,r){var o=n-e,i=r-t,a=.5-e,s=.5-t,l=o*o+i*i,u=o*a+i*s;if(u>0&&u<l){var c=a*i-s*o;if(c*c<l)return!0}}function V(e,t){var n=e[0]/O,r=e[1]/N,o=Math.max(0,-n,n-1,-r,r-1);return o&&void 0!==T&&q(n,r,T,A)&&(o=0),o&&t&&q(n,r,t[0]/O,t[1]/N)&&(o=0),(1+d.toleranceGrowth*o)*P}function H(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var W,G,X,K,Y,$,Z,Q=d.maxScreensAway,J=-O*Q,ee=O*(1+Q),te=-N*Q,ne=N*(1+Q),re=[[J,te,ee,te],[ee,te,ee,ne],[ee,ne,J,ne],[J,ne,J,te]];function oe(e){if(e[0]<J||e[0]>ee||e[1]<te||e[1]>ne)return[c(e[0],J,ee),c(e[1],te,ne)]}function ie(e,t){return e[0]===t[0]&&(e[0]===J||e[0]===ee)||e[1]===t[1]&&(e[1]===te||e[1]===ne)||void 0}function ae(e,t,n){return function(r,o){var i=oe(r),a=oe(o),s=[];if(i&&a&&ie(i,a))return s;i&&s.push(i),a&&s.push(a);var u=2*l.constrain((r[e]+o[e])/2,t,n)-((i||r)[e]+(a||o)[e]);return u&&((i&&a?u>0==i[e]>a[e]?i:a:i||a)[e]+=u),s}}function se(e){var t=e[0],n=e[1],r=t===F[z-1][0],o=n===F[z-1][1];if(!r||!o)if(z>1){var i=t===F[z-2][0],a=n===F[z-2][1];r&&(t===J||t===ee)&&i?a?z--:F[z-1]=e:o&&(n===te||n===ne)&&a?i?z--:F[z-1]=e:F[z++]=e}else F[z++]=e}function le(e){F[z-1][0]!==e[0]&&F[z-1][1]!==e[1]&&se([X,K]),se(e),Y=null,X=K=0}function ue(e){if(T=e[0]/O,A=e[1]/N,W=e[0]<J?J:e[0]>ee?ee:0,G=e[1]<te?te:e[1]>ne?ne:0,W||G){if(z)if(Y){var t=Z(Y,e);t.length>1&&(le(t[0]),F[z++]=t[1])}else $=Z(F[z-1],e)[0],F[z++]=$;else F[z++]=[W||e[0],G||e[1]];var n=F[z-1];W&&G&&(n[0]!==W||n[1]!==G)?(Y&&(X!==W&&K!==G?se(X&&K?(r=Y,i=(o=e)[0]-r[0],a=(o[1]-r[1])/i,(r[1]*o[0]-o[1]*r[0])/i>0?[a>0?J:ee,ne]:[a>0?ee:J,te]):[X||W,K||G]):X&&K&&se([X,K])),se([W,G])):X-W&&K-G&&se([W||X,G||K]),Y=e,X=W,K=G}else Y&&le(Z(Y,e)[0]),F[z++]=e;var r,o,i,a}for("linear"===I||"spline"===I?Z=function(e,t){for(var n=[],r=0,o=0;o<4;o++){var i=re[o],a=u(e[0],e[1],t[0],t[1],i[0],i[1],i[2],i[3]);a&&(!r||Math.abs(a.x-n[0][0])>1||Math.abs(a.y-n[0][1])>1)&&(a=[a.x,a.y],r&&H(a,e)<H(n[0],e)?n.unshift(a):n.push(a),r++)}return n}:"hv"===I||"vh"===I?Z=function(e,t){var n=[],r=oe(e),o=oe(t);return r&&o&&ie(r,o)?n:(r&&n.push(r),o&&n.push(o),n)}:"hvh"===I?Z=ae(0,J,ee):"vhv"===I&&(Z=ae(1,te,ne)),n=0;n<e.length;n++)if(r=U(n)){for(z=0,Y=null,ue(r),n++;n<e.length;n++){if(!(f=U(n))){if(R)continue;break}if(D&&t.simplify){var ce=U(n+1);if(!((y=H(f,r))<V(f,ce)*B)){for(g=[(f[0]-r[0])/y,(f[1]-r[1])/y],h=r,b=y,_=w=k=0,m=!1,i=f,n++;n<e.length;n++){if(p=ce,ce=U(n+1),!p){if(R)continue;break}if(v=[p[0]-r[0],p[1]-r[1]],E=v[0]*g[1]-v[1]*g[0],w=Math.min(w,E),(k=Math.max(k,E))-w>V(p,ce))break;i=p,(x=v[0]*g[0]+v[1]*g[1])>b?(b=x,f=p,m=!1):x<_&&(_=x,h=p,m=!0)}if(m?(ue(f),i!==h&&ue(h)):(h!==r&&ue(h),i!==f&&ue(f)),ue(i),n>=e.length||!p)break;ue(p),r=p}}else ue(f)}Y&&se([X||Y[0],K||Y[1]]),L.push(F.slice(0,z))}return L}},{"../../constants/numerical":420,"../../lib":441,"./constants":596}],607:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=n("line.shape");"spline"===r&&n("line.smoothing")}},{}],608:[function(e,t,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(e,t,n){var o,i,a,s,l,u={},c=!1,d=-1,f=0,h=-1;for(i=0;i<n.length;i++)o=n[i][0].trace,(a=o.stackgroup||"")?a in u?l=u[a]:(l=u[a]=f,f++):o.fill in r&&h>=0?l=h:(l=h=f,f++),l<d&&(c=!0),o._groupIndex=d=l;var p=n.slice();c&&p.sort(function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index});var m={};for(i=0;i<p.length;i++)o=p[i][0].trace,a=o.stackgroup||"",!0===o.visible?(o._nexttrace=null,o.fill in r&&(s=m[a],o._prevtrace=s||null,s&&(s._nexttrace=o)),o._ownfill=o.fill&&("tozero"===o.fill.substr(0,6)||"toself"===o.fill||"to"===o.fill.substr(0,2)&&!o._prevtrace),m[a]=o):o._prevtrace=o._nexttrace=o._ownfill=null;return p}},{}],609:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,o=t.sizemin||0,i="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=i(e/2);return r(t)&&t>0?Math.max(t,o):0}}},{"fast-isnumeric":149}],610:[function(e,t,n){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},{}],611:[function(e,t,n){"use strict";var r=e("../../components/color"),o=e("../../components/colorscale/has_colorscale"),i=e("../../components/colorscale/defaults"),a=e("./subtypes");t.exports=function(e,t,n,s,l,u){var c,d=a.isBubble(e),f=(e.line||{}).color;if(u=u||{},f&&(n=f),l("marker.symbol"),l("marker.opacity",d?.7:1),l("marker.size"),l("marker.color",n),o(e,"marker")&&i(e,t,s,l,{prefix:"marker.",cLetter:"c"}),u.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),u.noLine||(c=f&&!Array.isArray(f)&&t.marker.color!==f?f:d?r.background:r.defaultLine,l("marker.line.color",c),o(e,"marker.line")&&i(e,t,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",d?1:0)),d&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),u.gradient){var h=l("marker.gradient.type");"none"!==h&&l("marker.gradient.color")}}},{"../../components/color":319,"../../components/colorscale/defaults":329,"../../components/colorscale/has_colorscale":333,"./subtypes":616}],612:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../registry"),i=e("../../lib"),a=i.ensureSingle,s=i.identity,l=e("../../components/drawing"),u=e("./subtypes"),c=e("./line_points"),d=e("./link_traces"),f=e("../../lib/polygon").tester;function h(e,t,n,d,h,p,m){var g;!function(e,t,n,o,a){var s=n.xaxis,l=n.yaxis,c=r.extent(i.simpleMap(s.range,s.r2c)),d=r.extent(i.simpleMap(l.range,l.r2c)),f=o[0].trace;if(u.hasMarkers(f)){var h=f.marker.maxdisplayed;if(0!==h){var p=o.filter(function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=d[0]&&e.y<=d[1]}),m=Math.ceil(p.length/h),g=0;a.forEach(function(e,n){var r=e[0].trace;u.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&g++});var v=Math.round(g*m/3+Math.floor(g/3)*m/7.1);o.forEach(function(e){delete e.vis}),p.forEach(function(e,t){0===Math.round((t+v)%m)&&(e.vis=!0)})}}}(0,t,n,d,h);var v=!!m&&m.duration>0;function y(e){return v?e.transition():e}var b=n.xaxis,_=n.yaxis,x=d[0].trace,w=x.line,k=r.select(p),E=a(k,"g","errorbars"),T=a(k,"g","lines"),A=a(k,"g","points"),S=a(k,"g","text");if(o.getComponentMethod("errorbars","plot")(E,n,m),!0===x.visible){var M,C;y(k).style("opacity",x.opacity);var j=x.fill.charAt(x.fill.length-1);"x"!==j&&"y"!==j&&(j=""),n.isRangePlot||(d[0].node3=k);var O="",N=[],R=x._prevtrace;R&&(O=R._prevRevpath||"",C=R._nextFill,N=R._polygons);var P,I,D,L,B,F,z,U,q,V="",H="",W=[],G=i.noop;if(M=x._ownFill,u.hasLines(x)||"none"!==x.fill){for(C&&C.datum(d),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(D=l.steps(w.shape),L=l.steps(w.shape.split("").reverse().join(""))):D=L="spline"===w.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?l.smoothclosed(e.slice(1),w.smoothing):l.smoothopen(e,w.smoothing)}:function(e){return"M"+e.join("L")},B=function(e){return L(e.reverse())},W=c(d,{xaxis:b,yaxis:_,connectGaps:x.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify}),q=x._polygons=new Array(W.length),g=0;g<W.length;g++)x._polygons[g]=f(W[g]);W.length&&(F=W[0][0],z=W[W.length-1],U=z[z.length-1]),G=function(e){return function(t){if(P=D(t),I=B(t),V?j?(V+="L"+P.substr(1),H=I+"L"+H.substr(1)):(V+="Z"+P,H=I+"Z"+H):(V=P,H=I),u.hasLines(x)&&t.length>1){var n=r.select(this);if(n.datum(d),e)y(n.style("opacity",0).attr("d",P).call(l.lineGroupStyle)).style("opacity",1);else{var o=y(n);o.attr("d",P),l.singleLineStyle(d,o)}}}}}var X=T.selectAll(".js-line").data(W);y(X.exit()).style("opacity",0).remove(),X.each(G(!1)),X.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(G(!0)),l.setClipUrl(X,n.layerClipId),W.length?(M?(M.datum(d),F&&U&&(j?("y"===j?F[1]=U[1]=_.c2p(0,!0):"x"===j&&(F[0]=U[0]=b.c2p(0,!0)),y(M).attr("d","M"+U+"L"+F+"L"+V.substr(1)).call(l.singleFillStyle)):y(M).attr("d",V+"Z").call(l.singleFillStyle))):C&&("tonext"===x.fill.substr(0,6)&&V&&O?("tonext"===x.fill?y(C).attr("d",V+"Z"+O+"Z").call(l.singleFillStyle):y(C).attr("d",V+"L"+O.substr(1)+"Z").call(l.singleFillStyle),x._polygons=x._polygons.concat(N)):($(C),x._polygons=null)),x._prevRevpath=H,x._prevPolygons=q):(M?$(M):C&&$(C),x._polygons=x._prevRevpath=x._prevPolygons=null),A.datum(d),S.datum(d),function(t,o,i){var a,c,d=i[0].trace,f=u.hasMarkers(d),h=u.hasText(d),p=te(d),m=ne,g=ne;if(f||h){var x=s,w=d.stackgroup,k=w&&"infer zero"===e._fullLayout._scatterStackOpts[b._id+_._id][w].stackgaps;d.marker.maxdisplayed||d._needsCull?x=k?Q:Z:w&&!k&&(x=J),f&&(m=x),h&&(g=x)}c=t.selectAll("path.point");var E,T=(a=c.data(m,p)).enter().append("path").classed("point",!0);v&&T.call(l.pointStyle,d,e).call(l.translatePoints,b,_).style("opacity",0).transition().style("opacity",1),a.order(),f&&(E=l.makePointStyleFns(d)),a.each(function(t){var o=r.select(this),i=y(o);l.translatePoint(t,i,b,_)?(l.singlePointStyle(t,i,d,E,e),n.layerClipId&&l.hideOutsideRangePoint(t,i,b,_,d.xcalendar,d.ycalendar),d.customdata&&o.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):i.remove()}),v?a.exit().transition().style("opacity",0).remove():a.exit().remove(),c=o.selectAll("g"),(a=c.data(g,p)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each(function(e){var t=r.select(this),o=y(t.select("text"));l.translatePoint(e,o,b,_)?n.layerClipId&&l.hideOutsideRangePoint(e,t,b,_,d.xcalendar,d.ycalendar):t.remove()}),a.selectAll("text").call(l.textPointStyle,d,e).each(function(e){var t=b.c2p(e.x),n=_.c2p(e.y);r.select(this).selectAll("tspan.line").each(function(){y(r.select(this)).attr({x:t,y:n})})}),a.exit().remove()}(A,S,d);var K=!1===x.cliponaxis,Y=K?null:n.layerClipId;l.setClipUrl(A,Y),l.setClipUrl(S,Y)}function $(e){y(e).attr("d","M0,0Z")}function Z(e){return e.filter(function(e){return!e.gap&&e.vis})}function Q(e){return e.filter(function(e){return e.vis})}function J(e){return e.filter(function(e){return!e.gap})}function ee(e){return e.id}function te(e){if(e.ids)return ee}function ne(){return!1}}t.exports=function(e,t,n,o,i,u){var c,f,p=!i,m=!!i&&i.duration>0,g=d(e,t,n);if((c=o.selectAll("g.trace").data(g,function(e){return e[0].trace.uid})).enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),c.order(),function(e,t,n){t.each(function(e){var t=a(r.select(this),"g","fills");l.setClipUrl(t,n.layerClipId);var o=e[0].trace,i=[];o._ownfill&&i.push("_ownFill"),o._nexttrace&&i.push("_nextFill");var u=t.selectAll("g").data(i,s);u.enter().append("g"),u.exit().each(function(e){o[e]=null}).remove(),u.order().each(function(e){o[e]=a(r.select(this),"path","js-fill")})})}(0,c,t),m){u&&(f=u());var v=r.transition().duration(i.duration).ease(i.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()});v.each(function(){o.selectAll("g.trace").each(function(n,r){h(e,r,t,n,g,this,i)})})}else c.each(function(n,r){h(e,r,t,n,g,this,i)});p&&c.exit().remove(),o.selectAll("path:not([d])").remove()}},{"../../components/drawing":344,"../../lib":441,"../../lib/polygon":453,"../../registry":532,"./line_points":606,"./link_traces":608,"./subtypes":616,d3:85}],613:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports=function(e,t){var n,o,i,a,s=e.cd,l=e.xaxis,u=e.yaxis,c=[],d=s[0].trace,f=!r.hasMarkers(d)&&!r.hasText(d);if(f)return[];if(!1===t)for(n=0;n<s.length;n++)s[n].selected=0;else for(n=0;n<s.length;n++)o=s[n],i=l.c2p(o.x),a=u.c2p(o.y),null!==o.i&&t.contains([i,a],!1,n,e)?(c.push({pointNumber:o.i,x:l.c2d(o.x),y:u.c2d(o.y)}),o.selected=1):o.selected=0;return c}},{"./subtypes":616}],614:[function(e,t,n){"use strict";var r=["orientation","groupnorm","stackgaps"];t.exports=function(e,t,n,o){var i=n._scatterStackOpts,a=o("stackgroup");if(a){var s=t.xaxis+t.yaxis,l=i[s];l||(l=i[s]={});var u=l[a],c=!1;u?u.traces.push(t):(u=l[a]={traceIndices:[],traces:[t]},c=!0);for(var d={orientation:t.x&&!t.y?"h":"v"},f=0;f<r.length;f++){var h=r[f],p=h+"Found";if(!u[p]){var m=void 0!==e[h],g="orientation"===h;if((m||c)&&(u[h]=o(h,d[h]),g&&(u.fillDflt="h"===u[h]?"tonextx":"tonexty"),m&&(u[p]=!0,!c&&(delete u.traces[0][h],g))))for(var v=0;v<u.traces.length-1;v++){var y=u.traces[v];y._input.fill!==y.fill&&(y.fill=u.fillDflt)}}}return u}}},{}],615:[function(e,t,n){"use strict";var r=e("d3"),o=e("../../components/drawing"),i=e("../../registry");function a(e,t,n){o.pointStyle(e.selectAll("path.point"),t,n)}function s(e,t,n){o.textPointStyle(e.selectAll("text"),t,n)}t.exports={style:function(e,t){var n=t?t[0].node3:r.select(e).selectAll("g.trace.scatter");n.style("opacity",function(e){return e[0].trace.opacity}),n.selectAll("g.points").each(function(t){var n=r.select(this),o=t.trace||t[0].trace;a(n,o,e)}),n.selectAll("g.text").each(function(t){var n=r.select(this),o=t.trace||t[0].trace;s(n,o,e)}),n.selectAll("g.trace path.js-line").call(o.lineGroupStyle),n.selectAll("g.trace path.js-fill").call(o.fillGroupStyle),i.getComponentMethod("errorbars","style")(n)},stylePoints:a,styleText:s,styleOnSelect:function(e,t){var n=t[0].node3,r=t[0].trace;r.selectedpoints?(o.selectedPointStyle(n.selectAll("path.point"),r),o.selectedTextStyle(n.selectAll("text"),r)):(a(n,r,e),s(n,r,e))}}},{"../../components/drawing":344,"../../registry":532,d3:85}],616:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}},{"../../lib":441}],617:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,o,i){i=i||{},o("textposition"),r.coerceFont(o,"textfont",n.font),i.noSelect||(o("selected.textfont.color"),o("unselected.textfont.color"))}},{"../../lib":441}],618:[function(e,t,n){"use strict";var r=e("../../registry");t.exports=function(e,t,n,o){var i,a=o("x"),s=o("y"),l=r.getComponentMethod("calendars","handleTraceDefaults");if(l(e,t,["x","y"],n),a)s?i=Math.min(a.length,s.length):(i=a.length,o("y0"),o("dy"));else{if(!s)return 0;i=t.y.length,o("x0"),o("dx")}return t._length=i,i}},{"../../registry":532}],619:[function(e,t,n){"use strict";var r=e("../scatter/arrays_to_calcdata"),o=e("../scatter/colorscale_calc");t.exports=function(e,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return r(n,t),o(t),n}},{"../scatter/arrays_to_calcdata":591,"../scatter/colorscale_calc":595}],620:[function(e,t,n){"use strict";var r=e("../../plots/attributes"),o=e("../scatter/attributes"),i=e("../../components/colorscale/attributes"),a=e("../../lib/extend").extendFlat,s=e("../../plot_api/edit_types").overrideAll,l=e("./constants").DASHES,u=o.line,c=o.marker,d=c.line,f=t.exports=s({x:o.x,x0:o.x0,dx:o.dx,y:o.y,y0:o.y0,dy:o.dy,text:o.text,hovertext:o.hovertext,textposition:o.textposition,textfont:o.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:u.color,width:u.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:Object.keys(l),dflt:"solid"}},marker:a({},i("marker"),{symbol:c.symbol,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:c.opacity,colorbar:c.colorbar,line:a({},i("marker.line"),{width:d.width})}),connectgaps:o.connectgaps,fill:a({},o.fill,{dflt:"none"}),fillcolor:o.fillcolor,selected:{marker:o.selected.marker,textfont:o.selected.textfont},unselected:{marker:o.unselected.marker,textfont:o.unselected.textfont},opacity:r.opacity},"calc","nested");f.x.editType=f.y.editType=f.x0.editType=f.y0.editType="calc+clearAxisTypes"},{"../../components/colorscale/attributes":326,"../../lib/extend":432,"../../plot_api/edit_types":471,"../../plots/attributes":485,"../scatter/attributes":592,"./constants":621}],621:[function(e,t,n){"use strict";t.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},{}],622:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),o=e("svg-path-sdf"),i=e("color-normalize"),a=e("../../registry"),s=e("../../lib"),l=e("../../components/drawing"),u=e("../../plots/cartesian/axis_ids"),c=e("../../lib/gl_format_color").formatColor,d=e("../scatter/subtypes"),f=e("../scatter/make_bubble_size_func"),h=e("./constants"),p=e("../../constants/interactions").DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1};function g(e){var t,n=e._length,o=e.textfont,i=e.textposition,a=Array.isArray(i)?i:[i],s=o.color,l=o.size,u=o.family,c={};for(c.text=e.text,c.opacity=e.opacity,c.font={},c.align=[],c.baseline=[],t=0;t<a.length;t++){var d=a[t].split(/\s+/);switch(d[1]){case"left":c.align.push("right");break;case"right":c.align.push("left");break;default:c.align.push(d[1])}switch(d[0]){case"top":c.baseline.push("bottom");break;case"bottom":c.baseline.push("top");break;default:c.baseline.push(d[0])}}if(Array.isArray(s))for(c.color=new Array(n),t=0;t<n;t++)c.color[t]=s[t];else c.color=s;if(Array.isArray(l)||Array.isArray(u))for(c.font=new Array(n),t=0;t<n;t++){var f=c.font[t]={};f.size=Array.isArray(l)?r(l[t])?l[t]:0:l,f.family=Array.isArray(u)?u[t]:u}else c.font={size:l,family:u};return c}function v(e){var t,n,r=e._length,o=e.marker,a={},l=Array.isArray(o.symbol),u=s.isArrayOrTypedArray(o.color),d=s.isArrayOrTypedArray(o.line.color),p=s.isArrayOrTypedArray(o.opacity),m=s.isArrayOrTypedArray(o.size),g=s.isArrayOrTypedArray(o.line.width);if(l||(n=h.OPEN_RE.test(o.symbol)),l||u||d||p){a.colors=new Array(r),a.borderColors=new Array(r);var v=c(o,o.opacity,r),y=c(o.line,o.opacity,r);if(!Array.isArray(y[0])){var b=y;for(y=Array(r),t=0;t<r;t++)y[t]=b}if(!Array.isArray(v[0])){var _=v;for(v=Array(r),t=0;t<r;t++)v[t]=_}for(a.colors=v,a.borderColors=y,t=0;t<r;t++){if(l){var x=o.symbol[t];n=h.OPEN_RE.test(x)}n&&(y[t]=v[t].slice(),v[t]=v[t].slice(),v[t][3]=0)}a.opacity=e.opacity}else n?(a.color=i(o.color,"uint8"),a.color[3]=0,a.borderColor=i(o.color,"uint8")):(a.color=i(o.color,"uint8"),a.borderColor=i(o.line.color,"uint8")),a.opacity=e.opacity*o.opacity;if(l)for(a.markers=new Array(r),t=0;t<r;t++)a.markers[t]=A(o.symbol[t]);else a.marker=A(o.symbol);var w,k=f(e);if(m||g){var E,T=a.sizes=new Array(r),S=a.borderSizes=new Array(r),M=0;if(m){for(t=0;t<r;t++)T[t]=k(o.size[t]),M+=T[t];E=M/r}else for(w=k(o.size),t=0;t<r;t++)T[t]=w;if(g)for(t=0;t<r;t++)S[t]=o.line.width[t]/2;else for(w=o.line.width/2,t=0;t<r;t++)S[t]=w;a.sizeAvg=E}else a.size=k(o&&o.size||10),a.borderSizes=k(o.line.width);return a}function y(e,t){var n=e.marker,r={};return t?(t.marker&&t.marker.symbol?r=v(s.extendFlat({},n,t.marker)):t.marker&&(t.marker.size&&(r.size=t.marker.size/2),t.marker.color&&(r.colors=t.marker.color),void 0!==t.marker.opacity&&(r.opacity=t.marker.opacity)),r):r}function b(e,t){var n={};if(!t)return n;if(t.textfont){var r={opacity:1,text:e.text,textposition:e.textposition,textfont:s.extendFlat({},e.textfont)};t.textfont&&s.extendFlat(r.textfont,t.textfont),n=g(r)}return n}function _(e,t){var n={capSize:2*t.width,lineWidth:t.thickness,color:t.color};return t.copy_ystyle&&(n=e.error_y),n}var x=h.SYMBOL_SDF_SIZE,w=h.SYMBOL_SIZE,k=h.SYMBOL_STROKE,E={},T=l.symbolFuncs[0](.05*w);function A(e){if("circle"===e)return null;var t,n,r=l.symbolNumber(e),i=l.symbolFuncs[r%100],a=!!l.symbolNoDot[r%100],s=!!l.symbolNoFill[r%100],u=h.DOT_RE.test(e);return E[e]?E[e]:(t=u&&!a?i(1.1*w)+T:i(w),n=o(t,{w:x,h:x,viewBox:[-w,-w,w,w],stroke:s?k:-k}),E[e]=n,n||null)}t.exports={style:function(e,t){var n,r={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0};if(!0!==t.visible)return r;if(d.hasText(t)&&(r.text=g(t),r.textSel=b(t,t.selected),r.textUnsel=b(t,t.unselected)),d.hasMarkers(t)&&(r.marker=v(t),r.markerSel=y(t,t.selected),r.markerUnsel=y(t,t.unselected),!t.unselected&&Array.isArray(t.marker.opacity))){var o=t.marker.opacity;for(r.markerUnsel.opacity=new Array(o.length),n=0;n<o.length;n++)r.markerUnsel.opacity[n]=p*o[n]}if(d.hasLines(t)){r.line={overlay:!0,thickness:t.line.width,color:t.line.color,opacity:t.opacity};var i=(h.DASHES[t.line.dash]||[1]).slice();for(n=0;n<i.length;++n)i[n]*=t.line.width;r.line.dashes=i}return t.error_x&&t.error_x.visible&&(r.errorX=_(t,t.error_x)),t.error_y&&t.error_y.visible&&(r.errorY=_(t,t.error_y)),t.fill&&"none"!==t.fill&&(r.fill={closed:!0,fill:t.fillcolor,thickness:0}),r},markerStyle:v,markerSelection:y,linePositions:function(e,t,n){var r,o,i=n.length,a=i/2;if(d.hasLines(t)&&a)if("hv"===t.line.shape){for(r=[],o=0;o<a-1;o++)isNaN(n[2*o])||isNaN(n[2*o+1])?r.push(NaN,NaN,NaN,NaN):(r.push(n[2*o],n[2*o+1]),isNaN(n[2*o+2])||isNaN(n[2*o+3])?r.push(NaN,NaN):r.push(n[2*o+2],n[2*o+1]));r.push(n[i-2],n[i-1])}else if("hvh"===t.line.shape){for(r=[],o=0;o<a-1;o++)if(isNaN(n[2*o])||isNaN(n[2*o+1])||isNaN(n[2*o+2])||isNaN(n[2*o+3]))isNaN(n[2*o])||isNaN(n[2*o+1])?r.push(NaN,NaN):r.push(n[2*o],n[2*o+1]),r.push(NaN,NaN);else{var s=(n[2*o]+n[2*o+2])/2;r.push(n[2*o],n[2*o+1],s,n[2*o+1],s,n[2*o+3])}r.push(n[i-2],n[i-1])}else if("vhv"===t.line.shape){for(r=[],o=0;o<a-1;o++)if(isNaN(n[2*o])||isNaN(n[2*o+1])||isNaN(n[2*o+2])||isNaN(n[2*o+3]))isNaN(n[2*o])||isNaN(n[2*o+1])?r.push(NaN,NaN):r.push(n[2*o],n[2*o+1]),r.push(NaN,NaN);else{var l=(n[2*o+1]+n[2*o+3])/2;r.push(n[2*o],n[2*o+1],n[2*o],l,n[2*o+2],l)}r.push(n[i-2],n[i-1])}else if("vh"===t.line.shape){for(r=[],o=0;o<a-1;o++)isNaN(n[2*o])||isNaN(n[2*o+1])?r.push(NaN,NaN,NaN,NaN):(r.push(n[2*o],n[2*o+1]),isNaN(n[2*o+2])||isNaN(n[2*o+3])?r.push(NaN,NaN):r.push(n[2*o],n[2*o+3]));r.push(n[i-2],n[i-1])}else r=n;var u=!1;for(o=0;o<r.length;o++)if(isNaN(r[o])){u=!0;break}var c=u||r.length>h.TOO_MANY_POINTS?"rect":d.hasMarkers(t)?"rect":"round";if(u&&t.connectgaps){var f=r[0],p=r[1];for(o=0;o<r.length;o+=2)isNaN(r[o])||isNaN(r[o+1])?(r[o]=f,r[o+1]=p):(f=r[o],p=r[o+1])}return{join:c,positions:r}},errorBarPositions:function(e,t,n,o,i){var s=a.getComponentMethod("errorbars","makeComputeError"),l=u.getFromId(e,t.xaxis),c=u.getFromId(e,t.yaxis),d=n.length/2,f={};function h(e,o){var i=o._id.charAt(0),a=t["error_"+i];if(a&&a.visible&&("linear"===o.type||"log"===o.type)){for(var l=s(a),u={x:0,y:1}[i],c={x:[0,1,2,3],y:[2,3,0,1]}[i],h=new Float64Array(4*d),p=1/0,m=-1/0,g=0,v=0;g<d;g++,v+=4){var y=e[g];if(r(y)){var b=n[2*g+u],_=l(y,g),x=_[0],w=_[1];if(r(x)&&r(w)){var k=y-x,E=y+w;h[v+c[0]]=b-o.c2l(k),h[v+c[1]]=o.c2l(E)-b,h[v+c[2]]=0,h[v+c[3]]=0,p=Math.min(p,y-x),m=Math.max(m,y+w)}}}f[i]={positions:n,errors:h,_bnds:[p,m]}}}return h(o,l),h(i,c),f},textPosition:function(e,t,n,r){var o,i=t._length,a={};if(d.hasMarkers(t)){var s=n.font,l=n.align,u=n.baseline;for(a.offset=new Array(i),o=0;o<i;o++){var c=r.sizes?r.sizes[o]:r.size,f=Array.isArray(s)?s[o].size:s.size,h=Array.isArray(l)?l.length>1?l[o]:l[0]:l,p=Array.isArray(u)?u.length>1?u[o]:u[0]:u,g=m[h],v=m[p],y=c?c/.8+1:0,b=-v*y-.5*v;a.offset[o]=[g*y/f,b/f]}}return a}}},{"../../components/drawing":344,"../../constants/interactions":419,"../../lib":441,"../../lib/gl_format_color":437,"../../plots/cartesian/axis_ids":491,"../../registry":532,"../scatter/make_bubble_size_func":609,"../scatter/subtypes":616,"./constants":621,"color-normalize":63,"fast-isnumeric":149,"svg-path-sdf":282}],623:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../registry"),i=e("./attributes"),a=e("../scatter/constants"),s=e("../scatter/subtypes"),l=e("../scatter/xy_defaults"),u=e("../scatter/marker_defaults"),c=e("../scatter/line_defaults"),d=e("../scatter/fillcolor_defaults"),f=e("../scatter/text_defaults");t.exports=function(e,t,n,h){function p(n,o){return r.coerce(e,t,i,n,o)}var m=!!e.marker&&/-open/.test(e.marker.symbol),g=s.isBubble(e),v=l(e,t,h,p);if(v){var y=v<a.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",y),s.hasLines(t)&&(p("connectgaps"),c(e,t,n,h,p),p("line.shape")),s.hasMarkers(t)&&(u(e,t,n,h,p),p("marker.line.width",m||g?1:0)),s.hasText(t)&&f(e,t,h,p),p("fill"),"none"!==t.fill&&d(e,t,n,p);var b=o.getComponentMethod("errorbars","supplyDefaults");b(e,t,n,{axis:"y"}),b(e,t,n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,p)}else t.visible=!1}},{"../../lib":441,"../../registry":532,"../scatter/constants":596,"../scatter/fillcolor_defaults":601,"../scatter/line_defaults":605,"../scatter/marker_defaults":611,"../scatter/subtypes":616,"../scatter/text_defaults":617,"../scatter/xy_defaults":618,"./attributes":620}],624:[function(e,t,n){"use strict";var r=e("regl-scatter2d"),o=e("regl-line2d"),i=e("regl-error2d"),a=e("point-cluster"),s=e("array-range"),l=e("gl-text"),u=e("../../registry"),c=e("../../lib"),d=e("../../lib/prepare_regl"),f=e("../../plots/cartesian/axis_ids"),h=e("../../plots/cartesian/autorange").findExtremes,p=e("../../components/color"),m=e("../scatter/subtypes"),g=e("../scatter/calc"),v=g.calcMarkerSize,y=g.calcAxisExpansion,b=g.setFirstScatter,_=e("../scatter/colorscale_calc"),x=e("../scatter/link_traces"),w=e("../scatter/get_trace_color"),k=e("../scatter/fill_hover_text"),E=e("./convert"),T=e("../../constants/numerical").BADNUM,A=e("./constants").TOO_MANY_POINTS,S=e("../../constants/interactions").DESELECTDIM;function M(e,t,n){var r=e._extremes[t._id],o=h(t,n._bnds,{padded:!0});r.min=r.min.concat(o.min),r.max=r.max.concat(o.max)}function C(e,t){var n=t._scene,r={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[]},o={selectBatch:null,unselectBatch:null,fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:null};return t._scene||((n=t._scene={}).init=function(){c.extendFlat(n,o,r)},n.init(),n.update=function(e){var t=c.repeat(e,n.count);if(n.fill2d&&n.fill2d.update(t),n.scatter2d&&n.scatter2d.update(t),n.line2d&&n.line2d.update(t),n.error2d&&n.error2d.update(t.concat(t)),n.select2d&&n.select2d.update(t),n.glText)for(var r=0;r<n.count;r++)n.glText[r].update(e)},n.draw=function(){for(var e=n.count,t=n.fill2d,r=n.error2d,o=n.line2d,i=n.scatter2d,a=n.glText,s=n.select2d,l=n.selectBatch,u=n.unselectBatch,c=0;c<e;c++)t&&n.fillOrder[c]&&t.draw(n.fillOrder[c]),o&&n.lineOptions[c]&&o.draw(c),r&&(n.errorXOptions[c]&&r.draw(c),n.errorYOptions[c]&&r.draw(c+e)),!i||!n.markerOptions[c]||l&&l[c]||i.draw(c),a[c]&&n.textOptions[c]&&a[c].render();i&&s&&l&&(s.draw(l),i.draw(u)),n.dirty=!1},n.destroy=function(){n.fill2d&&n.fill2d.destroy&&n.fill2d.destroy(),n.scatter2d&&n.scatter2d.destroy&&n.scatter2d.destroy(),n.error2d&&n.error2d.destroy&&n.error2d.destroy(),n.line2d&&n.line2d.destroy&&n.line2d.destroy(),n.select2d&&n.select2d.destroy&&n.select2d.destroy(),n.glText&&n.glText.forEach(function(e){e.destroy&&e.destroy()}),n.lineOptions=null,n.fillOptions=null,n.markerOptions=null,n.markerSelectedOptions=null,n.markerUnselectedOptions=null,n.errorXOptions=null,n.errorYOptions=null,n.textOptions=null,n.textSelectedOptions=null,n.textUnselectedOptions=null,n.selectBatch=null,n.unselectBatch=null,t._scene=null}),n.dirty||c.extendFlat(n,r),n}function j(e,t,n){var r=e._size,o=e.width,i=e.height;return[r.l+t.domain[0]*r.w,r.b+n.domain[0]*r.h,o-r.r-(1-t.domain[1])*r.w,i-r.t-(1-n.domain[1])*r.h]}function O(e,t,n,r){var o=e.xa,i=e.ya,a=e.distance,s=e.dxy,l=e.index,d={pointNumber:l,x:t[l],y:n[l]};d.tx=Array.isArray(r.text)?r.text[l]:r.text,d.htx=Array.isArray(r.hovertext)?r.hovertext[l]:r.hovertext,d.data=Array.isArray(r.customdata)?r.customdata[l]:r.customdata,d.tp=Array.isArray(r.textposition)?r.textposition[l]:r.textposition;var f=r.textfont;f&&(d.ts=Array.isArray(f.size)?f.size[l]:f.size,d.tc=Array.isArray(f.color)?f.color[l]:f.color,d.tf=Array.isArray(f.family)?f.family[l]:f.family);var h=r.marker;h&&(d.ms=c.isArrayOrTypedArray(h.size)?h.size[l]:h.size,d.mo=c.isArrayOrTypedArray(h.opacity)?h.opacity[l]:h.opacity,d.mx=Array.isArray(h.symbol)?h.symbol[l]:h.symbol,d.mc=c.isArrayOrTypedArray(h.color)?h.color[l]:h.color);var p=h&&h.line;p&&(d.mlc=Array.isArray(p.color)?p.color[l]:p.color,d.mlw=c.isArrayOrTypedArray(p.width)?p.width[l]:p.width);var m=h&&h.gradient;m&&"none"!==m.type&&(d.mgt=Array.isArray(m.type)?m.type[l]:m.type,d.mgc=Array.isArray(m.color)?m.color[l]:m.color);var g=o.c2p(d.x,!0),v=i.c2p(d.y,!0),y=d.mrc||1,b=r.hoverlabel;b&&(d.hbg=Array.isArray(b.bgcolor)?b.bgcolor[l]:b.bgcolor,d.hbc=Array.isArray(b.bordercolor)?b.bordercolor[l]:b.bordercolor,d.hts=Array.isArray(b.font.size)?b.font.size[l]:b.font.size,d.htc=Array.isArray(b.font.color)?b.font.color[l]:b.font.color,d.htf=Array.isArray(b.font.family)?b.font.family[l]:b.font.family,d.hnl=Array.isArray(b.namelength)?b.namelength[l]:b.namelength);var _=r.hoverinfo;_&&(d.hi=Array.isArray(_)?_[l]:_);var x={};return x[e.index]=d,c.extendFlat(e,{color:w(r,d),x0:g-y,x1:g+y,xLabelVal:d.x,y0:v-y,y1:v+y,yLabelVal:d.y,cd:x,distance:a,spikeDistance:s}),d.htx?e.text=d.htx:d.tx?e.text=d.tx:r.text&&(e.text=r.text),k(d,r,e),u.getComponentMethod("errorbars","hoverInfo")(d,r,e),e}function N(e){var t,n,r=e[0],o=r.trace,i=r.t,a=i._scene,s=i.index,l=a.selectBatch[s],u=a.unselectBatch[s],d=a.textOptions[s],f=a.textSelectedOptions[s]||{},h=a.textUnselectedOptions[s]||{},m=c.extendFlat({},d);if(l&&u){var g=f.color,v=h.color,y=d.color,b=Array.isArray(y);for(m.color=new Array(o._length),t=0;t<l.length;t++)n=l[t],m.color[n]=g||(b?y[n]:y);for(t=0;t<u.length;t++){n=u[t];var _=b?y[n]:y;m.color[n]=v||(g?_:p.addOpacity(_,S))}}a.glText[s].update(m)}t.exports={moduleType:"trace",name:"scattergl",basePlotModule:e("../../plots/cartesian"),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("../scatter/cross_trace_defaults"),colorbar:e("../scatter/marker_colorbar"),calc:function(e,t){var n,r,o,i=e._fullLayout,s=f.getFromId(e,t.xaxis),l=f.getFromId(e,t.yaxis),u=i._plots[t.xaxis+t.yaxis],d=t._length,h=2*d,p={},m=s.makeCalcdata(t,"x"),g=l.makeCalcdata(t,"y"),x=new Array(h);for(n=0;n<d;n++)r=m[n],o=g[n],x[2*n]=r===T?NaN:r,x[2*n+1]=o===T?NaN:o;if("log"===s.type)for(n=0;n<h;n+=2)x[n]=s.c2l(x[n]);if("log"===l.type)for(n=1;n<h;n+=2)x[n]=l.c2l(x[n]);if("log"!==s.type&&"log"!==l.type)p.tree=a(x);else{var w=p.ids=new Array(d);for(n=0;n<d;n++)w[n]=n}_(t);var k,S=function(e,t,n,r,o,i){var a=E.style(e,n);if(a.marker&&(a.marker.positions=r),a.line&&r.length>1&&c.extendFlat(a.line,E.linePositions(e,n,r)),a.errorX||a.errorY){var s=E.errorBarPositions(e,n,r,o,i);a.errorX&&c.extendFlat(a.errorX,s.x),a.errorY&&c.extendFlat(a.errorY,s.y)}return a.text&&(c.extendFlat(a.text,{positions:r},E.textPosition(e,n,a.text,a.marker)),c.extendFlat(a.textSel,{positions:r},E.textPosition(e,n,a.text,a.markerSel)),c.extendFlat(a.textUnsel,{positions:r},E.textPosition(e,n,a.text,a.markerUnsel))),a}(e,0,t,x,m,g),j=C(0,u);return b(i,t),d<A?k=v(t,d):S.marker&&(k=2*(S.marker.sizeAvg||Math.max(S.marker.size,3))),y(e,t,s,l,m,g,k),S.errorX&&M(t,s,S.errorX),S.errorY&&M(t,l,S.errorY),S.fill&&!j.fill2d&&(j.fill2d=!0),S.marker&&!j.scatter2d&&(j.scatter2d=!0),S.line&&!j.line2d&&(j.line2d=!0),!S.errorX&&!S.errorY||j.error2d||(j.error2d=!0),S.text&&!j.glText&&(j.glText=!0),S.marker&&d>=A&&(S.marker.cluster=p.tree),j.lineOptions.push(S.line),j.errorXOptions.push(S.errorX),j.errorYOptions.push(S.errorY),j.fillOptions.push(S.fill),j.markerOptions.push(S.marker),j.markerSelectedOptions.push(S.markerSel),j.markerUnselectedOptions.push(S.markerUnsel),j.textOptions.push(S.text),j.textSelectedOptions.push(S.textSel),j.textUnselectedOptions.push(S.textUnsel),p._scene=j,p.index=j.count,p.x=m,p.y=g,p.positions=x,j.count++,[{x:!1,y:!1,t:p,trace:t}]},plot:function(e,t,n){if(n.length){var a,s,u=e._fullLayout,f=t._scene,h=t.xaxis,p=t.yaxis;if(f)if(d(e,["ANGLE_instanced_arrays","OES_element_index_uint"])){var m=u._glcanvas.data()[0].regl;if(x(e,t,n),f.dirty){if(!0===f.error2d&&(f.error2d=i(m)),!0===f.line2d&&(f.line2d=o(m)),!0===f.scatter2d&&(f.scatter2d=r(m)),!0===f.fill2d&&(f.fill2d=o(m)),!0===f.glText)for(f.glText=new Array(f.count),a=0;a<f.count;a++)f.glText[a]=new l(m);if(f.glText)for(a=0;a<f.count;a++)f.glText[a].update(f.textOptions[a]);if(f.line2d&&(f.line2d.update(f.lineOptions),f.lineOptions=f.lineOptions.map(function(e){if(e&&e.positions){for(var t=e.positions,n=0;n<t.length&&(isNaN(t[n])||isNaN(t[n+1]));)n+=2;for(var r=t.length-2;r>n&&(isNaN(t[r])||isNaN(t[r+1]));)r-=2;e.positions=t.slice(n,r+2)}return e}),f.line2d.update(f.lineOptions)),f.error2d){var g=(f.errorXOptions||[]).concat(f.errorYOptions||[]);f.error2d.update(g)}f.scatter2d&&f.scatter2d.update(f.markerOptions),f.fillOrder=c.repeat(null,f.count),f.fill2d&&(f.fillOptions=f.fillOptions.map(function(e,t){var r=n[t];if(e&&r&&r[0]&&r[0].trace){var o,i,a=r[0],s=a.trace,l=a.t,u=f.lineOptions[t],c=[];s._ownfill&&c.push(t),s._nexttrace&&c.push(t+1),c.length&&(f.fillOrder[t]=c);var d,h,p=[],m=u&&u.positions||l.positions;if("tozeroy"===s.fill){for(d=0;d<m.length&&isNaN(m[d+1]);)d+=2;for(h=m.length-2;h>d&&isNaN(m[h+1]);)h-=2;0!==m[d+1]&&(p=[m[d],0]),p=p.concat(m.slice(d,h+2)),0!==m[h+1]&&(p=p.concat([m[h],0]))}else if("tozerox"===s.fill){for(d=0;d<m.length&&isNaN(m[d]);)d+=2;for(h=m.length-2;h>d&&isNaN(m[h]);)h-=2;0!==m[d]&&(p=[0,m[d+1]]),p=p.concat(m.slice(d,h+2)),0!==m[h]&&(p=p.concat([0,m[h+1]]))}else if("toself"===s.fill||"tonext"===s.fill){for(p=[],o=0,i=0;i<m.length;i+=2)(isNaN(m[i])||isNaN(m[i+1]))&&((p=p.concat(m.slice(o,i))).push(m[o],m[o+1]),o=i+2);p=p.concat(m.slice(o)),o&&p.push(m[o],m[o+1])}else{var g=s._nexttrace;if(g){var v=f.lineOptions[t+1];if(v){var y=v.positions;if("tonexty"===s.fill){for(p=m.slice(),t=Math.floor(y.length/2);t--;){var b=y[2*t],_=y[2*t+1];isNaN(b)||isNaN(_)||p.push(b,_)}e.fill=g.fillcolor}}}}if(s._prevtrace&&"tonext"===s._prevtrace.fill){var x=f.lineOptions[t-1].positions,w=p.length/2,k=[o=w];for(i=0;i<x.length;i+=2)(isNaN(x[i])||isNaN(x[i+1]))&&(k.push(i/2+w+1),o=i+2);p=p.concat(x),e.hole=k}return e.fillmode=s.fill,e.opacity=s.opacity,e.positions=p,e}}),f.fill2d.update(f.fillOptions))}f.selectBatch=null,f.unselectBatch=null;var v=u.dragmode,y="lasso"===v||"select"===v,b=u.clickmode.indexOf("select")>-1;for(a=0;a<n.length;a++){var _=n[a][0],w=_.trace,k=_.t,E=k.index,T=w._length,A=k.x,S=k.y;if(w.selectedpoints||y||b){if(y||(y=!0),f.selectBatch||(f.selectBatch=[],f.unselectBatch=[]),w.selectedpoints){var M=f.selectBatch[E]=c.selIndices2selPoints(w),C={};for(s=0;s<M.length;s++)C[M[s]]=1;var O=[];for(s=0;s<T;s++)C[s]||O.push(s);f.unselectBatch[E]=O}var R=k.xpx=new Array(T),P=k.ypx=new Array(T);for(s=0;s<T;s++)R[s]=h.c2p(A[s]),P[s]=p.c2p(S[s])}else k.xpx=k.ypx=null}y?(f.select2d||(f.select2d=r(u._glcanvas.data()[1].regl)),f.scatter2d&&f.selectBatch&&f.selectBatch.length&&f.scatter2d.update(f.markerUnselectedOptions.map(function(e,t){return f.selectBatch[t]?e:null})),f.select2d&&(f.select2d.update(f.markerOptions),f.select2d.update(f.markerSelectedOptions)),f.glText&&n.forEach(function(e){e&&e[0]&&e[0].trace&&N(e)})):f.scatter2d&&f.scatter2d.update(f.markerOptions);var I={viewport:j(u,h,p),range:[(h._rl||h.range)[0],(p._rl||p.range)[0],(h._rl||h.range)[1],(p._rl||p.range)[1]]},D=c.repeat(I,f.count);f.fill2d&&f.fill2d.update(D),f.line2d&&f.line2d.update(D),f.error2d&&f.error2d.update(D.concat(D)),f.scatter2d&&f.scatter2d.update(D),f.select2d&&f.select2d.update(D),f.glText&&f.glText.forEach(function(e){e.update(I)})}else f.init()}},hoverPoints:function(e,t,n,r){var o,i,a,s,l,u,c,d,f,h=e.cd,p=h[0].t,m=h[0].trace,g=e.xa,v=e.ya,y=p.x,b=p.y,_=g.c2p(t),x=v.c2p(n),w=e.distance;if(p.tree){var k=g.p2c(_-w),E=g.p2c(_+w),T=v.p2c(x-w),A=v.p2c(x+w);o="x"===r?p.tree.range(Math.min(k,E),Math.min(v._rl[0],v._rl[1]),Math.max(k,E),Math.max(v._rl[0],v._rl[1])):p.tree.range(Math.min(k,E),Math.min(T,A),Math.max(k,E),Math.max(T,A))}else{if(!p.ids)return[e];o=p.ids}var S=w;if("x"===r)for(l=0;l<o.length;l++)a=y[o[l]],(u=Math.abs(g.c2p(a)-_))<S&&(S=u,c=v.c2p(b[o[l]])-x,f=Math.sqrt(u*u+c*c),i=o[l]);else for(l=0;l<o.length;l++)a=y[o[l]],s=b[o[l]],u=g.c2p(a)-_,c=v.c2p(s)-x,(d=Math.sqrt(u*u+c*c))<S&&(S=f=d,i=o[l]);return e.index=i,e.distance=S,e.dxy=f,void 0===i?[e]:(O(e,y,b,m),[e])},selectPoints:function(e,t){var n=e.cd,r=[],o=n[0].trace,i=n[0].t,a=o._length,l=i.x,u=i.y,c=i._scene;if(!c)return r;var d=m.hasText(o),f=m.hasMarkers(o),h=!f&&!d;if(!0!==o.visible||h)return r;var p,g=null,v=null;if(!1===t||t.degenerate)v=s(a);else for(g=[],v=[],p=0;p<a;p++)t.contains([i.xpx[p],i.ypx[p]],!1,p,e)?(g.push(p),r.push({pointNumber:p,x:l[p],y:u[p]})):v.push(p);if(c.selectBatch||(c.selectBatch=[],c.unselectBatch=[]),!c.selectBatch[i.index]){for(p=0;p<c.count;p++)c.selectBatch[p]=[],c.unselectBatch[p]=[];f&&c.scatter2d.update(c.markerUnselectedOptions)}return c.selectBatch[i.index]=g,c.unselectBatch[i.index]=v,d&&N(n),r},sceneUpdate:C,calcHover:O,meta:{}}},{"../../components/color":319,"../../constants/interactions":419,"../../constants/numerical":420,"../../lib":441,"../../lib/prepare_regl":454,"../../plots/cartesian":500,"../../plots/cartesian/autorange":487,"../../plots/cartesian/axis_ids":491,"../../registry":532,"../scatter/calc":593,"../scatter/colorscale_calc":595,"../scatter/cross_trace_defaults":598,"../scatter/fill_hover_text":600,"../scatter/get_trace_color":602,"../scatter/link_traces":608,"../scatter/marker_colorbar":610,"../scatter/subtypes":616,"./attributes":620,"./constants":621,"./convert":622,"./defaults":623,"array-range":15,"gl-text":188,"point-cluster":236,"regl-error2d":254,"regl-line2d":255,"regl-scatter2d":256}],625:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),o=e("../../components/colorscale/attributes"),i=e("../scattergl/attributes"),a=e("../../plots/cartesian/constants").idRegex,s=e("../../plot_api/plot_template").templatedArray,l=e("../../lib/extend").extendFlat,u=r.marker,c=u.line,d=l(o("marker.line",{editTypeOverride:"calc"}),{width:l({},c.width,{editType:"calc"}),editType:"calc"}),f=l(o("marker"),{symbol:u.symbol,size:l({},u.size,{editType:"markerSize"}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:u.opacity,colorbar:u.colorbar,line:d,editType:"calc"});function h(e){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:a[e],editType:"plot"}}}f.color.editType=f.cmin.editType=f.cmax.editType="style",t.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:l({},i.text,{}),marker:f,xaxes:h("x"),yaxes:h("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:i.selected.marker,editType:"calc"},unselected:{marker:i.unselected.marker,editType:"calc"},opacity:i.opacity}},{"../../components/colorscale/attributes":326,"../../lib/extend":432,"../../plot_api/plot_template":478,"../../plots/cartesian/constants":494,"../scatter/attributes":592,"../scattergl/attributes":620}],626:[function(e,t,n){"use strict";var r=e("regl-line2d"),o=e("../../registry"),i=e("../../lib/prepare_regl"),a=e("../../plots/get_data").getModuleCalcData,s=e("../../plots/cartesian"),l=e("../../plots/cartesian/axis_ids").getFromId,u=e("../../plots/cartesian/axes").shouldShowZeroLine,c="splom";function d(e,t,n){for(var r=n.matrixOptions.data.length,o=t._visibleDims,i=n.viewOpts.ranges=new Array(r),a=0;a<o.length;a++){var s=o[a],u=i[a]=new Array(4),c=l(e,t._diag[s][0]);c&&(u[0]=c.r2l(c.range[0]),u[2]=c.r2l(c.range[1]));var d=l(e,t._diag[s][1]);d&&(u[1]=d.r2l(d.range[0]),u[3]=d.r2l(d.range[1]))}n.selectBatch?n.matrix.update({ranges:i},{ranges:i}):n.matrix.update({ranges:i})}function f(e){var t=e._fullLayout,n=t._glcanvas.data()[0].regl,o=t._splomGrid;o||(o=t._splomGrid=r(n)),o.update(function(e){var t,n=e._fullLayout,r=n._size,o=[0,0,n.width,n.height],i={};function a(e,t,n,r,a,s){var l=t[e+"color"],u=t[e+"width"],c=String(l+u);c in i?i[c].data.push(NaN,NaN,n,r,a,s):i[c]={data:[n,r,a,s],join:"rect",thickness:u,color:l,viewport:o,range:o,overlay:!1}}for(t in n._splomSubplots){var s,l,c=n._plots[t],d=c.xaxis,f=c.yaxis,h=d._vals,p=f._vals,m=r.b+f.domain[0]*r.h,g=-f._m,v=-g*f.r2l(f.range[0],f.calendar);if(d.showgrid)for(t=0;t<h.length;t++)s=d._offset+d.l2p(h[t].x),a("grid",d,s,m,s,m+f._length);if(f.showgrid)for(t=0;t<p.length;t++)l=m+v+g*p[t].x,a("grid",f,d._offset,l,d._offset+d._length,l);u(e,d,f)&&(s=d._offset+d.l2p(0),a("zeroline",d,s,m,s,m+f._length)),u(e,f,d)&&(l=m+v+0,a("zeroline",f,d._offset,l,d._offset+d._length,l))}var y=[];for(t in i)y.push(i[t]);return y}(e))}t.exports={name:c,attr:s.attr,attrRegex:s.attrRegex,layoutAttributes:s.layoutAttributes,supplyLayoutDefaults:s.supplyLayoutDefaults,drawFramework:s.drawFramework,plot:function(e){var t=e._fullLayout,n=o.getModule(c),r=a(e.calcdata,n)[0];i(e,["ANGLE_instanced_arrays","OES_element_index_uint"])&&(t._hasOnlyLargeSploms&&f(e),n.plot(e,{},r))},drag:function(e){var t=e.calcdata,n=e._fullLayout;n._hasOnlyLargeSploms&&f(e);for(var r=0;r<t.length;r++){var o=t[r][0],i=o.trace,a=n._splomScenes[i.uid];"splom"===i.type&&a&&a.matrix&&d(e,i,a)}},updateGrid:f,clean:function(e,t,n,r){var o,i={};if(r._splomScenes){for(o=0;o<e.length;o++){var a=e[o];"splom"===a.type&&(i[a.uid]=1)}for(o=0;o<n.length;o++){var l=n[o];if(!i[l.uid]){var u=r._splomScenes[l.uid];u&&u.destroy&&u.destroy(),r._splomScenes[l.uid]=null,delete r._splomScenes[l.uid]}}}0===Object.keys(r._splomScenes||{}).length&&delete r._splomScenes,r._splomGrid&&!t._hasOnlyLargeSploms&&r._hasOnlyLargeSploms&&(r._splomGrid.destroy(),r._splomGrid=null,delete r._splomGrid),s.clean(e,t,n,r)},updateFx:function(e){s.updateFx(e);var t=e._fullLayout,n=t.dragmode;if("zoom"===n||"pan"===n)for(var r=e.calcdata,o=0;o<r.length;o++){var i=r[o][0],a=i.trace;if("splom"===a.type){var l=t._splomScenes[a.uid];null===l.selectBatch&&l.matrix.update(l.matrixOptions,null)}}},toSVG:s.toSVG}},{"../../lib/prepare_regl":454,"../../plots/cartesian":500,"../../plots/cartesian/axes":488,"../../plots/cartesian/axis_ids":491,"../../plots/get_data":517,"../../registry":532,"regl-line2d":255}],627:[function(e,t,n){"use strict";var r=e("../../lib"),o=e("../../plots/array_container_defaults"),i=e("./attributes"),a=e("../scatter/subtypes"),s=e("../scatter/marker_defaults"),l=e("../parcoords/merge_length"),u=/-open/;function c(e,t){function n(n,o){return r.coerce(e,t,i.dimensions,n,o)}n("label");var o=n("values");o&&o.length?n("visible"):t.visible=!1,n("axis.type")}t.exports=function(e,t,n,d){function f(n,o){return r.coerce(e,t,i,n,o)}var h=o(e,t,{name:"dimensions",handleItemDefaults:c}),p=f("diagonal.visible"),m=f("showupperhalf"),g=f("showlowerhalf"),v=l(t,h,"values");if(v&&(p||m||g)){f("text"),s(e,t,n,d,f);var y=u.test(t.marker.symbol),b=a.isBubble(t);f("marker.line.width",y||b?1:0),function(e,t,n,r){var o,i,a=t.dimensions,s=a.length,l=t.showupperhalf,u=t.showlowerhalf,c=t.diagonal.visible,d=new Array(s),f=new Array(s);for(o=0;o<s;o++){var h=o?o+1:"";d[o]="x"+h,f[o]="y"+h}var p=r("xaxes",d),m=r("yaxes",f),g=t._diag=new Array(s);t._xaxes={},t._yaxes={};var v=[],y=[];function b(e,r,o){if(e){var i=e.charAt(0),a=n._splomAxes[i];if(t["_"+i+"axes"][e]=1,o.push(e),!(e in a)){var s=a[e]={};r&&(s.label=r.label||"",r.visible&&r.axis&&(s.type=r.axis.type))}}}var _=!c&&!u,x=!c&&!l;for(o=0;o<s;o++){var w=a[o],k=0===o,E=o===s-1,T=k&&_||E&&x?void 0:p[o],A=k&&x||E&&_?void 0:m[o];b(T,w,v),b(A,w,y),g[o]=[T,A]}for(o=0;o<v.length;o++)for(i=0;i<y.length;i++){var S=v[o]+y[i];o>i&&l?n._splomSubplots[S]=1:o<i&&u?n._splomSubplots[S]=1:o!==i||!c&&u&&l||(n._splomSubplots[S]=1)}(!u||!c&&l&&u)&&(n._splomGridDflt.xside="bottom",n._splomGridDflt.yside="left")}(0,t,d,f),r.coerceSelectionMarkerOpacity(t,f)}else t.visible=!1}},{"../../lib":441,"../../plots/array_container_defaults":484,"../parcoords/merge_length":582,"../scatter/marker_defaults":611,"../scatter/subtypes":616,"./attributes":625}],628:[function(e,t,n){"use strict";var r=e("regl-splom"),o=e("array-range"),i=e("../../registry"),a=e("../../components/grid"),s=e("../../lib"),l=e("../../plots/cartesian/axis_ids"),u=e("../scatter/subtypes"),c=e("../scatter/calc").calcMarkerSize,d=e("../scatter/calc").calcAxisExpansion,f=e("../scatter/colorscale_calc"),h=e("../scattergl/convert").markerSelection,p=e("../scattergl/convert").markerStyle,m=e("../scattergl").calcHover,g=e("../../constants/numerical").BADNUM,v=e("../scattergl/constants").TOO_MANY_POINTS;function y(e,t){var n,o,i,a,u,c=e._fullLayout,d=c._size,f=t.trace,h=t.t,p=c._splomScenes[f.uid],m=p.matrixOptions,g=m.cdata,v=c._glcanvas.data()[0].regl,y=c.dragmode;if(0!==g.length){m.lower=f.showupperhalf,m.upper=f.showlowerhalf,m.diagonal=f.diagonal.visible;var b=f._visibleDims,_=g.length,x=p.viewOpts={};for(x.ranges=new Array(_),x.domains=new Array(_),u=0;u<b.length;u++){i=b[u];var w=x.ranges[u]=new Array(4),k=x.domains[u]=new Array(4);(n=l.getFromId(e,f._diag[i][0]))&&(w[0]=n._rl[0],w[2]=n._rl[1],k[0]=n.domain[0],k[2]=n.domain[1]),(o=l.getFromId(e,f._diag[i][1]))&&(w[1]=o._rl[0],w[3]=o._rl[1],k[1]=o.domain[0],k[3]=o.domain[1])}x.viewport=[d.l,d.b,d.w+d.l,d.h+d.b],!0===p.matrix&&(p.matrix=r(v));var E=c.clickmode.indexOf("select")>-1,T="lasso"===y||"select"===y||!!f.selectedpoints||E;if(p.selectBatch=null,p.unselectBatch=null,T){var A=f._length;if(p.selectBatch||(p.selectBatch=[],p.unselectBatch=[]),f.selectedpoints){p.selectBatch=f.selectedpoints;var S=f.selectedpoints,M={};for(i=0;i<S.length;i++)M[S[i]]=!0;var C=[];for(i=0;i<A;i++)M[i]||C.push(i);p.unselectBatch=C}var j=h.xpx=new Array(_),O=h.ypx=new Array(_);for(u=0;u<b.length;u++){if(i=b[u],n=l.getFromId(e,f._diag[i][0]))for(j[u]=new Array(A),a=0;a<A;a++)j[u][a]=n.c2p(g[u][a]);if(o=l.getFromId(e,f._diag[i][1]))for(O[u]=new Array(A),a=0;a<A;a++)O[u][a]=o.c2p(g[u][a])}p.selectBatch?(p.matrix.update(m,m),p.matrix.update(p.unselectedOptions,p.selectedOptions),p.matrix.update(x,x)):p.matrix.update(x,null)}else{var N=s.extendFlat({},m,x);p.matrix.update(N,null),h.xpx=h.ypx=null}}}function b(e,t){for(var n=t._id,r=n.charAt(0),o={x:0,y:1}[r],i=e._visibleDims,a=0;a<i.length;a++){var s=i[a];if(e._diag[s][o]===n)return a}return!1}t.exports={moduleType:"trace",name:"splom",basePlotModule:e("./base_plot"),categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e("./attributes"),supplyDefaults:e("./defaults"),colorbar:e("../scatter/marker_colorbar"),calc:function(e,t){var n,r,o,i,a,u,m=t.dimensions,y=t._length,b={},_=b.cdata=[],x=b.data=[],w=t._visibleDims=[];function k(e,n){for(var r=e.makeCalcdata({v:n.values,vcalendar:t.calendar},"v"),o=0;o<r.length;o++)r[o]=r[o]===g?NaN:r[o];_.push(r),x.push("log"===e.type?s.simpleMap(r,e.c2l):r)}for(n=0;n<m.length;n++)if((o=m[n]).visible){if(i=l.getFromId(e,t._diag[n][0]),a=l.getFromId(e,t._diag[n][1]),i&&a&&i.type!==a.type){s.log("Skipping splom dimension "+n+" with conflicting axis types");continue}i?(k(i,o),a&&"category"===a.type&&(a._categories=i._categories.slice())):k(a,o),w.push(n)}for(f(t),s.extendFlat(b,p(t)),u=_.length*y>v?2*(b.sizeAvg||Math.max(b.size,3)):c(t,y),r=0;r<w.length;r++)n=w[r],o=m[n],i=l.getFromId(e,t._diag[n][0])||{},a=l.getFromId(e,t._diag[n][1])||{},d(e,t,i,a,_[r],_[r],u);var E=function(e,t){var n=e._fullLayout,r=t.uid,o=n._splomScenes;o||(o=n._splomScenes={});var i={dirty:!0},a=o[t.uid];return a||((a=o[r]=s.extendFlat({},i,{selectBatch:null,unselectBatch:null,matrix:!1,select:null})).draw=function(){a.matrix&&a.matrix.draw&&(a.selectBatch?a.matrix.draw(a.unselectBatch,a.selectBatch):a.matrix.draw()),a.dirty=!1},a.destroy=function(){a.matrix&&a.matrix.destroy&&a.matrix.destroy(),a.matrixOptions=null,a.selectBatch=null,a.unselectBatch=null,a=null}),a.dirty||s.extendFlat(a,i),a}(e,t);return E.matrix||(E.matrix=!0),E.matrixOptions=b,E.selectedOptions=h(t,t.selected),E.unselectedOptions=h(t,t.unselected),[{x:!1,y:!1,t:{},trace:t}]},plot:function(e,t,n){if(n.length)for(var r=0;r<n.length;r++)y(e,n[r][0])},hoverPoints:function(e,t,n){var r=e.cd[0].trace,o=e.scene.matrixOptions.cdata,i=e.xa,a=e.ya,s=i.c2p(t),l=a.c2p(n),u=e.distance,c=b(r,i),d=b(r,a);if(!1===c||!1===d)return[e];for(var f,h,p=o[c],g=o[d],v=u,y=0;y<p.length;y++){var _=p[y],x=g[y],w=i.c2p(_)-s,k=a.c2p(x)-l,E=Math.sqrt(w*w+k*k);E<v&&(v=h=E,f=y)}return e.index=f,e.distance=v,e.dxy=h,void 0===f?[e]:(m(e,p,g,r),[e])},selectPoints:function(e,t){var n,r=e.cd,i=r[0].trace,a=r[0].t,s=e.scene,l=s.matrixOptions.cdata,c=e.xaxis,d=e.yaxis,f=[];if(!s)return f;var h=!u.hasMarkers(i)&&!u.hasText(i);if(!0!==i.visible||h)return f;var p=b(i,c),m=b(i,d);if(!1===p||!1===m)return f;var g=a.xpx[p],v=a.ypx[m],y=l[p],_=l[m],x=null,w=null;if(!1===t||t.degenerate)w=o(a.count);else for(x=[],w=[],n=0;n<y.length;n++)t.contains([g[n],v[n]],null,n,e)?(x.push(n),f.push({pointNumber:n,x:y[n],y:_[n]})):w.push(n);if(s.selectBatch||(s.selectBatch=[],s.unselectBatch=[]),!s.selectBatch){for(n=0;n<s.count;n++)s.selectBatch=[],s.unselectBatch=[];s.matrix.update(s.unselectedOptions,s.selectedOptions)}return s.selectBatch=x,s.unselectBatch=w,f},editStyle:function(e,t){var n=t.trace,r=e._fullLayout._splomScenes[n.uid];if(r){f(n),s.extendFlat(r.matrixOptions,p(n));var o=s.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(o,null)}},meta:{}},i.register(a)},{"../../components/grid":365,"../../constants/numerical":420,"../../lib":441,"../../plots/cartesian/axis_ids":491,"../../registry":532,"../scatter/calc":593,"../scatter/colorscale_calc":595,"../scatter/marker_colorbar":610,"../scatter/subtypes":616,"../scattergl":624,"../scattergl/constants":621,"../scattergl/convert":622,"./attributes":625,"./base_plot":626,"./defaults":627,"array-range":15,"regl-splom":258}]},{},[6])(6)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/process-nextick-args/index.js":function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,o)});default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick(function(){e.apply(null,i)})}}}:e.exports=t}).call(this,n("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/prop-types/checkPropTypes.js":function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){}},"./node_modules/prop-types/factory.js":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/factoryWithTypeCheckers.js");e.exports=function(e){return r(e,!1)}},"./node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},"./node_modules/prop-types/factoryWithTypeCheckers.js":function(e,t,n){"use strict";var r=n("./node_modules/object-assign/index.js"),o=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),i=n("./node_modules/prop-types/checkPropTypes.js"),a=function(){};function s(){return null}e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,l="@@iterator";var u="<<anonymous>>",c={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:h(s),arrayOf:function(e){return h(function(t,n,r,i,a){if("function"!=typeof e)return new f("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var l=g(s);return new f("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var c=e(s,u,r,i,a+"["+u+"]",o);if(c instanceof Error)return c}return null})},element:function(){return h(function(t,n,r,o,i){var a=t[n];if(!e(a)){var s=g(a);return new f("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return h(function(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||u,s=function(e){if(!e.constructor||!e.constructor.name)return u;return e.constructor.name}(t[n]);return new f("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null})},node:function(){return h(function(e,t,n,r,o){if(!m(e[t]))return new f("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return h(function(t,n,r,i,a){if("function"!=typeof e)return new f("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=g(s);if("object"!==l)return new f("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var c=e(s,u,r,i,a+"."+u,o);if(c instanceof Error)return c}return null})},oneOf:function(e){if(!Array.isArray(e))return s;return h(function(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(d(a,e[s]))return null;var l=JSON.stringify(e);return new f("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+l+".")})},oneOfType:function(e){if(!Array.isArray(e))return s;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return a("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+y(n)+" at index "+t+"."),s}return h(function(t,n,r,i,a){for(var s=0;s<e.length;s++){var l=e[s];if(null==l(t,n,r,i,a,o))return null}return new f("Invalid "+i+" `"+a+"` supplied to `"+r+"`.")})},shape:function(e){return h(function(t,n,r,i,a){var s=t[n],l=g(s);if("object"!==l)return new f("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var d=c(s,u,r,i,a+"."+u,o);if(d)return d}}return null})},exact:function(e){return h(function(t,n,i,a,s){var l=t[n],u=g(l);if("object"!==u)return new f("Invalid "+a+" `"+s+"` of type `"+u+"` supplied to `"+i+"`, expected `object`.");var c=r({},t[n],e);for(var d in c){var h=e[d];if(!h)return new f("Invalid "+a+" `"+s+"` key `"+d+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=h(l,d,i,a,s+"."+d,o);if(p)return p}return null})}};function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){this.message=e,this.stack=""}function h(e){function n(n,r,i,a,s,l,c){if((a=a||u,l=l||i,c!==o)&&t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}return null==r[i]?n?null===r[i]?new f("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`."):new f("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(r,i,a,s,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function p(e){return h(function(t,n,r,o,i,a){var s=t[n];return g(s)!==e?new f("Invalid "+o+" `"+i+"` of type `"+v(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function m(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(m);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[l]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!m(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!m(a[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function v(e){if(null==e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return f.prototype=Error.prototype,c.checkPropTypes=i,c.PropTypes=c,c}},"./node_modules/prop-types/index.js":function(e,t,n){e.exports=n("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/public-encrypt/browser.js":function(e,t,n){t.publicEncrypt=n("./node_modules/public-encrypt/publicEncrypt.js"),t.privateDecrypt=n("./node_modules/public-encrypt/privateDecrypt.js"),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},"./node_modules/public-encrypt/mgf.js":function(e,t,n){var r=n("./node_modules/create-hash/browser.js"),o=n("./node_modules/safe-buffer/index.js").Buffer;function i(e){var t=o.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=o.alloc(0),s=0;a.length<t;)n=i(s++),a=o.concat([a,r("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},"./node_modules/public-encrypt/privateDecrypt.js":function(e,t,n){var r=n("./node_modules/parse-asn1/index.js"),o=n("./node_modules/public-encrypt/mgf.js"),i=n("./node_modules/public-encrypt/xor.js"),a=n("./node_modules/bn.js/lib/bn.js"),s=n("./node_modules/browserify-rsa/index.js"),l=n("./node_modules/create-hash/browser.js"),u=n("./node_modules/public-encrypt/withPublic.js"),c=n("./node_modules/safe-buffer/index.js").Buffer;e.exports=function(e,t,n){var d;d=e.padding?e.padding:n?1:4;var f,h=r(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");f=n?u(new a(t),h):s(t,h);var m=c.alloc(p-f.length);if(f=c.concat([m,f],p),4===d)return function(e,t){var n=e.modulus.byteLength(),r=l("sha1").update(c.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),u=t.slice(a+1),d=i(s,o(u,a)),f=i(u,o(d,n-a-1));if(function(e,t){e=c.from(e),t=c.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));var o=-1;for(;++o<r;)n+=e[o]^t[o];return n}(r,f.slice(0,a)))throw new Error("decryption error");var h=a;for(;0===f[h];)h++;if(1!==f[h++])throw new Error("decryption error");return f.slice(h)}(h,f);if(1===d)return function(e,t,n){var r=t.slice(0,2),o=2,i=0;for(;0!==t[o++];)if(o>=t.length){i++;break}var a=t.slice(2,o-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&i++;a.length<8&&i++;if(i)throw new Error("decryption error");return t.slice(o)}(0,f,n);if(3===d)return f;throw new Error("unknown padding")}},"./node_modules/public-encrypt/publicEncrypt.js":function(e,t,n){var r=n("./node_modules/parse-asn1/index.js"),o=n("./node_modules/randombytes/browser.js"),i=n("./node_modules/create-hash/browser.js"),a=n("./node_modules/public-encrypt/mgf.js"),s=n("./node_modules/public-encrypt/xor.js"),l=n("./node_modules/bn.js/lib/bn.js"),u=n("./node_modules/public-encrypt/withPublic.js"),c=n("./node_modules/browserify-rsa/index.js"),d=n("./node_modules/safe-buffer/index.js").Buffer;e.exports=function(e,t,n){var f;f=e.padding?e.padding:n?1:4;var h,p=r(e);if(4===f)h=function(e,t){var n=e.modulus.byteLength(),r=t.length,u=i("sha1").update(d.alloc(0)).digest(),c=u.length,f=2*c;if(r>n-f-2)throw new Error("message too long");var h=d.alloc(n-r-f-2),p=n-c-1,m=o(c),g=s(d.concat([u,h,d.alloc(1,1),t],p),a(m,p)),v=s(m,a(g,c));return new l(d.concat([d.alloc(1),v,g],n))}(p,t);else if(1===f)h=function(e,t,n){var r,i=t.length,a=e.modulus.byteLength();if(i>a-11)throw new Error("message too long");r=n?d.alloc(a-i-3,255):function(e){var t,n=d.allocUnsafe(e),r=0,i=o(2*e),a=0;for(;r<e;)a===i.length&&(i=o(2*e),a=0),(t=i[a++])&&(n[r++]=t);return n}(a-i-3);return new l(d.concat([d.from([0,n?1:2]),r,d.alloc(1),t],a))}(p,t,n);else{if(3!==f)throw new Error("unknown padding");if((h=new l(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?c(h,p):u(h,p)}},"./node_modules/public-encrypt/withPublic.js":function(e,t,n){var r=n("./node_modules/bn.js/lib/bn.js"),o=n("./node_modules/safe-buffer/index.js").Buffer;e.exports=function(e,t){return o.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},"./node_modules/public-encrypt/xor.js":function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},"./node_modules/randombytes/browser.js":function(e,t,n){"use strict";(function(t,r){var o=n("./node_modules/safe-buffer/index.js").Buffer,i=t.crypto||t.msCrypto;i&&i.getRandomValues?e.exports=function(e,n){if(e>65536)throw new Error("requested too many random bytes");var a=new t.Uint8Array(e);e>0&&i.getRandomValues(a);var s=o.from(a.buffer);if("function"==typeof n)return r.nextTick(function(){n(null,s)});return s}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/randomfill/browser.js":function(e,t,n){"use strict";(function(e,r){function o(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var i=n("./node_modules/safe-buffer/index.js"),a=n("./node_modules/randombytes/browser.js"),s=i.Buffer,l=i.kMaxLength,u=e.crypto||e.msCrypto,c=Math.pow(2,32)-1;function d(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>c||e<0)throw new TypeError("offset must be a uint32");if(e>l||e>t)throw new RangeError("offset out of range")}function f(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>c||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>l)throw new RangeError("buffer too small")}function h(e,t,n,o){if(r.browser){var i=e.buffer,s=new Uint8Array(i,t,n);return u.getRandomValues(s),o?void r.nextTick(function(){o(null,e)}):e}if(!o)return a(n).copy(e,t),e;a(n,function(n,r){if(n)return o(n);r.copy(e,t),o(null,e)})}u&&u.getRandomValues||!r.browser?(t.randomFill=function(t,n,r,o){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)o=n,n=0,r=t.length;else if("function"==typeof r)o=r,r=t.length-n;else if("function"!=typeof o)throw new TypeError('"cb" argument must be a function');return d(n,t.length),f(r,n,t.length),h(t,n,r,o)},t.randomFillSync=function(t,n,r){void 0===n&&(n=0);if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');d(n,t.length),void 0===r&&(r=t.length-n);return f(r,n,t.length),h(t,n,r)}):(t.randomFill=o,t.randomFillSync=o)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/rc-slider/assets/index.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/rc-slider/assets/index.css");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./node_modules/rc-slider/es/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/babel-runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=n.n(i),s=n("./node_modules/babel-runtime/helpers/createClass.js"),l=n.n(s),u=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(u),d=n("./node_modules/babel-runtime/helpers/inherits.js"),f=n.n(d),h=n("./node_modules/react/index.js"),p=n.n(h),m=n("./node_modules/prop-types/index.js"),g=n.n(m),v=n("./node_modules/warning/browser.js"),y=n.n(v),b=function(e){var t=e.className,n=e.included,r=e.vertical,i=e.offset,a=e.length,s=e.style,l=r?{bottom:i+"%",height:a+"%"}:{left:i+"%",width:a+"%"},u=o()({},s,l);return n?p.a.createElement("div",{className:t,style:u}):null},_=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),x=n.n(_),w=n("./node_modules/babel-runtime/helpers/defineProperty.js"),k=n.n(w),E=n("./node_modules/babel-runtime/helpers/get.js"),T=n.n(E),A=n("./node_modules/add-dom-event-listener/lib/index.js"),S=n.n(A),M=n("./node_modules/react-dom/index.js"),C=n.n(M);function j(e,t,n,r){var o=C.a.unstable_batchedUpdates?function(e){C.a.unstable_batchedUpdates(n,e)}:n;return S()(e,t,o,r)}var O=n("./node_modules/classnames/index.js"),N=n.n(O),R=function(e){var t=e.prefixCls,n=e.vertical,r=e.marks,i=e.dots,a=e.step,s=e.included,l=e.lowerBound,u=e.upperBound,c=e.max,d=e.min,f=e.dotStyle,h=e.activeDotStyle,m=c-d,g=function(e,t,n,r,o,i){y()(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat).sort(function(e,t){return e-t});if(n)for(var s=o;s<=i;s+=r)-1===a.indexOf(s)&&a.push(s);return a}(0,r,i,a,d,c).map(function(e){var r,i=Math.abs(e-d)/m*100+"%",a=!s&&e===u||s&&e<=u&&e>=l,c=n?o()({bottom:i},f):o()({left:i},f);a&&(c=o()({},c,h));var g=N()((r={},k()(r,t+"-dot",!0),k()(r,t+"-dot-active",a),r));return p.a.createElement("span",{className:g,style:c,key:e})});return p.a.createElement("div",{className:t+"-step"},g)};R.propTypes={prefixCls:g.a.string,activeDotStyle:g.a.object,dotStyle:g.a.object,min:g.a.number,max:g.a.number,upperBound:g.a.number,lowerBound:g.a.number,included:g.a.bool,dots:g.a.bool,step:g.a.number,marks:g.a.object,vertical:g.a.bool};var P=R,I=function(e){var t=e.className,n=e.vertical,r=e.marks,i=e.included,a=e.upperBound,s=e.lowerBound,l=e.max,u=e.min,c=e.onClickLabel,d=Object.keys(r),f=d.length,h=.9*(f>1?100/(f-1):100),m=l-u,g=d.map(parseFloat).sort(function(e,t){return e-t}).map(function(e){var l,d=r[e],f="object"==typeof d&&!p.a.isValidElement(d),g=f?d.label:d;if(!g&&0!==g)return null;var v=!i&&e===a||i&&e<=a&&e>=s,y=N()((l={},k()(l,t+"-text",!0),k()(l,t+"-text-active",v),l)),b=n?{marginBottom:"-50%",bottom:(e-u)/m*100+"%"}:{width:h+"%",marginLeft:-h/2+"%",left:(e-u)/m*100+"%"},_=f?o()({},b,d.style):b;return p.a.createElement("span",{className:y,style:_,key:e,onMouseDown:function(t){return c(t,e)},onTouchStart:function(t){return c(t,e)}},g)});return p.a.createElement("div",{className:t},g)};I.propTypes={className:g.a.string,vertical:g.a.bool,marks:g.a.object,included:g.a.bool,upperBound:g.a.number,lowerBound:g.a.number,max:g.a.number,min:g.a.number,onClickLabel:g.a.func};var D=I,L=function(e){function t(){var e,n,r,o;a()(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={clickFocused:!1},r.setHandleRef=function(e){r.handle=e},r.handleMouseUp=function(){document.activeElement===r.handle&&r.setClickFocus(!0)},r.handleBlur=function(){r.setClickFocus(!1)},r.handleKeyDown=function(){r.setClickFocus(!1)},o=n,c()(r,o)}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.onMouseUpListener=j(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.vertical,r=e.offset,i=e.style,a=e.disabled,s=e.min,l=e.max,u=e.value,c=e.tabIndex,d=x()(e,["prefixCls","vertical","offset","style","disabled","min","max","value","tabIndex"]),f=N()(this.props.className,k()({},t+"-handle-click-focused",this.state.clickFocused)),h=n?{bottom:r+"%"}:{left:r+"%"},m=o()({},i,h);return p.a.createElement("div",o()({ref:this.setHandleRef,tabIndex:a?null:c||0},d,{className:f,style:m,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,role:"slider","aria-valuemin":s,"aria-valuemax":l,"aria-valuenow":u,"aria-disabled":!!a}))}}]),t}(p.a.Component),B=L;L.propTypes={prefixCls:g.a.string,className:g.a.string,vertical:g.a.bool,offset:g.a.number,style:g.a.object,disabled:g.a.bool,min:g.a.number,max:g.a.number,value:g.a.number,tabIndex:g.a.number};var F=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),z=n.n(F),U={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=U.F1&&t<=U.F12)return!1;switch(t){case U.ALT:case U.CAPS_LOCK:case U.CONTEXT_MENU:case U.CTRL:case U.DOWN:case U.END:case U.ESC:case U.HOME:case U.INSERT:case U.LEFT:case U.MAC_FF_META:case U.META:case U.NUMLOCK:case U.NUM_CENTER:case U.PAGE_DOWN:case U.PAGE_UP:case U.PAUSE:case U.PRINT_SCREEN:case U.RIGHT:case U.SHIFT:case U.UP:case U.WIN_KEY:case U.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=U.ZERO&&e<=U.NINE)return!0;if(e>=U.NUM_ZERO&&e<=U.NUM_MULTIPLY)return!0;if(e>=U.A&&e<=U.Z)return!0;if(-1!==window.navigation.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case U.SPACE:case U.QUESTION_MARK:case U.NUM_PLUS:case U.NUM_MINUS:case U.NUM_PERIOD:case U.NUM_DIVISION:case U.SEMICOLON:case U.DASH:case U.EQUALS:case U.COMMA:case U.PERIOD:case U.SLASH:case U.APOSTROPHE:case U.SINGLE_QUOTE:case U.OPEN_SQUARE_BRACKET:case U.BACKSLASH:case U.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},q=U;function V(e,t){try{return Object.keys(t).some(function(n){return e.target===Object(M.findDOMNode)(t[n])})}catch(e){return!1}}function H(e,t){var n=t.min,r=t.max;return e<n||e>r}function W(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function G(e,t){var n=t.marks,r=t.step,o=t.min,i=Object.keys(n).map(parseFloat);if(null!==r){var a=Math.round((e-o)/r)*r+o;i.push(a)}var s=i.map(function(t){return Math.abs(e-t)});return i[s.indexOf(Math.min.apply(Math,z()(s)))]}function X(e,t){return e?t.clientY:t.pageX}function K(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function Y(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function $(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function Z(e,t){var n=t.step,r=isFinite(G(e,t))?G(e,t):0;return null===n?r:parseFloat(r.toFixed(function(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}(n)))}function Q(e){e.stopPropagation(),e.preventDefault()}function J(e,t,n){var r={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},o=r[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),i=Object.keys(n.marks)[o];return n.step?r[e](t,n.step):Object.keys(n.marks).length&&n.marks[i]?n.marks[i]:t}function ee(e){switch(e.keyCode){case q.UP:case q.RIGHT:return function(e,t){return J("increase",e,t)};case q.DOWN:case q.LEFT:return function(e,t){return J("decrease",e,t)};case q.END:return function(e,t){return t.max};case q.HOME:return function(e,t){return t.min};case q.PAGE_UP:return function(e,t){return e+2*t.step};case q.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}}function te(){}function ne(e){var t,n;return n=t=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=function(e){if(0===e.button){var t=n.props.vertical,r=X(t,e);if(V(e,n.handlesRefs)){var o=Y(t,e.target);n.dragOffset=r-o,r=o}else n.dragOffset=0;n.removeDocumentEvents(),n.onStart(r),n.addDocumentMouseEvents()}},n.onTouchStart=function(e){if(!W(e)){var t=n.props.vertical,r=K(t,e);if(V(e,n.handlesRefs)){var o=Y(t,e.target);n.dragOffset=r-o,r=o}else n.dragOffset=0;n.onStart(r),n.addDocumentTouchEvents(),Q(e)}},n.onFocus=function(e){var t=n.props,r=t.onFocus,o=t.vertical;if(V(e,n.handlesRefs)){var i=Y(o,e.target);n.dragOffset=0,n.onStart(i),Q(e),r&&r(e)}},n.onBlur=function(e){var t=n.props.onBlur;n.onEnd(e),t&&t(e)},n.onMouseUp=function(){n.handlesRefs[n.prevMovedHandleIndex]&&n.handlesRefs[n.prevMovedHandleIndex].clickFocus()},n.onMouseMove=function(e){if(n.sliderRef){var t=X(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onTouchMove=function(e){if(!W(e)&&n.sliderRef){var t=K(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onKeyDown=function(e){n.sliderRef&&V(e,n.handlesRefs)&&n.onKeyboard(e)},n.onClickMarkLabel=function(e,t){e.stopPropagation(),n.onChange({value:t}),n.onEnd()},n.saveSlider=function(e){n.sliderRef=e},n.handlesRefs={},n}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument}},{key:"componentWillUnmount",value:function(){T()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&T()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef.getBoundingClientRect();return this.props.vertical?e.top:e.left+window.pageXOffset}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=j(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=j(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=j(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=j(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){this.props.disabled||this.handlesRefs[0].focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(t){e.handlesRefs[t]&&e.handlesRefs[t].blur&&e.handlesRefs[t].blur()})}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,o=t.max,i=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-i)*(o-r)+r:i*(o-r)+r}},{key:"calcValueByPos",value:function(e){var t=e-this.getSliderStart();return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min;return 100*((e-n)/(t.max-n))}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,i=n.className,a=n.marks,s=n.dots,l=n.step,u=n.included,c=n.disabled,d=n.vertical,f=n.min,h=n.max,m=n.children,g=n.maximumTrackStyle,v=n.style,y=n.railStyle,b=n.dotStyle,_=n.activeDotStyle,x=T()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this),w=x.tracks,E=x.handles,A=N()(r,(e={},k()(e,r+"-with-marks",Object.keys(a).length),k()(e,r+"-disabled",c),k()(e,r+"-vertical",d),k()(e,i,i),e));return p.a.createElement("div",{ref:this.saveSlider,className:A,onTouchStart:c?te:this.onTouchStart,onMouseDown:c?te:this.onMouseDown,onMouseUp:c?te:this.onMouseUp,onKeyDown:c?te:this.onKeyDown,onFocus:c?te:this.onFocus,onBlur:c?te:this.onBlur,style:v},p.a.createElement("div",{className:r+"-rail",style:o()({},g,y)}),w,p.a.createElement(P,{prefixCls:r,vertical:d,marks:a,dots:s,step:l,included:u,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:h,min:f,dotStyle:b,activeDotStyle:_}),E,p.a.createElement(D,{className:r+"-mark",onClickLabel:c?te:this.onClickMarkLabel,vertical:d,marks:a,included:u,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:h,min:f}),m)}}]),t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=o()({},e.propTypes,{min:g.a.number,max:g.a.number,step:g.a.number,marks:g.a.object,included:g.a.bool,className:g.a.string,prefixCls:g.a.string,disabled:g.a.bool,children:g.a.any,onBeforeChange:g.a.func,onChange:g.a.func,onAfterChange:g.a.func,handle:g.a.func,dots:g.a.bool,vertical:g.a.bool,style:g.a.object,minimumTrackStyle:g.a.object,maximumTrackStyle:g.a.object,handleStyle:g.a.oneOfType([g.a.object,g.a.arrayOf(g.a.object)]),trackStyle:g.a.oneOfType([g.a.object,g.a.arrayOf(g.a.object)]),railStyle:g.a.object,dotStyle:g.a.object,activeDotStyle:g.a.object,autoFocus:g.a.bool,onFocus:g.a.func,onBlur:g.a.func}),t.defaultProps=o()({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=x()(e,["index"]);return delete n.dragging,null===n.value?null:p.a.createElement(B,o()({},n,{key:t}))},onBeforeChange:te,onChange:te,onAfterChange:te,included:!0,disabled:!1,dots:!1,vertical:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),n}var re=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({dragging:!1}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var r=void 0!==e.defaultValue?e.defaultValue:e.min,o=void 0!==e.value?e.value:r;return n.state={value:n.trimAlignValue(o),dragging:!1},n}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){if("value"in e||"min"in e||"max"in e){var t=this.state.value,n=void 0!==e.value?e.value:t,r=this.trimAlignValue(n,e);r!==t&&(this.setState({value:r}),H(n,e)&&this.props.onChange(r))}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)&&this.setState(e);var n=e.value;t.onChange(n)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:r}))}},{key:"onMove",value:function(e,t){Q(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})}},{key:"onKeyboard",value:function(e){var t=ee(e);if(t){Q(e);var n=this.state.value,r=t(n,this.props),o=this.trimAlignValue(r);if(o===n)return;this.onChange({value:o})}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){return this.props.min}},{key:"getUpperBound",value:function(){return this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=o()({},this.props,t);return Z($(e,n),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,i=t.included,a=t.disabled,s=t.minimumTrackStyle,l=t.trackStyle,u=t.handleStyle,c=t.tabIndex,d=t.min,f=t.max,h=t.handle,m=this.state,g=m.value,v=m.dragging,y=this.calcOffset(g),_=h({className:n+"-handle",prefixCls:n,vertical:r,offset:y,value:g,dragging:v,disabled:a,min:d,max:f,index:0,tabIndex:c,style:u[0]||u,ref:function(t){return e.saveHandle(0,t)}}),x=l[0]||l;return{tracks:p.a.createElement(b,{className:n+"-track",vertical:r,included:i,offset:0,length:y,style:o()({},s,x)}),handles:_}}}]),t}(p.a.Component);re.propTypes={defaultValue:g.a.number,value:g.a.number,disabled:g.a.bool,autoFocus:g.a.bool,tabIndex:g.a.number,min:g.a.number,max:g.a.number};var oe=ne(re),ie=n("./node_modules/shallowequal/index.js"),ae=n.n(ie),se=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({handle:null}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var r=e.count,o=e.min,i=e.max,s=Array.apply(void 0,z()(Array(r+1))).map(function(){return o}),l="defaultValue"in e?e.defaultValue:s,u=(void 0!==e.value?e.value:l).map(function(e,t){return n.trimAlignValue(e,t)}),d=u[0]===i?0:u.length-1;return n.state={handle:null,recent:d,bounds:u},n}return f()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(("value"in e||"min"in e||"max"in e)&&(this.props.min!==e.min||this.props.max!==e.max||!ae()(this.props.value,e.value))){var n=this.state.bounds,r=e.value||n,o=r.map(function(n,r){return t.trimAlignValue(n,r,e)});if((o.length!==n.length||!o.every(function(e,t){return e===n[t]}))&&(this.setState({bounds:o}),r.some(function(t){return H(t,e)}))){var i=r.map(function(t){return $(t,e)});this.props.onChange(i)}}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)?this.setState(e):void 0!==e.handle&&this.setState({handle:e.handle});var n=o()({},this.state,e).bounds;t.onChange(n)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var o=this.calcValueByPos(e);this.startValue=o,this.startPosition=e;var i=this.getClosestBound(o);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(o,i),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),o!==r[this.prevMovedHandleIndex]){var a=[].concat(z()(n.bounds));a[this.prevMovedHandleIndex]=o,this.onChange({bounds:a})}}},{key:"onMove",value:function(e,t){Q(e);var n=this.state,r=this.calcValueByPos(t);r!==n.bounds[n.handle]&&this.moveTo(r)}},{key:"onKeyboard",value:function(e){var t=ee(e);if(t){Q(e);var n=this.state,r=this.props,o=n.bounds[n.handle],i=t(o,r),a=this.trimAlignValue(i);if(a===o)return;this.moveTo(a,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;++r)e>t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,o=n.recent,i=t,a=r[t+1]===r[t];return a&&r[o]===r[t]&&(i=o),a&&e!==r[t+1]&&(i=e<r[t+1]?t:t+1),i}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,i=e.max,a=this._getPointsCache;if(!a||a.marks!==t||a.step!==n){var s=o()({},t);if(null!==n)for(var l=r;l<=i;l+=n)s[l]=l;var u=Object.keys(s).map(parseFloat);u.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:n,points:u}}return this._getPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,r=this.state,o=this.props,i=[].concat(z()(r.bounds));i[r.handle]=e;var a=r.handle;!1!==o.pushable?this.pushSurroundingHandles(i,a):o.allowCross&&(i.sort(function(e,t){return e-t}),a=i.indexOf(e)),this.onChange({handle:a,bounds:i}),t&&this.setState({},function(){n.handlesRefs[a].focus()})}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],r=this.props.pushable;r=Number(r);var o=0;if(e[t+1]-n<r&&(o=1),n-e[t-1]<r&&(o=-1),0!==o){var i=t+o,a=o*(e[i]-n);this.pushHandle(e,i,o,r-a)||(e[t]=e[i]-o*r)}}},{key:"pushHandle",value:function(e,t,n,r){for(var o=e[t],i=e[t];n*(i-o)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=o,!1;i=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),o=r.indexOf(e[t])+n;if(o>=r.length||o<0)return!1;var i=t+n,a=r[o],s=this.props.pushable,l=n*(e[i]-a);return!!this.pushHandle(e,i,n,s-l)&&(e[t]=a,!0)}},{key:"trimAlignValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o()({},this.props,n),i=$(e,r);return Z(this.ensureValueNotConflict(t,i,r),r)}},{key:"ensureValueNotConflict",value:function(e,t,n){var r=n.allowCross,o=n.pushable,i=this.state||{},a=i.bounds;if(e=void 0===e?i.handle:e,o=Number(o),!r&&null!=e&&void 0!==a){if(e>0&&t<=a[e-1]+o)return a[e-1]+o;if(e<a.length-1&&t>=a[e+1]-o)return a[e+1]-o}return t}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,r=t.bounds,o=this.props,i=o.prefixCls,a=o.vertical,s=o.included,l=o.disabled,u=o.min,c=o.max,d=o.handle,f=o.trackStyle,h=o.handleStyle,m=o.tabIndex,g=r.map(function(t){return e.calcOffset(t)}),v=i+"-handle",y=r.map(function(t,r){var o;return d({className:N()((o={},k()(o,v,!0),k()(o,v+"-"+(r+1),!0),o)),prefixCls:i,vertical:a,offset:g[r],value:t,dragging:n===r,index:r,tabIndex:m[r]||0,min:u,max:c,disabled:l,style:h[r],ref:function(t){return e.saveHandle(r,t)}})});return{tracks:r.slice(0,-1).map(function(e,t){var n,r=t+1,o=N()((n={},k()(n,i+"-track",!0),k()(n,i+"-track-"+r,!0),n));return p.a.createElement(b,{className:o,vertical:a,included:s,offset:g[r-1],length:g[r]-g[r-1],style:f[t],key:r})}),handles:y}}}]),t}(p.a.Component);se.displayName="Range",se.propTypes={defaultValue:g.a.arrayOf(g.a.number),value:g.a.arrayOf(g.a.number),count:g.a.number,pushable:g.a.oneOfType([g.a.bool,g.a.number]),allowCross:g.a.bool,disabled:g.a.bool,tabIndex:g.a.arrayOf(g.a.number),min:g.a.number,max:g.a.number},se.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[]};var le=ne(se);function ue(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var ce=function(e){function t(){var e,n,r,o;a()(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.removeContainer=function(){r.container&&(C.a.unmountComponentAtNode(r.container),r.container.parentNode.removeChild(r.container),r.container=null)},r.renderComponent=function(e,t){var n=r.props,o=n.visible,i=n.getComponent,a=n.forceRender,s=n.getContainer,l=n.parent;(o||l._component||a)&&(r.container||(r.container=s()),C.a.unstable_renderSubtreeIntoContainer(l,i(e),r.container,function(){t&&t.call(this)}))},o=n,c()(r,o)}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function(){this.props.autoDestroy&&this.removeContainer()}},{key:"render",value:function(){return this.props.children({renderComponent:this.renderComponent,removeContainer:this.removeContainer})}}]),t}(p.a.Component);ce.propTypes={autoMount:g.a.bool,autoDestroy:g.a.bool,visible:g.a.bool,forceRender:g.a.bool,parent:g.a.any,getComponent:g.a.func.isRequired,getContainer:g.a.func.isRequired,children:g.a.func.isRequired},ce.defaultProps={autoMount:!0,autoDestroy:!0,forceRender:!1};var de=ce,fe=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.didUpdate;t&&t(e)}},{key:"componentWillUnmount",value:function(){this.removeContainer()}},{key:"createContainer",value:function(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function(){return this._container?C.a.createPortal(this.props.children,this._container):null}}]),t}(p.a.Component);fe.propTypes={getContainer:g.a.func.isRequired,children:g.a.node.isRequired,didUpdate:g.a.func};var he=fe;function pe(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function me(e,t){this[e]=t}var ge=void 0,ve={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function ye(){if(void 0!==ge)return ge;ge="";var e=document.createElement("p").style;for(var t in ve)t+"Transform"in e&&(ge=t);return ge}function be(){return ye()?ye()+"TransitionProperty":"transitionProperty"}function _e(){return ye()?ye()+"Transform":"transform"}function xe(e,t){var n=be();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function we(e,t){var n=_e();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var ke=/matrix\((.*)\)/,Ee=/matrix3d\((.*)\)/;var Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae=void 0;function Se(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Me(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":Te(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):Ae(e,t);for(var o in t)t.hasOwnProperty(o)&&Me(e,o,t[o])}function Ce(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function je(e){return Ce(e)}function Oe(e){return Ce(e,!0)}function Ne(e){var t=function(e){var t,n=void 0,r=void 0,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=je(r),t.top+=Oe(r),t}function Re(e){return null!=e&&e==e.window}function Pe(e){return Re(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Ie=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),De=/^(top|right|bottom|left)$/,Le="currentStyle",Be="runtimeStyle",Fe="left",ze="px";function Ue(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function qe(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Ve(e,t,n){"static"===Me(e,"position")&&(e.style.position="relative");var r=-999,o=-999,i=Ue("left",n),a=Ue("top",n),s=qe(i),l=qe(a);"left"!==i&&(r=999),"top"!==a&&(o=999);var u,c="",d=Ne(e);("left"in t||"top"in t)&&(c=(u=e).style.transitionProperty||u.style[be()]||"",xe(e,"none")),"left"in t&&(e.style[s]="",e.style[i]=r+"px"),"top"in t&&(e.style[l]="",e.style[a]=o+"px"),Se(e);var f=Ne(e),h={};for(var p in t)if(t.hasOwnProperty(p)){var m=Ue(p,n),g="left"===p?r:o,v=d[p]-f[p];h[m]=m===p?g+v:g-v}Me(e,h),Se(e),("left"in t||"top"in t)&&xe(e,c);var y={};for(var b in t)if(t.hasOwnProperty(b)){var _=Ue(b,n),x=t[b]-d[b];y[_]=b===_?h[_]+x:h[_]-x}Me(e,y)}function He(e,t){var n=Ne(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(_e());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),o={x:r.x,y:r.y};"left"in t&&(o.x=r.x+t.left-n.left),"top"in t&&(o.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(_e());if(r&&"none"!==r){var o=void 0,i=r.match(ke);i?((o=(i=i[1]).split(",").map(function(e){return parseFloat(e,10)}))[4]=t.x,o[5]=t.y,we(e,"matrix("+o.join(",")+")")):((o=r.match(Ee)[1].split(",").map(function(e){return parseFloat(e,10)}))[12]=t.x,o[13]=t.y,we(e,"matrix3d("+o.join(",")+")"))}else we(e,"translateX("+t.x+"px) translateY("+t.y+"px) translateZ(0)")}(e,o)}function We(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Ge(e){return"border-box"===Ae(e,"boxSizing")}"undefined"!=typeof window&&(Ae=window.getComputedStyle?function(e,t,n){var r=n,o="",i=Pe(e);return(r=r||i.defaultView.getComputedStyle(e,null))&&(o=r.getPropertyValue(t)||r[t]),o}:function(e,t){var n=e[Le]&&e[Le][t];if(Ie.test(n)&&!De.test(t)){var r=e.style,o=r[Fe],i=e[Be][Fe];e[Be][Fe]=e[Le][Fe],r[Fe]="fontSize"===t?"1em":n||0,n=r.pixelLeft+ze,r[Fe]=o,e[Be][Fe]=i}return""===n?"auto":n});var Xe=["margin","border","padding"],Ke=-1,Ye=2,$e=1;function Ze(e,t,n){var r=0,o=void 0,i=void 0,a=void 0;for(i=0;i<t.length;i++)if(o=t[i])for(a=0;a<n.length;a++){var s=void 0;s="border"===o?""+o+n[a]+"Width":o+n[a],r+=parseFloat(Ae(e,s))||0}return r}var Qe={};function Je(e,t,n){var r=n;if(Re(e))return"width"===t?Qe.viewportWidth(e):Qe.viewportHeight(e);if(9===e.nodeType)return"width"===t?Qe.docWidth(e):Qe.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=(Ae(e),Ge(e)),s=0;(null==i||i<=0)&&(i=void 0,(null==(s=Ae(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?$e:Ke);var l=void 0!==i||a,u=i||s;return r===Ke?l?u-Ze(e,["border","padding"],o):s:l?r===$e?u:u+(r===Ye?-Ze(e,["border"],o):Ze(e,["margin"],o)):s+Ze(e,Xe.slice(r),o)}We(["Width","Height"],function(e){Qe["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],Qe["viewport"+e](n))},Qe["viewport"+e]=function(t){var n="client"+e,r=t.document,o=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||o&&o[n]||i}});var et={position:"absolute",visibility:"hidden",display:"block"};function tt(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,o=t[0];return 0!==o.offsetWidth?r=Je.apply(void 0,t):function(e,t,n){var r={},o=e.style,i=void 0;for(i in t)t.hasOwnProperty(i)&&(r[i]=o[i],o[i]=t[i]);for(i in n.call(e),t)t.hasOwnProperty(i)&&(o[i]=r[i])}(o,et,function(){r=Je.apply(void 0,t)}),r}function nt(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}We(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Qe["outer"+t]=function(t,n){return t&&tt(t,e,n?0:$e)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Qe[e]=function(t,r){var o=r;if(void 0===o)return t&&tt(t,e,Ke);if(t){Ae(t);return Ge(t)&&(o+=Ze(t,["padding","border"],n)),Me(t,e,o)}}});var rt={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Pe,offset:function(e,t,n){if(void 0===t)return Ne(e);!function(e,t,n){if(n.ignoreShake){var r=Ne(e),o=r.left.toFixed(0),i=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(o===a&&i===s)return}n.useCssRight||n.useCssBottom?Ve(e,t,n):n.useCssTransform&&_e()in document.body.style?He(e,t):Ve(e,t,n)}(e,t,n||{})},isWindow:Re,each:We,css:Me,clone:function(e){var t=void 0,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:nt,getWindowScrollLeft:function(e){return je(e)},getWindowScrollTop:function(e){return Oe(e)},merge:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++)rt.mix(e,n[o]);return e},viewportWidth:0,viewportHeight:0};nt(rt,Qe);var ot=rt;var it=function(e){if(ot.isWindow(e)||9===e.nodeType)return null;var t=ot.getDocument(e).body,n=void 0,r=ot.css(e,"position");if("fixed"!==r&&"absolute"!==r)return"html"===e.nodeName.toLowerCase()?null:e.parentNode;for(n=e.parentNode;n&&n!==t;n=n.parentNode)if("static"!==(r=ot.css(n,"position")))return n;return null};var at=function(e){for(var t={left:0,right:1/0,top:0,bottom:1/0},n=it(e),r=ot.getDocument(e),o=r.defaultView||r.parentWindow,i=r.body,a=r.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===i||n===a||"visible"===ot.css(n,"overflow")){if(n===i||n===a)break}else{var s=ot.offset(n);s.left+=n.clientLeft,s.top+=n.clientTop,t.top=Math.max(t.top,s.top),t.right=Math.min(t.right,s.left+n.clientWidth),t.bottom=Math.min(t.bottom,s.top+n.clientHeight),t.left=Math.max(t.left,s.left)}n=it(n)}var l=null;ot.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===ot.css(e,"position")&&(e.style.position="fixed"));var u=ot.getWindowScrollLeft(o),c=ot.getWindowScrollTop(o),d=ot.viewportWidth(o),f=ot.viewportHeight(o),h=a.scrollWidth,p=a.scrollHeight;if(e.style&&(e.style.position=l),function(e){if(ot.isWindow(e)||9===e.nodeType)return!1;var t=ot.getDocument(e).body,n=null;for(n=e.parentNode;n&&n!==t;n=n.parentNode)if("fixed"===ot.css(n,"position"))return!0;return!1}(e))t.left=Math.max(t.left,u),t.top=Math.max(t.top,c),t.right=Math.min(t.right,u+d),t.bottom=Math.min(t.bottom,c+f);else{var m=Math.max(h,u+d);t.right=Math.min(t.right,m);var g=Math.max(p,c+f);t.bottom=Math.min(t.bottom,g)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null};var st=function(e,t,n,r){var o=ot.clone(e),i={width:t.width,height:t.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+i.width>n.right&&(i.width-=o.left+i.width-n.right),r.adjustX&&o.left+i.width>n.right&&(o.left=Math.max(n.right-i.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+i.height>n.bottom&&(i.height-=o.top+i.height-n.bottom),r.adjustY&&o.top+i.height>n.bottom&&(o.top=Math.max(n.bottom-i.height,n.top)),ot.mix(o,i)};var lt=function(e){var t=void 0,n=void 0,r=void 0;if(ot.isWindow(e)||9===e.nodeType){var o=ot.getWindow(e);t={left:ot.getWindowScrollLeft(o),top:ot.getWindowScrollTop(o)},n=ot.viewportWidth(o),r=ot.viewportHeight(o)}else t=ot.offset(e),n=ot.outerWidth(e),r=ot.outerHeight(e);return t.width=n,t.height=r,t};var ut=function(e,t){var n=t.charAt(0),r=t.charAt(1),o=e.width,i=e.height,a=e.left,s=e.top;return"c"===n?s+=i/2:"b"===n&&(s+=i),"c"===r?a+=o/2:"r"===r&&(a+=o),{left:a,top:s}};var ct=function(e,t,n,r,o){var i=ut(t,n[1]),a=ut(e,n[0]),s=[a.left-i.left,a.top-i.top];return{left:e.left-s[0]+r[0]-o[0],top:e.top-s[1]+r[1]-o[1]}};function dt(e,t,n){return e.left<n.left||e.left+t.width>n.right}function ft(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function ht(e,t,n){var r=[];return ot.each(e,function(e){r.push(e.replace(t,function(e){return n[e]}))}),r}function pt(e,t){return e[t]=-e[t],e}function mt(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function gt(e,t){e[0]=mt(e[0],t.width),e[1]=mt(e[1],t.height)}var vt=function(e,t,n,r){var o=n.points,i=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;i=[].concat(i),a=[].concat(a),s=s||{};var u={},c=0,d=at(l),f=lt(l);gt(i,f),gt(a,t);var h=ct(f,t,o,i,a),p=ot.merge(f,h);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&dt(h,f,d)){var m=ht(o,/[lr]/gi,{l:"r",r:"l"}),g=pt(i,0),v=pt(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(ct(f,t,m,g,v),f,d)||(c=1,o=m,i=g,a=v)}if(s.adjustY&&ft(h,f,d)){var y=ht(o,/[tb]/gi,{t:"b",b:"t"}),b=pt(i,1),_=pt(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(ct(f,t,y,b,_),f,d)||(c=1,o=y,i=b,a=_)}c&&(h=ct(f,t,o,i,a),ot.mix(p,h));var x=dt(h,f,d),w=ft(h,f,d);(x||w)&&(o=n.points,i=n.offset||[0,0],a=n.targetOffset||[0,0]),u.adjustX=s.adjustX&&x,u.adjustY=s.adjustY&&w,(u.adjustX||u.adjustY)&&(p=st(h,f,d,u))}return p.width!==f.width&&ot.css(l,"width",ot.width(l)+p.width-f.width),p.height!==f.height&&ot.css(l,"height",ot.height(l)+p.height-f.height),ot.offset(l,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:i,targetOffset:a,overflow:u}};function yt(e,t,n){var r=n.target||t,o=lt(r),i=!function(e){var t=at(e),n=lt(e);return!t||n.left+n.width<=t.left||n.top+n.height<=t.top||n.left>=t.right||n.top>=t.bottom}(r);return vt(e,o,n,i)}yt.__getOffsetParent=it,yt.__getVisibleRectForElement=at;var bt=yt,_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var xt=function(e,t,n){var r=void 0,o=void 0,i=ot.getDocument(e),a=i.defaultView||i.parentWindow,s=ot.getWindowScrollLeft(a),l=ot.getWindowScrollTop(a),u=ot.viewportWidth(a),c=ot.viewportHeight(a),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:o="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},f=r>=0&&r<=s+u&&o>=0&&o<=l+c,h=[n.points[0],"cc"];return vt(e,d,_t({},n,{points:h}),f)};function wt(e){return e&&"object"==typeof e&&e.window===e}function kt(e){return"function"==typeof e&&e?e():null}function Et(e){return"object"==typeof e&&e?e:null}var Tt=function(e){function t(){var n,r,o;a()(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=c()(this,e.call.apply(e,[this].concat(s))),r.forceAlign=function(){var e=r.props,t=e.disabled,n=e.target,o=e.align,i=e.onAlign;if(!t&&n){var a=C.a.findDOMNode(r),s=void 0,l=kt(n),u=Et(n);l?s=bt(a,l,o):u&&(s=xt(a,u,o)),i&&i(a,s)}},o=n,c()(r,o)}return f()(t,e),t.prototype.componentDidMount=function(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()},t.prototype.componentDidUpdate=function(e){var t,n,r=!1,o=this.props;if(!o.disabled){var i=C.a.findDOMNode(this),a=i?i.getBoundingClientRect():null;if(e.disabled)r=!0;else{var s=kt(e.target),l=kt(o.target),u=Et(e.target),c=Et(o.target);wt(s)&&wt(l)?r=!1:(s!==l||s&&!l&&c||u&&c&&l||c&&!((t=u)===(n=c)||t&&n&&("pageX"in n&&"pageY"in n?t.pageX===n.pageX&&t.pageY===n.pageY:"clientX"in n&&"clientY"in n&&t.clientX===n.clientX&&t.clientY===n.clientY)))&&(r=!0);var d=this.sourceRect||{};r||!i||d.width===a.width&&d.height===a.height||(r=!0)}this.sourceRect=a}r&&this.forceAlign(),o.monitorWindowResize&&!o.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},t.prototype.componentWillUnmount=function(){this.stopMonitorWindowResize()},t.prototype.startMonitorWindowResize=function(){this.resizeHandler||(this.bufferMonitor=function(e,t){var n=void 0;function r(){n&&(clearTimeout(n),n=null)}function o(){r(),n=setTimeout(e,t)}return o.clear=r,o}(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=j(window,"resize",this.bufferMonitor))},t.prototype.stopMonitorWindowResize=function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.childrenProps,r=t.children,o=p.a.Children.only(r);if(n){var i={};return Object.keys(n).forEach(function(t){i[t]=e.props[n[t]]}),p.a.cloneElement(o,i)}return o},t}(h.Component);Tt.propTypes={childrenProps:g.a.object,align:g.a.object.isRequired,target:g.a.oneOfType([g.a.func,g.a.shape({clientX:g.a.number,clientY:g.a.number,pageX:g.a.number,pageY:g.a.number})]),onAlign:g.a.func,monitorBufferTime:g.a.number,monitorWindowResize:g.a.bool,disabled:g.a.bool,children:g.a.any},Tt.defaultProps={target:function(){return window},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1};var At=Tt;function St(e){var t=[];return p.a.Children.forEach(e,function(e){t.push(e)}),t}function Mt(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function Ct(e,t,n){var r=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}}),r}var jt=n("./node_modules/babel-runtime/helpers/typeof.js"),Ot=n.n(jt),Nt={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},Rt={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},Pt=[],It=[];function Dt(e,t,n){e.addEventListener(t,n,!1)}function Lt(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];for(var i in o)if(i in e){n.push(o[i]);break}}}"AnimationEvent"in window||(delete Nt.animationstart.animation,delete Rt.animationend.animation),"TransitionEvent"in window||(delete Nt.transitionstart.transition,delete Rt.transitionend.transition),t(Nt,Pt),t(Rt,It)}();var Bt={startEvents:Pt,addStartEventListener:function(e,t){0!==Pt.length?Pt.forEach(function(n){Dt(e,n,t)}):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==Pt.length&&Pt.forEach(function(n){Lt(e,n,t)})},endEvents:It,addEndEventListener:function(e,t){0!==It.length?It.forEach(function(n){Dt(e,n,t)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==It.length&&It.forEach(function(n){Lt(e,n,t)})}},Ft=n("./node_modules/component-classes/index.js"),zt=n.n(Ft),Ut=0!==Bt.endEvents.length,qt=["Webkit","Moz","O","ms"],Vt=["-webkit-","-moz-","-o-","ms-",""];function Ht(e,t){for(var n=window.getComputedStyle(e,null),r="",o=0;o<Vt.length&&!(r=n.getPropertyValue(Vt[o]+t));o++);return r}function Wt(e){if(Ut){var t=parseFloat(Ht(e,"transition-delay"))||0,n=parseFloat(Ht(e,"transition-duration"))||0,r=parseFloat(Ht(e,"animation-delay"))||0,o=parseFloat(Ht(e,"animation-duration"))||0,i=Math.max(n+t,o+r);e.rcEndAnimTimeout=setTimeout(function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()},1e3*i+200)}}function Gt(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var Xt=function(e,t,n){var r="object"===(void 0===t?"undefined":Ot()(t)),o=r?t.name:t,i=r?t.active:t+"-active",a=n,s=void 0,l=void 0,u=zt()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(a=n.end,s=n.start,l=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),Gt(e),u.remove(o),u.remove(i),Bt.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,a&&a())},Bt.addEndEventListener(e,e.rcEndListener),s&&s(),u.add(o),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,u.add(i),l&&setTimeout(l,0),Wt(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};Xt.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),Gt(e),Bt.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},Bt.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout(function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,Wt(e)},0)},Xt.setTransition=function(e,t,n){var r=t,o=n;void 0===n&&(o=r,r=""),r=r||"",qt.forEach(function(t){e.style[t+"Transition"+r]=o})},Xt.isCssAnimationSupported=Ut;var Kt=Xt,Yt={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},$t={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},Zt=function(e){function t(){return a()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){Yt.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){Yt.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){Yt.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=C.a.findDOMNode(this),o=this.props,i=o.transitionName,a="object"==typeof i;this.stop();var s=function(){n.stopper=null,t()};if((Ut||!o.animation[e])&&i&&o[$t[e]]){var l=a?i[e]:i+"-"+e,u=l+"-active";a&&i[e+"Active"]&&(u=i[e+"Active"]),this.stopper=Kt(r,{name:l,active:u},s)}else this.stopper=o.animation[e](r,s)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(p.a.Component);Zt.propTypes={children:g.a.any};var Qt=Zt,Jt="rc_animate_"+Date.now();function en(e){var t=e.children;return p.a.isValidElement(t)&&!t.key?p.a.cloneElement(t,{key:Jt}):t}function tn(){}var nn=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return rn.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:St(en(e))},n.childrenRefs={},n}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=St(en(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){t.stop(e)});var o,i,a,s,l=r.showProp,u=this.currentlyAnimatingKeys,c=r.exclusive?St(en(r)):this.state.children,d=[];l?(c.forEach(function(e){var t=e&&Mt(n,e.key),r=void 0;(r=t&&t.props[l]||!e.props[l]?t:p.a.cloneElement(t||e,k()({},l,!0)))&&d.push(r)}),n.forEach(function(e){e&&Mt(c,e.key)||d.push(e)})):(o=n,i=[],a={},s=[],c.forEach(function(e){e&&Mt(o,e.key)?s.length&&(a[e.key]=s,s=[]):s.push(e)}),o.forEach(function(e){e&&Object.prototype.hasOwnProperty.call(a,e.key)&&(i=i.concat(a[e.key])),i.push(e)}),d=i=i.concat(s)),this.setState({children:d}),n.forEach(function(e){var n=e&&e.key;if(!e||!u[n]){var r=e&&Mt(c,n);if(l){var o=e.props[l];if(r)!Ct(c,n,l)&&o&&t.keysToEnter.push(n);else o&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}}),c.forEach(function(e){var r=e&&e.key;if(!e||!u[r]){var o=e&&Mt(n,r);if(l){var i=e.props[l];if(o)!Ct(n,r,l)&&i&&t.keysToLeave.push(r);else i&&t.keysToLeave.push(r)}else o||t.keysToLeave.push(r)}})}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?Ct(e,t,n):Mt(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,r=null;n&&(r=n.map(function(n){if(null==n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return p.a.createElement(Qt,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)}));var i=t.component;if(i){var a=t;return"string"==typeof i&&(a=o()({className:t.className,style:t.style},t.componentProps)),p.a.createElement(i,a,r)}return r[0]||null}}]),t}(p.a.Component);nn.isAnimate=!0,nn.propTypes={component:g.a.any,componentProps:g.a.object,animation:g.a.object,transitionName:g.a.oneOfType([g.a.string,g.a.object]),transitionEnter:g.a.bool,transitionAppear:g.a.bool,exclusive:g.a.bool,transitionLeave:g.a.bool,onEnd:g.a.func,onEnter:g.a.func,onLeave:g.a.func,onAppear:g.a.func,showProp:g.a.string,children:g.a.node},nn.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:tn,onEnter:tn,onLeave:tn,onAppear:tn};var rn=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var o=St(en(r));e.isValidChildByKey(o,t)?"appear"===n?Yt.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):Yt.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r,o,i,a,s=St(en(n));if(e.isValidChildByKey(s,t))e.performEnter(t);else{var l=function(){Yt.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};r=e.state.children,o=s,i=n.showProp,(a=r.length===o.length)&&r.forEach(function(e,t){var n=o[t];e&&n&&(e&&!n||!e&&n?a=!1:e.key!==n.key?a=!1:i&&e.props[i]!==n.props[i]&&(a=!1))}),a?l():e.setState({children:s},l)}}}},on=nn,an=function(e){function t(){return a()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.shouldComponentUpdate=function(e){return e.hiddenClassName||e.visible},t.prototype.render=function(){var e=this.props,t=e.hiddenClassName,n=e.visible,r=x()(e,["hiddenClassName","visible"]);return t||p.a.Children.count(r.children)>1?(!n&&t&&(r.className+=" "+t),p.a.createElement("div",r)):p.a.Children.only(r.children)},t}(h.Component);an.propTypes={children:g.a.any,className:g.a.string,visible:g.a.bool,hiddenClassName:g.a.string};var sn=an,ln=function(e){function t(){return a()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),p.a.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onTouchStart:e.onTouchStart,style:e.style},p.a.createElement(sn,{className:e.prefixCls+"-content",visible:e.visible},e.children))},t}(h.Component);ln.propTypes={hiddenClassName:g.a.string,className:g.a.string,prefixCls:g.a.string,onMouseEnter:g.a.func,onMouseLeave:g.a.func,onMouseDown:g.a.func,onTouchStart:g.a.func,children:g.a.any};var un=ln,cn=function(e){function t(n){a()(this,t);var r=c()(this,e.call(this,n));return dn.call(r),r.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},r.savePopupRef=me.bind(r,"popupInstance"),r.saveAlignRef=me.bind(r,"alignInstance"),r}return f()(t,e),t.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},t.prototype.componentDidUpdate=function(){this.setStretchSize()},t.prototype.getPopupDomNode=function(){return C.a.findDOMNode(this.popupInstance)},t.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},t.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},t.prototype.getClassName=function(e){return this.props.prefixCls+" "+this.props.className+" "+e},t.prototype.getPopupElement=function(){var e=this,t=this.savePopupRef,n=this.state,r=n.stretchChecked,i=n.targetHeight,a=n.targetWidth,s=this.props,l=s.align,u=s.visible,c=s.prefixCls,d=s.style,f=s.getClassNameFromAlign,h=s.destroyPopupOnHide,m=s.stretch,g=s.children,v=s.onMouseEnter,y=s.onMouseLeave,b=s.onMouseDown,_=s.onTouchStart,x=this.getClassName(this.currentAlignClassName||f(l)),w=c+"-hidden";u||(this.currentAlignClassName=null);var k={};m&&(-1!==m.indexOf("height")?k.height=i:-1!==m.indexOf("minHeight")&&(k.minHeight=i),-1!==m.indexOf("width")?k.width=a:-1!==m.indexOf("minWidth")&&(k.minWidth=a),r||(k.visibility="hidden",setTimeout(function(){e.alignInstance&&e.alignInstance.forceAlign()},0)));var E={className:x,prefixCls:c,ref:t,onMouseEnter:v,onMouseLeave:y,onMouseDown:b,onTouchStart:_,style:o()({},k,d,this.getZIndexStyle())};return h?p.a.createElement(on,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},u?p.a.createElement(At,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:l,onAlign:this.onAlign},p.a.createElement(un,o()({visible:!0},E),g)):null):p.a.createElement(on,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},p.a.createElement(At,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:u,childrenProps:{visible:"xVisible"},disabled:!u,align:l,onAlign:this.onAlign},p.a.createElement(un,o()({hiddenClassName:w},E),g)))},t.prototype.getZIndexStyle=function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},t.prototype.getMaskElement=function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=p.a.createElement(sn,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=p.a.createElement(on,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},t.prototype.render=function(){return p.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())},t}(h.Component);cn.propTypes={visible:g.a.bool,style:g.a.object,getClassNameFromAlign:g.a.func,onAlign:g.a.func,getRootDomNode:g.a.func,align:g.a.any,destroyPopupOnHide:g.a.bool,className:g.a.string,prefixCls:g.a.string,onMouseEnter:g.a.func,onMouseLeave:g.a.func,onMouseDown:g.a.func,onTouchStart:g.a.func,stretch:g.a.string,children:g.a.node,point:g.a.shape({pageX:g.a.number,pageY:g.a.number})};var dn=function(){var e=this;this.onAlign=function(t,n){var r=e.props,o=r.getClassNameFromAlign(n);e.currentAlignClassName!==o&&(e.currentAlignClassName=o,t.className=e.getClassName(o)),r.onAlign(t,n)},this.setStretchSize=function(){var t=e.props,n=t.stretch,r=t.getRootDomNode,o=t.visible,i=e.state,a=i.stretchChecked,s=i.targetHeight,l=i.targetWidth;if(n&&o){var u=r();if(u){var c=u.offsetHeight,d=u.offsetWidth;s===c&&l===d&&a||e.setState({stretchChecked:!0,targetHeight:c,targetWidth:d})}}else a&&e.setState({stretchChecked:!1})},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var t=e.props.point;return t||e.getTargetElement}},fn=cn;function hn(){}var pn=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],mn=!!M.createPortal,gn={rcTrigger:g.a.shape({onPopupMouseDown:g.a.func})},vn=function(e){function t(n){a()(this,t);var r=c()(this,e.call(this,n));yn.call(r);var o=void 0;return o="popupVisible"in n?!!n.popupVisible:!!n.defaultPopupVisible,r.prevPopupVisible=o,r.state={popupVisible:o},r}return f()(t,e),t.prototype.getChildContext=function(){return{rcTrigger:{onPopupMouseDown:this.onPopupMouseDown}}},t.prototype.componentWillMount=function(){var e=this;pn.forEach(function(t){e["fire"+t]=function(n){e.fireEvents(t,n)}})},t.prototype.componentDidMount=function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},t.prototype.componentWillReceiveProps=function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=this.state;if(mn||this.renderComponent(null,function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)}),this.prevPopupVisible=t.popupVisible,r.popupVisible){var o=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(o=n.getDocument(),this.clickOutsideHandler=j(o,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(o=o||n.getDocument(),this.touchOutsideHandler=j(o,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(o=o||n.getDocument(),this.contextMenuOutsideHandler1=j(o,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=j(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},t.prototype.componentWillUnmount=function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},t.prototype.getPopupDomNode=function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},t.prototype.getPopupAlign=function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return o()({},r,n)}(r,t,n):n},t.prototype.setPopupVisible=function(e,t){var n=this.props.alignPoint;this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)},t.prototype.delaySetPopupVisible=function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout(function(){r.setPopupVisible(e,i),r.clearDelayTimer()},o)}else this.setPopupVisible(e,n)},t.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},t.prototype.clearOutsideHandler=function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},t.prototype.createTwoChains=function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},t.prototype.isClickToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isContextMenuToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},t.prototype.isClickToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isMouseEnterToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},t.prototype.isMouseLeaveToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},t.prototype.isFocusToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},t.prototype.isBlurToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},t.prototype.forcePopupAlign=function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},t.prototype.fireEvents=function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},t.prototype.close=function(){this.setPopupVisible(!1)},t.prototype.render=function(){var e=this,t=this.state.popupVisible,n=this.props,r=n.children,o=n.forceRender,i=n.alignPoint,a=n.className,s=p.a.Children.only(r),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,i&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var u=N()(s&&s.props&&s.props.className,a);u&&(l.className=u);var c=p.a.cloneElement(s,l);if(!mn)return p.a.createElement(de,{parent:this,visible:t,autoMount:!1,forceRender:o,getComponent:this.getComponent,getContainer:this.getContainer},function(t){var n=t.renderComponent;return e.renderComponent=n,c});var d=void 0;return(t||this._component||o)&&(d=p.a.createElement(he,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[c,d]},t}(p.a.Component);vn.propTypes={children:g.a.any,action:g.a.oneOfType([g.a.string,g.a.arrayOf(g.a.string)]),showAction:g.a.any,hideAction:g.a.any,getPopupClassNameFromAlign:g.a.any,onPopupVisibleChange:g.a.func,afterPopupVisibleChange:g.a.func,popup:g.a.oneOfType([g.a.node,g.a.func]).isRequired,popupStyle:g.a.object,prefixCls:g.a.string,popupClassName:g.a.string,className:g.a.string,popupPlacement:g.a.string,builtinPlacements:g.a.object,popupTransitionName:g.a.oneOfType([g.a.string,g.a.object]),popupAnimation:g.a.any,mouseEnterDelay:g.a.number,mouseLeaveDelay:g.a.number,zIndex:g.a.number,focusDelay:g.a.number,blurDelay:g.a.number,getPopupContainer:g.a.func,getDocument:g.a.func,forceRender:g.a.bool,destroyPopupOnHide:g.a.bool,mask:g.a.bool,maskClosable:g.a.bool,onPopupAlign:g.a.func,popupAlign:g.a.object,popupVisible:g.a.bool,defaultPopupVisible:g.a.bool,maskTransitionName:g.a.oneOfType([g.a.string,g.a.object]),maskAnimation:g.a.string,stretch:g.a.string,alignPoint:g.a.bool},vn.contextTypes=gn,vn.childContextTypes=gn,vn.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:hn,afterPopupVisibleChange:hn,onPopupAlign:hn,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var yn=function(){var e=this;this.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},this.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},this.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&ue(e._component.getPopupDomNode(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},this.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},this.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n=void 0;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},this.onPopupMouseDown=function(){var t=e.context.rcTrigger,n=void 0===t?{}:t;e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=setTimeout(function(){e.hasPopupMouseDown=!1},0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},this.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target;ue(Object(M.findDOMNode)(e),n)||e.hasPopupMouseDown||e.close()}},this.getRootDomNode=function(){return Object(M.findDOMNode)(e)},this.getPopupClassNameFromAlign=function(t){var n=[],r=e.props,o=r.popupPlacement,i=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,l=r.getPopupClassNameFromAlign;return o&&i&&n.push(function(e,t,n,r){var o=n.points;for(var i in e)if(e.hasOwnProperty(i)&&pe(e[i].points,o,r))return t+"-placement-"+i;return""}(i,a,t,s)),l&&n.push(l(t)),n.join(" ")},this.getComponent=function(){var t=e.props,n=t.prefixCls,r=t.destroyPopupOnHide,i=t.popupClassName,a=t.action,s=t.onPopupAlign,l=t.popupAnimation,u=t.popupTransitionName,c=t.popupStyle,d=t.mask,f=t.maskAnimation,h=t.maskTransitionName,m=t.zIndex,g=t.popup,v=t.stretch,y=t.alignPoint,b=e.state,_=b.popupVisible,x=b.point,w=e.getPopupAlign(),k={};return e.isMouseEnterToShow()&&(k.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(k.onMouseLeave=e.onPopupMouseLeave),k.onMouseDown=e.onPopupMouseDown,k.onTouchStart=e.onPopupMouseDown,p.a.createElement(fn,o()({prefixCls:n,destroyPopupOnHide:r,visible:_,point:y&&x,className:i,action:a,align:w,onAlign:s,animation:l,getClassNameFromAlign:e.getPopupClassNameFromAlign},k,{stretch:v,getRootDomNode:e.getRootDomNode,style:c,mask:d,zIndex:m,transitionName:u,maskAnimation:f,maskTransitionName:h,ref:e.savePopup}),"function"==typeof g?g():g)},this.getContainer=function(){var t=e.props,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer(Object(M.findDOMNode)(e)):t.getDocument().body).appendChild(n),n},this.setPoint=function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},this.handlePortalUpdate=function(){e.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(t){e._component=t}},bn=vn,_n={adjustX:1,adjustY:1},xn=[0,0],wn={left:{points:["cr","cl"],overflow:_n,offset:[-4,0],targetOffset:xn},right:{points:["cl","cr"],overflow:_n,offset:[4,0],targetOffset:xn},top:{points:["bc","tc"],overflow:_n,offset:[0,-4],targetOffset:xn},bottom:{points:["tc","bc"],overflow:_n,offset:[0,4],targetOffset:xn},topLeft:{points:["bl","tl"],overflow:_n,offset:[0,-4],targetOffset:xn},leftTop:{points:["tr","tl"],overflow:_n,offset:[-4,0],targetOffset:xn},topRight:{points:["br","tr"],overflow:_n,offset:[0,-4],targetOffset:xn},rightTop:{points:["tl","tr"],overflow:_n,offset:[4,0],targetOffset:xn},bottomRight:{points:["tr","br"],overflow:_n,offset:[0,4],targetOffset:xn},rightBottom:{points:["bl","br"],overflow:_n,offset:[4,0],targetOffset:xn},bottomLeft:{points:["tl","bl"],overflow:_n,offset:[0,4],targetOffset:xn},leftBottom:{points:["br","bl"],overflow:_n,offset:[-4,0],targetOffset:xn}},kn=function(e){function t(){return a()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.trigger;e&&e.forcePopupAlign()},t.prototype.render=function(){var e=this.props,t=e.overlay,n=e.prefixCls,r=e.id;return p.a.createElement("div",{className:n+"-inner",id:r,role:"tooltip"},"function"==typeof t?t():t)},t}(p.a.Component);kn.propTypes={prefixCls:g.a.string,overlay:g.a.oneOfType([g.a.node,g.a.func]).isRequired,id:g.a.string,trigger:g.a.any};var En=kn,Tn=function(e){function t(){var n,r,o;a()(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=c()(this,e.call.apply(e,[this].concat(s))),r.getPopupElement=function(){var e=r.props,t=e.arrowContent,n=e.overlay,o=e.prefixCls,i=e.id;return[p.a.createElement("div",{className:o+"-arrow",key:"arrow"},t),p.a.createElement(En,{key:"content",trigger:r.trigger,prefixCls:o,id:i,overlay:n})]},r.saveTrigger=function(e){r.trigger=e},o=n,c()(r,o)}return f()(t,e),t.prototype.getPopupDomNode=function(){return this.trigger.getPopupDomNode()},t.prototype.render=function(){var e=this.props,t=e.overlayClassName,n=e.trigger,r=e.mouseEnterDelay,i=e.mouseLeaveDelay,a=e.overlayStyle,s=e.prefixCls,l=e.children,u=e.onVisibleChange,c=e.afterVisibleChange,d=e.transitionName,f=e.animation,h=e.placement,m=e.align,g=e.destroyTooltipOnHide,v=e.defaultVisible,y=e.getTooltipContainer,b=x()(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),_=o()({},b);return"visible"in this.props&&(_.popupVisible=this.props.visible),p.a.createElement(bn,o()({popupClassName:t,ref:this.saveTrigger,prefixCls:s,popup:this.getPopupElement,action:n,builtinPlacements:wn,popupPlacement:h,popupAlign:m,getPopupContainer:y,onPopupVisibleChange:u,afterPopupVisibleChange:c,popupTransitionName:d,popupAnimation:f,defaultPopupVisible:v,destroyPopupOnHide:g,mouseLeaveDelay:i,popupStyle:a,mouseEnterDelay:r},_),l)},t}(h.Component);Tn.propTypes={trigger:g.a.any,children:g.a.any,defaultVisible:g.a.bool,visible:g.a.bool,placement:g.a.string,transitionName:g.a.oneOfType([g.a.string,g.a.object]),animation:g.a.any,onVisibleChange:g.a.func,afterVisibleChange:g.a.func,overlay:g.a.oneOfType([g.a.node,g.a.func]).isRequired,overlayStyle:g.a.object,overlayClassName:g.a.string,prefixCls:g.a.string,mouseEnterDelay:g.a.number,mouseLeaveDelay:g.a.number,getTooltipContainer:g.a.func,destroyTooltipOnHide:g.a.bool,align:g.a.object,arrowContent:g.a.any,id:g.a.string},Tn.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};var An=Tn;function Sn(e){var t,n;return n=t=function(t){function n(e){a()(this,n);var t=c()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleTooltipVisibleChange=function(e,n){t.setState(function(t){return{visibles:o()({},t.visibles,k()({},e,n))}})},t.handleWithTooltip=function(e){var n=e.value,r=e.dragging,i=e.index,a=e.disabled,s=x()(e,["value","dragging","index","disabled"]),l=t.props,u=l.tipFormatter,c=l.tipProps,d=l.handleStyle,f=c.prefixCls,h=void 0===f?"rc-slider-tooltip":f,m=c.overlay,g=void 0===m?u(n):m,v=c.placement,y=void 0===v?"top":v,b=c.visible,_=void 0!==b&&b,w=x()(c,["prefixCls","overlay","placement","visible"]),k=void 0;return k=Array.isArray(d)?d[i]||d[0]:d,p.a.createElement(An,o()({},w,{prefixCls:h,overlay:g,placement:y,visible:!a&&(t.state.visibles[i]||r)||_,key:i}),p.a.createElement(B,o()({},s,{style:o()({},k),value:n,onMouseEnter:function(){return t.handleTooltipVisibleChange(i,!0)},onMouseLeave:function(){return t.handleTooltipVisibleChange(i,!1)}})))},t.state={visibles:{}},t}return f()(n,t),l()(n,[{key:"render",value:function(){return p.a.createElement(e,o()({},this.props,{handle:this.handleWithTooltip}))}}]),n}(p.a.Component),t.propTypes={tipFormatter:g.a.func,handleStyle:g.a.oneOfType([g.a.object,g.a.arrayOf(g.a.object)]),tipProps:g.a.object},t.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{}},n}n.d(t,"Range",function(){return le}),n.d(t,"Handle",function(){return B}),n.d(t,"createSliderWithTooltip",function(){return Sn}),oe.Range=le,oe.Handle=B,oe.createSliderWithTooltip=Sn;t.default=oe},"./node_modules/react-iframe-comm/dist/IframeComm.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("./node_modules/react-iframe-comm/node_modules/react/react.js"),s=u(a),l=u(n("./node_modules/prop-types/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onReceiveMessage=e.onReceiveMessage.bind(e),e.onLoad=e.onLoad.bind(e),e.sendMessage=e.sendMessage.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),i(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.onReceiveMessage),this._frame.addEventListener("load",this.onLoad)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onReceiveMessage,!1)}},{key:"componentWillReceiveProps",value:function(e){this.props.postMessageData!==e.postMessageData&&this.sendMessage(e.postMessageData)}},{key:"onReceiveMessage",value:function(e){var t=this.props.handleReceiveMessage;t&&t(e)}},{key:"onLoad",value:function(){var e=this.props.handleReady;e&&e(),this.sendMessage(this.props.postMessageData)}},{key:"serializePostMessageData",value:function(e){return this.props.serializeMessage?"object"===(void 0===e?"undefined":o(e))?JSON.stringify(e):"string"==typeof e?e:""+e:e}},{key:"sendMessage",value:function(e){var t=this.props.targetOrigin,n=this.serializePostMessageData(e);this._frame.contentWindow.postMessage(n,t)}},{key:"render",value:function(){var e=this,t=this.props.attributes,n=Object.assign({},{allowFullScreen:!1,frameBorder:0},t);return s.default.createElement("iframe",r({ref:function(t){e._frame=t}},n))}}]),t}();c.defaultProps={serializeMessage:!0,targetOrigin:"*",postMessageData:""},c.propTypes={attributes:l.default.shape({allowFullScreen:l.default.oneOfType([l.default.string,l.default.bool]),frameBorder:l.default.oneOfType([l.default.string,l.default.number]),height:l.default.oneOfType([l.default.string,l.default.number]),name:l.default.string,scrolling:l.default.string,sandbox:l.default.string,srcDoc:l.default.string,src:l.default.string.isRequired,width:l.default.oneOfType([l.default.string,l.default.number])}),handleReceiveMessage:l.default.func,handleReady:l.default.func,postMessageData:l.default.any.isRequired,serializeMessage:l.default.bool,targetOrigin:l.default.string},t.default=c},"./node_modules/react-iframe-comm/node_modules/react/lib/KeyEscapeUtils.js":function(e,t,n){"use strict";var r={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=r},"./node_modules/react-iframe-comm/node_modules/react/lib/PooledClass.js":function(e,t,n){"use strict";var r=n("./node_modules/react-iframe-comm/node_modules/react/lib/reactProdInvariant.js"),o=(n("./node_modules/fbjs/lib/invariant.js"),function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}),i=function(e){e instanceof this||r("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=o,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=i,n},oneArgumentPooler:o,twoArgumentPooler:function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},threeArgumentPooler:function(e,t,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n),r}return new this(e,t,n)},fourArgumentPooler:function(e,t,n,r){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}};e.exports=s},"./node_modules/react-iframe-comm/node_modules/react/lib/React.js":function(e,t,n){"use strict";var r=n("./node_modules/object-assign/index.js"),o=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactBaseClasses.js"),i=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactChildren.js"),a=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactDOMFactories.js"),s=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactElement.js"),l=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactPropTypes.js"),u=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactVersion.js"),c=n("./node_modules/react-iframe-comm/node_modules/react/lib/createClass.js"),d=n("./node_modules/react-iframe-comm/node_modules/react/lib/onlyChild.js"),f=s.createElement,h=s.createFactory,p=s.cloneElement,m=r,g={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:d},Component:o.Component,PureComponent:o.PureComponent,createElement:f,cloneElement:p,isValidElement:s.isValidElement,PropTypes:l,createClass:c,createFactory:h,createMixin:function(e){return e},DOM:a,version:u,__spread:m};e.exports=g},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactBaseClasses.js":function(e,t,n){"use strict";var r=n("./node_modules/react-iframe-comm/node_modules/react/lib/reactProdInvariant.js"),o=n("./node_modules/object-assign/index.js"),i=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactNoopUpdateQueue.js"),a=(n("./node_modules/react-iframe-comm/node_modules/react/lib/canDefineProperty.js"),n("./node_modules/fbjs/lib/emptyObject.js"));n("./node_modules/fbjs/lib/invariant.js"),n("./node_modules/react-iframe-comm/node_modules/react/lib/lowPriorityWarning.js");function s(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}function l(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}function u(){}s.prototype.isReactComponent={},s.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},u.prototype=s.prototype,l.prototype=new u,l.prototype.constructor=l,o(l.prototype,s.prototype),l.prototype.isPureReactComponent=!0,e.exports={Component:s,PureComponent:l}},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactChildren.js":function(e,t,n){"use strict";var r=n("./node_modules/react-iframe-comm/node_modules/react/lib/PooledClass.js"),o=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactElement.js"),i=n("./node_modules/fbjs/lib/emptyFunction.js"),a=n("./node_modules/react-iframe-comm/node_modules/react/lib/traverseAllChildren.js"),s=r.twoArgumentPooler,l=r.fourArgumentPooler,u=/\/+/g;function c(e){return(""+e).replace(u,"$&/")}function d(e,t){this.func=e,this.context=t,this.count=0}function f(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function h(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function p(e,t,n){var r=e.result,a=e.keyPrefix,s=e.func,l=e.context,u=s.call(l,t,e.count++);Array.isArray(u)?m(u,r,n,i.thatReturnsArgument):null!=u&&(o.isValidElement(u)&&(u=o.cloneAndReplaceKey(u,a+(!u.key||t&&t.key===u.key?"":c(u.key)+"/")+n)),r.push(u))}function m(e,t,n,r,o){var i="";null!=n&&(i=c(n)+"/");var s=h.getPooled(t,i,r,o);a(e,p,s),h.release(s)}function g(e,t,n){return null}d.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(d,s),h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(h,l);var v={forEach:function(e,t,n){if(null==e)return e;var r=d.getPooled(t,n);a(e,f,r),d.release(r)},map:function(e,t,n){if(null==e)return e;var r=[];return m(e,r,null,t,n),r},mapIntoWithKeyPrefixInternal:m,count:function(e,t){return a(e,g,null)},toArray:function(e){var t=[];return m(e,t,null,i.thatReturnsArgument),t}};e.exports=v},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactCurrentOwner.js":function(e,t,n){"use strict";e.exports={current:null}},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactDOMFactories.js":function(e,t,n){"use strict";var r=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactElement.js").createFactory,o={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=o},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactElement.js":function(e,t,n){"use strict";var r=n("./node_modules/object-assign/index.js"),o=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactCurrentOwner.js"),i=(n("./node_modules/fbjs/lib/warning.js"),n("./node_modules/react-iframe-comm/node_modules/react/lib/canDefineProperty.js"),Object.prototype.hasOwnProperty),a=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactElementSymbol.js"),s={key:!0,ref:!0,__self:!0,__source:!0};function l(e){return void 0!==e.ref}function u(e){return void 0!==e.key}var c=function(e,t,n,r,o,i,s){return{$$typeof:a,type:e,key:t,ref:n,props:s,_owner:i}};c.createElement=function(e,t,n){var r,a={},d=null,f=null;if(null!=t)for(r in l(t)&&(f=t.ref),u(t)&&(d=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source,t)i.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);var h=arguments.length-2;if(1===h)a.children=n;else if(h>1){for(var p=Array(h),m=0;m<h;m++)p[m]=arguments[m+2];0,a.children=p}if(e&&e.defaultProps){var g=e.defaultProps;for(r in g)void 0===a[r]&&(a[r]=g[r])}return c(e,d,f,0,0,o.current,a)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){return c(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},c.cloneElement=function(e,t,n){var a,d,f=r({},e.props),h=e.key,p=e.ref,m=(e._self,e._source,e._owner);if(null!=t)for(a in l(t)&&(p=t.ref,m=o.current),u(t)&&(h=""+t.key),e.type&&e.type.defaultProps&&(d=e.type.defaultProps),t)i.call(t,a)&&!s.hasOwnProperty(a)&&(void 0===t[a]&&void 0!==d?f[a]=d[a]:f[a]=t[a]);var g=arguments.length-2;if(1===g)f.children=n;else if(g>1){for(var v=Array(g),y=0;y<g;y++)v[y]=arguments[y+2];f.children=v}return c(e.type,h,p,0,0,m,f)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},e.exports=c},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactElementSymbol.js":function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactNoopUpdateQueue.js":function(e,t,n){"use strict";n("./node_modules/fbjs/lib/warning.js");var r={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}};e.exports=r},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactPropTypes.js":function(e,t,n){"use strict";var r=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactElement.js").isValidElement,o=n("./node_modules/prop-types/factory.js");e.exports=o(r)},"./node_modules/react-iframe-comm/node_modules/react/lib/ReactVersion.js":function(e,t,n){"use strict";e.exports="15.6.2"},"./node_modules/react-iframe-comm/node_modules/react/lib/canDefineProperty.js":function(e,t,n){"use strict";e.exports=!1},"./node_modules/react-iframe-comm/node_modules/react/lib/createClass.js":function(e,t,n){"use strict";var r=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactBaseClasses.js").Component,o=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactElement.js").isValidElement,i=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactNoopUpdateQueue.js"),a=n("./node_modules/create-react-class/factory.js");e.exports=a(r,o,i)},"./node_modules/react-iframe-comm/node_modules/react/lib/getIteratorFn.js":function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=function(e){var t=e&&(r&&e[r]||e[o]);if("function"==typeof t)return t}},"./node_modules/react-iframe-comm/node_modules/react/lib/lowPriorityWarning.js":function(e,t,n){"use strict";e.exports=function(){}},"./node_modules/react-iframe-comm/node_modules/react/lib/onlyChild.js":function(e,t,n){"use strict";var r=n("./node_modules/react-iframe-comm/node_modules/react/lib/reactProdInvariant.js"),o=n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactElement.js");n("./node_modules/fbjs/lib/invariant.js");e.exports=function(e){return o.isValidElement(e)||r("143"),e}},"./node_modules/react-iframe-comm/node_modules/react/lib/reactProdInvariant.js":function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}},"./node_modules/react-iframe-comm/node_modules/react/lib/traverseAllChildren.js":function(e,t,n){"use strict";var r=n("./node_modules/react-iframe-comm/node_modules/react/lib/reactProdInvariant.js"),o=(n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactCurrentOwner.js"),n("./node_modules/react-iframe-comm/node_modules/react/lib/ReactElementSymbol.js")),i=n("./node_modules/react-iframe-comm/node_modules/react/lib/getIteratorFn.js"),a=(n("./node_modules/fbjs/lib/invariant.js"),n("./node_modules/react-iframe-comm/node_modules/react/lib/KeyEscapeUtils.js")),s=(n("./node_modules/fbjs/lib/warning.js"),"."),l=":";function u(e,t){return e&&"object"==typeof e&&null!=e.key?a.escape(e.key):t.toString(36)}e.exports=function(e,t,n){return null==e?0:function e(t,n,c,d){var f,h=typeof t;if("undefined"!==h&&"boolean"!==h||(t=null),null===t||"string"===h||"number"===h||"object"===h&&t.$$typeof===o)return c(d,t,""===n?s+u(t,0):n),1;var p=0,m=""===n?s:n+l;if(Array.isArray(t))for(var g=0;g<t.length;g++)p+=e(f=t[g],m+u(f,g),c,d);else{var v=i(t);if(v){var y,b=v.call(t);if(v!==t.entries)for(var _=0;!(y=b.next()).done;)p+=e(f=y.value,m+u(f,_++),c,d);else for(;!(y=b.next()).done;){var x=y.value;x&&(p+=e(f=x[1],m+a.escape(x[0])+l+u(f,0),c,d))}}else if("object"===h){var w=String(t);r("31","[object Object]"===w?"object with keys {"+Object.keys(t).join(", ")+"}":w,"")}}return p}(e,"",t,n)}},"./node_modules/react-iframe-comm/node_modules/react/react.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-iframe-comm/node_modules/react/lib/React.js")},"./node_modules/react-router-dom/es/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react-router-dom/node_modules/warning/warning.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),s=n("./node_modules/prop-types/index.js"),l=n.n(s),u=n("./node_modules/warning/browser.js"),c=n.n(u),d=n("./node_modules/invariant/browser.js"),f=n.n(d);function h(e){return"/"===e.charAt(0)}function p(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&h(e),i=t&&h(t),a=o||i;if(e&&h(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var l=r[r.length-1];s="."===l||".."===l||""===l}else s=!1;for(var u=0,c=r.length;c>=0;c--){var d=r[c];"."===d?p(r,c):".."===d?(p(r,c),u++):u&&(p(r,c),u--)}if(!a)for(;u--;u)r.unshift("..");!a||""===r[0]||r[0]&&h(r[0])||r.unshift("");var f=r.join("/");return s&&"/"!==f.substr(-1)&&(f+="/"),f},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var v=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r=void 0===t?"undefined":g(t);if(r!==(void 0===n?"undefined":g(n)))return!1;if("object"===r){var o=t.valueOf(),i=n.valueOf();if(o!==t||i!==n)return e(o,i);var a=Object.keys(t),s=Object.keys(n);return a.length===s.length&&a.every(function(r){return e(t[r],n[r])})}return!1},y=function(e){return"/"===e.charAt(0)?e:"/"+e},b=function(e){return"/"===e.charAt(0)?e.substr(1):e},_=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},x=function(e,t){return _(e,t)?e.substr(t.length):e},w=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},k=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(e,t,n,r){var o=void 0;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=E({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=m(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},A=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&v(e.state,t.state)},S=function(){var e=null,t=[];return{setPrompt:function(t){return c()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):(c()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}},M=!("undefined"==typeof window||!window.document||!window.document.createElement),C=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},j=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},O=function(e,t){return t(window.confirm(e))},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=function(){try{return window.history.state||{}}catch(e){return{}}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f()(M,"Browser history needs a DOM");var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e.forceRefresh,a=void 0!==i&&i,s=e.getUserConfirmation,l=void 0===s?O:s,u=e.keyLength,d=void 0===u?6:u,h=e.basename?w(y(e.basename)):"",p=function(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return c()(!h||_(i,h),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+h+'".'),h&&(i=x(i,h)),T(i,r,n)},m=function(){return Math.random().toString(36).substr(2,d)},g=S(),v=function(e){R(H,e),H.length=n.length,g.notifyListeners(H.location,H.action)},b=function(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||I(p(e.state))},E=function(){I(p(P()))},A=!1,I=function(e){A?(A=!1,v()):g.confirmTransitionTo(e,"POP",l,function(t){t?v({action:"POP",location:e}):D(e)})},D=function(e){var t=H.location,n=B.indexOf(t.key);-1===n&&(n=0);var r=B.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(A=!0,z(o))},L=p(P()),B=[L.key],F=function(e){return h+k(e)},z=function(e){n.go(e)},U=0,q=function(e){1===(U+=e)?(C(window,"popstate",b),o&&C(window,"hashchange",E)):0===U&&(j(window,"popstate",b),o&&j(window,"hashchange",E))},V=!1,H={length:n.length,action:"POP",location:L,createHref:F,push:function(e,t){c()(!("object"===(void 0===e?"undefined":N(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=T(e,t,m(),H.location);g.confirmTransitionTo(o,"PUSH",l,function(e){if(e){var t=F(o),i=o.key,s=o.state;if(r)if(n.pushState({key:i,state:s},null,t),a)window.location.href=t;else{var l=B.indexOf(H.location.key),u=B.slice(0,-1===l?0:l+1);u.push(o.key),B=u,v({action:"PUSH",location:o})}else c()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){c()(!("object"===(void 0===e?"undefined":N(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=T(e,t,m(),H.location);g.confirmTransitionTo(o,"REPLACE",l,function(e){if(e){var t=F(o),i=o.key,s=o.state;if(r)if(n.replaceState({key:i,state:s},null,t),a)window.location.replace(t);else{var l=B.indexOf(H.location.key);-1!==l&&(B[l]=o.key),v({action:"REPLACE",location:o})}else c()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:z,goBack:function(){return z(-1)},goForward:function(){return z(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=g.setPrompt(e);return V||(q(1),V=!0),function(){return V&&(V=!1,q(-1)),t()}},listen:function(e){var t=g.appendListener(e);return q(1),function(){q(-1),t()}}};return H},D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+b(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:b,decodePath:y},slash:{encodePath:y,decodePath:y}},B=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},F=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f()(M,"Hash history needs a DOM");var t=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),r=e.getUserConfirmation,o=void 0===r?O:r,i=e.hashType,a=void 0===i?"slash":i,s=e.basename?w(y(e.basename)):"",l=L[a],u=l.encodePath,d=l.decodePath,h=function(){var e=d(B());return c()(!s||_(e,s),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+s+'".'),s&&(e=x(e,s)),T(e)},p=S(),m=function(e){D(W,e),W.length=t.length,p.notifyListeners(W.location,W.action)},g=!1,v=null,b=function(){var e=B(),t=u(e);if(e!==t)F(t);else{var n=h(),r=W.location;if(!g&&A(r,n))return;if(v===k(n))return;v=null,E(n)}},E=function(e){g?(g=!1,m()):p.confirmTransitionTo(e,"POP",o,function(t){t?m({action:"POP",location:e}):N(e)})},N=function(e){var t=W.location,n=z.lastIndexOf(k(t));-1===n&&(n=0);var r=z.lastIndexOf(k(e));-1===r&&(r=0);var o=n-r;o&&(g=!0,U(o))},R=B(),P=u(R);R!==P&&F(P);var I=h(),z=[k(I)],U=function(e){c()(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},q=0,V=function(e){1===(q+=e)?C(window,"hashchange",b):0===q&&j(window,"hashchange",b)},H=!1,W={length:t.length,action:"POP",location:I,createHref:function(e){return"#"+u(s+k(e))},push:function(e,t){c()(void 0===t,"Hash history cannot push state; it is ignored");var n=T(e,void 0,void 0,W.location);p.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=k(n),r=u(s+t);if(B()!==r){v=t,function(e){window.location.hash=e}(r);var o=z.lastIndexOf(k(W.location)),i=z.slice(0,-1===o?0:o+1);i.push(t),z=i,m({action:"PUSH",location:n})}else c()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),m()}})},replace:function(e,t){c()(void 0===t,"Hash history cannot replace state; it is ignored");var n=T(e,void 0,void 0,W.location);p.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=k(n),r=u(s+t);B()!==r&&(v=t,F(r));var o=z.indexOf(k(W.location));-1!==o&&(z[o]=t),m({action:"REPLACE",location:n})}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=p.setPrompt(e);return H||(V(1),H=!0),function(){return H&&(H=!1,V(-1)),t()}},listen:function(e){var t=p.appendListener(e);return V(1),function(){V(-1),t()}}};return W},U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=function(e,t,n){return Math.min(Math.max(e,t),n)},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,o=e.initialIndex,i=void 0===o?0:o,a=e.keyLength,s=void 0===a?6:a,l=S(),u=function(e){q(g,e),g.length=g.entries.length,l.notifyListeners(g.location,g.action)},d=function(){return Math.random().toString(36).substr(2,s)},f=V(i,0,r.length-1),h=r.map(function(e){return T(e,void 0,"string"==typeof e?d():e.key||d())}),p=k,m=function(e){var n=V(g.index+e,0,g.entries.length-1),r=g.entries[n];l.confirmTransitionTo(r,"POP",t,function(e){e?u({action:"POP",location:r,index:n}):u()})},g={length:h.length,action:"POP",location:h[f],index:f,entries:h,createHref:p,push:function(e,n){c()(!("object"===(void 0===e?"undefined":U(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=T(e,n,d(),g.location);l.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=g.index+1,n=g.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),u({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,n){c()(!("object"===(void 0===e?"undefined":U(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=T(e,n,d(),g.location);l.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(g.entries[g.index]=r,u({action:"REPLACE",location:r}))})},go:m,goBack:function(){return m(-1)},goForward:function(){return m(1)},canGo:function(e){var t=g.index+e;return t>=0&&t<g.entries.length},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return g},W=n("./node_modules/react-router/node_modules/warning/warning.js"),G=n.n(W),X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=K(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props.history.location.pathname)},K(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:X({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;f()(null==n||1===a.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){G()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?a.a.Children.only(e):null},t}(a.a.Component);Y.propTypes={history:l.a.object.isRequired,children:l.a.node},Y.contextTypes={router:l.a.object},Y.childContextTypes={router:l.a.object.isRequired};var $=Y,Z=$;function Q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var J=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Q(this,e.call.apply(e,[this].concat(i))),r.history=I(r.props),Q(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){o()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return a.a.createElement(Z,{history:this.history,children:this.props.children})},t}(a.a.Component);J.propTypes={basename:l.a.string,forceRefresh:l.a.bool,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node};var ee=J;function te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ne=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=te(this,e.call.apply(e,[this].concat(i))),r.history=z(r.props),te(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){o()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return a.a.createElement(Z,{history:this.history,children:this.props.children})},t}(a.a.Component);ne.propTypes={basename:l.a.string,getUserConfirmation:l.a.func,hashType:l.a.oneOf(["hashbang","noslash","slash"]),children:l.a.node};var re=ne,oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ae=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},se=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ie(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!ae(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?t.replace(i):t.push(i)}},ie(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);f()(this.context.router,"You should not use <Link> outside a <Router>"),f()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,i="string"==typeof t?T(t,null,null,o.location):t,s=o.createHref(i);return a.a.createElement("a",oe({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(a.a.Component);se.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},se.defaultProps={replace:!1},se.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired};var le=se;function ue(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ce=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ue(this,e.call.apply(e,[this].concat(i))),r.history=H(r.props),ue(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){G()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return a.a.createElement($,{history:this.history,children:this.props.children})},t}(a.a.Component);ce.propTypes={initialEntries:l.a.array,initialIndex:l.a.number,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node};var de=ce,fe=n("./node_modules/path-to-regexp/index.js"),he=n.n(fe),pe={},me=0,ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,o=r.path,i=r.exact,a=void 0!==i&&i,s=r.strict,l=void 0!==s&&s,u=r.sensitive;if(null==o)return n;var c=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=pe[n]||(pe[n]={});if(r[e])return r[e];var o=[],i={re:he()(e,o,t),keys:o};return me<1e4&&(r[e]=i,me++),i}(o,{end:a,strict:l,sensitive:void 0!==u&&u}),d=c.re,f=c.keys,h=d.exec(e);if(!h)return null;var p=h[0],m=h.slice(1),g=e===p;return a&&!g?null:{path:o,url:"/"===o&&""===p?"/":p,isExact:g,params:f.reduce(function(e,t,n){return e[t.name]=m[n],e},{})}},ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var be=function(e){return 0===a.a.Children.count(e)},_e=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ye(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props,r.context.router)},ye(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:ve({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,o=e.path,i=e.strict,a=e.exact,s=e.sensitive;if(n)return n;f()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,u=(r||l.location).pathname;return ge(u,{path:o,strict:i,exact:a,sensitive:s},l.match)},t.prototype.componentWillMount=function(){G()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),G()(!(this.props.component&&this.props.children&&!be(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),G()(!(this.props.render&&this.props.children&&!be(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){G()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),G()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,o=t.render,i=this.context.router,s=i.history,l=i.route,u=i.staticContext,c={match:e,location:this.props.location||l.location,history:s,staticContext:u};return r?e?a.a.createElement(r,c):null:o?e?o(c):null:"function"==typeof n?n(c):n&&!be(n)?a.a.Children.only(n):null},t}(a.a.Component);_e.propTypes={computedMatch:l.a.object,path:l.a.string,exact:l.a.bool,strict:l.a.bool,sensitive:l.a.bool,component:l.a.func,render:l.a.func,children:l.a.oneOfType([l.a.func,l.a.node]),location:l.a.object},_e.contextTypes={router:l.a.shape({history:l.a.object.isRequired,route:l.a.object.isRequired,staticContext:l.a.object})},_e.childContextTypes={router:l.a.object.isRequired};var xe=_e,we=xe,ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Te=function(e){var t=e.to,n=e.exact,r=e.strict,o=e.location,i=e.activeClassName,s=e.className,l=e.activeStyle,u=e.style,c=e.isActive,d=e["aria-current"],f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),h="object"===(void 0===t?"undefined":Ee(t))?t.pathname:t,p=h&&h.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return a.a.createElement(we,{path:p,exact:n,strict:r,location:o,children:function(e){var n=e.location,r=e.match,o=!!(c?c(r,n):r);return a.a.createElement(le,ke({to:t,className:o?[s,i].filter(function(e){return e}).join(" "):s,style:o?ke({},u,l):u,"aria-current":o&&d||null},f))}})};Te.propTypes={to:le.propTypes.to,exact:l.a.bool,strict:l.a.bool,location:l.a.object,activeClassName:l.a.string,className:l.a.string,activeStyle:l.a.object,style:l.a.object,isActive:l.a.func,"aria-current":l.a.oneOf(["page","step","location","date","time","true"])},Te.defaultProps={activeClassName:"active","aria-current":"page"};var Ae=Te;var Se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(a.a.Component);Se.propTypes={when:l.a.bool,message:l.a.oneOfType([l.a.func,l.a.string]).isRequired},Se.defaultProps={when:!0},Se.contextTypes={router:l.a.shape({history:l.a.shape({block:l.a.func.isRequired}).isRequired}).isRequired};var Me=Se,Ce={},je=0,Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:function(e){var t=e,n=Ce[t]||(Ce[t]={});if(n[e])return n[e];var r=he.a.compile(e);return je<1e4&&(n[e]=r,je++),r}(e)(t,{pretty:!0})},Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=T(e.to),n=T(this.props.to);A(t,n)?G()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"==typeof n?Oe(n,t.params):Ne({},n,{pathname:Oe(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(a.a.Component);Re.propTypes={computedMatch:l.a.object,push:l.a.bool,from:l.a.string,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired},Re.defaultProps={push:!1},Re.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired}).isRequired,staticContext:l.a.object}).isRequired};var Pe=Re,Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function De(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Le=function(e){return"/"===e.charAt(0)?e:"/"+e},Be=function(e,t){return e?Ie({},t,{pathname:Le(e)+t.pathname}):t},Fe=function(e,t){if(!e)return t;var n=Le(e);return 0!==t.pathname.indexOf(n)?t:Ie({},t,{pathname:t.pathname.substr(n.length)})},ze=function(e){return"string"==typeof e?e:k(e)},Ue=function(e){return function(){f()(!1,"You cannot %s with <StaticRouter>",e)}},qe=function(){},Ve=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=De(this,e.call.apply(e,[this].concat(i))),r.createHref=function(e){return Le(r.props.basename+ze(e))},r.handlePush=function(e){var t=r.props,n=t.basename,o=t.context;o.action="PUSH",o.location=Be(n,T(e)),o.url=ze(o.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,o=t.context;o.action="REPLACE",o.location=Be(n,T(e)),o.url=ze(o.location)},r.handleListen=function(){return qe},r.handleBlock=function(){return qe},De(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){G()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:Fe(t,T(n)),push:this.handlePush,replace:this.handleReplace,go:Ue("go"),goBack:Ue("goBack"),goForward:Ue("goForward"),listen:this.handleListen,block:this.handleBlock};return a.a.createElement($,Ie({},r,{history:o}))},t}(a.a.Component);Ve.propTypes={basename:l.a.string,context:l.a.object.isRequired,location:l.a.oneOfType([l.a.string,l.a.object])},Ve.defaultProps={basename:"",location:"/"},Ve.childContextTypes={router:l.a.object.isRequired};var He=Ve;var We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){G()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),G()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,o=void 0;return a.a.Children.forEach(t,function(t){if(null==r&&a.a.isValidElement(t)){var i=t.props,s=i.path,l=i.exact,u=i.strict,c=i.sensitive,d=i.from,f=s||d;o=t,r=ge(n.pathname,{path:f,exact:l,strict:u,sensitive:c},e.match)}}),r?a.a.cloneElement(o,{location:n,computedMatch:r}):null},t}(a.a.Component);We.contextTypes={router:l.a.shape({route:l.a.object.isRequired}).isRequired},We.propTypes={children:l.a.node,location:l.a.object};var Ge=We,Xe=Oe,Ke=ge,Ye=n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),$e=n.n(Ye),Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Qe=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["wrappedComponentRef"]);return a.a.createElement(xe,{children:function(t){return a.a.createElement(e,Ze({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:l.a.func},$e()(t,e)};n.d(t,"BrowserRouter",function(){return ee}),n.d(t,"HashRouter",function(){return re}),n.d(t,"Link",function(){return le}),n.d(t,"MemoryRouter",function(){return de}),n.d(t,"NavLink",function(){return Ae}),n.d(t,"Prompt",function(){return Me}),n.d(t,"Redirect",function(){return Pe}),n.d(t,"Route",function(){return we}),n.d(t,"Router",function(){return Z}),n.d(t,"StaticRouter",function(){return He}),n.d(t,"Switch",function(){return Ge}),n.d(t,"generatePath",function(){return Xe}),n.d(t,"matchPath",function(){return Ke}),n.d(t,"withRouter",function(){return Qe})},"./node_modules/react-router-dom/node_modules/warning/warning.js":function(e,t,n){"use strict";var r=function(){};e.exports=r},"./node_modules/react-router/node_modules/warning/warning.js":function(e,t,n){"use strict";var r=function(){};e.exports=r},"./node_modules/readable-stream/duplex-browser.js":function(e,t,n){e.exports=n("./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":function(e,t,n){"use strict";var r=n("./node_modules/process-nextick-args/index.js"),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var i=n("./node_modules/core-util-is/lib/util.js");i.inherits=n("./node_modules/inherits/inherits_browser.js");var a=n("./node_modules/readable-stream/lib/_stream_readable.js"),s=n("./node_modules/readable-stream/lib/_stream_writable.js");i.inherits(d,a);for(var l=o(s.prototype),u=0;u<l.length;u++){var c=l[u];d.prototype[c]||(d.prototype[c]=s.prototype[c])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":function(e,t,n){"use strict";e.exports=i;var r=n("./node_modules/readable-stream/lib/_stream_transform.js"),o=n("./node_modules/core-util-is/lib/util.js");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n("./node_modules/inherits/inherits_browser.js"),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},"./node_modules/readable-stream/lib/_stream_readable.js":function(e,t,n){"use strict";(function(t,r){var o=n("./node_modules/process-nextick-args/index.js");e.exports=b;var i,a=n("./node_modules/isarray/index.js");b.ReadableState=y;n("./node_modules/events/events.js").EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),u=n("./node_modules/safe-buffer/index.js").Buffer,c=t.Uint8Array||function(){};var d=n("./node_modules/core-util-is/lib/util.js");d.inherits=n("./node_modules/inherits/inherits_browser.js");var f=n(0),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=n("./node_modules/readable-stream/lib/internal/streams/BufferList.js"),g=n("./node_modules/readable-stream/lib/internal/streams/destroy.js");d.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(i=i||n("./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n("./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,r,o){var i,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}(e,a)):(o||(i=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),i?e.emit("error",i):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):A(e,a)):x(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),A(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var w=8388608;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(T,e):T(e))}function T(e){h("emit readable"),e.emit("readable"),j(e)}function A(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(S,e,t))}function S(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function M(e){h("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0===(e-=a)){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),0===(e-=a)){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):E(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,o=t.needReadable;return h("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",o=!0),t.ended||t.reading?h("reading or ended",o=!1):o&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var l=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:b;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",m),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){h("onend"),e.end()}i.endEmitted?o.nextTick(l):n.once("end",l),e.on("unpipe",u);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,j(e))}}(n);e.on("drain",d);var f=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==P(i.pipes,e))&&!f&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){h("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){h("onfinish"),e.removeListener("close",v),b()}function b(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=P(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):o.nextTick(M,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(C,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){(h("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o)||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))}),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<v.length;i++)e.on(v[i],this.emit.bind(this,v[i]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":function(e,t,n){"use strict";e.exports=a;var r=n("./node_modules/readable-stream/lib/_stream_duplex.js"),o=n("./node_modules/core-util-is/lib/util.js");function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){l(e,t,n)}):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n("./node_modules/inherits/inherits_browser.js"),o.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":function(e,t,n){"use strict";(function(t,r,o){var i=n("./node_modules/process-nextick-args/index.js");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:i.nextTick;y.WritableState=v;var u=n("./node_modules/core-util-is/lib/util.js");u.inherits=n("./node_modules/inherits/inherits_browser.js");var c={deprecate:n("./node_modules/util-deprecate/browser.js")},d=n("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),f=n("./node_modules/safe-buffer/index.js").Buffer,h=o.Uint8Array||function(){};var p,m=n("./node_modules/readable-stream/lib/internal/streams/destroy.js");function g(){}function v(e,t){s=s||n("./node_modules/readable-stream/lib/_stream_duplex.js"),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,o);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?l(_,e,n,a,o):_(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n("./node_modules/readable-stream/lib/_stream_duplex.js"),!(p.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,b(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,c,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=e,f.isBuffer(r)||r instanceof h);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,o,i){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,o,i);return l}(this,o,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n("./node_modules/node-libs-browser/node_modules/process/browser.js"),n("./node_modules/timers-browserify/main.js").setImmediate,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":function(e,t,n){"use strict";var r=n("./node_modules/safe-buffer/index.js").Buffer,o=n(1);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,o,i=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=i,o=s,t.copy(n,o),s+=a.data.length,a=a.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":function(e,t,n){"use strict";var r=n("./node_modules/process-nextick-args/index.js");function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":function(e,t,n){e.exports=n("./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/passthrough.js":function(e,t,n){e.exports=n("./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":function(e,t,n){(t=e.exports=n("./node_modules/readable-stream/lib/_stream_readable.js")).Stream=t,t.Readable=t,t.Writable=n("./node_modules/readable-stream/lib/_stream_writable.js"),t.Duplex=n("./node_modules/readable-stream/lib/_stream_duplex.js"),t.Transform=n("./node_modules/readable-stream/lib/_stream_transform.js"),t.PassThrough=n("./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":function(e,t,n){e.exports=n("./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":function(e,t,n){e.exports=n("./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/ripemd160/index.js":function(e,t,n){"use strict";var r=n("./node_modules/buffer/index.js").Buffer,o=n("./node_modules/inherits/inherits_browser.js"),i=n("./node_modules/hash-base/index.js"),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function h(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,n,r,o,i,a,s){return p(e+(t^n^r)+i+a|0,s)+o|0}function g(e,t,n,r,o,i,a,s){return p(e+(t&n|~t&r)+i+a|0,s)+o|0}function v(e,t,n,r,o,i,a,s){return p(e+((t|~n)^r)+i+a|0,s)+o|0}function y(e,t,n,r,o,i,a,s){return p(e+(t&r|n&~r)+i+a|0,s)+o|0}function b(e,t,n,r,o,i,a,s){return p(e+(t^(n|~r))+i+a|0,s)+o|0}o(h,i),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,o=0|this._c,i=0|this._d,h=0|this._e,_=0|this._a,x=0|this._b,w=0|this._c,k=0|this._d,E=0|this._e,T=0;T<80;T+=1){var A,S;T<16?(A=m(n,r,o,i,h,e[s[T]],d[0],u[T]),S=b(_,x,w,k,E,e[l[T]],f[0],c[T])):T<32?(A=g(n,r,o,i,h,e[s[T]],d[1],u[T]),S=y(_,x,w,k,E,e[l[T]],f[1],c[T])):T<48?(A=v(n,r,o,i,h,e[s[T]],d[2],u[T]),S=v(_,x,w,k,E,e[l[T]],f[2],c[T])):T<64?(A=y(n,r,o,i,h,e[s[T]],d[3],u[T]),S=g(_,x,w,k,E,e[l[T]],f[3],c[T])):(A=b(n,r,o,i,h,e[s[T]],d[4],u[T]),S=m(_,x,w,k,E,e[l[T]],f[4],c[T])),n=h,h=i,i=p(o,10),o=r,r=A,_=E,E=k,k=p(w,10),w=x,x=S}var M=this._b+o+k|0;this._b=this._c+i+E|0,this._c=this._d+h+_|0,this._d=this._e+n+x|0,this._e=this._a+r+w|0,this._a=M},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},"./node_modules/safe-buffer/index.js":function(e,t,n){var r=n("./node_modules/buffer/index.js"),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},"./node_modules/semantic-ui-react/dist/es/index.js":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"someByType",function(){return B}),n.d(r,"findByType",function(){return F}),n.d(r,"isNil",function(){return z});var o={};n.r(o),n.d(o,"COLORS",function(){return Z}),n.d(o,"FLOATS",function(){return Q}),n.d(o,"SIZES",function(){return J}),n.d(o,"TEXT_ALIGNMENTS",function(){return ee}),n.d(o,"VERTICAL_ALIGNMENTS",function(){return te}),n.d(o,"VISIBILITY",function(){return ne}),n.d(o,"WIDTHS",function(){return re}),n.d(o,"DIRECTIONAL_TRANSITIONS",function(){return oe}),n.d(o,"STATIC_TRANSITIONS",function(){return ie}),n.d(o,"TRANSITIONS",function(){return ae}),n.d(o,"ACCESSIBILITY",function(){return se}),n.d(o,"ARROWS",function(){return le}),n.d(o,"AUDIO_VIDEO",function(){return ue}),n.d(o,"BUSINESS",function(){return ce}),n.d(o,"CHESS",function(){return de}),n.d(o,"CODE",function(){return fe}),n.d(o,"COMMUNICATION",function(){return he}),n.d(o,"COMPUTERS",function(){return pe}),n.d(o,"CURRENCY",function(){return me}),n.d(o,"DATE_TIME",function(){return ge}),n.d(o,"DESIGN",function(){return ve}),n.d(o,"EDITORS",function(){return ye}),n.d(o,"FILES",function(){return be}),n.d(o,"GENDERS",function(){return _e}),n.d(o,"HANDS_GESTURES",function(){return xe}),n.d(o,"HEALTH",function(){return we}),n.d(o,"IMAGES",function(){return ke}),n.d(o,"INTERFACES",function(){return Ee}),n.d(o,"LOGISTICS",function(){return Te}),n.d(o,"MAPS",function(){return Ae}),n.d(o,"MEDICAL",function(){return Se}),n.d(o,"OBJECTS",function(){return Me}),n.d(o,"PAYMENTS_SHOPPING",function(){return Ce}),n.d(o,"SHAPES",function(){return je}),n.d(o,"SPINNERS",function(){return Oe}),n.d(o,"SPORTS",function(){return Ne}),n.d(o,"STATUS",function(){return Re}),n.d(o,"USERS_PEOPLE",function(){return Pe}),n.d(o,"VEHICLES",function(){return Ie}),n.d(o,"WRITING",function(){return De}),n.d(o,"BRANDS",function(){return Le}),n.d(o,"ICONS",function(){return Be}),n.d(o,"ICON_ALIASES",function(){return Fe}),n.d(o,"ICONS_AND_ALIASES",function(){return ze}),n.d(o,"COMPONENT_CONTEXT_SPECIFIC_ICONS",function(){return Ue}),n.d(o,"ALL_ICONS_IN_ALL_CONTEXTS",function(){return qe});var i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),l=n.n(s),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),f=n.n(d),h=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(h),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(m),v=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),y=n.n(v),b=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),_=n.n(b),x=n("./node_modules/lodash/has.js"),w=n.n(x),k=n("./node_modules/lodash/invoke.js"),E=n.n(k),T=(n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js")),A=n.n(T),S=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce(function(e,n){return"childKey"===n?e:(-1===r.indexOf(n)&&(e[n]=t[n]),e)},{})},M=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),C=n.n(M),j=n("./node_modules/lodash/isNil.js"),O=n.n(j),N=n("./node_modules/classnames/index.js"),R=n.n(N),P=n("./node_modules/lodash/find.js"),I=n.n(P),D=n("./node_modules/lodash/some.js"),L=n.n(D),B=function(e,t){return L()(T.Children.toArray(e),{type:t})},F=function(e,t){return I()(T.Children.toArray(e),{type:t})},z=function(e){return null==e||Array.isArray(e)&&0===e.length},U=n("./node_modules/lodash/uniq.js"),q=n.n(U),V=n("./node_modules/lodash/values.js"),H=n.n(V),W=n("./node_modules/lodash/keys.js"),G=n.n(W),X=n("./node_modules/@babel/runtime/helpers/typeof.js"),K=n.n(X),Y={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function $(e){var t=K()(e);return"string"===t||"number"===t?Y[e]||e:""}var Z=["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey","black"],Q=["left","right"],J=["mini","tiny","small","medium","large","big","huge","massive"],ee=["left","center","right","justified"],te=["bottom","middle","top"],ne=["mobile","tablet","computer","large screen","widescreen"],re=C()(G()(Y)).concat(C()(G()(Y).map(Number)),C()(H()(Y))),oe=["browse","browse right","drop","fade","fade up","fade down","fade left","fade right","fly up","fly down","fly left","fly right","horizontal flip","vertical flip","scale","slide up","slide down","slide left","slide right","swing up","swing down","swing left","swing right","zoom"],ie=["jiggle","flash","shake","pulse","tada","bounce","glow"],ae=oe.concat(ie),se=["american sign language interpreting","assistive listening systems","audio description","blind","braille","closed captioning","closed captioning outline","deaf","low vision","phone volume","question circle","question circle outline","sign language","tty","universal access","wheelchair"],le=["angle double down","angle double left","angle double right","angle double up","angle down","angle left","angle right","angle up","arrow alternate circle down","arrow alternate circle down outline","arrow alternate circle left","arrow alternate circle left outline","arrow alternate circle right","arrow alternate circle right outline","arrow alternate circle up","arrow alternate circle up outline","arrow circle down","arrow circle left","arrow circle right","arrow circle up","arrow down","arrow left","arrow right","arrow up","arrows alternate","arrows alternate horizontal","arrows alternate vertical","caret down","caret left","caret right","caret square down","caret square down outline","caret square left","caret square left outline","caret square right","caret square right outline","caret square up","caret square up outline","caret up","cart arrow down","chart line","chevron circle down","chevron circle left","chevron circle right","chevron circle up","chevron down","chevron left","chevron right","chevron up","cloud download","cloud upload","download","exchange","expand arrows alternate","external alternate","external square alternate","hand point down","hand point down outline","hand point left","hand point left outline","hand point right","hand point right outline","hand point up","hand point up outline","hand pointer","hand pointer outline","history","level down alternate","level up alternate","location arrow","long arrow alternate down","long arrow alternate left","long arrow alternate right","long arrow alternate up","mouse pointer","play","random","recycle","redo","redo alternate","reply","reply all","retweet","share","share square","share square outline","sign-in","sign-out","sign-in alternate","sign-out alternate","sort","sort alphabet down","sort alphabet up","sort amount down","sort amount up","sort down","sort numeric down","sort numeric up","sort up","sync","sync alternate","text height","text width","undo","undo alternate","upload","zoom-in","zoom-out"],ue=["audio description","backward","circle","circle outline","closed captioning","closed captioning outline","compress","eject","expand","expand arrows alternate","fast backward","fast forward","file audio","file audio outline","file video","file video outline","film","forward","headphones","microphone","microphone slash","music","pause","pause circle","pause circle outline","phone volume","play","play circle","play circle outline","podcast","random","redo","redo alternate","rss","rss square","step backward","step forward","stop","stop circle","stop circle outline","sync","sync alternate","undo","undo alternate","video","volume down","volume off","volume up"],ce=["address book","address book outline","address card","address card outline","archive","balance scale","birthday cake","book","briefcase","building","building outline","bullhorn","bullseye","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","certificate","chart area","chart bar","chart bar outline","chart line","chart pie","clipboard","clipboard outline","coffee","columns","compass","compass outline","copy","copy outline","copyright","copyright outline","cut","edit","edit outline","envelope","envelope outline","envelope open","envelope open outline","envelope square","eraser","fax","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","globe","industry","paperclip","paste","pen square","pencil alternate","percent","phone","phone square","phone volume","registered","registered outline","save","save outline","sitemap","sticky note","sticky note outline","suitcase","table","tag","tags","tasks","thumbtack","trademark"],de=["chess","chess bishop","chess board","chess king","chess knight","chess pawn","chess queen","chess rook","square full"],fe=["archive","barcode","bath","bug","code","code branch","coffee","file","file outline","file alternate","file alternate outline","file code","file code outline","filter","fire extinguisher","folder","folder outline","folder open","folder open outline","keyboard","keyboard outline","microchip","qrcode","shield alternate","sitemap","terminal","user secret","window close","window close outline","window maximize","window maximize outline","window minimize","window minimize outline","window restore","window restore outline"],he=["address book","address book outline","address card","address card outline","american sign language interpreting","assistive listening systems","at","bell","bell outline","bell slash","bell slash outline","bullhorn","comment","comment outline","comment alternate","comment alternate outline","comments","comments outline","envelope","envelope outline","envelope open","envelope open outline","envelope square","fax","inbox","language","microphone","microphone slash","mobile","mobile alternate","paper plane","paper plane outline","phone","phone square","phone volume","rss","rss square","tty","wifi"],pe=["desktop","download","hdd","hdd outline","headphones","keyboard","keyboard outline","laptop","microchip","mobile","mobile alternate","plug","power off","print","save","save outline","server","tablet","tablet alternate","tv","upload"],me=["dollar sign","euro sign","lira sign","money bill alternate","money bill alternate outline","pound sign","ruble sign","rupee sign","shekel sign","won sign","yen sign"],ge=["bell","bell outline","bell slash","bell slash outline","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","clock","clock outline","hourglass","hourglass outline","hourglass end","hourglass half","hourglass start","stopwatch"],ve=["adjust","clone","clone outline","copy","copy outline","crop","crosshairs","cut","edit","edit outline","eraser","eye","eye dropper","eye slash","eye slash outline","object group","object group outline","object ungroup","object ungroup outline","paint brush","paste","pencil alternate","save","save outline","tint"],ye=["align center","align justify","align left","align right","bold","clipboard","clipboard outline","clone","clone outline","columns","copy","copy outline","cut","edit","edit outline","eraser","file","file outline","file alternate","file alternate outline","font","heading","i cursor","indent","italic","linkify","list","list alternate","list alternate outline","list ol","list ul","outdent","paper plane","paper plane outline","paperclip","paragraph","paste","pencil alternate","print","quote left","quote right","redo","redo alternate","reply","reply all","share","strikethrough","subscript","superscript","sync","sync alternate","table","tasks","text height","text width","th","th large","th list","trash","trash alternate","trash alternate outline","underline","undo","undo alternate","unlink"],be=["archive","clone","clone outline","copy","copy outline","cut","file","file outline","file alternate","file alternate outline","file archive","file archive outline","file audio","file audio outline","file code","file code outline","file excel","file excel outline","file image","file image outline","file pdf","file pdf outline","file powerpoint","file powerpoint outline","file video","file video outline","file word","file word outline","folder","folder outline","folder open","folder open outline","paste","save","save outline","sticky note","sticky note outline"],_e=["genderless","mars","mars double","mars stroke","mars stroke horizontal","mars stroke vertical","mercury","neuter","transgender","transgender alternate","venus","venus double","venus mars"],xe=["hand lizard","hand lizard outline","hand paper","hand paper outline","hand peace","hand peace outline","hand point down","hand point down outline","hand point left","hand point left outline","hand point right","hand point right outline","hand point up","hand point up outline","hand pointer","hand pointer outline","hand rock","hand rock outline","hand scissors","hand scissors outline","hand spock","hand spock outline","handshake","handshake outline","thumbs down","thumbs down outline","thumbs up","thumbs up outline"],we=["ambulance","h square","heart","heart outline","heartbeat","hospital","hospital outline","medkit","plus square","plus square outline","stethoscope","user md","wheelchair"],ke=["adjust","bolt","camera","camera retro","clone","clone outline","compress","expand","eye","eye dropper","eye slash","eye slash outline","file image","file image outline","film","id badge","id badge outline","id card","id card outline","image","image outline","images","images outline","sliders horizontal","tint"],Ee=["ban","barcode","bars","beer","bell","bell outline","bell slash","bell slash outline","bug","bullhorn","bullseye","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","certificate","check","check circle","check circle outline","check square","check square outline","circle","circle outline","clipboard","clipboard outline","clone","clone outline","cloud","cloud download","cloud upload","coffee","cog","cogs","copy","copy outline","cut","database","dot circle","dot circle outline","download","edit","edit outline","ellipsis horizontal","ellipsis vertical","envelope","envelope outline","envelope open","envelope open outline","eraser","exclamation","exclamation circle","exclamation triangle","external alternate","external square alternate","eye","eye slash","eye slash outline","file","file outline","file alternate","file alternate outline","filter","flag","flag outline","flag checkered","folder","folder outline","folder open","folder open outline","frown","frown outline","hashtag","heart","heart outline","history","home","i cursor","info","info circle","language","magic","meh","meh outline","microphone","microphone slash","minus","minus circle","minus square","minus square outline","paste","pencil alternate","plus","plus circle","plus square","plus square outline","qrcode","question","question circle","question circle outline","quote left","quote right","redo","redo alternate","reply","reply all","rss","rss square","save","save outline","search","search minus","search plus","share","share alternate","share alternate square","share square","share square outline","shield alternate","sign-in","sign-out","signal","sitemap","sliders horizontal","smile","smile outline","sort","sort alphabet down","sort alphabet up","sort amount down","sort amount up","sort down","sort numeric down","sort numeric up","sort up","star","star outline","star half","star half outline","sync","sync alternate","thumbs down","thumbs down outline","thumbs up","thumbs up outline","times","times circle","times circle outline","toggle off","toggle on","trash","trash alternate","trash alternate outline","trophy","undo","undo alternate","upload","user","user outline","user circle","user circle outline","wifi"],Te=["box","boxes","clipboard check","clipboard list","dolly","dolly flatbed","pallet","shipping fast","truck","warehouse"],Ae=["ambulance","anchor","balance scale","bath","bed","beer","bell","bell outline","bell slash","bell slash outline","bicycle","binoculars","birthday cake","blind","bomb","book","bookmark","bookmark outline","briefcase","building","building outline","car","coffee","crosshairs","dollar sign","eye","eye slash","eye slash outline","fighter jet","fire","fire extinguisher","flag","flag outline","flag checkered","flask","gamepad","gavel","gift","glass martini","globe","graduation cap","h square","heart","heart outline","heartbeat","home","hospital","hospital outline","image","image outline","images","images outline","industry","info","info circle","key","leaf","lemon","lemon outline","life ring","life ring outline","lightbulb","lightbulb outline","location arrow","low vision","magnet","male","map","map outline","map marker","map marker alternate","map pin","map signs","medkit","money bill alternate","money bill alternate outline","motorcycle","music","newspaper","newspaper outline","paw","phone","phone square","phone volume","plane","plug","plus","plus square","plus square outline","print","recycle","road","rocket","search","search minus","search plus","ship","shopping bag","shopping basket","shopping cart","shower","street view","subway","suitcase","tag","tags","taxi","thumbtack","ticket alternate","tint","train","tree","trophy","truck","tty","umbrella","university","utensil spoon","utensils","wheelchair","wifi","wrench"],Se=["ambulance","band aid","dna","first aid","heart","heart outline","heartbeat","hospital","hospital outline","hospital symbol","pills","plus","stethoscope","syringe","thermometer","user md","weight"],Me=["ambulance","anchor","archive","balance scale","bath","bed","beer","bell","bell outline","bicycle","binoculars","birthday cake","bomb","book","bookmark","bookmark outline","briefcase","bug","building","building outline","bullhorn","bullseye","bus","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","camera","camera retro","car","clipboard","clipboard outline","cloud","coffee","cog","cogs","compass","compass outline","copy","copy outline","cube","cubes","cut","envelope","envelope outline","envelope open","envelope open outline","eraser","eye","eye dropper","fax","fighter jet","file","file outline","file alternate","file alternate outline","film","fire","fire extinguisher","flag","flag outline","flag checkered","flask","futbol","futbol outline","gamepad","gavel","gem","gem outline","gift","glass martini","globe","graduation cap","hdd","hdd outline","headphones","heart","heart outline","home","hospital","hospital outline","hourglass","hourglass outline","image","image outline","images","images outline","industry","key","keyboard","keyboard outline","laptop","leaf","lemon","lemon outline","life ring","life ring outline","lightbulb","lightbulb outline","lock","lock open","magic","magnet","map","map outline","map marker","map marker alternate","map pin","map signs","medkit","microchip","microphone","mobile","mobile alternate","money bill alternate","money bill alternate outline","moon","moon outline","motorcycle","newspaper","newspaper outline","paint brush","paper plane","paper plane outline","paperclip","paste","paw","pencil alternate","phone","plane","plug","print","puzzle piece","road","rocket","save","save outline","search","shield alternate","shopping bag","shopping basket","shopping cart","shower","snowflake","snowflake outline","space shuttle","star","star outline","sticky note","sticky note outline","stopwatch","subway","suitcase","sun","sun outline","tablet","tablet alternate","tachometer alternate","tag","tags","taxi","thumbtack","ticket alternate","train","trash","trash alternate","trash alternate outline","tree","trophy","truck","tv","umbrella","university","unlock","unlock alternate","utensil spoon","utensils","wheelchair","wrench"],Ce=["bell","bell outline","bookmark","bookmark outline","bullhorn","camera","camera retro","cart arrow down","cart plus","certificate","credit card","credit card outline","gem","gem outline","gift","handshake","handshake outline","heart","heart outline","key","shopping bag","shopping basket","shopping cart","star","star outline","tag","tags","thumbs down","thumbs down outline","thumbs up","thumbs up outline","trophy"],je=["bookmark","bookmark outline","calendar","calendar outline","certificate","circle","circle outline","cloud","comment","comment outline","file","file outline","folder","folder outline","heart","heart outline","map marker","play","square","square outline","star","star outline"],Oe=["asterisk","certificate","circle notch","cog","compass","compass outline","crosshairs","life ring","life ring outline","snowflake","snowflake outline","spinner","sun","sun outline","sync"],Ne=["baseball ball","basketball ball","bowling ball","football ball","futbol","futbol outline","golf ball","hockey puck","quidditch","table tennis","volleyball ball"],Re=["ban","battery empty","battery full","battery half","battery quarter","battery three quarters","bell","bell outline","bell slash","bell slash outline","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","cart arrow down","cart plus","exclamation","exclamation circle","exclamation triangle","eye","eye slash","eye slash outline","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","info","info circle","lock","lock open","minus","minus circle","minus square","minus square outline","plus","plus circle","plus square","plus square outline","question","question circle","question circle outline","shield alternate","shopping cart","sign in alternate","sign out alternate","thermometer empty","thermometer full","thermometer half","thermometer quarter","thermometer three quarters","thumbs down","thumbs down outline","thumbs up","thumbs up outline","toggle off","toggle on","unlock","unlock alternate"],Pe=["address book","address book outline","address card","address card outline","bed","blind","child","female","frown","frown outline","id badge","id badge outline","id card","id card outline","male","meh","meh outline","power off","smile","smile outline","street view","user","user outline","user circle","user circle outline","user md","user plus","user secret","user times","users","wheelchair"],Ie=["ambulance","bicycle","bus","car","fighter jet","motorcycle","paper plane","paper plane outline","plane","rocket","ship","shopping cart","space shuttle","subway","taxi","train","truck","wheelchair"],De=["archive","book","bookmark","bookmark outline","edit","edit outline","envelope","envelope outline","envelope open","envelope open outline","eraser","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","keyboard","keyboard outline","newspaper","newspaper outline","paper plane","paper plane outline","paperclip","paragraph","pen square","pencil alternate","quote left","quote right","sticky note","sticky note outline","thumbtack"],Le=["500px","accessible","accusoft","adn","adversal","affiliatetheme","algolia","amazon","amazon pay","amilia","android","angellist","angrycreative","angular","app store","app store ios","apper","apple","apple pay","asymmetrik","audible","autoprefixer","avianex","aviato","aws","bandcamp","behance","behance square","bimobject","bitbucket","bitcoin","bity","black tie","blackberry","blogger","blogger b","bluetooth","bluetooth b","btc","buromobelexperte","buysellads","cc amazon pay","cc amex","cc apple pay","cc diners club","cc discover","cc jcb","cc mastercard","cc paypal","cc stripe","cc visa","centercode","chrome","cloudscale","cloudsmith","cloudversify","codepen","codiepie","connectdevelop","contao","cpanel","creative commons","css3","css3 alternate","cuttlefish","d and d","dashcube","delicious","deploydog","deskpro","deviantart","digg","digital ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble square","dropbox","drupal","dyalog","earlybirds","edge","elementor","ember","empire","envira","erlang","ethereum","etsy","expeditedssl","facebook","facebook f","facebook messenger","facebook square","firefox","first order","firstdraft","flickr","flipboard","fly","font awesome","font awesome alternate","font awesome flag","fonticons","fonticons fi","fort awesome","fort awesome alternate","forumbee","foursquare","free code camp","freebsd","get pocket","gg","gg circle","git","git square","github","github alternate","github square","gitkraken","gitlab","gitter","glide","glide g","gofore","goodreads","goodreads g","google","google drive","google play","google plus","google plus g","google plus square","google wallet","gratipay","grav","gripfire","grunt","gulp","hacker news","hacker news square","hips","hire a helper","hooli","hotjar","houzz","html5","hubspot","imdb","instagram","internet explorer","ioxhost","itunes","itunes note","jenkins","joget","joomla","js","js square","jsfiddle","keycdn","kickstarter","kickstarter k","korvue","laravel","lastfm","lastfm square","leanpub","less","linechat","linkedin","linkedin alternate","linode","linux","lyft","magento","maxcdn","medapps","medium","medium m","medrt","meetup","microsoft","mix","mixcloud","mizuni","modx","monero","napster","nintendo switch","node","node js","npm","ns8","nutritionix","odnoklassniki","odnoklassniki square","opencart","openid","opera","optin monster","osi","page4","pagelines","palfed","patreon","paypal","periscope","phabricator","phoenix framework","php","pied piper","pied piper alternate","pied piper pp","pinterest","pinterest p","pinterest square","playstation","product hunt","pushed","python","qq","quinscape","quora","ravelry","react","rebel","redriver","reddit","reddit alien","reddit square","rendact","renren","replyd","resolving","rocketchat","rockrms","safari","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","simplybuilt","sistrix","skyatlas","skype","slack","slack hash","slideshare","snapchat","snapchat ghost","snapchat square","soundcloud","speakap","spotify","stack exchange","stack overflow","staylinked","steam","steam square","steam symbol","sticker mule","strava","stripe","stripe s","studiovinari","stumbleupon","stumbleupon circle","superpowers","supple","telegram","telegram plane","tencent weibo","themeisle","trello","tripadvisor","tumblr","tumblr square","twitch","twitter","twitter square","typo3","uber","uikit","uniregistry","untappd","usb","ussunnah","vaadin","viacoin","viadeo","viadeo square","viber","vimeo","vimeo square","vimeo v","vine","vk","vnv","vuejs","wechat","weibo","weixin","whatsapp","whatsapp square","whmcs","wikipedia w","windows","wordpress","wordpress simple","wpbeginner","wpexplorer","wpforms","xbox","xing","xing square","y combinator","yahoo","yandex","yandex international","yelp","yoast","youtube","youtube square"],Be=q()(se.concat(le,ue,ce,de,fe,he,pe,me,ge,ve,ye,be,_e,xe,we,ke,Ee,Te,Ae,Se,Me,Ce,je,Oe,Ne,Re,Pe,Ie,De,Le)),Fe=["chess rock","ordered list","unordered list","user doctor","shield","puzzle","add circle","add square","add to calendar","add to cart","add user","add","alarm mute","alarm","ald","als","announcement","area chart","area graph","arrow down cart","asexual","asl interpreting","asl","assistive listening devices","attach","attention","balance","bar","bathtub","battery four","battery high","battery low","battery one","battery three","battery two","battery zero","birthday","block layout","bluetooth alternative","broken chain","browser","call square","call","cancel","cart","cc","chain","chat","checked calendar","checkmark","circle notched","close","cny","cocktail","commenting","computer","configure","content","deafness","delete calendar","delete","detective","discussions","doctor","dollar","dont","drivers license","dropdown","emergency","envira gallery","erase","eur","euro","eyedropper","factory","favorite","feed","female homosexual","file text","file text outline","find","first aid","fork","game","gay","gbp","google plus circle","google plus official","grab","graduation","grid layout","group","h","hand victory","handicap","hard of hearing","header","help circle","help","heterosexual","hide","hotel","hourglass four","hourglass full","hourglass one","hourglass three","hourglass two","idea","ils","in cart","inr","intergender","intersex","jpy","krw","lab","law","legal","lesbian","lightning","like","line graph","linkedin square","linkify","lira","list layout","magnify","mail forward","mail square","mail","male homosexual","man","marker","mars alternate","mars horizontal","mars vertical","microsoft edge","military","ms edge","mute","new pied piper","non binary transgender","numbered list","options","other gender horizontal","other gender vertical","other gender","payment","paypal card","pencil square","photo","picture","pie chart","pie graph","pied piper hat","pin","plus cart","point","pointing down","pointing left","pointing right","pointing up","pound","power cord","power","privacy","r circle","rain","record","refresh","remove circle","remove from calendar","remove user","remove","repeat","rmb","rouble","rub","ruble","rupee","s15","selected radio","send","setting","settings","shekel","sheqel","shipping","shop","shuffle","shutdown","sidebar","signing","signup","sliders","soccer","sort alphabet ascending","sort alphabet descending","sort ascending","sort content ascending","sort content descending","sort descending","sort numeric ascending","sort numeric descending","sound","spy","stripe card","student","talk","target","teletype","television","text cursor","text telephone","theme","thermometer","thumb tack","time","tm","toggle down","toggle left","toggle right","toggle up","translate","travel","treatment","triangle down","triangle left","triangle right","triangle up","try","unhide","unlinkify","unmute","usd","user cancel","user close","user delete","user x","vcard","video camera","video play","volume control phone","wait","warning circle","warning sign","warning","wi-fi","winner","wizard","woman","won","wordpress beginner","wordpress forms","world","write square","x","yen","zip","zoom in","zoom out","zoom","bitbucket square","checkmark box","circle thin","cloud download","cloud upload","compose","conversation","credit card alternative","currency","dashboard","diamond","disk","exchange","external share","external square","external","facebook official","food","hourglass zero","level down","level up","log out","meanpath","money","move","pencil","protect","radio","remove bookmark","resize horizontal","resize vertical","sign in","sign out","spoon","star half empty","star half full","ticket","times rectangle","write","youtube play"],ze=q()(C()(Be).concat(Fe)),Ue=["left dropdown"],qe=q()(C()(ze).concat(Ue)),Ve=function(e,t){return e&&t},He=function(e,t){return e&&!0!==e&&"".concat(e," ").concat(t)},We=function(e,t){return e&&(!0===e?t:"".concat(e," ").concat(t))},Ge=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(e){return"".concat(e.replace("-"," ")," ").concat(t)}).join(" "):null},Xe=function(e){return"justified"===e?"justified":He(e,"aligned")},Ke=function(e){return He(e,"aligned")},Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&"equal"===e)return"equal width";var n=K()(e);return"string"!==n&&"number"!==n||!t?$(e):"".concat($(e)," ").concat(t)};var $e=function(e,t,n){var r=e.defaultProps,o=void 0===r?{}:r;if(t.as&&t.as!==o.as)return t.as;if(n){var i=n();if(i)return i}return t.href?"a":o.as||"div"},Ze=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),Qe=n.n(Ze),Je=n("./node_modules/lodash/isArray.js"),et=n.n(Je),tt=n("./node_modules/lodash/isPlainObject.js"),nt=n.n(tt),rt=n("./node_modules/lodash/isFunction.js"),ot=n.n(rt),it=n("./node_modules/lodash/isNumber.js"),at=n.n(it),st=n("./node_modules/lodash/isString.js"),lt=n.n(st),ut=n("./node_modules/lodash/isBoolean.js"),ct=n.n(ut);function dt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!=typeof e&&"string"!=typeof e)throw new Error("createShorthand() Component must be a string or function.");if(O()(n)||ct()(n))return null;var o=lt()(n),i=at()(n),a=ot()(n),s=Object(T.isValidElement)(n),l=nt()(n),u=o||i||et()(n);if(!(a||s||l||u))return null;var c=r.defaultProps,d=void 0===c?{}:c,f=s&&n.props||l&&n||u&&t(n),h=r.overrideProps,p=void 0===h?{}:h;p=ot()(p)?p(Qe()({},d,f)):p;var m=Qe()({},d,f,p);if(d.className||p.className||f.className){var g=R()(d.className,p.className,f.className);m.className=q()(g.split(" ")).join(" ")}if((d.style||p.style||f.style)&&(m.style=Qe()({},d.style,f.style,p.style)),O()(m.key)){var v=m.childKey,y=r.autoGenerateKey,b=void 0===y||y;O()(v)?b&&(o||i)&&(m.key=n):(m.key="function"==typeof v?v(m):v,delete m.childKey)}return s?Object(T.cloneElement)(n,m):u||l?A.a.createElement(e,m):a?n(e,m,m.children):void 0}function ft(e,t){if("function"!=typeof e&&"string"!=typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return dt(e,t,n,r)}}dt.handledProps=[];var ht=ft("div",function(e){return{children:e}}),pt=ft("iframe",function(e){return{src:e}}),mt=ft("img",function(e){return{src:e}}),gt=ft("input",function(e){return{type:e}}),vt=ft("label",function(e){return{children:e}}),yt=ft("p",function(e){return{children:e}}),bt=n("./node_modules/lodash/without.js"),_t=n.n(bt);function xt(e){var t=e.children,n=e.className,o=e.content,i=e.size,s=R()(i,"icons",n),l=S(xt,e),u=$e(xt,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}xt.handledProps=["as","children","className","content","size"],xt.propTypes={},xt.defaultProps={as:"i"};var wt=xt,kt=function(e){function t(){return l()(this,t),f()(this,p()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"getIconAriaOptions",value:function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return O()(n)?e["aria-hidden"]="true":e["aria-label"]=n,O()(r)||(e["aria-hidden"]=r),e}},{key:"render",value:function(){var e=this.props,n=e.bordered,r=e.circular,o=e.className,i=e.color,s=e.corner,l=e.disabled,u=e.fitted,c=e.flipped,d=e.inverted,f=e.link,h=e.loading,p=e.name,m=e.rotated,g=e.size,v=R()(i,p,g,Ve(n,"bordered"),Ve(r,"circular"),Ve(s,"corner"),Ve(l,"disabled"),Ve(u,"fitted"),Ve(d,"inverted"),Ve(f,"link"),Ve(h,"loading"),He(c,"flipped"),He(m,"rotated"),"icon",o),y=S(t,this.props),b=$e(t,this.props),_=this.getIconAriaOptions();return A.a.createElement(b,a()({},y,_,{className:v}))}}]),t}(T.PureComponent);_()(kt,"defaultProps",{as:"i"}),_()(kt,"Group",wt),_()(kt,"handledProps",["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"]),kt.propTypes={},kt.create=ft(kt,function(e){return{name:e}});var Et=kt,Tt=n("./node_modules/lodash/isUndefined.js"),At=n.n(Tt),St=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Mt=n.n(St),Ct=n("./node_modules/lodash/includes.js"),jt=n.n(Ct),Ot=n("./node_modules/lodash/forEach.js"),Nt=n.n(Ot),Rt=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Pt=Rt.concat(["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),It=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.htmlProps,r=void 0===n?Pt:n,o=t.includeAria,i=void 0===o||o,a={},s={};return Nt()(e,function(e,t){var n=i&&(/^aria-.*$/.test(t)||"role"===t);(jt()(r,t)||n?a:s)[t]=e}),[a,s]},Dt="object"===("undefined"==typeof document?"undefined":K()(document))&&null!==document,Lt="object"===("undefined"==typeof window?"undefined":K()(window))&&null!==window&&window.self===window,Bt=function e(){return O()(e.override)?Dt&&Lt:e.override},Ft=n("./node_modules/keyboard-key/src/keyboardKey.js"),zt=n.n(Ft),Ut=n("./node_modules/lodash/inRange.js"),qt=n.n(Ut),Vt=n("./node_modules/lodash/first.js"),Ht=n.n(Vt),Wt=function(e,t){if(L()([t,e],O.a))return!1;if(t.target&&(E()(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return E()(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(L()([n,r],O.a))return!1;var o=e.getClientRects();if(!(e.offsetWidth&&e.offsetHeight&&o&&o.length))return!1;var i=Ht()(o),a=i.top,s=i.bottom,l=i.left,u=i.right;return!L()([a,s,l,u],O.a)&&qt()(r,a,s+.001)&&qt()(n,l,u+.001)},Gt=n("./node_modules/@semantic-ui-react/event-stack/lib/index.js"),Xt=n.n(Gt),Kt=Gt.instance,Yt=n("./node_modules/lodash/difference.js"),$t=n.n(Yt),Zt=(n("./node_modules/lodash/startsWith.js"),n("./node_modules/lodash/filter.js")),Qt=n.n(Zt),Jt=n("./node_modules/lodash/isEmpty.js"),en=n.n(Jt),tn=(n("./node_modules/lodash/intersection.js"),n("./node_modules/lodash/each.js")),nn=n.n(tn),rn=function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t[e];if(void 0!==i)return i;if(o){var a=t[(r=e,"default".concat(r[0].toUpperCase()+r.slice(1)))];if(void 0!==a)return a;if(n){var s=n[e];if(void 0!==s)return s}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)},on=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"trySetState",function(e,t){var r=n.constructor.autoControlledProps,o=Object.keys(e).reduce(function(t,o){return void 0!==n.props[o]?t:-1===r.indexOf(o)?t:(t[o]=e[o],t)},{});t&&(o=Qe()({},o,t)),Object.keys(o).length>0&&n.setState(o)});var a=n.constructor.autoControlledProps,s=E()(y()(y()(n)),"getInitialAutoControlledState",n.props)||{},u=a.reduce(function(e,t){return e[t]=rn(t,n.props,s,!0),e},{});return n.state=Qe()({},s,u),n}return g()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.constructor.autoControlledProps.reduce(function(n,r){var o=At()(e[r]),i=!At()(t.props[r])&&o;return o?i&&(n[r]=rn(r,e)):n[r]=e[r],n},{});Object.keys(n).length>0&&this.setState(n)}}]),t}(T.Component),an=n("./node_modules/react-dom/index.js"),sn=function(e){function t(){return l()(this,t),f()(this,p()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.innerRef;e&&e(Object(an.findDOMNode)(this))}},{key:"render",value:function(){var e=this.props.children;return T.Children.only(e)}}]),t}(T.Component);_()(sn,"handledProps",["children","innerRef"]),sn.propTypes={};var ln=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){E()(this.props,"onMount",null,Qe()({},this.props,{node:this.ref}))}},{key:"componentWillUnmount",value:function(){E()(this.props,"onUnmount",null,Qe()({},this.props,{node:this.ref}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?Bt()?document.body:null:n;return Object(an.createPortal)(A.a.createElement(sn,{innerRef:this.handleRef},t),r)}}]),t}(T.Component);_()(ln,"handledProps",["children","mountNode","onMount","onUnmount"]),ln.propTypes={};var un=ln,cn=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleDocumentClick",function(e){var t=n.props.closeOnDocumentClick;!n.portalNode||Wt(n.triggerNode,e)||Wt(n.portalNode,e)||t&&n.close(e)}),_()(y()(y()(n)),"handleEscape",function(e){n.props.closeOnEscape&&zt.a.getCode(e)===zt.a.Escape&&n.close(e)}),_()(y()(y()(n)),"handlePortalMouseLeave",function(e){var t=n.props,r=t.closeOnPortalMouseLeave,o=t.mouseLeaveDelay;r&&(n.mouseLeaveTimer=n.closeWithTimeout(e,o))}),_()(y()(y()(n)),"handlePortalMouseEnter",function(){n.props.closeOnPortalMouseLeave&&clearTimeout(n.mouseLeaveTimer)}),_()(y()(y()(n)),"handleTriggerBlur",function(e){for(var t=n.props,r=t.trigger,o=t.closeOnTriggerBlur,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];E.a.apply(void 0,[r,"props.onBlur",e].concat(a));var l=E()(y()(y()(n)),"portalNode.contains",e.relatedTarget);o&&!l&&n.close(e)}),_()(y()(y()(n)),"handleTriggerClick",function(e){for(var t=n.props,r=t.trigger,o=t.closeOnTriggerClick,i=t.openOnTriggerClick,a=n.state.open,s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];E.a.apply(void 0,[r,"props.onClick",e].concat(l)),a&&o?n.close(e):!a&&i&&n.open(e)}),_()(y()(y()(n)),"handleTriggerFocus",function(e){for(var t=n.props,r=t.trigger,o=t.openOnTriggerFocus,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];E.a.apply(void 0,[r,"props.onFocus",e].concat(a)),o&&n.open(e)}),_()(y()(y()(n)),"handleTriggerMouseLeave",function(e){clearTimeout(n.mouseEnterTimer);for(var t=n.props,r=t.trigger,o=t.closeOnTriggerMouseLeave,i=t.mouseLeaveDelay,a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];E.a.apply(void 0,[r,"props.onMouseLeave",e].concat(s)),o&&(n.mouseLeaveTimer=n.closeWithTimeout(e,i))}),_()(y()(y()(n)),"handleTriggerMouseEnter",function(e){clearTimeout(n.mouseLeaveTimer);for(var t=n.props,r=t.trigger,o=t.mouseEnterDelay,i=t.openOnTriggerMouseEnter,a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];E.a.apply(void 0,[r,"props.onMouseEnter",e].concat(s)),i&&(n.mouseEnterTimer=n.openWithTimeout(e,o))}),_()(y()(y()(n)),"open",function(e){var t=n.props.onOpen;t&&t(e,n.props),n.trySetState({open:!0})}),_()(y()(y()(n)),"openWithTimeout",function(e,t){var r=Qe()({},e);return setTimeout(function(){return n.open(r)},t||0)}),_()(y()(y()(n)),"close",function(e){var t=n.props.onClose;t&&t(e,n.props),n.trySetState({open:!1})}),_()(y()(y()(n)),"closeWithTimeout",function(e,t){var r=Qe()({},e);return setTimeout(function(){return n.close(r)},t||0)}),_()(y()(y()(n)),"handleMount",function(e,t){var r=t.node,o=n.props.eventPool;n.portalNode=r,Kt.sub("mouseleave",n.handlePortalMouseLeave,{pool:o,target:r}),Kt.sub("mouseenter",n.handlePortalMouseEnter,{pool:o,target:r}),Kt.sub("click",n.handleDocumentClick,{pool:o}),Kt.sub("keydown",n.handleEscape,{pool:o}),E()(n.props,"onMount",null,n.props)}),_()(y()(y()(n)),"handleUnmount",function(e,t){var r=t.node,o=n.props.eventPool;n.portalNode=null,Kt.unsub("mouseleave",n.handlePortalMouseLeave,{pool:o,target:r}),Kt.unsub("mouseenter",n.handlePortalMouseEnter,{pool:o,target:r}),Kt.unsub("click",n.handleDocumentClick,{pool:o}),Kt.unsub("keydown",n.handleEscape,{pool:o}),E()(n.props,"onUnmount",null,n.props)}),_()(y()(y()(n)),"handleTriggerRef",function(e){n.triggerNode=e,E()(n.props,"triggerRef",e)}),n}return g()(t,e),c()(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.mountNode,r=e.trigger;return[this.state.open?A.a.createElement(un,{key:"inner",mountNode:n,onMount:this.handleMount,onUnmount:this.handleUnmount},t):null,r?A.a.createElement(sn,{innerRef:this.handleTriggerRef,key:"trigger"},Object(T.cloneElement)(r,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})):null]}}]),t}(on);_()(cn,"defaultProps",{closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0}),_()(cn,"autoControlledProps",["open"]),_()(cn,"Inner",un),_()(cn,"handledProps",["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"]),cn.propTypes={};var dn=cn;function fn(e){var t=e.blurring,n=e.className,o=e.children,i=e.content,s=e.dimmed,l=R()(Ve(t,"blurring"),Ve(s,"dimmed"),"dimmable",n),u=S(fn,e),c=$e(fn,e);return A.a.createElement(c,a()({},u,{className:l}),r.isNil(o)?i:o)}fn.handledProps=["as","blurring","children","className","content","dimmed"],fn.propTypes={};var hn=fn,pn=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){E()(n.props,"onClick",e,n.props),n.contentRef&&n.contentRef!==e.target&&Wt(n.contentRef,e)||E()(n.props,"onClickOutside",e,n.props)}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"handleContentRef",function(e){return n.contentRef=e}),n}return g()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.active;this.props.active!==t&&this.toggleStyles(t)}},{key:"componentDidMount",value:function(){var e=this.props.active;this.toggleStyles(e)}},{key:"toggleStyles",value:function(e){this.ref&&(e?this.ref.style.setProperty("display","flex","important"):this.ref.style.removeProperty("display"))}},{key:"render",value:function(){var e=this.props,n=e.active,o=e.children,i=e.className,s=e.content,l=e.disabled,u=e.inverted,c=e.page,d=e.simple,f=e.verticalAlign,h=R()("ui",Ve(n,"active transition visible"),Ve(l,"disabled"),Ve(u,"inverted"),Ve(c,"page"),Ve(d,"simple"),Ke(f),"dimmer",i),p=S(t,this.props),m=$e(t,this.props),g=r.isNil(o)?s:o;return A.a.createElement(m,a()({},p,{className:h,onClick:this.handleClick,ref:this.handleRef}),g&&A.a.createElement("div",{className:"content",ref:this.handleContentRef},g))}}]),t}(T.Component);_()(pn,"handledProps",["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"]),pn.propTypes={};var mn=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handlePortalMount",function(){Bt()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))}),_()(y()(y()(n)),"handlePortalUnmount",function(){Bt()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.page,o=S(t,this.props);return r?A.a.createElement(dn,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},A.a.createElement(pn,a()({},o,{active:n,page:r}))):A.a.createElement(pn,a()({},o,{active:n,page:r}))}}]),t}(T.Component);function gn(e){var t=e.children,n=e.className,o=e.content,i=e.size,s=R()("ui",i,n,"images"),l=S(gn,e),u=$e(gn,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}_()(mn,"Dimmable",hn),_()(mn,"Inner",pn),_()(mn,"handledProps",["active","page"]),mn.propTypes={},mn.create=ft(mn,function(e){return{content:e}}),gn.handledProps=["as","children","className","content","size"],gn.propTypes={};var vn=gn,yn=["alt","height","src","srcSet","width"];function bn(e){var t=e.avatar,n=e.bordered,o=e.centered,i=e.children,s=e.circular,l=e.className,u=e.content,c=e.dimmer,d=e.disabled,f=e.floated,h=e.fluid,p=e.hidden,m=e.href,g=e.inline,v=e.label,y=e.rounded,b=e.size,_=e.spaced,x=e.verticalAlign,w=e.wrapped,k=e.ui,E=R()(Ve(k,"ui"),b,Ve(t,"avatar"),Ve(n,"bordered"),Ve(s,"circular"),Ve(o,"centered"),Ve(d,"disabled"),Ve(h,"fluid"),Ve(p,"hidden"),Ve(g,"inline"),Ve(y,"rounded"),We(_,"spaced"),He(f,"floated"),Ke(x,"aligned"),"image",l),T=S(bn,e),M=It(T,{htmlProps:yn}),C=Mt()(M,2),j=C[0],N=C[1],P=$e(bn,e,function(){if(!(O()(c)&&O()(v)&&O()(w)&&r.isNil(i)))return"div"});return r.isNil(i)?r.isNil(u)?"img"===P?A.a.createElement(P,a()({},N,j,{className:E})):A.a.createElement(P,a()({},N,{className:E,href:m}),mn.create(c,{autoGenerateKey:!1}),Tn.create(v,{autoGenerateKey:!1}),A.a.createElement("img",j)):A.a.createElement(P,a()({},T,{className:E}),u):A.a.createElement(P,a()({},T,{className:E}),i)}bn.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],bn.Group=vn,bn.propTypes={},bn.defaultProps={as:"img",ui:!0},bn.create=ft(bn,function(e){return{src:e}});var _n=bn;function xn(e){var t=e.children,n=e.className,o=e.content,i=R()("detail",n),s=S(xn,e),l=$e(xn,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}xn.handledProps=["as","children","className","content"],xn.propTypes={},xn.create=ft(xn,function(e){return{content:e}});var wn=xn;function kn(e){var t=e.children,n=e.circular,o=e.className,i=e.color,s=e.content,l=e.size,u=e.tag,c=R()("ui",i,l,Ve(n,"circular"),Ve(u,"tag"),"labels",o),d=S(kn,e),f=$e(kn,e);return A.a.createElement(f,a()({},d,{className:c}),r.isNil(t)?s:t)}kn.handledProps=["as","children","circular","className","color","content","size","tag"],kn.propTypes={};var En=kn,Tn=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick;t&&t(e,n.props)}),_()(y()(y()(n)),"handleIconOverrides",function(e){return{onClick:function(t){E()(e,"onClick",t),E()(n.props,"onRemove",t,n.props)}}}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,o=e.attached,i=e.basic,s=e.children,l=e.circular,u=e.className,c=e.color,d=e.content,f=e.corner,h=e.detail,p=e.empty,m=e.floating,g=e.horizontal,v=e.icon,y=e.image,b=e.onRemove,_=e.pointing,x=e.removeIcon,w=e.ribbon,k=e.size,E=e.tag,T=(!0===_?"pointing":("left"===_||"right"===_)&&"".concat(_," pointing"))||("above"===_||"below"===_)&&"pointing ".concat(_),M=R()("ui",c,T,k,Ve(n,"active"),Ve(i,"basic"),Ve(l,"circular"),Ve(p,"empty"),Ve(m,"floating"),Ve(g,"horizontal"),Ve(!0===y,"image"),Ve(E,"tag"),We(f,"corner"),We(w,"ribbon"),He(o,"attached"),"label",u),C=S(t,this.props),j=$e(t,this.props);if(!r.isNil(s))return A.a.createElement(j,a()({},C,{className:M,onClick:this.handleClick}),s);var O=At()(x)?"delete":x;return A.a.createElement(j,a()({className:M,onClick:this.handleClick},C),Et.create(v,{autoGenerateKey:!1}),"boolean"!=typeof y&&_n.create(y,{autoGenerateKey:!1}),d,wn.create(h,{autoGenerateKey:!1}),b&&Et.create(O,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))}}]),t}(T.Component);function An(e){var t=e.children,n=e.className,o=e.content,i=e.hidden,s=e.visible,l=R()(Ve(s,"visible"),Ve(i,"hidden"),"content",n),u=S(An,e),c=$e(An,e);return A.a.createElement(c,a()({},u,{className:l}),r.isNil(t)?o:t)}_()(Tn,"Detail",wn),_()(Tn,"Group",En),_()(Tn,"handledProps",["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","removeIcon","ribbon","size","tag"]),Tn.propTypes={},Tn.create=ft(Tn,function(e){return{content:e}}),An.handledProps=["as","children","className","content","hidden","visible"],An.propTypes={};var Sn=An,Mn=n("./node_modules/lodash/map.js"),Cn=n.n(Mn);function jn(e){var t=e.attached,n=e.basic,o=e.buttons,i=e.children,s=e.className,l=e.color,u=e.compact,c=e.content,d=e.floated,f=e.fluid,h=e.icon,p=e.inverted,m=e.labeled,g=e.negative,v=e.positive,y=e.primary,b=e.secondary,_=e.size,x=e.toggle,w=e.vertical,k=e.widths,E=R()("ui",l,_,Ve(n,"basic"),Ve(u,"compact"),Ve(f,"fluid"),Ve(h,"icon"),Ve(p,"inverted"),Ve(m,"labeled"),Ve(g,"negative"),Ve(v,"positive"),Ve(y,"primary"),Ve(b,"secondary"),Ve(x,"toggle"),Ve(w,"vertical"),We(t,"attached"),He(d,"floated"),Ye(k),"buttons",s),T=S(jn,e),M=$e(jn,e);return O()(o)?A.a.createElement(M,a()({},T,{className:E}),r.isNil(i)?c:i):A.a.createElement(M,a()({},T,{className:E}),Cn()(o,function(e){return In.create(e)}))}jn.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],jn.propTypes={};var On=jn;function Nn(e){var t=e.className,n=e.text,r=R()("or",t),o=S(Nn,e),i=$e(Nn,e);return A.a.createElement(i,a()({},o,{className:r,"data-text":n}))}Nn.handledProps=["as","className","text"],Nn.propTypes={};var Rn=Nn,Pn=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(i))),_()(y()(y()(n)),"computeElementType",function(){var e=n.props,t=e.attached,r=e.label;if(!O()(t)||!O()(r))return"div"}),_()(y()(y()(n)),"computeTabIndex",function(e){var t=n.props,r=t.disabled,o=t.tabIndex;return O()(o)?r?-1:"div"===e?0:void 0:o}),_()(y()(y()(n)),"focus",function(){return E()(n.ref,"focus")}),_()(y()(y()(n)),"handleClick",function(e){n.props.disabled?e.preventDefault():E()(n.props,"onClick",e,n.props)}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"hasIconClass",function(){var e=n.props,t=e.labelPosition,o=e.children,i=e.content,a=e.icon;return!0===a||a&&(t||r.isNil(o)&&O()(i))}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,o=e.animated,i=e.attached,s=e.basic,l=e.children,u=e.circular,c=e.className,d=e.color,f=e.compact,h=e.content,p=e.disabled,m=e.floated,g=e.fluid,v=e.icon,y=e.inverted,b=e.label,_=e.labelPosition,x=e.loading,w=e.negative,k=e.positive,E=e.primary,T=e.secondary,M=e.role,C=e.size,j=e.toggle,N=R()(d,C,Ve(n,"active"),Ve(s,"basic"),Ve(u,"circular"),Ve(f,"compact"),Ve(g,"fluid"),Ve(this.hasIconClass(),"icon"),Ve(y,"inverted"),Ve(x,"loading"),Ve(w,"negative"),Ve(k,"positive"),Ve(E,"primary"),Ve(T,"secondary"),Ve(j,"toggle"),We(o,"animated"),We(i,"attached")),P=R()(We(_||!!b,"labeled")),I=R()(Ve(p,"disabled"),He(m,"floated")),D=S(t,this.props),L=$e(t,this.props,this.computeElementType),B=this.computeTabIndex(L);if(!O()(b)){var F=R()("ui",N,"button",c),z=R()("ui",P,"button",c,I),U=Tn.create(b,{defaultProps:{basic:!0,pointing:"left"===_?"right":"left"},autoGenerateKey:!1});return A.a.createElement(L,a()({},D,{className:z,onClick:this.handleClick}),"left"===_&&U,A.a.createElement("button",{className:F,disabled:p,ref:this.handleRef,tabIndex:B},Et.create(v,{autoGenerateKey:!1})," ",h),("right"===_||!_)&&U)}var q=R()("ui",N,I,P,"button",c),V=!r.isNil(l);return A.a.createElement(L,a()({},D,{className:q,disabled:p&&"button"===L||void 0,onClick:this.handleClick,ref:this.handleRef,role:M,tabIndex:B}),V&&l,!V&&Et.create(v,{autoGenerateKey:!1}),!V&&h)}}]),t}(T.Component);_()(Pn,"defaultProps",{as:"button",role:"button"}),_()(Pn,"Content",Sn),_()(Pn,"Group",On),_()(Pn,"Or",Rn),_()(Pn,"handledProps",["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"]),Pn.propTypes={},Pn.create=ft(Pn,function(e){return{content:e}});var In=Pn,Dn=n("./node_modules/lodash/pick.js"),Ln=n.n(Dn),Bn=n("./node_modules/lodash/reduce.js"),Fn=n.n(Bn),zn=function(e){var t=e.node;if(Bt())return O()(t)?document.body:t},Un=n("./node_modules/lodash/fp/uniq.js"),qn=n.n(Un),Vn=n("./node_modules/lodash/fp/identity.js"),Hn=n.n(Vn),Wn=n("./node_modules/lodash/fp/filter.js"),Gn=n.n(Wn),Xn=n("./node_modules/lodash/fp/split.js"),Kn=n.n(Xn),Yn=n("./node_modules/lodash/fp/flatMap.js"),$n=n.n(Yn),Zn=n("./node_modules/lodash/fp/map.js"),Qn=n.n(Zn),Jn=n("./node_modules/lodash/fp/toArray.js"),er=n.n(Jn),tr=n("./node_modules/lodash/fp/flow.js"),nr=n.n(tr)()(er.a,Qn()("props.className"),$n()(Kn()(/\s+/)),Gn()(Hn.a),qn.a),rr=function(e,t){return[$t()(t,e),$t()(e,t)]},or=new Map,ir=function(e,t){var n=nr(t),r=rr(or.get(e),n),o=Mt()(r,2),i=o[0],a=o[1];Nt()(i,function(t){return e.classList.add(t)}),Nt()(a,function(t){return e.classList.remove(t)}),or.set(e,n)},ar=new function e(){var t=this;l()(this,e),_()(this,"add",function(e,n){t.nodes.has(e)?t.nodes.get(e).add(n):t.nodes.set(e,new Set([n]))}),_()(this,"del",function(e,n){if(t.nodes.has(e)){var r=t.nodes.get(e);1!==r.size?r.delete(n):t.nodes.delete(e)}}),_()(this,"emit",function(e,n){n(e,t.nodes.get(e))}),this.nodes=new Map},sr=function(e){function t(){return l()(this,t),f()(this,p()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"shouldComponentUpdate",value:function(e){return e.className!==this.props.className}},{key:"componentWillMount",value:function(){var e=zn(this.props);e&&(ar.add(e,this),ar.emit(e,ir))}},{key:"componentDidUpdate",value:function(){var e=zn(this.props);e&&ar.emit(e,ir)}},{key:"componentWillUnmount",value:function(){var e=zn(this.props);e&&(ar.del(e,this),ar.emit(e,ir))}},{key:"render",value:function(){return null}}]),t}(T.Component);function lr(e){var t=e.children,n=e.className,o=e.content,i=R()(n,"header"),s=S(lr,e),l=$e(lr,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}_()(sr,"handledProps",["className","node"]),sr.propTypes={},lr.handledProps=["as","children","className","content"],lr.propTypes={},lr.create=ft(lr,function(e){return{content:e}});var ur=lr;function cr(e){var t=e.children,n=e.className,o=e.content,i=e.image,s=e.scrolling,l=R()(n,Ve(i,"image"),Ve(s,"scrolling"),"content"),u=S(cr,e),c=$e(cr,e);return A.a.createElement(c,a()({},u,{className:l}),r.isNil(t)?o:t)}cr.handledProps=["as","children","className","content","image","scrolling"],cr.propTypes={},cr.create=ft(cr,function(e){return{content:e}});var dr=cr,fr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleButtonOverrides",function(e){return{onClick:function(t,r){E()(e,"onClick",t,r),E()(n.props,"onActionClick",t,r)}}}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,o=n.actions,i=n.children,s=n.className,l=n.content,u=R()("actions",s),c=S(t,this.props),d=$e(t,this.props);return r.isNil(i)?r.isNil(l)?A.a.createElement(d,a()({},c,{className:u}),Cn()(o,function(t){return In.create(t,{overrideProps:e.handleButtonOverrides})})):A.a.createElement(d,a()({},c,{className:u}),l):A.a.createElement(d,a()({},c,{className:u}),i)}}]),t}(T.Component);function hr(e){var t=e.children,n=e.className,o=e.content,i=R()("description",n),s=S(hr,e),l=$e(hr,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}_()(fr,"handledProps",["actions","as","children","className","content","onActionClick"]),fr.propTypes={},fr.create=ft(fr,function(e){return{actions:e}}),hr.handledProps=["as","children","className","content"],hr.propTypes={};var pr=hr,mr=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(i))),_()(y()(y()(n)),"getMountNode",function(){return Bt()?n.props.mountNode||document.body:null}),_()(y()(y()(n)),"handleActionsOverrides",function(e){return{onActionClick:function(t,r){E()(e,"onActionClick",t,r),E()(n.props,"onActionClick",t,n.props),n.handleClose(t)}}}),_()(y()(y()(n)),"handleClose",function(e){E()(n.props,"onClose",e,n.props),n.trySetState({open:!1})}),_()(y()(y()(n)),"handleDocumentClick",function(e){n.props.closeOnDimmerClick&&!Wt(n.ref,e)&&(E()(n.props,"onClose",e,n.props),n.trySetState({open:!1}))}),_()(y()(y()(n)),"handleIconOverrides",function(e){return{onClick:function(t){E()(e,"onClick",t),n.handleClose(t)}}}),_()(y()(y()(n)),"handleOpen",function(e){E()(n.props,"onOpen",e,n.props),n.trySetState({open:!0})}),_()(y()(y()(n)),"handlePortalMount",function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),Kt.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef}),E()(n.props,"onMount",e,n.props)}),_()(y()(y()(n)),"handlePortalUnmount",function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),Kt.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef}),E()(n.props,"onUnmount",e,n.props)}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"handleDimmerRef",function(e){return n.dimmerRef=e}),_()(y()(y()(n)),"setDimmerNodeStyle",function(){n.dimmerRef&&n.dimmerRef.style.setProperty("display","flex","important")}),_()(y()(y()(n)),"setPositionAndClassNames",function(){var e,t=n.props.dimmer;t&&(e="dimmable dimmed","blurring"===t&&(e+=" blurring"));var r={};if(n.ref){var o=n.ref.getBoundingClientRect().height>window.innerHeight;null!==n.state.marginTop&&(r.marginTop=null),n.state.scrolling!==o&&(r.scrolling=o),o&&(e+=" scrolling")}n.state.mountClasses!==e&&(r.mountClasses=e),en()(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames),n.setDimmerNodeStyle()}),_()(y()(y()(n)),"renderContent",function(e){var o=n.props,i=o.actions,s=o.basic,l=o.children,u=o.className,c=o.closeIcon,d=o.content,f=o.header,h=o.mountNode,p=o.size,m=o.style,g=n.state,v=g.marginTop,y=g.mountClasses,b=g.scrolling,_=R()("ui",p,Ve(s,"basic"),Ve(b,"scrolling"),"modal transition visible active",u),x=$e(t,n.props),w=!0===c?"close":c,k=Et.create(w,{overrideProps:n.handleIconOverrides});return r.isNil(l)?A.a.createElement(sn,{innerRef:n.handleRef},A.a.createElement(x,a()({},e,{className:_,style:Qe()({marginTop:v},m)}),A.a.createElement(sr,{className:y,node:h}),k,ur.create(f,{autoGenerateKey:!1}),dr.create(d,{autoGenerateKey:!1}),fr.create(i,{overrideProps:n.handleActionsOverrides}))):A.a.createElement(sn,{innerRef:n.handleRef},A.a.createElement(x,a()({},e,{className:_,style:Qe()({marginTop:v},m)}),A.a.createElement(sr,{className:y,node:h}),k,l))}),n}return g()(t,e),c()(t,[{key:"componentWillUnmount",value:function(){this.handlePortalUnmount()}},{key:"render",value:function(){var e=this.state.open,n=this.props,r=n.centered,o=n.closeOnDocumentClick,i=n.dimmer,s=n.eventPool,l=n.trigger,u=this.getMountNode();if(!Bt())return Object(T.isValidElement)(l)?l:null;var c=S(t,this.props),d=dn.handledProps,f=Fn()(c,function(e,t,n){return jt()(d,n)||(e[n]=t),e},{}),h=Ln()(c,d),p=R()("ui","inverted"===i&&"inverted",!r&&"top aligned","page modals dimmer transition visible active");return A.a.createElement(dn,a()({closeOnDocumentClick:o},h,{trigger:l,eventPool:s,mountNode:u,open:e,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),A.a.createElement("div",{className:p,ref:this.handleDimmerRef},this.renderContent(f)))}}]),t}(on);_()(mr,"defaultProps",{centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"}),_()(mr,"autoControlledProps",["open"]),_()(mr,"Header",ur),_()(mr,"Content",dr),_()(mr,"Description",pr),_()(mr,"Actions",fr),_()(mr,"handledProps",["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"]),mr.propTypes={};var gr=mr,vr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleCancel",function(e){E()(n.props,"onCancel",e,n.props)}),_()(y()(y()(n)),"handleCancelOverrides",function(e){return{onClick:function(t,r){E()(e,"onClick",t,r),n.handleCancel(t)}}}),_()(y()(y()(n)),"handleConfirmOverrides",function(e){return{onClick:function(t,r){E()(e,"onClick",t,r),E()(n.props,"onConfirm",t,n.props)}}}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.cancelButton,r=e.confirmButton,o=e.content,i=e.header,s=e.open,l=e.size,u=S(t,this.props),c={};return w()(this.props,"open")&&(c.open=s),A.a.createElement(gr,a()({},u,c,{size:l,onClose:this.handleCancel}),gr.Header.create(i,{autoGenerateKey:!1}),gr.Content.create(o,{autoGenerateKey:!1}),A.a.createElement(gr.Actions,null,In.create(n,{autoGenerateKey:!1,overrideProps:this.handleCancelOverrides}),In.create(r,{autoGenerateKey:!1,defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))}}]),t}(T.Component);_()(vr,"defaultProps",{cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"}),_()(vr,"handledProps",["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"]),vr.propTypes={};var yr=vr,br=function(e){return{active:!1,type:"ellipsisItem",value:e}},_r=function(e){return{active:!1,type:"prevItem",value:Math.max(1,e-1)}},xr=function(e,t){return{active:!1,type:"nextItem",value:Math.min(e+1,t)}},wr=function(e){return{active:!1,type:"lastItem",value:e}},kr=n("./node_modules/lodash/range.js"),Er=n.n(kr),Tr=function(e,t,n){var r=t-1;return(r!==e+1?br:n)(r)},Ar=function(e,t,n){var r=e+1;return(r!==t-1?br:n)(r)},Sr=function(e,t,n){return Cn()(Er()(e,t+1),n)},Mr=function(e){var t,n,r,o={activePage:+(t=e).activePage,boundaryRange:+t.boundaryRange,siblingRange:+t.siblingRange,totalPages:+t.totalPages},i=o.activePage,a=o.totalPages,s=function(e){return function(t){return{active:e===t,type:"pageItem",value:t}}}(i),l=(r=(n=o).boundaryRange,3+2*n.siblingRange+2*r>=n.totalPages?Sr(1,a,s):function(e,t){var n=e.activePage,r=e.boundaryRange,o=e.siblingRange,i=e.totalPages,a=r,s=Sr(1,a,t),l=i+1-r,u=Sr(l,i,t),c=Math.min(Math.max(n-o,a+2),l-1-2*o-1),d=c+2*o,f=Sr(c,d,t);return C()(s).concat([Tr(a,c,t)],C()(f),[Ar(d,l,t)],C()(u)).filter(Boolean)}(o,s));return[{active:!1,type:"firstItem",value:1},_r(i)].concat(C()(l),[xr(i,a),wr(a)])};function Cr(e){var t=e.children,n=e.className,o=e.content,i=R()("header",n),s=S(Cr,e),l=$e(Cr,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Cr.handledProps=["as","children","className","content"],Cr.propTypes={};var jr=Cr,Or=n("./node_modules/lodash/startCase.js"),Nr=n.n(Or),Rr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){n.props.disabled||E()(n.props,"onClick",e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,o=e.children,i=e.className,s=e.color,l=e.content,u=e.disabled,c=e.fitted,d=e.header,f=e.icon,h=e.link,p=e.name,m=e.onClick,g=e.position,v=R()(s,g,Ve(n,"active"),Ve(u,"disabled"),Ve(!0===f||f&&!(p||l),"icon"),Ve(d,"header"),Ve(h,"link"),We(c,"fitted"),"item",i),y=$e(t,this.props,function(){if(m)return"a"}),b=S(t,this.props);return r.isNil(o)?A.a.createElement(y,a()({},b,{className:v,onClick:this.handleClick}),Et.create(f,{autoGenerateKey:!1}),r.isNil(l)?Nr()(p):l):A.a.createElement(y,a()({},b,{className:v,onClick:this.handleClick}),o)}}]),t}(T.Component);function Pr(e){var t=e.children,n=e.className,o=e.content,i=e.position,s=R()(i,"menu",n),l=S(Pr,e),u=$e(Pr,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}_()(Rr,"handledProps",["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"]),Rr.propTypes={},Rr.create=ft(Rr,function(e){return{content:e,name:e}}),Pr.handledProps=["as","children","className","content","position"],Pr.propTypes={};var Ir=Pr,Dr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleItemOverrides",function(e){return{onClick:function(t,r){var o=r.index;n.trySetState({activeIndex:o}),E()(e,"onClick",t,r),E()(n.props,"onItemClick",t,r)}}}),n}return g()(t,e),c()(t,[{key:"renderItems",value:function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Cn()(t,function(t,r){return Rr.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})})}},{key:"render",value:function(){var e=this.props,n=e.attached,o=e.borderless,i=e.children,s=e.className,l=e.color,u=e.compact,c=e.fixed,d=e.floated,f=e.fluid,h=e.icon,p=e.inverted,m=e.pagination,g=e.pointing,v=e.secondary,y=e.size,b=e.stackable,_=e.tabular,x=e.text,w=e.vertical,k=e.widths,E=R()("ui",l,y,Ve(o,"borderless"),Ve(u,"compact"),Ve(f,"fluid"),Ve(p,"inverted"),Ve(m,"pagination"),Ve(g,"pointing"),Ve(v,"secondary"),Ve(b,"stackable"),Ve(x,"text"),Ve(w,"vertical"),We(n,"attached"),We(d,"floated"),We(h,"icon"),We(_,"tabular"),He(c,"fixed"),Ye(k,"item"),s,"menu"),T=S(t,this.props),M=$e(t,this.props);return A.a.createElement(M,a()({},T,{className:E}),r.isNil(i)?this.renderItems():i)}}]),t}(on);_()(Dr,"autoControlledProps",["activeIndex"]),_()(Dr,"Header",jr),_()(Dr,"Item",Rr),_()(Dr,"Menu",Ir),_()(Dr,"handledProps",["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"]),Dr.propTypes={},Dr.create=ft(Dr,function(e){return{items:e}});var Lr=Dr,Br=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){"ellipsisItem"!==n.props.type&&E()(n.props,"onClick",e,n.props)}),_()(y()(y()(n)),"handleKeyDown",function(e){E()(n.props,"onKeyDown",e,n.props),zt.a.getCode(e)===zt.a.Enter&&E()(n.props,"onClick",e,n.props)}),_()(y()(y()(n)),"handleOverrides",function(){return{onClick:n.handleClick,onKeyDown:n.handleKeyDown}}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.type,r=this.props.disabled||"ellipsisItem"===n;return Rr.create(this.props,{defaultProps:{active:t,disabled:r,"aria-current":t,onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:r?-1:0},overrideProps:this.handleOverrides})}}]),t}(T.Component);_()(Br,"handledProps",["active","disabled","onClick","onKeyDown","type"]),Br.propTypes={},Br.create=ft(Br,function(e){return{content:e}});var Fr=Br,zr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleItemClick",function(e,t){var r=t.value;+n.state.activePage!=+r&&(n.trySetState({activePage:r}),E()(n.props,"onPageChange",e,Qe()({},n.props,{activePage:r})))}),_()(y()(y()(n)),"handleItemOverrides",function(e,t,r){return function(o){return{active:e,type:t,key:"".concat(t,"-").concat(r),onClick:function(e,t){E()(o,"onClick",e,t),n.handleItemClick(e,t)}}}}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,r=n["aria-label"],o=n.boundaryRange,i=n.siblingRange,s=n.totalPages,l=this.state.activePage,u=Mr({activePage:l,boundaryRange:o,siblingRange:i,totalPages:s}),c=S(t,this.props);return A.a.createElement(Lr,a()({},c,{"aria-label":r,pagination:!0,role:"navigation"}),Cn()(u,function(t){var n=t.active,r=t.type,o=t.value;return Fr.create(e.props[r],{defaultProps:{content:o,value:o},overrideProps:e.handleItemOverrides(n,r,o)})}))}}]),t}(on);_()(zr,"autoControlledProps",["activePage"]),_()(zr,"defaultProps",{"aria-label":"Pagination Navigation",boundaryRange:1,ellipsisItem:"...",firstItem:{"aria-label":"First item",content:""},lastItem:{"aria-label":"Last item",content:""},nextItem:{"aria-label":"Next item",content:""},pageItem:{},prevItem:{"aria-label":"Previous item",content:""},siblingRange:1}),_()(zr,"Item",Fr),_()(zr,"handledProps",["activePage","aria-label","boundaryRange","defaultActivePage","ellipsisItem","firstItem","lastItem","nextItem","onPageChange","pageItem","prevItem","siblingRange","totalPages"]),zr.propTypes={};var Ur=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"canToggle",function(){var e=n.props,t=e.disabled,r=e.radio,o=e.readOnly,i=n.state.checked;return!(t||o||r&&i)}),_()(y()(y()(n)),"computeTabIndex",function(){var e=n.props,t=e.disabled,r=e.tabIndex;return O()(r)?t?-1:0:r}),_()(y()(y()(n)),"handleContainerClick",function(e){var t=n.props.id;O()(t)&&n.handleClick(e)}),_()(y()(y()(n)),"handleInputClick",function(e){n.props.id&&n.handleClick(e)}),_()(y()(y()(n)),"handleInputRef",function(e){return n.inputRef=e}),_()(y()(y()(n)),"handleClick",function(e){var t=n.state,r=t.checked,o=t.indeterminate;n.canToggle()&&(E()(n.props,"onClick",e,Qe()({},n.props,{checked:!r,indeterminate:!!o})),E()(n.props,"onChange",e,Qe()({},n.props,{checked:!r,indeterminate:!1})),n.trySetState({checked:!r,indeterminate:!1}))}),_()(y()(y()(n)),"handleMouseDown",function(e){var t=n.state,r=t.checked,o=t.indeterminate;E()(n.props,"onMouseDown",e,Qe()({},n.props,{checked:!!r,indeterminate:!!o})),E()(n.inputRef,"focus"),e.preventDefault()}),_()(y()(y()(n)),"setIndeterminate",function(){var e=n.state.indeterminate;n.inputRef&&(n.inputRef.indeterminate=!!e)}),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.setIndeterminate()}},{key:"componentDidUpdate",value:function(){this.setIndeterminate()}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.disabled,o=e.label,i=e.id,s=e.name,l=e.radio,u=e.readOnly,c=e.slider,d=e.toggle,f=e.type,h=e.value,p=this.state,m=p.checked,g=p.indeterminate,v=R()("ui",Ve(m,"checked"),Ve(r,"disabled"),Ve(g,"indeterminate"),Ve(O()(o),"fitted"),Ve(l,"radio"),Ve(u,"read-only"),Ve(c,"slider"),Ve(d,"toggle"),"checkbox",n),y=S(t,this.props),b=$e(t,this.props),_=It(y,{htmlProps:Rt}),x=Mt()(_,2),w=x[0],k=x[1];return A.a.createElement(b,a()({},k,{className:v,onClick:this.handleContainerClick,onChange:this.handleContainerClick,onMouseDown:this.handleMouseDown}),A.a.createElement("input",a()({},w,{checked:m,className:"hidden",disabled:r,id:i,name:s,onClick:this.handleInputClick,readOnly:!0,ref:this.handleInputRef,tabIndex:this.computeTabIndex(),type:f,value:h})),vt(o,{defaultProps:{htmlFor:i},autoGenerateKey:!1})||A.a.createElement("label",{htmlFor:i}))}}]),t}(on);function qr(e){var t=e.slider,n=e.toggle,r=e.type,o=S(qr,e),i=!(t||n)||void 0;return A.a.createElement(Ur,a()({},o,{type:r,radio:i,slider:t,toggle:n}))}_()(Ur,"defaultProps",{type:"checkbox"}),_()(Ur,"autoControlledProps",["checked","indeterminate"]),_()(Ur,"handledProps",["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","radio","readOnly","slider","tabIndex","toggle","type","value"]),Ur.propTypes={},qr.handledProps=["slider","toggle","type"],qr.propTypes={},qr.defaultProps={type:"radio"};var Vr=qr,Hr=n("./node_modules/shallowequal/index.js"),Wr=n.n(Hr).a,Gr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"fitsMaxWidth",function(){var e=n.props.maxWidth,t=n.state.width;return!!O()(e)||t<=e}),_()(y()(y()(n)),"fitsMinWidth",function(){var e=n.props.minWidth,t=n.state.width;return!!O()(e)||t>=e}),_()(y()(y()(n)),"setSafeState",function(){var e;return n.mounted&&(e=n).setState.apply(e,arguments)}),_()(y()(y()(n)),"isVisible",function(){return n.fitsMinWidth()&&n.fitsMaxWidth()}),_()(y()(y()(n)),"handleResize",function(e){n.ticking||(n.ticking=!0,requestAnimationFrame(function(){return n.handleUpdate(e)}))}),_()(y()(y()(n)),"handleUpdate",function(e){n.ticking=!1;var t=E()(n.props,"getWidth");n.setSafeState({width:t}),E()(n.props,"onUpdate",e,Qe()({},n.props,{width:t}))}),n.state={width:E()(n.props,"getWidth")},n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.fireOnMount;this.mounted=!0,Kt.sub("resize",this.handleResize,{target:"window"}),e&&this.handleUpdate()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,Kt.unsub("resize",this.handleResize,{target:"window"})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.width!==t.width||!Wr(this.props,e)}},{key:"render",value:function(){var e=this.props.children,n=$e(t,this.props),r=S(t,this.props);return this.isVisible()?A.a.createElement(n,r,e):null}}]),t}(T.Component);_()(Gr,"defaultProps",{getWidth:function(){return Bt()?window.innerWidth:0}}),_()(Gr,"onlyMobile",{minWidth:320,maxWidth:767}),_()(Gr,"onlyTablet",{minWidth:768,maxWidth:991}),_()(Gr,"onlyComputer",{minWidth:992}),_()(Gr,"onlyLargeScreen",{minWidth:1200,maxWidth:1919}),_()(Gr,"onlyWidescreen",{minWidth:1920}),_()(Gr,"handledProps",["as","children","fireOnMount","getWidth","maxWidth","minWidth","onUpdate"]),Gr.propTypes={};var Xr=n("./node_modules/@babel/runtime/helpers/get.js"),Kr=n.n(Xr),Yr=n("./node_modules/lodash/compact.js"),$r=n.n(Yr),Zr=n("./node_modules/lodash/every.js"),Qr=n.n(Zr),Jr=n("./node_modules/lodash/findIndex.js"),eo=n.n(Jr),to=n("./node_modules/lodash/escapeRegExp.js"),no=n.n(to),ro=n("./node_modules/lodash/deburr.js"),oo=n.n(ro),io=n("./node_modules/lodash/dropRight.js"),ao=n.n(io),so=n("./node_modules/lodash/size.js"),lo=n.n(so),uo=n("./node_modules/lodash/union.js"),co=n.n(uo),fo=n("./node_modules/lodash/get.js"),ho=n.n(fo),po=n("./node_modules/lodash/isEqual.js"),mo=n.n(po);function go(e){var t=e.className,n=R()("divider",t),r=S(go,e),o=$e(go,e);return A.a.createElement(o,a()({},r,{className:n}))}go.handledProps=["as","className"],go.propTypes={};var vo=go,yo=function(e){function t(){return l()(this,t),f()(this,p()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.className,r=e.name,o=R()(r,"flag",n),i=S(t,this.props),s=$e(t,this.props);return A.a.createElement(s,a()({},i,{className:o}))}}]),t}(T.PureComponent);_()(yo,"defaultProps",{as:"i"}),_()(yo,"handledProps",["as","className","name"]),yo.propTypes={},yo.create=ft(yo,function(e){return{name:e}});var bo=yo,_o=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick;t&&t(e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,o=e.children,i=e.className,s=e.content,l=e.disabled,u=e.description,c=e.flag,d=e.icon,f=e.image,h=e.label,p=e.selected,m=e.text,g=R()(Ve(n,"active"),Ve(l,"disabled"),Ve(p,"selected"),"item",i),v=O()(d)?r.someByType(o,"DropdownMenu")&&"dropdown":d,y=S(t,this.props),b=$e(t,this.props),_={role:"option","aria-disabled":l,"aria-checked":n,"aria-selected":p};if(!r.isNil(o))return A.a.createElement(b,a()({},y,_,{className:g,onClick:this.handleClick}),o);var x=bo.create(c,{autoGenerateKey:!1}),w=Et.create(v,{autoGenerateKey:!1}),k=_n.create(f,{autoGenerateKey:!1}),E=Tn.create(h,{autoGenerateKey:!1}),T=dt("span",function(e){return{children:e}},u,{defaultProps:{className:"description"},autoGenerateKey:!1}),M=dt("span",function(e){return{children:e}},r.isNil(s)?m:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return A.a.createElement(b,a()({},y,_,{className:g,onClick:this.handleClick}),k,w,x,E,T,M)}}]),t}(T.Component);_()(_o,"handledProps",["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"]),_o.propTypes={},_o.create=ft(_o,function(e){return e});var xo=_o;function wo(e){var t=e.children,n=e.className,o=e.content,i=e.icon,s=R()("header",n),l=S(wo,e),u=$e(wo,e);return r.isNil(t)?A.a.createElement(u,a()({},l,{className:s}),Et.create(i,{autoGenerateKey:!1}),o):A.a.createElement(u,a()({},l,{className:s}),t)}wo.handledProps=["as","children","className","content","icon"],wo.propTypes={},wo.create=ft(wo,function(e){return{content:e}});var ko=wo;function Eo(e){var t=e.children,n=e.className,o=e.content,i=e.direction,s=e.open,l=e.scrolling,u=R()(i,Ve(s,"visible"),Ve(l,"scrolling"),"menu transition",n),c=S(Eo,e),d=$e(Eo,e);return A.a.createElement(d,a()({},c,{className:u}),r.isNil(t)?o:t)}Eo.handledProps=["as","children","className","content","direction","open","scrolling"],Eo.propTypes={};var To=Eo,Ao=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleChange",function(e){var t=ho()(e,"target.value");E()(n.props,"onChange",e,Qe()({},n.props,{value:t}))}),_()(y()(y()(n)),"handleRef",function(e){return E()(n.props,"inputRef",e)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.autoComplete,r=e.className,o=e.tabIndex,i=e.type,s=e.value,l=R()("search",r),u=S(t,this.props);return A.a.createElement("input",a()({},u,{"aria-autocomplete":"list",autoComplete:n,className:l,onChange:this.handleChange,ref:this.handleRef,tabIndex:o,type:i,value:s}))}}]),t}(T.Component);_()(Ao,"defaultProps",{autoComplete:"off",type:"text"}),_()(Ao,"handledProps",["as","autoComplete","className","inputRef","tabIndex","type","value"]),Ao.propTypes={},Ao.create=ft(Ao,function(e){return{type:e}});var So=Ao,Mo=function(e,t){return O()(e)?t:e},Co=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(i))),_()(y()(y()(n)),"handleChange",function(e,t){E()(n.props,"onChange",e,Qe()({},n.props,{value:t}))}),_()(y()(y()(n)),"closeOnChange",function(e){var t=n.props,r=t.closeOnChange,o=t.multiple;(At()(r)?!o:r)&&n.close(e)}),_()(y()(y()(n)),"closeOnEscape",function(e){zt.a.getCode(e)===zt.a.Escape&&(e.preventDefault(),n.close())}),_()(y()(y()(n)),"moveSelectionOnKeyDown",function(e){var t,r=n.props,o=r.multiple,i=r.selectOnNavigation,a=(t={},_()(t,zt.a.ArrowDown,1),_()(t,zt.a.ArrowUp,-1),t)[zt.a.getCode(e)];void 0!==a&&(e.preventDefault(),n.moveSelectionBy(a),!o&&i&&n.makeSelectedItemActive(e))}),_()(y()(y()(n)),"openOnSpace",function(e){zt.a.getCode(e)===zt.a.Spacebar&&(n.state.open||(e.preventDefault(),n.open(e)))}),_()(y()(y()(n)),"openOnArrow",function(e){var t=zt.a.getCode(e);jt()([zt.a.ArrowDown,zt.a.ArrowUp],t)&&(n.state.open||(e.preventDefault(),n.open(e)))}),_()(y()(y()(n)),"makeSelectedItemActive",function(e){var t=n.state.open,r=n.props.multiple,o=n.getSelectedItem(),i=ho()(o,"value");if(!O()(i)&&t){var a=r?co()(n.state.value,[i]):i;n.setValue(a),n.setSelectedIndex(a),n.handleChange(e,a),o["data-additional"]&&E()(n.props,"onAddItem",e,Qe()({},n.props,{value:i}))}}),_()(y()(y()(n)),"selectItemOnEnter",function(e){var t=n.props.search;if(zt.a.getCode(e)===zt.a.Enter){e.preventDefault();var r=lo()(n.getMenuOptions());t&&0===r||(n.makeSelectedItemActive(e),n.closeOnChange(e),n.clearSearchQuery(),t&&n.searchRef&&n.searchRef.focus())}}),_()(y()(y()(n)),"removeItemOnBackspace",function(e){var t=n.props,r=t.multiple,o=t.search,i=n.state,a=i.searchQuery,s=i.value;if(zt.a.getCode(e)===zt.a.Backspace&&!a&&o&&r&&!en()(s)){e.preventDefault();var l=ao()(s);n.setValue(l),n.setSelectedIndex(l),n.handleChange(e,l)}}),_()(y()(y()(n)),"closeOnDocumentClick",function(e){n.props.closeOnBlur&&(n.ref&&Wt(n.ref,e)||n.close())}),_()(y()(y()(n)),"attachHandlersOnOpen",function(){Kt.sub("keydown",[n.closeOnEscape,n.moveSelectionOnKeyDown,n.selectItemOnEnter,n.removeItemOnBackspace]),Kt.sub("click",n.closeOnDocumentClick),Kt.unsub("keydown",[n.openOnArrow,n.openOnSpace])}),_()(y()(y()(n)),"handleMouseDown",function(e){n.isMouseDown=!0,Kt.sub("mouseup",n.handleDocumentMouseUp),E()(n.props,"onMouseDown",e,n.props)}),_()(y()(y()(n)),"handleDocumentMouseUp",function(){n.isMouseDown=!1,Kt.unsub("mouseup",n.handleDocumentMouseUp)}),_()(y()(y()(n)),"handleClick",function(e){var t=n.props,r=t.minCharacters,o=t.search,i=n.state,a=i.open,s=i.searchQuery;if(E()(n.props,"onClick",e,n.props),e.stopPropagation(),!o)return n.toggle(e);a||(s.length>=r||1===r?n.open(e):n.searchRef&&n.searchRef.focus())}),_()(y()(y()(n)),"handleIconClick",function(e){var t=n.props.clearable,r=n.hasValue();E()(n.props,"onClick",e,n.props),e.stopPropagation(),t&&r?n.clearValue(e):n.toggle(e)}),_()(y()(y()(n)),"handleItemClick",function(e,t){var r=n.props,o=r.multiple,i=r.search,a=t.value;if(e.stopPropagation(),(o||t.disabled)&&e.nativeEvent.stopImmediatePropagation(),!t.disabled){var s=t["data-additional"],l=o?co()(n.state.value,[a]):a;n.setValue(l),n.setSelectedIndex(a);var u=lo()(n.getMenuOptions());o&&!s&&1!==u||n.clearSearchQuery(),n.handleChange(e,l),n.closeOnChange(e),s&&E()(n.props,"onAddItem",e,Qe()({},n.props,{value:a})),o&&i&&n.searchRef&&n.searchRef.focus()}}),_()(y()(y()(n)),"handleFocus",function(e){n.state.focus||(E()(n.props,"onFocus",e,n.props),n.setState({focus:!0}))}),_()(y()(y()(n)),"handleBlur",function(e){var t=ho()(e,"currentTarget");if(!t||!t.contains(document.activeElement)){var r=n.props,o=r.closeOnBlur,i=r.multiple,a=r.selectOnBlur;n.isMouseDown||(E()(n.props,"onBlur",e,n.props),a&&!i&&(n.makeSelectedItemActive(e),o&&n.close()),n.setState({focus:!1}),n.clearSearchQuery())}}),_()(y()(y()(n)),"handleSearchChange",function(e,t){var r=t.value;e.stopPropagation();var o=n.props.minCharacters,i=n.state.open,a=r;E()(n.props,"onSearchChange",e,Qe()({},n.props,{searchQuery:a})),n.trySetState({searchQuery:a},{selectedIndex:0}),!i&&a.length>=o?n.open():i&&1!==o&&a.length<o&&n.close()}),_()(y()(y()(n)),"getKeyAndValues",function(e){return e?e.map(function(e){return Ln()(e,["key","value"])}):e}),_()(y()(y()(n)),"getMenuOptions",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.options,r=n.props,o=r.additionLabel,i=r.additionPosition,a=r.allowAdditions,s=r.deburr,l=r.multiple,u=r.search,c=n.state.searchQuery,d=t;if(l&&(d=Qt()(d,function(t){return!jt()(e,t.value)})),u&&c)if(ot()(u))d=u(d,c);else{var f=s?oo()(c):c,h=new RegExp(no()(f),"i");d=Qt()(d,function(e){return h.test(s?oo()(e.text):e.text)})}if(a&&u&&c&&!L()(d,{text:c})){var p={key:"addition",text:[A.a.isValidElement(o)?A.a.cloneElement(o,{key:"addition-label"}):o||"",A.a.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===i?d.unshift(p):d.push(p)}return d}),_()(y()(y()(n)),"getSelectedItem",function(){var e=n.state.selectedIndex,t=n.getMenuOptions();return ho()(t,"[".concat(e,"]"))}),_()(y()(y()(n)),"getEnabledIndices",function(e){var t=e||n.getMenuOptions();return Fn()(t,function(e,t,n){return t.disabled||e.push(n),e},[])}),_()(y()(y()(n)),"getItemByValue",function(e){var t=n.props.options;return I()(t,{value:e})}),_()(y()(y()(n)),"getMenuItemIndexByValue",function(e,t){var r=t||n.getMenuOptions();return eo()(r,["value",e])}),_()(y()(y()(n)),"getDropdownAriaOptions",function(){var e=n.props,t=e.loading,r=e.disabled,o=e.search,i=e.multiple,a={role:o?"combobox":"listbox","aria-busy":t,"aria-disabled":r,"aria-expanded":!!n.state.open};return"listbox"===a.role&&(a["aria-multiselectable"]=i),a}),_()(y()(y()(n)),"clearSearchQuery",function(){n.trySetState({searchQuery:""})}),_()(y()(y()(n)),"setValue",function(e){n.trySetState({value:e})}),_()(y()(y()(n)),"setSelectedIndex",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.options,o=n.props.multiple,i=n.state.selectedIndex,a=n.getMenuOptions(t,r),s=n.getEnabledIndices(a);if(!i||i<0){var l=s[0];e=o?l:n.getMenuItemIndexByValue(t,a)||s[0]}else if(o)i>=a.length-1&&(e=s[s.length-1]);else{var u=n.getMenuItemIndexByValue(t,a);e=jt()(s,u)?u:void 0}(!e||e<0)&&(e=s[0]),n.setState({selectedIndex:e})}),_()(y()(y()(n)),"handleLabelClick",function(e,t){e.stopPropagation(),n.setState({selectedLabel:t.value}),E()(n.props,"onLabelClick",e,t)}),_()(y()(y()(n)),"handleLabelRemove",function(e,t){e.stopPropagation();var r=n.state.value,o=_t()(r,t.value);n.setValue(o),n.setSelectedIndex(o),n.handleChange(e,o)}),_()(y()(y()(n)),"moveSelectionBy",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.selectedIndex,r=n.getMenuOptions();if(void 0!==r&&!Qr()(r,"disabled")){var o=r.length-1,i=t+e;!n.props.wrapSelection&&(i>o||i<0)?i=t:i>o?i=0:i<0&&(i=o),r[i].disabled?n.moveSelectionBy(e,i):(n.setState({selectedIndex:i}),n.scrollSelectedItemIntoView())}}),_()(y()(y()(n)),"handleIconOverrides",function(e){var t=n.props.clearable;return{className:R()(t&&n.hasValue()&&"clear",e.className),onClick:function(t){E()(e,"onClick",t,e),n.handleIconClick(t)}}}),_()(y()(y()(n)),"handleSearchRef",function(e){return n.searchRef=e}),_()(y()(y()(n)),"handleSizerRef",function(e){return n.sizerRef=e}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"clearValue",function(e){var t=n.props.multiple?[]:"";n.setValue(t),n.setSelectedIndex(t),n.handleChange(e,t)}),_()(y()(y()(n)),"computeSearchInputTabIndex",function(){var e=n.props,t=e.disabled,r=e.tabIndex;return O()(r)?t?-1:0:r}),_()(y()(y()(n)),"computeSearchInputWidth",function(){var e=n.state.searchQuery;if(n.sizerRef&&e){n.sizerRef.style.display="inline",n.sizerRef.textContent=e;var t=Math.ceil(n.sizerRef.getBoundingClientRect().width);return n.sizerRef.style.removeProperty("display"),t}}),_()(y()(y()(n)),"computeTabIndex",function(){var e=n.props,t=e.disabled,r=e.search,o=e.tabIndex;if(!r)return t?-1:O()(o)?0:o}),_()(y()(y()(n)),"handleSearchInputOverrides",function(e){return{onChange:function(t,r){E()(e,"onChange",t,r),n.handleSearchChange(t,r)}}}),_()(y()(y()(n)),"hasValue",function(){var e=n.props.multiple,t=n.state.value;return e?!en()(t):!O()(t)&&""!==t}),_()(y()(y()(n)),"scrollSelectedItemIntoView",function(){if(n.ref){var e=n.ref.querySelector(".menu.visible");if(e){var t=e.querySelector(".item.selected");if(t){var r=t.offsetTop<e.scrollTop,o=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=t.offsetTop:o&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}}),_()(y()(y()(n)),"setOpenDirection",function(){if(n.ref){var e=n.ref.querySelector(".menu.visible");if(e){var t=n.ref.getBoundingClientRect(),r=e.clientHeight,o=document.documentElement.clientHeight-t.top-t.height-r,i=t.top-r,a=o<0&&i>o;!a!=!n.state.upward&&n.trySetState({upward:a})}}}),_()(y()(y()(n)),"open",function(e){var t=n.props,r=t.disabled,o=(t.open,t.search);r||(o&&n.searchRef&&n.searchRef.focus(),E()(n.props,"onOpen",e,n.props),n.trySetState({open:!0}),n.scrollSelectedItemIntoView())}),_()(y()(y()(n)),"close",function(e){n.state.open&&(E()(n.props,"onClose",e,n.props),n.trySetState({open:!1}))}),_()(y()(y()(n)),"handleClose",function(){var e=document.activeElement===n.searchRef,t=document.activeElement===n.ref,r=e||t;e||n.ref.blur(),n.setState({focus:r})}),_()(y()(y()(n)),"toggle",function(e){return n.state.open?n.close(e):n.open(e)}),_()(y()(y()(n)),"renderText",function(){var e=n.props,t=e.multiple,r=e.placeholder,o=e.search,i=e.text,a=n.state,s=a.searchQuery,l=a.value,u=a.open,c=n.hasValue(),d=R()(r&&!c&&"default","text",o&&s&&"filtered"),f=r;return s?f=null:i?f=i:u&&!t?f=ho()(n.getSelectedItem(),"text"):c&&(f=ho()(n.getItemByValue(l),"text")),A.a.createElement("div",{className:d,role:"alert","aria-live":"polite"},f)}),_()(y()(y()(n)),"renderSearchInput",function(){var e=n.props,t=e.search,r=e.searchInput,o=n.state.searchQuery;return t?So.create(r,{defaultProps:{inputRef:n.handleSearchRef,style:{width:n.computeSearchInputWidth()},tabIndex:n.computeSearchInputTabIndex(),value:o},overrideProps:n.handleSearchInputOverrides}):null}),_()(y()(y()(n)),"renderSearchSizer",function(){var e=n.props,t=e.search,r=e.multiple;return t&&r?A.a.createElement("span",{className:"sizer",ref:n.handleSizerRef}):null}),_()(y()(y()(n)),"renderLabels",function(){var e=n.props,t=e.multiple,r=e.renderLabel,o=n.state,i=o.selectedLabel,a=o.value;if(t&&!en()(a)){var s=Cn()(a,n.getItemByValue);return Cn()($r()(s),function(e,t){var o={active:e.value===i,as:"a",key:Mo(e.key,e.value),onClick:n.handleLabelClick,onRemove:n.handleLabelRemove,value:e.value};return Tn.create(r(e,t,o),{defaultProps:o})})}}),_()(y()(y()(n)),"renderOptions",function(){var e=n.props,t=e.lazyLoad,r=e.multiple,o=e.search,i=e.noResultsMessage,a=n.state,s=a.open,l=a.selectedIndex,u=a.value;if(t&&!s)return null;var c=n.getMenuOptions();if(null!==i&&o&&en()(c))return A.a.createElement("div",{className:"message"},i);var d=r?function(e){return jt()(u,e)}:function(e){return e===u};return Cn()(c,function(e,t){return xo.create(Qe()({active:d(e.value),onClick:n.handleItemClick,selected:l===t},e,{key:Mo(e.key,e.value),style:Qe()({},e.style,{pointerEvents:"all"})}))})}),_()(y()(y()(n)),"renderMenu",function(){var e=n.props,t=e.children,o=e.direction,i=e.header,s=n.state.open,l=n.getDropdownMenuAriaOptions();if(!r.isNil(t)){var u=T.Children.only(t),c=R()(o,Ve(s,"visible"),u.props.className);return Object(T.cloneElement)(u,Qe()({className:c},l))}return A.a.createElement(To,a()({},l,{direction:o,open:s}),ko.create(i,{autoGenerateKey:!1}),n.renderOptions())}),n}return g()(t,e),c()(t,[{key:"getInitialAutoControlledState",value:function(){return{searchQuery:""}}},{key:"componentWillMount",value:function(){var e=this.state,t=e.open,n=e.value;this.setValue(n),this.setSelectedIndex(n),t&&(this.open(),this.attachHandlersOnOpen())}},{key:"componentWillReceiveProps",value:function(e){Kr()(p()(t.prototype),"componentWillReceiveProps",this).call(this,e),Wr(e.value,this.props.value)||(this.setValue(e.value),this.setSelectedIndex(e.value)),mo()(this.getKeyAndValues(e.options),this.getKeyAndValues(this.props.options))||this.setSelectedIndex(void 0,e.options)}},{key:"shouldComponentUpdate",value:function(e,t){return!Wr(e,this.props)||!Wr(t,this.state)}},{key:"componentDidUpdate",value:function(e,t){if(!t.focus&&this.state.focus){if(!this.isMouseDown){var n=this.props,r=n.minCharacters,o=n.openOnFocus,i=n.search,a=!i||i&&1===r&&!this.state.open;o&&a&&this.open()}this.state.open?Kt.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter]):Kt.sub("keydown",[this.openOnArrow,this.openOnSpace]),Kt.sub("keydown",this.removeItemOnBackspace)}else if(t.focus&&!this.state.focus){var s=this.props.closeOnBlur;!this.isMouseDown&&s&&this.close(),Kt.unsub("keydown",[this.openOnArrow,this.openOnSpace,this.moveSelectionOnKeyDown,this.selectItemOnEnter,this.removeItemOnBackspace])}!t.open&&this.state.open?(this.attachHandlersOnOpen(),this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&!this.state.open&&(this.handleClose(),Kt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]),Kt.unsub("click",this.closeOnDocumentClick),this.state.focus||Kt.unsub("keydown",this.removeItemOnBackspace))}},{key:"componentWillUnmount",value:function(){Kt.unsub("keydown",[this.openOnArrow,this.openOnSpace,this.moveSelectionOnKeyDown,this.selectItemOnEnter,this.removeItemOnBackspace,this.closeOnEscape]),Kt.unsub("click",this.closeOnDocumentClick)}},{key:"getDropdownMenuAriaOptions",value:function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r}},{key:"render",value:function(){var e=this.props,n=e.basic,r=e.button,o=e.className,i=e.compact,s=e.disabled,l=e.error,u=e.fluid,c=e.floating,d=e.icon,f=e.inline,h=e.item,p=e.labeled,m=e.loading,g=e.multiple,v=e.pointing,y=e.search,b=e.selection,_=e.scrolling,x=e.simple,w=e.trigger,k=this.state,E=k.open,T=k.upward,M=R()("ui",Ve(E,"active visible"),Ve(s,"disabled"),Ve(l,"error"),Ve(m,"loading"),Ve(n,"basic"),Ve(r,"button"),Ve(i,"compact"),Ve(u,"fluid"),Ve(c,"floating"),Ve(f,"inline"),Ve(p,"labeled"),Ve(h,"item"),Ve(g,"multiple"),Ve(y,"search"),Ve(b,"selection"),Ve(x,"simple"),Ve(_,"scrolling"),Ve(T,"upward"),We(v,"pointing"),"dropdown",o),C=S(t,this.props),j=$e(t,this.props),O=this.getDropdownAriaOptions(j,this.props);return A.a.createElement(j,a()({},C,O,{className:M,onBlur:this.handleBlur,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex(),ref:this.handleRef}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),w||this.renderText(),Et.create(d,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu())}}]),t}(on);function jo(e){return A.a.createElement(Co,a()({},e,{selection:!0}))}_()(Co,"defaultProps",{additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:function(e){return e.text},searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0}),_()(Co,"autoControlledProps",["open","searchQuery","selectedLabel","value","upward"]),_()(Co,"Divider",vo),_()(Co,"Header",ko),_()(Co,"Item",xo),_()(Co,"Menu",To),_()(Co,"SearchInput",So),_()(Co,"handledProps",["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"]),Co.propTypes={},jo.handledProps=["options"],jo.propTypes={},jo.Divider=Co.Divider,jo.Header=Co.Header,jo.Item=Co.Item,jo.Menu=Co.Menu;var Oo=jo,No=n("./node_modules/lodash/sum.js"),Ro=n.n(No),Po=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"focus",function(){return n.ref.focus()}),_()(y()(y()(n)),"handleChange",function(e){var t=ho()(e,"target.value");E()(n.props,"onChange",e,Qe()({},n.props,{value:t}))}),_()(y()(y()(n)),"handleInput",function(e){var t=ho()(e,"target.value");E()(n.props,"onInput",e,Qe()({},n.props,{value:t})),n.updateHeight()}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"removeAutoHeightStyles",function(){n.ref.style.height=null,n.ref.style.resize=null}),_()(y()(y()(n)),"updateHeight",function(){var e=n.props.autoHeight;if(n.ref&&e){var t=window.getComputedStyle(n.ref),r=t.minHeight,o=t.borderBottomWidth,i=t.borderTopWidth,a=Ro()([o,i].map(function(e){return parseFloat(e)}));n.ref.style.height="auto",n.ref.style.overflowY="hidden",n.ref.style.height="".concat(Math.max(parseFloat(r),Math.ceil(n.ref.scrollHeight+a)),"px"),n.ref.style.overflowY=""}}),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.updateHeight()}},{key:"componentDidUpdate",value:function(e){!this.props.autoHeight&&e.autoHeight&&this.removeAutoHeightStyles(),(this.props.autoHeight&&!e.autoHeight||e.value!==this.props.value)&&this.updateHeight()}},{key:"render",value:function(){var e=this.props,n=e.autoHeight,r=e.rows,o=e.style,i=e.value,s=S(t,this.props),l=$e(t,this.props),u=n?"none":"";return A.a.createElement(l,a()({},s,{onChange:this.handleChange,onInput:this.handleInput,ref:this.handleRef,rows:r,style:Qe()({resize:u},o),value:i}))}}]),t}(T.Component);_()(Po,"defaultProps",{as:"textarea",rows:3}),_()(Po,"handledProps",["as","autoHeight","onChange","onInput","rows","style","value"]),Po.propTypes={};var Io=Po,Do=function(e,t){return"number"==typeof e||"string"==typeof e?e:e[t]},Lo=n("./node_modules/lodash/mapValues.js"),Bo=n.n(Lo),Fo=n("./node_modules/lodash/keyBy.js"),zo=n.n(Fo),Uo=function(e){return zo()(Qt()(T.Children.toArray(e),T.isValidElement),"key")},qo=function(e,t,n){return w()(n,e)?n[e]:t[e]},Vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=function(e,t){var n={},r=[];return Nt()(G()(e),function(e){w()(t,e)?r.length&&(n[e]=r,r=[]):r.push(e)}),[n,r]}(e,t),o=Mt()(r,2),i=o[0],a=o[1];return Nt()(G()(t),function(r){w()(i,r)&&Nt()(i[r],function(r){n[r]=qo(r,e,t)}),n[r]=qo(r,e,t)}),Nt()(a,function(r){n[r]=qo(r,e,t)}),n},Ho=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleOnHide",function(e,t){var r=t.reactKey;n.setState(function(e){var t=Qe()({},e.children);return delete t[r],{children:t}})}),_()(y()(y()(n)),"wrapChild",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.props,o=r.animation,i=r.duration,a=e.key,s=t.visible,l=void 0===s||s,u=t.transitionOnMount,c=void 0!==u&&u;return A.a.createElement(Go,{animation:o,duration:i,key:a,onHide:n.handleOnHide,reactKey:a,transitionOnMount:c,visible:l},e)});var a=n.props.children;return n.state={children:Bo()(Uo(a),function(e){return n.wrapChild(e)})},n}return g()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.state.children,r=Uo(e.children),o=Vo(n,r);Nt()(o,function(e,i){var a=w()(n,i),s=w()(r,i),l=n[i],u=!ho()(l,"props.visible");if(!s||a&&!u)if(s||!a||u){var c=l.props,d=c.visible,f=c.transitionOnMount;o[i]=t.wrapChild(e,{transitionOnMount:f,visible:d})}else o[i]=Object(T.cloneElement)(l,{visible:!1});else o[i]=t.wrapChild(e,{transitionOnMount:!0})}),this.setState({children:o})}},{key:"render",value:function(){var e=this.state.children,n=$e(t,this.props),r=S(t,this.props);return A.a.createElement(n,r,H()(e))}}]),t}(A.a.Component);_()(Ho,"defaultProps",{animation:"fade",duration:500}),_()(Ho,"handledProps",["animation","as","children","duration"]),Ho.propTypes={};var Wo={ENTERING:"show",EXITING:"hide"},Go=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n=f()(this,(e=p()(t)).call.apply(e,[this].concat(i))),_()(y()(y()(n)),"handleStart",function(){var e=n.props.duration,t=n.nextStatus;n.nextStatus=null,n.setSafeState({status:t,animating:!0},function(){var r=Wo[t],o=Do(e,r);E()(n.props,"onStart",null,Qe()({},n.props,{status:t})),setTimeout(n.handleComplete,o)})}),_()(y()(y()(n)),"handleComplete",function(){var e=n.state.status;if(E()(n.props,"onComplete",null,Qe()({},n.props,{status:e})),n.nextStatus)n.handleStart();else{var r=n.computeCompletedStatus(),o=e===t.ENTERING?"onShow":"onHide";n.setSafeState({status:r,animating:!1},function(){E()(n.props,o,null,Qe()({},n.props,{status:r}))})}}),_()(y()(y()(n)),"updateStatus",function(){var e=n.state.animating;n.nextStatus&&(n.nextStatus=n.computeNextStatus(),e||n.handleStart())}),_()(y()(y()(n)),"computeClasses",function(){var e=n.props,r=e.animation,i=e.children,a=n.state,s=a.animating,l=a.status,u=ho()(i,"props.className");return jt()(o.DIRECTIONAL_TRANSITIONS,r)?R()(r,u,Ve(s,"animating"),Ve(l===t.ENTERING,"in"),Ve(l===t.EXITING,"out"),Ve(l===t.EXITED,"hidden"),Ve(l!==t.EXITED,"visible"),"transition"):R()(r,u,Ve(s,"animating transition"))}),_()(y()(y()(n)),"computeCompletedStatus",function(){var e=n.props.unmountOnHide;return n.state.status===t.ENTERING?t.ENTERED:e?t.UNMOUNTED:t.EXITED}),_()(y()(y()(n)),"computeInitialStatuses",function(){var e=n.props,r=e.visible,o=e.mountOnShow,i=e.transitionOnMount,a=e.unmountOnHide;return r?i?{initial:t.EXITED,next:t.ENTERING}:{initial:t.ENTERED}:o||a?{initial:t.UNMOUNTED}:{initial:t.EXITED}}),_()(y()(y()(n)),"computeNextStatus",function(){var e=n.state,r=e.animating,o=e.status;return r?o===t.ENTERING?t.EXITING:t.ENTERING:o===t.ENTERED?t.EXITING:t.ENTERING}),_()(y()(y()(n)),"computeStatuses",function(e){var r=n.state.status;return e.visible?{current:r===t.UNMOUNTED&&t.EXITED,next:r!==t.ENTERING&&r!==t.ENTERED&&t.ENTERING}:{next:(r===t.ENTERING||r===t.ENTERED)&&t.EXITING}}),_()(y()(y()(n)),"computeStyle",function(){var e=n.props,t=e.children,r=e.duration,o=n.state.status,i=ho()(t,"props.style"),a=Wo[o],s=a&&"".concat(Do(r,a),"ms");return Qe()({},i,{animationDuration:s})}),_()(y()(y()(n)),"setSafeState",function(){var e;return n.mounted&&(e=n).setState.apply(e,arguments)});var s=n.computeInitialStatuses(),u=s.initial,c=s.next;return n.nextStatus=c,n.state={status:u},n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.updateStatus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.computeStatuses(e),n=t.current,r=t.next;this.nextStatus=r,n&&this.setSafeState({status:n})}},{key:"componentDidUpdate",value:function(){this.updateStatus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props.children;return this.state.status===t.UNMOUNTED?null:Object(T.cloneElement)(e,{className:this.computeClasses(),style:this.computeStyle()})}}]),t}(T.Component);_()(Go,"defaultProps",{animation:"fade",duration:500,visible:!0,mountOnShow:!0,transitionOnMount:!1,unmountOnHide:!1}),_()(Go,"ENTERED","ENTERED"),_()(Go,"ENTERING","ENTERING"),_()(Go,"EXITED","EXITED"),_()(Go,"EXITING","EXITING"),_()(Go,"UNMOUNTED","UNMOUNTED"),_()(Go,"Group",Ho),_()(Go,"handledProps",["animation","children","duration","mountOnShow","onComplete","onHide","onShow","onStart","reactKey","transitionOnMount","unmountOnHide","visible"]),Go.propTypes={};var Xo=function(e){function t(e){var n;return l()(this,t),n=f()(this,p()(t).call(this,e)),_()(y()(y()(n)),"handlePortalClose",function(){n.setState({portalOpen:!1})}),_()(y()(y()(n)),"handlePortalOpen",function(){n.setState({portalOpen:!0})}),_()(y()(y()(n)),"handleTransitionHide",function(e,t){var r=n.state.portalOpen;n.setState({transitionVisible:!1}),E()(n.props,"onClose",null,Qe()({},t,{portalOpen:!1,transitionVisible:!1})),E()(n.props,"onHide",null,Qe()({},t,{portalOpen:r,transitionVisible:!1}))}),_()(y()(y()(n)),"handleTransitionStart",function(e,t){var r=n.state.portalOpen,o=t.status===Go.ENTERING;E()(n.props,"onStart",null,Qe()({},t,{portalOpen:r,transitionVisible:o})),o&&(n.setState({transitionVisible:o}),E()(n.props,"onOpen",null,Qe()({},t,{transitionVisible:o,portalOpen:!0})))}),n.state={portalOpen:e.open},n}return g()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.open;this.setState({portalOpen:t})}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.transition,o=this.state,i=o.portalOpen,s=o.transitionVisible,l=i||s,u=S(t,this.props);return A.a.createElement(dn,a()({},u,{open:l,onOpen:this.handlePortalOpen,onClose:this.handlePortalClose}),A.a.createElement(Go,a()({},r,{transitionOnMount:!0,onStart:this.handleTransitionStart,onHide:this.handleTransitionHide,visible:i}),n))}}]),t}(T.Component);_()(Xo,"defaultProps",{transition:{animation:"scale",duration:400}}),_()(Xo,"handledProps",["children","onClose","onHide","onOpen","onStart","open","transition"]),Xo.propTypes={};var Ko=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"calculations",{bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1}),_()(y()(y()(n)),"firedCallbacks",[]),_()(y()(y()(n)),"fire",function(e,t){var r=e.callback,o=e.name,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n.props,s=a.continuous,l=a.once,u=n.calculations[t]!==i,c=s||n.calculations[t]!==n.oldCalculations[t];u&&c&&n.execute(r,o),l||(n.firedCallbacks=_t()(n.firedCallbacks,o))}),_()(y()(y()(n)),"handleUpdate",function(){n.ticking||(n.ticking=!0,n.frameId=requestAnimationFrame(n.update))}),_()(y()(y()(n)),"update",function(){if(n.mounted){n.ticking=!1,n.oldCalculations=n.calculations,n.calculations=n.computeCalculations(),n.pageYOffset=window.pageYOffset;var e=n.props,t=e.onBottomPassed,r=e.onBottomPassedReverse,o=e.onBottomVisible,i=e.onBottomVisibleReverse,a=e.onPassing,s=e.onPassingReverse,l=e.onTopPassed,u=e.onTopPassedReverse,c=e.onTopVisible,d=e.onTopVisibleReverse,f=e.onOffScreen,h=e.onOnScreen,p=e.updateOn,m={bottomPassed:{callback:t,name:"onBottomPassed"},bottomVisible:{callback:o,name:"onBottomVisible"},passing:{callback:a,name:"onPassing"},offScreen:{callback:f,name:"onOffScreen"},onScreen:{callback:h,name:"onOnScreen"},topPassed:{callback:l,name:"onTopPassed"},topVisible:{callback:c,name:"onTopVisible"}},g={bottomPassed:{callback:r,name:"onBottomPassedReverse"},bottomVisible:{callback:i,name:"onBottomVisibleReverse"},passing:{callback:s,name:"onPassingReverse"},topPassed:{callback:u,name:"onTopPassedReverse"},topVisible:{callback:d,name:"onTopVisibleReverse"}};E()(n.props,"onUpdate",null,Qe()({},n.props,{calculations:n.calculations})),n.fireOnPassed(),Nt()(g,function(e,t){return n.fire(e,t,!0)}),Nt()(m,function(e,t){return n.fire(e,t)}),"repaint"===p&&n.handleUpdate()}}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),n}return g()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.continuous,n=e.once,r=e.context,o=e.updateOn;(t!==this.props.continuous||n!==this.props.once||o!==this.props.updateOn)&&(this.firedCallbacks=[]),r===this.props.context&&o===this.props.updateOn||(this.unattachHandlers(this.props.context),this.attachHandlers(r,o))}},{key:"componentDidMount",value:function(){if(this.mounted=!0,Bt()){var e=this.props,t=e.context,n=e.fireOnMount,r=e.updateOn;this.pageYOffset=window.pageYOffset,this.attachHandlers(t,r),n&&this.update()}}},{key:"componentWillUnmount",value:function(){var e=this.props.context;this.unattachHandlers(e),this.mounted=!1}},{key:"attachHandlers",value:function(e,t){"events"!==t?this.handleUpdate():e&&(Kt.sub("resize",this.handleUpdate,{target:e}),Kt.sub("scroll",this.handleUpdate,{target:e}))}},{key:"unattachHandlers",value:function(e){e&&(Kt.unsub("resize",this.handleUpdate,{target:e}),Kt.unsub("scroll",this.handleUpdate,{target:e})),this.frameId&&cancelAnimationFrame(this.frameId)}},{key:"execute",value:function(e,t){var n=this.props.continuous;e&&(!n&&jt()(this.firedCallbacks,t)||(e(null,Qe()({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(t)))}},{key:"fireOnPassed",value:function(){var e=this,t=this.calculations,n=t.percentagePassed,r=t.pixelsPassed,o=this.props.onPassed;Nt()(o,function(t,o){var i=Number(o);if(i&&r>=i)e.execute(t,o);else{var a="".concat(o).match(/^(\d+)%$/);if(a){var s=Number(a[1])/100;n>=s&&e.execute(t,o)}}})}},{key:"computeCalculations",value:function(){var e,t=this.props.offset,n=this.ref.getBoundingClientRect(),r=n.bottom,o=n.height,i=n.top,a=n.width,s="number"==typeof(e=t)||"string"==typeof e?[e,e]:e,l=Mt()(s,2),u=l[0],c=l[1],d=window.pageYOffset>this.pageYOffset?"down":"up",f=i<u,h=r<c,p=h?0:Math.max(-1*i,0),m=p/o,g=r>=c&&r<=window.innerHeight,v=i>=u&&i<=window.innerHeight,y=(v||f)&&!h;return{bottomPassed:h,bottomVisible:g,direction:d,fits:v&&g,height:o,passing:f&&!h,percentagePassed:m,pixelsPassed:p,offScreen:!y,onScreen:y,topPassed:f,topVisible:v,width:a}}},{key:"render",value:function(){var e=this.props.children,n=$e(t,this.props),r=S(t,this.props);return A.a.createElement(n,a()({},r,{ref:this.handleRef}),e)}}]),t}(T.Component);function Yo(e){var t=e.children,n=e.className,o=e.content,i=e.icon,s=R()("divider",n),l=S(Yo,e),u=$e(Yo,e);return O()(i)?O()(o)?A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?"/":t):A.a.createElement(u,a()({},l,{className:s}),o):Et.create(i,{defaultProps:Qe()({},l,{className:s}),autoGenerateKey:!1})}_()(Ko,"defaultProps",{context:Bt()?window:null,continuous:!1,offset:[0,0],once:!0,updateOn:"events"}),_()(Ko,"handledProps",["as","children","context","continuous","fireOnMount","offset","onBottomPassed","onBottomPassedReverse","onBottomVisible","onBottomVisibleReverse","onOffScreen","onOnScreen","onPassed","onPassing","onPassingReverse","onTopPassed","onTopPassedReverse","onTopVisible","onTopVisibleReverse","onUpdate","once","updateOn"]),Ko.propTypes={},Yo.handledProps=["as","children","className","content","icon"],Yo.propTypes={},Yo.create=ft(Yo,function(e){return{icon:e}});var $o=Yo,Zo=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"computeElementType",function(){var e=n.props,t=e.link,r=e.onClick;if(t||r)return"a"}),_()(y()(y()(n)),"handleClick",function(e){return E()(n.props,"onClick",e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,o=e.children,i=e.className,s=e.content,l=e.href,u=R()(Ve(n,"active"),"section",i),c=S(t,this.props),d=$e(t,this.props,this.computeElementType);return A.a.createElement(d,a()({},c,{className:u,href:l,onClick:this.handleClick}),r.isNil(o)?s:o)}}]),t}(T.Component);function Qo(e){var t=e.children,n=e.className,o=e.divider,i=e.icon,s=e.sections,l=e.size,u=R()("ui",l,"breadcrumb",n),c=S(Qo,e),d=$e(Qo,e);if(!r.isNil(t))return A.a.createElement(d,a()({},c,{className:u}),t);var f=[];return nn()(s,function(e,t){var n=Zo.create(e);if(f.push(n),t!==s.length-1){var r="".concat(n.key,"_divider")||!1;f.push($o.create({content:o,icon:i,key:r}))}}),A.a.createElement(d,a()({},c,{className:u}),f)}_()(Zo,"handledProps",["active","as","children","className","content","href","link","onClick"]),Zo.propTypes={},Zo.create=ft(Zo,function(e){return{content:e,link:!0}}),Qo.handledProps=["as","children","className","divider","icon","sections","size"],Qo.propTypes={},Qo.Divider=$o,Qo.Section=Zo;var Jo=Qo;function ei(e){var t=e.children,n=e.className,o=e.content,i=e.control,s=e.disabled,l=e.error,u=e.inline,c=e.label,d=e.required,f=e.type,h=e.width,p=R()(Ve(s,"disabled"),Ve(l,"error"),Ve(u,"inline"),Ve(d,"required"),Ye(h,"wide"),"field",n),m=S(ei,e),g=$e(ei,e);if(O()(i))return O()(c)?A.a.createElement(g,a()({},m,{className:p}),r.isNil(t)?o:t):A.a.createElement(g,a()({},m,{className:p}),vt(c,{autoGenerateKey:!1}));var v=Qe()({},m,{content:o,children:t,disabled:s,required:d,type:f});return"input"!==i||"checkbox"!==f&&"radio"!==f?i===Ur||i===Vr?A.a.createElement(g,{className:p},Object(T.createElement)(i,Qe()({},v,{label:c}))):A.a.createElement(g,{className:p},vt(c,{defaultProps:{htmlFor:ho()(v,"id")},autoGenerateKey:!1}),Object(T.createElement)(i,v)):A.a.createElement(g,{className:p},A.a.createElement("label",null,Object(T.createElement)(i,v)," ",c))}ei.handledProps=["as","children","className","content","control","disabled","error","inline","label","required","type","width"],ei.propTypes={};var ti=ei;function ni(e){var t=e.control,n=S(ni,e),r=$e(ni,e);return A.a.createElement(r,a()({},n,{control:t}))}ni.handledProps=["as","control"],ni.propTypes={},ni.defaultProps={as:ti,control:In};var ri=ni;function oi(e){var t=e.control,n=S(oi,e),r=$e(oi,e);return A.a.createElement(r,a()({},n,{control:t}))}oi.handledProps=["as","control"],oi.propTypes={},oi.defaultProps={as:ti,control:Ur};var ii=oi;function ai(e){var t=e.control,n=S(ai,e),r=$e(ai,e);return A.a.createElement(r,a()({},n,{control:t}))}ai.handledProps=["as","control"],ai.propTypes={},ai.defaultProps={as:ti,control:Co};var si=ai;function li(e){var t=e.children,n=e.className,r=e.grouped,o=e.inline,i=e.unstackable,s=e.widths,l=R()(Ve(r,"grouped"),Ve(o,"inline"),Ve(i,"unstackable"),Ye(s,null,!0),"fields",n),u=S(li,e),c=$e(li,e);return A.a.createElement(c,a()({},u,{className:l}),t)}li.handledProps=["as","children","className","grouped","inline","unstackable","widths"],li.propTypes={};var ui=li,ci=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"computeIcon",function(){var e=n.props,t=e.loading,r=e.icon;return O()(r)?t?"spinner":void 0:r}),_()(y()(y()(n)),"computeTabIndex",function(){var e=n.props,t=e.disabled,r=e.tabIndex;return O()(r)?t?-1:void 0:r}),_()(y()(y()(n)),"focus",function(){return n.inputRef.focus()}),_()(y()(y()(n)),"select",function(){return n.inputRef.select()}),_()(y()(y()(n)),"handleChange",function(e){var t=ho()(e,"target.value");E()(n.props,"onChange",e,Qe()({},n.props,{value:t}))}),_()(y()(y()(n)),"handleChildOverrides",function(e,t){return Qe()({},t,e.props,{ref:function(t){E()(e,"ref",t),n.handleInputRef(t)}})}),_()(y()(y()(n)),"handleInputRef",function(e){return n.inputRef=e}),_()(y()(y()(n)),"partitionProps",function(){var e=n.props,r=e.disabled,o=e.type,i=n.computeTabIndex(),a=S(t,n.props),s=It(a),l=Mt()(s,2),u=l[0],c=l[1];return[Qe()({},u,{disabled:r,type:o,tabIndex:i,onChange:n.handleChange,ref:n.handleInputRef}),c]}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,o=n.action,i=n.actionPosition,s=n.children,l=n.className,u=n.disabled,c=n.error,d=n.fluid,f=n.focus,h=n.icon,p=n.iconPosition,m=n.input,g=n.inverted,v=n.label,y=n.labelPosition,b=n.loading,_=n.size,x=n.transparent,w=n.type,k=R()("ui",_,Ve(u,"disabled"),Ve(c,"error"),Ve(d,"fluid"),Ve(f,"focus"),Ve(g,"inverted"),Ve(b,"loading"),Ve(x,"transparent"),He(i,"action")||Ve(o,"action"),He(p,"icon")||Ve(h||b,"icon"),He(y,"labeled")||Ve(v,"labeled"),"input",l),E=$e(t,this.props),S=this.partitionProps(),M=Mt()(S,2),C=M[0],j=M[1];if(!r.isNil(s)){var O=Cn()(T.Children.toArray(s),function(t){return"input"!==t.type?t:Object(T.cloneElement)(t,e.handleChildOverrides(t,C))});return A.a.createElement(E,a()({},j,{className:k}),O)}var N=In.create(o,{autoGenerateKey:!1}),P=Tn.create(v,{defaultProps:{className:R()("label",jt()(y,"corner")&&y)},autoGenerateKey:!1});return A.a.createElement(E,a()({},j,{className:k}),"left"===i&&N,"right"!==y&&P,gt(m||w,{defaultProps:C,autoGenerateKey:!1}),Et.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==i&&N,"right"===y&&P)}}]),t}(T.Component);_()(ci,"defaultProps",{type:"text"}),_()(ci,"handledProps",["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"]),ci.propTypes={},ci.create=ft(ci,function(e){return{type:e}});var di=ci;function fi(e){var t=e.control,n=S(fi,e),r=$e(fi,e);return A.a.createElement(r,a()({},n,{control:t}))}fi.handledProps=["as","control"],fi.propTypes={},fi.defaultProps={as:ti,control:di};var hi=fi;function pi(e){var t=e.control,n=S(pi,e),r=$e(pi,e);return A.a.createElement(r,a()({},n,{control:t}))}pi.handledProps=["as","control"],pi.propTypes={},pi.defaultProps={as:ti,control:Vr};var mi=pi;function gi(e){var t=e.control,n=e.options,r=S(gi,e),o=$e(gi,e);return A.a.createElement(o,a()({},r,{control:t,options:n}))}gi.handledProps=["as","control","options"],gi.propTypes={},gi.defaultProps={as:ti,control:Oo};var vi=gi;function yi(e){var t=e.control,n=S(yi,e),r=$e(yi,e);return A.a.createElement(r,a()({},n,{control:t}))}yi.handledProps=["as","control"],yi.propTypes={},yi.defaultProps={as:ti,control:Io};var bi=yi,_i=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleSubmit",function(e){"string"!=typeof n.props.action&&E()(e,"preventDefault");for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];E.a.apply(void 0,[n.props,"onSubmit",e,n.props].concat(r))}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.action,r=e.children,o=e.className,i=e.error,s=e.inverted,l=e.loading,u=e.reply,c=e.size,d=e.success,f=e.unstackable,h=e.warning,p=e.widths,m=R()("ui",c,Ve(i,"error"),Ve(s,"inverted"),Ve(l,"loading"),Ve(u,"reply"),Ve(d,"success"),Ve(f,"unstackable"),Ve(h,"warning"),Ye(p,null,!0),"form",o),g=S(t,this.props),v=$e(t,this.props);return A.a.createElement(v,a()({},g,{action:n,className:m,onSubmit:this.handleSubmit}),r)}}]),t}(T.Component);_()(_i,"defaultProps",{as:"form"}),_()(_i,"Field",ti),_()(_i,"Button",ri),_()(_i,"Checkbox",ii),_()(_i,"Dropdown",si),_()(_i,"Group",ui),_()(_i,"Input",hi),_()(_i,"Radio",mi),_()(_i,"Select",vi),_()(_i,"TextArea",bi),_()(_i,"handledProps",["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"]),_i.propTypes={};var xi=_i;function wi(e){var t=e.children,n=e.className,r=e.computer,o=e.color,i=e.floated,s=e.largeScreen,l=e.mobile,u=e.only,c=e.stretched,d=e.tablet,f=e.textAlign,h=e.verticalAlign,p=e.widescreen,m=e.width,g=R()(o,Ve(c,"stretched"),Ge(u,"only"),Xe(f),He(i,"floated"),Ke(h),Ye(r,"wide computer"),Ye(s,"wide large screen"),Ye(l,"wide mobile"),Ye(d,"wide tablet"),Ye(p,"wide widescreen"),Ye(m,"wide"),"column",n),v=S(wi,e),y=$e(wi,e);return A.a.createElement(y,a()({},v,{className:g}),t)}wi.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],wi.propTypes={},wi.create=ft(wi,function(e){return{children:e}});var ki=wi;function Ei(e){var t=e.centered,n=e.children,r=e.className,o=e.color,i=e.columns,s=e.divided,l=e.only,u=e.reversed,c=e.stretched,d=e.textAlign,f=e.verticalAlign,h=R()(o,Ve(t,"centered"),Ve(s,"divided"),Ve(c,"stretched"),Ge(l,"only"),Ge(u,"reversed"),Xe(d),Ke(f),Ye(i,"column",!0),"row",r),p=S(Ei,e),m=$e(Ei,e);return A.a.createElement(m,a()({},p,{className:h}),n)}Ei.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Ei.propTypes={};var Ti=Ei;function Ai(e){var t=e.celled,n=e.centered,r=e.children,o=e.className,i=e.columns,s=e.container,l=e.divided,u=e.doubling,c=e.inverted,d=e.padded,f=e.relaxed,h=e.reversed,p=e.stackable,m=e.stretched,g=e.textAlign,v=e.verticalAlign,y=R()("ui",Ve(n,"centered"),Ve(s,"container"),Ve(u,"doubling"),Ve(c,"inverted"),Ve(p,"stackable"),Ve(m,"stretched"),We(t,"celled"),We(l,"divided"),We(d,"padded"),We(f,"relaxed"),Ge(h,"reversed"),Xe(g),Ke(v),Ye(i,"column",!0),"grid",o),b=S(Ai,e),_=$e(Ai,e);return A.a.createElement(_,a()({},b,{className:y}),r)}Ai.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Ai.Column=ki,Ai.Row=Ti,Ai.propTypes={};var Si=Ai;function Mi(e){var t=e.children,n=e.className,o=e.content,i=R()("content",n),s=S(Mi,e),l=$e(Mi,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Mi.handledProps=["as","children","className","content"],Mi.propTypes={};var Ci=Mi;function ji(e){var t=e.children,n=e.className,o=e.content,i=R()("header",n),s=S(ji,e),l=$e(ji,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}ji.handledProps=["as","children","className","content"],ji.propTypes={},ji.create=ft(ji,function(e){return{content:e}});var Oi=ji;function Ni(e){var t=e.children,n=e.className,o=e.content,i=R()("content",n),s=S(Ni,e),l=$e(Ni,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Ni.handledProps=["as","children","className","content"],Ni.propTypes={},Ni.defaultProps={as:"li"},Ni.create=ft(Ni,function(e){return{content:e}});var Ri=Ni;function Pi(e){var t=e.children,n=e.className,o=e.items,i=R()("list",n),s=S(Pi,e),l=$e(Pi,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?Cn()(o,Ri.create):t)}Pi.handledProps=["as","children","className","items"],Pi.propTypes={},Pi.defaultProps={as:"ul"},Pi.create=ft(Pi,function(e){return{items:e}});var Ii=Pi,Di=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleDismiss",function(e){var t=n.props.onDismiss;t&&t(e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.attached,o=e.children,i=e.className,s=e.color,l=e.compact,u=e.content,c=e.error,d=e.floating,f=e.header,h=e.hidden,p=e.icon,m=e.info,g=e.list,v=e.negative,y=e.onDismiss,b=e.positive,_=e.size,x=e.success,w=e.visible,k=e.warning,E=R()("ui",s,_,Ve(l,"compact"),Ve(c,"error"),Ve(d,"floating"),Ve(h,"hidden"),Ve(p,"icon"),Ve(m,"info"),Ve(v,"negative"),Ve(b,"positive"),Ve(x,"success"),Ve(w,"visible"),Ve(k,"warning"),We(n,"attached"),"message",i),T=y&&A.a.createElement(Et,{name:"close",onClick:this.handleDismiss}),M=S(t,this.props),C=$e(t,this.props);return r.isNil(o)?A.a.createElement(C,a()({},M,{className:E}),T,Et.create(p,{autoGenerateKey:!1}),(!O()(f)||!O()(u)||!O()(g))&&A.a.createElement(Ci,null,Oi.create(f,{autoGenerateKey:!1}),Ii.create(g,{autoGenerateKey:!1}),yt(u,{autoGenerateKey:!1}))):A.a.createElement(C,a()({},M,{className:E}),T,o)}}]),t}(T.Component);function Li(e){var t=e.children,n=e.className,r=R()(n),o=S(Li,e),i=$e(Li,e);return A.a.createElement(i,a()({},o,{className:r}),t)}_()(Di,"Content",Ci),_()(Di,"Header",Oi),_()(Di,"List",Ii),_()(Di,"Item",Ri),_()(Di,"handledProps",["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"]),Di.propTypes={},Li.handledProps=["as","children","className"],Li.defaultProps={as:"tbody"},Li.propTypes={};var Bi=Li;function Fi(e){var t=e.active,n=e.children,o=e.className,i=e.collapsing,s=e.content,l=e.disabled,u=e.error,c=e.icon,d=e.negative,f=e.positive,h=e.selectable,p=e.singleLine,m=e.textAlign,g=e.verticalAlign,v=e.warning,y=e.width,b=R()(Ve(t,"active"),Ve(i,"collapsing"),Ve(l,"disabled"),Ve(u,"error"),Ve(d,"negative"),Ve(f,"positive"),Ve(h,"selectable"),Ve(p,"single line"),Ve(v,"warning"),Xe(m),Ke(g),Ye(y,"wide"),o),_=S(Fi,e),x=$e(Fi,e);return r.isNil(n)?A.a.createElement(x,a()({},_,{className:b}),Et.create(c),s):A.a.createElement(x,a()({},_,{className:b}),n)}Fi.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],Fi.defaultProps={as:"td"},Fi.propTypes={},Fi.create=ft(Fi,function(e){return{content:e}});var zi=Fi;function Ui(e){var t=e.children,n=e.className,o=e.content,i=e.fullWidth,s=R()(Ve(i,"full-width"),n),l=S(Ui,e),u=$e(Ui,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}Ui.handledProps=["as","children","className","content","fullWidth"],Ui.defaultProps={as:"thead"},Ui.propTypes={};var qi=Ui;function Vi(e){var t=e.as,n=S(Vi,e);return A.a.createElement(qi,a()({},n,{as:t}))}Vi.handledProps=["as"],Vi.propTypes={},Vi.defaultProps={as:"tfoot"};var Hi=Vi;function Wi(e){var t=e.as,n=e.className,r=e.sorted,o=R()(He(r,"sorted"),n),i=S(Wi,e);return A.a.createElement(zi,a()({},i,{as:t,className:o}))}Wi.handledProps=["as","className","sorted"],Wi.propTypes={},Wi.defaultProps={as:"th"};var Gi=Wi;function Xi(e){var t=e.active,n=e.cellAs,o=e.cells,i=e.children,s=e.className,l=e.disabled,u=e.error,c=e.negative,d=e.positive,f=e.textAlign,h=e.verticalAlign,p=e.warning,m=R()(Ve(t,"active"),Ve(l,"disabled"),Ve(u,"error"),Ve(c,"negative"),Ve(d,"positive"),Ve(p,"warning"),Xe(f),Ke(h),s),g=S(Xi,e),v=$e(Xi,e);return r.isNil(i)?A.a.createElement(v,a()({},g,{className:m}),Cn()(o,function(e){return zi.create(e,{defaultProps:{as:n}})})):A.a.createElement(v,a()({},g,{className:m}),i)}Xi.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],Xi.defaultProps={as:"tr",cellAs:"td"},Xi.propTypes={},Xi.create=ft(Xi,function(e){return{cells:e}});var Ki=Xi;function Yi(e){var t=e.attached,n=e.basic,o=e.celled,i=e.children,s=e.className,l=e.collapsing,u=e.color,c=e.columns,d=e.compact,f=e.definition,h=e.fixed,p=e.footerRow,m=e.headerRow,g=e.inverted,v=e.padded,y=e.renderBodyRow,b=e.selectable,_=e.singleLine,x=e.size,w=e.sortable,k=e.stackable,E=e.striped,T=e.structured,M=e.tableData,C=e.textAlign,j=e.unstackable,O=e.verticalAlign,N=R()("ui",u,x,Ve(o,"celled"),Ve(l,"collapsing"),Ve(f,"definition"),Ve(h,"fixed"),Ve(g,"inverted"),Ve(b,"selectable"),Ve(_,"single line"),Ve(w,"sortable"),Ve(k,"stackable"),Ve(E,"striped"),Ve(T,"structured"),Ve(j,"unstackable"),We(t,"attached"),We(n,"basic"),We(d,"compact"),We(v,"padded"),Xe(C),Ke(O),Ye(c,"column"),"table",s),P=S(Yi,e),I=$e(Yi,e);return r.isNil(i)?A.a.createElement(I,a()({},P,{className:N}),m&&A.a.createElement(qi,null,Ki.create(m,{defaultProps:{cellAs:"th"}})),A.a.createElement(Bi,null,y&&Cn()(M,function(e,t){return Ki.create(y(e,t))})),p&&A.a.createElement(Hi,null,Ki.create(p))):A.a.createElement(I,a()({},P,{className:N}),i)}Yi.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],Yi.defaultProps={as:"table"},Yi.propTypes={},Yi.Body=Bi,Yi.Cell=zi,Yi.Footer=Hi,Yi.Header=qi,Yi.HeaderCell=Gi,Yi.Row=Ki;var $i=Yi;function Zi(e){var t=e.children,n=e.className,o=e.content,i=e.fluid,s=e.text,l=e.textAlign,u=R()("ui",Ve(s,"text"),Ve(i,"fluid"),Xe(l),"container",n),c=S(Zi,e),d=$e(Zi,e);return A.a.createElement(d,a()({},c,{className:u}),r.isNil(t)?o:t)}Zi.handledProps=["as","children","className","content","fluid","text","textAlign"],Zi.propTypes={};var Qi=Zi;function Ji(e){var t=e.children,n=e.className,o=e.clearing,i=e.content,s=e.fitted,l=e.hidden,u=e.horizontal,c=e.inverted,d=e.section,f=e.vertical,h=R()("ui",Ve(o,"clearing"),Ve(s,"fitted"),Ve(l,"hidden"),Ve(u,"horizontal"),Ve(c,"inverted"),Ve(d,"section"),Ve(f,"vertical"),"divider",n),p=S(Ji,e),m=$e(Ji,e);return A.a.createElement(m,a()({},p,{className:h}),r.isNil(t)?i:t)}Ji.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],Ji.propTypes={};var ea=Ji;function ta(e){var t=e.children,n=e.className,o=e.content,i=R()("sub header",n),s=S(ta,e),l=$e(ta,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}ta.handledProps=["as","children","className","content"],ta.propTypes={},ta.create=ft(ta,function(e){return{content:e}});var na=ta;function ra(e){var t=e.children,n=e.className,o=e.content,i=R()("content",n),s=S(ra,e),l=$e(ra,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}ra.handledProps=["as","children","className","content"],ra.propTypes={};var oa=ra;function ia(e){var t=e.attached,n=e.block,o=e.children,i=e.className,s=e.color,l=e.content,u=e.disabled,c=e.dividing,d=e.floated,f=e.icon,h=e.image,p=e.inverted,m=e.size,g=e.sub,v=e.subheader,y=e.textAlign,b=R()("ui",s,m,Ve(n,"block"),Ve(u,"disabled"),Ve(c,"dividing"),He(d,"floated"),Ve(!0===f,"icon"),Ve(!0===h,"image"),Ve(p,"inverted"),Ve(g,"sub"),We(t,"attached"),Xe(y),"header",i),_=S(ia,e),x=$e(ia,e);if(!r.isNil(o))return A.a.createElement(x,a()({},_,{className:b}),o);var w=Et.create(f,{autoGenerateKey:!1}),k=_n.create(h,{autoGenerateKey:!1}),E=na.create(v,{autoGenerateKey:!1});return w||k?A.a.createElement(x,a()({},_,{className:b}),w||k,(l||E)&&A.a.createElement(oa,null,l,E)):A.a.createElement(x,a()({},_,{className:b}),l,E)}ia.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],ia.propTypes={},ia.Content=oa,ia.Subheader=na;var aa=ia;function sa(e){var t=e.children,n=e.className,o=e.content,i=R()(n,"description"),s=S(sa,e),l=$e(sa,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}sa.handledProps=["as","children","className","content"],sa.propTypes={},sa.create=ft(sa,function(e){return{content:e}});var la=sa;function ua(e){var t=e.children,n=e.className,o=e.content,i=R()("header",n),s=S(ua,e),l=$e(ua,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}ua.handledProps=["as","children","className","content"],ua.propTypes={},ua.create=ft(ua,function(e){return{content:e}});var ca=ua;function da(e){var t=e.children,n=e.className,o=e.content,i=e.description,s=e.floated,l=e.header,u=e.verticalAlign,c=R()(He(s,"floated"),Ke(u),"content",n),d=S(da,e),f=$e(da,e);return r.isNil(t)?A.a.createElement(f,a()({},d,{className:c}),ca.create(l),la.create(i),o):A.a.createElement(f,a()({},d,{className:c}),t)}da.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],da.propTypes={},da.create=ft(da,function(e){return{content:e}});var fa=da;function ha(e){var t=e.className,n=e.verticalAlign,r=R()(Ke(n),t),o=S(ha,e);return A.a.createElement(Et,a()({},o,{className:r}))}ha.handledProps=["className","verticalAlign"],ha.propTypes={},ha.create=ft(ha,function(e){return{name:e}});var pa=ha,ma=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){n.props.disabled||E()(n.props,"onClick",e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,o=e.children,i=e.className,s=e.content,l=e.description,u=e.disabled,c=e.header,d=e.icon,f=e.image,h=e.value,p=$e(t,this.props),m=R()(Ve(n,"active"),Ve(u,"disabled"),Ve("li"!==p,"item"),i),g=S(t,this.props),v="li"===p?{value:h}:{"data-value":h};if(!r.isNil(o))return A.a.createElement(p,a()({},v,{role:"listitem",className:m,onClick:this.handleClick},g),o);var y=pa.create(d,{autoGenerateKey:!1}),b=_n.create(f,{autoGenerateKey:!1});if(!Object(T.isValidElement)(s)&&nt()(s))return A.a.createElement(p,a()({},v,{role:"listitem",className:m,onClick:this.handleClick},g),y||b,fa.create(s,{autoGenerateKey:!1,defaultProps:{header:c,description:l}}));var _=ca.create(c,{autoGenerateKey:!1}),x=la.create(l,{autoGenerateKey:!1});return y||b?A.a.createElement(p,a()({},v,{role:"listitem",className:m,onClick:this.handleClick},g),y||b,(s||_||x)&&A.a.createElement(fa,null,_,x,s)):A.a.createElement(p,a()({},v,{role:"listitem",className:m,onClick:this.handleClick},g),_,x,s)}}]),t}(T.Component);_()(ma,"handledProps",["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"]),ma.propTypes={},ma.create=ft(ma,function(e){return{content:e}});var ga=ma;function va(e){var t=e.children,n=e.className,o=e.content,i=S(va,e),s=$e(va,e),l=R()(Ve("ul"!==s&&"ol"!==s,"list"),n);return A.a.createElement(s,a()({},i,{className:l}),r.isNil(t)?o:t)}va.handledProps=["as","children","className","content"],va.propTypes={};var ya=va,ba=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleItemOverrides",function(e){return{onClick:function(t,r){E()(e,"onClick",t,r),E()(n.props,"onItemClick",t,r)}}}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,o=n.animated,i=n.bulleted,s=n.celled,l=n.children,u=n.className,c=n.content,d=n.divided,f=n.floated,h=n.horizontal,p=n.inverted,m=n.items,g=n.link,v=n.ordered,y=n.relaxed,b=n.selection,_=n.size,x=n.verticalAlign,w=R()("ui",_,Ve(o,"animated"),Ve(i,"bulleted"),Ve(s,"celled"),Ve(d,"divided"),Ve(h,"horizontal"),Ve(p,"inverted"),Ve(g,"link"),Ve(v,"ordered"),Ve(b,"selection"),We(y,"relaxed"),He(f,"floated"),Ke(x),"list",u),k=S(t,this.props),E=$e(t,this.props);return r.isNil(l)?r.isNil(c)?A.a.createElement(E,a()({role:"list",className:w},k),Cn()(m,function(t){return ga.create(t,{overrideProps:e.handleItemOverrides})})):A.a.createElement(E,a()({role:"list",className:w},k),c):A.a.createElement(E,a()({role:"list",className:w},k),l)}}]),t}(T.Component);_()(ba,"Content",fa),_()(ba,"Description",la),_()(ba,"Header",ca),_()(ba,"Icon",pa),_()(ba,"Item",ga),_()(ba,"List",ya),_()(ba,"handledProps",["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"]),ba.propTypes={};var _a=ba;function xa(e){var t=e.active,n=e.children,o=e.className,i=e.content,s=e.disabled,l=e.indeterminate,u=e.inline,c=e.inverted,d=e.size,f=R()("ui",d,Ve(t,"active"),Ve(s,"disabled"),Ve(l,"indeterminate"),Ve(c,"inverted"),Ve(n||i,"text"),We(u,"inline"),"loader",o),h=S(xa,e),p=$e(xa,e);return A.a.createElement(p,a()({},h,{className:f}),r.isNil(n)?i:n)}xa.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],xa.propTypes={};var wa=xa;function ka(e){var t=e.children,n=e.className,o=e.content,i=e.image,s=R()(Ve(i,"image"),"header",n),l=S(ka,e),u=$e(ka,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}ka.handledProps=["as","children","className","content","image"],ka.propTypes={};var Ea=ka;function Ta(e){var t=e.className,n=e.square,r=e.rectangular,o=R()(Ve(n,"square"),Ve(r,"rectangular"),"image",t),i=S(Ta,e),s=$e(Ta,e);return A.a.createElement(s,a()({},i,{className:o}))}Ta.handledProps=["as","className","rectangular","square"],Ta.propTypes={};var Aa=Ta;function Sa(e){var t=e.className,n=e.length,r=R()("line",n,t),o=S(Sa,e),i=$e(Sa,e);return A.a.createElement(i,a()({},o,{className:r}))}Sa.handledProps=["as","className","length"],Sa.propTypes={};var Ma=Sa;function Ca(e){var t=e.children,n=e.className,o=e.content,i=R()("paragraph",n),s=S(Ca,e),l=$e(Ca,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Ca.handledProps=["as","children","className","content"],Ca.propTypes={};var ja=Ca;function Oa(e){var t=e.children,n=e.className,o=e.content,i=e.fluid,s=e.inverted,l=R()("ui",Ve(i,"fluid"),Ve(s,"inverted"),"placeholder",n),u=S(Oa,e),c=$e(Oa,e);return A.a.createElement(c,a()({},u,{className:l}),r.isNil(t)?o:t)}Oa.handledProps=["as","children","className","content","fluid","inverted"],Oa.propTypes={},Oa.Header=Ea,Oa.Image=Aa,Oa.Line=Ma,Oa.Paragraph=ja;var Na=Oa;function Ra(e){var t=e.attached,n=e.children,o=e.className,i=e.close,s=e.content,l=e.dividing,u=e.internal,c=e.position,d=e.size,f=R()("ui",c,d,Ve(t,"attached"),Ve(l,"dividing"),Ve(u,"internal"),We(i,"close"),"rail",o),h=S(Ra,e),p=$e(Ra,e);return A.a.createElement(p,a()({},h,{className:f}),r.isNil(n)?s:n)}Ra.handledProps=["as","attached","children","className","close","content","dividing","internal","position","size"],Ra.propTypes={};var Pa=Ra;function Ia(e){var t=e.children,n=e.className,o=e.content,i=e.hidden,s=e.visible,l=R()("ui",Ve(i,"hidden"),Ve(s,"visible"),"content",n),u=S(Ia,e),c=$e(Ia,e);return A.a.createElement(c,a()({},u,{className:l}),r.isNil(t)?o:t)}Ia.handledProps=["as","children","className","content","hidden","visible"],Ia.propTypes={};var Da=Ia;function La(e){var t=e.active,n=e.animated,o=e.children,i=e.className,s=e.content,l=e.disabled,u=e.instant,c=R()("ui",n,Ve(t,"active"),Ve(l,"disabled"),Ve(u,"instant"),"reveal",i),d=S(La,e),f=$e(La,e);return A.a.createElement(f,a()({},d,{className:c}),r.isNil(o)?s:o)}La.handledProps=["active","animated","as","children","className","content","disabled","instant"],La.propTypes={},La.Content=Da;var Ba=La;function Fa(e){var t=e.children,n=e.className,o=e.compact,i=e.content,s=e.horizontal,l=e.piled,u=e.raised,c=e.size,d=e.stacked,f=R()("ui",c,Ve(o,"compact"),Ve(s,"horizontal"),Ve(l,"piled"),Ve(u,"raised"),Ve(d,"stacked"),"segments",n),h=S(Fa,e),p=$e(Fa,e);return A.a.createElement(p,a()({},h,{className:f}),r.isNil(t)?i:t)}Fa.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Fa.propTypes={};var za=Fa;function Ua(e){var t=e.children,n=e.className,o=e.content,i=R()("inline",n),s=S(Ua,e),l=$e(Ua,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Ua.handledProps=["as","children","className","content"],Ua.propTypes={};var qa=Ua;function Va(e){var t=e.attached,n=e.basic,o=e.children,i=e.circular,s=e.className,l=e.clearing,u=e.color,c=e.compact,d=e.content,f=e.disabled,h=e.floated,p=e.inverted,m=e.loading,g=e.placeholder,v=e.padded,y=e.piled,b=e.raised,_=e.secondary,x=e.size,w=e.stacked,k=e.tertiary,E=e.textAlign,T=e.vertical,M=R()("ui",u,x,Ve(n,"basic"),Ve(i,"circular"),Ve(l,"clearing"),Ve(c,"compact"),Ve(f,"disabled"),Ve(p,"inverted"),Ve(m,"loading"),Ve(g,"placeholder"),Ve(y,"piled"),Ve(b,"raised"),Ve(_,"secondary"),Ve(w,"stacked"),Ve(k,"tertiary"),Ve(T,"vertical"),We(t,"attached"),We(v,"padded"),Xe(E),He(h,"floated"),"segment",s),C=S(Va,e),j=$e(Va,e);return A.a.createElement(j,a()({},C,{className:M}),r.isNil(o)?d:o)}Va.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],Va.Group=za,Va.Inline=qa,Va.propTypes={};var Ha=Va;function Wa(e){var t=e.children,n=e.className,o=e.content,i=R()("description",n),s=S(Wa,e),l=$e(Wa,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Wa.handledProps=["as","children","className","content"],Wa.propTypes={},Wa.create=ft(Wa,function(e){return{content:e}});var Ga=Wa;function Xa(e){var t=e.children,n=e.className,o=e.content,i=R()("title",n),s=S(Xa,e),l=$e(Xa,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Xa.handledProps=["as","children","className","content"],Xa.propTypes={},Xa.create=ft(Xa,function(e){return{content:e}});var Ka=Xa;function Ya(e){var t=e.children,n=e.className,o=e.content,i=e.description,s=e.title,l=R()("content",n),u=S(Ya,e),c=$e(Ya,e);return r.isNil(t)?r.isNil(o)?A.a.createElement(c,a()({},u,{className:l}),Ka.create(s,{autoGenerateKey:!1}),Ga.create(i,{autoGenerateKey:!1})):A.a.createElement(c,a()({},u,{className:l}),o):A.a.createElement(c,a()({},u,{className:l}),t)}Ya.handledProps=["as","children","className","content","description","title"],Ya.propTypes={},Ya.create=ft(Ya,function(e){return{content:e}});var $a=Ya;n("./node_modules/lodash/pickBy.js");function Za(e){var t=e.attached,n=e.children,o=e.className,i=e.content,s=e.fluid,l=e.items,u=e.ordered,c=e.size,d=e.stackable,f=e.unstackable,h=e.vertical,p=e.widths,m=R()("ui",c,Ve(s,"fluid"),Ve(u,"ordered"),Ve(f,"unstackable"),Ve(h,"vertical"),We(t,"attached"),He(d,"stackable"),Ye(p),"steps",o),g=S(Za,e),v=$e(Za,e);return r.isNil(n)?r.isNil(i)?A.a.createElement(v,a()({},g,{className:m}),Cn()(l,function(e){return es.create(e)})):A.a.createElement(v,a()({},g,{className:m}),i):A.a.createElement(v,a()({},g,{className:m}),n)}Za.handledProps=["as","attached","children","className","content","fluid","items","ordered","size","stackable","unstackable","vertical","widths"],Za.propTypes={};var Qa=Za,Ja=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"computeElementType",function(){if(n.props.onClick)return"a"}),_()(y()(y()(n)),"handleClick",function(e){n.props.disabled||E()(n.props,"onClick",e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,o=e.children,i=e.className,s=e.completed,l=e.content,u=e.description,c=e.disabled,d=e.href,f=e.icon,h=e.link,p=e.title,m=R()(Ve(n,"active"),Ve(s,"completed"),Ve(c,"disabled"),Ve(h,"link"),"step",i),g=S(t,this.props),v=$e(t,this.props,this.computeElementType);return r.isNil(o)?r.isNil(l)?A.a.createElement(v,a()({},g,{className:m,href:d,onClick:this.handleClick}),Et.create(f,{autoGenerateKey:!1}),$a.create({description:u,title:p},{autoGenerateKey:!1})):A.a.createElement(v,a()({},g,{className:m,href:d,onClick:this.handleClick}),l):A.a.createElement(v,a()({},g,{className:m,href:d,onClick:this.handleClick}),o)}}]),t}(T.Component);_()(Ja,"Content",$a),_()(Ja,"Description",Ga),_()(Ja,"Group",Qa),_()(Ja,"Title",Ka),_()(Ja,"handledProps",["active","as","children","className","completed","content","description","disabled","href","icon","link","onClick","ordered","title"]),Ja.propTypes={},Ja.create=ft(Ja,function(e){return{content:e}});var es=Ja,ts=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){return E()(n.props,"onClick",e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.children,o=e.className,i=e.content,s=R()(Ve(n,"active"),"title",o),l=S(t,this.props),u=$e(t,this.props);return O()(i)?A.a.createElement(u,a()({},l,{className:s,onClick:this.handleClick}),r):A.a.createElement(u,a()({},l,{className:s,onClick:this.handleClick}),A.a.createElement(Et,{name:"dropdown"}),i)}}]),t}(T.Component);function ns(e){var t=e.active,n=e.children,o=e.className,i=e.content,s=R()("content",Ve(t,"active"),o),l=S(ns,e),u=$e(ns,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(n)?i:n)}_()(ts,"handledProps",["active","as","children","className","content","index","onClick"]),ts.propTypes={},ts.create=ft(ts,function(e){return{content:e}}),ns.handledProps=["active","as","children","className","content"],ns.propTypes={},ns.create=ft(ns,function(e){return{content:e}});var rs=ns,os=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleTitleOverrides",function(e){return{onClick:function(t,r){E()(e,"onClick",t,r),E()(n.props,"onTitleClick",t,r)}}}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.content,r=e.index,o=e.title;return[ts.create(o,{autoGenerateKey:!1,defaultProps:{active:t,index:r,key:"title"},overrideProps:this.handleTitleOverrides}),rs.create(n,{autoGenerateKey:!1,defaultProps:{active:t,key:"content"}})]}}]),t}(T.Component);_()(os,"handledProps",["active","content","index","onTitleClick","title"]),os.propTypes={},os.create=ft(os,null);var is=os,as=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"computeNewIndex",function(e){var t=n.props.exclusive,r=n.state.activeIndex;return t?e===r?-1:e:jt()(r,e)?_t()(r,e):C()(r).concat([e])}),_()(y()(y()(n)),"handleTitleClick",function(e,t){var r=t.index;n.trySetState({activeIndex:n.computeNewIndex(r)}),E()(n.props,"onTitleClick",e,t)}),_()(y()(y()(n)),"isIndexActive",function(e){var t=n.props.exclusive,r=n.state.activeIndex;return t?r===e:jt()(r,e)}),n}return g()(t,e),c()(t,[{key:"getInitialAutoControlledState",value:function(e){return{activeIndex:e.exclusive?-1:[]}}},{key:"render",value:function(){var e=this,n=this.props,o=n.className,i=n.children,s=n.panels,l=R()("accordion",o),u=S(t,this.props),c=$e(t,this.props);return A.a.createElement(c,a()({},u,{className:l}),r.isNil(i)?Cn()(s,function(t,n){return is.create(t,{defaultProps:{active:e.isIndexActive(n),index:n,onTitleClick:e.handleTitleClick}})}):i)}}]),t}(on);function ss(e){var t=e.className,n=e.fluid,r=e.inverted,o=e.styled,i=R()("ui",Ve(n,"fluid"),Ve(r,"inverted"),Ve(o,"styled"),t),s=S(ss,e);return A.a.createElement(as,a()({},s,{className:i}))}_()(as,"defaultProps",{exclusive:!0}),_()(as,"autoControlledProps",["activeIndex"]),_()(as,"handledProps",["activeIndex","as","children","className","defaultActiveIndex","exclusive","onTitleClick","panels"]),as.propTypes={},as.create=ft(as,function(e){return{content:e}}),ss.handledProps=["className","fluid","inverted","styled"],ss.propTypes={},ss.Accordion=as,ss.Content=rs,ss.Panel=is,ss.Title=ts;var ls=ss,us=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick,r=n.state.active;t&&t(e,Qe()({},n.props,{active:!0})),r||n.trySetState({active:!0})}),n}return g()(t,e),c()(t,[{key:"getSrc",value:function(){var e=this.props,t=e.autoplay,n=void 0===t||t,r=e.brandedUI,o=void 0!==r&&r,i=e.color,a=void 0===i?"#444444":i,s=e.hd,l=void 0===s||s,u=e.id,c=e.source,d=e.url;return"youtube"===c?["//www.youtube.com/embed/".concat(u),"?autohide=true","&amp;autoplay=".concat(n),"&amp;color=".concat(encodeURIComponent(a)),"&amp;hq=".concat(l),"&amp;jsapi=false","&amp;modestbranding=".concat(o),"&amp;rel=".concat(o?0:1)].join(""):"vimeo"===c?["//player.vimeo.com/video/".concat(u),"?api=false","&amp;autoplay=".concat(n),"&amp;byline=false","&amp;color=".concat(encodeURIComponent(a)),"&amp;portrait=false","&amp;title=false"].join(""):d}},{key:"render",value:function(){var e=this.props,n=e.aspectRatio,r=e.className,o=e.icon,i=e.placeholder,s=this.state.active,l=R()("ui",n,Ve(s,"active"),"embed",r),u=S(t,this.props),c=$e(t,this.props),d=void 0!==o?o:"video play";return A.a.createElement(c,a()({},u,{className:l,onClick:this.handleClick}),Et.create(d,{autoGenerateKey:!1}),i&&A.a.createElement("img",{className:"placeholder",src:i}),this.renderEmbed())}},{key:"renderEmbed",value:function(){var e=this.props,t=e.children,n=e.content,o=e.iframe,i=e.source;return this.state.active?r.isNil(t)?r.isNil(n)?A.a.createElement("div",{className:"embed"},pt(r.isNil(o)?this.getSrc():o,{defaultProps:{allowFullScreen:!1,frameBorder:0,height:"100%",scrolling:"no",src:this.getSrc(),title:"Embedded content from ".concat(i,"."),width:"100%"},autoGenerateKey:!1})):A.a.createElement("div",{className:"embed"},n):A.a.createElement("div",{className:"embed"},t):null}}]),t}(on);_()(us,"autoControlledProps",["active"]),_()(us,"handledProps",["active","as","aspectRatio","autoplay","brandedUI","children","className","color","content","defaultActive","hd","icon","id","iframe","onClick","placeholder","source","url"]),us.propTypes={};var cs=n("./node_modules/lodash/assign.js"),ds=n.n(cs);function fs(e){var t=e.children,n=e.className,o=e.content,i=R()("content",n),s=S(fs,e),l=$e(fs,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}function hs(e){var t=e.children,n=e.className,o=e.content,i=R()("header",n),s=S(hs,e),l=$e(hs,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}fs.handledProps=["as","children","className","content"],fs.propTypes={},fs.create=ft(fs,function(e){return{children:e}}),hs.handledProps=["as","children","className","content"],hs.propTypes={},hs.create=ft(hs,function(e){return{children:e}});var ps=["top left","top right","bottom right","bottom left","right center","left center","top center","bottom center"],ms=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"state",{}),_()(y()(y()(n)),"hideOnScroll",function(e){n.setState({closed:!0}),Kt.unsub("scroll",n.hideOnScroll,{target:window}),setTimeout(function(){n.mounted&&n.setState({closed:!1})},50),n.handleClose(e)}),_()(y()(y()(n)),"handleClose",function(e){E()(n.props,"onClose",e,n.props)}),_()(y()(y()(n)),"handleOpen",function(e){n.coords=n.getContext().getBoundingClientRect(),E()(n.props,"onOpen",e,n.props)}),_()(y()(y()(n)),"handlePortalMount",function(e){n.props.hideOnScroll&&Kt.sub("scroll",n.hideOnScroll,{target:window}),n.getContext()&&n.setPopupStyle(n.props.position),E()(n.props,"onMount",e,n.props)}),_()(y()(y()(n)),"handlePortalUnmount",function(e){n.props.hideOnScroll&&Kt.unsub("scroll",n.hideOnScroll,{target:window}),E()(n.props,"onUnmount",e,n.props)}),_()(y()(y()(n)),"handlePopupRef",function(e){n.popupCoords=e?e.getBoundingClientRect():null,n.setPopupStyle()}),_()(y()(y()(n)),"handleTriggerRef",function(e){n.triggerRef=e}),_()(y()(y()(n)),"getContext",function(){return n.props.context||n.triggerRef}),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.horizontalOffset,r=t.verticalOffset;n===e.horizontalOffset&&r===e.verticalOffset||this.setPopupStyle()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"computePopupStyle",value:function(e){var t={position:"absolute"},n=this.getContext();if(!Bt())return t;var r=this.props,o=r.horizontalOffset,i=r.verticalOffset,a=window,s=a.pageYOffset,l=a.pageXOffset,u=document.documentElement,c=u.clientWidth,d=u.clientHeight,f=this.coords||n.getBoundingClientRect();if(jt()(e,"right"))t.right=Math.round(c-(f.right+l)),t.left="auto";else if(jt()(e,"left"))t.left=Math.round(f.left+l),t.right="auto";else{var h=(f.width-this.popupCoords.width)/2;t.left=Math.round(f.left+h+l),t.right="auto"}if(jt()(e,"top"))t.bottom=Math.round(d-(f.top+s)),t.top="auto";else if(jt()(e,"bottom"))t.top=Math.round(f.bottom+s),t.bottom="auto";else{var p=(f.height+this.popupCoords.height)/2;t.top=Math.round(f.bottom+s-p),t.bottom="auto";var m=this.popupCoords.width+8;jt()(e,"right")?t.right-=m:t.left-=m}return o&&(at()(t.right)?t.right-=o:t.left-=o),i&&(at()(t.top)?t.top+=i:t.bottom+=i),t}},{key:"isStyleInViewport",value:function(e){var t=window,n=t.pageYOffset,r=t.pageXOffset,o=document.documentElement,i=o.clientWidth,a=o.clientHeight,s={top:e.top,left:e.left,width:this.popupCoords.width,height:this.popupCoords.height};return at()(e.right)&&(s.left=i-e.right-s.width),at()(e.bottom)&&(s.top=a-e.bottom-s.height),!(s.top<n)&&(!(s.top+s.height>n+a)&&(!(s.left<r)&&!(s.left+s.width>r+i)))}},{key:"setPopupStyle",value:function(){var e=this.getContext();if((this.coords||e)&&this.popupCoords){var t=this.props.position,n=this.computePopupStyle(t);if(this.props.keepInViewPort)for(var r=_t()(ps,t).concat([t]),o=0;!this.isStyleInViewport(n)&&o<r.length;o+=1)n=this.computePopupStyle(r[o]),t=r[o];n=Bo()(n,function(e){return at()(e)?"".concat(e,"px"):e}),this.setState({style:n,position:t})}}},{key:"getPortalProps",value:function(){var e={},t=this.props,n=t.on,r=t.hoverable,o=et()(n)?n:[n];return r&&(e.closeOnPortalMouseLeave=!0,e.mouseLeaveDelay=300),jt()(o,"click")&&(e.openOnTriggerClick=!0,e.closeOnTriggerClick=!0,e.closeOnDocumentClick=!0),jt()(o,"focus")&&(e.openOnTriggerFocus=!0,e.closeOnTriggerBlur=!0),jt()(o,"hover")&&(e.openOnTriggerMouseEnter=!0,e.closeOnTriggerMouseLeave=!0,e.mouseLeaveDelay=70,e.mouseEnterDelay=50),e}},{key:"render",value:function(){var e=this.props,n=e.basic,o=e.children,i=e.className,s=e.content,l=e.flowing,u=e.header,c=e.inverted,d=e.size,f=e.trigger,h=e.wide,p=this.state,m=p.position,g=p.closed,v=ds()({},this.state.style,this.props.style),y=R()("ui",m,d,We(h,"wide"),Ve(n,"basic"),Ve(l,"flowing"),Ve(c,"inverted"),"popup transition visible",i);if(g)return f;var b=S(t,this.props),_=dn.handledProps,x=Fn()(b,function(e,t,n){return jt()(_,n)||(e[n]=t),e},{}),w=Ln()(b,_),k=$e(t,this.props),E=A.a.createElement(k,a()({},x,{className:y,style:v,ref:this.handlePopupRef}),o,r.isNil(o)&&hs.create(u,{autoGenerateKey:!1}),r.isNil(o)&&fs.create(s,{autoGenerateKey:!1})),T=Qe()({},this.getPortalProps(),w);return A.a.createElement(dn,a()({},T,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:f,triggerRef:this.handleTriggerRef}),E)}}]),t}(T.Component);_()(ms,"defaultProps",{position:"top left",on:"hover",keepInViewPort:!0}),_()(ms,"Content",fs),_()(ms,"Header",hs),_()(ms,"handledProps",["as","basic","children","className","content","context","flowing","header","hideOnScroll","horizontalOffset","hoverable","inverted","keepInViewPort","on","onClose","onMount","onOpen","onUnmount","position","size","style","trigger","verticalOffset","wide"]),ms.propTypes={};var gs=n("./node_modules/lodash/round.js"),vs=n.n(gs),ys=n("./node_modules/lodash/clamp.js"),bs=n.n(ys),_s=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(i))),_()(y()(y()(n)),"calculatePercent",function(){var e=n.props,t=e.percent,r=e.total,o=e.value;return At()(t)?At()(r)||At()(o)?void 0:o/r*100:t}),_()(y()(y()(n)),"computeValueText",function(e){var t=n.props,r=t.progress,o=t.total,i=t.value;return"value"===r?i:"ratio"===r?"".concat(i,"/").concat(o):"".concat(e,"%")}),_()(y()(y()(n)),"getPercent",function(){var e=n.props,t=e.precision,r=e.progress,o=e.total,i=e.value,a=bs()(n.calculatePercent(),0,100);return At()(o)||At()(i)||"value"!==r?"value"===r?i:At()(t)?a:vs()(a,t):i/o*100}),_()(y()(y()(n)),"isAutoSuccess",function(){var e=n.props,t=e.autoSuccess,r=e.percent,o=e.total,i=e.value;return t&&(r>=100||i>=o)}),_()(y()(y()(n)),"renderLabel",function(){var e=n.props,t=e.children,o=e.content,i=e.label;return r.isNil(t)?r.isNil(o)?ht(i,{autoGenerateKey:!1,defaultProps:{className:"label"}}):A.a.createElement("div",{className:"label"},o):A.a.createElement("div",{className:"label"},t)}),_()(y()(y()(n)),"renderProgress",function(e){var t=n.props,r=t.precision;if(t.progress||!At()(r))return A.a.createElement("div",{className:"progress"},n.computeValueText(e))}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.attached,o=e.className,i=e.color,s=e.disabled,l=e.error,u=e.indicating,c=e.inverted,d=e.size,f=e.success,h=e.warning,p=R()("ui",i,d,Ve(n||u,"active"),Ve(s,"disabled"),Ve(l,"error"),Ve(u,"indicating"),Ve(c,"inverted"),Ve(f||this.isAutoSuccess(),"success"),Ve(h,"warning"),He(r,"attached"),"progress",o),m=S(t,this.props),g=$e(t,this.props),v=this.getPercent()||0;return A.a.createElement(g,a()({},m,{className:p,"data-percent":Math.floor(v)}),A.a.createElement("div",{className:"bar",style:{width:"".concat(v,"%")}},this.renderProgress(v)),this.renderLabel())}}]),t}(T.Component);_()(_s,"handledProps",["active","as","attached","autoSuccess","children","className","color","content","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"]),_s.propTypes={};var xs=_s,ws=n("./node_modules/lodash/times.js"),ks=n.n(ws),Es=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){E()(n.props,"onClick",e,n.props)}),_()(y()(y()(n)),"handleKeyUp",function(e){switch(E()(n.props,"onKeyUp",e,n.props),zt.a.getCode(e)){case zt.a.Enter:case zt.a.Spacebar:e.preventDefault(),E()(n.props,"onClick",e,n.props)}}),_()(y()(y()(n)),"handleMouseEnter",function(e){E()(n.props,"onMouseEnter",e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.className,o=e.selected,i=R()(Ve(n,"active"),Ve(o,"selected"),"icon",r),s=S(t,this.props),l=$e(t,this.props);return A.a.createElement(l,a()({},s,{className:i,onClick:this.handleClick,onKeyUp:this.handleKeyUp,onMouseEnter:this.handleMouseEnter,tabIndex:0,role:"radio"}))}}]),t}(T.Component);_()(Es,"defaultProps",{as:"i"}),_()(Es,"handledProps",["active","as","className","index","onClick","onKeyUp","onMouseEnter","selected"]),Es.propTypes={};var Ts=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleIconClick",function(e,t){var r=t.index,o=n.props,i=o.clearable,a=o.disabled,s=o.maxRating,l=o.onRate,u=n.state.rating;if(!a){var c=r+1;"auto"===i&&1===s?c=+!u:!0===i&&c===u&&(c=0),n.trySetState({rating:c},{isSelecting:!1}),l&&l(e,Qe()({},n.props,{rating:c}))}}),_()(y()(y()(n)),"handleIconMouseEnter",function(e,t){var r=t.index;n.props.disabled||n.setState({selectedIndex:r,isSelecting:!0})}),_()(y()(y()(n)),"handleMouseLeave",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.a.apply(void 0,[n.props,"onMouseLeave"].concat(t)),n.props.disabled||n.setState({selectedIndex:-1,isSelecting:!1})}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.className,o=n.disabled,i=n.icon,s=n.maxRating,l=n.size,u=this.state,c=u.rating,d=u.selectedIndex,f=u.isSelecting,h=R()("ui",i,l,Ve(o,"disabled"),Ve(f&&!o&&d>=0,"selected"),"rating",r),p=S(t,this.props),m=$e(t,this.props);return A.a.createElement(m,a()({},p,{className:h,role:"radiogroup",onMouseLeave:this.handleMouseLeave}),ks()(s,function(t){return A.a.createElement(Es,{active:c>=t+1,"aria-checked":c===t+1,"aria-posinset":t+1,"aria-setsize":s,index:t,key:t,onClick:e.handleIconClick,onMouseEnter:e.handleIconMouseEnter,selected:d>=t&&f})}))}}]),t}(on);_()(Ts,"autoControlledProps",["rating"]),_()(Ts,"defaultProps",{clearable:"auto",maxRating:1}),_()(Ts,"Icon",Es),_()(Ts,"handledProps",["as","className","clearable","defaultRating","disabled","icon","maxRating","onRate","rating","size"]),Ts.propTypes={};var As=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ss=n.n(As),Ms=n("./node_modules/lodash/partialRight.js"),Cs=n.n(Ms);function js(e){var t=e.active,n=e.children,o=e.className,i=e.content,s=e.renderer,l=R()(Ve(t,"active"),"category",o),u=S(js,e),c=$e(js,e);return A.a.createElement(c,a()({},u,{className:l}),A.a.createElement("div",{className:"name"},s(e)),A.a.createElement("div",{className:"results"},r.isNil(n)?i:n))}js.handledProps=["active","as","children","className","content","name","renderer","results"],js.defaultProps={renderer:function(e){return e.name}},js.propTypes={};var Os=js,Ns=function(e){var t=e.image,n=e.price,r=e.title,o=e.description;return[t&&A.a.createElement("div",{key:"image",className:"image"},mt(t,{autoGenerateKey:!1})),A.a.createElement("div",{key:"content",className:"content"},n&&A.a.createElement("div",{className:"price"},n),r&&A.a.createElement("div",{className:"title"},r),o&&A.a.createElement("div",{className:"description"},o))]};Ns.handledProps=[];var Rs=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick;t&&t(e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.className,o=e.renderer,i=R()(Ve(n,"active"),"result",r),s=S(t,this.props),l=$e(t,this.props);return A.a.createElement(l,a()({},s,{className:i,onClick:this.handleClick}),o(this.props))}}]),t}(T.Component);function Ps(e){var t=e.children,n=e.className,o=e.content,i=R()("results transition",n),s=S(Ps,e),l=$e(Ps,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}_()(Rs,"defaultProps",{renderer:Ns}),_()(Rs,"handledProps",["active","as","className","content","description","id","image","onClick","price","renderer","title"]),Rs.propTypes={},Ps.handledProps=["as","children","className","content"],Ps.propTypes={};var Is=Ps,Ds=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleResultSelect",function(e,t){E()(n.props,"onResultSelect",e,Qe()({},n.props,{result:t}))}),_()(y()(y()(n)),"handleSelectionChange",function(e){var t=n.getSelectedResult();E()(n.props,"onSelectionChange",e,Qe()({},n.props,{result:t}))}),_()(y()(y()(n)),"closeOnEscape",function(e){zt.a.getCode(e)===zt.a.Escape&&(e.preventDefault(),n.close())}),_()(y()(y()(n)),"moveSelectionOnKeyDown",function(e){switch(zt.a.getCode(e)){case zt.a.ArrowDown:e.preventDefault(),n.moveSelectionBy(e,1);break;case zt.a.ArrowUp:e.preventDefault(),n.moveSelectionBy(e,-1)}}),_()(y()(y()(n)),"selectItemOnEnter",function(e){if(zt.a.getCode(e)===zt.a.Enter){var t=n.getSelectedResult();t&&(e.preventDefault(),n.setValue(t.title),n.handleResultSelect(e,t),n.close())}}),_()(y()(y()(n)),"closeOnDocumentClick",function(e){n.close()}),_()(y()(y()(n)),"handleMouseDown",function(e){n.isMouseDown=!0,E()(n.props,"onMouseDown",e,n.props),Kt.sub("mouseup",n.handleDocumentMouseUp)}),_()(y()(y()(n)),"handleDocumentMouseUp",function(){n.isMouseDown=!1,Kt.unsub("mouseup",n.handleDocumentMouseUp)}),_()(y()(y()(n)),"handleInputClick",function(e){e.nativeEvent.stopImmediatePropagation(),n.tryOpen()}),_()(y()(y()(n)),"handleItemClick",function(e,t){var r=t.id,o=n.getSelectedResult(r);e.nativeEvent.stopImmediatePropagation(),n.setValue(o.title),n.handleResultSelect(e,o),n.close()}),_()(y()(y()(n)),"handleFocus",function(e){var t=n.props.onFocus;t&&t(e,n.props),n.setState({focus:!0})}),_()(y()(y()(n)),"handleBlur",function(e){var t=n.props.onBlur;t&&t(e,n.props),n.setState({focus:!1})}),_()(y()(y()(n)),"handleSearchChange",function(e){e.stopPropagation();var t=n.props.minCharacters,r=n.state.open,o=e.target.value;E()(n.props,"onSearchChange",e,Qe()({},n.props,{value:o})),o.length<t?n.close():r||n.tryOpen(o),n.setValue(o)}),_()(y()(y()(n)),"getFlattenedResults",function(){var e=n.props,t=e.category,r=e.results;return t?Fn()(r,function(e,t){return e.concat(t.results)},[]):r}),_()(y()(y()(n)),"getSelectedResult",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.selectedIndex,t=n.getFlattenedResults();return ho()(t,e)}),_()(y()(y()(n)),"setValue",function(e){var t=n.props.selectFirstResult;n.trySetState({value:e},{selectedIndex:t?0:-1})}),_()(y()(y()(n)),"moveSelectionBy",function(e,t){var r=n.state.selectedIndex,o=n.getFlattenedResults().length-1,i=r+t;i>o?i=0:i<0&&(i=o),n.setState({selectedIndex:i}),n.scrollSelectedItemIntoView(),n.handleSelectionChange(e)}),_()(y()(y()(n)),"scrollSelectedItemIntoView",function(){if(Bt()){var e=document.querySelector(".ui.search.active.visible .results.visible"),t=e.querySelector(".result.active");if(t){var n=t.offsetTop<e.scrollTop,r=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;n?e.scrollTop=t.offsetTop:r&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}),_()(y()(y()(n)),"tryOpen",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,t=n.props.minCharacters;e.length<t||n.open()}),_()(y()(y()(n)),"open",function(){n.trySetState({open:!0})}),_()(y()(y()(n)),"close",function(){n.trySetState({open:!1})}),_()(y()(y()(n)),"renderSearchInput",function(e){var t=n.props,r=t.icon,o=t.input,i=n.state.value;return di.create(o,{autoGenerateKey:!1,defaultProps:Qe()({},e,{icon:r,input:{className:"prompt",tabIndex:"0",autoComplete:"off"},onChange:n.handleSearchChange,onClick:n.handleInputClick,value:i})})}),_()(y()(y()(n)),"renderNoResults",function(){var e=n.props,t=e.noResultsDescription,r=e.noResultsMessage;return A.a.createElement("div",{className:"message empty"},A.a.createElement("div",{className:"header"},r),t&&A.a.createElement("div",{className:"description"},t))}),_()(y()(y()(n)),"renderResult",function(e,t,r){var o=e.childKey,i=Ss()(e,["childKey"]),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=n.props.resultRenderer,u=n.state.selectedIndex,c=t+s;return A.a.createElement(Rs,a()({key:o||i.title,active:u===c,onClick:n.handleItemClick,renderer:l},i,{id:c}))}),_()(y()(y()(n)),"renderResults",function(){var e=n.props.results;return Cn()(e,n.renderResult)}),_()(y()(y()(n)),"renderCategories",function(){var e=n.props,t=e.categoryRenderer,r=e.results,o=n.state.selectedIndex,i=0;return Cn()(r,function(e){var r=e.childKey,a=Ss()(e,["childKey"]),s=Qe()({key:r||a.name,active:qt()(o,i,i+a.results.length),renderer:t},a),l=Cs()(n.renderResult,i);return i+=a.results.length,A.a.createElement(Os,s,a.results.map(l))})}),_()(y()(y()(n)),"renderMenuContent",function(){var e=n.props,t=e.category,r=e.showNoResults,o=e.results;return en()(o)?r?n.renderNoResults():null:t?n.renderCategories():n.renderResults()}),_()(y()(y()(n)),"renderResultsMenu",function(){var e=n.state.open?"visible":"",t=n.renderMenuContent();if(t)return A.a.createElement(Is,{className:e},t)}),n}return g()(t,e),c()(t,[{key:"componentWillMount",value:function(){var e=this.state,t=e.open,n=e.value;this.setValue(n),t&&this.open()}},{key:"componentWillReceiveProps",value:function(e){Kr()(p()(t.prototype),"componentWillReceiveProps",this).call(this,e),Wr(e.value,this.props.value)||this.setValue(e.value)}},{key:"shouldComponentUpdate",value:function(e,t){return!Wr(e,this.props)||!Wr(t,this.state)}},{key:"componentDidUpdate",value:function(e,t){!t.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&Kt.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.focus&&!this.state.focus&&(this.isMouseDown||this.close(),Kt.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!t.open&&this.state.open?(this.open(),Kt.sub("click",this.closeOnDocumentClick),Kt.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.open&&!this.state.open&&(this.close(),Kt.unsub("click",this.closeOnDocumentClick),Kt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))}},{key:"componentWillUnmount",value:function(){Kt.unsub("click",this.closeOnDocumentClick),Kt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])}},{key:"render",value:function(){var e=this.state,n=e.searchClasses,r=e.focus,o=e.open,i=this.props,s=i.aligned,l=i.category,u=i.className,c=i.fluid,d=i.loading,f=i.size,h=R()("ui",o&&"active visible",f,n,Ve(l,"category"),Ve(r,"focus"),Ve(c,"fluid"),Ve(d,"loading"),He(s,"aligned"),"search",u),p=S(t,this.props),m=$e(t,this.props),g=It(p,{htmlProps:Rt}),v=Mt()(g,2),y=v[0],b=v[1];return A.a.createElement(m,a()({},b,{className:h,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(y),this.renderResultsMenu())}}]),t}(on);function Ls(e){var t=e.className,n=e.children,o=e.content,i=R()("pushable",t),s=S(Ls,e),l=$e(Ls,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(n)?o:n)}_()(Ds,"defaultProps",{icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0}),_()(Ds,"autoControlledProps",["open","value"]),_()(Ds,"Category",Os),_()(Ds,"Result",Rs),_()(Ds,"Results",Is),_()(Ds,"handledProps",["aligned","as","category","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","resultRenderer","results","selectFirstResult","showNoResults","size","value"]),Ds.propTypes={},Ls.handledProps=["as","children","className","content"],Ls.propTypes={};var Bs=Ls;function Fs(e){var t=e.className,n=e.dimmed,o=e.children,i=e.content,s=R()("pusher",Ve(n,"dimmed"),t),l=S(Fs,e),u=$e(Fs,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(o)?i:o)}Fs.handledProps=["as","children","className","content","dimmed"],Fs.propTypes={};var zs=Fs,Us=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"state",{}),_()(y()(y()(n)),"handleAnimationStart",function(){var e=n.props,t=e.duration,r=e.visible?"onVisible":"onHide";n.setState({animating:!0},function(){clearTimeout(n.animationTimer),n.animationTimer=setTimeout(n.handleAnimationEnd,t),n.skipNextCallback?n.skipNextCallback=!1:E()(n.props,r,null,n.props)})}),_()(y()(y()(n)),"handleAnimationEnd",function(){var e=n.props.visible?"onShow":"onHidden";n.setState({animating:!1}),E()(n.props,e,null,n.props)}),_()(y()(y()(n)),"handleDocumentClick",function(e){Wt(n.ref,e)||(n.skipNextCallback=!0,E()(n.props,"onHide",e,Qe()({},n.props,{visible:!1})))}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),n}return g()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){e.visible!==this.props.visible&&this.handleAnimationStart()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.animationTimer)}},{key:"render",value:function(){var e=this.props,n=e.animation,o=e.className,i=e.children,s=e.content,l=e.direction,u=e.target,c=e.visible,d=e.width,f=this.state.animating,h=R()("ui",n,l,d,Ve(f,"animating"),Ve(c,"visible"),"sidebar",o),p=S(t,this.props),m=$e(t,this.props);return A.a.createElement(sn,{innerRef:this.handleRef},A.a.createElement(m,a()({},p,{className:h}),r.isNil(i)?s:i,c&&A.a.createElement(Xt.a,{name:"click",on:this.handleDocumentClick,target:u})))}}]),t}(T.Component);_()(Us,"defaultProps",{direction:"left",duration:500}),_()(Us,"autoControlledProps",["visible"]),_()(Us,"Pushable",Bs),_()(Us,"Pusher",zs),_()(Us,"handledProps",["animation","as","children","className","content","direction","duration","onHidden","onHide","onShow","onVisible","target","visible","width"]),Us.propTypes={};var qs=Us,Vs=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"state",{sticky:!1}),_()(y()(y()(n)),"addListeners",function(e){var t=e.scrollContext;t&&(Kt.sub("resize",n.handleUpdate,{target:t}),Kt.sub("scroll",n.handleUpdate,{target:t}))}),_()(y()(y()(n)),"removeListeners",function(){var e=n.props.scrollContext;e&&(Kt.unsub("resize",n.handleUpdate,{target:e}),Kt.unsub("scroll",n.handleUpdate,{target:e}))}),_()(y()(y()(n)),"update",function(e){var t=n.state.pushing;if(n.ticking=!1,n.assignRects(),t)return n.didReachStartingPoint()?n.stickToContextTop(e):n.didTouchScreenBottom()?n.stickToScreenBottom(e):n.stickToContextBottom(e);if(n.isOversized()){if(n.contextRect.top>0)return n.stickToContextTop(e);if(n.contextRect.bottom<window.innerHeight)return n.stickToContextBottom(e)}return n.didTouchScreenTop()?n.didReachContextBottom()?n.stickToContextBottom(e):n.stickToScreenTop(e):n.stickToContextTop(e)}),_()(y()(y()(n)),"handleUpdate",function(e){n.ticking||(n.ticking=!0,n.frameId=requestAnimationFrame(function(){return n.update(e)}))}),_()(y()(y()(n)),"assignRects",function(){var e=n.props.context;n.triggerRect=n.triggerRef.getBoundingClientRect(),n.contextRect=(e||document.body).getBoundingClientRect(),n.stickyRect=n.stickyRef.getBoundingClientRect()}),_()(y()(y()(n)),"didReachContextBottom",function(){var e=n.props.offset;return n.stickyRect.height+e>=n.contextRect.bottom}),_()(y()(y()(n)),"didReachStartingPoint",function(){return n.stickyRect.top<=n.triggerRect.top}),_()(y()(y()(n)),"didTouchScreenTop",function(){return n.triggerRect.top<n.props.offset}),_()(y()(y()(n)),"didTouchScreenBottom",function(){var e=n.props.bottomOffset;return n.contextRect.bottom+e>window.innerHeight}),_()(y()(y()(n)),"isOversized",function(){return n.stickyRect.height>window.innerHeight}),_()(y()(y()(n)),"pushing",function(e){n.props.pushing&&n.setState({pushing:e})}),_()(y()(y()(n)),"stick",function(e,t){n.setState({bound:t,sticky:!0}),E()(n.props,"onStick",e,n.props)}),_()(y()(y()(n)),"unstick",function(e,t){n.setState({bound:t,sticky:!1}),E()(n.props,"onUnstick",e,n.props)}),_()(y()(y()(n)),"stickToContextBottom",function(e){E()(n.props,"onBottom",e,n.props),n.stick(e,!0),n.pushing(!0)}),_()(y()(y()(n)),"stickToContextTop",function(e){E()(n.props,"onTop",e,n.props),n.unstick(e,!1),n.pushing(!1)}),_()(y()(y()(n)),"stickToScreenBottom",function(e){var t=n.props.bottomOffset;n.stick(e,!1),n.setState({bottom:t,top:null})}),_()(y()(y()(n)),"stickToScreenTop",function(e){var t=n.props.offset;n.stick(e,!1),n.setState({top:t,bottom:null})}),_()(y()(y()(n)),"handleStickyRef",function(e){return n.stickyRef=e}),_()(y()(y()(n)),"handleTriggerRef",function(e){return n.triggerRef=e}),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){Bt()&&(this.props.active&&(this.handleUpdate(),this.addListeners(this.props)))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.active,r=t.scrollContext,o=e.active,i=e.scrollContext;if(n!==o){if(o)return this.handleUpdate(),void this.addListeners(e);this.removeListeners(),this.setState({sticky:!1})}else r!==i&&(this.removeListeners(),this.addListeners(e))}},{key:"componentWillUnmount",value:function(){Bt()&&(this.props.active&&(this.removeListeners(),cancelAnimationFrame(this.frameId)))}},{key:"computeStyle",value:function(){var e=this.state,t=e.bottom,n=e.bound,r=e.sticky,o=e.top;return r?{bottom:n?0:t,top:n?void 0:o,width:this.triggerRect.width}:{}}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.className,o=this.state,i=o.bottom,s=o.bound,l=o.sticky,u=S(t,this.props),c=$e(t,this.props),d=R()(l&&"ui",l&&"stuck-container",l&&(s?"bound-container":"fixed-container"),r),f=R()("ui",l&&(s?"bound bottom":"fixed"),l&&!s&&(null===i?"top":"bottom"),"sticky");return A.a.createElement(c,a()({},u,{className:d}),A.a.createElement("div",{ref:this.handleTriggerRef}),A.a.createElement("div",{className:R()(f),ref:this.handleStickyRef,style:this.computeStyle()},n))}}]),t}(T.Component);function Hs(e){var t=e.active,n=e.children,o=e.className,i=e.content,s=e.loading,l=R()(Ve(t,"active"),Ve(s,"loading"),"tab",o),u=S(Hs,e),c=$e(Hs,e),d={};return c===Ha&&(d.attached="bottom"),A.a.createElement(c,a()({},d,u,{className:l}),r.isNil(n)?i:n)}_()(Vs,"defaultProps",{active:!0,bottomOffset:0,offset:0,scrollContext:Bt()?window:null}),_()(Vs,"handledProps",["active","as","bottomOffset","children","className","context","offset","onBottom","onStick","onTop","onUnstick","pushing","scrollContext"]),Vs.propTypes={},Hs.handledProps=["active","as","children","className","content","loading"],Hs.defaultProps={as:Ha,active:!0},Hs.propTypes={},Hs.create=ft(Hs,function(e){return{content:e}});var Ws=Hs,Gs=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleItemClick",function(e,t){var r=t.index;E()(n.props,"onTabChange",e,Qe()({},n.props,{activeIndex:r})),n.trySetState({activeIndex:r})}),n}return g()(t,e),c()(t,[{key:"getInitialAutoControlledState",value:function(){return{activeIndex:0}}},{key:"renderItems",value:function(){var e=this.props,t=e.panes,n=e.renderActiveOnly,r=this.state.activeIndex;return n?E()(ho()(t,"[".concat(r,"]")),"render",this.props):Cn()(t,function(e,t){var n=e.pane;return Ws.create(n,{overrideProps:{active:t===r}})})}},{key:"renderMenu",value:function(){var e=this.props,t=e.menu,n=e.panes,r=e.menuPosition,o=this.state.activeIndex;return!0===t.tabular&&"right"===r&&(t.tabular="right"),Lr.create(t,{autoGenerateKey:!1,overrideProps:{items:Cn()(n,"menuItem"),onItemClick:this.handleItemClick,activeIndex:o}})}},{key:"renderVertical",value:function(e){var t=this.props,n=t.grid,r=t.menuPosition,o=n.paneWidth,i=n.tabWidth,a=Ss()(n,["paneWidth","tabWidth"]),s=r||"right"===e.props.tabular&&"right"||"left";return A.a.createElement(Si,a,"left"===s&&ki.create({width:i,children:e},{autoGenerateKey:!1}),ki.create({width:o,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),"right"===s&&ki.create({width:i,children:e},{autoGenerateKey:!1}))}},{key:"render",value:function(){var e=this.renderMenu(),n=S(t,this.props),r=$e(t,this.props);return e.props.vertical?A.a.createElement(r,n,this.renderVertical(e)):A.a.createElement(r,n,"bottom"!==e.props.attached&&e,this.renderItems(),"bottom"===e.props.attached&&e)}}]),t}(on);_()(Gs,"autoControlledProps",["activeIndex"]),_()(Gs,"defaultProps",{grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0}),_()(Gs,"Pane",Ws),_()(Gs,"handledProps",["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"]),Gs.propTypes={};var Xs=Gs;function Ks(e){var t=e.centered,n=e.children,o=e.className,i=e.content,s=e.test,l=e.unit,u=R()("ui",l,Ve(t,"centered"),Ve(s,"test"),"ad",o),c=S(Ks,e),d=$e(Ks,e);return A.a.createElement(d,a()({},c,{className:u,"data-text":s}),r.isNil(n)?i:n)}Ks.handledProps=["as","centered","children","className","content","test","unit"],Ks.propTypes={};var Ys=Ks;function $s(e){var t=e.children,n=e.className,o=e.content,i=e.textAlign,s=R()(Xe(i),"description",n),l=S($s,e),u=$e($s,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}$s.handledProps=["as","children","className","content","textAlign"],$s.propTypes={};var Zs=$s;function Qs(e){var t=e.children,n=e.className,o=e.content,i=e.textAlign,s=R()(Xe(i),"header",n),l=S(Qs,e),u=$e(Qs,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}Qs.handledProps=["as","children","className","content","textAlign"],Qs.propTypes={};var Js=Qs;function el(e){var t=e.children,n=e.className,o=e.content,i=e.textAlign,s=R()(Xe(i),"meta",n),l=S(el,e),u=$e(el,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}el.handledProps=["as","children","className","content","textAlign"],el.propTypes={};var tl=el;function nl(e){var t=e.children,n=e.className,o=e.content,i=e.description,s=e.extra,l=e.header,u=e.meta,c=e.textAlign,d=R()(Ve(s,"extra"),Xe(c),"content",n),f=S(nl,e),h=$e(nl,e);return r.isNil(t)?r.isNil(o)?A.a.createElement(h,a()({},f,{className:d}),dt(Js,function(e){return{content:e}},l,{autoGenerateKey:!1}),dt(tl,function(e){return{content:e}},u,{autoGenerateKey:!1}),dt(Zs,function(e){return{content:e}},i,{autoGenerateKey:!1})):A.a.createElement(h,a()({},f,{className:d}),o):A.a.createElement(h,a()({},f,{className:d}),t)}nl.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],nl.propTypes={};var rl=nl;function ol(e){var t=e.centered,n=e.children,o=e.className,i=e.content,s=e.doubling,l=e.items,u=e.itemsPerRow,c=e.stackable,d=e.textAlign,f=R()("ui",Ve(t,"centered"),Ve(s,"doubling"),Ve(c,"stackable"),Xe(d),Ye(u),"cards",o),h=S(ol,e),p=$e(ol,e);if(!r.isNil(n))return A.a.createElement(p,a()({},h,{className:f}),n);if(!r.isNil(i))return A.a.createElement(p,a()({},h,{className:f}),i);var m=Cn()(l,function(e){var t=e.key||[e.header,e.description].join("-");return A.a.createElement(al,a()({key:t},e))});return A.a.createElement(p,a()({},h,{className:f}),m)}ol.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],ol.propTypes={};var il=ol,al=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=f()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick;t&&t(e,n.props)}),n}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.centered,o=e.children,i=e.className,s=e.color,l=e.content,u=e.description,c=e.extra,d=e.fluid,f=e.header,h=e.href,p=e.image,m=e.link,g=e.meta,v=e.onClick,y=e.raised,b=R()("ui",s,Ve(n,"centered"),Ve(d,"fluid"),Ve(m,"link"),Ve(y,"raised"),"card",i),_=S(t,this.props),x=$e(t,this.props,function(){if(v)return"a"});return r.isNil(o)?r.isNil(l)?A.a.createElement(x,a()({},_,{className:b,href:h,onClick:this.handleClick}),_n.create(p,{autoGenerateKey:!1}),(u||f||g)&&A.a.createElement(rl,{description:u,header:f,meta:g}),c&&A.a.createElement(rl,{extra:!0},c)):A.a.createElement(x,a()({},_,{className:b,href:h,onClick:this.handleClick}),l):A.a.createElement(x,a()({},_,{className:b,href:h,onClick:this.handleClick}),o)}}]),t}(T.Component);function sl(e){var t=e.active,n=e.className,o=e.children,i=e.content,s=R()(Ve(t,"active"),n),l=S(sl,e),u=$e(sl,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(o)?i:o)}_()(al,"Content",rl),_()(al,"Description",Zs),_()(al,"Group",il),_()(al,"Header",Js),_()(al,"Meta",tl),_()(al,"handledProps",["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"]),al.propTypes={},sl.handledProps=["active","as","children","className","content"],sl.defaultProps={as:"a"},sl.propTypes={};var ll=sl;function ul(e){var t=e.className,n=e.children,o=e.content,i=R()("actions",t),s=S(ul,e),l=$e(ul,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(n)?o:n)}ul.handledProps=["as","children","className","content"],ul.propTypes={};var cl=ul;function dl(e){var t=e.className,n=e.children,o=e.content,i=R()("author",t),s=S(dl,e),l=$e(dl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(n)?o:n)}dl.handledProps=["as","children","className","content"],dl.propTypes={};var fl=dl;function hl(e){var t=e.className,n=e.src,r=R()("avatar",t),o=S(hl,e),i=$e(hl,e);return A.a.createElement(i,a()({},o,{className:r}),mt(n,{autoGenerateKey:!1}))}hl.handledProps=["as","className","src"],hl.propTypes={};var pl=hl;function ml(e){var t=e.className,n=e.children,o=e.content,i=R()(t,"content"),s=S(ml,e),l=$e(ml,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(n)?o:n)}ml.handledProps=["as","children","className","content"],ml.propTypes={};var gl=ml;function vl(e){var t=e.className,n=e.children,o=e.collapsed,i=e.content,s=e.minimal,l=e.size,u=e.threaded,c=R()("ui",l,Ve(o,"collapsed"),Ve(s,"minimal"),Ve(u,"threaded"),"comments",t),d=S(vl,e),f=$e(vl,e);return A.a.createElement(f,a()({},d,{className:c}),r.isNil(n)?i:n)}vl.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],vl.propTypes={};var yl=vl;function bl(e){var t=e.className,n=e.children,o=e.content,i=R()("metadata",t),s=S(bl,e),l=$e(bl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(n)?o:n)}bl.handledProps=["as","children","className","content"],bl.propTypes={};var _l=bl;function xl(e){var t=e.className,n=e.children,o=e.content,i=R()(t,"text"),s=S(xl,e),l=$e(xl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(n)?o:n)}xl.handledProps=["as","children","className","content"],xl.propTypes={};var wl=xl;function kl(e){var t=e.className,n=e.children,o=e.collapsed,i=e.content,s=R()(Ve(o,"collapsed"),"comment",t),l=S(kl,e),u=$e(kl,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(n)?i:n)}kl.handledProps=["as","children","className","collapsed","content"],kl.propTypes={},kl.Author=fl,kl.Action=ll,kl.Actions=cl,kl.Avatar=pl,kl.Content=gl,kl.Group=yl,kl.Metadata=_l,kl.Text=wl;var El=kl;function Tl(e){var t=e.children,n=e.className,o=e.content,i=R()("date",n),s=S(Tl,e),l=$e(Tl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Tl.handledProps=["as","children","className","content"],Tl.propTypes={};var Al=Tl;function Sl(e){var t=e.children,n=e.className,o=e.content,i=e.images,s=e.text,l=R()(Ve(i,"images"),Ve(o||s,"text"),"extra",n),u=S(Sl,e),c=$e(Sl,e);if(!r.isNil(t))return A.a.createElement(c,a()({},u,{className:l}),t);var d=Cn()(i,function(e,t){var n=[t,e].join("-");return mt(e,{key:n})});return A.a.createElement(c,a()({},u,{className:l}),o,d)}Sl.handledProps=["as","children","className","content","images","text"],Sl.propTypes={};var Ml=Sl;function Cl(e){var t=e.children,n=e.className,o=e.content,i=e.icon,s=R()("like",n),l=S(Cl,e),u=$e(Cl,e);return r.isNil(t)?A.a.createElement(u,a()({},l,{className:s}),Et.create(i,{autoGenerateKey:!1}),o):A.a.createElement(u,a()({},l,{className:s}),t)}Cl.handledProps=["as","children","className","content","icon"],Cl.defaultProps={as:"a"},Cl.propTypes={};var jl=Cl;function Ol(e){var t=e.children,n=e.className,o=e.content,i=e.like,s=R()("meta",n),l=S(Ol,e),u=$e(Ol,e);return r.isNil(t)?A.a.createElement(u,a()({},l,{className:s}),dt(jl,function(e){return{content:e}},i,{autoGenerateKey:!1}),o):A.a.createElement(u,a()({},l,{className:s}),t)}Ol.handledProps=["as","children","className","content","like"],Ol.propTypes={};var Nl=Ol;function Rl(e){var t=e.children,n=e.className,o=e.content,i=R()("user",n),s=S(Rl,e),l=$e(Rl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Rl.handledProps=["as","children","className","content"],Rl.propTypes={},Rl.defaultProps={as:"a"};var Pl=Rl;function Il(e){var t=e.children,n=e.className,o=e.content,i=e.date,s=e.user,l=R()("summary",n),u=S(Il,e),c=$e(Il,e);return r.isNil(t)?A.a.createElement(c,a()({},u,{className:l}),dt(Pl,function(e){return{content:e}},s,{autoGenerateKey:!1}),o,dt(Al,function(e){return{content:e}},i,{autoGenerateKey:!1})):A.a.createElement(c,a()({},u,{className:l}),t)}Il.handledProps=["as","children","className","content","date","user"],Il.propTypes={};var Dl=Il;function Ll(e){var t=e.children,n=e.className,o=e.content,i=e.extraImages,s=e.extraText,l=e.date,u=e.meta,c=e.summary,d=R()("content",n),f=S(Ll,e),h=$e(Ll,e);return r.isNil(t)?A.a.createElement(h,a()({},f,{className:d}),dt(Al,function(e){return{content:e}},l,{autoGenerateKey:!1}),dt(Dl,function(e){return{content:e}},c,{autoGenerateKey:!1}),o,dt(Ml,function(e){return{text:!0,content:e}},s,{autoGenerateKey:!1}),dt(Ml,function(e){return{images:e}},i,{autoGenerateKey:!1}),dt(Nl,function(e){return{content:e}},u,{autoGenerateKey:!1})):A.a.createElement(h,a()({},f,{className:d}),t)}Ll.handledProps=["as","children","className","content","date","extraImages","extraText","meta","summary"],Ll.propTypes={};var Bl=Ll;function Fl(e){var t=e.children,n=e.className,o=e.content,i=e.icon,s=e.image,l=R()("label",n),u=S(Fl,e),c=$e(Fl,e);return r.isNil(t)?A.a.createElement(c,a()({},u,{className:l}),o,Et.create(i,{autoGenerateKey:!1}),mt(s)):A.a.createElement(c,a()({},u,{className:l}),t)}Fl.handledProps=["as","children","className","content","icon","image"],Fl.propTypes={};var zl=Fl;function Ul(e){var t=e.content,n=e.children,r=e.className,o=e.date,i=e.extraImages,s=e.extraText,l=e.image,u=e.icon,c=e.meta,d=e.summary,f=R()("event",r),h=S(Ul,e),p=$e(Ul,e),m=t||o||i||s||c||d,g={content:t,date:o,extraImages:i,extraText:s,meta:c,summary:d};return A.a.createElement(p,a()({},h,{className:f}),dt(zl,function(e){return{icon:e}},u,{autoGenerateKey:!1}),dt(zl,function(e){return{image:e}},l,{autoGenerateKey:!1}),m&&A.a.createElement(Bl,g),n)}Ul.handledProps=["as","children","className","content","date","extraImages","extraText","icon","image","meta","summary"],Ul.propTypes={};var ql=Ul;function Vl(e){var t=e.children,n=e.className,o=e.events,i=e.size,s=R()("ui",i,"feed",n),l=S(Vl,e),u=$e(Vl,e);if(!r.isNil(t))return A.a.createElement(u,a()({},l,{className:s}),t);var c=Cn()(o,function(e){var t=e.childKey,n=e.date,r=e.meta,o=e.summary,i=Ss()(e,["childKey","date","meta","summary"]),s=t||[n,r,o].join("-");return A.a.createElement(ql,a()({date:n,key:s,meta:r,summary:o},i))});return A.a.createElement(u,a()({},l,{className:s}),c)}Vl.handledProps=["as","children","className","events","size"],Vl.propTypes={},Vl.Content=Bl,Vl.Date=Al,Vl.Event=ql,Vl.Extra=Ml,Vl.Label=zl,Vl.Like=jl,Vl.Meta=Nl,Vl.Summary=Dl,Vl.User=Pl;var Hl=Vl;function Wl(e){var t=e.children,n=e.className,o=e.content,i=R()("header",n),s=S(Wl,e),l=$e(Wl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Wl.handledProps=["as","children","className","content"],Wl.propTypes={},Wl.create=ft(Wl,function(e){return{content:e}});var Gl=Wl;function Xl(e){var t=e.children,n=e.className,o=e.content,i=R()("description",n),s=S(Xl,e),l=$e(Xl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Xl.handledProps=["as","children","className","content"],Xl.propTypes={},Xl.create=ft(Xl,function(e){return{content:e}});var Kl=Xl;function Yl(e){var t=e.children,n=e.className,o=e.content,i=R()("extra",n),s=S(Yl,e),l=$e(Yl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Yl.handledProps=["as","children","className","content"],Yl.propTypes={},Yl.create=ft(Yl,function(e){return{content:e}});var $l=Yl;function Zl(e){var t=e.children,n=e.className,o=e.content,i=R()("meta",n),s=S(Zl,e),l=$e(Zl,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}Zl.handledProps=["as","children","className","content"],Zl.propTypes={},Zl.create=ft(Zl,function(e){return{content:e}});var Ql=Zl;function Jl(e){var t=e.children,n=e.className,o=e.content,i=e.description,s=e.extra,l=e.header,u=e.meta,c=e.verticalAlign,d=R()(Ke(c),"content",n),f=S(Jl,e),h=$e(Jl,e);return r.isNil(t)?A.a.createElement(h,a()({},f,{className:d}),Gl.create(l,{autoGenerateKey:!1}),Ql.create(u,{autoGenerateKey:!1}),Kl.create(i,{autoGenerateKey:!1}),$l.create(s,{autoGenerateKey:!1}),o):A.a.createElement(h,a()({},f,{className:d}),t)}Jl.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],Jl.propTypes={};var eu=Jl;function tu(e){var t=e.children,n=e.className,o=e.content,i=e.divided,s=e.items,l=e.link,u=e.relaxed,c=e.unstackable,d=R()("ui",Ve(i,"divided"),Ve(l,"link"),Ve(c,"unstackable"),We(u,"relaxed"),"items",n),f=S(tu,e),h=$e(tu,e);if(!r.isNil(t))return A.a.createElement(h,a()({},f,{className:d}),t);if(!r.isNil(o))return A.a.createElement(h,a()({},f,{className:d}),o);var p=Cn()(s,function(e){var t=e.childKey,n=Ss()(e,["childKey"]),r=t||[n.content,n.description,n.header,n.meta].join("-");return A.a.createElement(au,a()({},n,{key:r}))});return A.a.createElement(h,a()({},f,{className:d}),p)}tu.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],tu.propTypes={};var nu=tu;function ru(e){var t=e.size,n=S(ru,e);return A.a.createElement(_n,a()({},n,{size:t,ui:!!t,wrapped:!0}))}ru.handledProps=["size"],ru.propTypes={},ru.create=ft(ru,function(e){return{src:e}});var ou=ru;function iu(e){var t=e.children,n=e.className,o=e.content,i=e.description,s=e.extra,l=e.header,u=e.image,c=e.meta,d=R()("item",n),f=S(iu,e),h=$e(iu,e);return r.isNil(t)?A.a.createElement(h,a()({},f,{className:d}),ou.create(u,{autoGenerateKey:!1}),A.a.createElement(eu,{content:o,description:i,extra:s,header:l,meta:c})):A.a.createElement(h,a()({},f,{className:d}),t)}iu.handledProps=["as","children","className","content","description","extra","header","image","meta"],iu.Content=eu,iu.Description=Kl,iu.Extra=$l,iu.Group=nu,iu.Header=Gl,iu.Image=ou,iu.Meta=Ql,iu.propTypes={};var au=iu;function su(e){var t=e.children,n=e.className,o=e.color,i=e.content,s=e.horizontal,l=e.inverted,u=e.items,c=e.size,d=e.widths,f=R()("ui",o,c,Ve(s,"horizontal"),Ve(l,"inverted"),Ye(d),"statistics",n),h=S(su,e),p=$e(su,e);return r.isNil(t)?r.isNil(i)?A.a.createElement(p,a()({},h,{className:f}),Cn()(u,function(e){return pu.create(e)})):A.a.createElement(p,a()({},h,{className:f}),i):A.a.createElement(p,a()({},h,{className:f}),t)}su.handledProps=["as","children","className","color","content","horizontal","inverted","items","size","widths"],su.propTypes={};var lu=su;function uu(e){var t=e.children,n=e.className,o=e.content,i=R()("label",n),s=S(uu,e),l=$e(uu,e);return A.a.createElement(l,a()({},s,{className:i}),r.isNil(t)?o:t)}uu.handledProps=["as","children","className","content"],uu.propTypes={},uu.create=ft(uu,function(e){return{content:e}});var cu=uu;function du(e){var t=e.children,n=e.className,o=e.content,i=e.text,s=R()(Ve(i,"text"),"value",n),l=S(du,e),u=$e(du,e);return A.a.createElement(u,a()({},l,{className:s}),r.isNil(t)?o:t)}du.handledProps=["as","children","className","content","text"],du.propTypes={},du.create=ft(du,function(e){return{content:e}});var fu=du;function hu(e){var t=e.children,n=e.className,o=e.color,i=e.content,s=e.floated,l=e.horizontal,u=e.inverted,c=e.label,d=e.size,f=e.text,h=e.value,p=R()("ui",o,d,He(s,"floated"),Ve(l,"horizontal"),Ve(u,"inverted"),"statistic",n),m=S(hu,e),g=$e(hu,e);return r.isNil(t)?r.isNil(i)?A.a.createElement(g,a()({},m,{className:p}),fu.create(h,{defaultProps:{text:f},autoGenerateKey:!1}),cu.create(c,{autoGenerateKey:!1})):A.a.createElement(g,a()({},m,{className:p}),i):A.a.createElement(g,a()({},m,{className:p}),t)}hu.handledProps=["as","children","className","color","content","floated","horizontal","inverted","label","size","text","value"],hu.propTypes={},hu.Group=lu,hu.Label=cu,hu.Value=fu,hu.create=ft(hu,function(e){return{content:e}});var pu=hu;n.d(t,"Confirm",function(){return yr}),n.d(t,"MountNode",function(){return sr}),n.d(t,"Pagination",function(){return zr}),n.d(t,"PaginationItem",function(){return Fr}),n.d(t,"Portal",function(){return dn}),n.d(t,"PortalInner",function(){return un}),n.d(t,"Radio",function(){return Vr}),n.d(t,"Ref",function(){return sn}),n.d(t,"Responsive",function(){return Gr}),n.d(t,"Select",function(){return Oo}),n.d(t,"TextArea",function(){return Io}),n.d(t,"TransitionablePortal",function(){return Xo}),n.d(t,"Visibility",function(){return Ko}),n.d(t,"Breadcrumb",function(){return Jo}),n.d(t,"BreadcrumbDivider",function(){return $o}),n.d(t,"BreadcrumbSection",function(){return Zo}),n.d(t,"Form",function(){return xi}),n.d(t,"FormButton",function(){return ri}),n.d(t,"FormCheckbox",function(){return ii}),n.d(t,"FormDropdown",function(){return si}),n.d(t,"FormField",function(){return ti}),n.d(t,"FormGroup",function(){return ui}),n.d(t,"FormInput",function(){return hi}),n.d(t,"FormRadio",function(){return mi}),n.d(t,"FormSelect",function(){return vi}),n.d(t,"FormTextArea",function(){return bi}),n.d(t,"Grid",function(){return Si}),n.d(t,"GridColumn",function(){return ki}),n.d(t,"GridRow",function(){return Ti}),n.d(t,"Menu",function(){return Lr}),n.d(t,"MenuHeader",function(){return jr}),n.d(t,"MenuItem",function(){return Rr}),n.d(t,"MenuMenu",function(){return Ir}),n.d(t,"Message",function(){return Di}),n.d(t,"MessageContent",function(){return Ci}),n.d(t,"MessageHeader",function(){return Oi}),n.d(t,"MessageItem",function(){return Ri}),n.d(t,"MessageList",function(){return Ii}),n.d(t,"Table",function(){return $i}),n.d(t,"TableBody",function(){return Bi}),n.d(t,"TableCell",function(){return zi}),n.d(t,"TableFooter",function(){return Hi}),n.d(t,"TableHeader",function(){return qi}),n.d(t,"TableHeaderCell",function(){return Gi}),n.d(t,"TableRow",function(){return Ki}),n.d(t,"Button",function(){return In}),n.d(t,"ButtonContent",function(){return Sn}),n.d(t,"ButtonGroup",function(){return On}),n.d(t,"ButtonOr",function(){return Rn}),n.d(t,"Container",function(){return Qi}),n.d(t,"Divider",function(){return ea}),n.d(t,"Flag",function(){return bo}),n.d(t,"Header",function(){return aa}),n.d(t,"HeaderContent",function(){return oa}),n.d(t,"HeaderSubheader",function(){return na}),n.d(t,"Icon",function(){return Et}),n.d(t,"IconGroup",function(){return wt}),n.d(t,"Image",function(){return _n}),n.d(t,"ImageGroup",function(){return vn}),n.d(t,"Input",function(){return di}),n.d(t,"Label",function(){return Tn}),n.d(t,"LabelDetail",function(){return wn}),n.d(t,"LabelGroup",function(){return En}),n.d(t,"List",function(){return _a}),n.d(t,"ListContent",function(){return fa}),n.d(t,"ListDescription",function(){return la}),n.d(t,"ListHeader",function(){return ca}),n.d(t,"ListIcon",function(){return pa}),n.d(t,"ListItem",function(){return ga}),n.d(t,"ListList",function(){return ya}),n.d(t,"Loader",function(){return wa}),n.d(t,"Placeholder",function(){return Na}),n.d(t,"PlaceholderHeader",function(){return Ea}),n.d(t,"PlaceholderImage",function(){return Aa}),n.d(t,"PlaceholderLine",function(){return Ma}),n.d(t,"PlaceholderParagraph",function(){return ja}),n.d(t,"Rail",function(){return Pa}),n.d(t,"Reveal",function(){return Ba}),n.d(t,"RevealContent",function(){return Da}),n.d(t,"Segment",function(){return Ha}),n.d(t,"SegmentGroup",function(){return za}),n.d(t,"SegmentInline",function(){return qa}),n.d(t,"Step",function(){return es}),n.d(t,"StepContent",function(){return $a}),n.d(t,"StepDescription",function(){return Ga}),n.d(t,"StepGroup",function(){return Qa}),n.d(t,"StepTitle",function(){return Ka}),n.d(t,"Accordion",function(){return ls}),n.d(t,"AccordionAccordion",function(){return as}),n.d(t,"AccordionContent",function(){return rs}),n.d(t,"AccordionPanel",function(){return is}),n.d(t,"AccordionTitle",function(){return ts}),n.d(t,"Checkbox",function(){return Ur}),n.d(t,"Dimmer",function(){return mn}),n.d(t,"DimmerDimmable",function(){return hn}),n.d(t,"DimmerInner",function(){return pn}),n.d(t,"Dropdown",function(){return Co}),n.d(t,"DropdownDivider",function(){return vo}),n.d(t,"DropdownHeader",function(){return ko}),n.d(t,"DropdownItem",function(){return xo}),n.d(t,"DropdownMenu",function(){return To}),n.d(t,"DropdownSearchInput",function(){return So}),n.d(t,"Embed",function(){return us}),n.d(t,"Modal",function(){return gr}),n.d(t,"ModalActions",function(){return fr}),n.d(t,"ModalContent",function(){return dr}),n.d(t,"ModalDescription",function(){return pr}),n.d(t,"ModalHeader",function(){return ur}),n.d(t,"Popup",function(){return ms}),n.d(t,"PopupContent",function(){return fs}),n.d(t,"PopupHeader",function(){return hs}),n.d(t,"Progress",function(){return xs}),n.d(t,"Rating",function(){return Ts}),n.d(t,"RatingIcon",function(){return Es}),n.d(t,"Search",function(){return Ds}),n.d(t,"SearchCategory",function(){return Os}),n.d(t,"SearchResult",function(){return Rs}),n.d(t,"SearchResults",function(){return Is}),n.d(t,"Sidebar",function(){return qs}),n.d(t,"SidebarPushable",function(){return Bs}),n.d(t,"SidebarPusher",function(){return zs}),n.d(t,"Sticky",function(){return Vs}),n.d(t,"Tab",function(){return Xs}),n.d(t,"TabPane",function(){return Ws}),n.d(t,"Transition",function(){return Go}),n.d(t,"TransitionGroup",function(){return Ho}),n.d(t,"Advertisement",function(){return Ys}),n.d(t,"Card",function(){return al}),n.d(t,"CardContent",function(){return rl}),n.d(t,"CardDescription",function(){return Zs}),n.d(t,"CardGroup",function(){return il}),n.d(t,"CardHeader",function(){return Js}),n.d(t,"CardMeta",function(){return tl}),n.d(t,"Comment",function(){return El}),n.d(t,"CommentAction",function(){return ll}),n.d(t,"CommentActions",function(){return cl}),n.d(t,"CommentAuthor",function(){return fl}),n.d(t,"CommentAvatar",function(){return pl}),n.d(t,"CommentContent",function(){return gl}),n.d(t,"CommentGroup",function(){return yl}),n.d(t,"CommentMetadata",function(){return _l}),n.d(t,"CommentText",function(){return wl}),n.d(t,"Feed",function(){return Hl}),n.d(t,"FeedContent",function(){return Bl}),n.d(t,"FeedDate",function(){return Al}),n.d(t,"FeedEvent",function(){return ql}),n.d(t,"FeedExtra",function(){return Ml}),n.d(t,"FeedLabel",function(){return zl}),n.d(t,"FeedLike",function(){return jl}),n.d(t,"FeedMeta",function(){return Nl}),n.d(t,"FeedSummary",function(){return Dl}),n.d(t,"FeedUser",function(){return Pl}),n.d(t,"Item",function(){return au}),n.d(t,"ItemContent",function(){return eu}),n.d(t,"ItemDescription",function(){return Kl}),n.d(t,"ItemExtra",function(){return $l}),n.d(t,"ItemGroup",function(){return nu}),n.d(t,"ItemHeader",function(){return Gl}),n.d(t,"ItemImage",function(){return ou}),n.d(t,"ItemMeta",function(){return Ql}),n.d(t,"Statistic",function(){return pu}),n.d(t,"StatisticGroup",function(){return lu}),n.d(t,"StatisticLabel",function(){return cu}),n.d(t,"StatisticValue",function(){return fu})},"./node_modules/sha.js/hash.js":function(e,t,n){var r=n("./node_modules/safe-buffer/index.js").Buffer;function o(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}o.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,o=this._blockSize,i=e.length,a=this._len,s=0;s<i;){for(var l=a%o,u=Math.min(i-s,o-l),c=0;c<u;c++)n[l+c]=e[s+c];s+=u,(a+=u)%o==0&&this._update(n)}return this._len+=i,this},o.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,o=(n-r)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=o},"./node_modules/sha.js/index.js":function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n("./node_modules/sha.js/sha.js"),t.sha1=n("./node_modules/sha.js/sha1.js"),t.sha224=n("./node_modules/sha.js/sha224.js"),t.sha256=n("./node_modules/sha.js/sha256.js"),t.sha384=n("./node_modules/sha.js/sha384.js"),t.sha512=n("./node_modules/sha.js/sha512.js")},"./node_modules/sha.js/sha.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/sha.js/hash.js"),i=n("./node_modules/safe-buffer/index.js").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,o.call(this,64,56)}function u(e){return e<<30|e>>>2}function c(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(l,o),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,s=0|this._d,l=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=n[d-3]^n[d-8]^n[d-14]^n[d-16];for(var f=0;f<80;++f){var h=~~(f/20),p=0|((t=r)<<5|t>>>27)+c(h,o,i,s)+l+n[f]+a[h];l=s,s=i,i=u(o),o=r,r=p}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},"./node_modules/sha.js/sha1.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/sha.js/hash.js"),i=n("./node_modules/safe-buffer/index.js").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,o.call(this,64,56)}function u(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function d(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(l,o),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,s=0|this._d,l=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=(t=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),m=u(r)+d(p,o,i,s)+l+n[h]+a[p]|0;l=s,s=i,i=c(o),o=r,r=m}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},"./node_modules/sha.js/sha224.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/sha.js/sha256.js"),i=n("./node_modules/sha.js/hash.js"),a=n("./node_modules/safe-buffer/index.js").Buffer,s=new Array(64);function l(){this.init(),this._w=s,i.call(this,64,56)}r(l,o),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=l},"./node_modules/sha.js/sha256.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/sha.js/hash.js"),i=n("./node_modules/safe-buffer/index.js").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function l(){this.init(),this._w=s,o.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(l,o),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,s=0|this._d,l=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)n[v]=e.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((t=n[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[v-7]+h(n[v-15])+n[v-16];for(var y=0;y<64;++y){var b=g+f(l)+u(l,p,m)+a[y]+n[y]|0,_=d(r)+c(r,o,i)|0;g=m,m=p,p=l,l=s+b|0,s=i,i=o,o=r,r=b+_|0}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},l.prototype._hash=function(){var e=i.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=l},"./node_modules/sha.js/sha384.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/sha.js/sha512.js"),i=n("./node_modules/sha.js/hash.js"),a=n("./node_modules/safe-buffer/index.js").Buffer,s=new Array(160);function l(){this.init(),this._w=s,i.call(this,128,112)}r(l,o),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=l},"./node_modules/sha.js/sha512.js":function(e,t,n){var r=n("./node_modules/inherits/inherits_browser.js"),o=n("./node_modules/sha.js/hash.js"),i=n("./node_modules/safe-buffer/index.js").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function l(){this.init(),this._w=s,o.call(this,128,112)}function u(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}r(l,o),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,o=0|this._ch,i=0|this._dh,s=0|this._eh,l=0|this._fh,y=0|this._gh,b=0|this._hh,_=0|this._al,x=0|this._bl,w=0|this._cl,k=0|this._dl,E=0|this._el,T=0|this._fl,A=0|this._gl,S=0|this._hl,M=0;M<32;M+=2)t[M]=e.readInt32BE(4*M),t[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var C=t[M-30],j=t[M-30+1],O=h(C,j),N=p(j,C),R=m(C=t[M-4],j=t[M-4+1]),P=g(j,C),I=t[M-14],D=t[M-14+1],L=t[M-32],B=t[M-32+1],F=N+D|0,z=O+I+v(F,N)|0;z=(z=z+R+v(F=F+P|0,P)|0)+L+v(F=F+B|0,B)|0,t[M]=z,t[M+1]=F}for(var U=0;U<160;U+=2){z=t[U],F=t[U+1];var q=c(n,r,o),V=c(_,x,w),H=d(n,_),W=d(_,n),G=f(s,E),X=f(E,s),K=a[U],Y=a[U+1],$=u(s,l,y),Z=u(E,T,A),Q=S+X|0,J=b+G+v(Q,S)|0;J=(J=(J=J+$+v(Q=Q+Z|0,Z)|0)+K+v(Q=Q+Y|0,Y)|0)+z+v(Q=Q+F|0,F)|0;var ee=W+V|0,te=H+q+v(ee,W)|0;b=y,S=A,y=l,A=T,l=s,T=E,s=i+J+v(E=k+Q|0,k)|0,i=o,k=w,o=r,w=x,r=n,x=_,n=J+te+v(_=Q+ee|0,Q)|0}this._al=this._al+_|0,this._bl=this._bl+x|0,this._cl=this._cl+w|0,this._dl=this._dl+k|0,this._el=this._el+E|0,this._fl=this._fl+T|0,this._gl=this._gl+A|0,this._hl=this._hl+S|0,this._ah=this._ah+n+v(this._al,_)|0,this._bh=this._bh+r+v(this._bl,x)|0,this._ch=this._ch+o+v(this._cl,w)|0,this._dh=this._dh+i+v(this._dl,k)|0,this._eh=this._eh+s+v(this._el,E)|0,this._fh=this._fh+l+v(this._fl,T)|0,this._gh=this._gh+y+v(this._gl,A)|0,this._hh=this._hh+b+v(this._hl,S)|0},l.prototype._hash=function(){var e=i.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=l},"./node_modules/shallowequal/index.js":function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var u=i[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(o=n?n.call(r,c,d,u):void 0)||void 0===o&&c!==d)return!1}return!0}},"./node_modules/stream-browserify/index.js":function(e,t,n){e.exports=o;var r=n("./node_modules/events/events.js").EventEmitter;function o(){r.call(this)}n("./node_modules/inherits/inherits_browser.js")(o,r),o.Readable=n("./node_modules/readable-stream/readable-browser.js"),o.Writable=n("./node_modules/readable-stream/writable-browser.js"),o.Duplex=n("./node_modules/readable-stream/duplex-browser.js"),o.Transform=n("./node_modules/readable-stream/transform.js"),o.PassThrough=n("./node_modules/readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",o),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},"./node_modules/string_decoder/lib/string_decoder.js":function(e,t,n){"use strict";var r=n("./node_modules/safe-buffer/index.js").Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=a(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=a(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"./node_modules/style-loader/lib/addStyles.js":function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),l=null,u=0,c=[],d=n("./node_modules/style-loader/lib/urls.js");function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,n);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return v(t,e.attrs),p(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;n=l||(l=g(t)),r=x.bind(null,n,a,!1),o=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),p(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return f(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&f(h(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},"./node_modules/style-loader/lib/urls.js":function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"./node_modules/stylis-rule-sheet/index.js":function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,i,a,s,l,u,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(o[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},"./node_modules/stylis/stylis.js":function(e,t,n){e.exports=function e(t){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,o=/: */g,i=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,l=/ +\s*(?![^(]*[)])/g,u=/ *[\0] */g,c=/,\r+?/g,d=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,h=/\W+/g,p=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,g=/:(read-only)/g,v=/\s+(?=[{\];=:>])/g,y=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,_=/\s{2,}/g,x=/([^\(])(:+) */g,w=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,T=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,C="-webkit-",j="-moz-",O="-ms-",N=59,R=125,P=123,I=40,D=41,L=91,B=93,F=10,z=13,U=9,q=64,V=32,H=38,W=45,G=95,X=42,K=44,Y=58,$=39,Z=34,Q=47,J=62,ee=43,te=126,ne=0,re=12,oe=11,ie=107,ae=109,se=115,le=112,ue=111,ce=105,de=99,fe=100,he=112,pe=1,me=1,ge=0,ve=1,ye=1,be=1,_e=0,xe=0,we=0,ke=[],Ee=[],Te=0,Ae=null,Se=-2,Me=-1,Ce=0,je=1,Oe=2,Ne=3,Re=0,Pe=1,Ie="",De="",Le="";function Be(e,t,o,i,a){for(var s,l,c=0,d=0,f=0,h=0,v=0,y=0,b=0,_=0,w=0,E=0,T=0,A=0,S=0,M=0,G=0,_e=0,Ee=0,Ae=0,Se=0,Me=o.length,ze=Me-1,Ge="",Xe="",Ke="",Ye="",$e="",Ze="";G<Me;){if(b=o.charCodeAt(G),G===ze&&d+h+f+c!==0&&(0!==d&&(b=d===Q?F:Q),h=f=c=0,Me++,ze++),d+h+f+c===0){if(G===ze&&(_e>0&&(Xe=Xe.replace(r,"")),Xe.trim().length>0)){switch(b){case V:case U:case N:case z:case F:break;default:Xe+=o.charAt(G)}b=N}if(1===Ee)switch(b){case P:case R:case N:case Z:case $:case I:case D:case K:Ee=0;case U:case z:case F:case V:break;default:for(Ee=0,Se=G,v=b,G--,b=N;Se<Me;)switch(o.charCodeAt(Se++)){case F:case z:case N:++G,b=v,Se=Me;break;case Y:_e>0&&(++G,b=v);case P:Se=Me}}switch(b){case P:for(Xe=Xe.trim(),v=Xe.charCodeAt(0),T=1,Se=++G;G<Me;){switch(b=o.charCodeAt(G)){case P:T++;break;case R:T--;break;case Q:switch(y=o.charCodeAt(G+1)){case X:case Q:G=We(y,G,ze,o)}break;case L:b++;case I:b++;case Z:case $:for(;G++<ze&&o.charCodeAt(G)!==b;);}if(0===T)break;G++}switch(Ke=o.substring(Se,G),v===ne&&(v=(Xe=Xe.replace(n,"").trim()).charCodeAt(0)),v){case q:switch(_e>0&&(Xe=Xe.replace(r,"")),y=Xe.charCodeAt(1)){case fe:case ae:case se:case W:s=t;break;default:s=ke}if(Ke=Be(t,s,Ke,y,a+1),Se=Ke.length,we>0&&0===Se&&(Se=Xe.length),Te>0&&(s=Fe(ke,Xe,Ae),l=He(Ne,Ke,s,t,me,pe,Se,y,a,i),Xe=s.join(""),void 0!==l&&0===(Se=(Ke=l.trim()).length)&&(y=0,Ke="")),Se>0)switch(y){case se:Xe=Xe.replace(k,Ve);case fe:case ae:case W:Ke=Xe+"{"+Ke+"}";break;case ie:Xe=Xe.replace(p,"$1 $2"+(Pe>0?Ie:"")),Ke=Xe+"{"+Ke+"}",Ke=1===ye||2===ye&&qe("@"+Ke,3)?"@"+C+Ke+"@"+Ke:"@"+Ke;break;default:Ke=Xe+Ke,i===he&&(Ye+=Ke,Ke="")}else Ke="";break;default:Ke=Be(t,Fe(t,Xe,Ae),Ke,i,a+1)}$e+=Ke,A=0,Ee=0,M=0,_e=0,Ae=0,S=0,Xe="",Ke="",b=o.charCodeAt(++G);break;case R:case N:if(Xe=(_e>0?Xe.replace(r,""):Xe).trim(),(Se=Xe.length)>1)switch(0===M&&((v=Xe.charCodeAt(0))===W||v>96&&v<123)&&(Se=(Xe=Xe.replace(" ",":")).length),Te>0&&void 0!==(l=He(je,Xe,t,e,me,pe,Ye.length,i,a,i))&&0===(Se=(Xe=l.trim()).length)&&(Xe="\0\0"),v=Xe.charCodeAt(0),y=Xe.charCodeAt(1),v){case ne:break;case q:if(y===ce||y===de){Ze+=Xe+o.charAt(G);break}default:if(Xe.charCodeAt(Se-1)===Y)break;Ye+=Ue(Xe,v,y,Xe.charCodeAt(2))}A=0,Ee=0,M=0,_e=0,Ae=0,Xe="",b=o.charCodeAt(++G)}}switch(b){case z:case F:if(d+h+f+c+xe===0)switch(E){case D:case $:case Z:case q:case te:case J:case X:case ee:case Q:case W:case Y:case K:case N:case P:case R:break;default:M>0&&(Ee=1)}d===Q?d=0:ve+A===0&&i!==ie&&Xe.length>0&&(_e=1,Xe+="\0"),Te*Re>0&&He(Ce,Xe,t,e,me,pe,Ye.length,i,a,i),pe=1,me++;break;case N:case R:if(d+h+f+c===0){pe++;break}default:switch(pe++,Ge=o.charAt(G),b){case U:case V:if(h+c+d===0)switch(_){case K:case Y:case U:case V:Ge="";break;default:b!==V&&(Ge=" ")}break;case ne:Ge="\\0";break;case re:Ge="\\f";break;case oe:Ge="\\v";break;case H:h+d+c===0&&ve>0&&(Ae=1,_e=1,Ge="\f"+Ge);break;case 108:if(h+d+c+ge===0&&M>0)switch(G-M){case 2:_===le&&o.charCodeAt(G-3)===Y&&(ge=_);case 8:w===ue&&(ge=w)}break;case Y:h+d+c===0&&(M=G);break;case K:d+f+h+c===0&&(_e=1,Ge+="\r");break;case Z:case $:0===d&&(h=h===b?0:0===h?b:h);break;case L:h+d+f===0&&c++;break;case B:h+d+f===0&&c--;break;case D:h+d+c===0&&f--;break;case I:if(h+d+c===0){if(0===A)switch(2*_+3*w){case 533:break;default:T=0,A=1}f++}break;case q:d+f+h+c+M+S===0&&(S=1);break;case X:case Q:if(h+c+f>0)break;switch(d){case 0:switch(2*b+3*o.charCodeAt(G+1)){case 235:d=Q;break;case 220:Se=G,d=X}break;case X:b===Q&&_===X&&Se+2!==G&&(33===o.charCodeAt(Se+2)&&(Ye+=o.substring(Se,G+1)),Ge="",d=0)}}if(0===d){if(ve+h+c+S===0&&i!==ie&&b!==N)switch(b){case K:case te:case J:case ee:case D:case I:if(0===A){switch(_){case U:case V:case F:case z:Ge+="\0";break;default:Ge="\0"+Ge+(b===K?"":"\0")}_e=1}else switch(b){case I:M+7===G&&108===_&&(M=0),A=++T;break;case D:0==(A=--T)&&(_e=1,Ge+="\0")}break;case U:case V:switch(_){case ne:case P:case R:case N:case K:case re:case U:case V:case F:case z:break;default:0===A&&(_e=1,Ge+="\0")}}Xe+=Ge,b!==V&&b!==U&&(E=b)}}w=_,_=b,G++}if(Se=Ye.length,we>0&&0===Se&&0===$e.length&&0===t[0].length==0&&(i!==ae||1===t.length&&(ve>0?De:Le)===t[0])&&(Se=t.join(",").length+2),Se>0){if(s=0===ve&&i!==ie?function(e){for(var t,n,o=0,i=e.length,a=Array(i);o<i;++o){for(var s=e[o].split(u),l="",c=0,d=0,f=0,h=0,p=s.length;c<p;++c)if(!(0===(d=(n=s[c]).length)&&p>1)){if(f=l.charCodeAt(l.length-1),h=n.charCodeAt(0),t="",0!==c)switch(f){case X:case te:case J:case ee:case V:case I:break;default:t=" "}switch(h){case H:n=t+De;case te:case J:case ee:case V:case D:case I:break;case L:n=t+n+De;break;case Y:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(be>0){n=t+n.substring(8,d-1);break}default:(c<1||s[c-1].length<1)&&(n=t+De+n)}break;case K:t="";default:n=d>1&&n.indexOf(":")>0?t+n.replace(x,"$1"+De+"$2"):t+n+De}l+=n}a[o]=l.replace(r,"").trim()}return a}(t):t,Te>0&&void 0!==(l=He(Oe,Ye,s,e,me,pe,Se,i,a,i))&&0===(Ye=l).length)return Ze+Ye+$e;if(Ye=s.join(",")+"{"+Ye+"}",ye*ge!=0){switch(2!==ye||qe(Ye,2)||(ge=0),ge){case ue:Ye=Ye.replace(g,":"+j+"$1")+Ye;break;case le:Ye=Ye.replace(m,"::"+C+"input-$1")+Ye.replace(m,"::"+j+"$1")+Ye.replace(m,":"+O+"input-$1")+Ye}ge=0}}return Ze+Ye+$e}function Fe(e,t,n){var r=t.trim().split(c),o=r,i=r.length,a=e.length;switch(a){case 0:case 1:for(var s=0,l=0===a?"":e[0]+" ";s<i;++s)o[s]=ze(l,o[s],n,a).trim();break;default:for(var s=0,u=0,o=[];s<i;++s)for(var d=0;d<a;++d)o[u++]=ze(e[d]+" ",r[s],n,a).trim()}return o}function ze(e,t,n,r){var o=t,i=o.charCodeAt(0);switch(i<33&&(i=(o=o.trim()).charCodeAt(0)),i){case H:switch(ve+r){case 0:case 1:if(0===e.trim().length)break;default:return o.replace(d,"$1"+e.trim())}break;case Y:switch(o.charCodeAt(1)){case 103:if(be>0&&ve>0)return o.replace(f,"$1").replace(d,"$1"+Le);break;default:return e.trim()+o.replace(d,"$1"+e.trim())}default:if(n*ve>0&&o.indexOf("\f")>0)return o.replace(d,(e.charCodeAt(0)===Y?"":"$1")+e.trim())}return e+o}function Ue(e,t,n,r){var u,c=0,d=e+";",f=2*t+3*n+4*r;if(944===f)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),o=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Pe){case 0:break;case W:if(110!==e.charCodeAt(10))break;default:for(var i=o.split((o="",s)),a=0,n=0,t=i.length;a<t;n=0,++a){for(var u=i[a],c=u.split(l);u=c[n];){var d=u.charCodeAt(0);if(1===Pe&&(d>q&&d<90||d>96&&d<123||d===G||d===W&&u.charCodeAt(1)!==W))switch(isNaN(parseFloat(u))+(-1!==u.indexOf("("))){case 1:switch(u){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:u+=Ie}}c[n++]=u}o+=(0===a?"":",")+c.join(" ")}}return o=r+o+";",1===ye||2===ye&&qe(o,1)?C+o+o:o}(d);if(0===ye||2===ye&&!qe(d,1))return d;switch(f){case 1015:return 97===d.charCodeAt(10)?C+d+d:d;case 951:return 116===d.charCodeAt(3)?C+d+d:d;case 963:return 110===d.charCodeAt(5)?C+d+d:d;case 1009:if(100!==d.charCodeAt(4))break;case 969:case 942:return C+d+d;case 978:return C+d+j+d+d;case 1019:case 983:return C+d+j+d+O+d+d;case 883:return d.charCodeAt(8)===W?C+d+d:d.indexOf("image-set(",11)>0?d.replace(M,"$1"+C+"$2")+d:d;case 932:if(d.charCodeAt(4)===W)switch(d.charCodeAt(5)){case 103:return C+"box-"+d.replace("-grow","")+C+d+O+d.replace("grow","positive")+d;case 115:return C+d+O+d.replace("shrink","negative")+d;case 98:return C+d+O+d.replace("basis","preferred-size")+d}return C+d+O+d+d;case 964:return C+d+O+"flex-"+d+d;case 1023:if(99!==d.charCodeAt(8))break;return u=d.substring(d.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),C+"box-pack"+u+C+d+O+"flex-pack"+u+d;case 1005:return i.test(d)?d.replace(o,":"+C)+d.replace(o,":"+j)+d:d;case 1e3:switch(u=d.substring(13).trim(),c=u.indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(c)){case 226:u=d.replace(w,"tb");break;case 232:u=d.replace(w,"tb-rl");break;case 220:u=d.replace(w,"lr");break;default:return d}return C+d+O+u+d;case 1017:if(-1===d.indexOf("sticky",9))return d;case 975:switch(c=(d=e).length-10,u=(33===d.charCodeAt(c)?d.substring(0,c):d).substring(e.indexOf(":",7)+1).trim(),f=u.charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(u.charCodeAt(8)<111)break;case 115:d=d.replace(u,C+u)+";"+d;break;case 207:case 102:d=d.replace(u,C+(f>102?"inline-":"")+"box")+";"+d.replace(u,C+u)+";"+d.replace(u,O+u+"box")+";"+d}return d+";";case 938:if(d.charCodeAt(5)===W)switch(d.charCodeAt(6)){case 105:return u=d.replace("-items",""),C+d+C+"box-"+u+O+"flex-"+u+d;case 115:return C+d+O+"flex-item-"+d.replace(T,"")+d;default:return C+d+O+"flex-line-pack"+d.replace("align-content","").replace(T,"")+d}break;case 973:case 989:if(d.charCodeAt(3)!==W||122===d.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Ue(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):d.replace(u,C+u)+d.replace(u,j+u.replace("fill-",""))+d;break;case 962:if(d=C+d+(102===d.charCodeAt(5)?O+d:"")+d,n+r===211&&105===d.charCodeAt(13)&&d.indexOf("transform",10)>0)return d.substring(0,d.indexOf(";",27)+1).replace(a,"$1"+C+"$2")+d}return d}function qe(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),o=e.substring(n+1,e.length-1);return Ae(2!==t?r:r.replace(A,"$1"),o,t)}function Ve(e,t){var n=Ue(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function He(e,t,n,r,o,i,a,s,l,u){for(var c,d=0,f=t;d<Te;++d)switch(c=Ee[d].call(Xe,e,f,n,r,o,i,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=c}if(f!==t)return f}function We(e,t,n,r){for(var o=t+1;o<n;++o)switch(r.charCodeAt(o)){case Q:if(e===X&&r.charCodeAt(o-1)===X&&t+2!==o)return o+1;break;case F:if(e===Q)return o+1}return o}function Ge(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Pe=0|n;break;case"global":be=0|n;break;case"cascade":ve=0|n;break;case"compress":_e=0|n;break;case"semicolon":xe=0|n;break;case"preserve":we=0|n;break;case"prefix":Ae=null,n?"function"!=typeof n?ye=1:(ye=2,Ae=n):ye=0}}return Ge}function Xe(t,n){if(void 0!==this&&this.constructor===Xe)return e(t);var o=t,i=o.charCodeAt(0);i<33&&(i=(o=o.trim()).charCodeAt(0)),Pe>0&&(Ie=o.replace(h,i===L?"":"-")),i=1,1===ve?Le=o:De=o;var a,s=[Le];Te>0&&void 0!==(a=He(Me,n,s,s,me,pe,0,0,0,0))&&"string"==typeof a&&(n=a);var l=Be(ke,s,n,0,0);return Te>0&&void 0!==(a=He(Se,l,s,s,me,pe,l.length,0,0,0))&&"string"!=typeof(l=a)&&(i=0),Ie="",Le="",De="",ge=0,me=1,pe=1,_e*i==0?l:function(e){return e.replace(r,"").replace(v,"").replace(y,"$1").replace(b,"$1").replace(_," ")}(l)}return Xe.use=function e(t){switch(t){case void 0:case null:Te=Ee.length=0;break;default:if("function"==typeof t)Ee[Te++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else Re=0|!!t}return e},Xe.set=Ge,void 0!==t&&Ge(t),Xe}(null)},"./node_modules/symbol-observable/es/index.js":function(e,t,n){"use strict";(function(e,r){var o,i=n("./node_modules/symbol-observable/es/ponyfill.js");o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/webpack/buildin/harmony-module.js")(e))},"./node_modules/symbol-observable/es/ponyfill.js":function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},"./node_modules/urijs/src/IPv6.js":function(e,t,n){var r,o;
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(i,a){"use strict";e.exports?e.exports=a():void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(":"),o=r.length,i=8;for(""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[o-1]&&""===r[o-2]&&r.pop(),-1!==r[(o=r.length)-1].indexOf(".")&&(i=7),t=0;t<o&&""!==r[t];t++);if(t<i)for(r.splice(t,1,"0000");r.length<i;)r.splice(t,0,"0000");for(var a=0;a<i;a++){n=r[a].split("");for(var s=0;s<3&&"0"===n[0]&&n.length>1;s++)n.splice(0,1);r[a]=n.join("")}var l=-1,u=0,c=0,d=-1,f=!1;for(a=0;a<i;a++)f?"0"===r[a]?c+=1:(f=!1,c>u&&(l=d,u=c)):"0"===r[a]&&(f=!0,d=a,c=1);c>u&&(l=d,u=c),u>1&&r.splice(l,u,""),o=r.length;var h="";for(""===r[0]&&(h=":"),a=0;a<o&&(h+=r[a],a!==o-1);a++)h+=":";return""===r[o-1]&&(h+=":"),h},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}})},"./node_modules/urijs/src/SecondLevelDomains.js":function(e,t,n){var r,o;
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(i,a){"use strict";e.exports?e.exports=a():void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var o=n.list[e.slice(t+1)];return!!o&&o.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var o=n.list[e.slice(t+1)];return o?o.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n})},"./node_modules/urijs/src/URI.js":function(e,t,n){var r,o,i;
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,s){"use strict";e.exports?e.exports=s(n("./node_modules/urijs/src/punycode.js"),n("./node_modules/urijs/src/IPv6.js"),n("./node_modules/urijs/src/SecondLevelDomains.js")):(o=[n("./node_modules/urijs/src/punycode.js"),n("./node_modules/urijs/src/IPv6.js"),n("./node_modules/urijs/src/SecondLevelDomains.js")],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))}(0,function(e,t,n,r){"use strict";var o=r&&r.URI;function i(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof i))return n?r?new i(e,t):new i(e):new i;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}i.version="1.19.1";var a=i.prototype,s=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function u(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function c(e){return"Array"===u(e)}function d(e,t){var n,r,o={};if("RegExp"===u(t))o=null;else if(c(t))for(n=0,r=t.length;n<r;n++)o[t[n]]=!0;else o[t]=!0;for(n=0,r=e.length;n<r;n++){(o&&void 0!==o[e[n]]||!o&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function f(e,t){var n,r;if(c(t)){for(n=0,r=t.length;n<r;n++)if(!f(e,t[n]))return!1;return!0}var o=u(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===o){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function h(e,t){if(!c(e)||!c(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function p(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function g(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:i.preventInvalidHostname,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.preventInvalidHostname=!1,i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\._-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.hostProtocols=["http","https"],i.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=g,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=g,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,y={encode:"encode",decode:"decode"},b=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(e){return n}}};for(v in y)i[v+"PathSegment"]=b("pathname",y[v]),i[v+"UrnPathSegment"]=b("urnpath",y[v]);var _=function(e,t,n){return function(r){var o;o=n?function(e){return i[t](i[n](e))}:i[t];for(var a=(r+"").split(e),s=0,l=a.length;s<l;s++)a[s]=o(a[s]);return a.join(e)}};function x(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function w(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}i.decodePath=_("/","decodePathSegment"),i.decodeUrnPath=_(":","decodeUrnPathSegment"),i.recodePath=_("/","encodePathSegment","decode"),i.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),i.encodeReserved=b("reserved","encode"),i.parse=function(e,t){var n;return t||(t={preventInvalidHostname:i.preventInvalidHostname}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e="");var n,r,o=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,o)||null,"/"===t.port&&(t.port=null);else{var a=e.indexOf(":"),s=e.indexOf("/"),l=e.indexOf(":",a+1);-1!==l&&(-1===s||l<s)?(t.hostname=e.substring(0,o)||null,t.port=null):(r=e.substring(0,o).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),t.preventInvalidHostname&&i.ensureValidHostname(t.hostname,t.protocol),t.port&&i.ensureValidPort(t.port),e.substring(o)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n,r=e.indexOf("/"),o=e.lastIndexOf("@",r>-1?r:e.length-1);return o>-1&&(-1===r||o<r)?(n=e.substring(0,o).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,o,a={},l=e.split("&"),u=l.length,c=0;c<u;c++)n=l[c].split("="),r=i.decodeQuery(n.shift(),t),o=n.length?i.decodeQuery(n.join("="),t):null,s.call(a,r)?("string"!=typeof a[r]&&null!==a[r]||(a[r]=[a[r]]),a[r].push(o)):a[r]=o;return a},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(i.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,n){var r,o,a,l,u="";for(o in e)if(s.call(e,o)&&o)if(c(e[o]))for(r={},a=0,l=e[o].length;a<l;a++)void 0!==e[o][a]&&void 0===r[e[o][a]+""]&&(u+="&"+i.buildQueryParameter(o,e[o][a],n),!0!==t&&(r[e[o][a]+""]=!0));else void 0!==e[o]&&(u+="&"+i.buildQueryParameter(o,e[o],n));return u.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),c(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},i.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&i.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},i.removeQuery=function(e,t,n){var r,o,a;if(c(t))for(r=0,o=t.length;r<o;r++)e[t[r]]=void 0;else if("RegExp"===u(t))for(a in e)t.test(a)&&(e[a]=void 0);else if("object"==typeof t)for(a in t)s.call(t,a)&&i.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===u(n)?!c(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=d(e[t],n):e[t]!==String(n)||c(n)&&1!==n.length?c(e[t])&&(e[t]=d(e[t],n)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,n,r){switch(u(t)){case"String":break;case"RegExp":for(var o in e)if(s.call(e,o)&&t.test(o)&&(void 0===n||i.hasQuery(e,o,n)))return!0;return!1;case"Object":for(var a in t)if(s.call(t,a)&&!i.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(u(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(c(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!c(e[t])&&(r?f:h)(e[t],n);case"RegExp":return c(e[t])?!!r&&f(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return c(e[t])?!!r&&f(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var o=new i(arguments[r]);e.push(o);for(var a=o.segment(),s=0;s<a.length;s++)"string"==typeof a[s]&&t.push(a[s]),a[s]&&n++}if(!t.length||!n)return new i("");var l=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=n.parens||i.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;var c=u.index;if(n.ignoreHtml){var d=e.slice(Math.max(c-3,0),c);if(d&&l.test(d))continue}for(var f=c+e.slice(c).search(o),h=e.slice(c,f),p=-1;;){var m=s.exec(h);if(!m)break;var g=m.index+m[0].length;p=Math.max(p,g)}if(!((h=p>-1?h.slice(0,p)+h.slice(p).replace(a,""):h.replace(a,"")).length<=u[0].length||n.ignore&&n.ignore.test(h))){var v=t(h,c,f=c+h.length,e);void 0!==v?(v=String(v),e=e.slice(0,c)+v+e.slice(f),r.lastIndex=c+v.length):r.lastIndex=f}}return r.lastIndex=0,e},i.ensureValidHostname=function(t,n){var r=!!t,o=!1;if(!!n&&(o=f(i.hostProtocols,n)),o&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=o),this},a.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new i(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},a.protocol=x("protocol"),a.username=x("username"),a.password=x("password"),a.hostname=x("hostname"),a.port=x("port"),a.query=w("query","?"),a.fragment=w("fragment","#"),a.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},a.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},a.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},a.path=a.pathname,a.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[i.getDomAttribute(e)]||"",o=!1);if(!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var a=r?e._parts:e;for(n in a)"query"!==n&&s.call(this._parts,n)&&(this._parts[n]=a[n]);a.query&&this.query(a.query,!1)}return this.build(!t),this},a.is=function(e){var t=!1,r=!1,o=!1,a=!1,s=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),s=(a=!(t=r||o))&&n&&n.has(this._parts.hostname),l=a&&i.idn_expression.test(this._parts.hostname),u=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var k=a.protocol,E=a.port,T=a.hostname;a.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(i.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return k.call(this,e,t)},a.scheme=a.protocol,a.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),i.ensureValidPort(e))),E.call(this,e,t))},a.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==i.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&i.ensureValidHostname(e,this._parts.protocol)}return T.call(this,e,t)},a.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=i(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},a.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";if("/"!==i.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";if("/"!==i.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=i.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},a.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},a.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,r),a=new RegExp("^"+l(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},a.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},a.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[o.toLowerCase()]&&n.get(this._parts.hostname)||o}var i;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},a.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(r):r}var o=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,o),s=new RegExp("^"+l(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},a.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?i.decodePathSegment(r):r}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(l(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e),o?this.normalizePath(t):this.build(!t),this},a.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,o=this.filename(),a=o.lastIndexOf(".");return-1===a?"":(n=o.substring(a+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var s,u=this.suffix();if(u)s=e?new RegExp(l(u)+"$"):new RegExp(l("."+u)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return s&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},a.segment=function(e,t,n){var r=this._parts.urn?":":"/",o=this.path(),i="/"===o.substring(0,1),a=o.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(i&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(c(t)){a=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(p(t[s])))}else(t||"string"==typeof t)&&(t=p(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=p(t):a.splice(e,1);return i&&a.unshift(""),this.path(a.join(r),n)},a.segmentCoded=function(e,t,n){var r,o,a;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(c(r=this.segment(e,t,n)))for(o=0,a=r.length;o<a;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(c(t))for(o=0,a=t.length;o<a;o++)t[o]=i.encode(t[o]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var A=a.query;return a.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):A.call(this,e,t)},a.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)s.call(e,o)&&(r[o]=e[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},a.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},a.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},a.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var r,o,a="";for("/"!==(n=i.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=n.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(r=n.search(/\/\.\.(\/|$)/));)0!==r?(-1===(o=n.substring(0,r).lastIndexOf("/"))&&(o=r),n=n.substring(0,o)+n.substring(r+3)):n=n.substring(3);return t&&this.is("relative")&&(n=a+n.substring(1)),this._parts.path=n,this.build(!e),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},a.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},a.unicode=function(){var e=i.encode,t=i.decode;i.encode=g,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},a.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,a=t._parts.query.split("&"),s=a.length;o<s;o++){var l=(a[o]||"").split("=");r+="&"+i.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(r+="="+i.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},a.absoluteTo=function(e){var t,n,r,o=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(n=0;r=a[n];n++)o._parts[r]=e._parts[r];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},a.relativeTo=function(e){var t,n,r,o,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=s._parts,n=e._parts,o=s.path(),a=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,o===a)return t.path="",s.build();if(!(r=i.commonPath(o,a)))return s.build();var l=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(r.length)||"./",s.build()},a.equals=function(e){var t,n,r,o,a,l=this.clone(),u=new i(e),d={};if(l.normalize(),u.normalize(),l.toString()===u.toString())return!0;if(r=l.query(),o=u.query(),l.query(""),u.query(""),l.toString()!==u.toString())return!1;if(r.length!==o.length)return!1;for(a in t=i.parseQuery(r,this._parts.escapeQuerySpace),n=i.parseQuery(o,this._parts.escapeQuerySpace),t)if(s.call(t,a)){if(c(t[a])){if(!h(t[a],n[a]))return!1}else if(t[a]!==n[a])return!1;d[a]=!0}for(a in n)if(s.call(n,a)&&!d[a])return!1;return!0},a.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},a.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},a.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},"./node_modules/urijs/src/punycode.js":function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.0 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,u=36,c=1,d=26,f=38,h=700,p=72,m=128,g="-",v=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-c,w=Math.floor,k=String.fromCharCode;function E(e){throw new RangeError(_[e])}function T(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function A(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+T((e=e.replace(b,".")).split("."),t).join(".")}function S(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function M(e){return T(e,function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)}).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,n){var r=0;for(e=n?w(e/h):e>>1,e+=w(e/t);e>x*d>>1;r+=u)e=w(e/x);return w(r+(x+1)*e/(e+f))}function O(e){var t,n,r,o,i,a,s,f,h,v,y,b=[],_=e.length,x=0,k=m,T=p;for((n=e.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),b.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<_;){for(i=x,a=1,s=u;o>=_&&E("invalid-input"),((f=(y=e.charCodeAt(o++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||f>w((l-x)/a))&&E("overflow"),x+=f*a,!(f<(h=s<=T?c:s>=T+d?d:s-T));s+=u)a>w(l/(v=u-h))&&E("overflow"),a*=v;T=j(x-i,t=b.length+1,0==i),w(x/t)>l-k&&E("overflow"),k+=w(x/t),x%=t,b.splice(x++,0,k)}return M(b)}function N(e){var t,n,r,o,i,a,s,f,h,v,y,b,_,x,T,A=[];for(b=(e=S(e)).length,t=m,n=0,i=p,a=0;a<b;++a)(y=e[a])<128&&A.push(k(y));for(r=o=A.length,o&&A.push(g);r<b;){for(s=l,a=0;a<b;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>w((l-n)/(_=r+1))&&E("overflow"),n+=(s-t)*_,t=s,a=0;a<b;++a)if((y=e[a])<t&&++n>l&&E("overflow"),y==t){for(f=n,h=u;!(f<(v=h<=i?c:h>=i+d?d:h-i));h+=u)T=f-v,x=u-v,A.push(k(C(v+T%x,0))),f=w(T/x);A.push(k(C(f,0))),i=j(n,_,r==o),n=0,++r}++n,++t}return A.join("")}s={version:"1.3.2",ucs2:{decode:S,encode:M},decode:O,encode:N,toASCII:function(e){return A(e,function(e){return y.test(e)?"xn--"+N(e):e})},toUnicode:function(e){return A(e,function(e){return v.test(e)?O(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n("./node_modules/webpack/buildin/module.js")(e),n("./node_modules/webpack/buildin/global.js"))},"./node_modules/util-deprecate/browser.js":function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/vm-browserify/index.js":function(module,exports,__webpack_require__){var indexOf=__webpack_require__("./node_modules/indexof/index.js"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,o=n.execScript;!r&&o&&(o.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var i=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(i,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},"./node_modules/warning/browser.js":function(e,t,n){"use strict";e.exports=function(){}}}]);