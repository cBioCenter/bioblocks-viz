(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./MorpheusContainer.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-dom/index.js"),i=n("./src/component/MorpheusComponent.tsx");o.render(r.createElement(i.MorpheusComponent,null),document.getElementById("morpheus-root"))},"./src/component/MorpheusComponent.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js"),l=n("./src/helper/index.ts"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.generateHeatMap=function(e,t){return new e.HeatMap({colorScheme:{map:[{color:"#0000ff",value:-2},{color:"#ffffff",value:0},{color:"#ff0000",value:2}],type:"fixed"},dataset:e.Dataset.fromJSON(t),el:document.querySelector("#morpheus-container"),tools:[{name:"Hierarchical Clustering",params:{cluster:"Rows and columns"}}]})},n}return o(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t;return a(this,function(n){switch(n.label){case 0:return[4,l.getMorpheusInstance()];case 1:return e=n.sent(),t={columnMetadataModel:{vectors:[{array:["2803-Primary Blood Derived Cancer - Peripheral Blood","2804-Primary Blood Derived Cancer - Peripheral Blood","2805-Primary Blood Derived Cancer - Peripheral Blood","2806-Primary Blood Derived Cancer - Peripheral Blood","2807-Primary Blood Derived Cancer - Peripheral Blood","2808-Primary Blood Derived Cancer - Peripheral Blood","2809-Primary Blood Derived Cancer - Peripheral Blood"],name:"id"},{array:["a","b","c","d","a","a","b"],name:"Minimal example"}]},columns:7,rowMetadataModel:{vectors:[{array:["1p33","1q43","11q23.3","13q31.3","19p13.2"],name:"id"},{array:[.01952,.001933,3.125e-9,.2114,.2114],name:"Description"}]},rows:5,seriesArrays:[[[0,-.004495999775826931,-.0012469999492168427,-.0013859999598935246,-.02394000068306923,.000970599998254329,-.0016629999736323953],[0,-.0049230000004172325,-.0012469999492168427,-.0013859999598935246,-.00861200038343668,-.001879999996162951,-.0016629999736323953],[.011169999837875366,-.0046190000139176846,.3653999865055084,-.0022499999031424522,.007083000149577856,-.0022169998846948147,.001247999956831336],[-.0014720000326633453,-.004370000213384628,-.004155000206083059,-.003186000045388937,-.01737000048160553,-.00761000020429492,-.0034630000591278076],[.00546600017696619,-.01664000004529953,-.011339999735355377,.013770000077784061,-.04292000085115433,-.026510000228881836,-.019260000437498093]]],seriesDataTypes:["Float32"],seriesNames:["Minimal example"]},[2,this.generateHeatMap(e,t)]}})})},t.prototype.render=function(){return s.createElement("div",{id:"morpheus-container"})},t}(s.Component);t.MorpheusComponent=c},"./src/data/AminoAcid.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={fullName:"Alanine",singleLetterCode:"A",threeLetterCode:"ALA"},o={fullName:"Arginine",singleLetterCode:"R",threeLetterCode:"ARG"},i={fullName:"Asparagine",singleLetterCode:"N",threeLetterCode:"ASN"},a={fullName:"Aspartic Acid",singleLetterCode:"D",threeLetterCode:"ASP"},s={fullName:"Cysteine",singleLetterCode:"C",threeLetterCode:"CYS"},l={fullName:"Glutamine",singleLetterCode:"Q",threeLetterCode:"GLN"},c={fullName:"Glutamic Acid",singleLetterCode:"E",threeLetterCode:"GLU"},u={fullName:"Glycine",singleLetterCode:"G",threeLetterCode:"GLY"},d={fullName:"Histidine",singleLetterCode:"H",threeLetterCode:"HIS"},f={fullName:"Isoleucine",singleLetterCode:"I",threeLetterCode:"ILE"},p={fullName:"Leucine",singleLetterCode:"L",threeLetterCode:"LEU"},h={fullName:"Lysine",singleLetterCode:"K",threeLetterCode:"LYS"},m={fullName:"Methionine",singleLetterCode:"M",threeLetterCode:"MET"},g={fullName:"Phenylalanine",singleLetterCode:"F",threeLetterCode:"PHE"},v={fullName:"Proline",singleLetterCode:"P",threeLetterCode:"PRO"},y={fullName:"Serine",singleLetterCode:"S",threeLetterCode:"SER"},_={fullName:"Threonine",singleLetterCode:"T",threeLetterCode:"THR"},C={fullName:"Tryptophan",singleLetterCode:"W",threeLetterCode:"TRP"},b={fullName:"Tyrosine",singleLetterCode:"Y",threeLetterCode:"TYR"},S={fullName:"Valine",singleLetterCode:"V",threeLetterCode:"VAL"};t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE={A:r,R:o,N:i,D:a,C:s,Q:l,E:c,G:u,H:d,I:f,L:p,K:h,M:m,F:g,P:v,S:y,T:_,W:C,Y:b,V:S},t.AMINO_ACIDS_BY_THREE_LETTER_CODE={ALA:r,ARG:o,ASN:i,ASP:a,CYS:s,GLN:l,GLU:c,GLY:u,HIS:d,ILE:f,LEU:p,LYS:h,MET:m,PHE:g,PRO:v,SER:y,THR:_,TRP:C,TYR:b,VAL:S},t.AMINO_ACIDS=[r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,_,C,b,S],t.getPDBAndCouplingMismatch=function(e,n){var r=e.sequence,o=n.sequence,i=t.getSequenceMismatch(r,o);return 0===i.length?e.getResidueNumberingMismatches(n):i},t.getSequenceMismatch=function(e,n){var r=new Array;if(e.length===n.length)for(var o=0;o<e.length;++o){var i=e[o],a=n[o];i!==a&&r.push({firstAminoAcid:t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[i],resno:o,secondAminoAcid:t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[a]})}return r}},"./src/data/Chell1DSection.ts":function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){void 0===n&&(n=t),this.label=e,this.sectionEnd=0,this.sectionStart=0,this.sectionEnd=Math.max(n,t),this.sectionStart=Math.min(t,n)}return Object.defineProperty(e.prototype,"end",{get:function(){return this.sectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.sectionEnd-this.sectionStart+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.sectionStart},enumerable:!0,configurable:!0}),e.prototype.contains=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var i=r(n),a=i.next();!a.done;a=i.next()){var s=a.value;if(s<this.sectionStart||s>this.sectionEnd||void 0===s)return!1}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return!0},e.prototype.updateStart=function(e){e>this.sectionEnd?(this.sectionStart=this.sectionEnd,this.sectionEnd=e):this.sectionStart=e},e.prototype.updateEnd=function(e){e<this.sectionStart?(this.sectionEnd=this.sectionStart,this.sectionStart=e):this.sectionEnd=e},e}();t.Chell1DSection=o},"./src/data/ChellConfig.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BUTTON="BUTTON",e.LABEL="LABEL",e.RADIO="RADIO",e.SLIDER="SLIDER"}(t.CONFIGURATION_COMPONENT_TYPE||(t.CONFIGURATION_COMPONENT_TYPE={}))},"./src/data/ChellData.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CONTACT_MAP="Contact Map",e.INFO_PANEL="Info Panel",e.NGL="NGL",e.SPRING="Spring",e["TENSOR-T-SNE"]="TENSOR-T-SNE",e["T-SNE"]="T-SNE",e["T-SNE-FRAME"]="T-SNE-FRAME"}(t.VIZ_TYPE||(t.VIZ_TYPE={})),function(e){e.CLOSEST="CLOSEST",e.C_ALPHA="C-α"}(t.CONTACT_DISTANCE_PROXIMITY||(t.CONTACT_DISTANCE_PROXIMITY={})),function(e){e.G="310_HELIX",e.H="ALPHA_HELIX",e.I="PI_HELIX",e.T="HYDROGEN_BONDED_TURN",e.E="BETA_SHEET",e.B="BETA_BRIDGE",e.S="BEND",e.C="COIL"}(t.SECONDARY_STRUCTURE_CODES||(t.SECONDARY_STRUCTURE_CODES={})),function(e){e[e.AFTER_PLOT=0]="AFTER_PLOT",e[e.CLICK=1]="CLICK",e[e.DOUBLE_CLICK=2]="DOUBLE_CLICK",e[e.HOVER=3]="HOVER",e[e.RELAYOUT=4]="RELAYOUT",e[e.SELECTION=5]="SELECTION",e[e.UNHOVER=6]="UNHOVER"}(t.CHELL_CHART_EVENT_TYPE||(t.CHELL_CHART_EVENT_TYPE={})),function(e){e[e.AXIS=0]="AXIS",e[e.POINT=1]="POINT"}(t.CHELL_CHART_PIECE||(t.CHELL_CHART_PIECE={}))},"./src/data/ChellPDB.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/ngl/dist/ngl.esm.js"),a=n("./src/data/index.ts"),s=function(){function e(){this.fileName="",this.nglData=new i.Structure}return e.createEmptyPDB=function(){return new e},e.createPDB=function(t){return void 0===t&&(t=""),r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return n=new e,r=n,[4,i.autoLoad(t)];case 1:return r.nglData=o.sent(),n.fileName="string"==typeof t?t:t.name,[2,n]}})})},e.createPDBFromNGLData=function(t){var n=new e;return n.nglData=t,n},Object.defineProperty(e.prototype,"contactInformation",{get:function(){var e=this;if(!this.contactInfo){var t=new a.CouplingContainer;this.nglData.eachResidue(function(n){if(n.isProtein()){var r=n.resno;e.nglData.eachResidue(function(n){var o=n.resno;n.isProtein()&&r!==o&&t.addCouplingScore({dist:e.getMinDistBetweenResidues(r,o).dist,i:r,j:o})})}}),this.contactInfo=t}return this.contactInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nglStructure",{get:function(){return this.nglData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryStructure",{get:function(){var e=new Array;return this.nglData.eachResidue(function(t){if(t.isProtein()){var n="C";if(t.isSheet())n="E";else if(t.isHelix())n="H";else if(t.isTurn())return;e.push({resno:t.resno,structId:n})}}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryStructureSections",{get:function(){var e=new Array;return this.nglData.eachResidue(function(t){if(t.isProtein()){for(var n=t.chainIndex;!e[n];)e.push(new Array);var r="C";t.isSheet()?r="E":t.isHelix()&&(r="H"),e[n].length>=1&&e[n][e[n].length-1].label===r?e[n][e[n].length-1].updateEnd(t.resno):e[n].push(new a.Chell1DSection(r,t.resno))}}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var e=this.fileName.split("/"),t=e[e.length-1];return t.slice(0,t.lastIndexOf("."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequence",{get:function(){return this.nglData?this.nglData.getSequence().join(""):""},enumerable:!0,configurable:!0}),e.prototype.eachResidue=function(e){this.nglData.eachResidue(e)},e.prototype.amendPDBWithCouplingScores=function(t,n){var r=this,o=new a.CouplingContainer(t),i=this.nglData.atomMap.dict[e.NGL_C_ALPHA_INDEX],s={};return this.nglData.eachResidue(function(e){r.nglData.eachResidue(function(t){if(e.isProtein()&&t.isProtein())if(n===a.CONTACT_DISTANCE_PROXIMITY.C_ALPHA){var l=r.getCAlphaAtomIndexFromResidue(e.index,i),c=r.getCAlphaAtomIndexFromResidue(t.index,i);o.addCouplingScore({dist:r.nglData.getAtomProxy(l).distanceTo(r.nglData.getAtomProxy(c)),i:e.resno,j:t.resno})}else{var u=Math.min(e.resno,t.resno)+","+Math.max(e.resno,t.resno);s[u]||(s[u]=r.getMinDistBetweenResidueIndices(e.index,t.index).dist),o.addCouplingScore({dist:s[u],i:e.resno,j:t.resno})}})}),this.contactInfo=o,this.contactInfo},e.prototype.getCAlphaAtomIndexFromResidue=function(e,t){for(var n=this.nglData.residueStore,r=n.atomOffset[e],o=n.atomCount[e],i=r;n.residueTypeId[i]!==t&&i<r+o;)i++;return i},e.prototype.getMinDistBetweenResidues=function(e,t){return this.getMinDistBetweenResidueIndices(this.nglData.residueStore.resno.indexOf(e),this.nglData.residueStore.resno.indexOf(t))},e.prototype.getResidueNumberingMismatches=function(e){var t=new Array;return this.eachResidue(function(n){var r=n.resname.toUpperCase(),o=e.getAminoAcidOfContact(n.resno);o&&a.AMINO_ACIDS_BY_THREE_LETTER_CODE[r]!==a.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[o.singleLetterCode]&&t.push({firstAminoAcid:a.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[o.singleLetterCode],resno:n.resno,secondAminoAcid:a.AMINO_ACIDS_BY_THREE_LETTER_CODE[r]})}),t},e.prototype.getMinDistBetweenResidueIndices=function(e,t){for(var n=this.nglData.residueStore,r=n.atomCount[e],o=n.atomCount[t],i=n.atomOffset[e],a=n.atomOffset[t],s={atomIndexI:-1,atomIndexJ:-1,dist:Number.MAX_SAFE_INTEGER},l=0;l<r;++l)for(var c=0;c<o;++c){var u=i+l,d=a+c,f=this.nglData.getAtomProxy(u).distanceTo(this.nglData.getAtomProxy(d));f<s.dist&&(s={atomIndexI:u,atomIndexJ:d,dist:f})}return s},e.NGL_C_ALPHA_INDEX="CA|C",e}();t.ChellPDB=s},"./src/data/CouplingContainer.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/data/index.ts"),a=function(){function e(e){var t,n;void 0===e&&(e=[]);var r=this;this.contacts=new Array,this.totalStoredContacts=0,this.indexRange={max:50,min:1},this.rowCounter=0,this.colCounter=0,this.getCouplingScore=function(e,t){var n=r.contacts[Math.min(e,t)-1];return n?n[Math.max(e,t)-1]:void 0},this.includes=function(e,t){return r.contacts[Math.min(e,t)-1]&&void 0!==r.contacts[Math.min(e,t)-1][Math.max(e,t)-1]};try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var s=a.value;this.addCouplingScore(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}return Object.defineProperty(e.prototype,"allContacts",{get:function(){return this.contacts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chainLength",{get:function(){return this.indexRange.max-this.indexRange.min+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rankedContacts",{get:function(){return Array.from(this).sort(function(e,t){return e.cn&&t.cn?t.cn-e.cn:e.cn&&!t.cn?-1:!e.cn&&t.cn?1:0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"residueIndexRange",{get:function(){return this.indexRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequence",{get:function(){for(var e="",t=this.indexRange.min;t<=this.indexRange.max;++t){var n=this.getAminoAcidOfContact(t);n&&(e+=n.singleLetterCode)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalContacts",{get:function(){return this.totalStoredContacts},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){return this},e.prototype.addCouplingScore=function(e){var t=e.A_i,n=e.A_j,o=e.i,i=e.j,a=Math.min(o,i)-1,s=Math.max(o,i)-1,l=a+1===i;this.contacts[a]||(this.contacts[a]=new Array),this.contacts[a][s]||this.totalStoredContacts++,this.contacts[a][s]=r({},this.contacts[a][s],e),l&&(this.contacts[a][s].i=i,this.contacts[a][s].j=o,t&&n&&(this.contacts[a][s].A_i=n,this.contacts[a][s].A_j=t)),this.indexRange={max:Math.max(this.indexRange.max,s+1),min:Math.min(this.indexRange.min,a+1)}},e.prototype.getAminoAcidOfContact=function(e){var t,n,r,a;if(!(e>this.chainLength+1))try{for(var s=o(this.allContacts),l=s.next();!l.done;l=s.next()){var c=l.value;if(c)try{for(var u=o(c),d=u.next();!d.done;d=u.next()){var f=d.value;if(f&&f.i===e&&f.A_i)return i.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[f.A_i];if(f&&f.j===e&&f.A_j)return i.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[f.A_j]}}catch(e){r={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.getObservedContacts=function(e,t){var n,r;void 0===e&&(e=5),void 0===t&&(t=5);var i=new Array;try{for(var a=o(this),s=a.next();!s.done;s=a.next()){var l=s.value;l.dist&&l.dist<=e&&Math.abs(l.i-l.j)>=t&&i.push(l)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},e.prototype.getPredictedContacts=function(e,t,n){var r,i;void 0===t&&(t=5),void 0===n&&(n=5);var a={correct:new Array,predicted:new Array};try{for(var s=o(this.rankedContacts.filter(function(e){return Math.abs(e.i-e.j)>=t}).slice(0,e)),l=s.next();!l.done;l=s.next()){var c=l.value;c.dist&&c.dist<n&&a.correct.push(c),a.predicted.push(c)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a},e.prototype.next=function(){for(var e=this.rowCounter;e<this.contacts.length;++e)if(this.contacts[e]){for(var t=this.colCounter;t<this.contacts[e].length;++t){var n=this.contacts[e][t];if(n)return this.rowCounter=e,this.colCounter=t+1,{done:!1,value:n}}this.colCounter=0}return this.rowCounter=0,this.colCounter=0,{done:!0,value:null}},e.prototype.updateContact=function(e,t,n){this.addCouplingScore(r({i:e,j:t},n))},e}();t.CouplingContainer=a},"./src/data/PlotlyData.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.bar="bar",e.pointcloud="pointcloud",e.scatter="scatter",e.scattergl="scattergl",e.scatter3d="scatter3d"}(t.PLOTLY_CHART_TYPE||(t.PLOTLY_CHART_TYPE={}))},"./src/data/Protein.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DISEASE=0]="DISEASE",e[e.DOMAIN=1]="DOMAIN",e[e.FUNCTION=2]="FUNCTION",e[e.INTERACTION=3]="INTERACTION",e[e.MIM=4]="MIM",e[e.PTM=5]="PTM",e[e.SIMILARITY=6]="SIMILARITY",e[e.SUBCELLULAR_LOCATION=7]="SUBCELLULAR_LOCATION",e[e.SUBUNIT=8]="SUBUNIT",e[e.WEBRESOURCE=9]="WEBRESOURCE"}(t.PROTEIN_COMMENT_TYPE||(t.PROTEIN_COMMENT_TYPE={}))},"./src/data/TintedChell1DSection.ts":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n,r,o){void 0===r&&(r=n),void 0===o&&(o="orange");var i=e.call(this,t,n,r)||this;return i.label=t,i.sectionColor="orange",i.sectionColor=o,i}return o(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.sectionColor},enumerable:!0,configurable:!0}),t.prototype.updateColor=function(e){this.sectionColor=e},t}(n("./src/data/index.ts").Chell1DSection);t.TintedChell1DSection=i},"./src/data/VizData.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{icon:"assets/icons/example_hpc_sf2-spring.png",link:"/dataset?name=hpc_sf2/full&viz=spring",name:"HPC (hematopoietic progenitor cells)",summary:"Analysis of 33,473 hematopoietic progenitor cells as they differentiate over 6 days.       Barcodes were introduced at day 0 and cell lineage relationships were traced by       identifying progeny from their barcodes in scRNAseq of aliquots of the same population taken at several timepoints."},{icon:"assets/icons/tabula-muris-thumbnail.png",link:"/dataset?name=tabula_muris/full&viz=spring",name:"CZI Tabula muris",summary:"Analysis of ~100K mouse cells from 20 organs and tissues."},{icon:"assets/icons/example_tabularmuris_spring-tsne-anatomogram.png",link:"/dataset?name=tabula_muris/full&viz=spring&viz=tfjs-tsne&viz=anatomogram",name:"Tabula Muris - SPRING vs tSNE with Anatomogram",summary:"Example comparison of data reduction techniques SPRING and tSNE    (of top 30 PCA components), on RNAseq profiles from 56778 cells    from the CZI Tabula muris dataset. Also includes anatomogram visualization for selection of tissue types."},{icon:"assets/icons/example_HPC_spring-tsne-anatomogram.png",link:"/dataset?name=hpc/full&viz=spring&viz=tfjs-tsne&viz=anatomogram",name:"HPC - SPRING vs tSNE with Anatomogram",summary:"Example interaction between SPRING, tSNE and Anatomogram visualization on a small dataset."}],o={authors:["Alfonso Muñoz-Pomer Fuentes"],citations:[],compatibility:[],detailedSummary:"",examples:[r[2]],listAsOriginal:!0,name:"Anatomogram",relevantData:"scRNA-seq",repo:{lastUpdate:"",link:"https://github.com/ebi-gene-expression-group/anatomogram",version:""},summary:"Interactive anatomical diagram."},i={authors:["Caleb Weinreb","Samuel Wolock","Allon Klein"],citations:[{fullCitation:'Weinreb, Caleb, Samuel Wolock, and Allon M. Klein.      "SPRING: A kinetic interface for visualizing high dimensional single-cell expression data."      Bioinformatics 34.7 (2017): 1246-1248.',link:"https://www.ncbi.nlm.nih.gov/pubmed/29228172"}],compatibility:["live tSNE","UMAP","PCA"],detailedSummary:"SPRING is a tool for uncovering high-dimensional structure in single-cell gene expression data.   SPRING takes a (gene X cell) table of expression measurements and outputs a k-nearest-neighbor graph   rendered using a force directed layout.   Users can overlay prior information, including gene expression values, gene-set scores, cell cluster labels and sample IDs.   Users can also upload custom coordinates that have been generated using an outside program such as tSNE.",examples:r,listAsOriginal:!1,name:"SPRING",relevantData:"scRNA-seq",repo:{lastUpdate:"2018.03.12",link:"https://github.com/AllonKleinLab/SPRING_dev",version:"2.0"},summary:"SPRING is a tool for uncovering high-dimensional structure in single-cell expression data."},a={authors:["Yannick Assogba"],citations:[],compatibility:[],detailedSummary:"",examples:[r[2]],listAsOriginal:!0,name:"tfjs-tsne",relevantData:"scRNA-seq",repo:{lastUpdate:"",link:"https://github.com/tensorflow/tfjs-tsne",version:""},summary:"Improved tSNE implementation that runs in the browser."};t.VizData={anatomogram:o,spring:i,tfjsTsne:a},t.Stories=[{authors:["Caleb Weinreb","Samuel Wolock","Allon Klein"],description:"Analysis of 33,473 hematopoietic progenitor cells as they differentiate over 6 days.       Barcodes were introduced at day 0 and cell lineage relationships were traced by       identifying progeny from their barcodes in scRNAseq of aliquots of the same population taken at several timepoints.",icon:"assets/icons/example_hpc_sf2-spring.png",link:"/dataset?name=hpc_sf2/full&viz=spring",title:"Trajectory analysis of differentiating HPCs"},{authors:["Drew Diamantoukos","Nicholas Gauthier"],description:"Analysis of single cell transcriptomics of 20 mouse organs    from the tabula muris project.",icon:"assets/icons/example_tabularmuris_spring-tsne-anatomogram.png",link:"/dataset?name=tabula_muris/10k&viz=spring&viz=tfjs-tsne&viz=anatomogram",title:"Dimensionality-reduction analysis of tabula muris"}],t.userDatasets=[{authors:["Caleb Weinreb","Samuel Wolock","Allon klein"],links:{analysis:"",detail:""},name:"Differentiating hematopoietic cells",summary:"Hematopoietic cells were subjected to barcoding andaliquots were subjected to scRNAseq as they underwentdifferentiation."},{authors:["The Tabula Muris Consortium"],links:{analysis:"",detail:""},name:"Tabula muris - scRNAseq of 20 mouse organs",summary:"A compendium of single-cell transcriptomic data from the  model organism Mus musculus that comprises more than  100,000 cells from 20 organs and tissues"}]},"./src/data/event/ChellChartEvent.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data/index.ts"),o=function(){function e(e,t,n){void 0===n&&(n=[]),this.type=e,this.chartPiece=t,this.selectedPoints=n}return e.prototype.isAxis=function(){return this.chartPiece===r.CHELL_CHART_PIECE.AXIS},e}();t.ChellChartEvent=o},"./src/data/event/index.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./src/data/event/ChellChartEvent.ts"))},"./src/data/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/data/AminoAcid.ts")),r(n("./src/data/Chell1DSection.ts")),r(n("./src/data/ChellConfig.ts")),r(n("./src/data/ChellData.ts")),r(n("./src/data/ChellPDB.ts")),r(n("./src/data/CouplingContainer.ts")),r(n("./src/data/PlotlyData.ts")),r(n("./src/data/Protein.ts")),r(n("./src/data/TintedChell1DSection.ts")),r(n("./src/data/VizData.ts")),r(n("./src/data/event/index.ts"))},"./src/helper/ColorMapper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){void 0===t&&(t=e.DEFAULT_COLORS),this.colors=t,this.colorMap=new Map}return e.prototype.getColorFor=function(e){return this.colorMap.has(e)||this.addColorToMapper(e),this.colorMap.get(e)},e.prototype.addEntry=function(e,t,n){void 0===n&&(n=!0),this.colorMap.has(e)||this.addColorToMapper(e,t,n)},e.prototype.addColorToMapper=function(e,t,n){this.colorMap.set(e,t||this.colors[this.colorMap.size%this.colors.length]),t&&n&&!this.colors.includes(t)&&this.colors.push(t)},e.DEFAULT_COLORS=["red","green","blue","orange","purple","teal","pink","yellow","violet","olive","brown"],e}();t.ColorMapper=r},"./src/helper/CouplingMapper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCouplingHeaderIndices=function(e,t){if(t){var n={};return e.filter(function(e){return e.length>=1}).map(function(t){n[t.trim()]=e.indexOf(t)}),n}return function(e){return{A_i:e.length-2,A_j:e.length-1,cn:2,dist:3,i:0,j:1}}(e)}},"./src/helper/DataHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},s=this;Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/ngl/dist/ngl.esm.js"),c=n("./src/data/index.ts"),u=n("./src/helper/index.ts");t.fetchAppropriateData=function(e,n){return o(s,void 0,void 0,function(){return i(this,function(r){switch(e){case c.VIZ_TYPE["T-SNE"]:case c.VIZ_TYPE["T-SNE-FRAME"]:return[2,t.fetchTSneCoordinateData(n)];case c.VIZ_TYPE["TENSOR-T-SNE"]:return[2,t.fetchTensorTSneCoordinateData(n)];case c.VIZ_TYPE.SPRING:return[2,t.fetchSpringData(n)];case c.VIZ_TYPE.NGL:return[2,t.fetchNGLDataFromDirectory(n)];case c.VIZ_TYPE.CONTACT_MAP:case c.VIZ_TYPE.INFO_PANEL:return[2,t.fetchContactMapData(n)];default:return[2,Promise.reject({error:"Currently no appropriate data getter for "+e})]}return[2]})})},t.fetchAppropriateDataFromFile=function(e,n){return o(s,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:switch(e){case c.VIZ_TYPE.NGL:return[3,1];case c.VIZ_TYPE.CONTACT_MAP:return[3,2]}return[3,4];case 1:return[2,t.fetchNGLDataFromFile(n)];case 2:return r={},o=t.getCouplingScoresData,[4,u.readFileAsText(n)];case 3:return[2,(r.couplingScores=o.apply(void 0,[i.sent()]),r)];case 4:return[2,Promise.reject({error:"Currently no appropriate data getter for "+e+" files"})]}})})},t.fetchSpringData=function(e){return o(s,void 0,void 0,function(){var n,r,o,a;return i(this,function(i){switch(i.label){case 0:return[4,t.fetchSpringCoordinateData(e+"/coordinates.txt")];case 1:return n=i.sent(),[4,m(e+"/graph_data.json")];case 2:return r=i.sent(),[4,p(e+"/categorical_coloring_data.json")];case 3:return o=i.sent(),a=f(r,n,o),r.links=d(r.links,a),[2,r]}})})};var d=function(e,t){return e.map(function(e){var n=t[e.source],r=t[e.target];return n&&r&&(e.source=n,e.target=r),e})},f=function(e,t,n){for(var r={},o=0;o<e.nodes.length;++o){var i=e.nodes[o];r[i.number]=i,i.number in t&&(i.fixed=!0,i.x=t[i.number][0],i.y=t[i.number][1]);var a=n.label_list[o];i.category=a,i.colorHex=n.label_colors[a]}return r},p=function(e){return o(s,void 0,void 0,function(){var t,n,r,o,s,l,c,d,f,p,m;return i(this,function(i){switch(i.label){case 0:return[4,u.fetchJSONFile(e)];case 1:if(r=i.sent(),o=h(Object.keys(r)),!(s=r[o]).label_colors||!s.label_list)throw new Error("Unable to parse color data - does it have keys named 'label_colors' and 'label_list'");l={label_colors:{},label_list:s.label_list},c=r[Object.keys(r)[0]].label_colors;try{for(d=a(Object.keys(c)),f=d.next();!f.done;f=d.next())p=f.value,"number"==typeof(m=c[p])?l.label_colors[p]=m:"#"===m.charAt(0)?l.label_colors[p]=Number.parseInt("0x"+m.slice(1),16):l.label_colors[p]=Number.parseInt(m,16)}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return[2,l]}})})},h=function(e){return e.includes("sample")?"sample":e.includes("Sample")?"Sample":e[0]};t.fetchSpringCoordinateData=function(e){return o(s,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return[4,u.fetchCSVFile(e)];case 1:return t=r.sent(),n=[],(t?t.split("\n"):[]).forEach(function(e,t,r){var o=e.split(",");if(o.length>=3){var i=parseFloat(o[1].trim()),a=parseFloat(o[2].trim()),s=parseInt(o[0].trim(),10);n[s]=[i,a]}else if(0!==e.localeCompare(""))throw new Error("Unable to parse coordinate data - Row "+t+" does not have at least 3 columns!")}),[2,n]}})})},t.fetchTSneCoordinateData=function(e){return o(s,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return[4,u.fetchCSVFile(e+"/tsne_output.csv")];case 1:return t=r.sent(),n=[],t.split("\n").forEach(function(e){if(e.length>0){var t=e.split(","),r=[parseFloat(t[0]),parseFloat(t[1])];n.push(r)}}),[2,n]}})})},t.fetchTensorTSneCoordinateDataFromFile=function(e){return o(s,void 0,void 0,function(){var t,n,r,o,s,l,c;return i(this,function(i){switch(i.label){case 0:return[4,u.fetchCSVFile(e)];case 1:r=i.sent(),o=new Array;try{for(s=a(r.split("\n")),l=s.next();!l.done;l=s.next())(c=l.value).length>=1&&o.push(c.split(",").map(parseFloat))}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return[2,o]}})})},t.fetchTensorTSneCoordinateData=function(e){return o(s,void 0,void 0,function(){return i(this,function(n){return[2,t.fetchTensorTSneCoordinateDataFromFile(e+"/tsne_matrix.csv")]})})};var m=function(e){return o(s,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,u.fetchJSONFile(e)];case 1:if(!(t=n.sent()).nodes||!t.links)throw new Error("Unable to parse graph data - does it have keys named 'nodes' and 'links'");return[2,t]}})})};t.fetchNGLDataFromDirectory=function(e){return o(s,void 0,void 0,function(){var n;return i(this,function(r){return 0===e.length?[2,Promise.reject("Empty path.")]:(n=e+"/protein.pdb",[2,t.fetchNGLDataFromFile(n)])})})},t.fetchNGLDataFromFile=function(e,t){return void 0===t&&(t={}),o(s,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,l.autoLoad(e,t)];case 1:return[2,n.sent()]}})})},t.fetchContactMapData=function(e){return o(s,void 0,void 0,function(){var n,r,a,s=this;return i(this,function(l){switch(l.label){case 0:return 0===e.length?[2,Promise.reject("Empty path.")]:(n=["coupling_scores.csv","residue_mapping.csv"],[4,Promise.all(n.map(function(t){return o(s,void 0,void 0,function(){return i(this,function(n){return[2,u.fetchCSVFile(e+"/"+t)]})})}))]);case 1:return r=l.sent(),[4,c.ChellPDB.createPDB(e+"/protein.pdb")];case 2:return a=l.sent(),[2,{couplingScores:t.getCouplingScoresData(r[0],u.generateResidueMapping(r[1])),pdbData:a,secondaryStructures:[]}]}})})},t.getCouplingScoresData=function(e,t){void 0===t&&(t=[]);var n=e.split("\n")[0].split(","),o=g(n),i=u.getCouplingHeaderIndices(n,o),a=new c.CouplingContainer;return e.split("\n").slice(o?1:0).filter(function(e){return e.split(",").length>=2}).map(function(e){var n=e.split(","),o=v(n,i);if(t.length>=1){var s=t.findIndex(function(e){return e.couplingsResno===o.i}),l=t.findIndex(function(e){return e.couplingsResno===o.j});a.addCouplingScore(r({},o,{A_i:t[s].pdbResCode,A_j:t[l].pdbResCode,i:t[s].pdbResno,j:t[l].pdbResno}))}else a.addCouplingScore(o)}),a};var g=function(e){return["cn","dist","i","j"].filter(function(t){return e.includes(t)}).length>=1},v=function(e,t){return Object.entries(t).reduce(function(t,n){var o,i=n[0],a=n[1];return r({},t,((o={})[i]=isNaN(Number(e[a]))?e[a]:Number(e[a]),o))},{i:-1,j:-1})};t.augmentCouplingScoresWithResidueMapping=function(e,t){var n,r;void 0===t&&(t=[]);var o=new c.CouplingContainer,i=function(e){var n=t.findIndex(function(t){return t.couplingsResno===e.i}),r=t.findIndex(function(t){return t.couplingsResno===e.j});o.addCouplingScore({A_i:t[n].pdbResCode,A_j:t[r].pdbResCode,cn:e.cn,dist:e.dist,i:t[n].pdbResno,j:t[r].pdbResno})};try{for(var s=a(e),l=s.next();!l.done;l=s.next()){i(l.value)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},t.getSecondaryStructureData=function(e){return e.split("\n").slice(1).filter(function(e){return e.split(",").length>=3}).map(function(e){var t=e.split(",");return{resno:parseFloat(t[1]),structId:t[2]}})}},"./src/helper/FetchHelper.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCSVFile=function(e){return r(i,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:if((t=n.sent()).ok)return[2,t.text()];throw new Error(a("CSV",t))}})})},t.fetchJSONFile=function(e){return r(i,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:if((t=n.sent()).ok)return[2,t.json()];throw new Error(a("JSON",t))}})})};var a=function(e,t){return"Chell-viz error fetching "+e+" File!\nStatus: "+t.status+"\nMessage: "+t.statusText+"\n"};t.readFileAsText=function(e){return r(i,void 0,void 0,function(){var t;return o(this,function(n){return t=new FileReader,[2,new Promise(function(n,r){t.onerror=function(){t.abort(),r("Problem parsing input file.")},t.onload=function(){n(t.result)},t.readAsText(e)})]})})}},"./src/helper/MorpheusHelper.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0}),t.getMorpheusInstance=function(){return r(i,void 0,void 0,function(){var e,t;return o(this,function(r){switch(r.label){case 0:return window.$?[3,2]:[4,Promise.resolve().then(function(){return n("./node_modules/jquery/dist/jquery.js")})];case 1:e=r.sent(),window.$=e,r.label=2;case 2:return window._?[3,4]:[4,Promise.resolve().then(function(){return n("./node_modules/lodash/lodash.js")})];case 3:t=r.sent(),window._=t,r.label=4;case 4:return[4,Promise.resolve().then(function(){return n("./node_modules/morpheus-app/js/morpheus-esm-latest.min.js")})];case 5:return[2,r.sent().default]}})})}},"./src/helper/NGLHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRepParams={color:"red",labelBackground:!0,labelBackgroundColor:"lightgrey",labelBackgroundMargin:.75,labelBorder:!0,labelBorderColor:"white",labelBorderWidth:.3,labelColor:"black",labelSize:5,labelUnit:"angstrom",labelZOffset:35},t.createDistanceRepresentation=function(e,n,o){return void 0===o&&(o={}),e.addRepresentation("distance",r({},t.defaultRepParams,o,{atomPair:Array.isArray(n)?[n]:[n.split(",")]}))},t.createBallStickRepresentation=function(e,t){return e.addRepresentation("ball+stick",{sele:t.join(", ")})},t.createSecStructRepresentation=function(e,t,n,r){void 0===n&&(n=2),void 0===r&&(r="#feb83f");var o=e.addRepresentation("cartoon",{color:r,radiusScale:n,sele:t.start+"-"+t.end});return o.setParameters({wireframe:!0}),o}},"./src/helper/PlotlyHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/data/index.ts");t.generateScatterGLData=function(e,n){return void 0===n&&(n=!1),r({},t.generateScatterData(e,n),{type:a.PLOTLY_CHART_TYPE.scattergl})},t.generateScatterData=function(e,t){void 0===t&&(t=!1);var n=e.marker,o=e.points,l=e.hoverinfo,c=e.subtitle,u=e.name,d=e.text,f=o.map(function(e){return e.i}),p=o.map(function(e){return e.j}),h=o.map(function(e){return e.dist?e.dist:-1}),m=d?Array.isArray(d)?d:[d]:[];return{hoverinfo:l||"x+y+z",marker:r({color:s(t,h,e),size:e.nodeSize},n),mode:"markers",name:u+" "+c,text:t?i(m,m.map(function(e){return"("+e.substr(1,e.length-2).split(", ").reverse().join(", ")+")"})):m,type:a.PLOTLY_CHART_TYPE.scatter,x:t?i(f,p):f,y:t?i(p,f):p,z:t?i(h,h):h}};var s=function(e,t,n){var r=e?2*t.length:t.length,o=new Array(r);if(n.marker&&"string"==typeof n.marker.color)return o.fill(n.marker.color);var a=t.map(function(e){return e.toString()});return e?i(a,a):a};t.generateFloat32ArrayFromContacts=function(e){var t=new Float32Array(2*e.length);return e.forEach(function(e,n){t[2*n]=e.i,t[2*n+1]=e.j}),t},t.generatePointCloudData=function(e,n){void 0===n&&(n=!1);var o=e.points,s=t.generateFloat32ArrayFromContacts(o);return{marker:r({},e.marker,{sizemax:2*e.nodeSize,sizemin:e.nodeSize}),mode:"markers",type:a.PLOTLY_CHART_TYPE.pointcloud,xy:n?new Float32Array(i(Array.from(s),Array.from(s).slice().reverse())):s}}},"./src/helper/ResidueMapper.ts":function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=["up_index","up_residue","pdb_index","pdb_residue"],i=["id","coord_id","one_letter_code"];t.generateResidueMapping=function(e){var t=/\t|,/,n=e.split("\n")[0].split(t),r=s(n),i=a(n,r),l=r?i.id:i.up_index,c=r?i.coord_id:i.pdb_index,u=r?i.one_letter_code:i.pdb_residue;return e.split("\n").slice(1).reduce(function(e,n){var a=n.split(t);return a.length>=o.length&&e.push({couplingsResCode:r?a[u]:a[i.up_residue],couplingsResno:parseInt(a[l],10),pdbResCode:a[u],pdbResno:parseInt(a[c],10)}),e},new Array)};var a=function(e,t){var n={},r=t?i:o;return e.length>=o.length&&r.map(function(t){if(!e.includes(t))throw new Error("Missing error "+t+" in residue mapping file!");n[t]=e.indexOf(t)}),n},s=function(e){var t,n;try{for(var o=r(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(!e.includes(s))return!1}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0}},"./src/helper/StringHelper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeFirstLetter=function(e){return""+e.substr(0,1).toLocaleUpperCase()+e.substr(1).toLocaleLowerCase()}},"./src/helper/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/helper/ColorMapper.ts")),r(n("./src/helper/CouplingMapper.ts")),r(n("./src/helper/DataHelper.ts")),r(n("./src/helper/FetchHelper.ts")),r(n("./src/helper/MorpheusHelper.ts")),r(n("./src/helper/NGLHelper.ts")),r(n("./src/helper/PlotlyHelper.ts")),r(n("./src/helper/ResidueMapper.ts")),r(n("./src/helper/StringHelper.ts"))}},[["./MorpheusContainer.tsx",9,0]]]);