(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./examples/example.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/react/index.js"),u=n("./node_modules/react-dom/index.js"),d=n("./node_modules/semantic-ui-react/dist/es/index.js"),p=n("./src/index.ts"),f=function(e){function t(n){var r=e.call(this,n)||this;return r.renderCouplingComponents=function(e,t){var n=(void 0===e?r.props:e).style,o=void 0===t?r.state:t,i=o.arePredictionsAvailable,a=o.couplingScores,s=o.errorMsg,c=o.isResidueMappingNeeded,u=o.measuredProximity,f=o.pdbData;return l.createElement("div",null,l.createElement(d.Header,{as:"h1",attached:"top"},"ContactMap.org: 2D and 3D Visualization"),s.length>1&&r.renderErrorMessage(),!f&&0===a.length&&r.renderStartMessage(),l.createElement(d.Segment,{attached:!0,raised:!0},l.createElement(p.CouplingContextProvider,null,l.createElement(p.SecondaryStructureContextConsumer,null,function(e){return l.createElement(p.ResidueContextConsumer,null,function(t){return l.createElement(d.Grid,{centered:!0},r.renderUploadButtonsRow(c,t,e),r.renderChellComponents(n,i,u,f))})}))),r.renderFooter())},r.renderErrorMessage=function(e){var t=void 0===e?r.state:e,n=t.errorMsg,o=t.isResidueMappingNeeded,i=t.mismatches,a=t.pdbData;return l.createElement(d.Message,{warning:!0},o&&a?l.createElement("div",null,l.createElement(d.Message.Header,null,"Residue numbering mismatch detected. Please upload a file to correct the position numbering differences.",l.createElement("br",null),"EVCouplings and EVFold outputs this file in the ",l.createElement("strong",null,"OUTPUT")," directory.\n                This file might be named similar to\n                '"+a.name+".csv' or '"+a.name+".indextableplus'"),l.createElement(d.Message.List,null,n),l.createElement(d.Message.Content,null,l.createElement(d.Accordion,{fluid:!0,exclusive:!1,defaultActiveIndex:[],panels:[r.renderSequenceAccordionMessage("PDB sequence",a.sequence,i),r.renderSequenceAccordionMessage("Couplings Score sequence",r.state[p.VIZ_TYPE.CONTACT_MAP].couplingScores.sequence,i)]}))):n)},r.renderFooter=function(){var e=l.createElement("a",{href:"https://github.com/cBioCenter/chell-viz"},"Chell"),t=[l.createElement(l.Fragment,null,"Powered by ",e,"!"),l.createElement(l.Fragment,null,"They love me at the ",e,"sea."),l.createElement(l.Fragment,null,"Today's visualization has been brought to you by ",e,"."),l.createElement(l.Fragment,null,e,"sea, ",e,"sea, I believe..."),l.createElement(l.Fragment,null,"Now you're thinking with ",e,"!"),l.createElement(l.Fragment,null,"And ",e,"sea says she's got nowhere to go...")].map(function(e){return l.createElement(l.Fragment,{key:"random-chell-saying"},e)}),n=t[Math.floor(Math.random()*t.length)];return l.createElement("footer",{style:{padding:"25vh 0 25px 25px"}},n)},r.renderSequenceAccordionMessage=function(e,t,n){var r,o,i=0,a=new Array;try{for(var s=c(n),u=s.next();!u.done;u=s.next()){var d=u.value;a.push(l.createElement(l.Fragment,{key:"mismatch-"+d.resno},l.createElement("span",{style:{color:"black",fontSize:"12px"}},t.substr(i,d.resno)),l.createElement("span",{style:{color:"red",fontSize:"16px",textDecoration:"underline"}},t.charAt(d.resno)))),i=d.resno+2}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a.push(l.createElement("span",{key:"mismatch-final",style:{color:"black",fontSize:"12px"}},t.substr(i))),{content:{content:l.createElement("p",{style:{width:"80%",wordBreak:"break-word"}},a)},key:"panel-"+e,title:{content:e+" ("+t.length+" Amino Acids)"}}},r.renderStartMessage=function(){return l.createElement(d.Message,null,"To get started, please upload either a PDB (.pdb) or EVCouplings score (.csv) file!"," ",l.createElement("br",null)," Check out the",l.createElement("a",{href:"evfold.org"}," EVFold"),", ",l.createElement("a",{href:"sanderlab.org/contact-maps/"},"Sander Lab"),", or",l.createElement("a",{href:"https://evcouplings.org/"}," EVCouplings ")," website to get these files.")},r.renderUploadForm=function(e,t,n,r,o){return void 0===o&&(o=[]),l.createElement(d.GridColumn,null,l.createElement(d.Label,{as:"label",basic:!0,htmlFor:t},l.createElement(d.Button,{disabled:r,icon:"upload",label:{basic:!0,content:n},labelPosition:"right"}),l.createElement("input",{accept:"."+o.join(",."),disabled:r,id:t,onChange:e,hidden:!0,type:"file",required:!0,multiple:!1})))},r.renderUploadLabel=function(e){return e?l.createElement(d.GridColumn,{verticalAlign:"middle",textAlign:"justified"},l.createElement(d.Label,null,e)):null},r.renderCouplingScoresUploadForm=function(e){var t=void 0===e?r.state:e,n=t.couplingScores,o=t.filenames;return l.createElement(d.GridRow,null,r.renderUploadLabel(o.couplings),r.renderUploadForm(r.onCouplingScoreUpload,"coupling-score","Coupling Scores",n.length>0,["csv"]))},r.renderChellComponents=function(e,t,n,o,i){return void 0===i&&(i="550px"),l.createElement(d.GridRow,{verticalAlign:"middle"},l.createElement(d.GridColumn,{width:6},r.renderContactMapCard(t,i,e,o)),l.createElement(d.GridColumn,{width:6},r.renderNGLCard(n,i,e)))},r.renderNGLCard=function(e,t,n){return l.createElement(d.Card,{raised:!0,style:{height:"615px",padding:"15px 15px 0 15px",width:"600px"}},l.createElement(p.NGLComponent,{data:r.state[p.VIZ_TYPE.NGL].pdbData,height:t,isDataLoading:r.state[p.VIZ_TYPE.NGL].isLoading,measuredProximity:e,onMeasuredProximityChange:r.onMeasuredProximityChange(),style:n,width:t}))},r.renderContactMapCard=function(e,t,n,o){return l.createElement(d.Card,{raised:!0,style:{height:"615px",padding:"15px 15px 0 15px",width:"600px"}},e?l.createElement(p.PredictedContactMap,{data:{couplingScores:r.state[p.VIZ_TYPE.CONTACT_MAP].couplingScores,pdbData:o,secondaryStructures:r.state[p.VIZ_TYPE.CONTACT_MAP].secondaryStructures},height:t,isDataLoading:r.state[p.VIZ_TYPE.CONTACT_MAP].isLoading,style:n,width:t}):l.createElement(p.ContactMap,{data:{couplingScores:r.state[p.VIZ_TYPE.CONTACT_MAP].couplingScores,pdbData:o,secondaryStructures:r.state[p.VIZ_TYPE.CONTACT_MAP].secondaryStructures},height:t,isDataLoading:r.state[p.VIZ_TYPE.CONTACT_MAP].isLoading,style:n,width:t}))},r.renderUploadButtonsRow=function(e,t,n){return l.createElement(d.GridRow,{columns:4,centered:!0,textAlign:"center",verticalAlign:"bottom"},l.createElement(d.GridColumn,null,r.renderCouplingScoresUploadForm()),l.createElement(d.GridColumn,null,r.renderPDBUploadForm()),e&&l.createElement(d.GridColumn,null,r.renderResidueMappingUploadForm()),l.createElement(d.GridColumn,null,r.renderClearAllButton(t,n)))},r.renderPDBUploadForm=function(e){var t=void 0===e?r.state:e,n=t.filenames,o=t.pdbData;return l.createElement(d.GridRow,null,r.renderUploadLabel(n.pdb),r.renderUploadForm(r.onPDBUpload,"pdb","PDB",void 0!==o,["pdb"]))},r.renderResidueMappingUploadForm=function(e){var t=(void 0===e?r.state:e).filenames;return l.createElement(d.GridRow,{verticalAlign:"middle",columns:1,centered:!0},r.renderUploadLabel(t.residue_mapper),r.renderUploadForm(r.onResidueMappingUpload,"residue-mapping","Residue Mapping",!1,["csv","indextable","indextableplus"]))},r.renderClearAllButton=function(e,t){return l.createElement(d.GridRow,{verticalAlign:"middle",columns:1,centered:!0},l.createElement(d.GridColumn,null,l.createElement(d.Label,{as:"label",basic:!0,htmlFor:"clear-data"},l.createElement(d.Button,{icon:"trash",label:{basic:!0,content:"Clean View"},labelPosition:"right",onClick:r.onClearAll(e,t)}))))},r.onClearAll=function(e,n){return function(){return a(r,void 0,void 0,function(){return s(this,function(r){return this.setState(t.initialState),e.clearAllResidues(),n.clearAllSecondaryStructures(),this.forceUpdate(),[2]})})}},r.onCouplingScoreUpload=function(e){return a(r,void 0,void 0,function(){var t,n,r,o,a,c,l,u,d,f,h,m;return s(this,function(s){switch(s.label){case 0:if(e.persist(),r=this.state,o=r.measuredProximity,a=r.pdbData,c=e.target.files,null===(l=c?c.item(0):null))return[3,6];if(!l.name.endsWith(".csv"))return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),this.setState(((t={})[p.VIZ_TYPE.CONTACT_MAP]=i({},this.state[p.VIZ_TYPE.CONTACT_MAP],{isLoading:!0}),t)),[4,p.readFileAsText(l)];case 2:return u=s.sent(),d=p.getCouplingScoresData(u,this.state.residueMapping),f=a?a.getResidueNumberingMismatches(d):[],h=f.length>0,this.setState(((n={})[p.VIZ_TYPE.CONTACT_MAP]={couplingScores:a?a.amendPDBWithCouplingScores(d.rankedContacts,o):d,isLoading:!1,pdbData:this.state.pdbData,secondaryStructures:[]},n.arePredictionsAvailable=!0,n.couplingScores=u,n.errorMsg="",n.filenames=i({},this.state.filenames,{couplings:l.name}),n.isResidueMappingNeeded=h,n)),[3,4];case 3:return m=s.sent(),console.log(m),[3,4];case 4:return[3,6];case 5:this.setState({errorMsg:"Unable to load Coupling Score file '"+l.name+"' - Make sure the file ends in '.csv'!"}),s.label=6;case 6:return e.target.value="",[2]}})})},r.onPDBUpload=function(e){return a(r,void 0,void 0,function(){var t,n,r,o,a,c,l;return s(this,function(s){switch(s.label){case 0:return e.persist(),r=this.state.measuredProximity,o=e.target.files,null===(a=o?o.item(0):null)?[3,3]:a.name.endsWith(".pdb")?(this.setState(((t={})[p.VIZ_TYPE.CONTACT_MAP]=i({},this.state[p.VIZ_TYPE.CONTACT_MAP],{isLoading:!0}),t[p.VIZ_TYPE.NGL]=i({},this.state[p.VIZ_TYPE.NGL],{isLoading:!0}),t)),[4,p.ChellPDB.createPDB(a)]):[3,2];case 1:return c=s.sent(),l=c.amendPDBWithCouplingScores(this.state[p.VIZ_TYPE.CONTACT_MAP].couplingScores.rankedContacts,r),this.setState(((n={})[p.VIZ_TYPE.CONTACT_MAP]={couplingScores:l,isLoading:!1,pdbData:c,secondaryStructures:c.secondaryStructureSections},n[p.VIZ_TYPE.NGL]={isLoading:!1,pdbData:c.nglStructure},n.errorMsg="",n.filenames=i({},this.state.filenames,{pdb:a.name}),n.pdbData=c,n)),[3,3];case 2:this.setState({errorMsg:"Unable to load PDB file '"+a.name+"' - Make sure the file ends in '.pdb'!"}),s.label=3;case 3:return e.target.value="",[2]}})})},r.onMeasuredProximityChange=function(){return function(e){r.setState({measuredProximity:Object.values(p.CONTACT_DISTANCE_PROXIMITY)[e]})}},r.onResidueMappingUpload=function(e){return a(r,void 0,void 0,function(){var t,n,r,o,a,c,l,u,d,f,h,m;return s(this,function(s){switch(s.label){case 0:if(e.persist(),r=this.state,o=r.measuredProximity,a=r.pdbData,c=e.target.files,l=c?c.item(0):null,u=["csv","indextable","indextableplus"],null===l)return[3,6];if(!u.reduce(function(e,t){return e||l.name.endsWith("."+t)},!1))return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),this.setState(((t={})[p.VIZ_TYPE.CONTACT_MAP]=i({},this.state[p.VIZ_TYPE.CONTACT_MAP],{isLoading:!0}),t)),[4,p.readFileAsText(l)];case 2:return d=s.sent(),f=p.generateResidueMapping(d),h=p.getCouplingScoresData(this.state.couplingScores,f),this.setState(((n={})[p.VIZ_TYPE.CONTACT_MAP]={couplingScores:a?a.amendPDBWithCouplingScores(h.rankedContacts,o):h,isLoading:!1,secondaryStructures:[]},n.errorMsg="",n.filenames=i({},this.state.filenames,{residue_mapper:l.name}),n.residueMapping=f,n)),[3,4];case 3:return m=s.sent(),console.log(m),[3,4];case 4:return[3,6];case 5:this.setState({errorMsg:"Unable to load Residue Mapping file '"+l.name+"' - Make sure the file ends in one of the following: '"+u.join("', '")+"'"}),s.label=6;case 6:return e.target.value="",[2]}})})},r.state=t.initialState,r}return o(t,e),t.prototype.componentDidUpdate=function(e,t){var n,r=this.state,o=r.measuredProximity,i=r.pdbData,a=this.state[p.VIZ_TYPE.CONTACT_MAP].couplingScores,s="",c=this.state.mismatches,l=this.state.isResidueMappingNeeded;!i||a===t[p.VIZ_TYPE.CONTACT_MAP].couplingScores&&i===t.pdbData||(c=p.getPDBAndCouplingMismatch(i,a)).length>=1&&(s="Error details: "+c.length+" mismatch(es) detected between coupling scores and PDB!        For example, residue number "+c[0].resno+" is '"+c[0].secondAminoAcid.threeLetterCode+"' in the PDB but '"+c[0].firstAminoAcid.threeLetterCode+"' in the coupling scores file.",l=!0),i&&o!==t.measuredProximity?this.setState(((n={})[p.VIZ_TYPE.CONTACT_MAP]={couplingScores:i.amendPDBWithCouplingScores(a.rankedContacts,o),isLoading:!1,pdbData:this.state.pdbData,secondaryStructures:[]},n.errorMsg=s,n.isResidueMappingNeeded=l,n.mismatches=c,n)):s.length>=1&&this.setState({errorMsg:s,isResidueMappingNeeded:l,mismatches:c})},t.prototype.render=function(e){var t=(void 0===e?this.props:e).style;return l.createElement("div",{id:"ChellVizApp",style:i({},t,{height:"1000px"})},this.renderCouplingComponents())},t.defaultProps={style:{backgroundColor:"#ffffff"}},t.initialState=((r={})[p.VIZ_TYPE.CONTACT_MAP]={couplingScores:new p.CouplingContainer,isLoading:!1,pdbData:void 0,secondaryStructures:[]},r[p.VIZ_TYPE.NGL]={isLoading:!1,pdbData:void 0},r.arePredictionsAvailable=!1,r.couplingScores="",r.errorMsg="",r.filenames={},r.isResidueMappingNeeded=!1,r.measuredProximity=p.CONTACT_DISTANCE_PROXIMITY.CLOSEST,r.mismatches=[],r.pdbData=void 0,r.residueMapping=[],r),t}(l.Component);u.render(l.createElement(f,null),document.getElementById("example-root"))},"./node_modules/anatomogram/lib/img sync recursive ^\\.\\/.*selected\\.png$":function(e,t,n){var r={"./brain.selected.png":"./node_modules/anatomogram/lib/img/brain.selected.png","./brain.unselected.png":"./node_modules/anatomogram/lib/img/brain.unselected.png","./female.selected.png":"./node_modules/anatomogram/lib/img/female.selected.png","./female.unselected.png":"./node_modules/anatomogram/lib/img/female.unselected.png","./flower_parts.selected.png":"./node_modules/anatomogram/lib/img/flower_parts.selected.png","./flower_parts.unselected.png":"./node_modules/anatomogram/lib/img/flower_parts.unselected.png","./male.selected.png":"./node_modules/anatomogram/lib/img/male.selected.png","./male.unselected.png":"./node_modules/anatomogram/lib/img/male.unselected.png","./whole_plant.selected.png":"./node_modules/anatomogram/lib/img/whole_plant.selected.png","./whole_plant.unselected.png":"./node_modules/anatomogram/lib/img/whole_plant.unselected.png"};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./node_modules/anatomogram/lib/img sync recursive ^\\.\\/.*selected\\.png$"},"./node_modules/anatomogram/lib/svg sync recursive ^\\.\\/.*\\.svg$":function(e,t,n){var r={"./anolis_carolinensis.svg":"./node_modules/anatomogram/lib/svg/anolis_carolinensis.svg","./arabidopsis_thaliana.svg":"./node_modules/anatomogram/lib/svg/arabidopsis_thaliana.svg","./bos_taurus.svg":"./node_modules/anatomogram/lib/svg/bos_taurus.svg","./brachypodium_distachyon.flower_parts.svg":"./node_modules/anatomogram/lib/svg/brachypodium_distachyon.flower_parts.svg","./brachypodium_distachyon.whole_plant.svg":"./node_modules/anatomogram/lib/svg/brachypodium_distachyon.whole_plant.svg","./gallus_gallus.svg":"./node_modules/anatomogram/lib/svg/gallus_gallus.svg","./homo_sapiens.brain.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.brain.svg","./homo_sapiens.female.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.female.svg","./homo_sapiens.male.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.male.svg","./hordeum_vulgare.flower_parts.svg":"./node_modules/anatomogram/lib/svg/hordeum_vulgare.flower_parts.svg","./hordeum_vulgare.whole_plant.svg":"./node_modules/anatomogram/lib/svg/hordeum_vulgare.whole_plant.svg","./macaca_mulatta.svg":"./node_modules/anatomogram/lib/svg/macaca_mulatta.svg","./monodelphis_domestica.svg":"./node_modules/anatomogram/lib/svg/monodelphis_domestica.svg","./mus_musculus.brain.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.brain.svg","./mus_musculus.female.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.female.svg","./mus_musculus.male.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.male.svg","./oryza_sativa.flower_parts.svg":"./node_modules/anatomogram/lib/svg/oryza_sativa.flower_parts.svg","./oryza_sativa.whole_plant.svg":"./node_modules/anatomogram/lib/svg/oryza_sativa.whole_plant.svg","./papio_anubis.svg":"./node_modules/anatomogram/lib/svg/papio_anubis.svg","./rattus_norvegicus.svg":"./node_modules/anatomogram/lib/svg/rattus_norvegicus.svg","./solanum_lycopersicum.flower_parts.svg":"./node_modules/anatomogram/lib/svg/solanum_lycopersicum.flower_parts.svg","./solanum_lycopersicum.whole_plant.svg":"./node_modules/anatomogram/lib/svg/solanum_lycopersicum.whole_plant.svg","./solanum_tuberosum.svg":"./node_modules/anatomogram/lib/svg/solanum_tuberosum.svg","./sorghum_bicolor.flower_parts.svg":"./node_modules/anatomogram/lib/svg/sorghum_bicolor.flower_parts.svg","./sorghum_bicolor.whole_plant.svg":"./node_modules/anatomogram/lib/svg/sorghum_bicolor.whole_plant.svg","./tetraodon_nigroviridis.svg":"./node_modules/anatomogram/lib/svg/tetraodon_nigroviridis.svg","./triticum_aestivum.flower_parts.svg":"./node_modules/anatomogram/lib/svg/triticum_aestivum.flower_parts.svg","./triticum_aestivum.whole_plant.svg":"./node_modules/anatomogram/lib/svg/triticum_aestivum.whole_plant.svg","./xenopus_tropicalis.svg":"./node_modules/anatomogram/lib/svg/xenopus_tropicalis.svg","./zea_mays.flower_parts.svg":"./node_modules/anatomogram/lib/svg/zea_mays.flower_parts.svg","./zea_mays.whole_plant.svg":"./node_modules/anatomogram/lib/svg/zea_mays.whole_plant.svg"};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./node_modules/anatomogram/lib/svg sync recursive ^\\.\\/.*\\.svg$"},"./src/ChellVizApp.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js"),i=n("./node_modules/react-iframe-comm/dist/IframeComm.js"),a=n("./node_modules/semantic-ui-react/dist/es/index.js"),s=n("./src/container/index.ts"),c=n("./src/context/index.ts"),l=n("./src/data/index.ts"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement("div",{id:"ChellVizApp"},o.createElement(c.ChellContextProvider,null,o.createElement(a.Grid,{divided:"vertically"},o.createElement(a.GridRow,null,o.createElement(s.VizPanelContainer,{allowUploads:!1,dataDirs:["hpc/full"].map(function(e){return"assets/datasets/"+e}),initialVisualizations:[l.VIZ_TYPE.SPRING,l.VIZ_TYPE["TENSOR-T-SNE"]],supportedVisualizations:[l.VIZ_TYPE.SPRING,l.VIZ_TYPE["TENSOR-T-SNE"]],numPanels:2})),o.createElement(s.AnatomogramContainer,null),o.createElement(a.GridRow,{centered:!0,style:{padding:"0 50px"}},o.createElement(i.default,{attributes:{src:window.origin+"/morpheus.html",height:"500px",width:"100%"},postMessageData:{}})))))},t}(o.Component);t.ChellVizApp=u},"./src/component/ContactMap.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/react/index.js"),l=n("./node_modules/semantic-ui-react/dist/es/index.js"),u=n("./src/component/index.ts"),d=n("./src/context/index.ts"),p=n("./src/data/index.ts");t.initialContactMapState={pointsToPlot:new Array};var f=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialContactMapState,r.onNodeSizeChange=function(e){return function(t){var n=r.state.pointsToPlot;r.setState({pointsToPlot:a(n.slice(0,e),[o({},n[e],{nodeSize:t})],n.slice(e+1))})}},r.generateNodeSizeSliderConfigs=function(e){return e.map(function(e,t){return{id:"node-size-slider-"+t,name:"Node size for "+e.name,onChange:r.onNodeSizeChange(t),type:p.CONFIGURATION_COMPONENT_TYPE.SLIDER,values:{current:e.nodeSize,max:20,min:1}}})},r.onMouseEnter=function(e){return function(t){var n,o,i,c;if(t.isAxis()){var l=r.props,u=l.secondaryStructureContext,d=l.data;try{for(var p=s(d.secondaryStructures),f=p.next();!f.done;f=p.next()){var h=f.value;try{for(var m=s(h),y=m.next();!y.done;y=m.next()){var v=y.value;v.contains.apply(v,a(t.selectedPoints))&&u.addHoveredSecondaryStructure(v)}}catch(e){i={error:e}}finally{try{y&&!y.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}else e(t.selectedPoints)}},r.onMouseLeave=function(e){return function(t){var n,o,i,c;if(t.isAxis()){var l=r.props,u=l.data,d=l.secondaryStructureContext;try{for(var p=s(u.secondaryStructures),f=p.next();!f.done;f=p.next()){var h=f.value;try{for(var m=s(h),y=m.next();!y.done;y=m.next()){var v=y.value;v.contains.apply(v,a(t.selectedPoints))&&d.removeHoveredSecondaryStructure(v)}}catch(e){i={error:e}}finally{try{y&&!y.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}else e&&e(t.selectedPoints)}},r.onMouseClick=function(e){return function(t){var n,o,i,c;if(t.isAxis()){var l=r.props,u=l.data,d=l.secondaryStructureContext;try{for(var p=s(u.secondaryStructures),f=p.next();!f.done;f=p.next()){var h=f.value;try{for(var m=s(h),y=m.next();!y.done;y=m.next()){var v=y.value;v.contains.apply(v,a(t.selectedPoints))&&(d.selectedSecondaryStructures.includes(v)?d.removeSecondaryStructure(v):d.addSelectedSecondaryStructure(v))}}catch(e){i={error:e}}finally{try{y&&!y.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}else e(t.selectedPoints)}},r.onMouseSelect=function(e){return function(t){e&&e(t.selectedPoints.map(function(e){return e}))}},r}return r(n,e),n.prototype.componentDidMount=function(){this.setupPointsToPlot(this.props.data.couplingScores)},n.prototype.componentDidUpdate=function(e){var t=this.props,n=t.data,r=t.residueContext;n===e.data&&r.lockedResiduePairs===e.residueContext.lockedResiduePairs||this.setupPointsToPlot(n.couplingScores)},n.prototype.render=function(){var e=this.props,t=e.configurations,n=e.isDataLoading,r=e.residueContext,i=e.style,s=this.state.pointsToPlot;return c.createElement("div",{className:"ContactMapComponent",style:o({},i)},c.createElement(l.Dimmer.Dimmable,{dimmed:!0},c.createElement(l.Dimmer,{active:n},c.createElement(l.Loader,null)),this.renderContactMapChart(s,a([{name:"Clear Selections",onClick:r.removeAllLockedResiduePairs,type:p.CONFIGURATION_COMPONENT_TYPE.BUTTON}],t,this.generateNodeSizeSliderConfigs(s)))))},n.prototype.setupPointsToPlot=function(e){var t=this.props,n=t.formattedPoints,r=t.observedColor,i=t.highlightColor,s=t.residueContext,c=this.state.pointsToPlot,l="Known Structure Contact",d="Selected Residue Pairs",p=c.findIndex(function(e){return e.name===l}),f=c.findIndex(function(e){return e.name===d}),h=e.getObservedContacts(),m=new(Array.bind.apply(Array,a([void 0,u.generateChartDataEntry("text",{start:r,end:"rgb(100,177,200)"},l,"(from PDB structure)",p>=0?c[p].nodeSize:4,h,{text:h.map(function(t){var n=e.getCouplingScore(t.i,t.j);return n&&n.A_i&&n.A_j?"("+t.i+n.A_i+", "+t.j+n.A_j+")":"("+t.i+", "+t.j+")"})})],n))),y=s.lockedResiduePairs,v=s.hoveredResidues,g=new Array;v.length>=1&&g.push({i:v[0],j:1===v.length?v[0]:v[1]}),y.size>=1&&g.push.apply(g,a(Array.from(y.keys()).reduce(function(e,t){var n=y.get(t);return n&&2===n.length&&e.push({i:n[0],j:n[1],dist:0}),e},new Array))),m.push(u.generateChartDataEntry("none",i,d,"",f>=0?c[f].nodeSize:6,g,{marker:{color:new Array(2*g.length).fill(i),line:{color:i,width:3},symbol:"circle-open"}})),this.setState(o({},this.state,{pointsToPlot:a(m)}))},n.prototype.renderContactMapChart=function(e,t){var n=this.props,r=n.data,o=n.height,i=n.onBoxSelection,a=n.residueContext,s=n.showConfigurations,l=n.secondaryStructureContext,d=n.width;return c.createElement(u.ContactMapChart,{candidateResidues:a.candidateResidues,configurations:t,contactData:e,height:o,onClickCallback:this.onMouseClick(a.toggleLockedResiduePair),onHoverCallback:this.onMouseEnter(a.addHoveredResidues),onSelectedCallback:this.onMouseSelect(i),onUnHoverCallback:this.onMouseLeave(a.removeHoveredResidues),range:r.couplingScores.residueIndexRange.max+20,secondaryStructures:r.pdbData?r.pdbData.secondaryStructureSections:[],showConfigurations:s,selectedSecondaryStructures:[l.selectedSecondaryStructures],width:d})},n.defaultProps={configurations:new Array,data:{couplingScores:new p.CouplingContainer,secondaryStructures:new Array},enableSliders:!0,formattedPoints:new Array,height:"100%",highlightColor:"#ff8800",isDataLoading:!1,observedColor:"#0000ff",residueContext:o({},d.initialResidueContext),secondaryStructureContext:o({},d.initialSecondaryStructureContext),showConfigurations:!0,width:"100%"},n}(c.Component);t.ContactMapClass=f;t.ContactMap=function(e){return c.createElement(d.ResidueContextConsumer,null,function(t){return c.createElement(d.SecondaryStructureContextConsumer,null,function(n){return c.createElement(f,o({residueContext:t,secondaryStructureContext:n},e))})})}},"./src/component/FeatureViewer.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),a=n("./src/component/index.ts"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.onFeatureHover=function(e){for(var t,r,i=n.props,a=i.data,s=i.onHoverCallback,c=-1,l=[e.selectedPoints[0],e.selectedPoints[2]],u=0;u<a.length;++u)try{for(var d=o(l),p=d.next();!p.done;p=d.next()){var f=p.value;a[u].contains(f)&&(c=u)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}n.setState({hoverAnnotationText:s&&c>=0?s(a[c].label,c):"",hoveredFeatureIndex:c})},n.onFeatureSelect=function(e){for(var t,r,i=n.props.data,a=new Set,s=[e.selectedPoints[0],e.selectedPoints[2]],c=0;c<i.length;++c)try{for(var l=o(s),u=l.next();!u.done;u=l.next()){var d=u.value;i[c].contains(d)&&a.add(c)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}n.setState({selectedFeatureIndices:a})},n.onFeatureClick=function(e){for(var t=n.props.data,r=new Set,o=e.selectedPoints[0],i=0;i<t.length;++i)t[i].contains(o)&&r.add(i);n.setState({selectedFeatureIndices:r})},n.state={hoverAnnotationText:"",hoveredFeatureIndex:-1,layout:{},plotlyData:[],selectedFeatureIndices:new Set},n}return r(t,e),t.getDerivedStateFromProps=function(e,n){var r=e.data,o=e.height,i=e.showGrouped,a=e.title,s=e.width,c=n.hoverAnnotationText,l=n.hoveredFeatureIndex,u=n.selectedFeatureIndices,d=0,p=100,f=r.map(function(e,n){d=Math.min(d,e.start,e.end),p=Math.max(p,e.start,e.end);var o=i?n:r.findIndex(function(t){return 0===e.label.localeCompare(t.label)});return{fill:"toself",fillcolor:e.color.toString(),hoverinfo:"none",hoveron:"fills",line:u.has(n)?{color:"orange",width:3}:{width:0},mode:"text+lines",name:""+e.label,text:[e.label],textfont:{color:["#FFFFFF"]},type:"scatter",x:t.getBoxForChellSection(e),y:i?[.5,null,0,1,1,0,0]:[o+.5,null,o+1,o,o,o+1,o+1]}}),h=f[l];return{layout:{annotations:l>=0&&h.x&&h.y?[{align:"left",arrowhead:0,arrowsize:1,arrowwidth:1,ax:0,ay:-25,bgcolor:"#ffffff",bordercolor:"#000000",borderpad:5,showarrow:!0,text:c,x:h.x[0],xref:"x",y:h.y[h.y.length-3],yref:"y"}]:[],dragmode:"select",height:o,margin:{b:30,t:60},showlegend:!1,title:a,width:s,xaxis:r.length>0?{range:[d,p+200],showgrid:!1,tick0:0,tickmode:"auto",ticks:"outside"}:{visible:!1},yaxis:{range:[0,i?2:r.length],visible:!1}},plotlyData:f}},t.getBoxForChellSection=function(e){return[e.end-(e.end-e.start)/2,null,e.start,e.start,e.end,e.end,e.start]},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height;return i.createElement("div",{style:{height:n,width:t}},i.createElement(a.PlotlyChart,{data:this.state.plotlyData,layout:this.state.layout,onClickCallback:this.onFeatureClick,onHoverCallback:this.onFeatureHover,onSelectedCallback:this.onFeatureSelect,showLoader:!1}))},t.defaultProps={data:[],height:200,showGrouped:!1,title:"",width:600},t}(i.Component);t.FeatureViewer=s},"./src/component/InfoPanel.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./node_modules/semantic-ui-react/dist/es/index.js"),c=n("./src/context/index.ts"),l=n("./src/data/index.ts"),u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.data,r=t.height,o=t.residueContext,i=t.width,c=t.secondaryStructureContext,l=n.pdbData?this.renderUnassignedResidues(n.pdbData):[a.createElement(s.Label,{key:"unassigned-residues-none"})];return a.createElement("div",{className:"InfoPanel",style:{height:r,width:i}},a.createElement(s.Accordion,{exclusive:!1,panels:[n.pdbData&&n.pdbData.secondaryStructureSections.map(function(t){return{content:e.renderSecondaryStructures(t),key:"all-secondary-structures",title:"All Secondary Structures ("+(n.pdbData?n.pdbData.secondaryStructureSections.length:0)+"):"}}),{content:l,key:"unassigned-residues",title:"Unassigned Residues ("+l.length+"):"},{content:this.renderSecondaryStructures(c.selectedSecondaryStructures),key:"selected-secondary-structures",title:"Selected Secondary Structures ("+c.selectedSecondaryStructures.length+"):"},{content:this.renderLockedResiduePairs(o.lockedResiduePairs),key:"selected-residue-pairs",title:"Selected Residue Pairs ("+o.lockedResiduePairs.size+"):"}]}))},t.prototype.renderLockedResiduePairs=function(e){return 0===e.size?[a.createElement(s.Label,{key:"locked-residue-pair-none"},"None")]:Array.from(e.values()).map(function(e,t){return a.createElement(s.Label,{key:"locked-residue-pair-"+t},e.join(", "))})},t.prototype.renderSecondaryStructures=function(e){return 0===e.length?[a.createElement(s.Label,{key:"sec-struct-none"},"None")]:e.map(function(e,t){return a.createElement(s.Label,{key:"sec-struct-"+t},"["+e.start+"-"+e.end+"]: "+e.label+" - "+l.SECONDARY_STRUCTURE_CODES[e.label])})},t.prototype.renderUnassignedResidues=function(e){var t=new Array;return e.eachResidue(function(n){var r,o,c,l;if(n.isProtein()){var u=!0;try{for(var d=i(e.secondaryStructureSections),p=d.next();!p.done;p=d.next()){var f=p.value;try{for(var h=i(f),m=h.next();!m.done;m=h.next()){if(m.value.contains(n.resno)){u=!1;break}}}catch(e){c={error:e}}finally{try{m&&!m.done&&(l=h.return)&&l.call(h)}finally{if(c)throw c.error}}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}u&&t.push(a.createElement(s.Label,{key:"unassigned-residue-"+n.resno},"["+n.resno+": isCg? "+n.isCg()+",               isDna? "+n.isDna()+",               isHelix? "+n.isHelix()+",               isNucleic? "+n.isNucleic()+",               isProtein? "+n.isProtein()+",               isPolymer? "+n.isPolymer()+",               isSaccharide? "+n.isSaccharide()+",               isSheet? "+n.isSheet()+",              isTurn? "+n.isTurn(),"}"))}}),t},t.defaultProps={data:{couplingScores:new l.CouplingContainer,secondaryStructures:new Array},height:400,residueContext:o({},c.initialResidueContext),secondaryStructureContext:o({},c.initialSecondaryStructureContext),width:400},t}(a.Component);t.InfoPanelClass=u;var d=function(e){return a.createElement(c.SecondaryStructureContext.Consumer,null,function(t){return a.createElement(c.ResidueContext.Consumer,null,function(n){return a.createElement(d,o({},e,n,t))})})};t.InfoPanel=d},"./src/component/MorpheusComponent.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./src/helper/index.ts"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.generateHeatMap=function(e,t){return new e.HeatMap({colorScheme:{map:[{color:"#0000ff",value:-2},{color:"#ffffff",value:0},{color:"#ff0000",value:2}],type:"fixed"},dataset:e.Dataset.fromJSON(t),el:document.querySelector("#morpheus-container"),tools:[{name:"Hierarchical Clustering",params:{cluster:"Rows and columns"}}]})},n}return r(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return[4,s.getMorpheusInstance()];case 1:return e=n.sent(),t={columnMetadataModel:{vectors:[{array:["2803-Primary Blood Derived Cancer - Peripheral Blood","2804-Primary Blood Derived Cancer - Peripheral Blood","2805-Primary Blood Derived Cancer - Peripheral Blood","2806-Primary Blood Derived Cancer - Peripheral Blood","2807-Primary Blood Derived Cancer - Peripheral Blood","2808-Primary Blood Derived Cancer - Peripheral Blood","2809-Primary Blood Derived Cancer - Peripheral Blood"],name:"id"},{array:["a","b","c","d","a","a","b"],name:"Minimal example"}]},columns:7,rowMetadataModel:{vectors:[{array:["1p33","1q43","11q23.3","13q31.3","19p13.2"],name:"id"},{array:[.01952,.001933,3.125e-9,.2114,.2114],name:"Description"}]},rows:5,seriesArrays:[[[0,-.004495999775826931,-.0012469999492168427,-.0013859999598935246,-.02394000068306923,.000970599998254329,-.0016629999736323953],[0,-.0049230000004172325,-.0012469999492168427,-.0013859999598935246,-.00861200038343668,-.001879999996162951,-.0016629999736323953],[.011169999837875366,-.0046190000139176846,.3653999865055084,-.0022499999031424522,.007083000149577856,-.0022169998846948147,.001247999956831336],[-.0014720000326633453,-.004370000213384628,-.004155000206083059,-.003186000045388937,-.01737000048160553,-.00761000020429492,-.0034630000591278076],[.00546600017696619,-.01664000004529953,-.011339999735355377,.013770000077784061,-.04292000085115433,-.026510000228881836,-.019260000437498093]]],seriesDataTypes:["Float32"],seriesNames:["Minimal example"]},[2,this.generateHeatMap(e,t)]}})})},t.prototype.render=function(){return a.createElement("div",{id:"morpheus-container"})},t}(a.Component);t.MorpheusComponent=c},"./src/component/NGLComponent.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/ngl/dist/ngl.esm.js"),u=n("./node_modules/react/index.js"),d=n("./node_modules/semantic-ui-react/dist/es/index.js"),p=n("./src/component/index.ts"),f=n("./src/context/index.ts"),h=n("./src/data/index.ts"),m=n("./src/helper/index.ts");t.initialNGLState={activeRepresentations:new Array,pdbData:void 0,stage:void 0,structureComponent:void 0};var y=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialNGLState,r.canvas=null,r.getConfigurations=function(){return[{name:"Clear Selections",onClick:r.props.residueContext.removeAllLockedResiduePairs,type:h.CONFIGURATION_COMPONENT_TYPE.BUTTON},{current:h.CONTACT_DISTANCE_PROXIMITY.CLOSEST,name:"Measuring Proximity",onChange:r.measuredProximityHandler,options:Object.values(h.CONTACT_DISTANCE_PROXIMITY).map(m.capitalizeFirstLetter),type:h.CONFIGURATION_COMPONENT_TYPE.RADIO},{current:"default",name:"Structure Representation Type",onChange:function(e){var t=r.state,n=t.stage,o=t.structureComponent;n&&o&&(o.removeAllRepresentations(),0===e?n.defaultFileRepresentation(o):o.addRepresentation(["default","spacefill","backbone","cartoon","surface","tube"][e]),r.setState({activeRepresentations:r.deriveActiveRepresentations(o,r.state.pdbData)}),n.viewer.requestRender())},options:Object.values(["Default","Spacefill","Backbone","Cartoon","Surface","Tube"]),type:h.CONFIGURATION_COMPONENT_TYPE.RADIO}]},r.onClick=function(e){var t=r.props.residueContext,n=r.state.structureComponent;if(r.canvas&&n)if(e){if(e.picker&&"distance"===e.picker.type){var o=[e.distance.atom1.resno,e.distance.atom2.resno];t.removeLockedResiduePair(o)}else if(e.atom||e.closestBondAtom){var i=e.atom||e.closestBondAtom;t.candidateResidues.length>=1?(t.addLockedResiduePair(a(t.candidateResidues,[i.resno])),t.removeCandidateResidues()):t.addCandidateResidues([i.resno])}}else t.candidateResidues.length>=1&&t.hoveredResidues.length>=1?t.hoveredResidues.forEach(function(e){var r=n.stage.mouseObserver,o=r.down,i=r.canvasPosition,s=r.position;!function(e,t){return void 0===t&&(t=100),e.filter(function(e){return e<t}).length>=1}([o,i,r.prevClickCP,r.prevPosition,s].map(function(t){return function(t,r){for(var o=Number.MAX_SAFE_INTEGER,i=t.atomOffset[e],a=t.atomCount[e],s=0;s<a;++s){var c=n.structure.getAtomProxy(i+s),l=n.stage.viewerControls.getPositionOnCanvas(c.positionToVector3());o=Math.min(o,r.distanceTo(l))}return o}(n.structure.residueStore,t)}))?t.removeNonLockedResidues():(t.addLockedResiduePair(a(t.candidateResidues,[e])),t.removeCandidateResidues())}):t.removeNonLockedResidues()},r.measuredProximityHandler=function(e){var t=r.props.onMeasuredProximityChange;t&&t(e)},r.onCanvasLeave=function(){r.props.residueContext.removeNonLockedResidues()},r.onResizeHandler=function(e){var t=r.props.onResize,n=r.state.stage;n&&n.handleResize(),t&&t(e)},r.onKeyDown=function(e){e.preventDefault();27!==e.which&&27!==e.keyCode||r.props.residueContext.removeNonLockedResidues()},r.generateStage=function(e,t){var n=new l.Stage(e,t);return n.keyBehavior.domElement.focus=function(){},n},r}return r(n,e),n.prototype.componentDidMount=function(e){var t=(void 0===e?this.props:e).backgroundColor;if(this.canvas){var n=this.generateStage(this.canvas,{backgroundColor:t}),r=this.props.data;this.initData(n,r),this.setState({stage:n})}window.addEventListener("resize",this.onResizeHandler,!1)},n.prototype.componentWillUnmount=function(){var e=this.state.stage;e&&(e.dispose(),this.setState({activeRepresentations:[],stage:void 0})),window.removeEventListener("resize",this.onResizeHandler)},n.prototype.componentDidUpdate=function(e,t){var n,r,o=this.props,i=o.data,a=o.measuredProximity,c=this.state,l=c.stage,u=c.structureComponent;if(l&&i!==e.data&&this.initData(l,i),l&&i&&u){var d=this.props,p=d.residueContext,f=d.secondaryStructureContext;if(p!==e.residueContext||f!==e.secondaryStructureContext||a!==e.measuredProximity){try{for(var h=s(this.state.activeRepresentations),m=h.next();!m.done;m=h.next()){var y=m.value;u.removeRepresentation(y)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}this.setState({activeRepresentations:this.deriveActiveRepresentations(u,this.state.pdbData)})}l.viewer.requestRender()}},n.prototype.render=function(){var e=this,t=this.props,n=t.height,r=t.isDataLoading,i=t.showConfigurations,a=t.style,s=t.width;return u.createElement(d.Dimmer.Dimmable,{dimmed:!0},u.createElement(d.Dimmer,{active:r},u.createElement(d.Loader,null)),u.createElement(p.SettingsPanel,{configurations:this.getConfigurations(),showConfigurations:i},u.createElement("div",{className:"NGLComponent",style:o({},a,{height:n,width:s})},u.createElement("div",{className:"NGLCanvas",onKeyDown:this.onKeyDown,onMouseLeave:this.onCanvasLeave,ref:function(t){return e.canvas=t},role:"img",style:{height:"100%",width:"100%"}}))))},n.prototype.initData=function(e,t){e.removeAllComponents(),t?this.addStructureToStage(c.cloneDeep(t),e):this.setState({pdbData:void 0,structureComponent:void 0})},n.prototype.deriveActiveRepresentations=function(e,t){var n=this.props,r=n.residueContext,o=n.secondaryStructureContext;return a(this.highlightCandidateResidues(e,a(r.candidateResidues,r.hoveredResidues).filter(function(e,t,n){return n.indexOf(e)===t}).sort(),t),this.highlightLockedDistancePairs(e,r.lockedResiduePairs,t),this.highlightSecondaryStructures(e,a(o.hoveredSecondaryStructures,o.selectedSecondaryStructures)))},n.prototype.addStructureToStage=function(e,t){var n=this,r=t.addComponentFromObject(e);r.stage.mouseControls.add("hoverPick",function(e,t){n.onHover(e,t)}),t.defaultFileRepresentation(r),t.signals.clicked.add(this.onClick);var o=h.ChellPDB.createPDBFromNGLData(e),i=this.deriveActiveRepresentations(r,o);this.setState({activeRepresentations:i,pdbData:o,structureComponent:r}),t.viewer.requestRender()},n.prototype.onHover=function(e,t){var n=this.props.residueContext,r=this.state,o=r.structureComponent,i=r.stage;if(i&&o)if(t&&(t.atom||t.closestBondAtom)){var a=t.atom||t.closestBondAtom,s=h.AMINO_ACIDS_BY_THREE_LETTER_CODE[a.resname]?h.AMINO_ACIDS_BY_THREE_LETTER_CODE[a.resname].singleLetterCode:a.resname;i.tooltip.textContent=""+a.resno+s,n.addHoveredResidues([a.resno])}else 0===n.candidateResidues.length&&0!==n.hoveredResidues.length&&n.removeHoveredResidues()},n.prototype.getDistanceRepForResidues=function(e,t,n){if(this.props.measuredProximity===h.CONTACT_DISTANCE_PROXIMITY.C_ALPHA)return m.createDistanceRepresentation(e,t.join(".CA, ")+".CA");var r=n.getMinDistBetweenResidues(t[0],t[1]),o=r.atomIndexI,i=r.atomIndexJ;return m.createDistanceRepresentation(e,[o,i])},n.prototype.highlightCandidateResidues=function(e,t,n){var r=new Array;return t.length>=1&&(r.push(m.createBallStickRepresentation(e,t)),t.length>=2&&n&&r.push(this.getDistanceRepForResidues(e,t,n))),r},n.prototype.highlightLockedDistancePairs=function(e,t,n){var r=this,o=new Array;return t.forEach(function(t){o.push(m.createBallStickRepresentation(e,t)),t.length>=2&&n&&o.push(r.getDistanceRepForResidues(e,t,n))}),o},n.prototype.highlightSecondaryStructures=function(e,t){var n,r,o=new Array;try{for(var i=s(t),a=i.next();!a.done;a=i.next()){var c=a.value;o.push(m.createSecStructRepresentation(e,c))}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},n.defaultProps={backgroundColor:"#ffffff",couplingContext:o({},f.initialCouplingContext),data:void 0,height:"100%",isDataLoading:!1,measuredProximity:h.CONTACT_DISTANCE_PROXIMITY.C_ALPHA,residueContext:o({},f.initialResidueContext),secondaryStructureContext:o({},f.initialSecondaryStructureContext),showConfigurations:!0,width:"100%"},n}(u.Component);t.NGLComponentClass=y;t.NGLComponent=function(e){return u.createElement(f.ResidueContextConsumer,null,function(t){return u.createElement(f.SecondaryStructureContextConsumer,null,function(n){return u.createElement(y,o({residueContext:t,secondaryStructureContext:n},e))})})}},"./src/component/PredictedContactMap.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./src/component/index.ts"),c=n("./src/data/index.ts");t.initialPredictedContactMapState={linearDistFilter:5,numPredictionsToShow:-1,pointsToPlot:[]};var l=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialPredictedContactMapState,r.onLinearDistFilterChange=function(){return function(e){r.setState({linearDistFilter:e})}},r.onNumPredictionsToShowChange=function(){return function(e){r.setState({numPredictionsToShow:e})}},r.getContactMapConfigs=function(){return[{name:"Linear Distance Filter (|i - j|)",onChange:r.onLinearDistFilterChange(),type:c.CONFIGURATION_COMPONENT_TYPE.SLIDER,values:{current:r.state.linearDistFilter,max:10,min:1}},{name:"Top N Predictions to Show",onChange:r.onNumPredictionsToShowChange(),type:c.CONFIGURATION_COMPONENT_TYPE.SLIDER,values:{current:r.state.numPredictionsToShow,max:r.props.data.couplingScores.chainLength,min:1}}]},r}return r(n,e),n.prototype.componentDidMount=function(){this.setupData(!0)},n.prototype.componentDidUpdate=function(e,t){var n=this.props.data,r=this.state,o=r.linearDistFilter,i=r.numPredictionsToShow;(n.couplingScores!==e.data.couplingScores||o!==t.linearDistFilter||i!==t.numPredictionsToShow)&&this.setupData(n.couplingScores!==e.data.couplingScores)},n.prototype.render=function(){var e=this.props,t=e.data,n=e.style,r=i(e,["data","style"]),c=this.state.pointsToPlot;return a.createElement("div",{className:"PredictedContactMapComponent",style:n},a.createElement(s.ContactMap,o({configurations:this.getContactMapConfigs(),data:{couplingScores:t.couplingScores,pdbData:t.pdbData,secondaryStructures:t.pdbData?t.pdbData.secondaryStructureSections:[]},formattedPoints:c},r)))},n.prototype.setupData=function(e){var t=this.props,n=t.correctColor,r=t.data,o=t.incorrectColor,i=this.state,a=i.linearDistFilter,l=i.numPredictionsToShow,u=r.pdbData?r.pdbData.contactInformation:new c.CouplingContainer(r.couplingScores.rankedContacts),d=u.chainLength,p=u.getPredictedContacts(l,a),f=(p.correct.length/p.predicted.length*100).toFixed(1),h=[s.generateChartDataEntry("text",o,"Predicted Contact","(N="+l+", L="+d+")",4,p.predicted,{text:p.predicted.map(function(e){var t=r.couplingScores.getCouplingScore(e.i,e.j);return t&&t.A_i&&t.A_j?"("+e.i+t.A_i+", "+e.j+t.A_j+")":"("+e.i+", "+e.j+")"})}),s.generateChartDataEntry("text",n,"Correct Prediction","(N="+p.correct.length+", "+f+"%)",6,p.correct,{text:p.correct.map(function(e){var t=r.couplingScores.getCouplingScore(e.i,e.j);return t&&t.A_i&&t.A_j?"("+e.i+t.A_i+", "+e.j+t.A_j+")":"("+e.i+", "+e.j+")"})})];this.setState({numPredictionsToShow:e?Math.floor(d/2):l,pointsToPlot:h})},n.defaultProps={correctColor:"#ff0000",data:{couplingScores:new c.CouplingContainer,secondaryStructures:new Array},height:"100%",incorrectColor:"#000000",isDataLoading:!1,width:"100%"},n}(a.Component);t.PredictedContactMap=l},"./src/component/TComponent.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),a=n("./node_modules/react/index.js"),s=n("./src/component/index.ts"),c=n("./src/context/index.ts"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.getXs=i.default(function(e){return e.map(function(e){return e[0]})}),n.onMouseSelect=function(e){return function(t){t.selectedPoints&&e(t.selectedPoints.map(function(e){return e}))}},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.cellContext,n=e.data,r=e.height,i=e.padding,c=e.pointColor,l=e.width;return a.createElement("div",{id:"TComponent",style:{padding:i}},a.createElement(s.PlotlyChart,{config:o({},s.defaultPlotlyConfig,{modeBarButtons:[["zoomOut2d","zoomIn2d"],["resetScale2d","autoScale2d"],["select2d","pan2d"]]}),data:[{marker:{color:c,opacity:.25,size:4},mode:"markers",type:"scattergl",x:this.getXs(n),xaxis:"x",y:n.map(function(e){return e[1]}),yaxis:"y"},{marker:{color:"#ff0000",size:6},mode:"markers",type:"scatter",x:t.currentCells.map(function(e){return n[e][0]}),xaxis:"x",y:t.currentCells.map(function(e){return n[e][1]}),yaxis:"y"}],layout:o({},s.defaultPlotlyLayout,{height:r,margin:{b:20},width:l,yaxis:{autorange:!0}}),onSelectedCallback:this.onMouseSelect(t.addCells)}))},t.defaultProps={cellContext:o({},c.initialCellContext),data:[[0],[0]],height:400,padding:0,pointColor:"#000000",width:400},t}(a.Component);t.TComponent=function(e){return a.createElement(c.CellContext.Consumer,null,function(t){return a.createElement(l,o({},e,{cellContext:o({},t,e.cellContext)}))})}},"./src/component/TFrameComponent.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),a=n("./node_modules/react-iframe-comm/dist/IframeComm.js"),s=n("./src/context/index.ts"),c=function(e){function t(t){var n=e.call(this,t)||this;n.iFrameRef=null;var r=t.cellContext,o=t.data,i=t.padding,a=t.pointColor;return n.state={postMessageData:{payload:{cellContext:r,data:o,padding:i,pointColor:a},type:"loaded"}},n}return r(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.cellContext,r=t.data,o=t.padding,i=t.pointColor;this.setState({postMessageData:{payload:{cellContext:n,data:r,padding:o,pointColor:i},type:"loaded"}}),n&&n!==e.cellContext&&this.forceUpdate()},t.prototype.componentWillReceiveProps=function(e){var t=this,n={};Object.entries(e).forEach(function(r){var i,a=r[0];e[a]!==t.props[a]&&(n=o({},n,((i={})[a]=e[a],i)))}),this.setState({postMessageData:{payload:n,type:"loaded"}})},t.prototype.shouldComponentUpdate=function(e){return e.cellContext.currentCells&&e.cellContext.currentCells!==this.props.cellContext.currentCells},t.prototype.render=function(){var e=this.props,t={height:e.height,src:"http://localhost:8080/TContainer.html",width:e.width};return i.createElement(a.default,{attributes:t,postMessageData:this.state.postMessageData})},t.defaultProps={cellContext:o({},s.initialCellContext),data:[[0],[0]],height:400,padding:0,pointColor:"#000000",width:400},t}(i.Component);t.TFrameComponent=function(e){return i.createElement(s.CellContext.Consumer,null,function(t){return i.createElement(c,o({},e,{cellContext:o({},t)}))})}},"./src/component/TensorTComponent.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),a=n("./src/component/index.ts"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.canvasContext=null,n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.height,n=e.pointsToPlot,r=e.style,s=e.width;return i.createElement("div",{id:"TensorTComponentDiv",style:r},i.createElement(a.PlotlyChart,{data:n,layout:o({},a.defaultPlotlyLayout,{dragmode:"select",height:t,margin:{b:20},width:s,xaxis:{autorange:!1,range:[0,1],showline:!0},yaxis:{autorange:!1,range:[0,1],showline:!0}}),onSelectedCallback:this.props.onSelectedCallback}))},t.defaultProps={height:400,pointsToPlot:[],style:{padding:0},width:400},t}(i.Component);t.TensorTComponent=function(e){return i.createElement(s,o({},e))}},"./src/component/VizSelectorPanel.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js"),i=n("./node_modules/semantic-ui-react/dist/es/index.js"),a=n("./src/component/index.ts"),s=n("./src/container/index.ts"),c=n("./src/data/index.ts"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.onVizSelect=function(e,t){n.setState({selectedViz:t.value})},n.generateDropdownItems=function(e){return e.map(function(e){return{key:e,text:e,value:e}}).sort(function(e,t){return e.key.localeCompare(t.key)})},n.state={selectedViz:t.initialViz},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.supportedVisualizations,r=e.width;return o.createElement("div",{className:"VizSelectorPanel",style:{width:r}},o.createElement(i.Dropdown,{options:this.generateDropdownItems(n),fluid:!0,onChange:this.onVizSelect,defaultValue:this.props.initialViz}),o.createElement(i.Card,{fluid:!0,raised:!0},this.renderVizContainer(this.state.selectedViz,t)))},t.prototype.renderVizContainer=function(e,t){var n=this.props.padding,r=this.props.height-2*n,i=this.props.width-2*n;switch(e){case c.VIZ_TYPE["T-SNE"]:return t["T-SNE"]&&o.createElement(a.TComponent,{data:t["T-SNE"],height:r,padding:n,width:i});case c.VIZ_TYPE["TENSOR-T-SNE"]:return t["TENSOR-T-SNE"]&&o.createElement(s.TensorTContainer,{data:t["TENSOR-T-SNE"],height:r,style:{padding:n},width:i});case c.VIZ_TYPE["T-SNE-FRAME"]:return t["T-SNE"]&&o.createElement(a.TFrameComponent,{data:t["T-SNE"],height:r,padding:n,width:i});case c.VIZ_TYPE.SPRING:return t.Spring&&o.createElement(s.SpringContainer,{data:t.Spring,height:this.props.height,padding:n,width:this.props.width});case c.VIZ_TYPE.NGL:return t.NGL&&o.createElement(a.NGLComponent,{data:t.NGL,height:r,style:{padding:n},width:i});case c.VIZ_TYPE.CONTACT_MAP:return t["Contact Map"]&&o.createElement(a.PredictedContactMap,{data:t["Contact Map"],height:r,style:{padding:n},width:i});case c.VIZ_TYPE.INFO_PANEL:return o.createElement(a.InfoPanel,{data:t["Contact Map"],height:400,width:400});default:throw new Error("Unknown viz: "+e)}},t.defaultProps={data:new Object,height:450,initialViz:c.VIZ_TYPE["T-SNE"],padding:15,supportedVisualizations:[],width:450},t}(o.Component);t.VizSelectorPanel=l},"./src/component/chart/AuxiliaryAxis.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,n,o,i,a){void 0===t&&(t=2),void 0===n&&(n="black"),void 0===a&&(a=function(){return!1});var s=this;this.sections=e,this.axisIndex=t,this.defaultColor=n,this.colorMap=o,this.dataTransformFn=i,this.filterFn=a,this.axes=new Map,this.highlightedAxes=new Map,this.generateXAxisSegment=function(e){return r({},s.auxiliaryAxisDefaults(e),{orientation:"h",xaxis:"x",yaxis:"y"+s.axisIndex})},this.generateHighlightedXAxisSegment=function(e){return r({},s.highlightedAuxiliaryAxisDefaults(e),{orientation:"h",xaxis:"x",yaxis:"y"+s.axisIndex})},this.generateYAxisSegment=function(e){return r({},s.auxiliaryAxisDefaults(e),{orientation:"v",xaxis:"x"+s.axisIndex,yaxis:"y"})},this.generateHighlightedYAxisSegment=function(e){return r({},s.highlightedAuxiliaryAxisDefaults(e),{orientation:"v",xaxis:"x"+s.axisIndex,yaxis:"y"})},this.auxiliaryAxisDefaults=function(e){return{connectgaps:!1,hoverinfo:"none",line:{color:s.colorMap&&s.colorMap[e]?s.colorMap[e]:s.defaultColor,shape:"spline",smoothing:1.3,width:1.5},marker:{symbol:[]},mode:"lines",name:e,showlegend:!1,type:"scatter",x:[],y:[]}},this.highlightedAuxiliaryAxisDefaults=function(e){return r({},s.auxiliaryAxisDefaults(e),{fill:"toself",line:{color:s.colorMap&&s.colorMap[e]?s.colorMap[e]:s.defaultColor,width:0}})},this.derivePointsInAxis=function(e){for(var t={main:[e.start],opposite:[null]},n=e.start;n<=e.end;++n){var r=s.dataTransformFn&&s.dataTransformFn[e.label]?s.dataTransformFn[e.label](e,n):{main:n,opposite:-1};t.main.push(r.main),t.opposite.push(r.opposite)}return t.main.push(e.end),t.opposite.push(null),t},this.deriveHighlightedPointsInAxis=function(e){var t={main:[e.start],opposite:[null]};return t.main.push(e.start),t.opposite.push(-1),t.main.push(e.start),t.opposite.push(1),t.main.push(e.end),t.opposite.push(1),t.main.push(e.end),t.opposite.push(-1),t.main.push(e.end),t.opposite.push(null),t},this.setupAuxiliaryAxis()}return Object.defineProperty(e.prototype,"axis",{get:function(){return this.axes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xAxes",{get:function(){var e=new Array;return this.axes.forEach(function(t){e.push(t.x)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlightedXAxes",{get:function(){var e=new Array;return this.highlightedAxes.forEach(function(t){e.push(t.x)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxes",{get:function(){var e=new Array;return this.axes.forEach(function(t){e.push(t.y)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlightedYAxes",{get:function(){var e=new Array;return this.highlightedAxes.forEach(function(t){e.push(t.y)}),e},enumerable:!0,configurable:!0}),e.prototype.getAxisById=function(e){return this.axes.get(e)},e.prototype.setupAuxiliaryAxis=function(){var e,t,n,r,i,s,c,l,u,d;try{for(var p=o(this.sections),f=p.next();!f.done;f=p.next()){var h=f.value;if(!this.filterFn(h)){var m=h.label;this.axes.has(m)||this.axes.set(m,{x:this.generateXAxisSegment(m),y:this.generateYAxisSegment(m)}),this.highlightedAxes.has(m)||this.highlightedAxes.set(m,{x:this.generateHighlightedXAxisSegment(m),y:this.generateHighlightedYAxisSegment(m)});var y=this.axes.get(m),v=this.highlightedAxes.get(m);if(y&&v){var g=this.derivePointsInAxis(h);(n=y.x.x).push.apply(n,a(g.main)),(r=y.x.y).push.apply(r,a(g.opposite)),(i=y.y.y).push.apply(i,a(g.main)),(s=y.y.x).push.apply(s,a(g.opposite));var C=this.deriveHighlightedPointsInAxis(h);(c=v.x.x).push.apply(c,a(C.main)),(l=v.x.y).push.apply(l,a(C.opposite)),(u=v.y.y).push.apply(u,a(C.main)),(d=v.y.x).push.apply(d,a(C.opposite))}}}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}},e}();t.AuxiliaryAxis=s},"./src/component/chart/ContactMapChart.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/react/index.js"),l=n("./node_modules/semantic-ui-react/dist/es/index.js"),u=n("./src/component/index.ts"),d=n("./src/helper/index.ts");t.generateChartDataEntry=function(e,t,n,r,i,a,s){return void 0===s&&(s={}),o({hoverinfo:e,marker:"string"==typeof t?{color:new Array(2*a.length).fill(t)}:{colorscale:[[0,"rgb(12,50,102)"],[.1,"rgb(17,83,150)"],[.2,"rgb(40,114,175)"],[.3,"rgb(71,147,193)"],[.4,"rgb(111,175,209)"],[.5,"rgb(160,202,222)"],[.6,"rgb(200,219,237)"],[.7,"rgb(224,235,246)"],[.8,"rgb(247,251,255)"],[.9,"rgb(249,253,255)"],[1,"rgb(255,255,255)"]]},mode:"lines+markers",name:n,nodeSize:i,points:a,subtitle:r},s)};var p=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleLegendVisibility=function(){n.setState({showlegend:!n.state.showlegend})},n.state={numLegends:0,plotlyData:[],showlegend:!1},n}return r(t,e),t.prototype.componentDidMount=function(){this.setupData()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.contactData,r=t.secondaryStructures,o=t.selectedSecondaryStructures;e.contactData===n&&e.secondaryStructures===r&&e.selectedSecondaryStructures===o||this.setupData()},t.prototype.render=function(){var e=this.props,t=e.configurations,n=(e.contactData,e.legendModifiers),r=e.marginModifiers,a=(e.range,e.showConfigurations),s=i(e,["configurations","contactData","legendModifiers","marginModifiers","range","showConfigurations"]),d=this.state,p=d.plotlyData,f=d.showlegend;return c.createElement(u.SettingsPanel,{configurations:t,showConfigurations:a},c.createElement(l.Button,{basic:!0,floated:"left",icon:c.createElement(l.Icon,{name:"question circle outline",size:"large"}),onClick:this.toggleLegendVisibility,style:{float:"left",margin:"0 0 0 15px",position:"relative",top:"500px",zIndex:999}}),c.createElement(u.PlotlyChart,o({data:p,layout:{legend:{orientation:"h",y:n.y,yanchor:"bottom"},margin:{b:r.b,l:r.l},showlegend:f,xaxis:{autorange:!0,fixedrange:!0,nticks:10,range:[0,33e3],rangemode:"nonnegative",showline:!0,tickmode:"auto",title:"Residue #"},yaxis:{autorange:"reversed",fixedrange:!0,nticks:10,range:[0,33e3],rangemode:"nonnegative",showline:!0,tickmode:"auto",title:"Residue #"}}},s)))},t.prototype.setupData=function(){var e=this.props,t=e.contactData,n=e.dataTransformFn,r=e.secondaryStructures,o=e.selectedSecondaryStructures,i=s(t.map(function(e){return n(e,!0)}));r.forEach(function(e,t){var n=new u.SecondaryStructureAxis(e,3,t+2);i.push.apply(i,s(n.xAxes,n.yAxes))});var a=new Array;o.forEach(function(e,t){var n=new u.AuxiliaryAxis(e,t+2,"orange");a.push.apply(a,s(n.highlightedXAxes,n.highlightedYAxes))}),this.setState({numLegends:new Set(i.filter(function(e){return!1!==e.showlegend&&void 0!==e.name}).map(function(e){return e.name})).size,plotlyData:s(a,i)})},t.defaultProps={candidateResidues:new Array,configurations:new Array,dataTransformFn:d.generateScatterGLData,height:"100%",legendModifiers:{y:-.4},marginModifiers:{b:65,l:65},range:100,secondaryStructures:[],selectedSecondaryStructures:[],selectedSecondaryStructuresColor:"#feb83f",showConfigurations:!0,width:"100%"},t}(c.Component);t.ContactMapChart=p},"./src/component/chart/PlotlyChart.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n("./node_modules/immutable/dist/immutable.js"),d=n("./node_modules/lodash/lodash.js"),p=n("./node_modules/plotly.js-gl2d-dist/plotly-gl2d.js"),f=n("./node_modules/react/index.js"),h=n("./node_modules/semantic-ui-react/dist/es/index.js"),m=n("./src/data/index.ts");t.defaultPlotlyConfig={displayModeBar:!1,doubleClick:"reset",scrollZoom:!0,showAxisDragHandles:!1,staticPlot:!1},t.defaultPlotlyLayout={autosize:!0,dragmode:"zoom",hovermode:"closest",legend:{},margin:{b:10,l:40,r:10,t:10},showlegend:!1,title:""};var y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.plotlyCanvas=null,n.isDoubleClickInProgress=!1,n.canvasRef=null,n.plotlyFormattedData=[],n.resize=function(){n.plotlyCanvas&&p.Plots.resize(n.plotlyCanvas)},n.draw=function(){return i(n,void 0,void 0,function(){var e,t,n,r,o,i;return a(this,function(a){switch(a.label){case 0:return e=this.props,t=e.config,n=e.layout,this.plotlyCanvas&&this.canvasRef?(r=this.getMergedLayout(n,this.plotlyFormattedData),o=this.getMergedConfig(t),i=this,[4,p.react(this.canvasRef,this.plotlyFormattedData,r,o)]):[3,2];case 1:i.plotlyCanvas=a.sent(),a.label=2;case 2:return[2]}})})},n.deriveChartPiece=function(e,t,n){var r=e,o=t;if(n){var i=n.xaxis&&"x"!==n.xaxis,a=n.yaxis&&"y"!==n.yaxis;if(i||a)return{chartPiece:m.CHELL_CHART_PIECE.AXIS,selectedPoints:i?[o]:[r]}}return{chartPiece:m.CHELL_CHART_PIECE.POINT,selectedPoints:[r,o]}},n.generateExtraPlotlyAxis=function(e){return Array.from(e.values()).filter(function(e){return e.length>=2}).map(function(e){return n.generateExtraPlotlyAxisFromId(e)}).reduce(function(e,t){return o({},e,t)},{})},n.getMergedConfig=function(e){void 0===e&&(e={});var n=u.fromJS(o({},t.defaultPlotlyConfig)),r=u.fromJS(o({},e));return o({},n.mergeDeep(r).toJS())},n.getMergedLayout=function(e,r){void 0===e&&(e={}),void 0===r&&(r=[]);var i=u.fromJS(o({},e)),a=u.fromJS(o({},t.defaultPlotlyLayout,n.deriveAxisParams(r))),s=o({},a.mergeDeep(i).toJS());return n.savedAxisZoom&&s.xaxis&&s.yaxis&&(s.xaxis.range=n.savedAxisZoom.xaxis.range,s.yaxis.range=n.savedAxisZoom.yaxis.range),s},n.onAfterPlot=function(){var e=n.props.onAfterPlotCallback;e&&e(new m.ChellChartEvent(m.CHELL_CHART_EVENT_TYPE.AFTER_PLOT))},n.onClick=function(e){if(!1===n.isDoubleClickInProgress&&void 0!==e.points&&e.points.length>0){var t=n.props.onClickCallback;if(t){var r=e.points[0].x?e.points[0].x:e.points[0].data.x[0],o=e.points[0].y?e.points[0].y:e.points[0].data.y[0],i=n.deriveChartPiece(r,o,e.points[0].data),a=i.chartPiece,s=i.selectedPoints;t(new m.ChellChartEvent(m.CHELL_CHART_EVENT_TYPE.CLICK,a,s))}}},n.onDoubleClick=function(){n.isDoubleClickInProgress=!0;var e=n.props.onDoubleClickCallback;e&&e(new m.ChellChartEvent(m.CHELL_CHART_EVENT_TYPE.DOUBLE_CLICK))},n.onHover=function(e){var t=n.props.onHoverCallback;if(e.points&&e.points[0]&&t){var r=e.points[0].x?e.points[0].x:e.points[0].data.x[0],o=e.points[0].y?e.points[0].y:e.points[0].data.y[0],i=n.deriveChartPiece(r,o,e.points[0].data),a=i.chartPiece,s=i.selectedPoints;t(new m.ChellChartEvent(m.CHELL_CHART_EVENT_TYPE.HOVER,a,s))}},n.onRelayout=function(e){n.isDoubleClickInProgress=!1;var t=["xaxis.range[0]","xaxis.range[1]","yaxis.range[0]","yaxis.range[1]"],r=void 0!==e&&!0===t.reduce(function(t,n){return t&&void 0!==e[n]},!0);n.savedAxisZoom=r?{xaxis:{autorange:!1,range:[e[t[0]],e[t[1]]]},yaxis:{autorange:!1,range:[e[t[2]],e[t[3]]]}}:void 0;var o=n.props.onRelayoutCallback;o&&o(new m.ChellChartEvent(m.CHELL_CHART_EVENT_TYPE.RELAYOUT))},n.onSelect=function(e){return i(n,void 0,void 0,function(){var t,n,r;return a(this,function(o){switch(o.label){case 0:return t=this.props.onSelectedCallback,e&&t&&(n=new Array,e.points.length>=1?n=e.points.reduce(function(e,t){return e.push.apply(e,c([t.x,t.y])),e},n):e.range&&n.push(e.range.x[0],e.range.y[0],e.range.x[1],e.range.y[1]),r=(n.length>0?this.deriveChartPiece(n[0],n[1]):{chartPiece:m.CHELL_CHART_PIECE.POINT}).chartPiece,t(new m.ChellChartEvent(m.CHELL_CHART_EVENT_TYPE.SELECTION,r,n))),[4,this.draw()];case 1:return o.sent(),[2]}})})},n.onUnHover=function(e){var t=n.props.onUnHoverCallback;if(e&&t){var r=e.points[0],o=r.data,i=r.x,a=r.y,s=n.deriveChartPiece(i,a,o),c=s.chartPiece,l=s.selectedPoints;t(new m.ChellChartEvent(m.CHELL_CHART_EVENT_TYPE.UNHOVER,c,l))}},n}return r(n,e),n.prototype.attachListeners=function(){this.plotlyCanvas&&(this.plotlyCanvas.on("plotly_afterplot",this.onAfterPlot),this.plotlyCanvas.on("plotly_click",this.onClick),this.plotlyCanvas.on("plotly_doubleclick",this.onDoubleClick),this.plotlyCanvas.on("plotly_hover",this.onHover),this.plotlyCanvas.on("plotly_relayout",this.onRelayout),this.plotlyCanvas.on("plotly_selected",this.onSelect),this.plotlyCanvas.on("plotly_unhover",this.onUnHover)),window.removeEventListener("resize",this.resize),window.addEventListener("resize",this.resize)},n.prototype.componentDidUpdate=function(e){return i(this,void 0,void 0,function(){var t,n,r,o;return a(this,function(i){switch(i.label){case 0:return t=this.props,n=t.data,r=t.layout,o=t.config,d.isEqual(n,e.data)&&d.isEqual(r,e.layout)&&d.isEqual(o,e.config)?[3,2]:(this.plotlyFormattedData=d.isEqual(n,e.data)?this.plotlyFormattedData:u.fromJS(n).toJS(),[4,this.draw()]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t,n;return a(this,function(r){switch(r.label){case 0:return!this.canvasRef||this.plotlyCanvas?[3,3]:(e=this.props.data,t=u.fromJS(e),this.plotlyFormattedData=t.toJS(),n=this,[4,p.react(this.canvasRef,this.plotlyFormattedData)]);case 1:return n.plotlyCanvas=r.sent(),this.attachListeners(),[4,this.draw()];case 2:r.sent(),r.label=3;case 3:return[2]}})})},n.prototype.componentWillUnmount=function(){this.plotlyCanvas&&(p.purge(this.plotlyCanvas),this.plotlyCanvas=null,this.canvasRef=null),window.removeEventListener("resize",this.resize)},n.prototype.render=function(){var e=this,t=this.props,n=t.height,r=t.showLoader,i=t.style,a=t.width;return f.createElement("div",null,r&&f.createElement(h.Dimmer,{active:!this.isDataLoaded()},f.createElement(h.Loader,null)),f.createElement("div",{className:"plotly-chart",ref:function(t){return e.canvasRef=t||null},style:o({},i,{height:n,marginBottom:5,width:a})}))},n.prototype.generateExtraPlotlyAxisFromId=function(e){var t,n=e.substr(0,1),r=Number.parseInt(e.substr(1),10);return(t={})[n+"axis"+r]={domain:[1-.05*(r-1),1-.05*(r-2)],visible:!1},t},n.prototype.deriveAxisParams=function(e){var t,n,r=new Set,i=new Set;try{for(var a=l(e),s=a.next();!s.done;s=a.next()){var c=s.value,u=c.xaxis,d=c.yaxis;u&&r.add(u),d&&i.add(d)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o({},this.generateExtraPlotlyAxis(r),this.generateExtraPlotlyAxis(i),{xaxis:{domain:[0,1-.05*r.size],range:[30],zeroline:!1},yaxis:{domain:[0,1-.05*r.size],range:[30],zeroline:!1}})},n.prototype.isDataLoaded=function(){return this.props.data.length>0||this.plotlyFormattedData.filter(function(e){return e.x&&e.x.length>=1}).length>0},n.defaultProps={config:{},data:[],height:"100%",layout:{},showLoader:!0,width:"100%"},n}(f.Component);t.PlotlyChart=y},"./src/component/chart/SecondaryStructureAxis.ts":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(n,r,o,i,a,s,c){void 0===r&&(r=3),void 0===o&&(o=2),void 0===i&&(i="black"),void 0===a&&(a={C:"red",E:"green",H:"blue"}),void 0===s&&(s={C:t.centerSectionPositionFn,E:t.centerSectionPositionFn,H:function(e,t){return{main:t,opposite:Math.sin(t)}}}),void 0===c&&(c=function(e){return e.length<=r});var l=e.call(this,n,o,i,a,s,c)||this;return l.sections=n,l.minimumRequiredResidues=r,l.axisIndex=o,l.defaultColor=i,l.colorMap=a,l.dataTransformFn=s,l.filterFn=c,l}return r(t,e),t.prototype.setupAuxiliaryAxis=function(){e.prototype.setupAuxiliaryAxis.call(this);var t=this.getAxisById("E");if(t&&t.x.x&&t.x.y){for(var n={main:new Array(t.x.x.length).fill("line-ne"),opposite:new Array(t.x.x.length).fill("line-ne")},r=1;r<t.x.x.length-1;++r)null===t.x.y[r+1]&&(n.main[r]="triangle-right",n.opposite[r]="triangle-down");t.x=o({},t.x,this.generateBetaSheetStyle(t.x,n.main)),t.y=o({},t.y,this.generateBetaSheetStyle(t.y,n.opposite))}},t.prototype.generateBetaSheetStyle=function(e,t){return{line:o({},e.line,{width:5}),marker:o({},e.marker,{color:this.colorMap.E,size:10,symbol:t}),mode:"lines+markers"}},t.centerSectionPositionFn=function(e,t){return{main:t,opposite:0}},t}(n("./src/component/chart/index.ts").AuxiliaryAxis);t.SecondaryStructureAxis=i},"./src/component/chart/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/component/chart/PlotlyChart.tsx")),r(n("./src/component/chart/AuxiliaryAxis.ts")),r(n("./src/component/chart/ContactMapChart.tsx")),r(n("./src/component/chart/SecondaryStructureAxis.ts"))},"./src/component/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/component/chart/index.ts")),r(n("./src/component/widget/index.ts")),r(n("./src/component/ContactMap.tsx")),r(n("./src/component/FeatureViewer.tsx")),r(n("./src/component/InfoPanel.tsx")),r(n("./src/component/MorpheusComponent.tsx")),r(n("./src/component/NGLComponent.tsx")),r(n("./src/component/PredictedContactMap.tsx")),r(n("./src/component/TComponent.tsx")),r(n("./src/component/TensorTComponent.tsx")),r(n("./src/component/TFrameComponent.tsx")),r(n("./src/component/VizSelectorPanel.tsx"))},"./src/component/widget/CategorySelector.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./node_modules/semantic-ui-react/dist/es/index.js"),c=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){return this.props.categories&&a.createElement(s.Dropdown,{fluid:!0,onChange:this.props.onCategoryChange,options:i(this.props.categories.map(function(e){return{key:e,text:e,value:e}})),placeholder:"Select Category",search:!0})},t.defaultProps={categories:[]},t}(a.Component);t.CategorySelector=c},"./src/component/widget/ChellRadioGroup.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js"),i=n("./node_modules/semantic-ui-react/dist/es/index.js"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChange=function(e){return function(t,r){n.setState({selectedIndex:e}),n.props.onChange&&n.props.onChange(e)}},n.renderOptions=function(e,t,r,a){return o.createElement(i.Grid,{centered:!0,columns:2,relaxed:!0,padded:!0},t.map(function(t,s){return o.createElement(i.Grid.Column,{key:e+"-"+t,textAlign:"center"},o.createElement(i.Form.Radio,{checked:n.state.selectedIndex===s,disabled:r,label:{children:t,style:a},name:t,onChange:n.handleChange(s),value:s}))}))},n.state={selectedIndex:0},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.id,r=e.options,a=e.style,s=e.title;return o.createElement(i.Form,{style:a},o.createElement(i.Form.Field,null,s),this.renderOptions(n,r,t,a))},t.defaultProps={disabled:!1,style:{},title:"How to calculate distance between two residues:"},t}(o.Component);t.ChellRadioGroup=a},"./src/component/widget/ChellSlider.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/rc-slider/es/index.js"),s=n("./node_modules/react/index.js");n("./node_modules/rc-slider/assets/index.css");var c=n("./node_modules/semantic-ui-react/dist/es/index.js"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.onAfterChange=function(e){return function(t){e&&e(t),n.setState({value:t})}},n.onChange=function(e){return function(t){e&&e(t),n.setState({value:t})}},n.onReset=function(){n.onChange(n.props.onChange)(n.state.defaultValue)},n.state={defaultValue:t.defaultValue?t.defaultValue:t.value,value:t.value},n}return r(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.defaultValue,r=t.value;r&&r!==e.value&&this.setState({value:r});var o=n||r;-1===this.state.defaultValue&&o!==this.state.defaultValue&&this.setState({defaultValue:o})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.value,r=e.hideLabelValue,l=e.max,u=e.min,d=e.label,p=e.onAfterChange,f=e.onChange,h=e.style,m=i(e,["className","value","hideLabelValue","max","min","label","onAfterChange","onChange","style"]);return s.createElement(c.Grid,{columns:"equal",style:h,textAlign:"left"},s.createElement(c.Grid.Column,{className:t},!r&&s.createElement("p",null,d+": "+this.state.value),s.createElement(a.default,o({max:l,min:u,onAfterChange:this.onAfterChange(p),onChange:this.onChange(f),value:n},m))),s.createElement(c.Grid.Column,{verticalAlign:"middle",width:2},s.createElement(c.Button,{icon:"undo",onClick:this.onReset,size:"small"})))},t}(s.Component);t.ChellSlider=l},"./src/component/widget/ChellTooltip.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js"),i={backgroundColor:"rgba(0, 244, 0, 0.6)",color:"lightgrey",display:"block",fontFamily:"sans-serif",padding:"0.5em",pointerEvents:"none",position:"absolute",zIndex:10};t.initialTooltipState={show:!0,timer:void 0};var a=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialTooltipState,r}return r(n,e),n.prototype.componentDidUpdate=function(e){var t=this,n=e.timeout,r=void 0===n?0:n;if(!this.state.timer&&r>0){var o=setTimeout(function(){t.setState({show:!1})},r);this.setState({timer:o})}},n.prototype.componentWillUnmount=function(){var e=this.state.timer;e&&clearTimeout(e)},n.prototype.render=function(){var e=this.props,t=e.message,n=e.style,r=void 0===n?i:n;return this.state.show&&o.createElement("div",{style:r,className:"ChellTooltip"},t)},n}(o.Component);t.ChellTooltip=a},"./src/component/widget/SettingsPanel.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),a=n("./node_modules/semantic-ui-react/dist/es/index.js"),s=n("./src/component/index.ts"),c=n("./src/data/index.ts"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.panel=null,n.onButtonClick=function(e){n.setState({visible:!n.state.visible})},n.renderSettingsButton=function(){return i.createElement(a.Button,{basic:!0,floated:"right",icon:"settings",onClick:n.onButtonClick})},n.state={visible:!1},n}return r(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this,r=this.state.visible;r&&t.visible!==r?window.addEventListener("click",function(e){if(n.panel){var t=n.panel.getBoundingClientRect(),r=e.x,o=e.y;r>=t.left&&r<=t.right&&o>=t.top&&o<=t.bottom||(n.hideSettingsPanel(),window.removeEventListener("click",n.hideSettingsPanel))}}):window.removeEventListener("click",function(e){return n.hideSettingsPanel})},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.configurations,o=t.inverted,s=t.opacity,c=t.showConfigurations,l=t.width,u=this.state.visible;return i.createElement("div",{ref:function(t){return e.panel=t||null}},i.createElement(a.Grid,{columns:1},c&&i.createElement(a.Grid.Column,null,this.renderSettingsButton()),i.createElement(a.Sidebar.Pushable,{style:{width:l}},i.createElement(a.Sidebar,{as:a.Menu,animation:"overlay",inverted:o,style:{width:l,opacity:s},vertical:!0,visible:u},this.renderConfigurations(r)),i.createElement(a.Sidebar.Pusher,null,n))))},t.prototype.renderConfigurations=function(e){var t=this;return i.createElement(a.Grid,{centered:!0},e.map(function(e,n){var r=e.id?e.id:e.name.toLowerCase().split(" ").join("-")+"-"+n;switch(e.type){case c.CONFIGURATION_COMPONENT_TYPE.BUTTON:return i.createElement(a.Grid.Row,{key:r},t.renderConfigurationButton(e,r));case c.CONFIGURATION_COMPONENT_TYPE.LABEL:return i.createElement(a.Grid.Row,{key:r},t.renderConfigurationLabel(e,r));case c.CONFIGURATION_COMPONENT_TYPE.RADIO:return i.createElement(a.Grid.Row,{key:r},t.renderConfigurationRadioButton(e,r));case c.CONFIGURATION_COMPONENT_TYPE.SLIDER:return i.createElement(a.Grid.Row,{key:r},t.renderConfigurationSlider(e,r));default:return i.createElement(a.Grid.Row,{key:r},"configuration for "+r)}}))},t.prototype.renderConfigurationButton=function(e,t){return i.createElement(a.Button,{compact:!0,id:t,onClick:e.onClick,style:o({},e.style)},e.icon&&i.createElement(a.Icon,{name:e.icon}),e.name)},t.prototype.renderConfigurationLabel=function(e,t){return i.createElement(a.Label,{basic:!0,id:t,style:o({},e.style),color:"orange"},e.name)},t.prototype.renderConfigurationRadioButton=function(e,t){return i.createElement(s.ChellRadioGroup,{id:t,options:e.options,onChange:e.onChange,style:o({color:"white"},e.style),title:e.name})},t.prototype.renderConfigurationSlider=function(e,t){return i.createElement(s.ChellSlider,{className:t,label:e.name,max:e.values.max,min:e.values.min,onAfterChange:e.onAfterChange,onChange:e.onChange,style:o({color:"white",padding:"0 25px",width:"95%"},e.style),value:e.values.current})},t.prototype.hideSettingsPanel=function(){this.setState({visible:!1})},t.defaultProps={configurations:new Array,direction:"left",inverted:!0,opacity:.6,showConfigurations:!0,width:"100%"},t}(i.Component);t.SettingsPanel=l},"./src/component/widget/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/component/widget/CategorySelector.tsx")),r(n("./src/component/widget/ChellRadioGroup.tsx")),r(n("./src/component/widget/ChellSlider.tsx")),r(n("./src/component/widget/ChellTooltip.tsx")),r(n("./src/component/widget/SettingsPanel.tsx"))},"./src/container/AnatomogramContainer.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/anatomogram/lib/index.js"),a=n("./node_modules/react/index.js"),s=n("./src/context/index.ts");t.springToAnatomogramMapping={P11A:"UBERON_0000178",P11B:"UBERON_0000473",P12A:"UBERON_0000955",P9A:"UBERON_0000977"},t.anatomogramToSpringMapping={UBERON_0000178:"P11A",UBERON_0000473:"P11B",UBERON_0000955:"P12A",UBERON_0000977:"P9A"};var c=function(e){function n(n){var r=e.call(this,n)||this;return r.onClick=function(e){r.props.springContext.toggleCategory(t.anatomogramToSpringMapping[e])},r.onMouseOut=function(e){},r.onMouseOver=function(e){},r.state={selectIds:[]},r}return r(n,e),n.prototype.componentDidUpdate=function(e){var n=this.props.springContext;n.selectedCategories!==e.springContext.selectedCategories&&this.setState({selectIds:n.selectedCategories.map(function(e){return t.springToAnatomogramMapping[e]})})},n.prototype.render=function(){var e=this.state.selectIds;return a.createElement("div",{className:"anatomogram-container"},a.createElement(i.default,{atlasUrl:"",highlightColour:"yellow",onClick:this.onClick,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver,selectColour:"ffaa00",selectIds:e,showIds:["UBERON_0000178","UBERON_0000473","UBERON_0000955","UBERON_0000977"],species:"homo_sapiens"}))},n.defaultProps={height:"300px",springContext:o({},s.initialSpringContext),style:{},width:"400px"},n}(a.Component);t.AnatomogramContainerClass=c,t.AnatomogramContainer=function(e){return a.createElement(s.SpringContext.Consumer,null,function(t){return a.createElement(c,o({},e,{springContext:t}))})}},"./src/container/ProteinFeatureViewer.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./node_modules/semantic-ui-react/dist/es/index.js"),c=n("./src/component/index.ts"),l=n("./src/data/index.ts"),u=n("./src/helper/index.ts"),d=function(e){function t(t){var n=e.call(this,t)||this;return n.onProteinInputChange=function(e,t){n.setState({proteinId:t.value})},n.onProteinInputSubmit=function(e,t){return o(n,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.deriveProteinData()];case 1:return e.sent(),[2]}})})},n.onShowGroupedChange=function(e,t){n.setState({showGrouped:void 0!==t.checked?t.checked:n.state.showGrouped})},n.renderAnnotationText=function(e,t){var r=n.state,o=r.domainData,i=r.protein,a=i?i.dbReferences.filter(function(e){return"Pfam"===e.type}).filter(function(n){var r=n.properties,o=r?r["entry name"]:null;return o&&(o===e||o.localeCompare(e+"-like "+t))}):[];return a.length>=1?e+": "+e+" domain ("+o[t].start+" - "+o[t].end+')<br /><a href="http://pfam.xfam.org/family/'+a[0].id+'">PFAM</a> <a href="http://mutationaligner.org/domains/'+a[0].id+'">Mutagen Aligner</a>':""},n.state={data:[],domainData:[],proteinId:t.initialProteinId,showGrouped:!0},n}return r(t,e),t.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.deriveProteinData()];case 1:return e.sent(),[2]}})})},t.prototype.render=function(){var e=this.state,t=e.domainData,n=e.protein,r=e.proteinId,o=e.showGrouped;return a.createElement("div",{className:"protein-feature-viewer"},a.createElement(s.GridRow,{centered:!0,stretched:!1},a.createElement(s.GridColumn,null,a.createElement(c.FeatureViewer,{data:t,onHoverCallback:this.renderAnnotationText,title:n?n.id:"",showGrouped:o})),a.createElement(s.GridColumn,null,a.createElement(s.Form,{onSubmit:this.onProteinInputSubmit},a.createElement(s.Form.Input,{onChange:this.onProteinInputChange,value:r,fluid:!1,width:"three"}),a.createElement(s.Form.Button,null,"Submit Protein ID"),a.createElement(s.Form.Checkbox,{defaultChecked:!0,label:"Show grouped?",onChange:this.onShowGroupedChange})))))},t.prototype.deriveProteinData=function(){return o(this,void 0,void 0,function(){var e,t,n,r;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("https://www.ebi.ac.uk/proteins/api/proteins/"+this.state.proteinId)];case 1:return[4,o.sent().json()];case 2:return e=o.sent(),t=e.features.filter(function(e){return"DOMAIN"===e.type}),n=new u.ColorMapper,this.setState({domainData:t.map(function(e,t){var r=e.begin,o=e.description,i=void 0===o?"":o,a=e.end,s=i.split("-like")[0];return new l.TintedChell1DSection(s,r?Number.parseInt(r,10):-1,a?Number.parseInt(a,10):-1,n.getColorFor(s))}),protein:e}),[3,4];case 3:return r=o.sent(),console.log(r),[3,4];case 4:return[2]}})})},t.defaultProps={initialProteinId:"Q9NYJ7"},t}(a.Component);t.ProteinFeatureViewer=d},"./src/container/SpringContainer.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),a=n("./node_modules/react-iframe-comm/dist/IframeComm.js"),s=n("./src/context/index.ts"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.onReady=function(){console.log("onReady called")},n.onReceiveMessage=function(e){var t=e.data;switch(t.type){case"selected-category-update":n.props.cellContext.addCells(t.payload.indices),n.props.springContext.toggleCategory(t.payload.category);break;case"selected-cells-update":n.props.cellContext.addCells(t.payload.indices);break;default:console.log("Got this msg for ya: "+JSON.stringify(e))}},n.state={postMessageData:{payload:{coordinates:t.springContext.coordinates},type:"init"}},n}return r(t,e),t.prototype.componentDidUpdate=function(e){e.springContext!==this.props.springContext?this.setState({postMessageData:{payload:{categories:this.props.springContext.selectedCategories},type:"selected-category-update"}}):e.cellContext!==this.props.cellContext&&this.setState({postMessageData:{payload:{indices:this.props.cellContext.currentCells},type:"selected-cells-update"}})},t.prototype.render=function(){var e=this.props,t=e.height,n=e.springUrl,r={frameBorder:1,height:t,src:n,width:e.width},o=n.split("/");return i.createElement(a.default,{attributes:r,postMessageData:this.state.postMessageData,handleReady:this.onReady,handleReceiveMessage:this.onReceiveMessage,targetOrigin:o[0]+"//"+o[2]})},t.defaultProps={cellContext:o({},s.initialCellContext),data:{links:new Array,nodes:new Array},height:"100%",padding:0,selectedCategory:"",springContext:o({},s.initialSpringContext),springUrl:"http://localhost:11037/springViewer.html?datasets/hpc/full",width:1200},t}(i.Component);t.SpringContainerClass=c,t.SpringContainer=function(e){return i.createElement(s.CellContext.Consumer,null,function(t){return i.createElement(s.SpringContext.Consumer,null,function(n){return i.createElement(c,o({},e,{cellContext:t,springContext:n}))})})}},"./src/container/TensorTContainer.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js"),c=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),l=n("./node_modules/semantic-ui-react/dist/es/index.js"),u=n("./src/component/index.ts"),d=n("./src/context/index.ts"),p=n("./src/data/index.ts"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.canvasContext=null,n.getPlotlyCoordsFromTsne=function(e){var t=n.props.cellContext;return[{marker:{color:n.props.pointColor},mode:"markers",type:"scattergl",x:e.map(function(e){return e[0]}),y:e.map(function(e){return e[1]})},{marker:{color:"#ffaa00"},mode:"markers",type:"scattergl",x:t.currentCells.map(function(t){return e[t][0]}),y:t.currentCells.map(function(t){return e[t][1]})}]},n.getTensorConfigs=function(){return[{name:"Iterate Once",onClick:n.onIterateForward(),type:p.CONFIGURATION_COMPONENT_TYPE.BUTTON},{name:"Iterate Ten Times",onClick:n.onIterateForward(10),type:p.CONFIGURATION_COMPONENT_TYPE.BUTTON},{name:"Iterate Fifty Times",onClick:n.onIterateForward(50),type:p.CONFIGURATION_COMPONENT_TYPE.BUTTON},{name:"Reset",onClick:n.onReset(),type:p.CONFIGURATION_COMPONENT_TYPE.BUTTON},{icon:"hashtag",name:"Total Iterations: "+n.state.numIterations,type:p.CONFIGURATION_COMPONENT_TYPE.LABEL}]},n.handlePointSelection=function(e){for(var t=n.props.cellContext,r=n.state.coordsArray,o=new Array,i=function(t){var n=e.selectedPoints[t],i=e.selectedPoints[t+1],a=r.findIndex(function(e){return e[0]===n&&e[1]===i});a>=0&&o.push(a)},a=0;a<e.selectedPoints.length-1;a+=2)i(a);t.addCells(o)},n.renderPlaybackButtons=function(){return n.state.isAnimating?s.createElement(l.Button,{compact:!0,onClick:n.onPauseAnimation()},s.createElement(l.Icon,{name:"pause"}),"Pause"):s.createElement(l.Button,{compact:!0,onClick:n.onPlayIteration()},s.createElement(l.Icon,{name:"play"}),"Play")},n.onIterateForward=function(e){return void 0===e&&(e=1),function(){return i(n,void 0,void 0,function(){var t,n,r,o,i;return a(this,function(a){switch(a.label){case 0:return t=this.state,n=t.isComputing,!(r=t.tsne)||n?[3,3]:(this.setState({isComputing:!0}),[4,r.iterate(e)]);case 1:return a.sent(),[4,r.coordsArray()];case 2:o=a.sent(),i=this.getPlotlyCoordsFromTsne(o),this.setState({coordsArray:o,isComputing:!1,numIterations:this.state.numIterations+e,plotlyCoords:i}),a.label=3;case 3:return[2]}})})}},n.onPauseAnimation=function(){return function(){n.setState({isAnimating:!1})}},n.onPlayIteration=function(){return function(){return i(n,void 0,void 0,function(){var e,t=this;return a(this,function(n){return e=function(){return i(t,void 0,void 0,function(){var t,n,r;return a(this,function(o){switch(o.label){case 0:return t=this.state,n=t.isAnimating,r=t.numIterations,[4,this.onIterateForward(1)()];case 1:return o.sent(),n&&r<500?requestAnimationFrame(e):this.setState({isAnimating:!1}),[2]}})})},this.setState({isAnimating:!0}),requestAnimationFrame(e),[2]})})}},n.onReset=function(){return function(){return i(n,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.computeTensorTsne(0)];case 1:return e.sent(),[2]}})})}},n.state={coordsArray:[],isAnimating:!1,isComputing:!1,numIterations:0,plotlyCoords:[]},n}return r(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t;return a(this,function(r){switch(r.label){case 0:return e=c.tensor(this.props.data),[4,Promise.resolve().then(function(){return n("./node_modules/@tensorflow/tfjs-tsne/dist-es6/index.js")})];case 1:return t=r.sent().tsne(e),this.setState({tsne:t}),[4,this.computeTensorTsne(this.state.numIterations)];case 2:return r.sent(),[2]}})})},t.prototype.componentDidUpdate=function(e){return i(this,void 0,void 0,function(){var t,n,r,o;return a(this,function(i){switch(i.label){case 0:return t=this.state.tsne,this.props.cellContext.currentCells!==e.cellContext.currentCells&&t?(n=this.setState,r={},o=this.getPlotlyCoordsFromTsne,[4,t.coordsArray()]):[3,2];case 1:n.apply(this,[(r.plotlyCoords=o.apply(this,[i.sent()]),r)]),i.label=2;case 2:return[2]}})})},t.prototype.render=function(){var e=this.props,t=e.height,n=e.style,r=e.width,o=this.state.plotlyCoords;return s.createElement("div",{id:"TensorTContainerDiv",style:n},this.renderPlaybackButtons(),s.createElement(u.SettingsPanel,{configurations:this.getTensorConfigs(),opacity:.8},s.createElement(u.TensorTComponent,{height:t,onSelectedCallback:this.handlePointSelection,pointsToPlot:o,style:n,width:r})))},t.prototype.computeTensorTsne=function(e){return i(this,void 0,void 0,function(){var t,n,r,o,i;return a(this,function(a){switch(a.label){case 0:return t=this.state,n=t.isComputing,!(r=t.tsne)||n?[3,3]:(this.setState({isComputing:!0}),[4,r.compute(e)]);case 1:return a.sent(),[4,r.coordsArray()];case 2:o=a.sent(),i=this.getPlotlyCoordsFromTsne(o),this.setState({coordsArray:o,isComputing:!1,numIterations:e,plotlyCoords:i}),a.label=3;case 3:return[2]}})})},t.defaultProps={cellContext:o({},d.initialCellContext),data:[[0],[0]],height:400,pointColor:"#aa0000",style:{padding:0},width:400},t}(s.Component);t.TensorTContainerClass=f,t.TensorTContainer=function(e){return s.createElement(d.CellContext.Consumer,null,function(t){return s.createElement(f,o({},e,{cellContext:t}))})}},"./src/container/VizPanelContainer.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n("./node_modules/react/index.js"),d=n("./node_modules/semantic-ui-react/dist/es/index.js"),p=n("./src/component/index.ts"),f=n("./src/data/index.ts"),h=n("./src/helper/index.ts");t.initialVizPanelState={currentDataDir:"",data:new Object};var m=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialVizPanelState,r.renderFileUploadForm=function(){return u.createElement(d.Label,{as:"label",basic:!0,htmlFor:"upload"},u.createElement(d.Button,{icon:"upload",label:{basic:!0,content:"Upload"},labelPosition:"right"}),u.createElement("input",{id:"upload",onChange:r.onDataUpload,hidden:!0,type:"file",multiple:!0,required:!0}))},r.onDataUpload=function(e){return i(r,void 0,void 0,function(){var t,n,r,i,s,c,l,u,d;return a(this,function(a){switch(a.label){case 0:return(t=e.target.files)?(n=Array.from(t),r=n.findIndex(function(e){return e.name.endsWith(".pdb")}),i=n.findIndex(function(e){return 0===e.name.localeCompare("residue_mapping.csv")}),s=n.findIndex(function(e,t){return e.name.endsWith(".csv")&&t!==i}),-1!==r&&-1!==i&&-1!==s?[3,1]:(alert("Incorrect files uploaded! Please upload a file named residue_mapping.csv as well as a .pdb and .csv file!"),[3,5])):[3,5];case 1:return[4,f.ChellPDB.createPDB(n[r])];case 2:return c=a.sent(),[4,h.readFileAsText(n[s])];case 3:return l=a.sent(),[4,h.readFileAsText(n[i])];case 4:u=a.sent(),d={couplingScores:h.getCouplingScoresData(l,h.generateResidueMapping(u)),pdbData:c,secondaryStructures:[]},this.setState({data:o({},this.state.data,{"Contact Map":d,NGL:c.nglStructure})}),a.label=5;case 5:return[2]}})})},r.onDataDirChange=function(e,t){r.setState({currentDataDir:t.value})},r.state=o({},r.state,{currentDataDir:n.dataDirs[0]}),r}return r(n,e),n.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t,n,r,i,c,l,u,d;return a(this,function(a){switch(a.label){case 0:n={},a.label=1;case 1:a.trys.push([1,6,7,8]),r=s(this.props.supportedVisualizations),i=r.next(),a.label=2;case 2:return i.done?[3,5]:(c=i.value,l=n,u=c,[4,h.fetchAppropriateData(c,this.state.currentDataDir)]);case 3:l[u]=a.sent(),a.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return d=a.sent(),e={error:d},[3,8];case 7:try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}return[7];case 8:return this.setState({data:o({},n)}),[2]}})})},n.prototype.componentDidUpdate=function(e,t){return i(this,void 0,void 0,function(){var e,n,r,i,c,l,u,d,p;return a(this,function(a){switch(a.label){case 0:if(t.currentDataDir===this.state.currentDataDir)return[3,9];r={},a.label=1;case 1:a.trys.push([1,6,7,8]),i=s(this.props.supportedVisualizations),c=i.next(),a.label=2;case 2:return c.done?[3,5]:(l=c.value,u=r,d=l,[4,h.fetchAppropriateData(l,this.state.currentDataDir)]);case 3:u[d]=a.sent(),a.label=4;case 4:return c=i.next(),[3,2];case 5:return[3,8];case 6:return p=a.sent(),e={error:p},[3,8];case 7:try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}return[7];case 8:this.setState({data:o({},r)}),a.label=9;case 9:return[2]}})})},n.prototype.render=function(){var e=this.props.allowUploads;return u.createElement(d.Grid,{className:"VizPanelContainer",columns:this.props.numPanels,centered:!0,relaxed:!0},u.createElement(d.GridRow,{columns:1,centered:!0},u.createElement(d.Dropdown,{className:"viz-panel-container-dropdown",onChange:this.onDataDirChange,options:l(this.props.dataDirs.map(function(e){return{key:e,text:e,value:e}})),placeholder:this.props.dataDirs[0],search:!0})),this.renderPanels(this.props.numPanels,this.state.data,this.props.initialVisualizations).map(function(e,t){return u.createElement(d.GridColumn,{key:t},e)}),e&&this.renderFileUploadForm())},n.prototype.renderPanels=function(e,t,n){for(var r=[],o=0;o<e;++o)r.push(u.createElement(p.VizSelectorPanel,{data:t,initialViz:n[o],supportedVisualizations:this.props.supportedVisualizations}));return r},n.defaultProps={allowUploads:!0,initialVisualizations:[],numPanels:1},n}(u.Component);t.VizPanelContainer=m},"./src/container/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/container/AnatomogramContainer.tsx")),r(n("./src/container/ProteinFeatureViewer.tsx")),r(n("./src/container/SpringContainer.tsx")),r(n("./src/container/TensorTContainer.tsx")),r(n("./src/container/VizPanelContainer.tsx"))},"./src/context/CellContext.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js");t.initialCellContext={addCells:function(e){},currentCells:new Array,removeAllCells:function(){},removeCells:function(e){}},t.CellContext=o.createContext(t.initialCellContext);var i=function(e){function n(t){var n=e.call(this,t)||this;return n.onAddCells=function(e){n.setState({currentCells:e})},n.onRemoveAllCells=function(){n.setState({currentCells:[]})},n.onRemoveCells=function(e){var t=n.state.currentCells;n.setState({currentCells:t.filter(function(t){return-1===e.indexOf(t)})})},n.state={addCells:n.onAddCells,currentCells:new Array,removeAllCells:n.onRemoveAllCells,removeCells:n.onRemoveCells},n}return r(n,e),n.prototype.render=function(){return o.createElement(t.CellContext.Provider,{value:this.state},this.props.children)},n}(o.Component);t.CellContextProvider=i},"./src/context/ChellContextProvider.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js"),i=n("./src/context/index.ts"),a=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.SecondaryStructureContextProvider,null,o.createElement(i.SpringContextProvider,null,o.createElement(i.CellContextProvider,null,o.createElement(i.ResidueContextProvider,null,this.props.children))))},t}(o.Component);t.ChellContextProvider=a},"./src/context/CouplingContext.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js"),i=n("./src/context/index.ts"),a=n("./src/data/index.ts");t.initialCouplingContext={couplingScores:new a.CouplingContainer},t.CouplingContext=o.createContext(t.initialCouplingContext),t.CouplingContextConsumer=t.CouplingContext.Consumer;var s=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialCouplingContext,r}return r(n,e),n.prototype.render=function(){return o.createElement(i.SecondaryStructureContextProvider,null,o.createElement(i.ResidueContextProvider,null,o.createElement(t.CouplingContext.Provider,{value:this.state},this.props.children)))},n}(o.Component);t.CouplingContextProvider=s},"./src/context/GenericContextProvider.tsx":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js");t.createGenericContext=function(e,t){var n=a.createContext(e),o=a.createContext(t),s=a.createContext(r({},e,t)),c={Both:s.Consumer,Read:n.Consumer,Write:o.Consumer},l={Both:s.Provider,Read:n.Provider,Write:o.Provider},u=i(Object.values(c)),d=i(Object.values(l));return{Consumers:c,Providers:l,allConsumers:u,allProviders:d,allProvidersJSX:function(e,t){return d.reduce(function(t,n){return a.createElement(n,{value:e},t)},t)}}}},"./src/context/ResidueContext.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js");t.initialResidueContext={addCandidateResidues:function(e){},addHoveredResidues:function(e){},addLockedResiduePair:function(e){},candidateResidues:new Array,clearAllResidues:function(){},hoveredResidues:new Array,lockedResiduePairs:new Map,removeAllLockedResiduePairs:function(){},removeCandidateResidues:function(){},removeHoveredResidues:function(){},removeLockedResiduePair:function(e){},removeNonLockedResidues:function(){},toggleLockedResiduePair:function(e){}},t.ResidueContext=i.createContext(t.initialResidueContext),t.ResidueContextConsumer=t.ResidueContext.Consumer;var a=function(e){function n(n){var r=e.call(this,n)||this;return r.onAddCandidateResidues=function(e){r.setState({candidateResidues:e.sort()})},r.onAddHoveredResidues=function(e){r.setState({hoveredResidues:e.sort()})},r.onAddLockedResiduePair=function(e){var t=r.state.lockedResiduePairs,n=e.sort(),o=n.toString();if(!t.has(o)){var i=new Map(t);i.set(o,n),r.setState({lockedResiduePairs:i})}},r.onClearAllResidues=function(){r.setState({candidateResidues:new Array,hoveredResidues:new Array,lockedResiduePairs:new Map})},r.onRemoveAllLockedResiduePairs=function(){r.setState({lockedResiduePairs:new Map})},r.onRemoveCandidateResidue=function(){r.setState({candidateResidues:new Array})},r.onRemoveHoveredResidues=function(){r.setState({hoveredResidues:new Array})},r.onRemoveLockedResiduePair=function(e){var t=e.sort().join(","),n=r.state.lockedResiduePairs;if(n.has(t)){var o=new Map(n);o.delete(t),r.setState({lockedResiduePairs:o})}},r.onRemoveNonLockedResidues=function(){r.setState({candidateResidues:new Array,hoveredResidues:new Array})},r.onToggleLockedResiduePair=function(e){var t=r.state.lockedResiduePairs,n=e.sort(),o=n.toString(),i=new Map(t);t.has(o)?i.delete(o):i.set(o,n),r.setState({lockedResiduePairs:i})},r.state=o({},t.initialResidueContext,{addCandidateResidues:r.onAddCandidateResidues,addHoveredResidues:r.onAddHoveredResidues,addLockedResiduePair:r.onAddLockedResiduePair,clearAllResidues:r.onClearAllResidues,removeAllLockedResiduePairs:r.onRemoveAllLockedResiduePairs,removeCandidateResidues:r.onRemoveCandidateResidue,removeHoveredResidues:r.onRemoveHoveredResidues,removeLockedResiduePair:r.onRemoveLockedResiduePair,removeNonLockedResidues:r.onRemoveNonLockedResidues,toggleLockedResiduePair:r.onToggleLockedResiduePair}),r}return r(n,e),n.prototype.render=function(){return i.createElement(t.ResidueContext.Provider,{value:this.state},this.props.children)},n}(i.Component);t.ResidueContextProvider=a,t.withResidueContext=function(e){var n;return(n=function(n){function a(){return null!==n&&n.apply(this,arguments)||this}return r(a,n),a.prototype.render=function(){var n=this;return i.createElement(t.ResidueContextConsumer,null,function(t){return i.createElement(e,o({residueContext:t},n.props))})},a}(i.Component)).WrappedComponent=e,n}},"./src/context/SecondaryStructureContext.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js");t.initialSecondaryStructContextRead={hoveredSecondaryStructures:new Array,selectedSecondaryStructures:new Array},t.initialSecondaryStructContextWrite={addHoveredSecondaryStructure:function(e){},addSelectedSecondaryStructure:function(e){},clearAllSecondaryStructures:function(){},removeHoveredSecondaryStructure:function(e){},removeSecondaryStructure:function(e){}},t.initialSecondaryStructureContext=o({},t.initialSecondaryStructContextWrite,t.initialSecondaryStructContextRead),t.SecondaryStructureContextRead=s.createContext(t.initialSecondaryStructContextRead),t.SecondaryStructureContextWrite=s.createContext(t.initialSecondaryStructContextWrite),t.SecondaryStructureContext=s.createContext(t.initialSecondaryStructureContext),t.SecondaryStructureContextReadConsumer=t.SecondaryStructureContextRead.Consumer,t.SecondaryStructureContextWriteConsumer=t.SecondaryStructureContextWrite.Consumer,t.SecondaryStructureContextConsumer=t.SecondaryStructureContext.Consumer;var c=function(e){function n(t){var n=e.call(this,t)||this;return n.onAddHoveredSecondaryStructure=function(){return function(e){n.state.hoveredSecondaryStructures.includes(e)||n.setState({hoveredSecondaryStructures:a(n.state.hoveredSecondaryStructures,[e])})}},n.onAddSelectedSecondaryStructure=function(){return function(e){n.state.selectedSecondaryStructures.includes(e)||n.setState({selectedSecondaryStructures:a(n.state.selectedSecondaryStructures,[e])})}},n.onClearSecondaryStructure=function(){return function(){n.setState({hoveredSecondaryStructures:new Array,selectedSecondaryStructures:new Array})}},n.onRemoveHoveredSecondaryStructure=function(){return function(e){var t=n.state.hoveredSecondaryStructures.findIndex(function(t){return t.label===e.label&&t.start===e.start&&t.end===e.end});n.setState({hoveredSecondaryStructures:a(n.state.hoveredSecondaryStructures.splice(0,t),n.state.hoveredSecondaryStructures.splice(t+1))})}},n.onRemoveSecondaryStructure=function(){return function(e){var t=n.state.selectedSecondaryStructures.findIndex(function(t){return t.label===e.label&&t.start===e.start&&t.end===e.end}),r=n.state.hoveredSecondaryStructures.findIndex(function(t){return t.label===e.label&&t.start===e.start&&t.end===e.end});n.setState({hoveredSecondaryStructures:a(n.state.hoveredSecondaryStructures.splice(0,r),n.state.hoveredSecondaryStructures.splice(r+1)),selectedSecondaryStructures:a(n.state.selectedSecondaryStructures.splice(0,t),n.state.selectedSecondaryStructures.splice(t+1))})}},n.state={addHoveredSecondaryStructure:n.onAddHoveredSecondaryStructure(),addSelectedSecondaryStructure:n.onAddSelectedSecondaryStructure(),clearAllSecondaryStructures:n.onClearSecondaryStructure(),hoveredSecondaryStructures:new Array,removeHoveredSecondaryStructure:n.onRemoveHoveredSecondaryStructure(),removeSecondaryStructure:n.onRemoveSecondaryStructure(),selectedSecondaryStructures:new Array},n}return r(n,e),n.prototype.render=function(){return s.createElement(t.SecondaryStructureContextRead.Provider,{value:this.state},s.createElement(t.SecondaryStructureContextWrite.Provider,{value:this.state},s.createElement(t.SecondaryStructureContext.Provider,{value:this.state},this.props.children)))},n}(s.Component);t.SecondaryStructureContextProvider=c,t.withSecondaryStructureContext=function(e){var n;return(n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return r(i,n),i.prototype.render=function(){var n=this;return s.createElement(t.SecondaryStructureContextConsumer,null,function(t){return s.createElement(e,o({secondaryStructureContext:t},n.props))})},i}(s.Component)).WrappedComponent=e,n}},"./src/context/SpringContext.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/react/index.js"),u=n("./src/helper/index.ts");t.initialSpringContext={addCategory:function(e){},coordinates:[],removeCategory:function(e){},selectedCategories:[],toggleCategory:function(e){}},t.SpringContext=l.createContext(t.initialSpringContext);var d=function(e){function n(n){var r=e.call(this,n)||this;return r.onAddCategory=function(){return function(e){var t=r.state.selectedCategories;t.includes(e)||r.setState({selectedCategories:c(t,[e])})}},r.onRemoveCategory=function(){return function(e){var t=r.state.selectedCategories,n=t.indexOf(e);n>=0&&r.setState({selectedCategories:c(t.slice(0,n),t.slice(n+1))})}},r.onToggleCategory=function(){return function(e){var t=r.state.selectedCategories,n=t.indexOf(e);n>=0?r.setState({selectedCategories:c(t.slice(0,n),t.slice(n+1))}):r.setState({selectedCategories:c(t,[e])})}},r.state=o({},t.initialSpringContext,{addCategory:r.onAddCategory(),removeCategory:r.onRemoveCategory(),toggleCategory:r.onToggleCategory()}),r}return r(n,e),n.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,u.fetchSpringCoordinateData("assets/datasets/hpc/full/coordinates.txt")];case 1:return e=t.sent(),this.setState({coordinates:e}),[2]}})})},n.prototype.render=function(){return l.createElement(t.SpringContext.Provider,{value:this.state},this.props.children)},n}(l.Component);t.SpringContextProvider=d},"./src/context/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/context/CellContext.tsx")),r(n("./src/context/ChellContextProvider.tsx")),r(n("./src/context/CouplingContext.tsx")),r(n("./src/context/GenericContextProvider.tsx")),r(n("./src/context/ResidueContext.tsx")),r(n("./src/context/SecondaryStructureContext.tsx")),r(n("./src/context/SpringContext.tsx"))},"./src/data/AminoAcid.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={fullName:"Alanine",singleLetterCode:"A",threeLetterCode:"ALA"},o={fullName:"Arginine",singleLetterCode:"R",threeLetterCode:"ARG"},i={fullName:"Asparagine",singleLetterCode:"N",threeLetterCode:"ASN"},a={fullName:"Aspartic Acid",singleLetterCode:"D",threeLetterCode:"ASP"},s={fullName:"Cysteine",singleLetterCode:"C",threeLetterCode:"CYS"},c={fullName:"Glutamine",singleLetterCode:"Q",threeLetterCode:"GLN"},l={fullName:"Glutamic Acid",singleLetterCode:"E",threeLetterCode:"GLU"},u={fullName:"Glycine",singleLetterCode:"G",threeLetterCode:"GLY"},d={fullName:"Histidine",singleLetterCode:"H",threeLetterCode:"HIS"},p={fullName:"Isoleucine",singleLetterCode:"I",threeLetterCode:"ILE"},f={fullName:"Leucine",singleLetterCode:"L",threeLetterCode:"LEU"},h={fullName:"Lysine",singleLetterCode:"K",threeLetterCode:"LYS"},m={fullName:"Methionine",singleLetterCode:"M",threeLetterCode:"MET"},y={fullName:"Phenylalanine",singleLetterCode:"F",threeLetterCode:"PHE"},v={fullName:"Proline",singleLetterCode:"P",threeLetterCode:"PRO"},g={fullName:"Serine",singleLetterCode:"S",threeLetterCode:"SER"},C={fullName:"Threonine",singleLetterCode:"T",threeLetterCode:"THR"},_={fullName:"Tryptophan",singleLetterCode:"W",threeLetterCode:"TRP"},x={fullName:"Tyrosine",singleLetterCode:"Y",threeLetterCode:"TYR"},b={fullName:"Valine",singleLetterCode:"V",threeLetterCode:"VAL"};t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE={A:r,R:o,N:i,D:a,C:s,Q:c,E:l,G:u,H:d,I:p,L:f,K:h,M:m,F:y,P:v,S:g,T:C,W:_,Y:x,V:b},t.AMINO_ACIDS_BY_THREE_LETTER_CODE={ALA:r,ARG:o,ASN:i,ASP:a,CYS:s,GLN:c,GLU:l,GLY:u,HIS:d,ILE:p,LEU:f,LYS:h,MET:m,PHE:y,PRO:v,SER:g,THR:C,TRP:_,TYR:x,VAL:b},t.AMINO_ACIDS=[r,o,i,a,s,c,l,u,d,p,f,h,m,y,v,g,C,_,x,b],t.getPDBAndCouplingMismatch=function(e,n){var r=e.sequence,o=n.sequence,i=t.getSequenceMismatch(r,o);return 0===i.length?e.getResidueNumberingMismatches(n):i},t.getSequenceMismatch=function(e,n){var r=new Array;if(e.length===n.length)for(var o=0;o<e.length;++o){var i=e[o],a=n[o];i!==a&&r.push({firstAminoAcid:t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[i],resno:o,secondAminoAcid:t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[a]})}return r}},"./src/data/Chell1DSection.ts":function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){void 0===n&&(n=t),this.label=e,this.sectionEnd=0,this.sectionStart=0,this.sectionEnd=Math.max(n,t),this.sectionStart=Math.min(t,n)}return Object.defineProperty(e.prototype,"end",{get:function(){return this.sectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.sectionEnd-this.sectionStart+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.sectionStart},enumerable:!0,configurable:!0}),e.prototype.contains=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var i=r(n),a=i.next();!a.done;a=i.next()){var s=a.value;if(s<this.sectionStart||s>this.sectionEnd||void 0===s)return!1}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return!0},e.prototype.updateStart=function(e){e>this.sectionEnd?(this.sectionStart=this.sectionEnd,this.sectionEnd=e):this.sectionStart=e},e.prototype.updateEnd=function(e){e<this.sectionStart?(this.sectionEnd=this.sectionStart,this.sectionStart=e):this.sectionEnd=e},e}();t.Chell1DSection=o},"./src/data/ChellConfig.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BUTTON="BUTTON",e.LABEL="LABEL",e.RADIO="RADIO",e.SLIDER="SLIDER"}(t.CONFIGURATION_COMPONENT_TYPE||(t.CONFIGURATION_COMPONENT_TYPE={}))},"./src/data/ChellData.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CONTACT_MAP="Contact Map",e.INFO_PANEL="Info Panel",e.NGL="NGL",e.SPRING="Spring",e["TENSOR-T-SNE"]="TENSOR-T-SNE",e["T-SNE"]="T-SNE",e["T-SNE-FRAME"]="T-SNE-FRAME"}(t.VIZ_TYPE||(t.VIZ_TYPE={})),function(e){e.CLOSEST="CLOSEST",e.C_ALPHA="C-α"}(t.CONTACT_DISTANCE_PROXIMITY||(t.CONTACT_DISTANCE_PROXIMITY={})),function(e){e.G="310_HELIX",e.H="ALPHA_HELIX",e.I="PI_HELIX",e.T="HYDROGEN_BONDED_TURN",e.E="BETA_SHEET",e.B="BETA_BRIDGE",e.S="BEND",e.C="COIL"}(t.SECONDARY_STRUCTURE_CODES||(t.SECONDARY_STRUCTURE_CODES={})),function(e){e[e.AFTER_PLOT=0]="AFTER_PLOT",e[e.CLICK=1]="CLICK",e[e.DOUBLE_CLICK=2]="DOUBLE_CLICK",e[e.HOVER=3]="HOVER",e[e.RELAYOUT=4]="RELAYOUT",e[e.SELECTION=5]="SELECTION",e[e.UNHOVER=6]="UNHOVER"}(t.CHELL_CHART_EVENT_TYPE||(t.CHELL_CHART_EVENT_TYPE={})),function(e){e[e.AXIS=0]="AXIS",e[e.POINT=1]="POINT"}(t.CHELL_CHART_PIECE||(t.CHELL_CHART_PIECE={}))},"./src/data/ChellPDB.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/ngl/dist/ngl.esm.js"),a=n("./src/data/index.ts"),s=function(){function e(){this.fileName="",this.nglData=new i.Structure}return e.createEmptyPDB=function(){return new e},e.createPDB=function(t){return void 0===t&&(t=""),r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return n=new e,r=n,[4,i.autoLoad(t)];case 1:return r.nglData=o.sent(),n.fileName="string"==typeof t?t:t.name,[2,n]}})})},e.createPDBFromNGLData=function(t){var n=new e;return n.nglData=t,n},Object.defineProperty(e.prototype,"contactInformation",{get:function(){var e=this;if(!this.contactInfo){var t=new a.CouplingContainer;this.nglData.eachResidue(function(n){if(n.isProtein()){var r=n.resno;e.nglData.eachResidue(function(n){var o=n.resno;n.isProtein()&&r!==o&&t.addCouplingScore({dist:e.getMinDistBetweenResidues(r,o).dist,i:r,j:o})})}}),this.contactInfo=t}return this.contactInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nglStructure",{get:function(){return this.nglData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryStructure",{get:function(){var e=new Array;return this.nglData.eachResidue(function(t){if(t.isProtein()){var n="C";if(t.isSheet())n="E";else if(t.isHelix())n="H";else if(t.isTurn())return;e.push({resno:t.resno,structId:n})}}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryStructureSections",{get:function(){var e=new Array;return this.nglData.eachResidue(function(t){if(t.isProtein()){for(var n=t.chainIndex;!e[n];)e.push(new Array);var r="C";t.isSheet()?r="E":t.isHelix()&&(r="H"),e[n].length>=1&&e[n][e[n].length-1].label===r?e[n][e[n].length-1].updateEnd(t.resno):e[n].push(new a.Chell1DSection(r,t.resno))}}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var e=this.fileName.split("/"),t=e[e.length-1];return t.slice(0,t.lastIndexOf("."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequence",{get:function(){return this.nglData?this.nglData.getSequence().join(""):""},enumerable:!0,configurable:!0}),e.prototype.eachResidue=function(e){this.nglData.eachResidue(e)},e.prototype.amendPDBWithCouplingScores=function(t,n){var r=this,o=new a.CouplingContainer(t),i=this.nglData.atomMap.dict[e.NGL_C_ALPHA_INDEX],s={};return this.nglData.eachResidue(function(e){r.nglData.eachResidue(function(t){if(e.isProtein()&&t.isProtein())if(n===a.CONTACT_DISTANCE_PROXIMITY.C_ALPHA){var c=r.getCAlphaAtomIndexFromResidue(e.index,i),l=r.getCAlphaAtomIndexFromResidue(t.index,i);o.addCouplingScore({dist:r.nglData.getAtomProxy(c).distanceTo(r.nglData.getAtomProxy(l)),i:e.resno,j:t.resno})}else{var u=Math.min(e.resno,t.resno)+","+Math.max(e.resno,t.resno);s[u]||(s[u]=r.getMinDistBetweenResidueIndices(e.index,t.index).dist),o.addCouplingScore({dist:s[u],i:e.resno,j:t.resno})}})}),this.contactInfo=o,this.contactInfo},e.prototype.getCAlphaAtomIndexFromResidue=function(e,t){for(var n=this.nglData.residueStore,r=n.atomOffset[e],o=n.atomCount[e],i=r;n.residueTypeId[i]!==t&&i<r+o;)i++;return i},e.prototype.getMinDistBetweenResidues=function(e,t){return this.getMinDistBetweenResidueIndices(this.nglData.residueStore.resno.indexOf(e),this.nglData.residueStore.resno.indexOf(t))},e.prototype.getResidueNumberingMismatches=function(e){var t=new Array;return this.eachResidue(function(n){var r=n.resname.toUpperCase(),o=e.getAminoAcidOfContact(n.resno);o&&a.AMINO_ACIDS_BY_THREE_LETTER_CODE[r]!==a.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[o.singleLetterCode]&&t.push({firstAminoAcid:a.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[o.singleLetterCode],resno:n.resno,secondAminoAcid:a.AMINO_ACIDS_BY_THREE_LETTER_CODE[r]})}),t},e.prototype.getMinDistBetweenResidueIndices=function(e,t){for(var n=this.nglData.residueStore,r=n.atomCount[e],o=n.atomCount[t],i=n.atomOffset[e],a=n.atomOffset[t],s={atomIndexI:-1,atomIndexJ:-1,dist:Number.MAX_SAFE_INTEGER},c=0;c<r;++c)for(var l=0;l<o;++l){var u=i+c,d=a+l,p=this.nglData.getAtomProxy(u).distanceTo(this.nglData.getAtomProxy(d));p<s.dist&&(s={atomIndexI:u,atomIndexJ:d,dist:p})}return s},e.NGL_C_ALPHA_INDEX="CA|C",e}();t.ChellPDB=s},"./src/data/CouplingContainer.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/data/index.ts"),a=function(){function e(e){var t,n;void 0===e&&(e=[]);var r=this;this.contacts=new Array,this.totalStoredContacts=0,this.indexRange={max:50,min:1},this.rowCounter=0,this.colCounter=0,this.getCouplingScore=function(e,t){var n=r.contacts[Math.min(e,t)-1];return n?n[Math.max(e,t)-1]:void 0},this.includes=function(e,t){return r.contacts[Math.min(e,t)-1]&&void 0!==r.contacts[Math.min(e,t)-1][Math.max(e,t)-1]};try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var s=a.value;this.addCouplingScore(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}return Object.defineProperty(e.prototype,"allContacts",{get:function(){return this.contacts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chainLength",{get:function(){return this.indexRange.max-this.indexRange.min+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rankedContacts",{get:function(){return Array.from(this).sort(function(e,t){return e.cn&&t.cn?t.cn-e.cn:e.cn&&!t.cn?-1:!e.cn&&t.cn?1:0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"residueIndexRange",{get:function(){return this.indexRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequence",{get:function(){for(var e="",t=this.indexRange.min;t<=this.indexRange.max;++t){var n=this.getAminoAcidOfContact(t);n&&(e+=n.singleLetterCode)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalContacts",{get:function(){return this.totalStoredContacts},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){return this},e.prototype.addCouplingScore=function(e){var t=e.A_i,n=e.A_j,o=e.i,i=e.j,a=Math.min(o,i)-1,s=Math.max(o,i)-1,c=a+1===i;this.contacts[a]||(this.contacts[a]=new Array),this.contacts[a][s]||this.totalStoredContacts++,this.contacts[a][s]=r({},this.contacts[a][s],e),c&&(this.contacts[a][s].i=i,this.contacts[a][s].j=o,t&&n&&(this.contacts[a][s].A_i=n,this.contacts[a][s].A_j=t)),this.indexRange={max:Math.max(this.indexRange.max,s+1),min:Math.min(this.indexRange.min,a+1)}},e.prototype.getAminoAcidOfContact=function(e){var t,n,r,a;if(!(e>this.chainLength+1))try{for(var s=o(this.allContacts),c=s.next();!c.done;c=s.next()){var l=c.value;if(l)try{for(var u=o(l),d=u.next();!d.done;d=u.next()){var p=d.value;if(p&&p.i===e&&p.A_i)return i.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[p.A_i];if(p&&p.j===e&&p.A_j)return i.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[p.A_j]}}catch(e){r={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.getObservedContacts=function(e,t){var n,r;void 0===e&&(e=5),void 0===t&&(t=5);var i=new Array;try{for(var a=o(this),s=a.next();!s.done;s=a.next()){var c=s.value;c.dist&&c.dist<=e&&Math.abs(c.i-c.j)>=t&&i.push(c)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},e.prototype.getPredictedContacts=function(e,t,n){var r,i;void 0===t&&(t=5),void 0===n&&(n=5);var a={correct:new Array,predicted:new Array};try{for(var s=o(this.rankedContacts.filter(function(e){return Math.abs(e.i-e.j)>=t}).slice(0,e)),c=s.next();!c.done;c=s.next()){var l=c.value;l.dist&&l.dist<n&&a.correct.push(l),a.predicted.push(l)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a},e.prototype.next=function(){for(var e=this.rowCounter;e<this.contacts.length;++e)if(this.contacts[e]){for(var t=this.colCounter;t<this.contacts[e].length;++t){var n=this.contacts[e][t];if(n)return this.rowCounter=e,this.colCounter=t+1,{done:!1,value:n}}this.colCounter=0}return this.rowCounter=0,this.colCounter=0,{done:!0,value:null}},e.prototype.updateContact=function(e,t,n){this.addCouplingScore(r({i:e,j:t},n))},e}();t.CouplingContainer=a},"./src/data/PlotlyData.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.bar="bar",e.pointcloud="pointcloud",e.scatter="scatter",e.scattergl="scattergl",e.scatter3d="scatter3d"}(t.PLOTLY_CHART_TYPE||(t.PLOTLY_CHART_TYPE={}))},"./src/data/Protein.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DISEASE=0]="DISEASE",e[e.DOMAIN=1]="DOMAIN",e[e.FUNCTION=2]="FUNCTION",e[e.INTERACTION=3]="INTERACTION",e[e.MIM=4]="MIM",e[e.PTM=5]="PTM",e[e.SIMILARITY=6]="SIMILARITY",e[e.SUBCELLULAR_LOCATION=7]="SUBCELLULAR_LOCATION",e[e.SUBUNIT=8]="SUBUNIT",e[e.WEBRESOURCE=9]="WEBRESOURCE"}(t.PROTEIN_COMMENT_TYPE||(t.PROTEIN_COMMENT_TYPE={}))},"./src/data/TintedChell1DSection.ts":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r,o){void 0===r&&(r=n),void 0===o&&(o="orange");var i=e.call(this,t,n,r)||this;return i.label=t,i.sectionColor="orange",i.sectionColor=o,i}return r(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.sectionColor},enumerable:!0,configurable:!0}),t.prototype.updateColor=function(e){this.sectionColor=e},t}(n("./src/data/index.ts").Chell1DSection);t.TintedChell1DSection=o},"./src/data/event/ChellChartEvent.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data/index.ts"),o=function(){function e(e,t,n){void 0===n&&(n=[]),this.type=e,this.chartPiece=t,this.selectedPoints=n}return e.prototype.isAxis=function(){return this.chartPiece===r.CHELL_CHART_PIECE.AXIS},e}();t.ChellChartEvent=o},"./src/data/event/index.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./src/data/event/ChellChartEvent.ts"))},"./src/data/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/data/AminoAcid.ts")),r(n("./src/data/Chell1DSection.ts")),r(n("./src/data/ChellConfig.ts")),r(n("./src/data/ChellData.ts")),r(n("./src/data/ChellPDB.ts")),r(n("./src/data/CouplingContainer.ts")),r(n("./src/data/PlotlyData.ts")),r(n("./src/data/Protein.ts")),r(n("./src/data/TintedChell1DSection.ts")),r(n("./src/data/event/index.ts"))},"./src/helper/ColorMapper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){void 0===t&&(t=e.DEFAULT_COLORS),this.colors=t,this.colorMap=new Map}return e.prototype.getColorFor=function(e){return this.colorMap.has(e)||this.addColorToMapper(e),this.colorMap.get(e)},e.prototype.addEntry=function(e,t,n){void 0===n&&(n=!0),this.colorMap.has(e)||this.addColorToMapper(e,t,n)},e.prototype.addColorToMapper=function(e,t,n){this.colorMap.set(e,t||this.colors[this.colorMap.size%this.colors.length]),t&&n&&!this.colors.includes(t)&&this.colors.push(t)},e.DEFAULT_COLORS=["red","green","blue","orange","purple","teal","pink","yellow","violet","olive","brown"],e}();t.ColorMapper=r},"./src/helper/CouplingMapper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCouplingHeaderIndices=function(e,t){if(t){var n={};return e.filter(function(e){return e.length>=1}).map(function(t){n[t.trim()]=e.indexOf(t)}),n}return function(e){return{A_i:e.length-2,A_j:e.length-1,cn:2,dist:3,i:0,j:1}}(e)}},"./src/helper/DataHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},s=this;Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/ngl/dist/ngl.esm.js"),l=n("./src/data/index.ts"),u=n("./src/helper/index.ts");t.fetchAppropriateData=function(e,n){return o(s,void 0,void 0,function(){return i(this,function(r){switch(e){case l.VIZ_TYPE["T-SNE"]:case l.VIZ_TYPE["T-SNE-FRAME"]:return[2,t.fetchTSneCoordinateData(n)];case l.VIZ_TYPE["TENSOR-T-SNE"]:return[2,t.fetchTensorTSneCoordinateData(n)];case l.VIZ_TYPE.SPRING:return[2,d(n)];case l.VIZ_TYPE.NGL:return[2,t.fetchNGLDataFromDirectory(n)];case l.VIZ_TYPE.CONTACT_MAP:case l.VIZ_TYPE.INFO_PANEL:return[2,t.fetchContactMapData(n)];default:return[2,Promise.reject({error:"Currently no appropriate data getter for "+e})]}return[2]})})},t.fetchAppropriateDataFromFile=function(e,n){return o(s,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:switch(e){case l.VIZ_TYPE.NGL:return[3,1];case l.VIZ_TYPE.CONTACT_MAP:return[3,2]}return[3,4];case 1:return[2,t.fetchNGLDataFromFile(n)];case 2:return r={},o=t.getCouplingScoresData,[4,u.readFileAsText(n)];case 3:return[2,(r.couplingScores=o.apply(void 0,[i.sent()]),r)];case 4:return[2,Promise.reject({error:"Currently no appropriate data getter for "+e+" files"})]}})})};var d=function(e){return o(s,void 0,void 0,function(){var n,r,o,a;return i(this,function(i){switch(i.label){case 0:return[4,t.fetchSpringCoordinateData(e+"/coordinates.txt")];case 1:return n=i.sent(),[4,m(e+"/graph_data.json")];case 2:return r=i.sent(),[4,h(e+"/categorical_coloring_data.json")];case 3:return o=i.sent(),a=f(r,n,o),r.links=p(r.links,a),[2,r]}})})},p=function(e,t){return e.map(function(e){var n=t[e.source],r=t[e.target];return n&&r&&(e.source=n,e.target=r),e})},f=function(e,t,n){for(var r={},o=0;o<e.nodes.length;++o){var i=e.nodes[o];r[i.number]=i,i.number in t&&(i.fixed=!0,i.x=t[i.number][0],i.y=t[i.number][1]);var a=n.label_list[o];i.category=a,i.colorHex=n.label_colors[a]}return r},h=function(e){return o(s,void 0,void 0,function(){var t,n,r,o,s,c,l,d,p,f,h;return i(this,function(i){switch(i.label){case 0:return[4,u.fetchJSONFile(e)];case 1:if(r=i.sent(),o=Object.keys(r)[0],!(s=r[o]).label_colors||!s.label_list)throw new Error("Unable to parse color data - does it have keys named 'label_colors' and 'label_list'");c={label_colors:{},label_list:s.label_list},l=r[Object.keys(r)[0]].label_colors;try{for(d=a(Object.keys(l)),p=d.next();!p.done;p=d.next())f=p.value,"number"==typeof(h=l[f])?c.label_colors[f]=h:"#"===h.charAt(0)?c.label_colors[f]=Number.parseInt("0x"+h.slice(1),16):c.label_colors[f]=Number.parseInt(h,16)}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return[2,c]}})})};t.fetchSpringCoordinateData=function(e){return o(s,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return[4,u.fetchCSVFile(e)];case 1:return t=r.sent(),n=[],(t?t.split("\n"):[]).forEach(function(e,t,r){var o=e.split(",");if(o.length>=3){var i=parseFloat(o[1].trim()),a=parseFloat(o[2].trim()),s=parseInt(o[0].trim(),10);n[s]=[i,a]}else if(0!==e.localeCompare(""))throw new Error("Unable to parse coordinate data - Row "+t+" does not have at least 3 columns!")}),[2,n]}})})},t.fetchTSneCoordinateData=function(e){return o(s,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return[4,u.fetchCSVFile(e+"/tsne_output.csv")];case 1:return t=r.sent(),n=[],t.split("\n").forEach(function(e){if(e.length>0){var t=e.split(","),r=[parseFloat(t[0]),parseFloat(t[1])];n.push(r)}}),[2,n]}})})},t.fetchTensorTSneCoordinateDataFromFile=function(e){return o(s,void 0,void 0,function(){var t,n,r,o,s,c,l;return i(this,function(i){switch(i.label){case 0:return[4,u.fetchCSVFile(e)];case 1:r=i.sent(),o=new Array;try{for(s=a(r.split("\n")),c=s.next();!c.done;c=s.next())(l=c.value).length>=1&&o.push(l.split(",").map(parseFloat))}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return[2,o]}})})},t.fetchTensorTSneCoordinateData=function(e){return o(s,void 0,void 0,function(){return i(this,function(n){return[2,t.fetchTensorTSneCoordinateDataFromFile(e+"/tsne_matrix.csv")]})})};var m=function(e){return o(s,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,u.fetchJSONFile(e)];case 1:if(!(t=n.sent()).nodes||!t.links)throw new Error("Unable to parse graph data - does it have keys named 'nodes' and 'links'");return[2,t]}})})};t.fetchNGLDataFromDirectory=function(e){return o(s,void 0,void 0,function(){var n;return i(this,function(r){return 0===e.length?[2,Promise.reject("Empty path.")]:(n=e+"/protein.pdb",[2,t.fetchNGLDataFromFile(n)])})})},t.fetchNGLDataFromFile=function(e,t){return void 0===t&&(t={}),o(s,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,c.autoLoad(e,t)];case 1:return[2,n.sent()]}})})},t.fetchContactMapData=function(e){return o(s,void 0,void 0,function(){var n,r,a,s=this;return i(this,function(c){switch(c.label){case 0:return 0===e.length?[2,Promise.reject("Empty path.")]:(n=["coupling_scores.csv","residue_mapping.csv"],[4,Promise.all(n.map(function(t){return o(s,void 0,void 0,function(){return i(this,function(n){return[2,u.fetchCSVFile(e+"/"+t)]})})}))]);case 1:return r=c.sent(),[4,l.ChellPDB.createPDB(e+"/protein.pdb")];case 2:return a=c.sent(),[2,{couplingScores:t.getCouplingScoresData(r[0],u.generateResidueMapping(r[1])),pdbData:a,secondaryStructures:[]}]}})})},t.getCouplingScoresData=function(e,t){void 0===t&&(t=[]);var n=e.split("\n")[0].split(","),o=y(n),i=u.getCouplingHeaderIndices(n,o),a=new l.CouplingContainer;return e.split("\n").slice(o?1:0).filter(function(e){return e.split(",").length>=2}).map(function(e){var n=e.split(","),o=v(n,i);if(t.length>=1){var s=t.findIndex(function(e){return e.couplingsResno===o.i}),c=t.findIndex(function(e){return e.couplingsResno===o.j});a.addCouplingScore(r({},o,{A_i:t[s].pdbResCode,A_j:t[c].pdbResCode,i:t[s].pdbResno,j:t[c].pdbResno}))}else a.addCouplingScore(o)}),a};var y=function(e){return["cn","dist","i","j"].filter(function(t){return e.includes(t)}).length>=1},v=function(e,t){return Object.entries(t).reduce(function(t,n){var o,i=n[0],a=n[1];return r({},t,((o={})[i]=isNaN(Number(e[a]))?e[a]:Number(e[a]),o))},{i:-1,j:-1})};t.augmentCouplingScoresWithResidueMapping=function(e,t){var n,r;void 0===t&&(t=[]);var o=new l.CouplingContainer,i=function(e){var n=t.findIndex(function(t){return t.couplingsResno===e.i}),r=t.findIndex(function(t){return t.couplingsResno===e.j});o.addCouplingScore({A_i:t[n].pdbResCode,A_j:t[r].pdbResCode,cn:e.cn,dist:e.dist,i:t[n].pdbResno,j:t[r].pdbResno})};try{for(var s=a(e),c=s.next();!c.done;c=s.next()){i(c.value)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},t.getSecondaryStructureData=function(e){return e.split("\n").slice(1).filter(function(e){return e.split(",").length>=3}).map(function(e){var t=e.split(",");return{resno:parseFloat(t[1]),structId:t[2]}})}},"./src/helper/FetchHelper.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCSVFile=function(e){return r(i,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:if((t=n.sent()).ok)return[2,t.text()];throw new Error(a("CSV",t))}})})},t.fetchJSONFile=function(e){return r(i,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:if((t=n.sent()).ok)return[2,t.json()];throw new Error(a("JSON",t))}})})};var a=function(e,t){return"Chell-viz error fetching "+e+" File!\nStatus: "+t.status+"\nMessage: "+t.statusText+"\n"};t.readFileAsText=function(e){return r(i,void 0,void 0,function(){var t;return o(this,function(n){return t=new FileReader,[2,new Promise(function(n,r){t.onerror=function(){t.abort(),r("Problem parsing input file.")},t.onload=function(){n(t.result)},t.readAsText(e)})]})})}},"./src/helper/MorpheusHelper.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0}),t.getMorpheusInstance=function(){return r(i,void 0,void 0,function(){var e,t;return o(this,function(r){switch(r.label){case 0:return window.$?[3,2]:[4,Promise.resolve().then(function(){return n("./node_modules/jquery/dist/jquery.js")})];case 1:e=r.sent(),window.$=e,r.label=2;case 2:return window._?[3,4]:[4,Promise.resolve().then(function(){return n("./node_modules/lodash/lodash.js")})];case 3:t=r.sent(),window._=t,r.label=4;case 4:return[4,Promise.resolve().then(function(){return n("./node_modules/morpheus-app/js/morpheus-esm-latest.min.js")})];case 5:return[2,r.sent().default]}})})}},"./src/helper/NGLHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRepParams={color:"red",labelBackground:!0,labelBackgroundColor:"lightgrey",labelBackgroundMargin:.75,labelBorder:!0,labelBorderColor:"white",labelBorderWidth:.3,labelColor:"black",labelSize:5,labelUnit:"angstrom",labelZOffset:35},t.createDistanceRepresentation=function(e,n,o){return void 0===o&&(o={}),e.addRepresentation("distance",r({},t.defaultRepParams,o,{atomPair:Array.isArray(n)?[n]:[n.split(",")]}))},t.createBallStickRepresentation=function(e,t){return e.addRepresentation("ball+stick",{sele:t.join(", ")})},t.createSecStructRepresentation=function(e,t,n,r){void 0===n&&(n=2),void 0===r&&(r="#feb83f");var o=e.addRepresentation("cartoon",{color:r,radiusScale:n,sele:t.start+"-"+t.end});return o.setParameters({wireframe:!0}),o}},"./src/helper/PlotlyHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/data/index.ts");t.generateScatterGLData=function(e,n){return void 0===n&&(n=!1),r({},t.generateScatterData(e,n),{type:a.PLOTLY_CHART_TYPE.scattergl})},t.generateScatterData=function(e,t){void 0===t&&(t=!1);var n=e.marker,o=e.points,c=e.hoverinfo,l=e.subtitle,u=e.name,d=e.text,p=o.map(function(e){return e.i}),f=o.map(function(e){return e.j}),h=o.map(function(e){return e.dist?e.dist:-1}),m=d?Array.isArray(d)?d:[d]:[];return{hoverinfo:c||"x+y+z",marker:r({color:s(t,h,e),size:e.nodeSize},n),mode:"markers",name:u+" "+l,text:t?i(m,m.map(function(e){return"("+e.substr(1,e.length-2).split(", ").reverse().join(", ")+")"})):m,type:a.PLOTLY_CHART_TYPE.scatter,x:t?i(p,f):p,y:t?i(f,p):f,z:t?i(h,h):h}};var s=function(e,t,n){var r=e?2*t.length:t.length,o=new Array(r);if(n.marker&&"string"==typeof n.marker.color)return o.fill(n.marker.color);var a=t.map(function(e){return e.toString()});return e?i(a,a):a};t.generateFloat32ArrayFromContacts=function(e){var t=new Float32Array(2*e.length);return e.forEach(function(e,n){t[2*n]=e.i,t[2*n+1]=e.j}),t},t.generatePointCloudData=function(e,n){void 0===n&&(n=!1);var o=e.points,s=t.generateFloat32ArrayFromContacts(o);return{marker:r({},e.marker,{sizemax:2*e.nodeSize,sizemin:e.nodeSize}),mode:"markers",type:a.PLOTLY_CHART_TYPE.pointcloud,xy:n?new Float32Array(i(Array.from(s),Array.from(s).slice().reverse())):s}}},"./src/helper/ResidueMapper.ts":function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=["up_index","up_residue","pdb_index","pdb_residue"],i=["id","coord_id","one_letter_code"];t.generateResidueMapping=function(e){var t=/\t|,/,n=e.split("\n")[0].split(t),r=s(n),i=a(n,r),c=r?i.id:i.up_index,l=r?i.coord_id:i.pdb_index,u=r?i.one_letter_code:i.pdb_residue;return e.split("\n").slice(1).reduce(function(e,n){var a=n.split(t);return a.length>=o.length&&e.push({couplingsResCode:r?a[u]:a[i.up_residue],couplingsResno:parseInt(a[c],10),pdbResCode:a[u],pdbResno:parseInt(a[l],10)}),e},new Array)};var a=function(e,t){var n={},r=t?i:o;return e.length>=o.length&&r.map(function(t){if(!e.includes(t))throw new Error("Missing error "+t+" in residue mapping file!");n[t]=e.indexOf(t)}),n},s=function(e){var t,n;try{for(var o=r(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(!e.includes(s))return!1}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0}},"./src/helper/StringHelper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeFirstLetter=function(e){return""+e.substr(0,1).toLocaleUpperCase()+e.substr(1).toLocaleLowerCase()}},"./src/helper/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/helper/ColorMapper.ts")),r(n("./src/helper/CouplingMapper.ts")),r(n("./src/helper/DataHelper.ts")),r(n("./src/helper/FetchHelper.ts")),r(n("./src/helper/MorpheusHelper.ts")),r(n("./src/helper/NGLHelper.ts")),r(n("./src/helper/PlotlyHelper.ts")),r(n("./src/helper/ResidueMapper.ts")),r(n("./src/helper/StringHelper.ts"))},"./src/hoc/ContextConsumerComposer.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.components;return a(t,n)},t}(o.Component);t.ContextConsumerComposer=i;var a=function(e,t,n){if(void 0===n&&(n=[]),!t[0])return e(n);var r=t[0];return o.cloneElement(o.createElement(r,null,function(r){return a(e,t.slice(1),n.concat([r]))}),{displayName:r.displayName})}},"./src/hoc/SettingsPanelComposer.tsx":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./node_modules/semantic-ui-react/dist/es/index.js"),c=n("./src/component/index.ts");t.withSettingsPanel=function(e){var t;return(t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.render=function(){var t=this.props,n=t.configurations,r=t.isDataLoading,l=t.showConfigurations,u=i(t,["configurations","isDataLoading","showConfigurations"]);return a.createElement(s.Dimmer.Dimmable,{dimmed:!0},a.createElement(s.Dimmer,{active:r},a.createElement(s.Loader,null)),a.createElement(c.SettingsPanel,{configurations:n,showConfigurations:l,width:u.width},a.createElement(e,o({},u))))},n}(a.Component)).WrappedComponent=e,t}},"./src/hoc/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/hoc/ContextConsumerComposer.tsx")),r(n("./src/hoc/SettingsPanelComposer.tsx"))},"./src/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/component/index.ts")),r(n("./src/container/index.ts")),r(n("./src/context/index.ts")),r(n("./src/data/index.ts")),r(n("./src/helper/index.ts")),r(n("./src/hoc/index.ts")),r(n("./src/ChellVizApp.tsx"))},0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){}},[["./examples/example.tsx",6,0,1]]]);