(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/@babel/runtime/helpers/extends.js":function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},"./node_modules/@babel/runtime/helpers/get.js":function(e,t,n){n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js");var r=n("./node_modules/@babel/runtime/helpers/superPropBase.js");function a(t,n,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=a=Reflect.get:e.exports=a=function(e,t,n){var a=r(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(n):o.value}},a(t,n,o||t)}e.exports=a},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},"./node_modules/@babel/runtime/helpers/inherits.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},"./node_modules/@babel/runtime/helpers/objectSpread.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js");e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),a=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),o=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function(e,t){return r(e)||a(e,t)||o()}},"./node_modules/@babel/runtime/helpers/superPropBase.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js");e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),a=n("./node_modules/@babel/runtime/helpers/iterableToArray.js"),o=n("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return r(e)||a(e)||o()}},"./node_modules/@babel/runtime/helpers/typeof.js":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},"./node_modules/@semantic-ui-react/event-stack/lib/cjs/event-stack.production.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/exenv/index.js");n("./node_modules/prop-types/index.js");var a=n("./node_modules/react/index.js");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var d=function(){function e(t){o(this,e),l(this,"handlers",void 0),this.handlers=t.slice(0)}return s(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,a=0;a<r;a+=1)n.push(t[a]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var a=n;a>=0;a-=1)this.handlers[a].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,a=0;a<r;a+=1){var o=this.handlers[a];-1===t.indexOf(o)&&n.push(o)}return new e(n)}}]),e}();function h(e){var t=new Map;return e.forEach(function(e,n){t.set(n,e)}),t}function p(e){return Array.isArray(e)?e:[e]}function m(e){return"document"===e?document:"window"===e?window:e||document}var v=function(){function e(t,n){o(this,e),l(this,"handlerSets",void 0),l(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return s(e,[{key:"addHandlers",value:function(t,n){var r=h(this.handlerSets);if(r.has(t)){var a=r.get(t);r.set(t,a.addHandlers(n))}else r.set(t,new d(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(){return this.handlerSets.size>0}},{key:"removeHandlers",value:function(t,n){var r=h(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var a=r.get(t).removeHandlers(n);return a.hasHandlers()?r.set(t,a):r.delete(t),new e(this.poolName,r)}}]),e}();l(v,"createByType",function(e,t,n){var r=new Map;return r.set(t,new d(n)),new v(e,r)});var g=function(){function e(t){o(this,e),l(this,"handlers",new Map),l(this,"pools",new Map),l(this,"target",void 0),l(this,"createEmitter",function(e,t){return function(n){t.forEach(function(t){t.dispatchEvent(e,n)})}}),this.target=t}return s(e,[{key:"addHandlers",value:function(e,t,n){if(this.removeTargetHandler(t),this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,v.createByType(e,t,n));this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e),this.removeTargetHandler(t),this.pools.size>0&&this.addTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e,this.pools);this.handlers.set(e,t),this.target.addEventListener(e,t)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e)),this.handlers.delete(e))}}]),e}(),y=new(function(){function e(){var t=this;o(this,e),l(this,"targets",new Map),l(this,"getTarget",function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=m(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var a=new g(r);return t.targets.set(r,a),a}),l(this,"removeTarget",function(e){t.targets.delete(m(e))})}return s(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var a=n.target,o=void 0===a?document:a,i=n.pool,s=void 0===i?"default":i;this.getTarget(o).addHandlers(s,e,p(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var a=n.target,o=void 0===a?document:a,i=n.pool,s=void 0===i?"default":i,l=this.getTarget(o,!1);l&&(l.removeHandlers(s,e,p(t)),l.hasHandlers()||this.removeTarget(o))}}}]),e}()),b=function(e){function t(){return o(this,t),f(this,c(t).apply(this,arguments))}return u(t,a.PureComponent),s(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,a=e.target;y.sub(t,n,{pool:r,target:a})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,a=e.target;y.unsub(t,n,{pool:r,target:a})}},{key:"render",value:function(){return null}}]),t}();l(b,"defaultProps",{pool:"default",target:"document"}),b.propTypes={},t.instance=y,t.default=b},"./node_modules/@semantic-ui-react/event-stack/lib/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/@semantic-ui-react/event-stack/lib/cjs/event-stack.production.js")},"./node_modules/classnames/index.js":function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./node_modules/deep-equal/index.js":function(e,t,n){var r=Array.prototype.slice,a=n("./node_modules/deep-equal/lib/keys.js"),o=n("./node_modules/deep-equal/lib/is_arguments.js"),i=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var u,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),i(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var f=a(e),d=a(t)}catch(e){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),u=f.length-1;u>=0;u--)if(f[u]!=d[u])return!1;for(u=f.length-1;u>=0;u--)if(c=f[u],!i(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null===e||void 0===e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},"./node_modules/deep-equal/lib/is_arguments.js":function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:a).supported=r,t.unsupported=a},"./node_modules/deep-equal/lib/keys.js":function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},"./node_modules/exenv/index.js":function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var a=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:a,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},"./node_modules/immutable/dist/immutable.js":function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return i(e)?e:G(e)}function r(e){return s(e)?e:X(e)}function a(e){return l(e)?e:Y(e)}function o(e){return i(e)&&!u(e)?e:K(e)}function i(e){return!(!e||!e[f])}function s(e){return!(!e||!e[d])}function l(e){return!(!e||!e[h])}function u(e){return s(e)||l(e)}function c(e){return!(!e||!e[p])}t(r,n),t(a,n),t(o,n),n.isIterable=i,n.isKeyed=s,n.isIndexed=l,n.isAssociative=u,n.isOrdered=c,n.Keyed=r,n.Indexed=a,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",m=5,v=1<<m,g=v-1,y={},b={value:!1},_={value:!1};function x(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function k(){}function A(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),a=0;a<n;a++)r[a]=e[a+t];return r}function T(e){return void 0===e.size&&(e.size=e.__iterate(E)),e.size}function M(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?T(e)+t:t}function E(){return!0}function C(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function S(e,t){return O(e,t,0)}function j(e,t){return O(e,t,t)}function O(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P=0,N=1,I=2,L="function"==typeof Symbol&&Symbol.iterator,D="@@iterator",R=L||D;function z(e){this.next=e}function F(e,t,n,r){var a=0===e?t:1===e?n:[t,n];return r?r.value=a:r={value:a,done:!1},r}function B(){return{value:void 0,done:!0}}function U(e){return!!V(e)}function H(e){return e&&"function"==typeof e.next}function q(e){var t=V(e);return t&&t.call(e)}function V(e){var t=e&&(L&&e[L]||e[D]);if("function"==typeof t)return t}function W(e){return e&&"number"==typeof e.length}function G(e){return null===e||void 0===e?oe():i(e)?e.toSeq():function(e){var t=le(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function X(e){return null===e||void 0===e?oe().toKeyedSeq():i(e)?s(e)?e.toSeq():e.fromEntrySeq():ie(e)}function Y(e){return null===e||void 0===e?oe():i(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function K(e){return(null===e||void 0===e?oe():i(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=P,z.VALUES=N,z.ENTRIES=I,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[R]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},G.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(X,G),X.prototype.toKeyedSeq=function(){return this},t(Y,G),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},Y.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t(K,G),K.of=function(){return K(arguments)},K.prototype.toSetSeq=function(){return this},G.isSeq=ae,G.Keyed=X,G.Set=K,G.Indexed=Y;var Z,J,Q,$="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function ae(e){return!(!e||!e[$])}function oe(){return Z||(Z=new ee([]))}function ie(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():H(e)?new re(e).fromEntrySeq():U(e)?new ne(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){return W(e)?new ee(e):H(e)?new re(e):U(e)?new ne(e):void 0}function ue(e,t,n,r){var a=e._cache;if(a){for(var o=a.length-1,i=0;i<=o;i++){var s=a[n?o-i:i];if(!1===t(s[1],r?s[0]:i,e))return i+1}return i}return e.__iterateUncached(t,n)}function ce(e,t,n,r){var a=e._cache;if(a){var o=a.length-1,i=0;return new z(function(){var e=a[n?o-i:i];return i++>o?{value:void 0,done:!0}:F(t,r?e[0]:i-1,e[1])})}return e.__iteratorUncached(t,n)}function fe(e,t){return t?function e(t,n,r,a){return Array.isArray(n)?t.call(a,r,Y(n).map(function(r,a){return e(t,r,a,n)})):he(n)?t.call(a,r,X(n).map(function(r,a){return e(t,r,a,n)})):n}(t,e,"",{"":e}):de(e)}function de(e){return Array.isArray(e)?Y(e).map(de).toList():he(e)?X(e).map(de).toMap():e}function he(e){return e&&(e.constructor===Object||void 0===e.constructor)}function pe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function me(e,t){if(e===t)return!0;if(!i(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(c(e)){var r=e.entries();return t.every(function(e,t){var a=r.next().value;return a&&pe(a[1],e)&&(n||pe(a[0],t))})&&r.next().done}var a=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{a=!0;var o=e;e=t,t=o}var f=!0,d=t.__iterate(function(t,r){if(n?!e.has(t):a?!pe(t,e.get(r,y)):!pe(e.get(r,y),t))return f=!1,!1});return f&&e.size===d}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(J)return J;J=this}}function ge(e,t){if(!e)throw new Error(t)}function ye(e,t,n){if(!(this instanceof ye))return new ye(e,t,n);if(ge(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Q)return Q;Q=this}}function be(){throw TypeError("Abstract")}function _e(){}function xe(){}function we(){}G.prototype[$]=!0,t(ee,Y),ee.prototype.get=function(e,t){return this.has(e)?this._array[M(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,a=0;a<=r;a++)if(!1===e(n[t?r-a:a],a,this))return a+1;return a},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,a=0;return new z(function(){return a>r?{value:void 0,done:!0}:F(e,a,n[t?r-a++:a++])})},t(te,X),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,a=r.length-1,o=0;o<=a;o++){var i=r[t?a-o:o];if(!1===e(n[i],i,this))return o+1}return o},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,a=r.length-1,o=0;return new z(function(){var i=r[t?a-o:o];return o++>a?{value:void 0,done:!0}:F(e,i,n[i])})},te.prototype[p]=!0,t(ne,Y),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=q(n),a=0;if(H(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,a++,this););return a},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=q(n);if(!H(r))return new z(B);var a=0;return new z(function(){var t=r.next();return t.done?t:F(e,a++,t.value)})},t(re,Y),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,a=this._iteratorCache,o=0;o<a.length;)if(!1===e(a[o],o++,this))return o;for(;!(n=r.next()).done;){var i=n.value;if(a[o]=i,!1===e(i,o++,this))break}return o},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,a=0;return new z(function(){if(a>=r.length){var t=n.next();if(t.done)return t;r[a]=t.value}return F(e,a,r[a++])})},t(ve,Y),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return pe(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return C(e,t,n)?this:new ve(this._value,j(t,n)-S(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return pe(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return pe(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new z(function(){return r<n.size?F(e,r++,n._value):{value:void 0,done:!0}})},ve.prototype.equals=function(e){return e instanceof ve?pe(this._value,e._value):me(e)},t(ye,Y),ye.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ye.prototype.get=function(e,t){return this.has(e)?this._start+M(this,e)*this._step:t},ye.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ye.prototype.slice=function(e,t){return C(e,t,this.size)?this:(e=S(e,this.size),(t=j(t,this.size))<=e?new ye(0,0):new ye(this.get(e,this._end),this.get(t,this._end),this._step))},ye.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ye.prototype.lastIndexOf=function(e){return this.indexOf(e)},ye.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,a=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(a,o,this))return o+1;a+=t?-r:r}return o},ye.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,a=t?this._start+n*r:this._start,o=0;return new z(function(){var i=a;return a+=t?-r:r,o>n?{value:void 0,done:!0}:F(e,o++,i)})},ye.prototype.equals=function(e){return e instanceof ye?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},t(be,n),t(_e,be),t(xe,be),t(we,be),be.Keyed=_e,be.Indexed=xe,be.Set=we;var ke="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ae(e){return e>>>1&1073741824|3221225471&e}function Te(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ae(n)}if("string"===t)return e.length>Ne?function(e){var t=De[e];return void 0===t&&(t=Me(e),Le===Ie&&(Le=0,De={}),Le++,De[e]=t),t}(e):Me(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(je&&void 0!==(t=Ee.get(e)))return t;if(void 0!==(t=e[Pe]))return t;if(!Se){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Pe]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Oe,1073741824&Oe&&(Oe=0),je)Ee.set(e,t);else{if(void 0!==Ce&&!1===Ce(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Se)Object.defineProperty(e,Pe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Pe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Pe]=t}}return t}(e);if("function"==typeof e.toString)return Me(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Me(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ae(t)}var Ee,Ce=Object.isExtensible,Se=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),je="function"==typeof WeakMap;je&&(Ee=new WeakMap);var Oe=0,Pe="__immutablehash__";"function"==typeof Symbol&&(Pe=Symbol(Pe));var Ne=16,Ie=255,Le=0,De={};function Re(e){ge(e!==1/0,"Cannot perform this action with an infinite size.")}function ze(e){return null===e||void 0===e?Qe():Fe(e)&&!c(e)?e:Qe().withMutations(function(t){var n=r(e);Re(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Fe(e){return!(!e||!e[Ue])}t(ze,_e),ze.of=function(){var t=e.call(arguments,0);return Qe().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ze.prototype.toString=function(){return this.__toString("Map {","}")},ze.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},ze.prototype.set=function(e,t){return $e(this,e,t)},ze.prototype.setIn=function(e,t){return this.updateIn(e,y,function(){return t})},ze.prototype.remove=function(e){return $e(this,e,y)},ze.prototype.deleteIn=function(e){return this.updateIn(e,function(){return y})},ze.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},ze.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,a){var o=t===y,i=n.next();if(i.done){var s=o?r:t,l=a(s);return l===s?t:l}ge(o||t&&t.set,"invalid keyPath");var u=i.value,c=o?y:t.get(u,y),f=e(c,n,r,a);return f===c?t:f===y?t.remove(u):(o?Qe():t).set(u,f)}(this,nn(e),t,n);return r===y?void 0:r},ze.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qe()},ze.prototype.merge=function(){return rt(this,void 0,arguments)},ze.prototype.mergeWith=function(t){var n=e.call(arguments,1);return rt(this,t,n)},ze.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Qe(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},ze.prototype.mergeDeep=function(){return rt(this,at,arguments)},ze.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,ot(t),n)},ze.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Qe(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},ze.prototype.sort=function(e){return St(Wt(this,e))},ze.prototype.sortBy=function(e,t){return St(Wt(this,t,e))},ze.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},ze.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new k)},ze.prototype.asImmutable=function(){return this.__ensureOwner()},ze.prototype.wasAltered=function(){return this.__altered},ze.prototype.__iterator=function(e,t){return new Ye(this,e,t)},ze.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},ze.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Je(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},ze.isMap=Fe;var Be,Ue="@@__IMMUTABLE_MAP__@@",He=ze.prototype;function qe(e,t){this.ownerID=e,this.entries=t}function Ve(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function We(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Xe(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ye(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Ze(e._root)}function Ke(e,t){return F(e,t[0],t[1])}function Ze(e,t){return{node:e,index:0,__prev:t}}function Je(e,t,n,r){var a=Object.create(He);return a.size=e,a._root=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}function Qe(){return Be||(Be=Je(0))}function $e(e,t,n){var r,a;if(e._root){var o=x(b),i=x(_);if(r=et(e._root,e.__ownerID,0,void 0,t,n,o,i),!i.value)return e;a=e.size+(o.value?n===y?-1:1:0)}else{if(n===y)return e;a=1,r=new qe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=a,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Je(a,r):Qe()}function et(e,t,n,r,a,o,i,s){return e?e.update(t,n,r,a,o,i,s):o===y?e:(w(s),w(i),new Xe(t,r,[a,o]))}function tt(e){return e.constructor===Xe||e.constructor===Ge}function nt(e,t,n,r,a){if(e.keyHash===r)return new Ge(t,r,[e.entry,a]);var o,i=(0===n?e.keyHash:e.keyHash>>>n)&g,s=(0===n?r:r>>>n)&g,l=i===s?[nt(e,t,n+m,r,a)]:(o=new Xe(t,r,a),i<s?[e,o]:[o,e]);return new Ve(t,1<<i|1<<s,l)}function rt(e,t,n){for(var a=[],o=0;o<n.length;o++){var s=n[o],l=r(s);i(s)||(l=l.map(function(e){return fe(e)})),a.push(l)}return it(e,t,a)}function at(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):pe(e,t)?e:t}function ot(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var a=e(t,n,r);return pe(t,a)?t:a}}function it(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,y,function(e){return e===y?n:t(e,n,r)})}:function(t,n){e.set(n,t)},a=0;a<n.length;a++)n[a].forEach(r)}):e.constructor(n[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function lt(e,t,n,r){var a=r?e:A(e);return a[t]=n,a}He[Ue]=!0,He.delete=He.remove,He.removeIn=He.deleteIn,qe.prototype.get=function(e,t,n,r){for(var a=this.entries,o=0,i=a.length;o<i;o++)if(pe(n,a[o][0]))return a[o][1];return r},qe.prototype.update=function(e,t,n,r,a,o,i){for(var s=a===y,l=this.entries,u=0,c=l.length;u<c&&!pe(r,l[u][0]);u++);var f=u<c;if(f?l[u][1]===a:s)return this;if(w(i),(s||!f)&&w(o),!s||1!==l.length){if(!f&&!s&&l.length>=ut)return function(e,t,n,r){e||(e=new k);for(var a=new Xe(e,Te(n),[n,r]),o=0;o<t.length;o++){var i=t[o];a=a.update(e,0,void 0,i[0],i[1])}return a}(e,l,r,a);var d=e&&e===this.ownerID,h=d?l:A(l);return f?s?u===c-1?h.pop():h[u]=h.pop():h[u]=[r,a]:h.push([r,a]),d?(this.entries=h,this):new qe(e,h)}},Ve.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var a=1<<((0===e?t:t>>>e)&g),o=this.bitmap;return 0==(o&a)?r:this.nodes[st(o&a-1)].get(e+m,t,n,r)},Ve.prototype.update=function(e,t,n,r,a,o,i){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&g,l=1<<s,u=this.bitmap,c=0!=(u&l);if(!c&&a===y)return this;var f=st(u&l-1),d=this.nodes,h=c?d[f]:void 0,p=et(h,e,t+m,n,r,a,o,i);if(p===h)return this;if(!c&&p&&d.length>=ct)return function(e,t,n,r,a){for(var o=0,i=new Array(v),s=0;0!==n;s++,n>>>=1)i[s]=1&n?t[o++]:void 0;return i[r]=a,new We(e,o+1,i)}(e,d,u,s,p);if(c&&!p&&2===d.length&&tt(d[1^f]))return d[1^f];if(c&&p&&1===d.length&&tt(p))return p;var b=e&&e===this.ownerID,_=c?p?u:u^l:u|l,x=c?p?lt(d,f,p,b):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var a=new Array(r),o=0,i=0;i<r;i++)i===t&&(o=1),a[i]=e[i+o];return a}(d,f,b):function(e,t,n,r){var a=e.length+1;if(r&&t+1===a)return e[t]=n,e;for(var o=new Array(a),i=0,s=0;s<a;s++)s===t?(o[s]=n,i=-1):o[s]=e[s+i];return o}(d,f,p,b);return b?(this.bitmap=_,this.nodes=x,this):new Ve(e,_,x)},We.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var a=(0===e?t:t>>>e)&g,o=this.nodes[a];return o?o.get(e+m,t,n,r):r},We.prototype.update=function(e,t,n,r,a,o,i){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&g,l=a===y,u=this.nodes,c=u[s];if(l&&!c)return this;var f=et(c,e,t+m,n,r,a,o,i);if(f===c)return this;var d=this.count;if(c){if(!f&&--d<ft)return function(e,t,n,r){for(var a=0,o=0,i=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==r&&(a|=l,i[o++]=c)}return new Ve(e,a,i)}(e,u,d,s)}else d++;var h=e&&e===this.ownerID,p=lt(u,s,f,h);return h?(this.count=d,this.nodes=p,this):new We(e,d,p)},Ge.prototype.get=function(e,t,n,r){for(var a=this.entries,o=0,i=a.length;o<i;o++)if(pe(n,a[o][0]))return a[o][1];return r},Ge.prototype.update=function(e,t,n,r,a,o,i){void 0===n&&(n=Te(r));var s=a===y;if(n!==this.keyHash)return s?this:(w(i),w(o),nt(this,e,t,n,[r,a]));for(var l=this.entries,u=0,c=l.length;u<c&&!pe(r,l[u][0]);u++);var f=u<c;if(f?l[u][1]===a:s)return this;if(w(i),(s||!f)&&w(o),s&&2===c)return new Xe(e,this.keyHash,l[1^u]);var d=e&&e===this.ownerID,h=d?l:A(l);return f?s?u===c-1?h.pop():h[u]=h.pop():h[u]=[r,a]:h.push([r,a]),d?(this.entries=h,this):new Ge(e,this.keyHash,h)},Xe.prototype.get=function(e,t,n,r){return pe(n,this.entry[0])?this.entry[1]:r},Xe.prototype.update=function(e,t,n,r,a,o,i){var s=a===y,l=pe(r,this.entry[0]);return(l?a===this.entry[1]:s)?this:(w(i),s?void w(o):l?e&&e===this.ownerID?(this.entry[1]=a,this):new Xe(e,this.keyHash,[r,a]):(w(o),nt(this,e,t,Te(r),[r,a])))},qe.prototype.iterate=Ge.prototype.iterate=function(e,t){for(var n=this.entries,r=0,a=n.length-1;r<=a;r++)if(!1===e(n[t?a-r:r]))return!1},Ve.prototype.iterate=We.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,a=n.length-1;r<=a;r++){var o=n[t?a-r:r];if(o&&!1===o.iterate(e,t))return!1}},Xe.prototype.iterate=function(e,t){return e(this.entry)},t(Ye,z),Ye.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,a=t.index++;if(r.entry){if(0===a)return Ke(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,a<=n)return Ke(e,r.entries[this._reverse?n-a:a])}else if(n=r.nodes.length-1,a<=n){var o=r.nodes[this._reverse?n-a:a];if(o){if(o.entry)return Ke(e,o.entry);t=this._stack=Ze(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ut=v/4,ct=v/2,ft=v/4;function dt(e){var t=wt();if(null===e||void 0===e)return t;if(ht(e))return e;var n=a(e),r=n.size;return 0===r?t:(Re(r),r>0&&r<v?xt(0,r,m,null,new vt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function ht(e){return!(!e||!e[pt])}t(dt,xe),dt.of=function(){return this(arguments)},dt.prototype.toString=function(){return this.__toString("List [","]")},dt.prototype.get=function(e,t){if((e=M(this,e))>=0&&e<this.size){var n=Tt(this,e+=this._origin);return n&&n.array[e&g]}return t},dt.prototype.set=function(e,t){return function(e,t,n){if((t=M(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Mt(e,t).set(0,n):Mt(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,a=e._root,o=x(_);return t>=Ct(e._capacity)?r=kt(r,e.__ownerID,0,t,n,o):a=kt(a,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=a,e._tail=r,e.__hash=void 0,e.__altered=!0,e):xt(e._origin,e._capacity,e._level,a,r):e}(this,e,t)},dt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},dt.prototype.insert=function(e,t){return this.splice(e,0,t)},dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):wt()},dt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Mt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},dt.prototype.pop=function(){return Mt(this,0,-1)},dt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Mt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},dt.prototype.shift=function(){return Mt(this,1)},dt.prototype.merge=function(){return Et(this,void 0,arguments)},dt.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Et(this,t,n)},dt.prototype.mergeDeep=function(){return Et(this,at,arguments)},dt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Et(this,ot(t),n)},dt.prototype.setSize=function(e){return Mt(this,0,e)},dt.prototype.slice=function(e,t){var n=this.size;return C(e,t,n)?this:Mt(this,S(e,n),j(t,n))},dt.prototype.__iterator=function(e,t){var n=0,r=_t(this,t);return new z(function(){var t=r();return t===bt?{value:void 0,done:!0}:F(e,n++,t)})},dt.prototype.__iterate=function(e,t){for(var n,r=0,a=_t(this,t);(n=a())!==bt&&!1!==e(n,r++,this););return r},dt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},dt.isList=ht;var pt="@@__IMMUTABLE_LIST__@@",mt=dt.prototype;function vt(e,t){this.array=e,this.ownerID=t}mt[pt]=!0,mt.delete=mt.remove,mt.setIn=He.setIn,mt.deleteIn=mt.removeIn=He.removeIn,mt.update=He.update,mt.updateIn=He.updateIn,mt.mergeIn=He.mergeIn,mt.mergeDeepIn=He.mergeDeepIn,mt.withMutations=He.withMutations,mt.asMutable=He.asMutable,mt.asImmutable=He.asImmutable,mt.wasAltered=He.wasAltered,vt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&g;if(r>=this.array.length)return new vt([],e);var a,o=0===r;if(t>0){var i=this.array[r];if((a=i&&i.removeBefore(e,t-m,n))===i&&o)return this}if(o&&!a)return this;var s=At(this,e);if(!o)for(var l=0;l<r;l++)s.array[l]=void 0;return a&&(s.array[r]=a),s},vt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,a=n-1>>>t&g;if(a>=this.array.length)return this;if(t>0){var o=this.array[a];if((r=o&&o.removeAfter(e,t-m,n))===o&&a===this.array.length-1)return this}var i=At(this,e);return i.array.splice(a+1),r&&(i.array[a]=r),i};var gt,yt,bt={};function _t(e,t){var n=e._origin,r=e._capacity,a=Ct(r),o=e._tail;return i(e._root,e._level,0);function i(e,s,l){return 0===s?function(e,i){var s=i===a?o&&o.array:e&&e.array,l=i>n?0:n-i,u=r-i;return u>v&&(u=v),function(){if(l===u)return bt;var e=t?--u:l++;return s&&s[e]}}(e,l):function(e,a,o){var s,l=e&&e.array,u=o>n?0:n-o>>a,c=1+(r-o>>a);return c>v&&(c=v),function(){for(;;){if(s){var e=s();if(e!==bt)return e;s=null}if(u===c)return bt;var n=t?--c:u++;s=i(l&&l[n],a-m,o+(n<<a))}}}(e,s,l)}}function xt(e,t,n,r,a,o,i){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=a,s.__ownerID=o,s.__hash=i,s.__altered=!1,s}function wt(){return gt||(gt=xt(0,0,m))}function kt(e,t,n,r,a,o){var i,s=r>>>n&g,l=e&&s<e.array.length;if(!l&&void 0===a)return e;if(n>0){var u=e&&e.array[s],c=kt(u,t,n-m,r,a,o);return c===u?e:((i=At(e,t)).array[s]=c,i)}return l&&e.array[s]===a?e:(w(o),i=At(e,t),void 0===a&&s===i.array.length-1?i.array.pop():i.array[s]=a,i)}function At(e,t){return t&&e&&t===e.ownerID?e:new vt(e?e.array.slice():[],t)}function Tt(e,t){if(t>=Ct(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&g],r-=m;return n}}function Mt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new k,a=e._origin,o=e._capacity,i=a+t,s=void 0===n?o:n<0?o+n:a+n;if(i===a&&s===o)return e;if(i>=s)return e.clear();for(var l=e._level,u=e._root,c=0;i+c<0;)u=new vt(u&&u.array.length?[void 0,u]:[],r),c+=1<<(l+=m);c&&(i+=c,a+=c,s+=c,o+=c);for(var f=Ct(o),d=Ct(s);d>=1<<l+m;)u=new vt(u&&u.array.length?[u]:[],r),l+=m;var h=e._tail,p=d<f?Tt(e,s-1):d>f?new vt([],r):h;if(h&&d>f&&i<o&&h.array.length){for(var v=u=At(u,r),y=l;y>m;y-=m){var b=f>>>y&g;v=v.array[b]=At(v.array[b],r)}v.array[f>>>m&g]=h}if(s<o&&(p=p&&p.removeAfter(r,0,s)),i>=d)i-=d,s-=d,l=m,u=null,p=p&&p.removeBefore(r,0,i);else if(i>a||d<f){for(c=0;u;){var _=i>>>l&g;if(_!==d>>>l&g)break;_&&(c+=(1<<l)*_),l-=m,u=u.array[_]}u&&i>a&&(u=u.removeBefore(r,l,i-c)),u&&d<f&&(u=u.removeAfter(r,l,d-c)),c&&(i-=c,s-=c)}return e.__ownerID?(e.size=s-i,e._origin=i,e._capacity=s,e._level=l,e._root=u,e._tail=p,e.__hash=void 0,e.__altered=!0,e):xt(i,s,l,u,p)}function Et(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var l=n[s],u=a(l);u.size>o&&(o=u.size),i(l)||(u=u.map(function(e){return fe(e)})),r.push(u)}return o>e.size&&(e=e.setSize(o)),it(e,t,r)}function Ct(e){return e<v?0:e-1>>>m<<m}function St(e){return null===e||void 0===e?Pt():jt(e)?e:Pt().withMutations(function(t){var n=r(e);Re(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function jt(e){return Fe(e)&&c(e)}function Ot(e,t,n,r){var a=Object.create(St.prototype);return a.size=e?e.size:0,a._map=e,a._list=t,a.__ownerID=n,a.__hash=r,a}function Pt(){return yt||(yt=Ot(Qe(),wt()))}function Nt(e,t,n){var r,a,o=e._map,i=e._list,s=o.get(t),l=void 0!==s;if(n===y){if(!l)return e;i.size>=v&&i.size>=2*o.size?(a=i.filter(function(e,t){return void 0!==e&&s!==t}),r=a.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=a.__ownerID=e.__ownerID)):(r=o.remove(t),a=s===i.size-1?i.pop():i.set(s,void 0))}else if(l){if(n===i.get(s)[1])return e;r=o,a=i.set(s,[t,n])}else r=o.set(t,i.size),a=i.set(i.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=a,e.__hash=void 0,e):Ot(r,a)}function It(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Lt(e){this._iter=e,this.size=e.size}function Dt(e){this._iter=e,this.size=e.size}function Rt(e){this._iter=e,this.size=e.size}function zt(e){var t=$t(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===I){var r=e.__iterator(t,n);return new z(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===N?P:N,n)},t}function Ft(e,t,n){var r=$t(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,a){var o=e.get(r,y);return o===y?a:t.call(n,o,r,e)},r.__iterateUncached=function(r,a){var o=this;return e.__iterate(function(e,a,i){return!1!==r(t.call(n,e,a,i),a,o)},a)},r.__iteratorUncached=function(r,a){var o=e.__iterator(I,a);return new z(function(){var a=o.next();if(a.done)return a;var i=a.value,s=i[0];return F(r,s,t.call(n,i[1],s,e),a)})},r}function Bt(e,t){var n=$t(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=zt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Ut(e,t,n,r){var a=$t(e);return r&&(a.has=function(r){var a=e.get(r,y);return a!==y&&!!t.call(n,a,r,e)},a.get=function(r,a){var o=e.get(r,y);return o!==y&&t.call(n,o,r,e)?o:a}),a.__iterateUncached=function(a,o){var i=this,s=0;return e.__iterate(function(e,o,l){if(t.call(n,e,o,l))return s++,a(e,r?o:s-1,i)},o),s},a.__iteratorUncached=function(a,o){var i=e.__iterator(I,o),s=0;return new z(function(){for(;;){var o=i.next();if(o.done)return o;var l=o.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return F(a,r?u:s++,c,o)}})},a}function Ht(e,t,n,r){var a=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=a:n|=0),C(t,n,a))return e;var o=S(t,a),i=j(n,a);if(o!=o||i!=i)return Ht(e.toSeq().cacheResult(),t,n,r);var s,l=i-o;l==l&&(s=l<0?0:l);var u=$t(e);return u.size=0===s?s:e.size&&s||void 0,!r&&ae(e)&&s>=0&&(u.get=function(t,n){return(t=M(this,t))>=0&&t<s?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var a=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,l=!0,u=0;return e.__iterate(function(e,n){if(!l||!(l=i++<o))return u++,!1!==t(e,r?n:u-1,a)&&u!==s}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var a=0!==s&&e.__iterator(t,n),i=0,l=0;return new z(function(){for(;i++<o;)a.next();if(++l>s)return{value:void 0,done:!0};var e=a.next();return r||t===N?e:F(t,l-1,t===P?void 0:e.value[1],e)})},u}function qt(e,t,n,r){var a=$t(e);return a.__iterateUncached=function(a,o){var i=this;if(o)return this.cacheResult().__iterate(a,o);var s=!0,l=0;return e.__iterate(function(e,o,u){if(!s||!(s=t.call(n,e,o,u)))return l++,a(e,r?o:l-1,i)}),l},a.__iteratorUncached=function(a,o){var i=this;if(o)return this.cacheResult().__iterator(a,o);var s=e.__iterator(I,o),l=!0,u=0;return new z(function(){var e,o,c;do{if((e=s.next()).done)return r||a===N?e:F(a,u++,a===P?void 0:e.value[1],e);var f=e.value;o=f[0],c=f[1],l&&(l=t.call(n,c,o,i))}while(l);return a===I?e:F(a,o,c,e)})},a}function Vt(e,t,n){var r=$t(e);return r.__iterateUncached=function(r,a){var o=0,s=!1;return function e(l,u){var c=this;l.__iterate(function(a,l){return(!t||u<t)&&i(a)?e(a,u+1):!1===r(a,n?l:o++,c)&&(s=!0),!s},a)}(e,0),o},r.__iteratorUncached=function(r,a){var o=e.__iterator(r,a),s=[],l=0;return new z(function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(r===I&&(u=u[1]),t&&!(s.length<t)||!i(u))return n?e:F(r,l++,u,e);s.push(o),o=u.__iterator(r,a)}else o=s.pop()}return{value:void 0,done:!0}})},r}function Wt(e,t,n){t||(t=tn);var r=s(e),a=0,o=e.toSeq().map(function(t,r){return[r,t,a++,n?n(t,r,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?X(o):l(e)?Y(o):K(o)}function Gt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Xt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Xt(t,e,n)?n:e})}function Xt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!=n)||r>0}function Yt(e,t,r){var a=$t(e);return a.size=new ee(r).map(function(e){return e.size}).min(),a.__iterate=function(e,t){for(var n,r=this.__iterator(N,t),a=0;!(n=r.next()).done&&!1!==e(n.value,a++,this););return a},a.__iteratorUncached=function(e,a){var o=r.map(function(e){return e=n(e),q(a?e.reverse():e)}),i=0,s=!1;return new z(function(){var n;return s||(n=o.map(function(e){return e.next()}),s=n.some(function(e){return e.done})),s?{value:void 0,done:!0}:F(e,i++,t.apply(null,n.map(function(e){return e.value})))})},a}function Kt(e,t){return ae(e)?t:e.constructor(t)}function Zt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Jt(e){return Re(e.size),T(e)}function Qt(e){return s(e)?r:l(e)?a:o}function $t(e){return Object.create((s(e)?X:l(e)?Y:K).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=q(e);if(!t){if(!W(e))throw new TypeError("Expected iterable or array-like: "+e);t=q(n(e))}return t}function rn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var i=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ge(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(a,i),a.size=i.length,a._name=t,a._keys=i,a._defaultValues=e}this._map=ze(o)},a=r.prototype=Object.create(an);return a.constructor=r,r}t(St,ze),St.of=function(){return this(arguments)},St.prototype.toString=function(){return this.__toString("OrderedMap {","}")},St.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},St.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Pt()},St.prototype.set=function(e,t){return Nt(this,e,t)},St.prototype.remove=function(e){return Nt(this,e,y)},St.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},St.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},St.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},St.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ot(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},St.isOrderedMap=jt,St.prototype[p]=!0,St.prototype.delete=St.prototype.remove,t(It,X),It.prototype.get=function(e,t){return this._iter.get(e,t)},It.prototype.has=function(e){return this._iter.has(e)},It.prototype.valueSeq=function(){return this._iter.valueSeq()},It.prototype.reverse=function(){var e=this,t=Bt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},It.prototype.map=function(e,t){var n=this,r=Ft(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},It.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Jt(this):0,function(a){return e(a,t?--n:n++,r)}),t)},It.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(N,t),r=t?Jt(this):0;return new z(function(){var a=n.next();return a.done?a:F(e,t?--r:r++,a.value,a)})},It.prototype[p]=!0,t(Lt,Y),Lt.prototype.includes=function(e){return this._iter.includes(e)},Lt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},Lt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t),r=0;return new z(function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)})},t(Dt,K),Dt.prototype.has=function(e){return this._iter.includes(e)},Dt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Dt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t);return new z(function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)})},t(Rt,X),Rt.prototype.entrySeq=function(){return this._iter.toSeq()},Rt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Zt(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t);return new z(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Zt(r);var a=i(r);return F(e,a?r.get(0):r[0],a?r.get(1):r[1],t)}}})},Lt.prototype.cacheResult=It.prototype.cacheResult=Dt.prototype.cacheResult=Rt.prototype.cacheResult=en,t(rn,_e),rn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=on(this,Qe()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sn(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:on(this,r)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:on(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?on(this,t,e):(this.__ownerID=e,this._map=t,this)};var an=rn.prototype;function on(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function sn(e){return e._name||e.constructor.name||"Record"}function ln(e){return null===e||void 0===e?mn():un(e)&&!c(e)?e:mn().withMutations(function(t){var n=o(e);Re(n.size),n.forEach(function(e){return t.add(e)})})}function un(e){return!(!e||!e[fn])}an.delete=an.remove,an.deleteIn=an.removeIn=He.removeIn,an.merge=He.merge,an.mergeWith=He.mergeWith,an.mergeIn=He.mergeIn,an.mergeDeep=He.mergeDeep,an.mergeDeepWith=He.mergeDeepWith,an.mergeDeepIn=He.mergeDeepIn,an.setIn=He.setIn,an.update=He.update,an.updateIn=He.updateIn,an.withMutations=He.withMutations,an.asMutable=He.asMutable,an.asImmutable=He.asImmutable,t(ln,we),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("Set {","}")},ln.prototype.has=function(e){return this._map.has(e)},ln.prototype.add=function(e){return hn(this,this._map.set(e,!0))},ln.prototype.remove=function(e){return hn(this,this._map.remove(e))},ln.prototype.clear=function(){return hn(this,this._map.clear())},ln.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},ln.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},ln.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},ln.prototype.merge=function(){return this.union.apply(this,arguments)},ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},ln.prototype.sort=function(e){return vn(Wt(this,e))},ln.prototype.sortBy=function(e,t){return vn(Wt(this,t,e))},ln.prototype.wasAltered=function(){return this._map.wasAltered()},ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},ln.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},ln.isSet=un;var cn,fn="@@__IMMUTABLE_SET__@@",dn=ln.prototype;function hn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function pn(e,t){var n=Object.create(dn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mn(){return cn||(cn=pn(Qe()))}function vn(e){return null===e||void 0===e?xn():gn(e)?e:xn().withMutations(function(t){var n=o(e);Re(n.size),n.forEach(function(e){return t.add(e)})})}function gn(e){return un(e)&&c(e)}dn[fn]=!0,dn.delete=dn.remove,dn.mergeDeep=dn.merge,dn.mergeDeepWith=dn.mergeWith,dn.withMutations=He.withMutations,dn.asMutable=He.asMutable,dn.asImmutable=He.asImmutable,dn.__empty=mn,dn.__make=pn,t(vn,ln),vn.of=function(){return this(arguments)},vn.fromKeys=function(e){return this(r(e).keySeq())},vn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},vn.isOrderedSet=gn;var yn,bn=vn.prototype;function _n(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function xn(){return yn||(yn=_n(Pt()))}function wn(e){return null===e||void 0===e?Cn():kn(e)?e:Cn().unshiftAll(e)}function kn(e){return!(!e||!e[Tn])}bn[p]=!0,bn.__empty=xn,bn.__make=_n,t(wn,xe),wn.of=function(){return this(arguments)},wn.prototype.toString=function(){return this.__toString("Stack [","]")},wn.prototype.get=function(e,t){var n=this._head;for(e=M(this,e);n&&e--;)n=n.next;return n?n.value:t},wn.prototype.peek=function(){return this._head&&this._head.value},wn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):En(e,t)},wn.prototype.pushAll=function(e){if(0===(e=a(e)).size)return this;Re(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):En(t,n)},wn.prototype.pop=function(){return this.slice(1)},wn.prototype.unshift=function(){return this.push.apply(this,arguments)},wn.prototype.unshiftAll=function(e){return this.pushAll(e)},wn.prototype.shift=function(){return this.pop.apply(this,arguments)},wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Cn()},wn.prototype.slice=function(e,t){if(C(e,t,this.size))return this;var n=S(e,this.size),r=j(t,this.size);if(r!==this.size)return xe.prototype.slice.call(this,e,t);for(var a=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=a,this._head=o,this.__hash=void 0,this.__altered=!0,this):En(a,o)},wn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?En(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},wn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},wn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new z(function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return{value:void 0,done:!0}})},wn.isStack=kn;var An,Tn="@@__IMMUTABLE_STACK__@@",Mn=wn.prototype;function En(e,t,n,r){var a=Object.create(Mn);return a.size=e,a._head=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}function Cn(){return An||(An=En(0))}function Sn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Mn[Tn]=!0,Mn.withMutations=He.withMutations,Mn.asMutable=He.asMutable,Mn.asImmutable=He.asImmutable,Mn.wasAltered=He.wasAltered,n.Iterator=z,Sn(n,{toArray:function(){Re(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new Lt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new It(this,!0)},toMap:function(){return ze(this.toKeyedSeq())},toObject:function(){Re(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return St(this.toKeyedSeq())},toOrderedSet:function(){return vn(s(this)?this.valueSeq():this)},toSet:function(){return ln(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Dt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wn(s(this)?this.valueSeq():this)},toList:function(){return dt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Kt(this,function(e,t){var n=s(e),a=[e].concat(t).map(function(e){return i(e)?n&&(e=r(e)):e=n?ie(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===a.length)return e;if(1===a.length){var o=a[0];if(o===e||n&&s(o)||l(e)&&l(o))return o}var u=new ee(a);return n?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=a.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}(this,t))},includes:function(e){return this.some(function(t){return pe(t,e)})},entries:function(){return this.__iterator(I)},every:function(e,t){Re(this.size);var n=!0;return this.__iterate(function(r,a,o){if(!e.call(t,r,a,o))return n=!1,!1}),n},filter:function(e,t){return Kt(this,Ut(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Re(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Re(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(P)},map:function(e,t){return Kt(this,Ft(this,e,t))},reduce:function(e,t,n){var r,a;return Re(this.size),arguments.length<2?a=!0:r=t,this.__iterate(function(t,o,i){a?(a=!1,r=t):r=e.call(n,r,t,o,i)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Kt(this,Bt(this,!0))},slice:function(e,t){return Kt(this,Ht(this,e,t,!0))},some:function(e,t){return!this.every(In(e),t)},sort:function(e){return Kt(this,Wt(this,e))},values:function(){return this.__iterator(N)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return T(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=ze().asMutable();return e.__iterate(function(a,o){r.update(t.call(n,a,o,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Nn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(In(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,a,o){if(e.call(t,n,a,o))return r=[a,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(E)},flatMap:function(e,t){return Kt(this,function(e,t,n){var r=Qt(e);return e.toSeq().map(function(a,o){return r(t.call(n,a,o,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Kt(this,Vt(this,e,!0))},fromEntrySeq:function(){return new Rt(this)},get:function(e,t){return this.find(function(t,n){return pe(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,a=nn(e);!(n=a.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,y):y)===y)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),a=(c(e)?St():ze()).asMutable();e.__iterate(function(o,i){a.update(t.call(n,o,i,e),function(e){return(e=e||[]).push(r?[i,o]:o),e})});var o=Qt(e);return a.map(function(t){return Kt(e,o(t))})}(this,e,t)},has:function(e){return this.get(e,y)!==y},hasIn:function(e){return this.getIn(e,y)!==y},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return pe(t,e)})},keySeq:function(){return this.toSeq().map(Pn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Gt(this,e)},maxBy:function(e,t){return Gt(this,t,e)},min:function(e){return Gt(this,e?Ln(e):zn)},minBy:function(e,t){return Gt(this,t?Ln(t):zn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Kt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Kt(this,qt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(In(e),t)},sortBy:function(e,t){return Kt(this,Wt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Kt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Kt(this,function(e,t,n){var r=$t(e);return r.__iterateUncached=function(r,a){var o=this;if(a)return this.cacheResult().__iterate(r,a);var i=0;return e.__iterate(function(e,a,s){return t.call(n,e,a,s)&&++i&&r(e,a,o)}),i},r.__iteratorUncached=function(r,a){var o=this;if(a)return this.cacheResult().__iterator(r,a);var i=e.__iterator(I,a),s=!0;return new z(function(){if(!s)return{value:void 0,done:!0};var e=i.next();if(e.done)return e;var a=e.value,l=a[0],u=a[1];return t.call(n,u,l,o)?r===I?e:F(r,l,u,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(In(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=c(e),n=s(e),r=t?1:0;return function(e,t){return t=ke(t,3432918353),t=ke(t<<15|t>>>-15,461845907),t=ke(t<<13|t>>>-13,5),t=ke((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ae((t=ke(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Fn(Te(e),Te(t))|0}:function(e,t){r=r+Fn(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0}),r)}(this))}});var jn=n.prototype;jn[f]=!0,jn[R]=jn.values,jn.__toJS=jn.toArray,jn.__toStringMapper=Dn,jn.inspect=jn.toSource=function(){return this.toString()},jn.chain=jn.flatMap,jn.contains=jn.includes,Sn(r,{flip:function(){return Kt(this,zt(this))},mapEntries:function(e,t){var n=this,r=0;return Kt(this,this.toSeq().map(function(a,o){return e.call(t,[o,a],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Kt(this,this.toSeq().flip().map(function(r,a){return e.call(t,r,a,n)}).flip())}});var On=r.prototype;function Pn(e,t){return t}function Nn(e,t){return[t,e]}function In(e){return function(){return!e.apply(this,arguments)}}function Ln(e){return function(){return-e.apply(this,arguments)}}function Dn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Rn(){return A(arguments)}function zn(e,t){return e<t?1:e>t?-1:0}function Fn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return On[d]=!0,On[R]=jn.entries,On.__toJS=jn.toObject,On.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Dn(e)},Sn(a,{toKeyedSeq:function(){return new It(this,!1)},filter:function(e,t){return Kt(this,Ut(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Kt(this,Bt(this,!1))},slice:function(e,t){return Kt(this,Ht(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=S(e,e<0?this.count():this.size);var r=this.slice(0,e);return Kt(this,1===n?r:r.concat(A(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Kt(this,Vt(this,e,!1))},get:function(e,t){return(e=M(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=M(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Kt(this,function(e,t){var n=$t(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var a=this,o=0;return e.__iterate(function(e,r){return(!o||!1!==n(t,o++,a))&&!1!==n(e,o++,a)},r),o},n.__iteratorUncached=function(n,r){var a,o=e.__iterator(N,r),i=0;return new z(function(){return(!a||i%2)&&(a=o.next()).done?a:i%2?F(n,i++,t):F(n,i++,a.value,a)})},n}(this,e))},interleave:function(){var e=[this].concat(A(arguments)),t=Yt(this.toSeq(),Y.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Kt(this,n)},keySeq:function(){return ye(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Kt(this,qt(this,e,t,!1))},zip:function(){return Kt(this,Yt(this,Rn,[this].concat(A(arguments))))},zipWith:function(e){var t=A(arguments);return t[0]=this,Kt(this,Yt(this,e,t))}}),a.prototype[h]=!0,a.prototype[p]=!0,Sn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=jn.includes,o.prototype.contains=o.prototype.includes,Sn(X,r.prototype),Sn(Y,a.prototype),Sn(K,o.prototype),Sn(_e,r.prototype),Sn(xe,a.prototype),Sn(we,o.prototype),{Iterable:n,Seq:G,Collection:be,Map:ze,OrderedMap:St,List:dt,Stack:wn,Set:ln,OrderedSet:vn,Record:rn,Range:ye,Repeat:ve,is:pe,fromJS:fe}}()},"./node_modules/keyboard-key/src/keyboardKey.js":function(e,t,n){"use strict";for(var r=function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e},a={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},o=0;o<24;o+=1)a[112+o]="F"+(o+1);for(var i=0;i<26;i+=1){var s=i+65;a[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var l={codes:a,getCode:function(e){return r(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var t=r(e),n=a[t?e.keyCode||e.which:e];return Array.isArray(n)&&(n=t?n[e.shiftKey?1:0]:n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};l.Spacebar=l[" "],l.Digit0=l[0],l.Digit1=l[1],l.Digit2=l[2],l.Digit3=l[3],l.Digit4=l[4],l.Digit5=l[5],l.Digit6=l[6],l.Digit7=l[7],l.Digit8=l[8],l.Digit9=l[9],l.Tilde=l["~"],l.GraveAccent=l["`"],l.ExclamationPoint=l["!"],l.AtSign=l["@"],l.PoundSign=l["#"],l.PercentSign=l["%"],l.Caret=l["^"],l.Ampersand=l["&"],l.PlusSign=l["+"],l.MinusSign=l["-"],l.EqualsSign=l["="],l.DivisionSign=l["/"],l.MultiplicationSign=l["*"],l.Comma=l[","],l.Decimal=l["."],l.Colon=l[":"],l.Semicolon=l[";"],l.Pipe=l["|"],l.BackSlash=l["\\"],l.QuestionMark=l["?"],l.SingleQuote=l["'"],l.DoubleQuote=l['"'],l.LeftCurlyBrace=l["{"],l.RightCurlyBrace=l["}"],l.LeftParenthesis=l["("],l.RightParenthesis=l[")"],l.LeftAngleBracket=l["<"],l.RightAngleBracket=l[">"],l.LeftSquareBracket=l["["],l.RightSquareBracket=l["]"],e.exports=l},"./node_modules/lodash/_DataView.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"DataView");e.exports=r},"./node_modules/lodash/_Hash.js":function(e,t,n){var r=n("./node_modules/lodash/_hashClear.js"),a=n("./node_modules/lodash/_hashDelete.js"),o=n("./node_modules/lodash/_hashGet.js"),i=n("./node_modules/lodash/_hashHas.js"),s=n("./node_modules/lodash/_hashSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},"./node_modules/lodash/_LazyWrapper.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),a=n("./node_modules/lodash/_baseLodash.js"),o=4294967295;function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}i.prototype=r(a.prototype),i.prototype.constructor=i,e.exports=i},"./node_modules/lodash/_ListCache.js":function(e,t,n){var r=n("./node_modules/lodash/_listCacheClear.js"),a=n("./node_modules/lodash/_listCacheDelete.js"),o=n("./node_modules/lodash/_listCacheGet.js"),i=n("./node_modules/lodash/_listCacheHas.js"),s=n("./node_modules/lodash/_listCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},"./node_modules/lodash/_LodashWrapper.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),a=n("./node_modules/lodash/_baseLodash.js");function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(a.prototype),o.prototype.constructor=o,e.exports=o},"./node_modules/lodash/_Map.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Map");e.exports=r},"./node_modules/lodash/_MapCache.js":function(e,t,n){var r=n("./node_modules/lodash/_mapCacheClear.js"),a=n("./node_modules/lodash/_mapCacheDelete.js"),o=n("./node_modules/lodash/_mapCacheGet.js"),i=n("./node_modules/lodash/_mapCacheHas.js"),s=n("./node_modules/lodash/_mapCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},"./node_modules/lodash/_Promise.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Promise");e.exports=r},"./node_modules/lodash/_Set.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Set");e.exports=r},"./node_modules/lodash/_SetCache.js":function(e,t,n){var r=n("./node_modules/lodash/_MapCache.js"),a=n("./node_modules/lodash/_setCacheAdd.js"),o=n("./node_modules/lodash/_setCacheHas.js");function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},"./node_modules/lodash/_Stack.js":function(e,t,n){var r=n("./node_modules/lodash/_ListCache.js"),a=n("./node_modules/lodash/_stackClear.js"),o=n("./node_modules/lodash/_stackDelete.js"),i=n("./node_modules/lodash/_stackGet.js"),s=n("./node_modules/lodash/_stackHas.js"),l=n("./node_modules/lodash/_stackSet.js");function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=l,e.exports=u},"./node_modules/lodash/_Symbol.js":function(e,t,n){var r=n("./node_modules/lodash/_root.js").Symbol;e.exports=r},"./node_modules/lodash/_Uint8Array.js":function(e,t,n){var r=n("./node_modules/lodash/_root.js").Uint8Array;e.exports=r},"./node_modules/lodash/_WeakMap.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"WeakMap");e.exports=r},"./node_modules/lodash/_apply.js":function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},"./node_modules/lodash/_arrayAggregator.js":function(e,t){e.exports=function(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r}},"./node_modules/lodash/_arrayEach.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash/_arrayEvery.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},"./node_modules/lodash/_arrayFilter.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},"./node_modules/lodash/_arrayIncludes.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},"./node_modules/lodash/_arrayIncludesWith.js":function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},"./node_modules/lodash/_arrayLikeKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_baseTimes.js"),a=n("./node_modules/lodash/isArguments.js"),o=n("./node_modules/lodash/isArray.js"),i=n("./node_modules/lodash/isBuffer.js"),s=n("./node_modules/lodash/_isIndex.js"),l=n("./node_modules/lodash/isTypedArray.js"),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&a(e),f=!n&&!c&&i(e),d=!n&&!c&&!f&&l(e),h=n||c||f||d,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},"./node_modules/lodash/_arrayMap.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},"./node_modules/lodash/_arrayPush.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},"./node_modules/lodash/_arrayReduce.js":function(e,t){e.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},"./node_modules/lodash/_arraySome.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},"./node_modules/lodash/_asciiSize.js":function(e,t,n){var r=n("./node_modules/lodash/_baseProperty.js")("length");e.exports=r},"./node_modules/lodash/_asciiToArray.js":function(e,t){e.exports=function(e){return e.split("")}},"./node_modules/lodash/_asciiWords.js":function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},"./node_modules/lodash/_assignValue.js":function(e,t,n){var r=n("./node_modules/lodash/_baseAssignValue.js"),a=n("./node_modules/lodash/eq.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},"./node_modules/lodash/_assocIndexOf.js":function(e,t,n){var r=n("./node_modules/lodash/eq.js");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},"./node_modules/lodash/_baseAggregator.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t,n,a){return r(e,function(e,r,o){t(a,e,n(e),o)}),a}},"./node_modules/lodash/_baseAssign.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&r(t,a(t),e)}},"./node_modules/lodash/_baseAssignIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/keysIn.js");e.exports=function(e,t){return e&&r(t,a(t),e)}},"./node_modules/lodash/_baseAssignValue.js":function(e,t,n){var r=n("./node_modules/lodash/_defineProperty.js");e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},"./node_modules/lodash/_baseClamp.js":function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},"./node_modules/lodash/_baseClone.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),a=n("./node_modules/lodash/_arrayEach.js"),o=n("./node_modules/lodash/_assignValue.js"),i=n("./node_modules/lodash/_baseAssign.js"),s=n("./node_modules/lodash/_baseAssignIn.js"),l=n("./node_modules/lodash/_cloneBuffer.js"),u=n("./node_modules/lodash/_copyArray.js"),c=n("./node_modules/lodash/_copySymbols.js"),f=n("./node_modules/lodash/_copySymbolsIn.js"),d=n("./node_modules/lodash/_getAllKeys.js"),h=n("./node_modules/lodash/_getAllKeysIn.js"),p=n("./node_modules/lodash/_getTag.js"),m=n("./node_modules/lodash/_initCloneArray.js"),v=n("./node_modules/lodash/_initCloneByTag.js"),g=n("./node_modules/lodash/_initCloneObject.js"),y=n("./node_modules/lodash/isArray.js"),b=n("./node_modules/lodash/isBuffer.js"),_=n("./node_modules/lodash/isMap.js"),x=n("./node_modules/lodash/isObject.js"),w=n("./node_modules/lodash/isSet.js"),k=n("./node_modules/lodash/keys.js"),A=1,T=2,M=4,E="[object Arguments]",C="[object Function]",S="[object GeneratorFunction]",j="[object Object]",O={};O[E]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[j]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[C]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,P,N,I,L){var D,R=n&A,z=n&T,F=n&M;if(P&&(D=I?P(t,N,I,L):P(t)),void 0!==D)return D;if(!x(t))return t;var B=y(t);if(B){if(D=m(t),!R)return u(t,D)}else{var U=p(t),H=U==C||U==S;if(b(t))return l(t,R);if(U==j||U==E||H&&!I){if(D=z||H?{}:g(t),!R)return z?f(t,s(D,t)):c(t,i(D,t))}else{if(!O[U])return I?t:{};D=v(t,U,R)}}L||(L=new r);var q=L.get(t);if(q)return q;if(L.set(t,D),w(t))return t.forEach(function(r){D.add(e(r,n,P,r,t,L))}),D;if(_(t))return t.forEach(function(r,a){D.set(a,e(r,n,P,a,t,L))}),D;var V=F?z?h:d:z?keysIn:k,W=B?void 0:V(t);return a(W||t,function(r,a){W&&(r=t[a=r]),o(D,a,e(r,n,P,a,t,L))}),D}},"./node_modules/lodash/_baseCreate.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},"./node_modules/lodash/_baseDifference.js":function(e,t,n){var r=n("./node_modules/lodash/_SetCache.js"),a=n("./node_modules/lodash/_arrayIncludes.js"),o=n("./node_modules/lodash/_arrayIncludesWith.js"),i=n("./node_modules/lodash/_arrayMap.js"),s=n("./node_modules/lodash/_baseUnary.js"),l=n("./node_modules/lodash/_cacheHas.js"),u=200;e.exports=function(e,t,n,c){var f=-1,d=a,h=!0,p=e.length,m=[],v=t.length;if(!p)return m;n&&(t=i(t,s(n))),c?(d=o,h=!1):t.length>=u&&(d=l,h=!1,t=new r(t));e:for(;++f<p;){var g=e[f],y=null==n?g:n(g);if(g=c||0!==g?g:0,h&&y==y){for(var b=v;b--;)if(t[b]===y)continue e;m.push(g)}else d(t,y,c)||m.push(g)}return m}},"./node_modules/lodash/_baseEach.js":function(e,t,n){var r=n("./node_modules/lodash/_baseForOwn.js"),a=n("./node_modules/lodash/_createBaseEach.js")(r);e.exports=a},"./node_modules/lodash/_baseEvery.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},"./node_modules/lodash/_baseFilter.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t){var n=[];return r(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}},"./node_modules/lodash/_baseFindIndex.js":function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},"./node_modules/lodash/_baseFlatten.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayPush.js"),a=n("./node_modules/lodash/_isFlattenable.js");e.exports=function e(t,n,o,i,s){var l=-1,u=t.length;for(o||(o=a),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,i,s):r(s,c):i||(s[s.length]=c)}return s}},"./node_modules/lodash/_baseFor.js":function(e,t,n){var r=n("./node_modules/lodash/_createBaseFor.js")();e.exports=r},"./node_modules/lodash/_baseForOwn.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFor.js"),a=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&r(e,t,a)}},"./node_modules/lodash/_baseGet.js":function(e,t,n){var r=n("./node_modules/lodash/_castPath.js"),a=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},"./node_modules/lodash/_baseGetAllKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayPush.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},"./node_modules/lodash/_baseGetTag.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),a=n("./node_modules/lodash/_getRawTag.js"),o=n("./node_modules/lodash/_objectToString.js"),i="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:i:l&&l in Object(e)?a(e):o(e)}},"./node_modules/lodash/_baseHas.js":function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},"./node_modules/lodash/_baseHasIn.js":function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},"./node_modules/lodash/_baseInRange.js":function(e,t){var n=Math.max,r=Math.min;e.exports=function(e,t,a){return e>=r(t,a)&&e<n(t,a)}},"./node_modules/lodash/_baseIndexOf.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFindIndex.js"),a=n("./node_modules/lodash/_baseIsNaN.js"),o=n("./node_modules/lodash/_strictIndexOf.js");e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},"./node_modules/lodash/_baseIntersection.js":function(e,t,n){var r=n("./node_modules/lodash/_SetCache.js"),a=n("./node_modules/lodash/_arrayIncludes.js"),o=n("./node_modules/lodash/_arrayIncludesWith.js"),i=n("./node_modules/lodash/_arrayMap.js"),s=n("./node_modules/lodash/_baseUnary.js"),l=n("./node_modules/lodash/_cacheHas.js"),u=Math.min;e.exports=function(e,t,n){for(var c=n?o:a,f=e[0].length,d=e.length,h=d,p=Array(d),m=1/0,v=[];h--;){var g=e[h];h&&t&&(g=i(g,s(t))),m=u(g.length,m),p[h]=!n&&(t||f>=120&&g.length>=120)?new r(h&&g):void 0}g=e[0];var y=-1,b=p[0];e:for(;++y<f&&v.length<m;){var _=g[y],x=t?t(_):_;if(_=n||0!==_?_:0,!(b?l(b,x):c(v,x,n))){for(h=d;--h;){var w=p[h];if(!(w?l(w,x):c(e[h],x,n)))continue e}b&&b.push(x),v.push(_)}}return v}},"./node_modules/lodash/_baseInvoke.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),a=n("./node_modules/lodash/_castPath.js"),o=n("./node_modules/lodash/last.js"),i=n("./node_modules/lodash/_parent.js"),s=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n){t=a(t,e);var l=null==(e=i(e,t))?e:e[s(o(t))];return null==l?void 0:r(l,e,n)}},"./node_modules/lodash/_baseIsArguments.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o="[object Arguments]";e.exports=function(e){return a(e)&&r(e)==o}},"./node_modules/lodash/_baseIsEqual.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsEqualDeep.js"),a=n("./node_modules/lodash/isObjectLike.js");e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,o,i,e,s))}},"./node_modules/lodash/_baseIsEqualDeep.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),a=n("./node_modules/lodash/_equalArrays.js"),o=n("./node_modules/lodash/_equalByTag.js"),i=n("./node_modules/lodash/_equalObjects.js"),s=n("./node_modules/lodash/_getTag.js"),l=n("./node_modules/lodash/isArray.js"),u=n("./node_modules/lodash/isBuffer.js"),c=n("./node_modules/lodash/isTypedArray.js"),f=1,d="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var b=l(e),_=l(t),x=b?h:s(e),w=_?h:s(t),k=(x=x==d?p:x)==p,A=(w=w==d?p:w)==p,T=x==w;if(T&&u(e)){if(!u(t))return!1;b=!0,k=!1}if(T&&!k)return y||(y=new r),b||c(e)?a(e,t,n,v,g,y):o(e,t,x,n,v,g,y);if(!(n&f)){var M=k&&m.call(e,"__wrapped__"),E=A&&m.call(t,"__wrapped__");if(M||E){var C=M?e.value():e,S=E?t.value():t;return y||(y=new r),g(C,S,n,v,y)}}return!!T&&(y||(y=new r),i(e,t,n,v,g,y))}},"./node_modules/lodash/_baseIsMap.js":function(e,t,n){var r=n("./node_modules/lodash/_getTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o="[object Map]";e.exports=function(e){return a(e)&&r(e)==o}},"./node_modules/lodash/_baseIsMatch.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),a=n("./node_modules/lodash/_baseIsEqual.js"),o=1,i=2;e.exports=function(e,t,n,s){var l=n.length,u=l,c=!s;if(null==e)return!u;for(e=Object(e);l--;){var f=n[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++l<u;){var d=(f=n[l])[0],h=e[d],p=f[1];if(c&&f[2]){if(void 0===h&&!(d in e))return!1}else{var m=new r;if(s)var v=s(h,p,d,e,t,m);if(!(void 0===v?a(p,h,o|i,s,m):v))return!1}}return!0}},"./node_modules/lodash/_baseIsNaN.js":function(e,t){e.exports=function(e){return e!=e}},"./node_modules/lodash/_baseIsNative.js":function(e,t,n){var r=n("./node_modules/lodash/isFunction.js"),a=n("./node_modules/lodash/_isMasked.js"),o=n("./node_modules/lodash/isObject.js"),i=n("./node_modules/lodash/_toSource.js"),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?d:s).test(i(e))}},"./node_modules/lodash/_baseIsRegExp.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o="[object RegExp]";e.exports=function(e){return a(e)&&r(e)==o}},"./node_modules/lodash/_baseIsSet.js":function(e,t,n){var r=n("./node_modules/lodash/_getTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o="[object Set]";e.exports=function(e){return a(e)&&r(e)==o}},"./node_modules/lodash/_baseIsTypedArray.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isLength.js"),o=n("./node_modules/lodash/isObjectLike.js"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},"./node_modules/lodash/_baseIteratee.js":function(e,t,n){var r=n("./node_modules/lodash/_baseMatches.js"),a=n("./node_modules/lodash/_baseMatchesProperty.js"),o=n("./node_modules/lodash/identity.js"),i=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/property.js");e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},"./node_modules/lodash/_baseKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_isPrototype.js"),a=n("./node_modules/lodash/_nativeKeys.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},"./node_modules/lodash/_baseKeysIn.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),a=n("./node_modules/lodash/_isPrototype.js"),o=n("./node_modules/lodash/_nativeKeysIn.js"),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},"./node_modules/lodash/_baseLodash.js":function(e,t){e.exports=function(){}},"./node_modules/lodash/_baseMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js"),a=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){var n=-1,o=a(e)?Array(e.length):[];return r(e,function(e,r,a){o[++n]=t(e,r,a)}),o}},"./node_modules/lodash/_baseMatches.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsMatch.js"),a=n("./node_modules/lodash/_getMatchData.js"),o=n("./node_modules/lodash/_matchesStrictComparable.js");e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},"./node_modules/lodash/_baseMatchesProperty.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsEqual.js"),a=n("./node_modules/lodash/get.js"),o=n("./node_modules/lodash/hasIn.js"),i=n("./node_modules/lodash/_isKey.js"),s=n("./node_modules/lodash/_isStrictComparable.js"),l=n("./node_modules/lodash/_matchesStrictComparable.js"),u=n("./node_modules/lodash/_toKey.js"),c=1,f=2;e.exports=function(e,t){return i(e)&&s(t)?l(u(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,c|f)}}},"./node_modules/lodash/_basePick.js":function(e,t,n){var r=n("./node_modules/lodash/_basePickBy.js"),a=n("./node_modules/lodash/hasIn.js");e.exports=function(e,t){return r(e,t,function(t,n){return a(e,n)})}},"./node_modules/lodash/_basePickBy.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGet.js"),a=n("./node_modules/lodash/_baseSet.js"),o=n("./node_modules/lodash/_castPath.js");e.exports=function(e,t,n){for(var i=-1,s=t.length,l={};++i<s;){var u=t[i],c=r(e,u);n(c,u)&&a(l,o(u,e),c)}return l}},"./node_modules/lodash/_baseProperty.js":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"./node_modules/lodash/_basePropertyDeep.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGet.js");e.exports=function(e){return function(t){return r(t,e)}}},"./node_modules/lodash/_basePropertyOf.js":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"./node_modules/lodash/_baseRange.js":function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,a,o){for(var i=-1,s=r(n((t-e)/(a||1)),0),l=Array(s);s--;)l[o?s:++i]=e,e+=a;return l}},"./node_modules/lodash/_baseReduce.js":function(e,t){e.exports=function(e,t,n,r,a){return a(e,function(e,a,o){n=r?(r=!1,e):t(n,e,a,o)}),n}},"./node_modules/lodash/_baseRest.js":function(e,t,n){var r=n("./node_modules/lodash/identity.js"),a=n("./node_modules/lodash/_overRest.js"),o=n("./node_modules/lodash/_setToString.js");e.exports=function(e,t){return o(a(e,t,r),e+"")}},"./node_modules/lodash/_baseSet.js":function(e,t,n){var r=n("./node_modules/lodash/_assignValue.js"),a=n("./node_modules/lodash/_castPath.js"),o=n("./node_modules/lodash/_isIndex.js"),i=n("./node_modules/lodash/isObject.js"),s=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n,l){if(!i(e))return e;for(var u=-1,c=(t=a(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var h=s(t[u]),p=n;if(u!=f){var m=d[h];void 0===(p=l?l(m,h,d):void 0)&&(p=i(m)?m:o(t[u+1])?[]:{})}r(d,h,p),d=d[h]}return e}},"./node_modules/lodash/_baseSetData.js":function(e,t,n){var r=n("./node_modules/lodash/identity.js"),a=n("./node_modules/lodash/_metaMap.js"),o=a?function(e,t){return a.set(e,t),e}:r;e.exports=o},"./node_modules/lodash/_baseSetToString.js":function(e,t,n){var r=n("./node_modules/lodash/constant.js"),a=n("./node_modules/lodash/_defineProperty.js"),o=n("./node_modules/lodash/identity.js"),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},"./node_modules/lodash/_baseSlice.js":function(e,t){e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}},"./node_modules/lodash/_baseSome.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},"./node_modules/lodash/_baseSum.js":function(e,t){e.exports=function(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},"./node_modules/lodash/_baseTimes.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},"./node_modules/lodash/_baseToString.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),a=n("./node_modules/lodash/_arrayMap.js"),o=n("./node_modules/lodash/isArray.js"),i=n("./node_modules/lodash/isSymbol.js"),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},"./node_modules/lodash/_baseUnary.js":function(e,t){e.exports=function(e){return function(t){return e(t)}}},"./node_modules/lodash/_baseUniq.js":function(e,t,n){var r=n("./node_modules/lodash/_SetCache.js"),a=n("./node_modules/lodash/_arrayIncludes.js"),o=n("./node_modules/lodash/_arrayIncludesWith.js"),i=n("./node_modules/lodash/_cacheHas.js"),s=n("./node_modules/lodash/_createSet.js"),l=n("./node_modules/lodash/_setToArray.js"),u=200;e.exports=function(e,t,n){var c=-1,f=a,d=e.length,h=!0,p=[],m=p;if(n)h=!1,f=o;else if(d>=u){var v=t?null:s(e);if(v)return l(v);h=!1,f=i,m=new r}else m=t?[]:p;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y==y){for(var b=m.length;b--;)if(m[b]===y)continue e;t&&m.push(y),p.push(g)}else f(m,y,n)||(m!==p&&m.push(y),p.push(g))}return p}},"./node_modules/lodash/_baseValues.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js");e.exports=function(e,t){return r(t,function(t){return e[t]})}},"./node_modules/lodash/_cacheHas.js":function(e,t){e.exports=function(e,t){return e.has(t)}},"./node_modules/lodash/_castArrayLikeObject.js":function(e,t,n){var r=n("./node_modules/lodash/isArrayLikeObject.js");e.exports=function(e){return r(e)?e:[]}},"./node_modules/lodash/_castFunction.js":function(e,t,n){var r=n("./node_modules/lodash/identity.js");e.exports=function(e){return"function"==typeof e?e:r}},"./node_modules/lodash/_castPath.js":function(e,t,n){var r=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/_isKey.js"),o=n("./node_modules/lodash/_stringToPath.js"),i=n("./node_modules/lodash/toString.js");e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},"./node_modules/lodash/_castSlice.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSlice.js");e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},"./node_modules/lodash/_cloneArrayBuffer.js":function(e,t,n){var r=n("./node_modules/lodash/_Uint8Array.js");e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},"./node_modules/lodash/_cloneBuffer.js":function(e,t,n){(function(e){var r=n("./node_modules/lodash/_root.js"),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/_cloneDataView.js":function(e,t,n){var r=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"./node_modules/lodash/_cloneRegExp.js":function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},"./node_modules/lodash/_cloneSymbol.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},"./node_modules/lodash/_cloneTypedArray.js":function(e,t,n){var r=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},"./node_modules/lodash/_composeArgs.js":function(e,t){var n=Math.max;e.exports=function(e,t,r,a){for(var o=-1,i=e.length,s=r.length,l=-1,u=t.length,c=n(i-s,0),f=Array(u+c),d=!a;++l<u;)f[l]=t[l];for(;++o<s;)(d||o<i)&&(f[r[o]]=e[o]);for(;c--;)f[l++]=e[o++];return f}},"./node_modules/lodash/_composeArgsRight.js":function(e,t){var n=Math.max;e.exports=function(e,t,r,a){for(var o=-1,i=e.length,s=-1,l=r.length,u=-1,c=t.length,f=n(i-l,0),d=Array(f+c),h=!a;++o<f;)d[o]=e[o];for(var p=o;++u<c;)d[p+u]=t[u];for(;++s<l;)(h||o<i)&&(d[p+r[s]]=e[o++]);return d}},"./node_modules/lodash/_copyArray.js":function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},"./node_modules/lodash/_copyObject.js":function(e,t,n){var r=n("./node_modules/lodash/_assignValue.js"),a=n("./node_modules/lodash/_baseAssignValue.js");e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),i?a(n,u,c):r(n,u,c)}return n}},"./node_modules/lodash/_copySymbols.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/_getSymbols.js");e.exports=function(e,t){return r(e,a(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),a=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=function(e,t){return r(e,a(e),t)}},"./node_modules/lodash/_coreJsData.js":function(e,t,n){var r=n("./node_modules/lodash/_root.js")["__core-js_shared__"];e.exports=r},"./node_modules/lodash/_countHolders.js":function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},"./node_modules/lodash/_createAggregator.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayAggregator.js"),a=n("./node_modules/lodash/_baseAggregator.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return function(n,s){var l=i(n)?r:a,u=t?t():{};return l(n,e,o(s,2),u)}}},"./node_modules/lodash/_createAssigner.js":function(e,t,n){var r=n("./node_modules/lodash/_baseRest.js"),a=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&a(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})}},"./node_modules/lodash/_createBaseEach.js":function(e,t,n){var r=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==a(s[i],i,s););return n}}},"./node_modules/lodash/_createBaseFor.js":function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var l=i[e?s:++a];if(!1===n(o[l],l,o))break}return t}}},"./node_modules/lodash/_createBind.js":function(e,t,n){var r=n("./node_modules/lodash/_createCtor.js"),a=n("./node_modules/lodash/_root.js"),o=1;e.exports=function(e,t,n){var i=t&o,s=r(e);return function t(){return(this&&this!==a&&this instanceof t?s:e).apply(i?n:this,arguments)}}},"./node_modules/lodash/_createCaseFirst.js":function(e,t,n){var r=n("./node_modules/lodash/_castSlice.js"),a=n("./node_modules/lodash/_hasUnicode.js"),o=n("./node_modules/lodash/_stringToArray.js"),i=n("./node_modules/lodash/toString.js");e.exports=function(e){return function(t){t=i(t);var n=a(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},"./node_modules/lodash/_createCompounder.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayReduce.js"),a=n("./node_modules/lodash/deburr.js"),o=n("./node_modules/lodash/words.js"),i=RegExp("['’]","g");e.exports=function(e){return function(t){return r(o(a(t).replace(i,"")),e,"")}}},"./node_modules/lodash/_createCtor.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),a=n("./node_modules/lodash/isObject.js");e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return a(o)?o:n}}},"./node_modules/lodash/_createCurry.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),a=n("./node_modules/lodash/_createCtor.js"),o=n("./node_modules/lodash/_createHybrid.js"),i=n("./node_modules/lodash/_createRecurry.js"),s=n("./node_modules/lodash/_getHolder.js"),l=n("./node_modules/lodash/_replaceHolders.js"),u=n("./node_modules/lodash/_root.js");e.exports=function(e,t,n){var c=a(e);return function a(){for(var f=arguments.length,d=Array(f),h=f,p=s(a);h--;)d[h]=arguments[h];var m=f<3&&d[0]!==p&&d[f-1]!==p?[]:l(d,p);return(f-=m.length)<n?i(e,t,o,a.placeholder,void 0,d,m,void 0,void 0,n-f):r(this&&this!==u&&this instanceof a?c:e,this,d)}}},"./node_modules/lodash/_createFind.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/isArrayLike.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e){return function(t,n,i){var s=Object(t);if(!a(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,i);return u>-1?s[l?t[u]:u]:void 0}}},"./node_modules/lodash/_createFlow.js":function(e,t,n){var r=n("./node_modules/lodash/_LodashWrapper.js"),a=n("./node_modules/lodash/_flatRest.js"),o=n("./node_modules/lodash/_getData.js"),i=n("./node_modules/lodash/_getFuncName.js"),s=n("./node_modules/lodash/isArray.js"),l=n("./node_modules/lodash/_isLaziable.js"),u="Expected a function",c=8,f=32,d=128,h=256;e.exports=function(e){return a(function(t){var n=t.length,a=n,p=r.prototype.thru;for(e&&t.reverse();a--;){var m=t[a];if("function"!=typeof m)throw new TypeError(u);if(p&&!v&&"wrapper"==i(m))var v=new r([],!0)}for(a=v?a:n;++a<n;){m=t[a];var g=i(m),y="wrapper"==g?o(m):void 0;v=y&&l(y[0])&&y[1]==(d|c|f|h)&&!y[4].length&&1==y[9]?v[i(y[0])].apply(v,y[3]):1==m.length&&l(m)?v[g]():v.thru(m)}return function(){var e=arguments,r=e[0];if(v&&1==e.length&&s(r))return v.plant(r).value();for(var a=0,o=n?t[a].apply(this,e):r;++a<n;)o=t[a].call(this,o);return o}})}},"./node_modules/lodash/_createHybrid.js":function(e,t,n){var r=n("./node_modules/lodash/_composeArgs.js"),a=n("./node_modules/lodash/_composeArgsRight.js"),o=n("./node_modules/lodash/_countHolders.js"),i=n("./node_modules/lodash/_createCtor.js"),s=n("./node_modules/lodash/_createRecurry.js"),l=n("./node_modules/lodash/_getHolder.js"),u=n("./node_modules/lodash/_reorder.js"),c=n("./node_modules/lodash/_replaceHolders.js"),f=n("./node_modules/lodash/_root.js"),d=1,h=2,p=8,m=16,v=128,g=512;e.exports=function e(t,n,y,b,_,x,w,k,A,T){var M=n&v,E=n&d,C=n&h,S=n&(p|m),j=n&g,O=C?void 0:i(t);return function d(){for(var h=arguments.length,p=Array(h),m=h;m--;)p[m]=arguments[m];if(S)var v=l(d),g=o(p,v);if(b&&(p=r(p,b,_,S)),x&&(p=a(p,x,w,S)),h-=g,S&&h<T){var P=c(p,v);return s(t,n,e,d.placeholder,y,p,P,k,A,T-h)}var N=E?y:this,I=C?N[t]:t;return h=p.length,k?p=u(p,k):j&&h>1&&p.reverse(),M&&A<h&&(p.length=A),this&&this!==f&&this instanceof d&&(I=O||i(I)),I.apply(N,p)}}},"./node_modules/lodash/_createPartial.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),a=n("./node_modules/lodash/_createCtor.js"),o=n("./node_modules/lodash/_root.js"),i=1;e.exports=function(e,t,n,s){var l=t&i,u=a(e);return function t(){for(var a=-1,i=arguments.length,c=-1,f=s.length,d=Array(f+i),h=this&&this!==o&&this instanceof t?u:e;++c<f;)d[c]=s[c];for(;i--;)d[c++]=arguments[++a];return r(h,l?n:this,d)}}},"./node_modules/lodash/_createRange.js":function(e,t,n){var r=n("./node_modules/lodash/_baseRange.js"),a=n("./node_modules/lodash/_isIterateeCall.js"),o=n("./node_modules/lodash/toFinite.js");e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},"./node_modules/lodash/_createRecurry.js":function(e,t,n){var r=n("./node_modules/lodash/_isLaziable.js"),a=n("./node_modules/lodash/_setData.js"),o=n("./node_modules/lodash/_setWrapToString.js"),i=1,s=2,l=4,u=8,c=32,f=64;e.exports=function(e,t,n,d,h,p,m,v,g,y){var b=t&u;t|=b?c:f,(t&=~(b?f:c))&l||(t&=~(i|s));var _=[e,t,h,b?p:void 0,b?m:void 0,b?void 0:p,b?void 0:m,v,g,y],x=n.apply(void 0,_);return r(e)&&a(x,_),x.placeholder=d,o(x,e,t)}},"./node_modules/lodash/_createRound.js":function(e,t,n){var r=n("./node_modules/lodash/toInteger.js"),a=n("./node_modules/lodash/toNumber.js"),o=n("./node_modules/lodash/toString.js"),i=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=a(e),n=null==n?0:i(r(n),292)){var s=(o(e)+"e").split("e"),l=t(s[0]+"e"+(+s[1]+n));return+((s=(o(l)+"e").split("e"))[0]+"e"+(+s[1]-n))}return t(e)}}},"./node_modules/lodash/_createSet.js":function(e,t,n){var r=n("./node_modules/lodash/_Set.js"),a=n("./node_modules/lodash/noop.js"),o=n("./node_modules/lodash/_setToArray.js"),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},"./node_modules/lodash/_createWrap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSetData.js"),a=n("./node_modules/lodash/_createBind.js"),o=n("./node_modules/lodash/_createCurry.js"),i=n("./node_modules/lodash/_createHybrid.js"),s=n("./node_modules/lodash/_createPartial.js"),l=n("./node_modules/lodash/_getData.js"),u=n("./node_modules/lodash/_mergeData.js"),c=n("./node_modules/lodash/_setData.js"),f=n("./node_modules/lodash/_setWrapToString.js"),d=n("./node_modules/lodash/toInteger.js"),h="Expected a function",p=1,m=2,v=8,g=16,y=32,b=64,_=Math.max;e.exports=function(e,t,n,x,w,k,A,T){var M=t&m;if(!M&&"function"!=typeof e)throw new TypeError(h);var E=x?x.length:0;if(E||(t&=~(y|b),x=w=void 0),A=void 0===A?A:_(d(A),0),T=void 0===T?T:d(T),E-=w?w.length:0,t&b){var C=x,S=w;x=w=void 0}var j=M?void 0:l(e),O=[e,t,n,x,w,C,S,k,A,T];if(j&&u(O,j),e=O[0],t=O[1],n=O[2],x=O[3],w=O[4],!(T=O[9]=void 0===O[9]?M?0:e.length:_(O[9]-E,0))&&t&(v|g)&&(t&=~(v|g)),t&&t!=p)P=t==v||t==g?o(e,t,T):t!=y&&t!=(p|y)||w.length?i.apply(void 0,O):s(e,t,n,x);else var P=a(e,t,n);return f((j?r:c)(P,O),e,t)}},"./node_modules/lodash/_deburrLetter.js":function(e,t,n){var r=n("./node_modules/lodash/_basePropertyOf.js")({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});e.exports=r},"./node_modules/lodash/_defineProperty.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js"),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},"./node_modules/lodash/_equalArrays.js":function(e,t,n){var r=n("./node_modules/lodash/_SetCache.js"),a=n("./node_modules/lodash/_arraySome.js"),o=n("./node_modules/lodash/_cacheHas.js"),i=1,s=2;e.exports=function(e,t,n,l,u,c){var f=n&i,d=e.length,h=t.length;if(d!=h&&!(f&&h>d))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<d;){var y=e[m],b=t[m];if(l)var _=f?l(b,y,m,t,e,c):l(y,b,m,e,t,c);if(void 0!==_){if(_)continue;v=!1;break}if(g){if(!a(t,function(e,t){if(!o(g,t)&&(y===e||u(y,e,n,l,c)))return g.push(t)})){v=!1;break}}else if(y!==b&&!u(y,b,n,l,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},"./node_modules/lodash/_equalByTag.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),a=n("./node_modules/lodash/_Uint8Array.js"),o=n("./node_modules/lodash/eq.js"),i=n("./node_modules/lodash/_equalArrays.js"),s=n("./node_modules/lodash/_mapToArray.js"),l=n("./node_modules/lodash/_setToArray.js"),u=1,c=2,f="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,k=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,A,T){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!A(new a(e),new a(t)));case f:case d:case m:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var M=s;case g:var E=r&u;if(M||(M=l),e.size!=t.size&&!E)return!1;var C=T.get(e);if(C)return C==t;r|=c,T.set(e,t);var S=i(M(e),M(t),r,w,A,T);return T.delete(e),S;case b:if(k)return k.call(e)==k.call(t)}return!1}},"./node_modules/lodash/_equalObjects.js":function(e,t,n){var r=n("./node_modules/lodash/_getAllKeys.js"),a=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,l){var u=n&a,c=r(e),f=c.length;if(f!=r(t).length&&!u)return!1;for(var d=f;d--;){var h=c[d];if(!(u?h in t:o.call(t,h)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var m=!0;l.set(e,t),l.set(t,e);for(var v=u;++d<f;){var g=e[h=c[d]],y=t[h];if(i)var b=u?i(y,g,h,t,e,l):i(g,y,h,e,t,l);if(!(void 0===b?g===y||s(g,y,n,i,l):b)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(e),l.delete(t),m}},"./node_modules/lodash/_flatRest.js":function(e,t,n){var r=n("./node_modules/lodash/flatten.js"),a=n("./node_modules/lodash/_overRest.js"),o=n("./node_modules/lodash/_setToString.js");e.exports=function(e){return o(a(e,void 0,r),e+"")}},"./node_modules/lodash/_freeGlobal.js":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/_getAllKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetAllKeys.js"),a=n("./node_modules/lodash/_getSymbols.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e){return r(e,o,a)}},"./node_modules/lodash/_getAllKeysIn.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetAllKeys.js"),a=n("./node_modules/lodash/_getSymbolsIn.js"),o=n("./node_modules/lodash/keysIn.js");e.exports=function(e){return r(e,o,a)}},"./node_modules/lodash/_getData.js":function(e,t,n){var r=n("./node_modules/lodash/_metaMap.js"),a=n("./node_modules/lodash/noop.js"),o=r?function(e){return r.get(e)}:a;e.exports=o},"./node_modules/lodash/_getFuncName.js":function(e,t,n){var r=n("./node_modules/lodash/_realNames.js"),a=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=a.call(r,t)?n.length:0;o--;){var i=n[o],s=i.func;if(null==s||s==e)return i.name}return t}},"./node_modules/lodash/_getHolder.js":function(e,t){e.exports=function(e){return e.placeholder}},"./node_modules/lodash/_getMapData.js":function(e,t,n){var r=n("./node_modules/lodash/_isKeyable.js");e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},"./node_modules/lodash/_getMatchData.js":function(e,t,n){var r=n("./node_modules/lodash/_isStrictComparable.js"),a=n("./node_modules/lodash/keys.js");e.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},"./node_modules/lodash/_getNative.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsNative.js"),a=n("./node_modules/lodash/_getValue.js");e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},"./node_modules/lodash/_getPrototype.js":function(e,t,n){var r=n("./node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);e.exports=r},"./node_modules/lodash/_getRawTag.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},"./node_modules/lodash/_getSymbols.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayFilter.js"),a=n("./node_modules/lodash/stubArray.js"),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return o.call(e,t)}))}:a;e.exports=s},"./node_modules/lodash/_getSymbolsIn.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayPush.js"),a=n("./node_modules/lodash/_getPrototype.js"),o=n("./node_modules/lodash/_getSymbols.js"),i=n("./node_modules/lodash/stubArray.js"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=s},"./node_modules/lodash/_getTag.js":function(e,t,n){var r=n("./node_modules/lodash/_DataView.js"),a=n("./node_modules/lodash/_Map.js"),o=n("./node_modules/lodash/_Promise.js"),i=n("./node_modules/lodash/_Set.js"),s=n("./node_modules/lodash/_WeakMap.js"),l=n("./node_modules/lodash/_baseGetTag.js"),u=n("./node_modules/lodash/_toSource.js"),c=u(r),f=u(a),d=u(o),h=u(i),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||o&&"[object Promise]"!=m(o.resolve())||i&&"[object Set]"!=m(new i)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},"./node_modules/lodash/_getValue.js":function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},"./node_modules/lodash/_getWrapDetails.js":function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},"./node_modules/lodash/_hasPath.js":function(e,t,n){var r=n("./node_modules/lodash/_castPath.js"),a=n("./node_modules/lodash/isArguments.js"),o=n("./node_modules/lodash/isArray.js"),i=n("./node_modules/lodash/_isIndex.js"),s=n("./node_modules/lodash/isLength.js"),l=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&i(d,c)&&(o(e)||a(e))}},"./node_modules/lodash/_hasUnicode.js":function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},"./node_modules/lodash/_hasUnicodeWord.js":function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},"./node_modules/lodash/_hashClear.js":function(e,t,n){var r=n("./node_modules/lodash/_nativeCreate.js");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},"./node_modules/lodash/_hashDelete.js":function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},"./node_modules/lodash/_hashGet.js":function(e,t,n){var r=n("./node_modules/lodash/_nativeCreate.js"),a="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===a?void 0:n}return o.call(t,e)?t[e]:void 0}},"./node_modules/lodash/_hashHas.js":function(e,t,n){var r=n("./node_modules/lodash/_nativeCreate.js"),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},"./node_modules/lodash/_hashSet.js":function(e,t,n){var r=n("./node_modules/lodash/_nativeCreate.js"),a="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?a:t,this}},"./node_modules/lodash/_initCloneArray.js":function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},"./node_modules/lodash/_initCloneByTag.js":function(e,t,n){var r=n("./node_modules/lodash/_cloneArrayBuffer.js"),a=n("./node_modules/lodash/_cloneDataView.js"),o=n("./node_modules/lodash/_cloneRegExp.js"),i=n("./node_modules/lodash/_cloneSymbol.js"),s=n("./node_modules/lodash/_cloneTypedArray.js"),l="[object Boolean]",u="[object Date]",c="[object Map]",f="[object Number]",d="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",M="[object Uint32Array]";e.exports=function(e,t,n){var E=e.constructor;switch(t){case v:return r(e);case l:case u:return new E(+e);case g:return a(e,n);case y:case b:case _:case x:case w:case k:case A:case T:case M:return s(e,n);case c:return new E;case f:case p:return new E(e);case d:return o(e);case h:return new E;case m:return i(e)}}},"./node_modules/lodash/_initCloneObject.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),a=n("./node_modules/lodash/_getPrototype.js"),o=n("./node_modules/lodash/_isPrototype.js");e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},"./node_modules/lodash/_insertWrapDetails.js":function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var a=r-1;return t[a]=(r>1?"& ":"")+t[a],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},"./node_modules/lodash/_isFlattenable.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),a=n("./node_modules/lodash/isArguments.js"),o=n("./node_modules/lodash/isArray.js"),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},"./node_modules/lodash/_isIndex.js":function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var a=typeof e;return!!(t=null==t?n:t)&&("number"==a||"symbol"!=a&&r.test(e))&&e>-1&&e%1==0&&e<t}},"./node_modules/lodash/_isIterateeCall.js":function(e,t,n){var r=n("./node_modules/lodash/eq.js"),a=n("./node_modules/lodash/isArrayLike.js"),o=n("./node_modules/lodash/_isIndex.js"),i=n("./node_modules/lodash/isObject.js");e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},"./node_modules/lodash/_isKey.js":function(e,t,n){var r=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/isSymbol.js"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},"./node_modules/lodash/_isKeyable.js":function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},"./node_modules/lodash/_isLaziable.js":function(e,t,n){var r=n("./node_modules/lodash/_LazyWrapper.js"),a=n("./node_modules/lodash/_getData.js"),o=n("./node_modules/lodash/_getFuncName.js"),i=n("./node_modules/lodash/wrapperLodash.js");e.exports=function(e){var t=o(e),n=i[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=a(n);return!!s&&e===s[0]}},"./node_modules/lodash/_isMasked.js":function(e,t,n){var r=n("./node_modules/lodash/_coreJsData.js"),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},"./node_modules/lodash/_isPrototype.js":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"./node_modules/lodash/_isStrictComparable.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js");e.exports=function(e){return e==e&&!r(e)}},"./node_modules/lodash/_iteratorToArray.js":function(e,t){e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},"./node_modules/lodash/_listCacheClear.js":function(e,t){e.exports=function(){this.__data__=[],this.size=0}},"./node_modules/lodash/_listCacheDelete.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js"),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},"./node_modules/lodash/_listCacheGet.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},"./node_modules/lodash/_listCacheHas.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e){return r(this.__data__,e)>-1}},"./node_modules/lodash/_listCacheSet.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},"./node_modules/lodash/_mapCacheClear.js":function(e,t,n){var r=n("./node_modules/lodash/_Hash.js"),a=n("./node_modules/lodash/_ListCache.js"),o=n("./node_modules/lodash/_Map.js");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},"./node_modules/lodash/_mapCacheDelete.js":function(e,t,n){var r=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},"./node_modules/lodash/_mapCacheGet.js":function(e,t,n){var r=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){return r(this,e).get(e)}},"./node_modules/lodash/_mapCacheHas.js":function(e,t,n){var r=n("./node_modules/lodash/_getMapData.js");e.exports=function(e){return r(this,e).has(e)}},"./node_modules/lodash/_mapCacheSet.js":function(e,t,n){var r=n("./node_modules/lodash/_getMapData.js");e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},"./node_modules/lodash/_mapToArray.js":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},"./node_modules/lodash/_matchesStrictComparable.js":function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},"./node_modules/lodash/_memoizeCapped.js":function(e,t,n){var r=n("./node_modules/lodash/memoize.js"),a=500;e.exports=function(e){var t=r(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}},"./node_modules/lodash/_mergeData.js":function(e,t,n){var r=n("./node_modules/lodash/_composeArgs.js"),a=n("./node_modules/lodash/_composeArgsRight.js"),o=n("./node_modules/lodash/_replaceHolders.js"),i="__lodash_placeholder__",s=1,l=2,u=4,c=8,f=128,d=256,h=Math.min;e.exports=function(e,t){var n=e[1],p=t[1],m=n|p,v=m<(s|l|f),g=p==f&&n==c||p==f&&n==d&&e[7].length<=t[8]||p==(f|d)&&t[7].length<=t[8]&&n==c;if(!v&&!g)return e;p&s&&(e[2]=t[2],m|=n&s?0:u);var y=t[3];if(y){var b=e[3];e[3]=b?r(b,y,t[4]):y,e[4]=b?o(e[3],i):t[4]}return(y=t[5])&&(b=e[5],e[5]=b?a(b,y,t[6]):y,e[6]=b?o(e[5],i):t[6]),(y=t[7])&&(e[7]=y),p&f&&(e[8]=null==e[8]?t[8]:h(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}},"./node_modules/lodash/_metaMap.js":function(e,t,n){var r=n("./node_modules/lodash/_WeakMap.js"),a=r&&new r;e.exports=a},"./node_modules/lodash/_nativeCreate.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js")(Object,"create");e.exports=r},"./node_modules/lodash/_nativeKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_overArg.js")(Object.keys,Object);e.exports=r},"./node_modules/lodash/_nativeKeysIn.js":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"./node_modules/lodash/_nodeUtil.js":function(e,t,n){(function(e){var r=n("./node_modules/lodash/_freeGlobal.js"),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/_objectToString.js":function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},"./node_modules/lodash/_overArg.js":function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},"./node_modules/lodash/_overRest.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),l=Array(s);++i<s;)l[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=n(l),r(e,this,u)}}},"./node_modules/lodash/_parent.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGet.js"),a=n("./node_modules/lodash/_baseSlice.js");e.exports=function(e,t){return t.length<2?e:r(e,a(t,0,-1))}},"./node_modules/lodash/_realNames.js":function(e,t){e.exports={}},"./node_modules/lodash/_reorder.js":function(e,t,n){var r=n("./node_modules/lodash/_copyArray.js"),a=n("./node_modules/lodash/_isIndex.js"),o=Math.min;e.exports=function(e,t){for(var n=e.length,i=o(t.length,n),s=r(e);i--;){var l=t[i];e[i]=a(l,n)?s[l]:void 0}return e}},"./node_modules/lodash/_replaceHolders.js":function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,a=e.length,o=0,i=[];++r<a;){var s=e[r];s!==t&&s!==n||(e[r]=n,i[o++]=r)}return i}},"./node_modules/lodash/_root.js":function(e,t,n){var r=n("./node_modules/lodash/_freeGlobal.js"),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},"./node_modules/lodash/_setCacheAdd.js":function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},"./node_modules/lodash/_setCacheHas.js":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"./node_modules/lodash/_setData.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSetData.js"),a=n("./node_modules/lodash/_shortOut.js")(r);e.exports=a},"./node_modules/lodash/_setToArray.js":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},"./node_modules/lodash/_setToString.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSetToString.js"),a=n("./node_modules/lodash/_shortOut.js")(r);e.exports=a},"./node_modules/lodash/_setWrapToString.js":function(e,t,n){var r=n("./node_modules/lodash/_getWrapDetails.js"),a=n("./node_modules/lodash/_insertWrapDetails.js"),o=n("./node_modules/lodash/_setToString.js"),i=n("./node_modules/lodash/_updateWrapDetails.js");e.exports=function(e,t,n){var s=t+"";return o(e,a(s,i(r(s),n)))}},"./node_modules/lodash/_shortOut.js":function(e,t){var n=800,r=16,a=Date.now;e.exports=function(e){var t=0,o=0;return function(){var i=a(),s=r-(i-o);if(o=i,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},"./node_modules/lodash/_stackClear.js":function(e,t,n){var r=n("./node_modules/lodash/_ListCache.js");e.exports=function(){this.__data__=new r,this.size=0}},"./node_modules/lodash/_stackDelete.js":function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},"./node_modules/lodash/_stackGet.js":function(e,t){e.exports=function(e){return this.__data__.get(e)}},"./node_modules/lodash/_stackHas.js":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"./node_modules/lodash/_stackSet.js":function(e,t,n){var r=n("./node_modules/lodash/_ListCache.js"),a=n("./node_modules/lodash/_Map.js"),o=n("./node_modules/lodash/_MapCache.js"),i=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<i-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},"./node_modules/lodash/_strictIndexOf.js":function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},"./node_modules/lodash/_stringSize.js":function(e,t,n){var r=n("./node_modules/lodash/_asciiSize.js"),a=n("./node_modules/lodash/_hasUnicode.js"),o=n("./node_modules/lodash/_unicodeSize.js");e.exports=function(e){return a(e)?o(e):r(e)}},"./node_modules/lodash/_stringToArray.js":function(e,t,n){var r=n("./node_modules/lodash/_asciiToArray.js"),a=n("./node_modules/lodash/_hasUnicode.js"),o=n("./node_modules/lodash/_unicodeToArray.js");e.exports=function(e){return a(e)?o(e):r(e)}},"./node_modules/lodash/_stringToPath.js":function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n("./node_modules/lodash/_memoizeCapped.js")(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)}),t});e.exports=o},"./node_modules/lodash/_toKey.js":function(e,t,n){var r=n("./node_modules/lodash/isSymbol.js"),a=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},"./node_modules/lodash/_toSource.js":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},"./node_modules/lodash/_unicodeSize.js":function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[o,i,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[o+r+"?",r,i,s,n].join("|")+")",f=RegExp(a+"(?="+a+")|"+c+u,"g");e.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},"./node_modules/lodash/_unicodeToArray.js":function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[o,i,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[o+r+"?",r,i,s,n].join("|")+")",f=RegExp(a+"(?="+a+")|"+c+u,"g");e.exports=function(e){return e.match(f)||[]}},"./node_modules/lodash/_unicodeWords.js":function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",a="\\d+",o="[\\u2700-\\u27bf]",i="[a-z\\xdf-\\xf6\\xf8-\\xff]",s="[^\\ud800-\\udfff"+n+a+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[A-Z\\xc0-\\xd6\\xd8-\\xde]",f="(?:"+i+"|"+s+")",d="(?:"+c+"|"+s+")",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",p="[\\ufe0e\\ufe0f]?"+h+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,u].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*"),m="(?:"+[o,l,u].join("|")+")"+p,v=RegExp([c+"?"+i+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[r,c,"$"].join("|")+")",d+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[r,c+f,"$"].join("|")+")",c+"?"+f+"+(?:['’](?:d|ll|m|re|s|t|ve))?",c+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,m].join("|"),"g");e.exports=function(e){return e.match(v)||[]}},"./node_modules/lodash/_updateWrapDetails.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayEach.js"),a=n("./node_modules/lodash/_arrayIncludes.js"),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,function(n){var r="_."+n[0];t&n[1]&&!a(e,r)&&e.push(r)}),e.sort()}},"./node_modules/lodash/_wrapperClone.js":function(e,t,n){var r=n("./node_modules/lodash/_LazyWrapper.js"),a=n("./node_modules/lodash/_LodashWrapper.js"),o=n("./node_modules/lodash/_copyArray.js");e.exports=function(e){if(e instanceof r)return e.clone();var t=new a(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},"./node_modules/lodash/ary.js":function(e,t,n){var r=n("./node_modules/lodash/_createWrap.js"),a=128;e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,a,void 0,void 0,void 0,void 0,t)}},"./node_modules/lodash/assign.js":function(e,t,n){var r=n("./node_modules/lodash/_assignValue.js"),a=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/_createAssigner.js"),i=n("./node_modules/lodash/isArrayLike.js"),s=n("./node_modules/lodash/_isPrototype.js"),l=n("./node_modules/lodash/keys.js"),u=Object.prototype.hasOwnProperty,c=o(function(e,t){if(s(t)||i(t))a(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])});e.exports=c},"./node_modules/lodash/clamp.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClamp.js"),a=n("./node_modules/lodash/toNumber.js");e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=a(n))==n?n:0),void 0!==t&&(t=(t=a(t))==t?t:0),r(a(e),t,n)}},"./node_modules/lodash/clone.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClone.js"),a=4;e.exports=function(e){return r(e,a)}},"./node_modules/lodash/compact.js":function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a}},"./node_modules/lodash/constant.js":function(e,t){e.exports=function(e){return function(){return e}}},"./node_modules/lodash/curry.js":function(e,t,n){var r=n("./node_modules/lodash/_createWrap.js"),a=8;function o(e,t,n){var i=r(e,a,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},"./node_modules/lodash/deburr.js":function(e,t,n){var r=n("./node_modules/lodash/_deburrLetter.js"),a=n("./node_modules/lodash/toString.js"),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=a(e))&&e.replace(o,r).replace(i,"")}},"./node_modules/lodash/difference.js":function(e,t,n){var r=n("./node_modules/lodash/_baseDifference.js"),a=n("./node_modules/lodash/_baseFlatten.js"),o=n("./node_modules/lodash/_baseRest.js"),i=n("./node_modules/lodash/isArrayLikeObject.js"),s=o(function(e,t){return i(e)?r(e,a(t,1,i,!0)):[]});e.exports=s},"./node_modules/lodash/dropRight.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSlice.js"),a=n("./node_modules/lodash/toInteger.js");e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:a(t),r(e,0,(t=o-t)<0?0:t)):[]}},"./node_modules/lodash/each.js":function(e,t,n){e.exports=n("./node_modules/lodash/forEach.js")},"./node_modules/lodash/eq.js":function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"./node_modules/lodash/escapeRegExp.js":function(e,t,n){var r=n("./node_modules/lodash/toString.js"),a=/[\\^$.*+?()[\]{}|]/g,o=RegExp(a.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(a,"\\$&"):e}},"./node_modules/lodash/every.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayEvery.js"),a=n("./node_modules/lodash/_baseEvery.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e,t,n){var l=i(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},"./node_modules/lodash/filter.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayFilter.js"),a=n("./node_modules/lodash/_baseFilter.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},"./node_modules/lodash/find.js":function(e,t,n){var r=n("./node_modules/lodash/_createFind.js")(n("./node_modules/lodash/findIndex.js"));e.exports=r},"./node_modules/lodash/findIndex.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFindIndex.js"),a=n("./node_modules/lodash/_baseIteratee.js"),o=n("./node_modules/lodash/toInteger.js"),i=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=i(s+l,0)),r(e,a(t,3),l)}},"./node_modules/lodash/first.js":function(e,t,n){e.exports=n("./node_modules/lodash/head.js")},"./node_modules/lodash/flatMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFlatten.js"),a=n("./node_modules/lodash/map.js");e.exports=function(e,t){return r(a(e,t),1)}},"./node_modules/lodash/flatten.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFlatten.js");e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},"./node_modules/lodash/flow.js":function(e,t,n){var r=n("./node_modules/lodash/_createFlow.js")();e.exports=r},"./node_modules/lodash/forEach.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayEach.js"),a=n("./node_modules/lodash/_baseEach.js"),o=n("./node_modules/lodash/_castFunction.js"),i=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(i(e)?r:a)(e,o(t))}},"./node_modules/lodash/fp/_baseConvert.js":function(e,t,n){var r=n("./node_modules/lodash/fp/_mapping.js"),a=n("./node_modules/lodash/fp/placeholder.js"),o=Array.prototype.push;function i(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var a=r[0]=t.apply(void 0,r);return e.apply(void 0,r),a}}}e.exports=function e(t,n,u,c){var f="function"==typeof n,d=n===Object(n);if(d&&(c=u,u=n,n=void 0),null==u)throw new TypeError;c||(c={});var h={cap:!("cap"in c)||c.cap,curry:!("curry"in c)||c.curry,fixed:!("fixed"in c)||c.fixed,immutable:!("immutable"in c)||c.immutable,rearg:!("rearg"in c)||c.rearg},p=f?u:a,m="curry"in c&&c.curry,v="fixed"in c&&c.fixed,g="rearg"in c&&c.rearg,y=f?u.runInContext():void 0,b=f?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},_=b.ary,x=b.assign,w=b.clone,k=b.curry,A=b.forEach,T=b.isArray,M=b.isError,E=b.isFunction,C=b.isWeakMap,S=b.keys,j=b.rearg,O=b.toInteger,P=b.toPath,N=S(r.aryMethod),I={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),a=r.length;return h.cap&&"number"==typeof n?(n=n>2?n-2:1,a&&a<=n?r:i(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!E(n))return e(n,Object(t));var r=[];return A(S(t),function(e){E(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),A(r,function(e){var t=e[1];E(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:O(t)+1;return k(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return k(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),c)}}};function L(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return B(e,function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(j(i(e,n),t),n)})}(t,n);var a=!f&&r.iterateeAry[e];if(a)return function(e,t){return B(e,function(e){return"function"==typeof e?i(e,t):e})}(t,a)}return t}function D(e,t,n){if(h.fixed&&(v||!r.skipFixed[e])){var a=r.methodSpread[e],i=a&&a.start;return void 0===i?_(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,a=Array(n);n--;)a[n]=arguments[n];var i=a[t],s=a.slice(0,t);return i&&o.apply(s,i),t!=r&&o.apply(s,a.slice(t+1)),e.apply(this,s)}}(t,i)}return t}function R(e,t,n){return h.rearg&&n>1&&(g||!r.skipRearg[e])?j(t,r.methodRearg[e]||r.aryRearg[n]):t}function z(e,t){for(var n=-1,r=(t=P(t)).length,a=r-1,o=w(Object(e)),i=o;null!=i&&++n<r;){var s=t[n],l=i[s];null==l||E(l)||M(l)||C(l)||(i[s]=w(n==a?l:Object(l))),i=i[s]}return o}function F(t,n){var a=r.aliasToReal[t]||t,o=r.remap[a]||a,i=c;return function(t){var r=f?y:b,s=f?y[o]:n,l=x(x({},i),t);return e(r,a,s,l)}}function B(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var a=h.rearg?0:n-1;return r[a]=t(r[a]),e.apply(void 0,r)}}function U(e,t,n){var a,o=r.aliasToReal[e]||e,i=t,u=I[o];return u?i=u(t):h.immutable&&(r.mutate.array[o]?i=l(t,s):r.mutate.object[o]?i=l(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[o]&&(i=l(t,z))),A(N,function(e){return A(r.aryMethod[e],function(t){if(o==t){var n=r.methodSpread[o],s=n&&n.afterRearg;return a=s?D(o,R(o,i,e),e):R(o,D(o,i,e),e),a=function(e,t,n){return m||h.curry&&n>1?k(t,n):t}(0,a=L(o,a),e),!1}}),!a}),a||(a=i),a==t&&(a=m?k(a,1):function(){return t.apply(this,arguments)}),a.convert=F(o,t),a.placeholder=t.placeholder=n,a}if(!d)return U(n,u,p);var H=u,q=[];return A(N,function(e){A(r.aryMethod[e],function(e){var t=H[r.remap[e]||e];t&&q.push([e,U(e,t,H)])})}),A(S(H),function(e){var t=H[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=F(e,t),q.push([e,t])}}),A(q,function(e){H[e[0]]=e[1]}),H.convert=function(e){return H.runInContext.convert(e)(void 0)},H.placeholder=H,A(S(H),function(e){A(r.realToAlias[e]||[],function(t){H[t]=H[e]})}),H}},"./node_modules/lodash/fp/_falseOptions.js":function(e,t){e.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},"./node_modules/lodash/fp/_mapping.js":function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var a in n){var o=n[a];e.call(r,o)?r[o].push(a):r[o]=[a]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},"./node_modules/lodash/fp/_util.js":function(e,t,n){e.exports={ary:n("./node_modules/lodash/ary.js"),assign:n("./node_modules/lodash/_baseAssign.js"),clone:n("./node_modules/lodash/clone.js"),curry:n("./node_modules/lodash/curry.js"),forEach:n("./node_modules/lodash/_arrayEach.js"),isArray:n("./node_modules/lodash/isArray.js"),isError:n("./node_modules/lodash/isError.js"),isFunction:n("./node_modules/lodash/isFunction.js"),isWeakMap:n("./node_modules/lodash/isWeakMap.js"),iteratee:n("./node_modules/lodash/iteratee.js"),keys:n("./node_modules/lodash/_baseKeys.js"),rearg:n("./node_modules/lodash/rearg.js"),toInteger:n("./node_modules/lodash/toInteger.js"),toPath:n("./node_modules/lodash/toPath.js")}},"./node_modules/lodash/fp/convert.js":function(e,t,n){var r=n("./node_modules/lodash/fp/_baseConvert.js"),a=n("./node_modules/lodash/fp/_util.js");e.exports=function(e,t,n){return r(a,e,t,n)}},"./node_modules/lodash/fp/filter.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("filter",n("./node_modules/lodash/filter.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/flatMap.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("flatMap",n("./node_modules/lodash/flatMap.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/flow.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("flow",n("./node_modules/lodash/flow.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/identity.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("identity",n("./node_modules/lodash/identity.js"),n("./node_modules/lodash/fp/_falseOptions.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/map.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("map",n("./node_modules/lodash/map.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/placeholder.js":function(e,t){e.exports={}},"./node_modules/lodash/fp/split.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("split",n("./node_modules/lodash/split.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/toArray.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("toArray",n("./node_modules/lodash/toArray.js"),n("./node_modules/lodash/fp/_falseOptions.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/fp/uniq.js":function(e,t,n){var r=n("./node_modules/lodash/fp/convert.js")("uniq",n("./node_modules/lodash/uniq.js"),n("./node_modules/lodash/fp/_falseOptions.js"));r.placeholder=n("./node_modules/lodash/fp/placeholder.js"),e.exports=r},"./node_modules/lodash/get.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGet.js");e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},"./node_modules/lodash/has.js":function(e,t,n){var r=n("./node_modules/lodash/_baseHas.js"),a=n("./node_modules/lodash/_hasPath.js");e.exports=function(e,t){return null!=e&&a(e,t,r)}},"./node_modules/lodash/hasIn.js":function(e,t,n){var r=n("./node_modules/lodash/_baseHasIn.js"),a=n("./node_modules/lodash/_hasPath.js");e.exports=function(e,t){return null!=e&&a(e,t,r)}},"./node_modules/lodash/head.js":function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},"./node_modules/lodash/identity.js":function(e,t){e.exports=function(e){return e}},"./node_modules/lodash/inRange.js":function(e,t,n){var r=n("./node_modules/lodash/_baseInRange.js"),a=n("./node_modules/lodash/toFinite.js"),o=n("./node_modules/lodash/toNumber.js");e.exports=function(e,t,n){return t=a(t),void 0===n?(n=t,t=0):n=a(n),e=o(e),r(e,t,n)}},"./node_modules/lodash/includes.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIndexOf.js"),a=n("./node_modules/lodash/isArrayLike.js"),o=n("./node_modules/lodash/isString.js"),i=n("./node_modules/lodash/toInteger.js"),s=n("./node_modules/lodash/values.js"),l=Math.max;e.exports=function(e,t,n,u){e=a(e)?e:s(e),n=n&&!u?i(n):0;var c=e.length;return n<0&&(n=l(c+n,0)),o(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&r(e,t,n)>-1}},"./node_modules/lodash/intersection.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),a=n("./node_modules/lodash/_baseIntersection.js"),o=n("./node_modules/lodash/_baseRest.js"),i=n("./node_modules/lodash/_castArrayLikeObject.js"),s=o(function(e){var t=r(e,i);return t.length&&t[0]===e[0]?a(t):[]});e.exports=s},"./node_modules/lodash/invoke.js":function(e,t,n){var r=n("./node_modules/lodash/_baseInvoke.js"),a=n("./node_modules/lodash/_baseRest.js")(r);e.exports=a},"./node_modules/lodash/isArguments.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsArguments.js"),a=n("./node_modules/lodash/isObjectLike.js"),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},"./node_modules/lodash/isArray.js":function(e,t){var n=Array.isArray;e.exports=n},"./node_modules/lodash/isArrayLike.js":function(e,t,n){var r=n("./node_modules/lodash/isFunction.js"),a=n("./node_modules/lodash/isLength.js");e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},"./node_modules/lodash/isArrayLikeObject.js":function(e,t,n){var r=n("./node_modules/lodash/isArrayLike.js"),a=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return a(e)&&r(e)}},"./node_modules/lodash/isBoolean.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o="[object Boolean]";e.exports=function(e){return!0===e||!1===e||a(e)&&r(e)==o}},"./node_modules/lodash/isBuffer.js":function(e,t,n){(function(e){var r=n("./node_modules/lodash/_root.js"),a=n("./node_modules/lodash/stubFalse.js"),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l}).call(this,n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash/isEmpty.js":function(e,t,n){var r=n("./node_modules/lodash/_baseKeys.js"),a=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isArguments.js"),i=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/isArrayLike.js"),l=n("./node_modules/lodash/isBuffer.js"),u=n("./node_modules/lodash/_isPrototype.js"),c=n("./node_modules/lodash/isTypedArray.js"),f="[object Map]",d="[object Set]",h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=a(e);if(t==f||t==d)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},"./node_modules/lodash/isEqual.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsEqual.js");e.exports=function(e,t){return r(e,t)}},"./node_modules/lodash/isError.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o=n("./node_modules/lodash/isPlainObject.js"),i="[object DOMException]",s="[object Error]";e.exports=function(e){if(!a(e))return!1;var t=r(e);return t==s||t==i||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},"./node_modules/lodash/isFunction.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isObject.js"),o="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!a(e))return!1;var t=r(e);return t==i||t==s||t==o||t==l}},"./node_modules/lodash/isLength.js":function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},"./node_modules/lodash/isMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsMap.js"),a=n("./node_modules/lodash/_baseUnary.js"),o=n("./node_modules/lodash/_nodeUtil.js"),i=o&&o.isMap,s=i?a(i):r;e.exports=s},"./node_modules/lodash/isNil.js":function(e,t){e.exports=function(e){return null==e}},"./node_modules/lodash/isNumber.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o="[object Number]";e.exports=function(e){return"number"==typeof e||a(e)&&r(e)==o}},"./node_modules/lodash/isObject.js":function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"./node_modules/lodash/isObjectLike.js":function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash/isPlainObject.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/_getPrototype.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,f=u.call(Object);e.exports=function(e){if(!o(e)||r(e)!=i)return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},"./node_modules/lodash/isRegExp.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsRegExp.js"),a=n("./node_modules/lodash/_baseUnary.js"),o=n("./node_modules/lodash/_nodeUtil.js"),i=o&&o.isRegExp,s=i?a(i):r;e.exports=s},"./node_modules/lodash/isSet.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsSet.js"),a=n("./node_modules/lodash/_baseUnary.js"),o=n("./node_modules/lodash/_nodeUtil.js"),i=o&&o.isSet,s=i?a(i):r;e.exports=s},"./node_modules/lodash/isString.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isArray.js"),o=n("./node_modules/lodash/isObjectLike.js"),i="[object String]";e.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&r(e)==i}},"./node_modules/lodash/isSymbol.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==o}},"./node_modules/lodash/isTypedArray.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsTypedArray.js"),a=n("./node_modules/lodash/_baseUnary.js"),o=n("./node_modules/lodash/_nodeUtil.js"),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},"./node_modules/lodash/isUndefined.js":function(e,t){e.exports=function(e){return void 0===e}},"./node_modules/lodash/isWeakMap.js":function(e,t,n){var r=n("./node_modules/lodash/_getTag.js"),a=n("./node_modules/lodash/isObjectLike.js"),o="[object WeakMap]";e.exports=function(e){return a(e)&&r(e)==o}},"./node_modules/lodash/iteratee.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClone.js"),a=n("./node_modules/lodash/_baseIteratee.js"),o=1;e.exports=function(e){return a("function"==typeof e?e:r(e,o))}},"./node_modules/lodash/keyBy.js":function(e,t,n){var r=n("./node_modules/lodash/_baseAssignValue.js"),a=n("./node_modules/lodash/_createAggregator.js")(function(e,t,n){r(e,n,t)});e.exports=a},"./node_modules/lodash/keys.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayLikeKeys.js"),a=n("./node_modules/lodash/_baseKeys.js"),o=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e){return o(e)?r(e):a(e)}},"./node_modules/lodash/keysIn.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayLikeKeys.js"),a=n("./node_modules/lodash/_baseKeysIn.js"),o=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e){return o(e)?r(e,!0):a(e)}},"./node_modules/lodash/last.js":function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},"./node_modules/lodash/map.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),a=n("./node_modules/lodash/_baseIteratee.js"),o=n("./node_modules/lodash/_baseMap.js"),i=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(i(e)?r:o)(e,a(t,3))}},"./node_modules/lodash/mapValues.js":function(e,t,n){var r=n("./node_modules/lodash/_baseAssignValue.js"),a=n("./node_modules/lodash/_baseForOwn.js"),o=n("./node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){var n={};return t=o(t,3),a(e,function(e,a,o){r(n,a,t(e,a,o))}),n}},"./node_modules/lodash/memoize.js":function(e,t,n){var r=n("./node_modules/lodash/_MapCache.js"),a="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},"./node_modules/lodash/noop.js":function(e,t){e.exports=function(){}},"./node_modules/lodash/partialRight.js":function(e,t,n){var r=n("./node_modules/lodash/_baseRest.js"),a=n("./node_modules/lodash/_createWrap.js"),o=n("./node_modules/lodash/_getHolder.js"),i=n("./node_modules/lodash/_replaceHolders.js"),s=r(function(e,t){var n=i(t,o(s));return a(e,64,void 0,t,n)});s.placeholder={},e.exports=s},"./node_modules/lodash/pick.js":function(e,t,n){var r=n("./node_modules/lodash/_basePick.js"),a=n("./node_modules/lodash/_flatRest.js")(function(e,t){return null==e?{}:r(e,t)});e.exports=a},"./node_modules/lodash/pickBy.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),a=n("./node_modules/lodash/_baseIteratee.js"),o=n("./node_modules/lodash/_basePickBy.js"),i=n("./node_modules/lodash/_getAllKeysIn.js");e.exports=function(e,t){if(null==e)return{};var n=r(i(e),function(e){return[e]});return t=a(t),o(e,n,function(e,n){return t(e,n[0])})}},"./node_modules/lodash/property.js":function(e,t,n){var r=n("./node_modules/lodash/_baseProperty.js"),a=n("./node_modules/lodash/_basePropertyDeep.js"),o=n("./node_modules/lodash/_isKey.js"),i=n("./node_modules/lodash/_toKey.js");e.exports=function(e){return o(e)?r(i(e)):a(e)}},"./node_modules/lodash/range.js":function(e,t,n){var r=n("./node_modules/lodash/_createRange.js")();e.exports=r},"./node_modules/lodash/rearg.js":function(e,t,n){var r=n("./node_modules/lodash/_createWrap.js"),a=n("./node_modules/lodash/_flatRest.js")(function(e,t){return r(e,256,void 0,void 0,void 0,t)});e.exports=a},"./node_modules/lodash/reduce.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayReduce.js"),a=n("./node_modules/lodash/_baseEach.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_baseReduce.js"),s=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var l=s(e)?r:i,u=arguments.length<3;return l(e,o(t,4),n,u,a)}},"./node_modules/lodash/round.js":function(e,t,n){var r=n("./node_modules/lodash/_createRound.js")("round");e.exports=r},"./node_modules/lodash/size.js":function(e,t,n){var r=n("./node_modules/lodash/_baseKeys.js"),a=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isArrayLike.js"),i=n("./node_modules/lodash/isString.js"),s=n("./node_modules/lodash/_stringSize.js"),l="[object Map]",u="[object Set]";e.exports=function(e){if(null==e)return 0;if(o(e))return i(e)?s(e):e.length;var t=a(e);return t==l||t==u?e.size:r(e).length}},"./node_modules/lodash/some.js":function(e,t,n){var r=n("./node_modules/lodash/_arraySome.js"),a=n("./node_modules/lodash/_baseIteratee.js"),o=n("./node_modules/lodash/_baseSome.js"),i=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e,t,n){var l=i(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},"./node_modules/lodash/split.js":function(e,t,n){var r=n("./node_modules/lodash/_baseToString.js"),a=n("./node_modules/lodash/_castSlice.js"),o=n("./node_modules/lodash/_hasUnicode.js"),i=n("./node_modules/lodash/_isIterateeCall.js"),s=n("./node_modules/lodash/isRegExp.js"),l=n("./node_modules/lodash/_stringToArray.js"),u=n("./node_modules/lodash/toString.js"),c=4294967295;e.exports=function(e,t,n){return n&&"number"!=typeof n&&i(e,t,n)&&(t=n=void 0),(n=void 0===n?c:n>>>0)?(e=u(e))&&("string"==typeof t||null!=t&&!s(t))&&!(t=r(t))&&o(e)?a(l(e),0,n):e.split(t,n):[]}},"./node_modules/lodash/startCase.js":function(e,t,n){var r=n("./node_modules/lodash/_createCompounder.js"),a=n("./node_modules/lodash/upperFirst.js"),o=r(function(e,t,n){return e+(n?" ":"")+a(t)});e.exports=o},"./node_modules/lodash/startsWith.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClamp.js"),a=n("./node_modules/lodash/_baseToString.js"),o=n("./node_modules/lodash/toInteger.js"),i=n("./node_modules/lodash/toString.js");e.exports=function(e,t,n){return e=i(e),n=null==n?0:r(o(n),0,e.length),t=a(t),e.slice(n,n+t.length)==t}},"./node_modules/lodash/stubArray.js":function(e,t){e.exports=function(){return[]}},"./node_modules/lodash/stubFalse.js":function(e,t){e.exports=function(){return!1}},"./node_modules/lodash/sum.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSum.js"),a=n("./node_modules/lodash/identity.js");e.exports=function(e){return e&&e.length?r(e,a):0}},"./node_modules/lodash/times.js":function(e,t,n){var r=n("./node_modules/lodash/_baseTimes.js"),a=n("./node_modules/lodash/_castFunction.js"),o=n("./node_modules/lodash/toInteger.js"),i=9007199254740991,s=4294967295,l=Math.min;e.exports=function(e,t){if((e=o(e))<1||e>i)return[];var n=s,u=l(e,s);t=a(t),e-=s;for(var c=r(u,t);++n<e;)t(n);return c}},"./node_modules/lodash/toArray.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),a=n("./node_modules/lodash/_copyArray.js"),o=n("./node_modules/lodash/_getTag.js"),i=n("./node_modules/lodash/isArrayLike.js"),s=n("./node_modules/lodash/isString.js"),l=n("./node_modules/lodash/_iteratorToArray.js"),u=n("./node_modules/lodash/_mapToArray.js"),c=n("./node_modules/lodash/_setToArray.js"),f=n("./node_modules/lodash/_stringToArray.js"),d=n("./node_modules/lodash/values.js"),h="[object Map]",p="[object Set]",m=r?r.iterator:void 0;e.exports=function(e){if(!e)return[];if(i(e))return s(e)?f(e):a(e);if(m&&e[m])return l(e[m]());var t=o(e);return(t==h?u:t==p?c:d)(e)}},"./node_modules/lodash/toFinite.js":function(e,t,n){var r=n("./node_modules/lodash/toNumber.js"),a=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===a||e===-a?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},"./node_modules/lodash/toInteger.js":function(e,t,n){var r=n("./node_modules/lodash/toFinite.js");e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},"./node_modules/lodash/toNumber.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),a=n("./node_modules/lodash/isSymbol.js"),o=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}},"./node_modules/lodash/toPath.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),a=n("./node_modules/lodash/_copyArray.js"),o=n("./node_modules/lodash/isArray.js"),i=n("./node_modules/lodash/isSymbol.js"),s=n("./node_modules/lodash/_stringToPath.js"),l=n("./node_modules/lodash/_toKey.js"),u=n("./node_modules/lodash/toString.js");e.exports=function(e){return o(e)?r(e,l):i(e)?[e]:a(s(u(e)))}},"./node_modules/lodash/toString.js":function(e,t,n){var r=n("./node_modules/lodash/_baseToString.js");e.exports=function(e){return null==e?"":r(e)}},"./node_modules/lodash/union.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFlatten.js"),a=n("./node_modules/lodash/_baseRest.js"),o=n("./node_modules/lodash/_baseUniq.js"),i=n("./node_modules/lodash/isArrayLikeObject.js"),s=a(function(e){return o(r(e,1,i,!0))});e.exports=s},"./node_modules/lodash/uniq.js":function(e,t,n){var r=n("./node_modules/lodash/_baseUniq.js");e.exports=function(e){return e&&e.length?r(e):[]}},"./node_modules/lodash/upperFirst.js":function(e,t,n){var r=n("./node_modules/lodash/_createCaseFirst.js")("toUpperCase");e.exports=r},"./node_modules/lodash/values.js":function(e,t,n){var r=n("./node_modules/lodash/_baseValues.js"),a=n("./node_modules/lodash/keys.js");e.exports=function(e){return null==e?[]:r(e,a(e))}},"./node_modules/lodash/without.js":function(e,t,n){var r=n("./node_modules/lodash/_baseDifference.js"),a=n("./node_modules/lodash/_baseRest.js"),o=n("./node_modules/lodash/isArrayLikeObject.js"),i=a(function(e,t){return o(e)?r(e,t):[]});e.exports=i},"./node_modules/lodash/words.js":function(e,t,n){var r=n("./node_modules/lodash/_asciiWords.js"),a=n("./node_modules/lodash/_hasUnicodeWord.js"),o=n("./node_modules/lodash/toString.js"),i=n("./node_modules/lodash/_unicodeWords.js");e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?a(e)?i(e):r(e):e.match(t)||[]}},"./node_modules/lodash/wrapperLodash.js":function(e,t,n){var r=n("./node_modules/lodash/_LazyWrapper.js"),a=n("./node_modules/lodash/_LodashWrapper.js"),o=n("./node_modules/lodash/_baseLodash.js"),i=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/isObjectLike.js"),l=n("./node_modules/lodash/_wrapperClone.js"),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!i(e)&&!(e instanceof r)){if(e instanceof a)return e;if(u.call(e,"__wrapped__"))return l(e)}return new a(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c},"./node_modules/object-assign/index.js":function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))a.call(n,u)&&(s[u]=n[u]);if(r){i=r(n);for(var c=0;c<i.length;c++)o.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s}},"./node_modules/plotly.js-gl2d-dist/plotly-gl2d.js":function(e,t,n){(function(t){var n;e.exports=function e(t,r,a){function o(s,l){if(!r[s]){if(!t[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n||e)},f,f.exports,e,t,r,a)}return r[s].exports}for(var i="function"==typeof n&&n,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(e,t,n){"use strict";var r=e("../src/lib"),a={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in a){var i=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(i,a[o])}},{"../src/lib":440}],2:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:1e3,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:1e3,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"}}},{}],3:[function(e,t,n){"use strict";t.exports=e("../src/traces/contourgl")},{"../src/traces/contourgl":553}],4:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":421}],5:[function(e,t,n){"use strict";t.exports=e("../src/traces/heatmapgl")},{"../src/traces/heatmapgl":568}],6:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./scattergl"),e("./splom"),e("./pointcloud"),e("./heatmapgl"),e("./contourgl"),e("./parcoords")]),t.exports=r},{"./contourgl":3,"./core":4,"./heatmapgl":5,"./parcoords":7,"./pointcloud":8,"./scattergl":9,"./splom":10}],7:[function(e,t,n){"use strict";t.exports=e("../src/traces/parcoords")},{"../src/traces/parcoords":581}],8:[function(e,t,n){"use strict";t.exports=e("../src/traces/pointcloud")},{"../src/traces/pointcloud":591}],9:[function(e,t,n){"use strict";t.exports=e("../src/traces/scattergl")},{"../src/traces/scattergl":625}],10:[function(e,t,n){"use strict";t.exports=e("../src/traces/splom")},{"../src/traces/splom":629}],11:[function(e,t,n){t.exports=function(e){var t=0,n=0,r=0,a=0;return e.map(function(e){var o=(e=e.slice())[0],i=o.toUpperCase();if(o!=i)switch(e[0]=i,o){case"a":e[6]+=r,e[7]+=a;break;case"v":e[1]+=a;break;case"h":e[1]+=r;break;default:for(var s=1;s<e.length;)e[s++]+=r,e[s++]+=a}switch(i){case"Z":r=t,a=n;break;case"H":r=e[1];break;case"V":a=e[1];break;case"M":r=t=e[1],a=n=e[2];break;default:r=e[e.length-2],a=e[e.length-1]}return e})}},{}],12:[function(e,t,n){var r=e("pad-left");t.exports=function(e,t,n){t="number"==typeof t?t:1,n=n||": ";var a=e.split(/\r?\n/),o=String(a.length+t-1).length;return a.map(function(e,a){var i=a+t,s=String(i).length,l=r(i,o-s);return l+n+e}).join("\n")}},{"pad-left":223}],13:[function(e,t,n){"use strict";t.exports=function(e,t){if(!e||null==e.length)throw Error("Argument should be an array");t=null==t?1:Math.floor(t);for(var n=Array(2*t),r=0;r<t;r++){for(var a=-1/0,o=1/0,i=r,s=e.length;i<s;i+=t)e[i]>a&&(a=e[i]),e[i]<o&&(o=e[i]);n[r]=o,n[t+r]=a}return n}},{}],14:[function(e,t,n){"use strict";var r=e("array-bounds");t.exports=function(e,t,n){if(!e||null==e.length)throw Error("Argument should be an array");null==t&&(t=1),null==n&&(n=r(e,t));for(var a=0;a<t;a++){var o=n[t+a],i=n[a],s=a,l=e.length;if(o===1/0&&i===-1/0)for(s=a;s<l;s+=t)e[s]=e[s]===o?1:e[s]===i?0:.5;else if(o===1/0)for(s=a;s<l;s+=t)e[s]=e[s]===o?1:0;else if(i===-1/0)for(s=a;s<l;s+=t)e[s]=e[s]===i?0:1;else{var u=o-i;for(s=a;s<l;s+=t)e[s]=0===u?.5:(e[s]-i)/u}}return e}},{"array-bounds":13}],15:[function(e,t,n){t.exports=function(e,t){var n="number"==typeof e,r="number"==typeof t;n&&!r?(t=e,e=0):n||r||(e=0,t=0);var a=(t|=0)-(e|=0);if(a<0)throw new Error("array length must be positive");for(var o=new Array(a),i=0,s=e;i<a;i++,s++)o[i]=s;return o}},{}],16:[function(e,n,r){(function(t){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=e("util/"),i=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function c(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=n.exports=g,d=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(o.isFunction(e)){if(l)return e.name;var t=e.toString(),n=t.match(d);return n&&n[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(l||!o.isFunction(e))return o.inspect(e);var t=h(e),n=t?": "+t:"";return"[Function"+n+"]"}function v(e,t,n,r,a){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:a})}function g(e,t){e||v(e,!0,t,"==",f.ok)}function y(e,t,n,i){if(e===t)return!0;if(a(e)&&a(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var l=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=b(e),i=b(t);if(a&&!i||!a&&i)return!1;if(a)return e=s.call(e),t=s.call(t),y(e,t,n);var l,u,c=w(e),f=w(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),u=c.length-1;u>=0;u--)if(c[u]!==f[u])return!1;for(u=c.length-1;u>=0;u--)if(l=c[u],!y(e[l],t[l],n,r))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!a&&v(a,n,"Missing expected exception"+r);var i="string"==typeof r,s=!e&&o.isError(a),l=!e&&a&&!n;if((s&&i&&_(a,n)||l)&&v(a,n,"Got unwanted exception"+r),e&&a&&n&&!_(a,n)||!e&&a)throw a}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return p(m(e.actual),128)+" "+e.operator+" "+p(m(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,a=h(t),o=r.indexOf("\n"+a);if(o>=0){var i=r.indexOf("\n",o+1);r=r.substring(i+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=v,f.ok=g,f.equal=function(e,t,n){e!=t&&v(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){y(e,t,!1)||v(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){y(e,t,!0)||v(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){y(e,t,!1)&&v(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){x(!0,e,t,n)},f.doesNotThrow=function(e,t,n){x(!1,e,t,n)},f.ifError=function(e){if(e)throw e};var w=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":19}],17:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],18:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],19:[function(e,n,r){(function(t,n){var a=/%[sdj%]/g;r.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,i=String(e).replace(a,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<o;l=r[++n])m(l)||!_(l)?i+=" "+l:i+=" "+s(l);return i},r.deprecate=function(e,a){if(y(n.process))return function(){return r.deprecate(e,a).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(a);t.traceDeprecation?console.trace(a):console.error(a),o=!0}return e.apply(this,arguments)}};var o,i={};function s(e,t){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&r._extend(n,t),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),c(n,e,n.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var a=t.inspect(n,e);return g(a)||(a=c(e,a,n)),a}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var i=Object.keys(t),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),w(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(t);if(0===i.length){if(k(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(w(t))return f(t)}var u,_="",A=!1,T=["{","}"];if(h(t)&&(A=!0,T=["[","]"]),k(t)){var M=t.name?": "+t.name:"";_=" [Function"+M+"]"}return b(t)&&(_=" "+RegExp.prototype.toString.call(t)),x(t)&&(_=" "+Date.prototype.toUTCString.call(t)),w(t)&&(_=" "+f(t)),0!==i.length||A&&0!=t.length?n<0?b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=A?function(e,t,n,r,a){for(var o=[],i=0,s=t.length;i<s;++i)E(t,String(i))?o.push(d(e,t,n,r,String(i),!0)):o.push("");return a.forEach(function(a){a.match(/^\d+$/)||o.push(d(e,t,n,r,a,!0))}),o}(e,t,n,s,i):i.map(function(r){return d(e,t,n,s,r,A)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,_,T)):T[0]+_+T[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,a,o){var i,s,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),E(r,a)||(i="["+a+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(i)){if(o&&a.match(/^\d+$/))return s;(i=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===A(e)}function _(e){return"object"==typeof e&&null!==e}function x(e){return _(e)&&"[object Date]"===A(e)}function w(e){return _(e)&&("[object Error]"===A(e)||e instanceof Error)}function k(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(y(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!i[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;i[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else i[e]=function(){};return i[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=h,r.isBoolean=p,r.isNull=m,r.isNullOrUndefined=function(e){return null==e},r.isNumber=v,r.isString=g,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=y,r.isRegExp=b,r.isObject=_,r.isDate=x,r.isError=w,r.isFunction=k,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",function(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":18,_process:247,inherits:17}],20:[function(e,t,n){t.exports=function(e){return atob(e)}},{}],21:[function(e,t,n){"use strict";n.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){for(var t,n=u(e),r=n[0],i=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,i)),l=0,c=i>0?r-4:r,f=0;f<c;f+=4)t=a[e.charCodeAt(f)]<<18|a[e.charCodeAt(f+1)]<<12|a[e.charCodeAt(f+2)]<<6|a[e.charCodeAt(f+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===i&&(t=a[e.charCodeAt(f)]<<2|a[e.charCodeAt(f+1)]>>4,s[l++]=255&t),1===i&&(t=a[e.charCodeAt(f)]<<10|a[e.charCodeAt(f+1)]<<4|a[e.charCodeAt(f+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},n.fromByteArray=function(e){for(var t,n=e.length,a=n%3,o=[],i=0,s=n-a;i<s;i+=16383)o.push(f(e,i,i+16383>s?s:i+16383));return 1===a?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=i.length;s<l;++s)r[s]=i[s],a[i.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function f(e,t,n){for(var r,a=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(c(r));return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],22:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]).add(t[0].mul(e[1])),e[1].mul(t[1]))}},{"./lib/rationalize":32}],23:[function(e,t,n){"use strict";t.exports=function(e,t){return e[0].mul(t[1]).cmp(t[0].mul(e[1]))}},{}],24:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]),e[1].mul(t[0]))}},{"./lib/rationalize":32}],25:[function(e,t,n){"use strict";var r=e("./is-rat"),a=e("./lib/is-bn"),o=e("./lib/num-to-bn"),i=e("./lib/str-to-bn"),s=e("./lib/rationalize"),l=e("./div");t.exports=function e(t,n){if(r(t))return n?l(t,e(n)):[t[0].clone(),t[1].clone()];var u,c,f=0;if(a(t))u=t.clone();else if("string"==typeof t)u=i(t);else{if(0===t)return[o(0),o(1)];if(t===Math.floor(t))u=o(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),f-=256;u=o(t)}}if(r(n))u.mul(n[1]),c=n[0].clone();else if(a(n))c=n.clone();else if("string"==typeof n)c=i(n);else if(n)if(n===Math.floor(n))c=o(n);else{for(;n!==Math.floor(n);)n*=Math.pow(2,256),f+=256;c=o(n)}else c=o(1);return f>0?u=u.ushln(f):f<0&&(c=c.ushln(-f)),s(u,c)}},{"./div":24,"./is-rat":26,"./lib/is-bn":30,"./lib/num-to-bn":31,"./lib/rationalize":32,"./lib/str-to-bn":33}],26:[function(e,t,n){"use strict";var r=e("./lib/is-bn");t.exports=function(e){return Array.isArray(e)&&2===e.length&&r(e[0])&&r(e[1])}},{"./lib/is-bn":30}],27:[function(e,t,n){"use strict";var r=e("bn.js");t.exports=function(e){return e.cmp(new r(0))}},{"bn.js":41}],28:[function(e,t,n){"use strict";var r=e("./bn-sign");t.exports=function(e){var t=e.length,n=e.words,a=0;if(1===t)a=n[0];else if(2===t)a=n[0]+67108864*n[1];else for(var o=0;o<t;o++){var i=n[o];a+=i*Math.pow(67108864,o)}return r(e)*a}},{"./bn-sign":27}],29:[function(e,t,n){"use strict";var r=e("double-bits"),a=e("bit-twiddle").countTrailingZeros;t.exports=function(e){var t=a(r.lo(e));if(t<32)return t;var n=a(r.hi(e));return n>20?52:n+32}},{"bit-twiddle":39,"double-bits":88}],30:[function(e,t,n){"use strict";e("bn.js"),t.exports=function(e){return e&&"object"==typeof e&&Boolean(e.words)}},{"bn.js":41}],31:[function(e,t,n){"use strict";var r=e("bn.js"),a=e("double-bits");t.exports=function(e){var t=a.exponent(e);return t<52?new r(e):new r(e*Math.pow(2,52-t)).ushln(t-52)}},{"bn.js":41,"double-bits":88}],32:[function(e,t,n){"use strict";var r=e("./num-to-bn"),a=e("./bn-sign");t.exports=function(e,t){var n=a(e),o=a(t);if(0===n)return[r(0),r(1)];if(0===o)return[r(0),r(0)];o<0&&(e=e.neg(),t=t.neg());var i=e.gcd(t);return i.cmpn(1)?[e.div(i),t.div(i)]:[e,t]}},{"./bn-sign":27,"./num-to-bn":31}],33:[function(e,t,n){"use strict";var r=e("bn.js");t.exports=function(e){return new r(e)}},{"bn.js":41}],34:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[0]),e[1].mul(t[1]))}},{"./lib/rationalize":32}],35:[function(e,t,n){"use strict";var r=e("./lib/bn-sign");t.exports=function(e){return r(e[0])*r(e[1])}},{"./lib/bn-sign":27}],36:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]).sub(e[1].mul(t[0])),e[1].mul(t[1]))}},{"./lib/rationalize":32}],37:[function(e,t,n){"use strict";var r=e("./lib/bn-to-num"),a=e("./lib/ctz");t.exports=function(e){var t=e[0],n=e[1];if(0===t.cmpn(0))return 0;var o=t.abs().divmod(n.abs()),i=o.div,s=r(i),l=o.mod,u=t.negative!==n.negative?-1:1;if(0===l.cmpn(0))return u*s;if(s){var c=a(s)+4,f=r(l.ushln(c).divRound(n));return u*(s+f*Math.pow(2,-c))}var d=n.bitLength()-l.bitLength()+53,f=r(l.ushln(d).divRound(n));return d<1023?u*f*Math.pow(2,-d):(f*=Math.pow(2,-1023),u*f*Math.pow(2,1023-d))}},{"./lib/bn-to-num":28,"./lib/ctz":29}],38:[function(e,t,n){"use strict";function r(e,t,n,r,a,o){var i=["function ",e,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",a?".get(m)":"[m]"];return o?t.indexOf("c")<0?i.push(";if(x===y){return m}else if(x<=y){"):i.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):i.push(";if(",t,"){i=m;"),n?i.push("l=m+1}else{h=m-1}"):i.push("h=m-1}else{l=m+1}"),i.push("}"),o?i.push("return -1};"):i.push("return i};"),i.join("")}function a(e,t,n,a){var o=new Function([r("A","x"+e+"y",t,["y"],!1,a),r("B","x"+e+"y",t,["y"],!0,a),r("P","c(x,y)"+e+"0",t,["y","c"],!1,a),r("Q","c(x,y)"+e+"0",t,["y","c"],!0,a),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""));return o()}t.exports={ge:a(">=",!1,"GE"),gt:a(">",!1,"GT"),lt:a("<",!0,"LT"),le:a("<=",!0,"LE"),eq:a("-",!0,"EQ",!0)}},{}],39:[function(e,t,n){"use strict";"use restrict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(e){return(e>0)-(e<0)},n.abs=function(e){var t=e>>31;return(e^t)-t},n.min=function(e,t){return t^(e^t)&-(e<t)},n.max=function(e,t){return e^(e^t)&-(e<t)},n.isPow2=function(e){return!(e&e-1||!e)},n.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},n.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},n.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},n.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},n.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var a=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,a=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--a;e[t]=r<<a&255}}(a),n.reverse=function(e){return a[255&e]<<24|a[e>>>8&255]<<16|a[e>>>16&255]<<8|a[e>>>24&255]},n.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},n.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},n.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},n.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},{}],40:[function(e,t,n){"use strict";var r=e("clamp");t.exports=function(e,t){t||(t={});var n,i,s,l,u,c,f,d,h,p,m,v=null==t.cutoff?.25:t.cutoff,g=null==t.radius?8:t.radius,y=t.channel||0;if(ArrayBuffer.isView(e)||Array.isArray(e)){if(!t.width||!t.height)throw Error("For raw data width and height should be provided by options");n=t.width,i=t.height,l=e,c=t.stride?t.stride:Math.floor(e.length/n/i)}else window.HTMLCanvasElement&&e instanceof window.HTMLCanvasElement?(f=(d=e).getContext("2d"),n=d.width,i=d.height,h=f.getImageData(0,0,n,i),l=h.data,c=4):window.CanvasRenderingContext2D&&e instanceof window.CanvasRenderingContext2D?(d=e.canvas,f=e,n=d.width,i=d.height,h=f.getImageData(0,0,n,i),l=h.data,c=4):window.ImageData&&e instanceof window.ImageData&&(h=e,n=e.width,i=e.height,l=h.data,c=4);if(s=Math.max(n,i),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(u=l,l=Array(n*i),p=0,m=u.length;p<m;p++)l[p]=u[p*c+y]/255;else if(1!==c)throw Error("Raw data can have only 1 value per pixel");var b=Array(n*i),_=Array(n*i),x=Array(s),w=Array(s),k=Array(s+1),A=Array(s);for(p=0,m=n*i;p<m;p++){var T=l[p];b[p]=1===T?0:0===T?a:Math.pow(Math.max(0,.5-T),2),_[p]=1===T?a:0===T?0:Math.pow(Math.max(0,T-.5),2)}o(b,n,i,x,w,A,k),o(_,n,i,x,w,A,k);var M=window.Float32Array?new Float32Array(n*i):new Array(n*i);for(p=0,m=n*i;p<m;p++)M[p]=r(1-((b[p]-_[p])/g+v),0,1);return M};var a=1e20;function o(e,t,n,r,a,o,s){for(var l=0;l<t;l++){for(var u=0;u<n;u++)r[u]=e[u*t+l];for(i(r,a,o,s,n),u=0;u<n;u++)e[u*t+l]=a[u]}for(u=0;u<n;u++){for(l=0;l<t;l++)r[l]=e[u*t+l];for(i(r,a,o,s,t),l=0;l<t;l++)e[u*t+l]=Math.sqrt(a[l])}}function i(e,t,n,r,o){n[0]=0,r[0]=-a,r[1]=+a;for(var i=1,s=0;i<o;i++){for(var l=(e[i]+i*i-(e[n[s]]+n[s]*n[s]))/(2*i-2*n[s]);l<=r[s];)s--,l=(e[i]+i*i-(e[n[s]]+n[s]*n[s]))/(2*i-2*n[s]);n[++s]=i,r[s]=l,r[s+1]=+a}for(i=0,s=0;i<o;i++){for(;r[s+1]<i;)s++;t[i]=(i-n[s])*(i-n[s])+e[n[s]]}}},{clamp:58}],41:[function(e,t,n){!function(t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var i;"object"==typeof t?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;try{i=e("buffer").Buffer}catch(e){}function s(e,t,n){for(var r=0,a=Math.min(e.length,n),o=t;o<a;o++){var i=e.charCodeAt(o)-48;r<<=4,r|=i>=49&&i<=54?i-49+10:i>=17&&i<=22?i-17+10:15&i}return r}function l(e,t,n,r){for(var a=0,o=Math.min(e.length,n),i=t;i<o;i++){var s=e.charCodeAt(i)-48;a*=r,a+=s>=49?s-49+10:s>=17?s-17+10:s}return a}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===t?this._parseHex(e,a):this._parseBase(e,t,a),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var o,i,s=0;if("be"===n)for(a=e.length-1,o=0;a>=0;a-=3)i=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[o]|=i<<s&67108863,this.words[o+1]=i>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(a=0,o=0;a<e.length;a+=3)i=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[o]|=i<<s&67108863,this.words[o+1]=i>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,a,o=0;for(n=e.length-6,r=0;n>=t;n-=6)a=s(e,n,n+6),this.words[r]|=a<<o&67108863,this.words[r+1]|=a>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(a=s(e,t,n+6),this.words[r]|=a<<o&67108863,this.words[r+1]|=a>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,a=1;a<=67108863;a*=t)r++;r--,a=a/t|0;for(var o=e.length-n,i=o%r,s=Math.min(o,o-i)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(a),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==i){var f=1;for(u=l(e,c,e.length,t),c=0;c<i;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var a=0|e.words[0],o=0|t.words[0],i=a*o,s=67108863&i,l=i/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,f=67108863&l,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;a=0|e.words[p],o=0|t.words[h],c+=(i=a*o+f)/67108864|0,f=67108863&i}n.words[u]=0|f,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(e=e||10,t=0|t||1,16===e||"hex"===e){n="";for(var a=0,o=0,i=0;i<this.length;i++){var s=this.words[i],l=(16777215&(s<<a|o)).toString(16);n=0!=(o=s>>>24-a&16777215)||i!==this.length-1?u[6-l.length]+l+n:l+n,(a+=2)>=26&&(a-=26,i--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=c[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);p=p.idivn(h),n=p.isZero()?m+n:u[d-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==i),this.toArrayLike(i,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var a=this.byteLength(),o=n||Math.max(1,a);r(a<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var i,s,l="le"===t,u=new e(o),c=this.clone();if(l){for(s=0;!c.isZero();s++)i=c.andln(255),c.iushrn(8),u[s]=i;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-a;s++)u[s]=0;for(s=0;!c.isZero();s++)i=c.andln(255),c.iushrn(8),u[o-s-1]=i}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,a=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<a:this.words[n]&~(1<<a),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var a=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+a,this.words[o]=67108863&t,a=t>>>26;for(;0!==a&&o<n.length;o++)t=(0|n.words[o])+a,this.words[o]=67108863&t,a=t>>>26;if(this.length=n.length,0!==a)this.words[this.length]=a,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(n=this,r=e):(n=e,r=this);for(var o=0,i=0;i<r.length;i++)t=(0|n.words[i])-(0|r.words[i])+o,o=t>>26,this.words[i]=67108863&t;for(;0!==o&&i<n.length;i++)t=(0|n.words[i])+o,o=t>>26,this.words[i]=67108863&t;if(0===o&&i<n.length&&n!==this)for(;i<n.length;i++)this.words[i]=n.words[i];return this.length=Math.max(this.length,i),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,a,o,i=e.words,s=t.words,l=n.words,u=0,c=0|i[0],f=8191&c,d=c>>>13,h=0|i[1],p=8191&h,m=h>>>13,v=0|i[2],g=8191&v,y=v>>>13,b=0|i[3],_=8191&b,x=b>>>13,w=0|i[4],k=8191&w,A=w>>>13,T=0|i[5],M=8191&T,E=T>>>13,C=0|i[6],S=8191&C,j=C>>>13,O=0|i[7],P=8191&O,N=O>>>13,I=0|i[8],L=8191&I,D=I>>>13,R=0|i[9],z=8191&R,F=R>>>13,B=0|s[0],U=8191&B,H=B>>>13,q=0|s[1],V=8191&q,W=q>>>13,G=0|s[2],X=8191&G,Y=G>>>13,K=0|s[3],Z=8191&K,J=K>>>13,Q=0|s[4],$=8191&Q,ee=Q>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ae=0|s[6],oe=8191&ae,ie=ae>>>13,se=0|s[7],le=8191&se,ue=se>>>13,ce=0|s[8],fe=8191&ce,de=ce>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19,r=Math.imul(f,U),a=(a=Math.imul(f,H))+Math.imul(d,U)|0,o=Math.imul(d,H);var ve=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,U),a=(a=Math.imul(p,H))+Math.imul(m,U)|0,o=Math.imul(m,H),r=r+Math.imul(f,V)|0,a=(a=a+Math.imul(f,W)|0)+Math.imul(d,V)|0,o=o+Math.imul(d,W)|0;var ge=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,U),a=(a=Math.imul(g,H))+Math.imul(y,U)|0,o=Math.imul(y,H),r=r+Math.imul(p,V)|0,a=(a=a+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0,r=r+Math.imul(f,X)|0,a=(a=a+Math.imul(f,Y)|0)+Math.imul(d,X)|0,o=o+Math.imul(d,Y)|0;var ye=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,U),a=(a=Math.imul(_,H))+Math.imul(x,U)|0,o=Math.imul(x,H),r=r+Math.imul(g,V)|0,a=(a=a+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,X)|0,a=(a=a+Math.imul(p,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,r=r+Math.imul(f,Z)|0,a=(a=a+Math.imul(f,J)|0)+Math.imul(d,Z)|0,o=o+Math.imul(d,J)|0;var be=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(k,U),a=(a=Math.imul(k,H))+Math.imul(A,U)|0,o=Math.imul(A,H),r=r+Math.imul(_,V)|0,a=(a=a+Math.imul(_,W)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(g,X)|0,a=(a=a+Math.imul(g,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(p,Z)|0,a=(a=a+Math.imul(p,J)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,J)|0,r=r+Math.imul(f,$)|0,a=(a=a+Math.imul(f,ee)|0)+Math.imul(d,$)|0,o=o+Math.imul(d,ee)|0;var _e=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(M,U),a=(a=Math.imul(M,H))+Math.imul(E,U)|0,o=Math.imul(E,H),r=r+Math.imul(k,V)|0,a=(a=a+Math.imul(k,W)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,W)|0,r=r+Math.imul(_,X)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,Y)|0,r=r+Math.imul(g,Z)|0,a=(a=a+Math.imul(g,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0,r=r+Math.imul(p,$)|0,a=(a=a+Math.imul(p,ee)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,ee)|0,r=r+Math.imul(f,ne)|0,a=(a=a+Math.imul(f,re)|0)+Math.imul(d,ne)|0,o=o+Math.imul(d,re)|0;var xe=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(S,U),a=(a=Math.imul(S,H))+Math.imul(j,U)|0,o=Math.imul(j,H),r=r+Math.imul(M,V)|0,a=(a=a+Math.imul(M,W)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,W)|0,r=r+Math.imul(k,X)|0,a=(a=a+Math.imul(k,Y)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Y)|0,r=r+Math.imul(_,Z)|0,a=(a=a+Math.imul(_,J)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,J)|0,r=r+Math.imul(g,$)|0,a=(a=a+Math.imul(g,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,a=(a=a+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0,r=r+Math.imul(f,oe)|0,a=(a=a+Math.imul(f,ie)|0)+Math.imul(d,oe)|0,o=o+Math.imul(d,ie)|0;var we=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,U),a=(a=Math.imul(P,H))+Math.imul(N,U)|0,o=Math.imul(N,H),r=r+Math.imul(S,V)|0,a=(a=a+Math.imul(S,W)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(M,X)|0,a=(a=a+Math.imul(M,Y)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(k,Z)|0,a=(a=a+Math.imul(k,J)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,J)|0,r=r+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(g,ne)|0,a=(a=a+Math.imul(g,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,a=(a=a+Math.imul(p,ie)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ie)|0,r=r+Math.imul(f,le)|0,a=(a=a+Math.imul(f,ue)|0)+Math.imul(d,le)|0,o=o+Math.imul(d,ue)|0;var ke=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(L,U),a=(a=Math.imul(L,H))+Math.imul(D,U)|0,o=Math.imul(D,H),r=r+Math.imul(P,V)|0,a=(a=a+Math.imul(P,W)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,W)|0,r=r+Math.imul(S,X)|0,a=(a=a+Math.imul(S,Y)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Y)|0,r=r+Math.imul(M,Z)|0,a=(a=a+Math.imul(M,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(k,$)|0,a=(a=a+Math.imul(k,ee)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(_,ne)|0,a=(a=a+Math.imul(_,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(g,oe)|0,a=(a=a+Math.imul(g,ie)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ie)|0,r=r+Math.imul(p,le)|0,a=(a=a+Math.imul(p,ue)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,ue)|0,r=r+Math.imul(f,fe)|0,a=(a=a+Math.imul(f,de)|0)+Math.imul(d,fe)|0,o=o+Math.imul(d,de)|0;var Ae=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(z,U),a=(a=Math.imul(z,H))+Math.imul(F,U)|0,o=Math.imul(F,H),r=r+Math.imul(L,V)|0,a=(a=a+Math.imul(L,W)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,W)|0,r=r+Math.imul(P,X)|0,a=(a=a+Math.imul(P,Y)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(S,Z)|0,a=(a=a+Math.imul(S,J)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,J)|0,r=r+Math.imul(M,$)|0,a=(a=a+Math.imul(M,ee)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(k,ne)|0,a=(a=a+Math.imul(k,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(_,oe)|0,a=(a=a+Math.imul(_,ie)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ie)|0,r=r+Math.imul(g,le)|0,a=(a=a+Math.imul(g,ue)|0)+Math.imul(y,le)|0,o=o+Math.imul(y,ue)|0,r=r+Math.imul(p,fe)|0,a=(a=a+Math.imul(p,de)|0)+Math.imul(m,fe)|0,o=o+Math.imul(m,de)|0,r=r+Math.imul(f,pe)|0,a=(a=a+Math.imul(f,me)|0)+Math.imul(d,pe)|0,o=o+Math.imul(d,me)|0;var Te=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(z,V),a=(a=Math.imul(z,W))+Math.imul(F,V)|0,o=Math.imul(F,W),r=r+Math.imul(L,X)|0,a=(a=a+Math.imul(L,Y)|0)+Math.imul(D,X)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(P,Z)|0,a=(a=a+Math.imul(P,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,r=r+Math.imul(S,$)|0,a=(a=a+Math.imul(S,ee)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(M,ne)|0,a=(a=a+Math.imul(M,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(k,oe)|0,a=(a=a+Math.imul(k,ie)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ie)|0,r=r+Math.imul(_,le)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(x,le)|0,o=o+Math.imul(x,ue)|0,r=r+Math.imul(g,fe)|0,a=(a=a+Math.imul(g,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0,r=r+Math.imul(p,pe)|0,a=(a=a+Math.imul(p,me)|0)+Math.imul(m,pe)|0,o=o+Math.imul(m,me)|0;var Me=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(z,X),a=(a=Math.imul(z,Y))+Math.imul(F,X)|0,o=Math.imul(F,Y),r=r+Math.imul(L,Z)|0,a=(a=a+Math.imul(L,J)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,J)|0,r=r+Math.imul(P,$)|0,a=(a=a+Math.imul(P,ee)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(S,ne)|0,a=(a=a+Math.imul(S,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(M,oe)|0,a=(a=a+Math.imul(M,ie)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ie)|0,r=r+Math.imul(k,le)|0,a=(a=a+Math.imul(k,ue)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,ue)|0,r=r+Math.imul(_,fe)|0,a=(a=a+Math.imul(_,de)|0)+Math.imul(x,fe)|0,o=o+Math.imul(x,de)|0,r=r+Math.imul(g,pe)|0,a=(a=a+Math.imul(g,me)|0)+Math.imul(y,pe)|0,o=o+Math.imul(y,me)|0;var Ee=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(z,Z),a=(a=Math.imul(z,J))+Math.imul(F,Z)|0,o=Math.imul(F,J),r=r+Math.imul(L,$)|0,a=(a=a+Math.imul(L,ee)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,ee)|0,r=r+Math.imul(P,ne)|0,a=(a=a+Math.imul(P,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(S,oe)|0,a=(a=a+Math.imul(S,ie)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ie)|0,r=r+Math.imul(M,le)|0,a=(a=a+Math.imul(M,ue)|0)+Math.imul(E,le)|0,o=o+Math.imul(E,ue)|0,r=r+Math.imul(k,fe)|0,a=(a=a+Math.imul(k,de)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,de)|0,r=r+Math.imul(_,pe)|0,a=(a=a+Math.imul(_,me)|0)+Math.imul(x,pe)|0,o=o+Math.imul(x,me)|0;var Ce=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(z,$),a=(a=Math.imul(z,ee))+Math.imul(F,$)|0,o=Math.imul(F,ee),r=r+Math.imul(L,ne)|0,a=(a=a+Math.imul(L,re)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,re)|0,r=r+Math.imul(P,oe)|0,a=(a=a+Math.imul(P,ie)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ie)|0,r=r+Math.imul(S,le)|0,a=(a=a+Math.imul(S,ue)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,ue)|0,r=r+Math.imul(M,fe)|0,a=(a=a+Math.imul(M,de)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,de)|0,r=r+Math.imul(k,pe)|0,a=(a=a+Math.imul(k,me)|0)+Math.imul(A,pe)|0,o=o+Math.imul(A,me)|0;var Se=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(z,ne),a=(a=Math.imul(z,re))+Math.imul(F,ne)|0,o=Math.imul(F,re),r=r+Math.imul(L,oe)|0,a=(a=a+Math.imul(L,ie)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ie)|0,r=r+Math.imul(P,le)|0,a=(a=a+Math.imul(P,ue)|0)+Math.imul(N,le)|0,o=o+Math.imul(N,ue)|0,r=r+Math.imul(S,fe)|0,a=(a=a+Math.imul(S,de)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,de)|0,r=r+Math.imul(M,pe)|0,a=(a=a+Math.imul(M,me)|0)+Math.imul(E,pe)|0,o=o+Math.imul(E,me)|0;var je=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(z,oe),a=(a=Math.imul(z,ie))+Math.imul(F,oe)|0,o=Math.imul(F,ie),r=r+Math.imul(L,le)|0,a=(a=a+Math.imul(L,ue)|0)+Math.imul(D,le)|0,o=o+Math.imul(D,ue)|0,r=r+Math.imul(P,fe)|0,a=(a=a+Math.imul(P,de)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,de)|0,r=r+Math.imul(S,pe)|0,a=(a=a+Math.imul(S,me)|0)+Math.imul(j,pe)|0,o=o+Math.imul(j,me)|0;var Oe=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(z,le),a=(a=Math.imul(z,ue))+Math.imul(F,le)|0,o=Math.imul(F,ue),r=r+Math.imul(L,fe)|0,a=(a=a+Math.imul(L,de)|0)+Math.imul(D,fe)|0,o=o+Math.imul(D,de)|0,r=r+Math.imul(P,pe)|0,a=(a=a+Math.imul(P,me)|0)+Math.imul(N,pe)|0,o=o+Math.imul(N,me)|0;var Pe=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(z,fe),a=(a=Math.imul(z,de))+Math.imul(F,fe)|0,o=Math.imul(F,de),r=r+Math.imul(L,pe)|0,a=(a=a+Math.imul(L,me)|0)+Math.imul(D,pe)|0,o=o+Math.imul(D,me)|0;var Ne=(u+r|0)+((8191&a)<<13)|0;u=(o+(a>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(z,pe),a=(a=Math.imul(z,me))+Math.imul(F,pe)|0,o=Math.imul(F,me);var Ie=(u+r|0)+((8191&a)<<13)|0;return u=(o+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,l[0]=ve,l[1]=ge,l[2]=ye,l[3]=be,l[4]=_e,l[5]=xe,l[6]=we,l[7]=ke,l[8]=Ae,l[9]=Te,l[10]=Me,l[11]=Ee,l[12]=Ce,l[13]=Se,l[14]=je,l[15]=Oe,l[16]=Pe,l[17]=Ne,l[18]=Ie,0!==u&&(l[19]=u,n.length++),n};function p(e,t,n){var r=new m;return r.mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=d),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,a=0,o=0;o<n.length-1;o++){var i=a;a=0;for(var s=67108863&r,l=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=l;u++){var c=o-u,f=0|e.words[c],d=0|t.words[u],h=f*d,p=67108863&h;s=67108863&(p=p+s|0),a+=(i=(i=i+(h/67108864|0)|0)+(p>>>26)|0)>>>26,i&=67108863}n.words[o]=s,r=i,i=a}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,a=0;a<t;a++)r|=(1&e)<<t-a-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,a,o){for(var i=0;i<o;i++)r[i]=t[e[i]],a[i]=n[e[i]]},m.prototype.transform=function(e,t,n,r,a,o){this.permute(o,e,t,n,r,a);for(var i=1;i<a;i<<=1)for(var s=i<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<a;c+=s)for(var f=l,d=u,h=0;h<i;h++){var p=n[c+h],m=r[c+h],v=n[c+h+i],g=r[c+h+i],y=f*v-d*g;g=f*g+d*v,v=y,n[c+h]=p+v,r[c+h]=m+g,n[c+h+i]=p-v,r[c+h+i]=m-g,h!==s&&(y=l*f-u*d,d=l*d+u*f,f=y)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,a=0;for(n=n/2|0;n;n>>>=1)a++;return 1<<a+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var a=e[r];e[r]=e[n-r-1],e[n-r-1]=a,a=t[r],t[r]=-t[n-r-1],t[n-r-1]=-a}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var a=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&a,n=a<67108864?0:a/67108864|0}return e},m.prototype.convert13b=function(e,t,n,a){for(var o=0,i=0;i<t;i++)o+=0|e[i],n[2*i]=8191&o,o>>>=13,n[2*i+1]=8191&o,o>>>=13;for(i=2*t;i<a;++i)n[i]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(r),o=this.stub(r),i=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,i,r),this.convert13b(t.words,t.length,u,r),this.transform(i,o,s,l,r,a),this.transform(u,o,c,f,r,a);for(var h=0;h<r;h++){var p=s[h]*c[h]-l[h]*f[h];l[h]=s[h]*f[h]+l[h]*c[h],s[h]=p}return this.conjugate(s,l,r),this.transform(s,l,d,o,r,a),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var a=(0|this.words[n])*e,o=(67108863&a)+(67108863&t);t>>=26,t+=a/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,a=n%26;t[n]=(e.words[r]&1<<a)>>>a}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var a=n.sqr();r<t.length;r++,a=a.sqr())0!==t[r]&&(n=n.mul(a));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,a=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var i=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,l=(0|this.words[t])-s<<n;this.words[t]=l|i,i=s>>>26-n}i&&(this.words[t]=i,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var a;r("number"==typeof e&&e>=0),a=t?(t-t%26)/26:0;var o=e%26,i=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(a-=i,a=Math.max(0,a),l){for(var u=0;u<i;u++)l.words[u]=this.words[u];l.length=i}if(0===i);else if(this.length>i)for(this.length-=i,u=0;u<this.length;u++)this.words[u]=this.words[u+i];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=a);u--){var f=0|this.words[u];this.words[u]=c<<26-o|f>>>o,c=f&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,a=1<<t;if(this.length<=n)return!1;var o=this.words[n];return!!(o&a)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var a,o,i=e.length+n;this._expand(i);var s=0;for(a=0;a<e.length;a++){o=(0|this.words[a+n])+s;var l=(0|e.words[a])*t;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[a+n]=67108863&o}for(;a<this.length-n;a++)o=(0|this.words[a+n])+s,s=o>>26,this.words[a+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,a=0;a<this.length;a++)o=-(0|this.words[a])+s,s=o>>26,this.words[a]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),a=e,i=0|a.words[a.length-1],s=this._countBits(i);0!=(n=26-s)&&(a=a.ushln(n),r.iushln(n),i=0|a.words[a.length-1]);var l,u=r.length-a.length;if("mod"!==t){(l=new o(null)).length=u+1,l.words=new Array(l.length);for(var c=0;c<l.length;c++)l.words[c]=0}var f=r.clone()._ishlnsubmul(a,1,u);0===f.negative&&(r=f,l&&(l.words[u]=1));for(var d=u-1;d>=0;d--){var h=67108864*(0|r.words[a.length+d])+(0|r.words[a.length+d-1]);for(h=Math.min(h/i|0,67108863),r._ishlnsubmul(a,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(a,1,d),r.isZero()||(r.negative^=1);l&&(l.words[d]=h)}return l&&l.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:l||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(a=s.div.neg()),"div"!==t&&(i=s.mod.neg(),n&&0!==i.negative&&i.iadd(e)),{div:a,mod:i}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(a=s.div.neg()),{div:a,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(i=s.mod.neg(),n&&0!==i.negative&&i.isub(e)),{div:s.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,i,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),a=e.andln(1),o=n.cmp(r);return o<0||1===a&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,a=this.length-1;a>=0;a--)n=(t*n+(0|this.words[a]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var a=(0|this.words[n])+67108864*t;this.words[n]=a/e|0,t=a%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new o(1),i=new o(0),s=new o(0),l=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(a.isOdd()||i.isOdd())&&(a.iadd(c),i.isub(f)),a.iushrn(1),i.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(f)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s),i.isub(l)):(n.isub(t),s.isub(a),l.isub(i))}return{a:s,b:l,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,i=new o(1),s=new o(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)i.isOdd()&&i.iadd(l),i.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s)):(n.isub(t),s.isub(i))}return(a=0===t.cmpn(1)?i:s).cmpn(0)<0&&a.iadd(e),a},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var a=t.cmp(n);if(a<0){var o=t;t=n,n=o}else if(0===a||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,a=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var o=a,i=n;0!==o&&i<this.length;i++){var s=0|this.words[i];o=(s+=o)>>>26,s&=67108863,this.words[i]=s}return 0!==o&&(this.words[i]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],a=0|e.words[n];if(r!==a){r<a?t=-1:r>a&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new w(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),n=(n=this.imulK(n)).iadd(this.tmp),t=n.bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},a(y,g),y.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|a>>>22,a=o}a>>>=22,e.words[r-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(b,g),a(_,g),a(x,g),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,a=67108863&r;r>>>=26,e.words[n]=a,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new b;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},w.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},w.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),i=0;!a.isZero()&&0===a.andln(1);)i++,a.iushrn(1);r(!a.isZero());var s=new o(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var f=this.pow(c,a),d=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=i;0!==h.cmp(s);){for(var m=h,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(f,new o(1).iushln(p-v-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=v}return d},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var a=n[0],i=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],c=l-1;c>=0;c--){var f=u>>c&1;a!==n[0]&&(a=this.sqr(a)),0!==f||0!==i?(i<<=1,i|=f,(4==++s||0===r&&0===c)&&(a=this.mul(a,n[i]),s=0,i=0)):s=0}l=26}return a},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},a(k,w),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(r).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):a.cmpn(0)<0&&(o=a.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(r).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},k.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}(void 0===t||t,this)},{buffer:49}],42:[function(e,t,n){"use strict";t.exports=function(e,t,n){switch(arguments.length){case 1:return function(e){return r=[],u(e,e,c,!0),r}(e);case 2:return"function"==typeof t?u(e,e,t,!0):function(e,t){return r=[],u(e,t,c,!1),r}(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,a=e("typedarray-pool"),o=e("./lib/sweep"),i=e("./lib/intersect");function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var a=0,o=0,i=0,l=e.length;i<l;++i){var u=e[i];if(!s(t,u)){for(var c=0;c<2*t;++c)n[a++]=u[c];r[o++]=i}}return o}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var f,d=a.mallocDouble(2*c*s),h=a.mallocInt32(s);if((s=l(e,c,d,h))>0){if(1===c&&r)o.init(s),f=o.sweepComplete(c,n,0,s,d,h,0,s,d,h);else{var p=a.mallocDouble(2*c*u),m=a.mallocInt32(u);(u=l(t,c,p,m))>0&&(o.init(s+u),f=1===c?o.sweepBipartite(c,n,0,s,d,h,0,u,p,m):i(c,n,r,s,d,h,u,p,m),a.free(p),a.free(m))}a.free(d),a.free(h)}return f}}}function c(e,t){r.push([e,t])}},{"./lib/intersect":44,"./lib/sweep":48,"typedarray-pool":289}],43:[function(e,t,n){"use strict";var r="d",a="ax",o="vv",i="fp",s="es",l="rs",u="re",c="rb",f="ri",d="rp",h="bs",p="be",m="bb",v="bi",g="bp",y="rv",b="Q",_=[r,a,o,l,u,c,f,h,p,m,v];function x(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],x=_.slice();e||x.splice(3,0,i);var w=["function "+t+"("+x.join()+"){"];function k(t,i){var x=function(e,t,n){var i="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),x=["function ",i,"(",_.join(),"){","var ",s,"=2*",r,";"],w="for(var i="+l+","+d+"="+s+"*"+l+";i<"+u+";++i,"+d+"+="+s+"){var x0="+c+"["+a+"+"+d+"],x1="+c+"["+a+"+"+d+"+"+r+"],xi="+f+"[i];",k="for(var j="+h+","+g+"="+s+"*"+h+";j<"+p+";++j,"+g+"+="+s+"){var y0="+m+"["+a+"+"+g+"],"+(n?"y1="+m+"["+a+"+"+g+"+"+r+"],":"")+"yi="+v+"[j];";return e?x.push(w,b,":",k):x.push(k,b,":",w),n?x.push("if(y1<x0||x1<y0)continue;"):t?x.push("if(y0<=x0||x1<y0)continue;"):x.push("if(y0<x0||x1<y0)continue;"),x.push("for(var k="+a+"+1;k<"+r+";++k){var r0="+c+"[k+"+d+"],r1="+c+"[k+"+r+"+"+d+"],b0="+m+"[k+"+g+"],b1="+m+"[k+"+r+"+"+g+"];if(r1<b0||b1<r0)continue "+b+";}var "+y+"="+o+"("),t?x.push("yi,xi"):x.push("xi,yi"),x.push(");if("+y+"!==void 0)return "+y+";}}}"),{name:i,code:x.join("")}}(t,i,e);n.push(x.code),w.push("return "+x.name+"("+_.join()+");")}w.push("if("+u+"-"+l+">"+p+"-"+h+"){"),e?(k(!0,!1),w.push("}else{"),k(!1,!1)):(w.push("if("+i+"){"),k(!0,!0),w.push("}else{"),k(!0,!1),w.push("}}else{if("+i+"){"),k(!1,!0),w.push("}else{"),k(!1,!1),w.push("}")),w.push("}}return "+t);var A=n.join("")+w.join(""),T=new Function(A);return T()}n.partial=x(!1),n.full=x(!0)},{}],44:[function(e,t,n){"use strict";t.exports=function(e,t,n,o,c,E,C,S,j){!function(e,t){var n=8*a.log2(t+1)*(e+1)|0,o=a.nextPow2(_*n);w.length<o&&(r.free(w),w=r.mallocInt32(o));var i=a.nextPow2(x*n);k<i&&(r.free(k),k=r.mallocDouble(i))}(e,o+C);var O,P=0,N=2*e;for(A(P++,0,0,o,0,C,n?16:0,-1/0,1/0),n||A(P++,0,0,C,0,o,1,-1/0,1/0);P>0;){var I=(P-=1)*_,L=w[I],D=w[I+1],R=w[I+2],z=w[I+3],F=w[I+4],B=w[I+5],U=P*x,H=k[U],q=k[U+1],V=1&B,W=!!(16&B),G=c,X=E,Y=S,K=j;if(V&&(G=S,X=j,Y=c,K=E),!(2&B&&(R=v(e,L,D,R,G,X,q),D>=R)||4&B&&(D=g(e,L,D,R,G,X,H))>=R)){var Z=R-D,J=F-z;if(W){if(e*Z*(Z+J)<h){if(void 0!==(O=l.scanComplete(e,L,t,D,R,G,X,z,F,Y,K)))return O;continue}}else{if(e*Math.min(Z,J)<f){if(void 0!==(O=i(e,L,t,V,D,R,G,X,z,F,Y,K)))return O;continue}if(e*Z*J<d){if(void 0!==(O=l.scanBipartite(e,L,t,V,D,R,G,X,z,F,Y,K)))return O;continue}}var Q=p(e,L,D,R,G,X,H,q);if(D<Q)if(e*(Q-D)<f){if(void 0!==(O=s(e,L+1,t,D,Q,G,X,z,F,Y,K)))return O}else if(L===e-2){if(void 0!==(O=V?l.sweepBipartite(e,t,z,F,Y,K,D,Q,G,X):l.sweepBipartite(e,t,D,Q,G,X,z,F,Y,K)))return O}else A(P++,L+1,D,Q,z,F,V,-1/0,1/0),A(P++,L+1,z,F,D,Q,1^V,-1/0,1/0);if(Q<R){var $=u(e,L,z,F,Y,K),ee=Y[N*$+L],te=m(e,L,$,F,Y,K,ee);if(te<F&&A(P++,L,Q,R,te,F,(4|V)+(W?16:0),ee,q),z<$&&A(P++,L,Q,R,z,$,(2|V)+(W?16:0),H,ee),$+1===te){if(void 0!==(O=W?M(e,L,t,Q,R,G,X,$,Y,K[$]):T(e,L,t,V,Q,R,G,X,$,Y,K[$])))return O}else if($<te){var ne;if(W){if(ne=y(e,L,Q,R,G,X,ee),Q<ne){var re=m(e,L,Q,ne,G,X,ee);if(L===e-2){if(Q<re&&void 0!==(O=l.sweepComplete(e,t,Q,re,G,X,$,te,Y,K)))return O;if(re<ne&&void 0!==(O=l.sweepBipartite(e,t,re,ne,G,X,$,te,Y,K)))return O}else Q<re&&A(P++,L+1,Q,re,$,te,16,-1/0,1/0),re<ne&&(A(P++,L+1,re,ne,$,te,0,-1/0,1/0),A(P++,L+1,$,te,re,ne,1,-1/0,1/0))}}else ne=V?b(e,L,Q,R,G,X,ee):y(e,L,Q,R,G,X,ee),Q<ne&&(L===e-2?O=V?l.sweepBipartite(e,t,$,te,Y,K,Q,ne,G,X):l.sweepBipartite(e,t,Q,ne,G,X,$,te,Y,K):(A(P++,L+1,Q,ne,$,te,V,-1/0,1/0),A(P++,L+1,$,te,Q,ne,1^V,-1/0,1/0)))}}}}};var r=e("typedarray-pool"),a=e("bit-twiddle"),o=e("./brute"),i=o.partial,s=o.full,l=e("./sweep"),u=e("./median"),c=e("./partition"),f=128,d=1<<22,h=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),m=c("lo===p0",["p0"]),v=c("lo<p0",["p0"]),g=c("hi<=p0",["p0"]),y=c("lo<=p0&&p0<=hi",["p0"]),b=c("lo<p0&&p0<=hi",["p0"]),_=6,x=2,w=r.mallocInt32(1024),k=r.mallocDouble(1024);function A(e,t,n,r,a,o,i,s,l){var u=_*e;w[u]=t,w[u+1]=n,w[u+2]=r,w[u+3]=a,w[u+4]=o,w[u+5]=i;var c=x*e;k[c]=s,k[c+1]=l}function T(e,t,n,r,a,o,i,s,l,u,c){var f=2*e,d=l*f,h=u[d+t];e:for(var p=a,m=a*f;p<o;++p,m+=f){var v=i[m+t],g=i[m+t+e];if(!(h<v||g<h||r&&h===v)){for(var y,b=s[p],_=t+1;_<e;++_){var v=i[m+_],g=i[m+_+e],x=u[d+_],w=u[d+_+e];if(g<x||w<v)continue e}if(void 0!==(y=r?n(c,b):n(b,c)))return y}}}function M(e,t,n,r,a,o,i,s,l,u){var c=2*e,f=s*c,d=l[f+t];e:for(var h=r,p=r*c;h<a;++h,p+=c){var m=i[h];if(m!==u){var v=o[p+t],g=o[p+t+e];if(!(d<v||g<d)){for(var y=t+1;y<e;++y){var v=o[p+y],g=o[p+y+e],b=l[f+y],_=l[f+y+e];if(g<b||_<v)continue e}var x=n(m,u);if(void 0!==x)return x}}}}},{"./brute":43,"./median":45,"./partition":46,"./sweep":48,"bit-twiddle":39,"typedarray-pool":289}],45:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,s,l){if(r<=n+1)return n;for(var u=n,c=r,f=r+n>>>1,d=2*e,h=f,p=s[d*f+t];u<c;){if(c-u<o){i(e,t,u,c,s,l),p=s[d*f+t];break}var m=c-u,v=Math.random()*m+u|0,g=s[d*v+t],y=Math.random()*m+u|0,b=s[d*y+t],_=Math.random()*m+u|0,x=s[d*_+t];g<=b?x>=b?(h=y,p=b):g>=x?(h=v,p=g):(h=_,p=x):b>=x?(h=y,p=b):x>=g?(h=v,p=g):(h=_,p=x);for(var w=d*(c-1),k=d*h,A=0;A<d;++A,++w,++k){var T=s[w];s[w]=s[k],s[k]=T}var M=l[c-1];l[c-1]=l[h],l[h]=M,h=a(e,t,u,c-1,s,l,p);for(var w=d*(c-1),k=d*h,A=0;A<d;++A,++w,++k){var T=s[w];s[w]=s[k],s[k]=T}var M=l[c-1];if(l[c-1]=l[h],l[h]=M,f<h){for(c=h-1;u<c&&s[d*(c-1)+t]===p;)c-=1;c+=1}else{if(!(h<f))break;for(u=h+1;u<c&&s[d*u+t]===p;)u+=1}}return a(e,t,n,f,s,l,s[d*f+t])};var r=e("./partition"),a=r("lo<p0",["p0"]),o=8;function i(e,t,n,r,a,o){for(var i=2*e,s=i*(n+1)+t,l=n+1;l<r;++l,s+=i)for(var u=a[s],c=l,f=i*(l-1);c>n&&a[f+t]>u;--c,f-=i){for(var d=f,h=f+i,p=0;p<i;++p,++d,++h){var m=a[d];a[d]=a[h],a[h]=m}var v=o[c];o[c]=o[c-1],o[c-1]=v}}},{"./partition":46}],46:[function(e,t,n){"use strict";t.exports=function(e,t){var n="abcdef".split("").concat(t),a=[];return e.indexOf("lo")>=0&&a.push("lo=e[k+n]"),e.indexOf("hi")>=0&&a.push("hi=e[k+o]"),n.push(r.replace("_",a.join()).replace("$",e)),Function.apply(void 0,n)};var r="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],47:[function(e,t,n){"use strict";t.exports=function(e,t){t<=4*r?a(0,t-1,e):function e(t,n,f){var d=(n-t+1)/6|0,h=t+d,p=n-d,m=t+n>>1,v=m-d,g=m+d,y=h,b=v,_=m,x=g,w=p,k=t+1,A=n-1,T=0;u(y,b,f)&&(T=y,y=b,b=T),u(x,w,f)&&(T=x,x=w,w=T),u(y,_,f)&&(T=y,y=_,_=T),u(b,_,f)&&(T=b,b=_,_=T),u(y,x,f)&&(T=y,y=x,x=T),u(_,x,f)&&(T=_,_=x,x=T),u(b,w,f)&&(T=b,b=w,w=T),u(b,_,f)&&(T=b,b=_,_=T),u(x,w,f)&&(T=x,x=w,w=T);for(var M=f[2*b],E=f[2*b+1],C=f[2*x],S=f[2*x+1],j=2*y,O=2*_,P=2*w,N=2*h,I=2*m,L=2*p,D=0;D<2;++D){var R=f[j+D],z=f[O+D],F=f[P+D];f[N+D]=R,f[I+D]=z,f[L+D]=F}i(v,t,f),i(g,n,f);for(var B=k;B<=A;++B)if(c(B,M,E,f))B!==k&&o(B,k,f),++k;else if(!c(B,C,S,f))for(;;){if(c(A,C,S,f)){c(A,M,E,f)?(s(B,k,A,f),++k,--A):(o(B,A,f),--A);break}if(--A<B)break}l(t,k-1,M,E,f),l(n,A+1,C,S,f),k-2-t<=r?a(t,k-2,f):e(t,k-2,f),n-(A+2)<=r?a(A+2,n,f):e(A+2,n,f),A-k<=r?a(k,A,f):e(k,A,f)}(0,t-1,e)};var r=32;function a(e,t,n){for(var r=2*(e+1),a=e+1;a<=t;++a){for(var o=n[r++],i=n[r++],s=a,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<i)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=i}}function o(e,t,n){t*=2;var r=n[e*=2],a=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=a}function i(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function s(e,t,n,r){t*=2,n*=2;var a=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=a,r[n+1]=o}function l(e,t,n,r,a){t*=2,a[e*=2]=a[t],a[t]=n,a[e+1]=a[t+1],a[t+1]=r}function u(e,t,n){t*=2;var r=n[e*=2],a=n[t];return!(r<a)&&(r!==a||n[e+1]>n[t+1])}function c(e,t,n,r){var a=r[e*=2];return a<t||a===t&&r[e+1]<n}},{}],48:[function(e,t,n){"use strict";t.exports={init:function(e){var t=a.nextPow2(e);s.length<t&&(r.free(s),s=r.mallocInt32(t)),l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),c.length<t&&(r.free(c),c=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t)),d.length<t&&(r.free(d),d=r.mallocInt32(t));var n=8*t;h.length<n&&(r.free(h),h=r.mallocDouble(n))},sweepBipartite:function(e,t,n,r,a,f,d,v,g,y){for(var b=0,_=2*e,x=e-1,w=_-1,k=n;k<r;++k){var A=f[k],T=_*k;h[b++]=a[T+x],h[b++]=-(A+1),h[b++]=a[T+w],h[b++]=A}for(var k=d;k<v;++k){var A=y[k]+i,M=_*k;h[b++]=g[M+x],h[b++]=-A,h[b++]=g[M+w],h[b++]=A}var E=b>>>1;o(h,E);for(var C=0,S=0,k=0;k<E;++k){var j=0|h[2*k+1];if(j>=i)p(u,c,S--,j=j-i|0);else if(j>=0)p(s,l,C--,j);else if(j<=-i){j=-j-i|0;for(var O=0;O<C;++O){var P=t(s[O],j);if(void 0!==P)return P}m(u,c,S++,j)}else{j=-j-1|0;for(var O=0;O<S;++O){var P=t(j,u[O]);if(void 0!==P)return P}m(s,l,C++,j)}}},sweepComplete:function(e,t,n,r,a,i,v,g,y,b){for(var _=0,x=2*e,w=e-1,k=x-1,A=n;A<r;++A){var T=i[A]+1<<1,M=x*A;h[_++]=a[M+w],h[_++]=-T,h[_++]=a[M+k],h[_++]=T}for(var A=v;A<g;++A){var T=b[A]+1<<1,E=x*A;h[_++]=y[E+w],h[_++]=1|-T,h[_++]=y[E+k],h[_++]=1|T}var C=_>>>1;o(h,C);for(var S=0,j=0,O=0,A=0;A<C;++A){var P=0|h[2*A+1],N=1&P;if(A<C-1&&P>>1==h[2*A+3]>>1&&(N=2,A+=1),P<0){for(var I=-(P>>1)-1,L=0;L<O;++L){var D=t(f[L],I);if(void 0!==D)return D}if(0!==N)for(var L=0;L<S;++L){var D=t(s[L],I);if(void 0!==D)return D}if(1!==N)for(var L=0;L<j;++L){var D=t(u[L],I);if(void 0!==D)return D}0===N?m(s,l,S++,I):1===N?m(u,c,j++,I):2===N&&m(f,d,O++,I)}else{var I=(P>>1)-1;0===N?p(s,l,S--,I):1===N?p(u,c,j--,I):2===N&&p(f,d,O--,I)}}},scanBipartite:function(e,t,n,r,a,u,c,f,d,v,g,y){var b=0,_=2*e,x=t,w=t+e,k=1,A=1;r?A=i:k=i;for(var T=a;T<u;++T){var M=T+k,E=_*T;h[b++]=c[E+x],h[b++]=-M,h[b++]=c[E+w],h[b++]=M}for(var T=d;T<v;++T){var M=T+A,C=_*T;h[b++]=g[C+x],h[b++]=-M}var S=b>>>1;o(h,S);for(var j=0,T=0;T<S;++T){var O=0|h[2*T+1];if(O<0){var M=-O,P=!1;if(M>=i?(P=!r,M-=i):(P=!!r,M-=1),P)m(s,l,j++,M);else{var N=y[M],I=_*M,L=g[I+t+1],D=g[I+t+1+e];e:for(var R=0;R<j;++R){var z=s[R],F=_*z;if(!(D<c[F+t+1]||c[F+t+1+e]<L)){for(var B=t+2;B<e;++B)if(g[I+B+e]<c[F+B]||c[F+B+e]<g[I+B])continue e;var U,H=f[z];if(void 0!==(U=r?n(N,H):n(H,N)))return U}}}}else p(s,l,j--,O-k)}},scanComplete:function(e,t,n,r,a,l,u,c,f,d,p){for(var m=0,v=2*e,g=t,y=t+e,b=r;b<a;++b){var _=b+i,x=v*b;h[m++]=l[x+g],h[m++]=-_,h[m++]=l[x+y],h[m++]=_}for(var b=c;b<f;++b){var _=b+1,w=v*b;h[m++]=d[w+g],h[m++]=-_}var k=m>>>1;o(h,k);for(var A=0,b=0;b<k;++b){var T=0|h[2*b+1];if(T<0){var _=-T;if(_>=i)s[A++]=_-i;else{var M=p[_-=1],E=v*_,C=d[E+t+1],S=d[E+t+1+e];e:for(var j=0;j<A;++j){var O=s[j],P=u[O];if(P===M)break;var N=v*O;if(!(S<l[N+t+1]||l[N+t+1+e]<C)){for(var I=t+2;I<e;++I)if(d[E+I+e]<l[N+I]||l[N+I+e]<d[E+I])continue e;var L=n(P,M);if(void 0!==L)return L}}}}else{for(var _=T-i,j=A-1;j>=0;--j)if(s[j]===_){for(var I=j+1;I<A;++I)s[I-1]=s[I];break}--A}}}};var r=e("typedarray-pool"),a=e("bit-twiddle"),o=e("./sort"),i=1<<28,s=r.mallocInt32(1024),l=r.mallocInt32(1024),u=r.mallocInt32(1024),c=r.mallocInt32(1024),f=r.mallocInt32(1024),d=r.mallocInt32(1024),h=r.mallocDouble(8192);function p(e,t,n,r){var a=t[r],o=e[n-1];e[a]=o,t[o]=a}function m(e,t,n,r){e[n]=r,t[r]=n}},{"./sort":47,"bit-twiddle":39,"typedarray-pool":289}],49:[function(e,t,n){},{}],50:[function(e,t,n){var r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function i(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0;var s,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),s=0===u.x}catch(e){s=!1}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function f(e,t,n,a){var o,i,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]):(i=e._events=r(null),e._eventsCount=0),s){if("function"==typeof s?s=i[t]=a?[n,s]:[s,n]:a?s.unshift(n):s.push(n),!s.warned&&(o=c(e))&&o>0&&s.length>o){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=i[t]=n,++e._eventsCount;return e}function d(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=o.call(d,r);return a.listener=n,r.wrapFn=a,a}function p(e,t,n){var r=e._events;if(!r)return[];var a=r[t];return a?"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):v(a,a.length):[]}function m(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}s?Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):i.defaultMaxListeners=l,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){var t,n,r,a,o,i,s="error"===e;if(i=this._events)s=s&&null==i.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=i[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,a=v(e,r),o=0;o<r;++o)a[o].call(n)}(n,u,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var a=e.length,o=v(e,a),i=0;i<a;++i)o[i].call(n,r)}(n,u,this,arguments[1]);break;case 3:!function(e,t,n,r,a){if(t)e.call(n,r,a);else for(var o=e.length,i=v(e,o),s=0;s<o;++s)i[s].call(n,r,a)}(n,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,a,o){if(t)e.call(n,r,a,o);else for(var i=e.length,s=v(e,i),l=0;l<i;++l)s[l].call(n,r,a,o)}(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(a=new Array(r-1),o=1;o<r;o++)a[o-1]=arguments[o];!function(e,t,n,r){if(t)e.apply(n,r);else for(var a=e.length,o=v(e,a),i=0;i<a;++i)o[i].apply(n,r)}(n,u,this,a)}return!0},i.prototype.addListener=function(e,t){return f(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return f(this,e,t,!0)},i.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,a,o,i,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(a=this._events))return this;if(!(n=a[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o),1===n.length&&(a[e]=n[0]),a.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.removeAllListeners=function(e){var t,n,o;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){var i,s=a(n);for(o=0;o<s.length;++o)"removeListener"!==(i=s[o])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},i.prototype.listenerCount=m,i.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],51:[function(e,t,n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var r=e("base64-js"),a=e("ieee754");n.Buffer=s,n.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},n.INSPECT_MAX_BYTES=50;var o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=i(n),a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}(e,t);if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var a=function(e){if(s.isBuffer(e)){var t=0|d(e.length),n=i(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?i(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),i(e<0?0:0|d(e))}function f(e){for(var t=e.length<0?0:0|d(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(a)return r?-1:R(e).length;t=(""+t).toLowerCase(),a=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,a);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,a){var o,i=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*i}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){f=!1;break}if(f)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var o=t.length;r>o/2&&(r=o/2);for(var i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(U(s))return i;e[n+i]=s}return i}function y(e,t,n,r){return F(R(t,e.length-n),e,n,r)}function b(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return b(e,t,n,r)}function x(e,t,n,r){return F(z(t),e,n,r)}function w(e,t,n,r){return F(function(e,t){for(var n,r,a,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,a=n%256,o.push(a),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var o,i,s,l,u=e[a],c=null,f=u>239?4:u>223?3:u>191?2:1;if(a+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[a+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[a+1],i=e[a+2],128==(192&o)&&128==(192&i)&&(l=(15&u)<<12|(63&o)<<6|63&i)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[a+1],i=e[a+2],s=e[a+3],128==(192&o)&&128==(192&i)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}n.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(B(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(B(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,a){if(B(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,a>>>=0,this===e)return 0;for(var o=a-r,i=n-t,l=Math.min(o,i),u=this.slice(r,a),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){o=u[f],i=c[f];break}return o<i?-1:i<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function M(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",o=t;o<n;++o)a+=D(e[o]);return a}function S(e,t,n){for(var r=e.slice(t,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,a,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,a,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return t=+t,n>>>=0,o||P(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,o){return t=+t,n>>>=0,o||P(e,0,n,8),a.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=t,a=1,o=this[e+--r];r>0&&(a*=256);)o+=this[e+--r]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),a.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),a.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),a.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),a.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var a=Math.pow(2,8*n)-1;O(this,e,t,n,a,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var a=Math.pow(2,8*n)-1;O(this,e,t,n,a,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var a=Math.pow(2,8*n-1);O(this,e,t,n,a-1,-a)}var o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var a=Math.pow(2,8*n-1);O(this,e,t,n,a-1,-a)}var o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=a-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return a},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var a=e.charCodeAt(0);("utf8"===r&&a<128||"latin1"===r)&&(e=a)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var i=s.isBuffer(e)?e:s.from(e,r),l=i.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%l]}return this};var L=/[^+/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function R(e,t){var n;t=t||1/0;for(var r=e.length,a=null,o=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}},{"base64-js":21,ieee754:202}],52:[function(e,t,n){"use strict";var r=e("./lib/monotone"),a=e("./lib/triangulation"),o=e("./lib/delaunay"),i=e("./lib/filter");function s(e){return[Math.min(e[0],e[1]),Math.max(e[0],e[1])]}function l(e,t){return e[0]-t[0]||e[1]-t[1]}function u(e,t,n){return t in e?e[t]:n}t.exports=function(e,t,n){Array.isArray(t)?(n=n||{},t=t||[]):(n=t||{},t=[]);var c=!!u(n,"delaunay",!0),f=!!u(n,"interior",!0),d=!!u(n,"exterior",!0),h=!!u(n,"infinity",!1);if(!f&&!d||0===e.length)return[];var p=r(e,t);if(c||f!==d||h){for(var m=a(e.length,function(e){return e.map(s).sort(l)}(t)),v=0;v<p.length;++v){var g=p[v];m.addTriangle(g[0],g[1],g[2])}return c&&o(e,m),d?f?h?i(m,0,h):m.cells():i(m,1,h):i(m,-1)}return p}},{"./lib/delaunay":53,"./lib/filter":54,"./lib/monotone":55,"./lib/triangulation":56}],53:[function(e,t,n){"use strict";var r=e("robust-in-sphere")[4];function a(e,t,n,a,o,i){var s=t.opposite(a,o);if(!(s<0)){if(o<a){var l=a;a=o,o=l,l=i,i=s,s=l}t.isConstraint(a,o)||r(e[a],e[o],e[i],e[s])<0&&n.push(a,o)}}e("binary-search-bounds"),t.exports=function(e,t){for(var n=[],o=e.length,i=t.stars,s=0;s<o;++s)for(var l=i[s],u=1;u<l.length;u+=2){var c=l[u];if(!(c<s||t.isConstraint(s,c))){for(var f=l[u-1],d=-1,h=1;h<l.length;h+=2)if(l[h-1]===c){d=l[h];break}d<0||r(e[s],e[c],e[f],e[d])<0&&n.push(s,c)}}for(;n.length>0;){for(var c=n.pop(),s=n.pop(),f=-1,d=-1,l=i[s],p=1;p<l.length;p+=2){var m=l[p-1],v=l[p];m===c?d=v:v===c&&(f=m)}f<0||d<0||r(e[s],e[c],e[f],e[d])>=0||(t.flip(s,c),a(e,t,n,f,s,d),a(e,t,n,s,d,f),a(e,t,n,d,c,f),a(e,t,n,c,f,d))}}},{"binary-search-bounds":57,"robust-in-sphere":260}],54:[function(e,t,n){"use strict";var r=e("binary-search-bounds");function a(e,t,n,r,a,o,i){this.cells=e,this.neighbor=t,this.flags=r,this.constraint=n,this.active=a,this.next=o,this.boundary=i}t.exports=function(e,t,n){var r=function(e,t){for(var n=e.cells(),r=n.length,o=0;o<r;++o){var s=n[o],l=s[0],u=s[1],c=s[2];u<c?u<l&&(s[0]=u,s[1]=c,s[2]=l):c<l&&(s[0]=c,s[1]=l,s[2]=u)}n.sort(i);for(var f=new Array(r),o=0;o<f.length;++o)f[o]=0;var d=[],h=[],p=new Array(3*r),m=new Array(3*r),v=null;t&&(v=[]);for(var g=new a(n,p,m,f,d,h,v),o=0;o<r;++o)for(var s=n[o],y=0;y<3;++y){var l=s[y],u=s[(y+1)%3],b=p[3*o+y]=g.locate(u,l,e.opposite(u,l)),_=m[3*o+y]=e.isConstraint(l,u);b<0&&(_?h.push(o):(d.push(o),f[o]=1),t&&v.push([u,l,-1]))}return g}(e,n);if(0===t)return n?r.cells.concat(r.boundary):r.cells;for(var o=1,s=r.active,l=r.next,u=r.flags,c=r.cells,f=r.constraint,d=r.neighbor;s.length>0||l.length>0;){for(;s.length>0;){var h=s.pop();if(u[h]!==-o){u[h]=o,c[h];for(var p=0;p<3;++p){var m=d[3*h+p];m>=0&&0===u[m]&&(f[3*h+p]?l.push(m):(s.push(m),u[m]=o))}}}var v=l;l=s,s=v,l.length=0,o=-o}var g=function(e,t,n){for(var r=0,a=0;a<e.length;++a)t[a]===n&&(e[r++]=e[a]);return e.length=r,e}(c,u,t);return n?g.concat(r.boundary):g};var o=a.prototype;function i(e,t){return e[0]-t[0]||e[1]-t[1]||e[2]-t[2]}o.locate=function(){var e=[0,0,0];return function(t,n,a){var o=t,s=n,l=a;return n<a?n<t&&(o=n,s=a,l=t):a<t&&(o=a,s=t,l=n),o<0?-1:(e[0]=o,e[1]=s,e[2]=l,r.eq(this.cells,e,i))}}()},{"binary-search-bounds":57}],55:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),a=e("robust-orientation")[3],o=0,i=1,s=2;function l(e,t,n,r,a){this.a=e,this.b=t,this.idx=n,this.lowerIds=r,this.upperIds=a}function u(e,t,n,r){this.a=e,this.b=t,this.type=n,this.idx=r}function c(e,t){var n=e.a[0]-t.a[0]||e.a[1]-t.a[1]||e.type-t.type;return n||(e.type!==o&&(n=a(e.a,e.b,t.b))?n:e.idx-t.idx)}function f(e,t){return a(e.a,e.b,t)}function d(e,t,n,o,i){for(var s=r.lt(t,o,f),l=r.gt(t,o,f),u=s;u<l;++u){for(var c=t[u],d=c.lowerIds,h=d.length;h>1&&a(n[d[h-2]],n[d[h-1]],o)>0;)e.push([d[h-1],d[h-2],i]),h-=1;d.length=h,d.push(i);for(var p=c.upperIds,h=p.length;h>1&&a(n[p[h-2]],n[p[h-1]],o)<0;)e.push([p[h-2],p[h-1],i]),h-=1;p.length=h,p.push(i)}}function h(e,t){var n;return(n=e.a[0]<t.a[0]?a(e.a,e.b,t.a):a(t.b,t.a,e.a))?n:(n=t.b[0]<e.b[0]?a(e.a,e.b,t.b):a(t.b,t.a,e.b))||e.idx-t.idx}function p(e,t,n){var a=r.le(e,n,h),o=e[a],i=o.upperIds,s=i[i.length-1];o.upperIds=[s],e.splice(a+1,0,new l(n.a,n.b,n.idx,[s],i))}function m(e,t,n){var a=n.a;n.a=n.b,n.b=a;var o=r.eq(e,n,h),i=e[o],s=e[o-1];s.upperIds=i.upperIds,e.splice(o,1)}t.exports=function(e,t){for(var n=e.length,r=t.length,a=[],f=0;f<n;++f)a.push(new u(e[f],null,o,f));for(var f=0;f<r;++f){var h=t[f],v=e[h[0]],g=e[h[1]];v[0]<g[0]?a.push(new u(v,g,s,f),new u(g,v,i,f)):v[0]>g[0]&&a.push(new u(g,v,s,f),new u(v,g,i,f))}a.sort(c);for(var y=a[0].a[0]-(1+Math.abs(a[0].a[0]))*Math.pow(2,-52),b=[new l([y,1],[y,0],-1,[],[],[],[])],_=[],f=0,x=a.length;f<x;++f){var w=a[f],k=w.type;k===o?d(_,b,e,w.a,w.idx):k===s?p(b,0,w):m(b,0,w)}return _}},{"binary-search-bounds":57,"robust-orientation":261}],56:[function(e,t,n){"use strict";var r=e("binary-search-bounds");function a(e,t){this.stars=e,this.edges=t}t.exports=function(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=[];return new a(n,t)};var o=a.prototype;function i(e,t,n){for(var r=1,a=e.length;r<a;r+=2)if(e[r-1]===t&&e[r]===n)return e[r-1]=e[a-2],e[r]=e[a-1],void(e.length=a-2)}o.isConstraint=function(){var e=[0,0];function t(e,t){return e[0]-t[0]||e[1]-t[1]}return function(n,a){return e[0]=Math.min(n,a),e[1]=Math.max(n,a),r.eq(this.edges,e,t)>=0}}(),o.removeTriangle=function(e,t,n){var r=this.stars;i(r[e],t,n),i(r[t],n,e),i(r[n],e,t)},o.addTriangle=function(e,t,n){var r=this.stars;r[e].push(t,n),r[t].push(n,e),r[n].push(e,t)},o.opposite=function(e,t){for(var n=this.stars[t],r=1,a=n.length;r<a;r+=2)if(n[r]===e)return n[r-1];return-1},o.flip=function(e,t){var n=this.opposite(e,t),r=this.opposite(t,e);this.removeTriangle(e,t,n),this.removeTriangle(t,e,r),this.addTriangle(e,r,n),this.addTriangle(t,n,r)},o.edges=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var a=e[n],o=0,i=a.length;o<i;o+=2)t.push([a[o],a[o+1]]);return t},o.cells=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var a=e[n],o=0,i=a.length;o<i;o+=2){var s=a[o],l=a[o+1];n<Math.min(s,l)&&t.push([n,s,l])}return t}},{"binary-search-bounds":57}],57:[function(e,t,n){"use strict";function r(e,t,n,r,a){var o=["function ",e,"(a,l,h,",r.join(","),"){",a?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return a?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),a?o.push("return -1};"):o.push("return i};"),o.join("")}function a(e,t,n,a){var o=new Function([r("A","x"+e+"y",t,["y"],a),r("P","c(x,y)"+e+"0",t,["y","c"],a),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""));return o()}t.exports={ge:a(">=",!1,"GE"),gt:a(">",!1,"GT"),lt:a("<",!0,"LT"),le:a("<=",!0,"LE"),eq:a("-",!0,"EQ",!0)}},{}],58:[function(e,t,n){t.exports=function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}},{}],59:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r;if(n){r=t;for(var a=new Array(t.length),o=0;o<t.length;++o){var i=t[o];a[o]=[i[0],i[1],n[o]]}t=a}for(var s=function(e,t,n){var r=p(e,[],h(e));return g(t,r,n),!!r}(e,t,!!n);y(e,t,!!n);)s=!0;if(n&&s){r.length=0,n.length=0;for(var o=0;o<t.length;++o){var i=t[o];r.push([i[0],i[1]]),n.push(i[2])}}return s};var r=e("union-find"),a=e("box-intersect"),o=e("robust-segment-intersect"),i=e("big-rat"),s=e("big-rat/cmp"),l=e("big-rat/to-float"),u=e("rat-vec"),c=e("nextafter"),f=e("./lib/rat-seg-intersect");function d(e){var t=l(e);return[c(t,-1/0),c(t,1/0)]}function h(e){for(var t=new Array(e.length),n=0;n<e.length;++n){var r=e[n];t[n]=[c(r[0],-1/0),c(r[1],-1/0),c(r[0],1/0),c(r[1],1/0)]}return t}function p(e,t,n){for(var o=t.length,i=new r(o),s=[],l=0;l<t.length;++l){var u=t[l],f=d(u[0]),h=d(u[1]);s.push([c(f[0],-1/0),c(h[0],-1/0),c(f[1],1/0),c(h[1],1/0)])}a(s,function(e,t){i.link(e,t)});for(var p=!0,m=new Array(o),l=0;l<o;++l){var v=i.find(l);v!==l&&(p=!1,e[v]=[Math.min(e[l][0],e[v][0]),Math.min(e[l][1],e[v][1])])}if(p)return null;for(var g=0,l=0;l<o;++l){var v=i.find(l);v===l?(m[l]=g,e[g++]=e[l]):m[l]=-1}e.length=g;for(var l=0;l<o;++l)m[l]<0&&(m[l]=m[i.find(l)]);return m}function m(e,t){return e[0]-t[0]||e[1]-t[1]}function v(e,t){var n=e[0]-t[0]||e[1]-t[1];return n||(e[2]<t[2]?-1:e[2]>t[2]?1:0)}function g(e,t,n){if(0!==e.length){if(t)for(var r=0;r<e.length;++r){var a=e[r],o=t[a[0]],i=t[a[1]];a[0]=Math.min(o,i),a[1]=Math.max(o,i)}else for(var r=0;r<e.length;++r){var a=e[r],o=a[0],i=a[1];a[0]=Math.min(o,i),a[1]=Math.max(o,i)}n?e.sort(v):e.sort(m);for(var s=1,r=1;r<e.length;++r){var l=e[r-1],u=e[r];(u[0]!==l[0]||u[1]!==l[1]||n&&u[2]!==l[2])&&(e[s++]=u)}e.length=s}}function y(e,t,n){var r=function(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r){var a=t[r],o=e[a[0]],i=e[a[1]];n[r]=[c(Math.min(o[0],i[0]),-1/0),c(Math.min(o[1],i[1]),-1/0),c(Math.max(o[0],i[0]),1/0),c(Math.max(o[1],i[1]),1/0)]}return n}(e,t),d=function(e,t,n){var r=[];return a(n,function(n,a){var i=t[n],s=t[a];if(i[0]!==s[0]&&i[0]!==s[1]&&i[1]!==s[0]&&i[1]!==s[1]){var l=e[i[0]],u=e[i[1]],c=e[s[0]],f=e[s[1]];o(l,u,c,f)&&r.push([n,a])}}),r}(e,t,r),m=h(e),v=function(e,t,n,r){var i=[];return a(n,r,function(n,r){var a=t[n];if(a[0]!==r&&a[1]!==r){var s=e[r],l=e[a[0]],u=e[a[1]];o(l,u,s,s)&&i.push([n,r])}}),i}(e,t,r,m),y=function(e,t,n,r,a){var o,c,d=e.map(function(e){return[i(e[0]),i(e[1])]});for(o=0;o<n.length;++o){var h=n[o];c=h[0];var p=h[1],m=t[c],v=t[p],g=f(u(e[m[0]]),u(e[m[1]]),u(e[v[0]]),u(e[v[1]]));if(g){var y=e.length;e.push([l(g[0]),l(g[1])]),d.push(g),r.push([c,y],[p,y])}}for(r.sort(function(e,t){if(e[0]!==t[0])return e[0]-t[0];var n=d[e[1]],r=d[t[1]];return s(n[0],r[0])||s(n[1],r[1])}),o=r.length-1;o>=0;--o){var b=r[o];c=b[0];var _=t[c],x=_[0],w=_[1],k=e[x],A=e[w];if((k[0]-A[0]||k[1]-A[1])<0){var T=x;x=w,w=T}_[0]=x;var M,E=_[1]=b[1];for(a&&(M=_[2]);o>0&&r[o-1][0]===c;){var b=r[--o],C=b[1];a?t.push([E,C,M]):t.push([E,C]),E=C}a?t.push([E,w,M]):t.push([E,w])}return d}(e,t,d,v,n),b=p(e,y);return g(t,b,n),!!b||d.length>0||v.length>0}},{"./lib/rat-seg-intersect":60,"big-rat":25,"big-rat/cmp":23,"big-rat/to-float":37,"box-intersect":42,nextafter:220,"rat-vec":250,"robust-segment-intersect":264,"union-find":290}],60:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o=s(t,e),f=s(r,n),d=c(o,f);if(0===i(d))return null;var h=s(e,n),p=c(f,h),m=a(p,d),v=u(o,m);return l(e,v)};var r=e("big-rat/mul"),a=e("big-rat/div"),o=e("big-rat/sub"),i=e("big-rat/sign"),s=e("rat-vec/sub"),l=e("rat-vec/add"),u=e("rat-vec/muls");function c(e,t){return o(r(e[0],t[1]),r(e[1],t[0]))}},{"big-rat/div":24,"big-rat/mul":34,"big-rat/sign":35,"big-rat/sub":36,"rat-vec/add":249,"rat-vec/muls":251,"rat-vec/sub":252}],61:[function(e,t,n){"use strict";var r=e("clamp");function a(e,t){null==t&&(t=!0);var n=e[0],a=e[1],o=e[2],i=e[3];null==i&&(i=t?1:255),t&&(n*=255,a*=255,o*=255,i*=255),n=255&r(n,0,255),a=255&r(a,0,255),o=255&r(o,0,255),i=255&r(i,0,255);var s=16777216*n+(a<<16)+(o<<8)+i;return s}t.exports=a,t.exports.to=a,t.exports.from=function(e,t){var n=(e=+e)>>>24,r=(16711680&e)>>>16,a=(65280&e)>>>8,o=255&e;return!1===t?[n,r,a,o]:[n/255,r/255,a/255,o/255]}},{clamp:58}],62:[function(e,t,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],63:[function(e,t,n){"use strict";var r=e("color-rgba"),a=e("clamp"),o=e("dtype");t.exports=function(e,t){"float"!==t&&t||(t="array"),"uint"===t&&(t="uint8"),"uint_clamped"===t&&(t="uint8_clamped");var n=o(t),i=new n(4),s="uint8"!==t&&"uint8_clamped"!==t;return e.length&&"string"!=typeof e||((e=r(e))[0]/=255,e[1]/=255,e[2]/=255),function(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||!!(Array.isArray(e)&&(e[0]>1||0===e[0])&&(e[1]>1||0===e[1])&&(e[2]>1||0===e[2])&&(!e[3]||e[3]>1))}(e)?(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=null!=e[3]?e[3]:255,s&&(i[0]/=255,i[1]/=255,i[2]/=255,i[3]/=255),i):(s?(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=null!=e[3]?e[3]:1):(i[0]=a(Math.floor(255*e[0]),0,255),i[1]=a(Math.floor(255*e[1]),0,255),i[2]=a(Math.floor(255*e[2]),0,255),i[3]=null==e[3]?255:a(Math.floor(255*e[3]),0,255)),i)}},{clamp:58,"color-rgba":65,dtype:90}],64:[function(e,n,r){(function(t){"use strict";var r=e("color-name"),a=e("is-plain-obj"),o=e("defined");n.exports=function(e){var n,s,l=[],u=1;if("string"==typeof e)if(r[e])l=r[e].slice(),s="rgb";else if("transparent"===e)u=0,s="rgb",l=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var c=e.slice(1),f=c.length,d=f<=4;u=1,d?(l=[parseInt(c[0]+c[0],16),parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16)],4===f&&(u=parseInt(c[3]+c[3],16)/255)):(l=[parseInt(c[0]+c[1],16),parseInt(c[2]+c[3],16),parseInt(c[4]+c[5],16)],8===f&&(u=parseInt(c[6]+c[7],16)/255)),l[0]||(l[0]=0),l[1]||(l[1]=0),l[2]||(l[2]=0),s="rgb"}else if(n=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var h=n[1],c=h.replace(/a$/,"");s=c;var f="cmyk"===c?4:"gray"===c?1:3;l=n[2].trim().split(/\s*,\s*/).map(function(e,t){if(/%$/.test(e))return t===f?parseFloat(e)/100:"rgb"===c?255*parseFloat(e)/100:parseFloat(e);if("h"===c[t]){if(/deg$/.test(e))return parseFloat(e);if(void 0!==i[e])return i[e]}return parseFloat(e)}),h===c&&l.push(1),u=void 0===l[f]?1:l[f],l=l.slice(0,f)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(l=e.match(/([0-9]+)/g).map(function(e){return parseFloat(e)}),s=e.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(e))if(a(e)){var p=o(e.r,e.red,e.R,null);null!==p?(s="rgb",l=[p,o(e.g,e.green,e.G),o(e.b,e.blue,e.B)]):(s="hsl",l=[o(e.h,e.hue,e.H),o(e.s,e.saturation,e.S),o(e.l,e.lightness,e.L,e.b,e.brightness)]),u=o(e.a,e.alpha,e.opacity,1),null!=e.opacity&&(u/=100)}else(Array.isArray(e)||t.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))&&(l=[e[0],e[1],e[2]],s="rgb",u=4===e.length?e[3]:1);else s="rgb",l=[e>>>16,(65280&e)>>>8,255&e];return{space:s,values:l,alpha:u}};var i={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"color-name":62,defined:86,"is-plain-obj":210}],65:[function(e,t,n){"use strict";var r=e("color-parse"),a=e("color-space/hsl"),o=e("clamp");t.exports=function(e){var t,n=r(e);return n.space?((t=Array(3))[0]=o(n.values[0],0,255),t[1]=o(n.values[1],0,255),t[2]=o(n.values[2],0,255),"h"===n.space[0]&&(t=a.rgb(t)),t.push(o(n.alpha,0,1)),t):[]}},{clamp:58,"color-parse":64,"color-space/hsl":66}],66:[function(e,t,n){"use strict";var r=e("./rgb");t.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,r,a,o,i=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),a=[0,0,0];for(var u=0;u<3;u++)(r=i+1/3*-(u-1))<0?r++:r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,a[u]=255*o;return a}},r.hsl=function(e){var t,n,r=e[0]/255,a=e[1]/255,o=e[2]/255,i=Math.min(r,a,o),s=Math.max(r,a,o),l=s-i;return s===i?t=0:r===s?t=(a-o)/l:a===s?t=2+(o-r)/l:o===s&&(t=4+(r-a)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(i+s)/2,[t,100*(s===i?0:n<=.5?l/(s+i):l/(2-s-i)),100*n]}},{"./rgb":67}],67:[function(e,t,n){"use strict";t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],68:[function(e,t,n){"use strict";t.exports=function(e,t,n,o){var i=r(t,n,o);if(0===i){var s=a(r(e,t,n)),u=a(r(e,t,o));if(s===u){if(0===s){var c=l(e,t,n),f=l(e,t,o);return c===f?0:c?1:-1}return 0}return 0===u?s>0?-1:l(e,t,o)?-1:1:0===s?u>0?1:l(e,t,n)?1:-1:a(u-s)}var d=r(e,t,n);if(d>0)return i>0&&r(e,t,o)>0?1:-1;if(d<0)return i>0||r(e,t,o)>0?1:-1;var h=r(e,t,o);return h>0?1:l(e,t,n)?1:-1};var r=e("robust-orientation"),a=e("signum"),o=e("two-sum"),i=e("robust-product"),s=e("robust-sum");function l(e,t,n){var r=o(e[0],-t[0]),a=o(e[1],-t[1]),l=o(n[0],-t[0]),u=o(n[1],-t[1]),c=s(i(r,l),i(a,u));return c[c.length-1]>=0}},{"robust-orientation":261,"robust-product":262,"robust-sum":266,signum:267,"two-sum":288}],69:[function(e,t,n){t.exports=["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]},{}],70:[function(e,t,n){t.exports=["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]},{}],71:[function(e,t,n){t.exports=["normal","italic","oblique"]},{}],72:[function(e,t,n){t.exports=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},{}],73:[function(e,t,n){"use strict";t.exports={parse:e("./parse"),stringify:e("./stringify")}},{"./parse":75,"./stringify":76}],74:[function(e,t,n){"use strict";var r=e("css-font-size-keywords");t.exports={isSize:function(e){return/^[\d\.]/.test(e)||-1!==e.indexOf("/")||-1!==r.indexOf(e)}}},{"css-font-size-keywords":69}],75:[function(e,t,n){"use strict";var r=e("unquote"),a=e("css-global-keywords"),o=e("css-system-font-keywords"),i=e("css-font-weight-keywords"),s=e("css-font-style-keywords"),l=e("css-font-stretch-keywords"),u=e("string-split-by"),c=e("./lib/util").isSize;t.exports=d;var f=d.cache={};function d(e){if("string"!=typeof e)throw new Error("Font argument must be a string.");if(f[e])return f[e];if(""===e)throw new Error("Cannot parse an empty string.");if(-1!==o.indexOf(e))return f[e]={system:e};for(var t,n={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},d=u(e,/\s+/);t=d.shift();){if(-1!==a.indexOf(t))return["style","variant","weight","stretch"].forEach(function(e){n[e]=t}),f[e]=n;if(-1===s.indexOf(t))if("normal"!==t&&"small-caps"!==t)if(-1===l.indexOf(t)){if(-1===i.indexOf(t)){if(c(t)){var p=u(t,"/");if(n.size=p[0],null!=p[1]?n.lineHeight=h(p[1]):"/"===d[0]&&(d.shift(),n.lineHeight=h(d.shift())),!d.length)throw new Error("Missing required font-family.");return n.family=u(d.join(" "),/\s*,\s*/).map(r),f[e]=n}throw new Error("Unknown or unsupported font token: "+t)}n.weight=t}else n.stretch=t;else n.variant=t;else n.style=t}throw new Error("Missing required font-size.")}function h(e){var t=parseFloat(e);return t.toString()===e?t:e}},{"./lib/util":74,"css-font-stretch-keywords":70,"css-font-style-keywords":71,"css-font-weight-keywords":72,"css-global-keywords":77,"css-system-font-keywords":78,"string-split-by":275,unquote:292}],76:[function(e,t,n){"use strict";var r=e("pick-by-alias"),a=e("./lib/util").isSize,o=p(e("css-global-keywords")),i=p(e("css-system-font-keywords")),s=p(e("css-font-weight-keywords")),l=p(e("css-font-style-keywords")),u=p(e("css-font-stretch-keywords")),c={normal:1,"small-caps":1},f={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},d={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};function h(e,t){if(e&&!t[e]&&!o[e])throw Error("Unknown keyword `"+e+"`");return e}function p(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t}t.exports=function(e){if((e=r(e,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return e.system&&h(e.system,i),e.system;if(h(e.style,l),h(e.variant,c),h(e.weight,s),h(e.stretch,u),null==e.size&&(e.size=d.size),"number"==typeof e.size&&(e.size+="px"),!a)throw Error("Bad size value `"+e.size+"`");e.family||(e.family=d.family),Array.isArray(e.family)&&(e.family.length||(e.family=[d.family]),e.family=e.family.map(function(e){return f[e]?e:'"'+e+'"'}).join(", "));var t=[];return t.push(e.style),e.variant!==e.style&&t.push(e.variant),e.weight!==e.variant&&e.weight!==e.style&&t.push(e.weight),e.stretch!==e.weight&&e.stretch!==e.variant&&e.stretch!==e.style&&t.push(e.stretch),t.push(e.size+(null==e.lineHeight||"normal"===e.lineHeight||e.lineHeight+""=="1"?"":"/"+e.lineHeight)),t.push(e.family),t.filter(Boolean).join(" ")}},{"./lib/util":74,"css-font-stretch-keywords":70,"css-font-style-keywords":71,"css-font-weight-keywords":72,"css-global-keywords":77,"css-system-font-keywords":78,"pick-by-alias":231}],77:[function(e,t,n){t.exports=["inherit","initial","unset"]},{}],78:[function(e,t,n){t.exports=["caption","icon","menu","message-box","small-caption","status-bar"]},{}],79:[function(e,t,n){"use strict";var r=e("./lib/thunk.js");t.exports=function(e){var t=new function(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1};t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var a=0;a<n.length;++a){var o=n[a];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===o){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+n[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,r(t)}},{"./lib/thunk.js":81}],80:[function(e,t,n){"use strict";var r=e("uniq");function a(e,t,n){var r,a,o=e.length,i=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],u=[],c=0,f=0;for(r=0;r<o;++r)u.push(["i",r,"=0"].join(""));for(a=0;a<i;++a)for(r=0;r<o;++r)f=c,c=e[r],0===r?u.push(["d",a,"s",r,"=t",a,"p",c].join("")):u.push(["d",a,"s",r,"=(t",a,"p",c,"-s",f,"*t",a,"p",f,")"].join(""));for(u.length>0&&l.push("var "+u.join(",")),r=o-1;r>=0;--r)c=e[r],l.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(l.push(n),r=0;r<o;++r){for(f=c,c=e[r],a=0;a<i;++a)l.push(["p",a,"+=d",a,"s",r].join(""));s&&(r>0&&l.push(["index[",f,"]-=s",f].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function o(e,t,n){for(var r=e.body,a=[],o=[],i=0;i<e.args.length;++i){var s=e.args[i];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=t.arrayArgs.indexOf(i);switch(t.argTypes[i]){case"offset":var f=t.offsetArgIndex.indexOf(i),d=t.offsetArgs[f];c=d.array,u="+q"+f;case"array":u="p"+c+u;var h="l"+i,p="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(a.push(["var ",h,"=",p,".get(",u,")"].join("")),r=r.replace(l,h),o.push([p,".set(",u,",",h,")"].join(""))):r=r.replace(l,[p,".get(",u,")"].join("")):r=r.replace(l,[p,"[",u,"]"].join("")):"generic"===n[c]?(a.push(["var ",h,"=",p,".get(",u,")"].join("")),r=r.replace(l,h),s.lvalue&&o.push([p,".set(",u,",",h,")"].join(""))):(a.push(["var ",h,"=",p,"[",u,"]"].join("")),r=r.replace(l,h),s.lvalue&&o.push([p,"[",u,"]=",h].join("")));else{for(var m=[s.name],v=[u],g=0;g<Math.abs(t.arrayBlockIndices[c]);g++)m.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(g+1)+"*t"+c+"b"+g);if(l=new RegExp(m.join(""),"g"),u=v.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[p,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(i));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[a.join("\n"),r,o.join("\n")].join("\n").trim()}t.exports=function(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,i=new Array(e.arrayArgs.length),s=new Array(e.arrayArgs.length),l=0;l<e.arrayArgs.length;++l)s[l]=t[2*l],i[l]=t[2*l+1];for(var u=[],c=[],f=[],d=[],h=[],l=0;l<e.arrayArgs.length;++l){e.arrayBlockIndices[l]<0?(f.push(0),d.push(n),u.push(n),c.push(n+e.arrayBlockIndices[l])):(f.push(e.arrayBlockIndices[l]),d.push(e.arrayBlockIndices[l]+n),u.push(0),c.push(e.arrayBlockIndices[l]));for(var p=[],m=0;m<i[l].length;m++)f[l]<=i[l][m]&&i[l][m]<d[l]&&p.push(i[l][m]-f[l]);h.push(p)}for(var v=["SS"],g=["'use strict'"],y=[],m=0;m<n;++m)y.push(["s",m,"=SS[",m,"]"].join(""));for(var l=0;l<e.arrayArgs.length;++l){v.push("a"+l),v.push("t"+l),v.push("p"+l);for(var m=0;m<n;++m)y.push(["t",l,"p",m,"=t",l,"[",f[l]+m,"]"].join(""));for(var m=0;m<Math.abs(e.arrayBlockIndices[l]);++m)y.push(["t",l,"b",m,"=t",l,"[",u[l]+m,"]"].join(""))}for(var l=0;l<e.scalarArgs.length;++l)v.push("Y"+l);if(e.shapeArgs.length>0&&y.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var b=new Array(n),l=0;l<n;++l)b[l]="0";y.push(["index=[",b.join(","),"]"].join(""))}for(var l=0;l<e.offsetArgs.length;++l){for(var _=e.offsetArgs[l],x=[],m=0;m<_.offset.length;++m)0!==_.offset[m]&&(1===_.offset[m]?x.push(["t",_.array,"p",m].join("")):x.push([_.offset[m],"*t",_.array,"p",m].join("")));0===x.length?y.push("q"+l+"=0"):y.push(["q",l,"=",x.join("+")].join(""))}var w=r([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));(y=y.concat(w)).length>0&&g.push("var "+y.join(","));for(var l=0;l<e.arrayArgs.length;++l)g.push("p"+l+"|=0");e.pre.body.length>3&&g.push(o(e.pre,e,s));var k=o(e.body,e,s),A=function(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}(h);A<n?g.push(function(e,t,n,r){for(var o=t.length,i=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,u=[],c=0;c<i;++c)u.push(["var offset",c,"=p",c].join(""));for(var c=e;c<o;++c)u.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",t[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",t[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",t[c],"]=j",c].join(""));for(var c=0;c<i;++c){for(var f=["offset"+c],d=e;d<o;++d)f.push(["j",d,"*t",c,"p",t[d]].join(""));u.push(["p",c,"=(",f.join("+"),")"].join(""))}u.push(a(t,n,r));for(var c=e;c<o;++c)u.push("}");return u.join("\n")}(A,h[0],e,k)):g.push(a(h[0],e,k)),e.post.body.length>3&&g.push(o(e.post,e,s)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+g.join("\n")+"\n----------");var T=[e.funcName||"unnamed","_cwise_loop_",i[0].join("s"),"m",A,function(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var a=e[r],o=a.match(/\d+/);o=o?o[0]:"",0===a.charAt(0)?t[r]="u"+a.charAt(1)+o:t[r]=a.charAt(0)+o,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}(s)].join("");return new Function(["function ",T,"(",v.join(","),"){",g.join("\n"),"} return ",T].join(""))()}},{uniq:291}],81:[function(e,t,n){"use strict";var r=e("./compile.js");t.exports=function(e){var t=["'use strict'","var CACHED={}"],n=[],a=e.funcName+"_cwise_thunk";t.push(["return function ",a,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],i=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<e.arrayArgs.length;++c){var f=e.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),i.push("t"+f),i.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),c>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),u.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return n.push(["type=[",i.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}},{"./compile.js":80}],82:[function(e,t,n){t.exports=e("cwise-compiler")},{"cwise-compiler":79}],83:[function(e,t,n){"use strict";var r,a=e("es5-ext/object/copy"),o=e("es5-ext/object/normalize-options"),i=e("es5-ext/object/valid-callable"),s=e("es5-ext/object/map"),l=e("es5-ext/object/valid-callable"),u=e("es5-ext/object/valid-value"),c=Function.prototype.bind,f=Object.defineProperty,d=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,o=u(t)&&l(t.value);return delete(r=a(t)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&d.call(this,e)?o:(t.value=c.call(o,n.resolveContext?n.resolveContext(this):this),f(this,e,t),this[e])},r},t.exports=function(e){var t=o(arguments[1]);return null!=t.resolveContext&&i(t.resolveContext),s(e,function(e,n){return r(n,e,t)})}},{"es5-ext/object/copy":110,"es5-ext/object/map":119,"es5-ext/object/normalize-options":120,"es5-ext/object/valid-callable":124,"es5-ext/object/valid-value":126}],84:[function(e,t,n){"use strict";var r=e("es5-ext/object/assign"),a=e("es5-ext/object/normalize-options"),o=e("es5-ext/object/is-callable"),i=e("es5-ext/string/#/contains");(t.exports=function(e,t){var n,o,s,l,u;return arguments.length<2||"string"!=typeof e?(l=t,t=e,e=null):l=arguments[2],null==e?(n=s=!0,o=!1):(n=i.call(e,"c"),o=i.call(e,"e"),s=i.call(e,"w")),u={value:t,configurable:n,enumerable:o,writable:s},l?r(a(l),u):u}).gs=function(e,t,n){var s,l,u,c;return"string"!=typeof e?(u=n,n=t,t=e,e=null):u=arguments[3],null==t?t=void 0:o(t)?null==n?n=void 0:o(n)||(u=n,n=void 0):(u=t,t=n=void 0),null==e?(s=!0,l=!1):(s=i.call(e,"c"),l=i.call(e,"e")),c={get:t,set:n,configurable:s,enumerable:l},u?r(a(u),c):c}},{"es5-ext/object/assign":107,"es5-ext/object/is-callable":113,"es5-ext/object/normalize-options":120,"es5-ext/string/#/contains":127}],85:[function(e,t,n){!function(){var e={version:"3.5.17"},n=[].slice,r=function(e){return n.call(e)},a=this.document;function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function i(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(a)try{r(a.documentElement.childNodes)[0].nodeType}catch(e){r=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),a)try{a.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var s=this.Element.prototype,l=s.setAttribute,u=s.setAttributeNS,c=this.CSSStyleDeclaration.prototype,f=c.setProperty;s.setAttribute=function(e,t){l.call(this,e,t+"")},s.setAttributeNS=function(e,t,n){u.call(this,e,t,n+"")},c.setProperty=function(e,t,n){f.call(this,e,t+"",n)}}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h(e){return null===e?NaN:+e}function p(e){return!isNaN(e)}function m(e){return{left:function(t,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)<0?r=o+1:a=o}return r},right:function(t,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)>0?a=o:r=o+1}return r}}}e.ascending=d,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var n,r,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<o;)null!=(r=e[a])&&n>r&&(n=r)}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&n>r&&(n=r)}return n},e.max=function(e,t){var n,r,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<o;)null!=(r=e[a])&&r>n&&(n=r)}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&r>n&&(n=r)}return n},e.extent=function(e,t){var n,r,a,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=a=r;break}for(;++o<i;)null!=(r=e[o])&&(n>r&&(n=r),a<r&&(a=r))}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=a=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),a<r&&(a=r))}return[n,a]},e.sum=function(e,t){var n,r=0,a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)p(n=+e[o])&&(r+=n);else for(;++o<a;)p(n=+t.call(e,e[o],o))&&(r+=n);return r},e.mean=function(e,t){var n,r=0,a=e.length,o=-1,i=a;if(1===arguments.length)for(;++o<a;)p(n=h(e[o]))?r+=n:--i;else for(;++o<a;)p(n=h(t.call(e,e[o],o)))?r+=n:--i;if(i)return r/i},e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),a=+e[r-1],o=n-r;return o?a+o*(e[r]-a):a},e.median=function(t,n){var r,a=[],o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)p(r=h(t[i]))&&a.push(r);else for(;++i<o;)p(r=h(n.call(t,t[i],i)))&&a.push(r);if(a.length)return e.quantile(a.sort(d),.5)},e.variance=function(e,t){var n,r,a=e.length,o=0,i=0,s=-1,l=0;if(1===arguments.length)for(;++s<a;)p(n=h(e[s]))&&(o+=(r=n-o)/++l,i+=r*(n-o));else for(;++s<a;)p(n=h(t.call(e,e[s],s)))&&(o+=(r=n-o)/++l,i+=r*(n-o));if(l>1)return i/(l-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var v=m(d);function g(e){return e.length}e.bisectLeft=v.left,e.bisect=e.bisectRight=v.right,e.bisector=function(e){return m(1===e.length?function(t,n){return d(e(t),n)}:e)},e.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,a,o=n-t;o;)a=Math.random()*o--|0,r=e[o+t],e[o+t]=e[a+t],e[a+t]=r;return e},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],a=new Array(n<0?0:n);t<n;)a[t]=[r,r=e[++t]];return a},e.transpose=function(t){if(!(o=t.length))return[];for(var n=-1,r=e.min(t,g),a=new Array(r);++n<r;)for(var o,i=-1,s=a[n]=new Array(o);++i<o;)s[i]=t[i][n];return a},e.zip=function(){return e.transpose(arguments)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){for(var t,n,r,a=e.length,o=-1,i=0;++o<a;)i+=e[o].length;for(n=new Array(i);--a>=0;)for(r=e[a],t=r.length;--t>=0;)n[--i]=r[t];return n};var y=Math.abs;function b(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function _(){this._=Object.create(null)}e.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,a=[],o=function(e){for(var t=1;e*t%1;)t*=10;return t}(y(n)),i=-1;if(e*=o,t*=o,(n*=o)<0)for(;(r=e+n*++i)>t;)a.push(r/o);else for(;(r=e+n*++i)<t;)a.push(r/o);return a},e.map=function(e,t){var n=new _;if(e instanceof _)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,a=-1,o=e.length;if(1===arguments.length)for(;++a<o;)n.set(a,e[a]);else for(;++a<o;)n.set(t.call(e,r=e[a],a),r)}else for(var i in e)n.set(i,e[i]);return n};var x="__proto__",w="\0";function k(e){return(e+="")===x||e[0]===w?w+e:e}function A(e){return(e+="")[0]===w?e.slice(1):e}function T(e){return k(e)in this._}function M(e){return(e=k(e))in this._&&delete this._[e]}function E(){var e=[];for(var t in this._)e.push(A(t));return e}function C(){var e=0;for(var t in this._)++e;return e}function S(){for(var e in this._)return!1;return!0}function j(){this._=Object.create(null)}function O(e){return e}function P(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function N(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=I.length;n<r;++n){var a=I[n]+t;if(a in e)return a}}b(_,{has:T,get:function(e){return this._[k(e)]},set:function(e,t){return this._[k(e)]=t},remove:M,keys:E,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:A(t),value:this._[t]});return e},size:C,empty:S,forEach:function(e){for(var t in this._)e.call(this,A(t),this._[t])}}),e.nest=function(){var t,n,r={},a=[],o=[];function i(e,o,s){if(s>=a.length)return n?n.call(r,o):t?o.sort(t):o;for(var l,u,c,f,d=-1,h=o.length,p=a[s++],m=new _;++d<h;)(f=m.get(l=p(u=o[d])))?f.push(u):m.set(l,[u]);return e?(u=e(),c=function(t,n){u.set(t,i(e,n,s))}):(u={},c=function(t,n){u[t]=i(e,n,s)}),m.forEach(c),u}return r.map=function(e,t){return i(t,e,0)},r.entries=function(t){return function e(t,n){if(n>=a.length)return t;var r=[],i=o[n++];return t.forEach(function(t,a){r.push({key:t,values:e(a,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}(i(e.map,t,0),0)},r.key=function(e){return a.push(e),r},r.sortKeys=function(e){return o[a.length-1]=e,r},r.sortValues=function(e){return t=e,r},r.rollup=function(e){return n=e,r},r},e.set=function(e){var t=new j;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},b(j,{has:T,add:function(e){return this._[k(e+="")]=!0,e},remove:M,values:E,size:C,empty:S,forEach:function(e){for(var t in this._)e.call(this,A(t))}}),e.behavior={},e.rebind=function(e,t){for(var n,r=1,a=arguments.length;++r<a;)e[n=arguments[r]]=P(e,t,t[n]);return e};var I=["webkit","ms","moz","Moz","o","O"];function L(){}function D(){}function R(e){var t=[],n=new _;function r(){for(var n,r=t,a=-1,o=r.length;++a<o;)(n=r[a].on)&&n.apply(this,arguments);return e}return r.on=function(r,a){var o,i=n.get(r);return arguments.length<2?i&&i.on:(i&&(i.on=null,t=t.slice(0,o=t.indexOf(i)).concat(t.slice(o+1)),n.remove(r)),a&&t.push(n.set(r,{on:a})),e)},r}function z(){e.event.preventDefault()}function F(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function B(t){for(var n=new D,r=0,a=arguments.length;++r<a;)n[arguments[r]]=R(n);return n.of=function(r,a){return function(o){try{var i=o.sourceEvent=e.event;o.target=t,e.event=o,n[o.type].apply(r,a)}finally{e.event=i}}},n}e.dispatch=function(){for(var e=new D,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=R(e);return e},D.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},e.event=null,e.requote=function(e){return e.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function q(e){return H(e,X),e}var V=function(e,t){return t.querySelector(e)},W=function(e,t){return t.querySelectorAll(e)},G=function(e,t){var n=e.matches||e[N(e,"matchesSelector")];return(G=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(V=function(e,t){return Sizzle(e,t)[0]||null},W=Sizzle,G=Sizzle.matchesSelector),e.selection=function(){return e.select(a.documentElement)};var X=e.selection.prototype=[];function Y(e){return"function"==typeof e?e:function(){return V(e,this)}}function K(e){return"function"==typeof e?e:function(){return W(e,this)}}X.select=function(e){var t,n,r,a,o=[];e=Y(e);for(var i=-1,s=this.length;++i<s;){o.push(t=[]),t.parentNode=(r=this[i]).parentNode;for(var l=-1,u=r.length;++l<u;)(a=r[l])?(t.push(n=e.call(a,a.__data__,l,i)),n&&"__data__"in a&&(n.__data__=a.__data__)):t.push(null)}return q(o)},X.selectAll=function(e){var t,n,a=[];e=K(e);for(var o=-1,i=this.length;++o<i;)for(var s=this[o],l=-1,u=s.length;++l<u;)(n=s[l])&&(a.push(t=r(e.call(n,n.__data__,l,o))),t.parentNode=n);return q(a)};var Z="http://www.w3.org/1999/xhtml",J={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Q(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function $(e){return e.trim().replace(/\s+/g," ")}function ee(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function te(e){return(e+"").trim().split(/^|\s+/)}function ne(e,t){var n=(e=te(e).map(re)).length;return"function"==typeof t?function(){for(var r=-1,a=t.apply(this,arguments);++r<n;)e[r](this,a)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function re(e){var t=ee(e);return function(n,r){if(a=n.classList)return r?a.add(e):a.remove(e);var a=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(a)||n.setAttribute("class",$(a+" "+e))):n.setAttribute("class",$(a.replace(t," ")))}}function ae(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function oe(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function ie(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Z&&e.documentElement.namespaceURI===Z?e.createElement(t):e.createElementNS(n,t)}}function se(){var e=this.parentNode;e&&e.removeChild(this)}function le(e){return{__data__:e}}function ue(e){return function(){return G(this,e)}}function ce(e,t){for(var n=0,r=e.length;n<r;n++)for(var a,o=e[n],i=0,s=o.length;i<s;i++)(a=o[i])&&t(a,i,n);return e}function fe(e){return H(e,de),e}e.ns={prefix:J,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),J.hasOwnProperty(n)?{space:J[n],local:e}:e}},X.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(Q(n,t[n]));return this}return this.each(Q(t,n))},X.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=te(e)).length,a=-1;if(t=n.classList){for(;++a<r;)if(!t.contains(e[a]))return!1}else for(t=n.getAttribute("class");++a<r;)if(!ee(e[a]).test(t))return!1;return!0}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))},X.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(ae(n,e[n],t));return this}if(r<2){var a=this.node();return i(a).getComputedStyle(a,null).getPropertyValue(e)}n=""}return this.each(ae(e,t,n))},X.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(oe(t,e[t]));return this}return this.each(oe(e,t))},X.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},X.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},X.append=function(e){return e=ie(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},X.insert=function(e,t){return e=ie(e),t=Y(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},X.remove=function(){return this.each(se)},X.data=function(e,t){var n,r,a=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++a<o;)(r=n[a])&&(e[a]=r.__data__);return e}function i(e,n){var r,a,o,i=e.length,c=n.length,f=Math.min(i,c),d=new Array(c),h=new Array(c),p=new Array(i);if(t){var m,v=new _,g=new Array(i);for(r=-1;++r<i;)(a=e[r])&&(v.has(m=t.call(a,a.__data__,r))?p[r]=a:v.set(m,a),g[r]=m);for(r=-1;++r<c;)(a=v.get(m=t.call(n,o=n[r],r)))?!0!==a&&(d[r]=a,a.__data__=o):h[r]=le(o),v.set(m,!0);for(r=-1;++r<i;)r in g&&!0!==v.get(g[r])&&(p[r]=e[r])}else{for(r=-1;++r<f;)a=e[r],o=n[r],a?(a.__data__=o,d[r]=a):h[r]=le(o);for(;r<c;++r)h[r]=le(n[r]);for(;r<i;++r)p[r]=e[r]}h.update=d,h.parentNode=d.parentNode=p.parentNode=e.parentNode,s.push(h),l.push(d),u.push(p)}var s=fe([]),l=q([]),u=q([]);if("function"==typeof e)for(;++a<o;)i(n=this[a],e.call(n,n.parentNode.__data__,a));else for(;++a<o;)i(n=this[a],e);return l.enter=function(){return s},l.exit=function(){return u},l},X.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},X.filter=function(e){var t,n,r,a=[];"function"!=typeof e&&(e=ue(e));for(var o=0,i=this.length;o<i;o++){a.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return q(a)},X.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],a=r.length-1,o=r[a];--a>=0;)(n=r[a])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},X.sort=function(e){e=function(e){return arguments.length||(e=d),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},X.each=function(e){return ce(this,function(t,n,r){e.call(t,t.__data__,n,r)})},X.call=function(e){var t=r(arguments);return e.apply(t[0]=this,t),this},X.empty=function(){return!this.node()},X.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,a=n.length;r<a;r++){var o=n[r];if(o)return o}return null},X.size=function(){var e=0;return ce(this,function(){++e}),e};var de=[];function he(t,n,a){var o="__on"+t,i=t.indexOf("."),s=me;i>0&&(t=t.slice(0,i));var l=pe.get(t);function u(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}return l&&(t=l,s=ve),i?n?function(){var e=s(n,r(arguments));u.call(this),this.addEventListener(t,this[o]=e,e.$=a),e._=n}:u:n?L:function(){var n,r=new RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var a in this)if(n=a.match(r)){var o=this[a];this.removeEventListener(n[1],o,o.$),delete this[a]}}}e.selection.enter=fe,e.selection.enter.prototype=de,de.append=X.append,de.empty=X.empty,de.node=X.node,de.call=X.call,de.size=X.size,de.select=function(e){for(var t,n,r,a,o,i=[],s=-1,l=this.length;++s<l;){r=(a=this[s]).update,i.push(t=[]),t.parentNode=a.parentNode;for(var u=-1,c=a.length;++u<c;)(o=a[u])?(t.push(r[u]=n=e.call(a.parentNode,o.__data__,u,s)),n.__data__=o.__data__):t.push(null)}return q(i)},de.insert=function(e,t){return arguments.length<2&&(t=function(e){var t,n;return function(r,a,o){var i,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),a>=t&&(t=a+1);!(i=s[t])&&++t<l;);return i}}(this)),X.insert.call(this,e,t)},e.select=function(e){var t;return"string"==typeof e?(t=[V(e,a)]).parentNode=a.documentElement:(t=[e]).parentNode=o(e),q([t])},e.selectAll=function(e){var t;return"string"==typeof e?(t=r(W(e,a))).parentNode=a.documentElement:(t=r(e)).parentNode=null,q([t])},X.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(he(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(he(e,t,n))};var pe=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function me(t,n){return function(r){var a=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=a}}}function ve(e,t){var n=me(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}a&&pe.forEach(function(e){"on"+e in a&&pe.remove(e)});var ge,ye=0;function be(t){var n=".dragsuppress-"+ ++ye,r="click"+n,a=e.select(i(t)).on("touchmove"+n,z).on("dragstart"+n,z).on("selectstart"+n,z);if(null==ge&&(ge=!("onselectstart"in t)&&N(t.style,"userSelect")),ge){var s=o(t).style,l=s[ge];s[ge]="none"}return function(e){if(a.on(n,null),ge&&(s[ge]=l),e){var t=function(){a.on(r,null)};a.on(r,function(){z(),t()},!0),setTimeout(t,0)}}}e.mouse=function(e){return xe(e,F())};var _e=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xe(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();if(_e<0){var o=i(t);if(o.scrollX||o.scrollY){var s=(r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_e=!(s.f||s.e),r.remove()}}return _e?(a.x=n.pageX,a.y=n.pageY):(a.x=n.clientX,a.y=n.clientY),[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}var l=t.getBoundingClientRect();return[n.clientX-l.left-t.clientLeft,n.clientY-l.top-t.clientTop]}function we(){return e.event.changedTouches[0].identifier}e.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=F().changedTouches),t)for(var r,a=0,o=t.length;a<o;++a)if((r=t[a]).identifier===n)return xe(e,r)},e.behavior.drag=function(){var t=B(o,"drag","dragstart","dragend"),n=null,r=s(L,e.mouse,i,"mousemove","mouseup"),a=s(we,e.touch,O,"touchmove","touchend");function o(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function s(r,a,o,i,s){return function(){var l,u=e.event.target.correspondingElement||e.event.target,c=this.parentNode,f=t.of(this,arguments),d=0,h=r(),p=".drag"+(null==h?"":"-"+h),m=e.select(o(u)).on(i+p,function(){var e,t,n=a(c,h);n&&(e=n[0]-g[0],t=n[1]-g[1],d|=e|t,g=n,f({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}).on(s+p,function(){a(c,h)&&(m.on(i+p,null).on(s+p,null),v(d),f({type:"dragend"}))}),v=be(u),g=a(c,h);l=n?[(l=n.apply(this,arguments)).x-g[0],l.y-g[1]]:[0,0],f({type:"dragstart"})}}return o.origin=function(e){return arguments.length?(n=e,o):n},e.rebind(o,t,"on")},e.touches=function(e,t){return arguments.length<2&&(t=F().touches),t?r(t).map(function(t){var n=xe(e,t);return n.identifier=t.identifier,n}):[]};var ke=1e-6,Ae=ke*ke,Te=Math.PI,Me=2*Te,Ee=Me-ke,Ce=Te/2,Se=Te/180,je=180/Te;function Oe(e){return e>0?1:e<0?-1:0}function Pe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Ne(e){return e>1?0:e<-1?Te:Math.acos(e)}function Ie(e){return e>1?Ce:e<-1?-Ce:Math.asin(e)}function Le(e){return((e=Math.exp(e))+1/e)/2}function De(e){return(e=Math.sin(e/2))*e}var Re=Math.SQRT2;e.interpolateZoom=function(e,t){var n,r,a=e[0],o=e[1],i=e[2],s=t[0],l=t[1],u=t[2],c=s-a,f=l-o,d=c*c+f*f;if(d<Ae)r=Math.log(u/i)/Re,n=function(e){return[a+e*c,o+e*f,i*Math.exp(Re*e*r)]};else{var h=Math.sqrt(d),p=(u*u-i*i+4*d)/(2*i*2*h),m=(u*u-i*i-4*d)/(2*u*2*h),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/Re,n=function(e){var t=e*r,n=Le(v),s=i/(2*h)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(Re*t+v)-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[a+s*c,o+s*f,i*n/Le(Re*t+v)]}}return n.duration=1e3*r,n},e.behavior.zoom=function(){var t,n,r,o,s,l,u,c,f,d={x:0,y:0,k:1},h=[960,500],p=Be,m=250,v=0,g="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",_="touchstart.zoom",x=B(w,"zoomstart","zoom","zoomend");function w(e){e.on(g,O).on(Fe+".zoom",N).on("dblclick.zoom",I).on(_,P)}function k(e){return[(e[0]-d.x)/d.k,(e[1]-d.y)/d.k]}function A(e){d.k=Math.max(p[0],Math.min(p[1],e))}function T(e,t){t=function(e){return[e[0]*d.k+d.x,e[1]*d.k+d.y]}(t),d.x+=e[0]-t[0],d.y+=e[1]-t[1]}function M(t,r,a,o){t.__chart__={x:d.x,y:d.y,k:d.k},A(Math.pow(2,o)),T(n=r,a),t=e.select(t),m>0&&(t=t.transition().duration(m)),t.call(w.event)}function E(){u&&u.domain(l.range().map(function(e){return(e-d.x)/d.k}).map(l.invert)),f&&f.domain(c.range().map(function(e){return(e-d.y)/d.k}).map(c.invert))}function C(e){v++||e({type:"zoomstart"})}function S(e){E(),e({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function j(e){--v||(e({type:"zoomend"}),n=null)}function O(){var t=this,n=x.of(t,arguments),r=0,a=e.select(i(t)).on(y,function(){r=1,T(e.mouse(t),o),S(n)}).on(b,function(){a.on(y,null).on(b,null),s(r),j(n)}),o=k(e.mouse(t)),s=be(t);us.call(t),C(n)}function P(){var t,n=this,r=x.of(n,arguments),a={},o=0,i=".zoom-"+e.event.changedTouches[0].identifier,l="touchmove"+i,u="touchend"+i,c=[],f=e.select(n),h=be(n);function p(){var r=e.touches(n);return t=d.k,r.forEach(function(e){e.identifier in a&&(a[e.identifier]=k(e))}),r}function m(){var t=e.event.target;e.select(t).on(l,v).on(u,y),c.push(t);for(var r=e.event.changedTouches,i=0,f=r.length;i<f;++i)a[r[i].identifier]=null;var h=p(),m=Date.now();if(1===h.length){if(m-s<500){var g=h[0];M(n,g,a[g.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),z()}s=m}else if(h.length>1){var g=h[0],b=h[1],_=g[0]-b[0],x=g[1]-b[1];o=_*_+x*x}}function v(){var i,l,u,c,f=e.touches(n);us.call(n);for(var d=0,h=f.length;d<h;++d,c=null)if(u=f[d],c=a[u.identifier]){if(l)break;i=u,l=c}if(c){var p=(p=u[0]-i[0])*p+(p=u[1]-i[1])*p,m=o&&Math.sqrt(p/o);i=[(i[0]+u[0])/2,(i[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],A(m*t)}s=null,T(i,l),S(r)}function y(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,o=t.length;n<o;++n)delete a[t[n].identifier];for(var s in a)return void p()}e.selectAll(c).on(i,null),f.on(g,O).on(_,P),h(),j(r)}m(),C(r),f.on(g,null).on(_,m)}function N(){var a=x.of(this,arguments);o?clearTimeout(o):(us.call(this),t=k(n=r||e.mouse(this)),C(a)),o=setTimeout(function(){o=null,j(a)},50),z(),A(Math.pow(2,.002*ze())*d.k),T(n,t),S(a)}function I(){var t=e.mouse(this),n=Math.log(d.k)/Math.LN2;M(this,t,k(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Fe||(Fe="onwheel"in a?(ze=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in a?(ze=function(){return e.event.wheelDelta},"mousewheel"):(ze=function(){return-e.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each(function(){var t=x.of(this,arguments),r=d;ds?e.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},C(t)}).tween("zoom:zoom",function(){var a=h[0],o=h[1],i=n?n[0]:a/2,s=n?n[1]:o/2,l=e.interpolateZoom([(i-d.x)/d.k,(s-d.y)/d.k,a/d.k],[(i-r.x)/r.k,(s-r.y)/r.k,a/r.k]);return function(e){var n=l(e),r=a/n[2];this.__chart__=d={x:i-n[0]*r,y:s-n[1]*r,k:r},S(t)}}).each("interrupt.zoom",function(){j(t)}).each("end.zoom",function(){j(t)}):(this.__chart__=d,C(t),S(t),j(t))})},w.translate=function(e){return arguments.length?(d={x:+e[0],y:+e[1],k:d.k},E(),w):[d.x,d.y]},w.scale=function(e){return arguments.length?(d={x:d.x,y:d.y,k:null},A(+e),E(),w):d.k},w.scaleExtent=function(e){return arguments.length?(p=null==e?Be:[+e[0],+e[1]],w):p},w.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],w):r},w.size=function(e){return arguments.length?(h=e&&[+e[0],+e[1]],w):h},w.duration=function(e){return arguments.length?(m=+e,w):m},w.x=function(e){return arguments.length?(u=e,l=e.copy(),d={x:0,y:0,k:1},w):u},w.y=function(e){return arguments.length?(f=e,c=e.copy(),d={x:0,y:0,k:1},w):f},e.rebind(w,x,"on")};var ze,Fe,Be=[0,1/0];function Ue(){}function He(e,t,n){return this instanceof He?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof He?new He(e.h,e.s,e.l):ct(""+e,ft,He):new He(e,t,n)}e.color=Ue,Ue.prototype.toString=function(){return this.rgb()+""},e.hsl=He;var qe=He.prototype=new Ue;function Ve(e,t,n){var r,a;function o(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(a-r)*e/60:e<180?a:e<240?r+(a-r)*(240-e)/60:r}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(a=n<=.5?n*(1+t):n+t-n*t),new ot(o(e+120),o(e),o(e-120))}function We(t,n,r){return this instanceof We?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof We?new We(t.h,t.c,t.l):tt(t instanceof Ye?t.l:(t=dt((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new We(t,n,r)}qe.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new He(this.h,this.s,this.l/e)},qe.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new He(this.h,this.s,e*this.l)},qe.rgb=function(){return Ve(this.h,this.s,this.l)},e.hcl=We;var Ge=We.prototype=new Ue;function Xe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Ye(n,Math.cos(e*=Se)*t,Math.sin(e)*t)}function Ye(e,t,n){return this instanceof Ye?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Ye?new Ye(e.l,e.a,e.b):e instanceof We?Xe(e.h,e.c,e.l):dt((e=ot(e)).r,e.g,e.b):new Ye(e,t,n)}Ge.brighter=function(e){return new We(this.h,this.c,Math.min(100,this.l+Ke*(arguments.length?e:1)))},Ge.darker=function(e){return new We(this.h,this.c,Math.max(0,this.l-Ke*(arguments.length?e:1)))},Ge.rgb=function(){return Xe(this.h,this.c,this.l).rgb()},e.lab=Ye;var Ke=18,Ze=.95047,Je=1,Qe=1.08883,$e=Ye.prototype=new Ue;function et(e,t,n){var r=(e+16)/116,a=r+t/500,o=r-n/200;return a=nt(a)*Ze,r=nt(r)*Je,o=nt(o)*Qe,new ot(at(3.2404542*a-1.5371385*r-.4985314*o),at(-.969266*a+1.8760108*r+.041556*o),at(.0556434*a-.2040259*r+1.0572252*o))}function tt(e,t,n){return e>0?new We(Math.atan2(n,t)*je,Math.sqrt(t*t+n*n),e):new We(NaN,NaN,e)}function nt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function rt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function at(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ot(e,t,n){return this instanceof ot?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ot?new ot(e.r,e.g,e.b):ct(""+e,ot,Ve):new ot(e,t,n)}function it(e){return new ot(e>>16,e>>8&255,255&e)}function st(e){return it(e)+""}$e.brighter=function(e){return new Ye(Math.min(100,this.l+Ke*(arguments.length?e:1)),this.a,this.b)},$e.darker=function(e){return new Ye(Math.max(0,this.l-Ke*(arguments.length?e:1)),this.a,this.b)},$e.rgb=function(){return et(this.l,this.a,this.b)},e.rgb=ot;var lt=ot.prototype=new Ue;function ut(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ct(e,t,n){var r,a,o,i=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(a=r[2].split(","),r[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(pt(a[0]),pt(a[1]),pt(a[2]))}return(o=mt.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(i=(3840&o)>>4,i|=i>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(i=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(i,s,l))}function ft(e,t,n){var r,a,o=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-o,l=(i+o)/2;return s?(a=l<.5?s/(i+o):s/(2-i-o),r=e==i?(t-n)/s+(t<n?6:0):t==i?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,a=l>0&&l<1?0:r),new He(r,a,l)}function dt(e,t,n){e=ht(e),t=ht(t),n=ht(n);var r=rt((.4124564*e+.3575761*t+.1804375*n)/Ze),a=rt((.2126729*e+.7151522*t+.072175*n)/Je),o=rt((.0193339*e+.119192*t+.9503041*n)/Qe);return Ye(116*a-16,500*(r-a),200*(a-o))}function ht(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}lt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,a=30;return t||n||r?(t&&t<a&&(t=a),n&&n<a&&(n=a),r&&r<a&&(r=a),new ot(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ot(a,a,a)},lt.darker=function(e){return new ot((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},lt.hsl=function(){return ft(this.r,this.g,this.b)},lt.toString=function(){return"#"+ut(this.r)+ut(this.g)+ut(this.b)};var mt=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function vt(e){return"function"==typeof e?e:function(){return e}}function gt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),yt(t,n,e,r)}}function yt(t,n,a,o){var i={},s=e.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function f(){var e,t=u.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(u)||t>=200&&t<300||304===t){try{e=a.call(i,u)}catch(e){return void s.error.call(i,e)}s.load.call(i,e)}else s.error.call(i,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=f:u.onreadystatechange=function(){u.readyState>3&&f()},u.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(i,u)}finally{e.event=n}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",i):n},i.responseType=function(e){return arguments.length?(c=e,i):c},i.response=function(e){return a=e,i},["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(r(arguments)))}}),i.send=function(e,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),u.open(e,t,!0),null==n||"accept"in l||(l.accept=n+",*/*"),u.setRequestHeader)for(var o in l)u.setRequestHeader(o,l[o]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=c&&(u.responseType=c),null!=a&&i.on("error",a).on("load",function(e){a(null,e)}),s.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},e.rebind(i,s,"on"),null==o?i:i.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(o))}mt.forEach(function(e,t){mt.set(e,it(t))}),e.functor=vt,e.xhr=gt(O),e.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function a(e,n,r){arguments.length<3&&(r=n,n=null);var a=yt(e,t,null==n?o:i(n),r);return a.row=function(e){return arguments.length?a.response(null==(n=e)?o:i(e)):n},a}function o(e){return a.parse(e.responseText)}function i(e){return function(t){return a.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return a.parse=function(e,t){var n;return a.parseRows(e,function(e,r){if(n)return n(e,r-1);var a=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(a(e),n)}:a})},a.parseRows=function(e,t){var n,a,o={},i={},s=[],l=e.length,u=0,c=0;function f(){if(u>=l)return i;if(a)return a=!1,o;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var s=e.charCodeAt(n+1);return 13===s?(a=!0,10===e.charCodeAt(n+2)&&++u):10===s&&(a=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<l;){var s=e.charCodeAt(u++),c=1;if(10===s)a=!0;else if(13===s)a=!0,10===e.charCodeAt(u)&&(++u,++c);else if(s!==r)continue;return e.slice(t,u-c)}return e.slice(t)}for(;(n=f())!==i;){for(var d=[];n!==o&&n!==i;)d.push(n),n=f();t&&null==(d=t(d,c++))||s.push(d)}return s},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new j,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(l).join(e)].concat(t.map(function(t){return r.map(function(e){return l(t[e])}).join(e)})).join("\n")},a.formatRows=function(e){return e.map(s).join("\n")},a},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("\t","text/tab-separated-values");var bt,_t,xt,wt,kt=this[N(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function At(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var a=n+t,o={c:e,t:a,n:null};return _t?_t.n=o:bt=o,_t=o,xt||(wt=clearTimeout(wt),xt=1,kt(Tt)),o}function Tt(){var e=Mt(),t=Et()-e;t>24?(isFinite(t)&&(clearTimeout(wt),wt=setTimeout(Tt,t)),xt=0):(xt=1,kt(Tt))}function Mt(){for(var e=Date.now(),t=bt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Et(){for(var e,t=bt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:bt=t.n;return _t=e,n}function Ct(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}e.timer=function(){At.apply(this,arguments)},e.timer.flush=function(){Mt(),Et()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var St=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*y(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}});e.formatPrefix=function(t,n){var r=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=e.round(t,Ct(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),St[8+r/3]};var jt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ot=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,Ct(t,n))).toFixed(Math.max(0,Math.min(20,Ct(t*(1+1e-15),n))))}});function Pt(e){return e+""}var Nt=e.time={},It=Date;function Lt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Lt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Dt.setUTCDate.apply(this._,arguments)},setDay:function(){Dt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Dt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Dt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Dt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Dt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Dt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Dt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Dt.setTime.apply(this._,arguments)}};var Dt=Date.prototype;function Rt(e,t,n){function r(t){var n=e(t),r=o(n,1);return t-n<r-t?n:r}function a(n){return t(n=e(new It(n-1)),1),n}function o(e,n){return t(e=new It(+e),n),e}function i(e,r,o){var i=a(e),s=[];if(o>1)for(;i<r;)n(i)%o||s.push(new Date(+i)),t(i,1);else for(;i<r;)s.push(new Date(+i)),t(i,1);return s}e.floor=e,e.round=r,e.ceil=a,e.offset=o,e.range=i;var s=e.utc=zt(e);return s.floor=s,s.round=zt(r),s.ceil=zt(a),s.offset=zt(o),s.range=function(e,t,n){try{It=Lt;var r=new Lt;return r._=e,i(r,t,n)}finally{It=Date}},e}function zt(e){return function(t,n){try{It=Lt;var r=new Lt;return r._=t,e(r,n)._}finally{It=Date}}}Nt.year=Rt(function(e){return(e=Nt.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Nt.years=Nt.year.range,Nt.years.utc=Nt.year.utc.range,Nt.day=Rt(function(e){var t=new It(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Nt.days=Nt.day.range,Nt.days.utc=Nt.day.utc.range,Nt.dayOfYear=function(e){var t=Nt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=Nt[e]=Rt(function(e){return(e=Nt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=Nt.year(e).getDay();return Math.floor((Nt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Nt[e+"s"]=n.range,Nt[e+"s"].utc=n.utc.range,Nt[e+"OfYear"]=function(e){var n=Nt.year(e).getDay();return Math.floor((Nt.dayOfYear(e)+(n+t)%7)/7)}}),Nt.week=Nt.sunday,Nt.weeks=Nt.sunday.range,Nt.weeks.utc=Nt.sunday.utc.range,Nt.weekOfYear=Nt.sundayOfYear;var Ft={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,Ut=/^%/;function Ht(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function qt(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function Vt(e){for(var t=new _,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Wt(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Gt(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Xt(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Yt(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Kt(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+2));return r?(e.y=function(e){return e+(e>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Zt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Jt(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Qt(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $t(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function en(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tn(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nn(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rn(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function an(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=y(t)/60|0,a=y(t)%60;return n+Ht(r,"0",2)+Ht(a,"0",2)}function on(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function sn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}e.locale=function(t){return{numberFormat:function(t){var n=t.decimal,r=t.thousands,a=t.grouping,o=t.currency,i=a&&r?function(e,t){for(var n=e.length,o=[],i=0,s=a[0],l=0;n>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(n-=s,n+s)),!((l+=s+1)>t));)s=a[i=(i+1)%a.length];return o.reverse().join(r)}:O;return function(t){var r=jt.exec(t),a=r[1]||" ",s=r[2]||">",l=r[3]||"-",u=r[4]||"",c=r[5],f=+r[6],d=r[7],h=r[8],p=r[9],m=1,v="",g="",y=!1,b=!0;switch(h&&(h=+h.substring(1)),(c||"0"===a&&"="===s)&&(c=a="0",s="="),p){case"n":d=!0,p="g";break;case"%":m=100,g="%",p="f";break;case"p":m=100,g="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(v="0"+p.toLowerCase());case"c":b=!1;case"d":y=!0,h=0;break;case"s":m=-1,p="r"}"$"===u&&(v=o[0],g=o[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=Ot.get(p)||Pt;var _=c&&d;return function(t){var r=g;if(y&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(m<0){var u=e.formatPrefix(t,h);t=u.scale(t),r=u.symbol+g}else t*=m;var x,w,k=(t=p(t,h)).lastIndexOf(".");if(k<0){var A=b?t.lastIndexOf("e"):-1;A<0?(x=t,w=""):(x=t.substring(0,A),w=t.substring(A))}else x=t.substring(0,k),w=n+t.substring(k+1);!c&&d&&(x=i(x,1/0));var T=v.length+x.length+w.length+(_?0:o.length),M=T<f?new Array(T=f-T+1).join(a):"";return _&&(x=i(M+x,M.length?f-w.length:1/0)),o+=v,t=x+w,("<"===s?o+t+M:">"===s?M+o+t:"^"===s?M.substring(0,T>>=1)+o+t+M.substring(T):o+(_?t:M+t))+r}}}(t),timeFormat:function(t){var n=t.dateTime,r=t.date,a=t.time,o=t.periods,i=t.days,s=t.shortDays,l=t.months,u=t.shortMonths;function c(e){var t=e.length;function n(n){for(var r,a,o,i=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(a=Ft[r=e.charAt(++s)])&&(r=e.charAt(++s)),(o=x[r])&&(r=o(n,null==a?"e"===r?" ":"0":a)),i.push(r),l=s+1);return i.push(e.slice(l,s)),i.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=f(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var a=null!=n.Z&&It!==Lt,o=new(a?Lt:It);return"j"in n?o.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),a?o._:o},n.toString=function(){return e},n}function f(e,t,n,r){for(var a,o,i,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(a=t.charCodeAt(s++))){if(i=t.charAt(s++),!(o=w[i in Ft?t.charAt(s++):i])||(r=o(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(It=Lt);return n._=e,t(n)}finally{It=Date}}return n.parse=function(e){try{It=Lt;var n=t.parse(e);return n&&n._}finally{It=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=sn;var d=e.map(),h=qt(i),p=Vt(i),m=qt(s),v=Vt(s),g=qt(l),y=Vt(l),b=qt(u),_=Vt(u);o.forEach(function(e,t){d.set(e.toLowerCase(),t)});var x={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:c(n),d:function(e,t){return Ht(e.getDate(),t,2)},e:function(e,t){return Ht(e.getDate(),t,2)},H:function(e,t){return Ht(e.getHours(),t,2)},I:function(e,t){return Ht(e.getHours()%12||12,t,2)},j:function(e,t){return Ht(1+Nt.dayOfYear(e),t,3)},L:function(e,t){return Ht(e.getMilliseconds(),t,3)},m:function(e,t){return Ht(e.getMonth()+1,t,2)},M:function(e,t){return Ht(e.getMinutes(),t,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,t){return Ht(e.getSeconds(),t,2)},U:function(e,t){return Ht(Nt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ht(Nt.mondayOfYear(e),t,2)},x:c(r),X:c(a),y:function(e,t){return Ht(e.getFullYear()%100,t,2)},Y:function(e,t){return Ht(e.getFullYear()%1e4,t,4)},Z:an,"%":function(){return"%"}},w={a:function(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){h.lastIndex=0;var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,n){return f(e,x.c.toString(),t,n)},d:Qt,e:Qt,H:en,I:en,j:$t,L:rn,m:Jt,M:tn,p:function(e,t,n){var r=d.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:nn,U:Gt,w:Wt,W:Xt,x:function(e,t,n){return f(e,x.x.toString(),t,n)},X:function(e,t,n){return f(e,x.X.toString(),t,n)},y:Kt,Y:Yt,Z:Zt,"%":on};return c}(t)}};var ln=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function un(){}e.format=ln.numberFormat,e.geo={},un.prototype={s:0,t:0,add:function(e){fn(e,this.t,cn),fn(cn.s,this.s,this),this.s?this.t+=cn.t:this.s=cn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var cn=new un;function fn(e,t,n){var r=n.s=e+t,a=r-e,o=r-a;n.t=e-o+(t-a)}function dn(e,t){e&&pn.hasOwnProperty(e.type)&&pn[e.type](e,t)}e.geo.stream=function(e,t){e&&hn.hasOwnProperty(e.type)?hn[e.type](e,t):dn(e,t)};var hn={Feature:function(e,t){dn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)dn(n[r].geometry,t)}},pn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){mn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)mn(n[r],t,0)},Polygon:function(e,t){vn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)vn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)dn(n[r],t)}};function mn(e,t,n){var r,a=-1,o=e.length-n;for(t.lineStart();++a<o;)r=e[a],t.point(r[0],r[1],r[2]);t.lineEnd()}function vn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)mn(e[n],t,1);t.polygonEnd()}e.geo.area=function(t){return gn=0,e.geo.stream(t,jn),gn};var gn,yn,bn,_n,xn,wn,kn,An,Tn,Mn,En,Cn,Sn=new un,jn={sphere:function(){gn+=4*Te},point:L,lineStart:L,lineEnd:L,polygonStart:function(){Sn.reset(),jn.lineStart=On},polygonEnd:function(){var e=2*Sn;gn+=e<0?4*Te+e:e,jn.lineStart=jn.lineEnd=jn.point=L}};function On(){var e,t,n,r,a;function o(e,t){t=t*Se/2+Te/4;var o=(e*=Se)-n,i=o>=0?1:-1,s=i*o,l=Math.cos(t),u=Math.sin(t),c=a*u,f=r*l+c*Math.cos(s),d=c*i*Math.sin(s);Sn.add(Math.atan2(d,f)),n=e,r=l,a=u}jn.point=function(i,s){jn.point=o,n=(e=i)*Se,r=Math.cos(s=(t=s)*Se/2+Te/4),a=Math.sin(s)},jn.lineEnd=function(){o(e,t)}}function Pn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Nn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function In(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ln(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Dn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Rn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function zn(e){return[Math.atan2(e[1],e[0]),Ie(e[2])]}function Fn(e,t){return y(e[0]-t[0])<ke&&y(e[1]-t[1])<ke}e.geo.bounds=function(){var t,n,r,a,o,i,s,l,u,c,f,d={point:h,lineStart:m,lineEnd:v,polygonStart:function(){d.point=g,d.lineStart=b,d.lineEnd=_,u=0,jn.polygonStart()},polygonEnd:function(){jn.polygonEnd(),d.point=h,d.lineStart=m,d.lineEnd=v,Sn<0?(t=-(r=180),n=-(a=90)):u>ke?a=90:u<-ke&&(n=-90),f[0]=t,f[1]=r}};function h(e,o){c.push(f=[t=e,r=e]),o<n&&(n=o),o>a&&(a=o)}function p(e,i){var s=Pn([e*Se,i*Se]);if(l){var u=In(l,s),c=[u[1],-u[0],0],f=In(c,u);Rn(f),f=zn(f);var d=e-o,p=d>0?1:-1,m=f[0]*je*p,v=y(d)>180;if(v^(p*o<m&&m<p*e)){var g=f[1]*je;g>a&&(a=g)}else if(v^(p*o<(m=(m+360)%360-180)&&m<p*e)){var g=-f[1]*je;g<n&&(n=g)}else i<n&&(n=i),i>a&&(a=i);v?e<o?x(t,e)>x(t,r)&&(r=e):x(e,r)>x(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>o?x(t,e)>x(t,r)&&(r=e):x(e,r)>x(t,r)&&(t=e)}else h(e,i);l=s,o=e}function m(){d.point=p}function v(){f[0]=t,f[1]=r,d.point=h,l=null}function g(e,t){if(l){var n=e-o;u+=y(n)>180?n+(n>0?360:-360):n}else i=e,s=t;jn.point(e,t),p(e,t)}function b(){jn.lineStart()}function _(){g(i,s),jn.lineEnd(),y(u)>ke&&(t=-(r=180)),f[0]=t,f[1]=r,l=null}function x(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function k(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(o){a=r=-(t=n=1/0),c=[],e.geo.stream(o,d);var i=c.length;if(i){c.sort(w);for(var s=1,l=c[0],u=[l];s<i;++s)k((p=c[s])[0],l)||k(p[1],l)?(x(l[0],p[1])>x(l[0],l[1])&&(l[1]=p[1]),x(p[0],l[1])>x(l[0],l[1])&&(l[0]=p[0])):u.push(l=p);for(var h,p,m=-1/0,i=u.length-1,s=0,l=u[i];s<=i;l=p,++s)p=u[s],(h=x(l[1],p[0]))>m&&(m=h,t=p[0],r=l[1])}return c=f=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,a]]}}(),e.geo.centroid=function(t){yn=bn=_n=xn=wn=kn=An=Tn=Mn=En=Cn=0,e.geo.stream(t,Bn);var n=Mn,r=En,a=Cn,o=n*n+r*r+a*a;return o<Ae&&(n=kn,r=An,a=Tn,bn<ke&&(n=_n,r=xn,a=wn),(o=n*n+r*r+a*a)<Ae)?[NaN,NaN]:[Math.atan2(r,n)*je,Ie(a/Math.sqrt(o))*je]};var Bn={sphere:L,point:Un,lineStart:qn,lineEnd:Vn,polygonStart:function(){Bn.lineStart=Wn},polygonEnd:function(){Bn.lineStart=qn}};function Un(e,t){e*=Se;var n=Math.cos(t*=Se);Hn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Hn(e,t,n){_n+=(e-_n)/++yn,xn+=(t-xn)/yn,wn+=(n-wn)/yn}function qn(){var e,t,n;function r(r,a){r*=Se;var o=Math.cos(a*=Se),i=o*Math.cos(r),s=o*Math.sin(r),l=Math.sin(a),u=Math.atan2(Math.sqrt((u=t*l-n*s)*u+(u=n*i-e*l)*u+(u=e*s-t*i)*u),e*i+t*s+n*l);bn+=u,kn+=u*(e+(e=i)),An+=u*(t+(t=s)),Tn+=u*(n+(n=l)),Hn(e,t,n)}Bn.point=function(a,o){a*=Se;var i=Math.cos(o*=Se);e=i*Math.cos(a),t=i*Math.sin(a),n=Math.sin(o),Bn.point=r,Hn(e,t,n)}}function Vn(){Bn.point=Un}function Wn(){var e,t,n,r,a;function o(e,t){e*=Se;var o=Math.cos(t*=Se),i=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(t),u=r*l-a*s,c=a*i-n*l,f=n*s-r*i,d=Math.sqrt(u*u+c*c+f*f),h=n*i+r*s+a*l,p=d&&-Ne(h)/d,m=Math.atan2(d,h);Mn+=p*u,En+=p*c,Cn+=p*f,bn+=m,kn+=m*(n+(n=i)),An+=m*(r+(r=s)),Tn+=m*(a+(a=l)),Hn(n,r,a)}Bn.point=function(i,s){e=i,t=s,Bn.point=o,i*=Se;var l=Math.cos(s*=Se);n=l*Math.cos(i),r=l*Math.sin(i),a=Math.sin(s),Hn(n,r,a)},Bn.lineEnd=function(){o(e,t),Bn.lineEnd=Vn,Bn.point=Un}}function Gn(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Xn(){return!0}function Yn(e,t,n,r,a){var o=[],i=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Fn(n,r)){a.lineStart();for(var s=0;s<t;++s)a.point((n=e[s])[0],n[1]);a.lineEnd()}else{var l=new Zn(n,e,null,!0),u=new Zn(n,null,l,!1);l.o=u,o.push(l),i.push(u),l=new Zn(r,e,null,!1),u=new Zn(r,null,l,!0),l.o=u,o.push(l),i.push(u)}}}),i.sort(t),Kn(o),Kn(i),o.length){for(var s=0,l=n,u=i.length;s<u;++s)i[s].e=l=!l;for(var c,f,d=o[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var s=0,u=c.length;s<u;++s)a.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,a);h=h.n}else{if(p)for(var s=(c=h.p.z).length-1;s>=0;--s)a.point((f=c[s])[0],f[1]);else r(h.x,h.p.x,-1,a);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);a.lineEnd()}}}function Kn(e){if(t=e.length){for(var t,n,r=0,a=e[0];++r<t;)a.n=n=e[r],n.p=a,a=n;a.n=n=e[0],n.p=a}}function Zn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Jn(t,n,r,a){return function(o,i){var s,l=n(i),u=o.invert(a[0],a[1]),c={point:f,lineStart:h,lineEnd:p,polygonStart:function(){c.point=_,c.lineStart=x,c.lineEnd=w,s=[],m=[]},polygonEnd:function(){c.point=f,c.lineStart=h,c.lineEnd=p,s=e.merge(s);var t=function(e,t){var n=e[0],r=e[1],a=[Math.sin(n),-Math.cos(n),0],o=0,i=0;Sn.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var f=u[0],d=f[0],h=f[1]/2+Te/4,p=Math.sin(h),m=Math.cos(h),v=1;;){v===c&&(v=0);var g=(e=u[v])[0],y=e[1]/2+Te/4,b=Math.sin(y),_=Math.cos(y),x=g-d,w=x>=0?1:-1,k=w*x,A=k>Te,T=p*b;if(Sn.add(Math.atan2(T*w*Math.sin(k),m*_+T*Math.cos(k))),o+=A?x+w*Me:x,A^d>=n^g>=n){var M=In(Pn(f),Pn(e));Rn(M);var E=In(a,M);Rn(E);var C=(A^x>=0?-1:1)*Ie(E[2]);(r>C||r===C&&(M[0]||M[1]))&&(i+=A^x>=0?1:-1)}if(!v++)break;d=g,p=b,m=_,f=e}}return(o<-ke||o<ke&&Sn<-ke)^1&i}(u,m);s.length?(b||(i.polygonStart(),b=!0),Yn(s,er,t,r,i)):t&&(b||(i.polygonStart(),b=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),s=m=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function d(e,t){var n=o(e,t);l.point(n[0],n[1])}function h(){c.point=d,l.lineStart()}function p(){c.point=f,l.lineEnd()}var m,v,g=$n(),y=n(g),b=!1;function _(e,t){v.push([e,t]);var n=o(e,t);y.point(n[0],n[1])}function x(){y.lineStart(),v=[]}function w(){_(v[0][0],v[0][1]),y.lineEnd();var e,t=y.clean(),n=g.buffer(),r=n.length;if(v.pop(),m.push(v),v=null,r)if(1&t){var a,r=(e=n[0]).length-1,o=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++o<r;)i.point((a=e[o])[0],a[1]);i.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Qn))}return c}}function Qn(e){return e.length>1}function $n(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:L,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function er(e,t){return((e=e.x)[0]<0?e[1]-Ce-ke:Ce-e[1])-((t=t.x)[0]<0?t[1]-Ce-ke:Ce-t[1])}var tr=Jn(Xn,function(e){var t,n=NaN,r=NaN,a=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,i){var s=o>0?Te:-Te,l=y(o-n);y(l-Te)<ke?(e.point(n,r=(r+i)/2>0?Ce:-Ce),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):a!==s&&l>=Te&&(y(n-a)<ke&&(n-=a*ke),y(o-s)<ke&&(o-=s*ke),r=function(e,t,n,r){var a,o,i=Math.sin(e-n);return y(i)>ke?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(a=Math.cos(t))*Math.sin(e))/(a*o*i)):(t+r)/2}(n,r,o,i),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=i),a=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var a;if(null==e)a=n*Ce,r.point(-Te,a),r.point(0,a),r.point(Te,a),r.point(Te,0),r.point(Te,-a),r.point(0,-a),r.point(-Te,-a),r.point(-Te,0),r.point(-Te,a);else if(y(e[0]-t[0])>ke){var o=e[0]<t[0]?Te:-Te;a=n*o/2,r.point(-o,a),r.point(0,a),r.point(o,a)}else r.point(t[0],t[1])},[-Te,-Te/2]);function nr(e,t,n,r){return function(a){var o,i=a.a,s=a.b,l=i.x,u=i.y,c=s.x,f=s.y,d=0,h=1,p=c-l,m=f-u;if(o=e-l,p||!(o>0)){if(o/=p,p<0){if(o<d)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>d&&(d=o)}if(o=n-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>d&&(d=o)}else if(p>0){if(o<d)return;o<h&&(h=o)}if(o=t-u,m||!(o>0)){if(o/=m,m<0){if(o<d)return;o<h&&(h=o)}else if(m>0){if(o>h)return;o>d&&(d=o)}if(o=r-u,m||!(o<0)){if(o/=m,m<0){if(o>h)return;o>d&&(d=o)}else if(m>0){if(o<d)return;o<h&&(h=o)}return d>0&&(a.a={x:l+d*p,y:u+d*m}),h<1&&(a.b={x:l+h*p,y:u+h*m}),a}}}}}}var rr=1e9;function ar(t,n,r,a){return function(l){var u,c,f,d,h,p,m,v,g,y,b,_=l,x=$n(),w=nr(t,n,r,a),k={point:M,lineStart:function(){k.point=E,c&&c.push(f=[]),y=!0,g=!1,m=v=NaN},lineEnd:function(){u&&(E(d,h),p&&g&&x.rejoin(),u.push(x.buffer())),k.point=M,g&&l.lineEnd()},polygonStart:function(){l=x,u=[],c=[],b=!0},polygonEnd:function(){l=_,u=e.merge(u);var n=function(e){for(var t=0,n=c.length,r=e[1],a=0;a<n;++a)for(var o,i=1,s=c[a],l=s.length,u=s[0];i<l;++i)o=s[i],u[1]<=r?o[1]>r&&Pe(u,o,e)>0&&++t:o[1]<=r&&Pe(u,o,e)<0&&--t,u=o;return 0!==t}([t,a]),r=b&&n,o=u.length;(r||o)&&(l.polygonStart(),r&&(l.lineStart(),A(null,null,1,l),l.lineEnd()),o&&Yn(u,i,n,A,l),l.polygonEnd()),u=c=f=null}};function A(e,i,l,u){var c=0,f=0;if(null==e||(c=o(e,l))!==(f=o(i,l))||s(e,i)<0^l>0)do{u.point(0===c||3===c?t:r,c>1?a:n)}while((c=(c+l+4)%4)!==f);else u.point(i[0],i[1])}function T(e,o){return t<=e&&e<=r&&n<=o&&o<=a}function M(e,t){T(e,t)&&l.point(e,t)}function E(e,t){e=Math.max(-rr,Math.min(rr,e)),t=Math.max(-rr,Math.min(rr,t));var n=T(e,t);if(c&&f.push([e,t]),y)d=e,h=t,p=n,y=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&g)l.point(e,t);else{var r={a:{x:m,y:v},b:{x:e,y:t}};w(r)?(g||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(e,t),b=!1)}m=e,v=t,g=n}return k};function o(e,a){return y(e[0]-t)<ke?a>0?0:3:y(e[0]-r)<ke?a>0?2:1:y(e[1]-n)<ke?a>0?1:0:a>0?3:2}function i(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function or(e){var t=0,n=Te/3,r=Er(e),a=r(t,n);return a.parallels=function(e){return arguments.length?r(t=e[0]*Te/180,n=e[1]*Te/180):[t/Te*180,n/Te*180]},a}function ir(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,a=1+n*(2*r-n),o=Math.sqrt(a)/r;function i(e,t){var n=Math.sqrt(a-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),o-n*Math.cos(e)]}return i.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,Ie((a-(e*e+n*n)*r*r)/(2*r))]},i}e.geo.clipExtent=function(){var e,t,n,r,a,o,i={stream:function(e){return a&&(a.valid=!1),(a=o(e)).valid=!0,a},extent:function(s){return arguments.length?(o=ar(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),a&&(a.valid=!1,a=null),i):[[e,t],[n,r]]}};return i.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return or(ir)}).raw=ir,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){var t,n,r,a,o=e.geo.albers(),i=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(e){var o=e[0],i=e[1];return t=null,n(o,i),t||(r(o,i),t)||a(o,i),t}return u.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?i:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:o).invert(e)},u.stream=function(e){var t=o.stream(e),n=i.stream(e),r=s.stream(e);return{point:function(e,a){t.point(e,a),n.point(e,a),r.point(e,a)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(e){return arguments.length?(o.precision(e),i.precision(e),s.precision(e),u):o.precision()},u.scale=function(e){return arguments.length?(o.scale(e),i.scale(.35*e),s.scale(e),u.translate(o.translate())):o.scale()},u.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*t,f-.238*t],[c+.455*t,f+.238*t]]).stream(l).point,r=i.translate([c-.307*t,f+.201*t]).clipExtent([[c-.425*t+ke,f+.12*t+ke],[c-.214*t-ke,f+.234*t-ke]]).stream(l).point,a=s.translate([c-.205*t,f+.212*t]).clipExtent([[c-.214*t+ke,f+.166*t+ke],[c-.115*t-ke,f+.234*t-ke]]).stream(l).point,u},u.scale(1070)};var sr,lr,ur,cr,fr,dr,hr={point:L,lineStart:L,lineEnd:L,polygonStart:function(){lr=0,hr.lineStart=pr},polygonEnd:function(){hr.lineStart=hr.lineEnd=hr.point=L,sr+=y(lr/2)}};function pr(){var e,t,n,r;function a(e,t){lr+=r*e-n*t,n=e,r=t}hr.point=function(o,i){hr.point=a,e=n=o,t=r=i},hr.lineEnd=function(){a(e,t)}}var mr={point:function(e,t){e<ur&&(ur=e),e>fr&&(fr=e),t<cr&&(cr=t),t>dr&&(dr=t)},lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L};function vr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var gr,yr={point:br,lineStart:_r,lineEnd:xr,polygonStart:function(){yr.lineStart=wr},polygonEnd:function(){yr.point=br,yr.lineStart=_r,yr.lineEnd=xr}};function br(e,t){_n+=e,xn+=t,++wn}function _r(){var e,t;function n(n,r){var a=n-e,o=r-t,i=Math.sqrt(a*a+o*o);kn+=i*(e+n)/2,An+=i*(t+r)/2,Tn+=i,br(e=n,t=r)}yr.point=function(r,a){yr.point=n,br(e=r,t=a)}}function xr(){yr.point=br}function wr(){var e,t,n,r;function a(e,t){var a=e-n,o=t-r,i=Math.sqrt(a*a+o*o);kn+=i*(n+e)/2,An+=i*(r+t)/2,Tn+=i,Mn+=(i=r*e-n*t)*(n+e),En+=i*(r+t),Cn+=3*i,br(n=e,r=t)}yr.point=function(o,i){yr.point=a,br(e=n=o,t=r=i)},yr.lineEnd=function(){a(e,t)}}function kr(e){var t=.5,n=Math.cos(30*Se),r=16;function a(t){return(r?function(t){var n,a,i,s,l,u,c,f,d,h,p,m,v={point:g,lineStart:y,lineEnd:_,polygonStart:function(){t.polygonStart(),v.lineStart=x},polygonEnd:function(){t.polygonEnd(),v.lineStart=y}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){f=NaN,v.point=b,t.lineStart()}function b(n,a){var i=Pn([n,a]),s=e(n,a);o(f,d,c,h,p,m,f=s[0],d=s[1],c=n,h=i[0],p=i[1],m=i[2],r,t),t.point(f,d)}function _(){v.point=g,t.lineEnd()}function x(){y(),v.point=w,v.lineEnd=k}function w(e,t){b(n=e,t),a=f,i=d,s=h,l=p,u=m,v.point=b}function k(){o(f,d,c,h,p,m,a,i,n,s,l,u,r,t),v.lineEnd=_,_()}return v}:function(t){return Tr(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})})(t)}function o(r,a,i,s,l,u,c,f,d,h,p,m,v,g){var b=c-r,_=f-a,x=b*b+_*_;if(x>4*t&&v--){var w=s+h,k=l+p,A=u+m,T=Math.sqrt(w*w+k*k+A*A),M=Math.asin(A/=T),E=y(y(A)-1)<ke||y(i-d)<ke?(i+d)/2:Math.atan2(k,w),C=e(E,M),S=C[0],j=C[1],O=S-r,P=j-a,N=_*O-b*P;(N*N/x>t||y((b*O+_*P)/x-.5)>.3||s*h+l*p+u*m<n)&&(o(r,a,i,s,l,u,S,j,E,w/=T,k/=T,A,v,g),g.point(S,j),o(S,j,E,w,k,A,c,f,d,h,p,m,v,g))}}return a.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,a):Math.sqrt(t)},a}function Ar(e){this.stream=e}function Tr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Mr(e){return Er(function(){return e})()}function Er(t){var n,r,a,o,i,s,l=kr(function(e,t){return[(e=n(e,t))[0]*u+o,i-e[1]*u]}),u=150,c=480,f=250,d=0,h=0,p=0,m=0,v=0,g=tr,b=O,_=null,x=null;function w(e){return[(e=a(e[0]*Se,e[1]*Se))[0]*u+o,i-e[1]*u]}function k(e){return(e=a.invert((e[0]-o)/u,(i-e[1])/u))&&[e[0]*je,e[1]*je]}function A(){a=Gn(r=Or(p,m,v),n);var e=n(d,h);return o=c-e[0]*u,i=f+e[1]*u,T()}function T(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Cr(g(r,l(b(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(g=null==e?(_=e,tr):function(e){var t=Math.cos(e),n=t>0,r=y(t)>ke;return Jn(a,function(e){var t,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,d){var h,p=[f,d],m=a(f,d),v=n?m?0:i(f,d):m?i(f+(f<0?Te:-Te),d):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(h=o(t,p),(Fn(t,h)||Fn(p,h))&&(p[0]+=ke,p[1]+=ke,m=a(p[0],p[1]))),m!==l)c=0,m?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(r&&t&&n^m){var g;v&s||!(g=o(p,t,!0))||(c=0,n?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||t&&Fn(t,p)||e.point(p[0],p[1]),t=p,l=m,s=v},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}},Lr(e,6*Se),n?[0,-e]:[-Te,e-Te]);function a(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e,n,r){var a=Pn(e),o=Pn(n),i=[1,0,0],s=In(a,o),l=Nn(s,s),u=s[0],c=l-u*u;if(!c)return!r&&e;var f=t*l/c,d=-t*u/c,h=In(i,s),p=Dn(i,f),m=Dn(s,d);Ln(p,m);var v=h,g=Nn(p,v),b=Nn(v,v),_=g*g-b*(Nn(p,p)-1);if(!(_<0)){var x=Math.sqrt(_),w=Dn(v,(-g-x)/b);if(Ln(w,p),w=zn(w),!r)return w;var k,A=e[0],T=n[0],M=e[1],E=n[1];T<A&&(k=A,A=T,T=k);var C=T-A,S=y(C-Te)<ke,j=S||C<ke;if(!S&&E<M&&(k=M,M=E,E=k),j?S?M+E>0^w[1]<(y(w[0]-A)<ke?M:E):M<=w[1]&&w[1]<=E:C>Te^(A<=w[0]&&w[0]<=T)){var O=Dn(v,(-g+x)/b);return Ln(O,p),[w,zn(O)]}}}function i(t,r){var a=n?e:Te-e,o=0;return t<-a?o|=1:t>a&&(o|=2),r<-a?o|=4:r>a&&(o|=8),o}}((_=+e)*Se),T()):_},w.clipExtent=function(e){return arguments.length?(x=e,b=e?ar(e[0][0],e[0][1],e[1][0],e[1][1]):O,T()):x},w.scale=function(e){return arguments.length?(u=+e,A()):u},w.translate=function(e){return arguments.length?(c=+e[0],f=+e[1],A()):[c,f]},w.center=function(e){return arguments.length?(d=e[0]%360*Se,h=e[1]%360*Se,A()):[d*je,h*je]},w.rotate=function(e){return arguments.length?(p=e[0]%360*Se,m=e[1]%360*Se,v=e.length>2?e[2]%360*Se:0,A()):[p*je,m*je,v*je]},e.rebind(w,l,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&k,A()}}function Cr(e){return Tr(e,function(t,n){e.point(t*Se,n*Se)})}function Sr(e,t){return[e,t]}function jr(e,t){return[e>Te?e-Me:e<-Te?e+Me:e,t]}function Or(e,t,n){return e?t||n?Gn(Nr(e),Ir(t,n)):Nr(e):t||n?Ir(t,n):jr}function Pr(e){return function(t,n){return[(t+=e)>Te?t-Me:t<-Te?t+Me:t,n]}}function Nr(e){var t=Pr(e);return t.invert=Pr(-e),t}function Ir(e,t){var n=Math.cos(e),r=Math.sin(e),a=Math.cos(t),o=Math.sin(t);function i(e,t){var i=Math.cos(t),s=Math.cos(e)*i,l=Math.sin(e)*i,u=Math.sin(t),c=u*n+s*r;return[Math.atan2(l*a-c*o,s*n-u*r),Ie(c*a+l*o)]}return i.invert=function(e,t){var i=Math.cos(t),s=Math.cos(e)*i,l=Math.sin(e)*i,u=Math.sin(t),c=u*a-l*o;return[Math.atan2(l*a+u*o,s*n+c*r),Ie(c*n-s*r)]},i}function Lr(e,t){var n=Math.cos(e),r=Math.sin(e);return function(a,o,i,s){var l=i*t;null!=a?(a=Dr(n,a),o=Dr(n,o),(i>0?a<o:a>o)&&(a+=i*Me)):(a=e+i*Me,o=e-.5*l);for(var u,c=a;i>0?c>o:c<o;c-=l)s.point((u=zn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Dr(e,t){var n=Pn(t);n[0]-=e,Rn(n);var r=Ne(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-ke)%(2*Math.PI)}function Rr(t,n,r){var a=e.range(t,n-ke,r).concat(n);return function(e){return a.map(function(t){return[e,t]})}}function zr(t,n,r){var a=e.range(t,n-ke,r).concat(n);return function(e){return a.map(function(t){return[t,e]})}}function Fr(e){return e.source}function Br(e){return e.target}e.geo.path=function(){var t,n,r,a,o,i=4.5;function s(t){return t&&("function"==typeof i&&a.pointRadius(+i.apply(this,arguments)),o&&o.valid||(o=r(a)),e.geo.stream(t,o)),a.result()}function l(){return o=null,s}return s.area=function(t){return sr=0,e.geo.stream(t,r(hr)),sr},s.centroid=function(t){return _n=xn=wn=kn=An=Tn=Mn=En=Cn=0,e.geo.stream(t,r(yr)),Cn?[Mn/Cn,En/Cn]:Tn?[kn/Tn,An/Tn]:wn?[_n/wn,xn/wn]:[NaN,NaN]},s.bounds=function(t){return fr=dr=-(ur=cr=1/0),e.geo.stream(t,r(mr)),[[ur,cr],[fr,dr]]},s.projection=function(e){return arguments.length?(r=(t=e)?e.stream||function(e){var t=kr(function(t,n){return e([t*je,n*je])});return function(e){return Cr(t(e))}}(e):O,l()):t},s.context=function(e){return arguments.length?(a=null==(n=e)?new function(){var e=vr(4.5),t=[],n={point:r,lineStart:function(){n.point=a},lineEnd:i,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=i,n.point=r},pointRadius:function(t){return e=vr(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function a(e,r){t.push("M",e,",",r),n.point=o}function o(e,n){t.push("L",e,",",n)}function i(){n.point=r}function s(){t.push("Z")}return n}:new function(e){var t=4.5,n={point:r,lineStart:function(){n.point=a},lineEnd:i,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=i,n.point=r},pointRadius:function(e){return t=e,n},result:L};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Me)}function a(t,r){e.moveTo(t,r),n.point=o}function o(t,n){e.lineTo(t,n)}function i(){n.point=r}function s(){e.closePath()}return n}(e),"function"!=typeof i&&a.pointRadius(i),l()):n},s.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(a.pointRadius(+e),+e),s):i},s.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new Ar(t);for(var r in e)n[r]=e[r];return n}}},Ar.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=Mr,e.geo.projectionMutator=Er,(e.geo.equirectangular=function(){return Mr(Sr)}).raw=Sr.invert=Sr,e.geo.rotation=function(e){function t(t){return(t=e(t[0]*Se,t[1]*Se))[0]*=je,t[1]*=je,t}return e=Or(e[0]%360*Se,e[1]*Se,e.length>2?e[2]*Se:0),t.invert=function(t){return(t=e.invert(t[0]*Se,t[1]*Se))[0]*=je,t[1]*=je,t},t},jr.invert=Sr,e.geo.circle=function(){var e,t,n=[0,0],r=6;function a(){var e="function"==typeof n?n.apply(this,arguments):n,r=Or(-e[0]*Se,-e[1]*Se,0).invert,a=[];return t(null,null,1,{point:function(e,t){a.push(e=r(e,t)),e[0]*=je,e[1]*=je}}),{type:"Polygon",coordinates:[a]}}return a.origin=function(e){return arguments.length?(n=e,a):n},a.angle=function(n){return arguments.length?(t=Lr((e=+n)*Se,r*Se),a):e},a.precision=function(n){return arguments.length?(t=Lr(e*Se,(r=+n)*Se),a):r},a.angle(90)},e.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Se,a=e[1]*Se,o=t[1]*Se,i=Math.sin(r),s=Math.cos(r),l=Math.sin(a),u=Math.cos(a),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*i)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},e.geo.graticule=function(){var t,n,r,a,o,i,s,l,u,c,f,d,h=10,p=h,m=90,v=360,g=2.5;function b(){return{type:"MultiLineString",coordinates:_()}}function _(){return e.range(Math.ceil(a/m)*m,r,m).map(f).concat(e.range(Math.ceil(l/v)*v,s,v).map(d)).concat(e.range(Math.ceil(n/h)*h,t,h).filter(function(e){return y(e%m)>ke}).map(u)).concat(e.range(Math.ceil(i/p)*p,o,p).filter(function(e){return y(e%v)>ke}).map(c))}return b.lines=function(){return _().map(function(e){return{type:"LineString",coordinates:e}})},b.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(d(s).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.majorExtent(e).minorExtent(e):b.minorExtent()},b.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],l=+e[0][1],s=+e[1][1],a>r&&(e=a,a=r,r=e),l>s&&(e=l,l=s,s=e),b.precision(g)):[[a,l],[r,s]]},b.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],i=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),i>o&&(e=i,i=o,o=e),b.precision(g)):[[n,i],[t,o]]},b.step=function(e){return arguments.length?b.majorStep(e).minorStep(e):b.minorStep()},b.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],b):[m,v]},b.minorStep=function(e){return arguments.length?(h=+e[0],p=+e[1],b):[h,p]},b.precision=function(e){return arguments.length?(g=+e,u=Rr(i,o,90),c=zr(n,t,g),f=Rr(l,s,90),d=zr(a,r,g),b):g},b.majorExtent([[-180,-90+ke],[180,90-ke]]).minorExtent([[-180,-80-ke],[180,80+ke]])},e.geo.greatArc=function(){var t,n,r=Fr,a=Br;function o(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||a.apply(this,arguments)]}}return o.distance=function(){return e.geo.distance(t||r.apply(this,arguments),n||a.apply(this,arguments))},o.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,o):r},o.target=function(e){return arguments.length?(a=e,n="function"==typeof e?null:e,o):a},o.precision=function(){return arguments.length?o:0},o},e.geo.interpolate=function(e,t){return function(e,t,n,r){var a=Math.cos(t),o=Math.sin(t),i=Math.cos(r),s=Math.sin(r),l=a*Math.cos(e),u=a*Math.sin(e),c=i*Math.cos(n),f=i*Math.sin(n),d=2*Math.asin(Math.sqrt(De(r-t)+a*i*De(n-e))),h=1/Math.sin(d),p=d?function(e){var t=Math.sin(e*=d)*h,n=Math.sin(d-e)*h,r=n*l+t*c,a=n*u+t*f,i=n*o+t*s;return[Math.atan2(a,r)*je,Math.atan2(i,Math.sqrt(r*r+a*a))*je]}:function(){return[e*je,t*je]};return p.distance=d,p}(e[0]*Se,e[1]*Se,t[0]*Se,t[1]*Se)},e.geo.length=function(t){return gr=0,e.geo.stream(t,Ur),gr};var Ur={sphere:L,point:L,lineStart:function(){var e,t,n;function r(r,a){var o=Math.sin(a*=Se),i=Math.cos(a),s=y((r*=Se)-e),l=Math.cos(s);gr+=Math.atan2(Math.sqrt((s=i*Math.sin(s))*s+(s=n*o-t*i*l)*s),t*o+n*i*l),e=r,t=o,n=i}Ur.point=function(a,o){e=a*Se,t=Math.sin(o*=Se),n=Math.cos(o),Ur.point=r},Ur.lineEnd=function(){Ur.point=Ur.lineEnd=L}},lineEnd:L,polygonStart:L,polygonEnd:L};function Hr(e,t){function n(t,n){var r=Math.cos(t),a=Math.cos(n),o=e(r*a);return[o*a*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),a=t(r),o=Math.sin(a),i=Math.cos(a);return[Math.atan2(e*o,r*i),Math.asin(r&&n*o/r)]},n}var qr=Hr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(e.geo.azimuthalEqualArea=function(){return Mr(qr)}).raw=qr;var Vr=Hr(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},O);function Wr(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Te/4+e/2)},a=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),o=n*Math.pow(r(e),a)/a;if(!a)return Yr;function i(e,t){o>0?t<-Ce+ke&&(t=-Ce+ke):t>Ce-ke&&(t=Ce-ke);var n=o/Math.pow(r(t),a);return[n*Math.sin(a*e),o-n*Math.cos(a*e)]}return i.invert=function(e,t){var n=o-t,r=Oe(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(o/r,1/a))-Ce]},i}function Gr(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),a=n/r+e;if(y(r)<ke)return Sr;function o(e,t){var n=a-t;return[n*Math.sin(r*e),a-n*Math.cos(r*e)]}return o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,a-Oe(r)*Math.sqrt(e*e+n*n)]},o}(e.geo.azimuthalEquidistant=function(){return Mr(Vr)}).raw=Vr,(e.geo.conicConformal=function(){return or(Wr)}).raw=Wr,(e.geo.conicEquidistant=function(){return or(Gr)}).raw=Gr;var Xr=Hr(function(e){return 1/e},Math.atan);function Yr(e,t){return[e,Math.log(Math.tan(Te/4+t/2))]}function Kr(e){var t,n=Mr(e),r=n.scale,a=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=a.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var i=o.apply(n,arguments);if(i===n){if(t=null==e){var s=Te*r(),l=a();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(i=null);return i},n.clipExtent(null)}(e.geo.gnomonic=function(){return Mr(Xr)}).raw=Xr,Yr.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ce]},(e.geo.mercator=function(){return Kr(Yr)}).raw=Yr;var Zr=Hr(function(){return 1},Math.asin);(e.geo.orthographic=function(){return Mr(Zr)}).raw=Zr;var Jr=Hr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function Qr(e,t){return[Math.log(Math.tan(Te/4+t/2)),-e]}function $r(e){return e[0]}function ea(e){return e[1]}function ta(e){for(var t=e.length,n=[0,1],r=2,a=2;a<t;a++){for(;r>1&&Pe(e[n[r-2]],e[n[r-1]],e[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function na(e,t){return e[0]-t[0]||e[1]-t[1]}(e.geo.stereographic=function(){return Mr(Jr)}).raw=Jr,Qr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ce]},(e.geo.transverseMercator=function(){var e=Kr(Qr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=Qr,e.geom={},e.geom.hull=function(e){var t=$r,n=ea;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,a=vt(t),o=vt(n),i=e.length,s=[],l=[];for(r=0;r<i;r++)s.push([+a.call(this,e[r],r),+o.call(this,e[r],r),r]);for(s.sort(na),r=0;r<i;r++)l.push([s[r][0],-s[r][1]]);var u=ta(s),c=ta(l),f=c[0]===u[0],d=c[c.length-1]===u[u.length-1],h=[];for(r=u.length-1;r>=0;--r)h.push(e[s[u[r]][2]]);for(r=+f;r<c.length-d;++r)h.push(e[s[c[r]][2]]);return h}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},e.geom.polygon=function(e){return H(e,ra),e};var ra=e.geom.polygon.prototype=[];function aa(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function oa(e,t,n,r){var a=e[0],o=n[0],i=t[0]-a,s=r[0]-o,l=e[1],u=n[1],c=t[1]-l,f=r[1]-u,d=(s*(l-u)-f*(a-o))/(f*i-s*c);return[a+d*i,l+d*c]}function ia(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}ra.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],a=0;++t<n;)e=r,r=this[t],a+=e[1]*r[0]-e[0]*r[1];return.5*a},ra.centroid=function(e){var t,n,r=-1,a=this.length,o=0,i=0,s=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++r<a;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,i+=(t[1]+s[1])*n;return[o*e,i*e]},ra.clip=function(e){for(var t,n,r,a,o,i,s=ia(e),l=-1,u=this.length-ia(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,a=this[l],o=t[(r=t.length-s)-1],n=-1;++n<r;)aa(i=t[n],c,a)?(aa(o,c,a)||e.push(oa(o,i,c,a)),e.push(i)):aa(o,c,a)&&e.push(oa(o,i,c,a)),o=i;s&&e.push(e[0]),c=a}return e};var sa,la,ua,ca,fa,da=[],ha=[];function pa(e){var t=da.pop()||new function(){Oa(this),this.edge=this.site=this.circle=null};return t.site=e,t}function ma(e){ka(e),ua.remove(e),da.push(e),Oa(e)}function va(e){var t=e.circle,n=t.x,r=t.cy,a={x:n,y:r},o=e.P,i=e.N,s=[e];ma(e);for(var l=o;l.circle&&y(n-l.circle.x)<ke&&y(r-l.circle.cy)<ke;)o=l.P,s.unshift(l),ma(l),l=o;s.unshift(l),ka(l);for(var u=i;u.circle&&y(n-u.circle.x)<ke&&y(r-u.circle.cy)<ke;)i=u.N,s.push(u),ma(u),u=i;s.push(u),ka(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],Ca(u.edge,l.site,u.site,a);l=s[0],(u=s[f-1]).edge=Ma(l.site,u.site,null,a),wa(l),wa(u)}function ga(e){for(var t,n,r,a,o=e.x,i=e.y,s=ua._;s;)if((r=ya(s,i)-o)>ke)s=s.L;else{if(!((a=o-ba(s,i))>ke)){r>-ke?(t=s.P,n=s):a>-ke?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=pa(e);if(ua.insert(t,l),t||n){if(t===n)return ka(t),n=pa(t.site),ua.insert(l,n),l.edge=n.edge=Ma(t.site,l.site),wa(t),void wa(n);if(n){ka(t),ka(n);var u=t.site,c=u.x,f=u.y,d=e.x-c,h=e.y-f,p=n.site,m=p.x-c,v=p.y-f,g=2*(d*v-h*m),y=d*d+h*h,b=m*m+v*v,_={x:(v*y-h*b)/g+c,y:(d*b-m*y)/g+f};Ca(n.edge,u,p,_),l.edge=Ma(u,e,null,_),n.edge=Ma(e,p,null,_),wa(t),wa(n)}else l.edge=Ma(t.site,l.site)}}function ya(e,t){var n=e.site,r=n.x,a=n.y,o=a-t;if(!o)return r;var i=e.P;if(!i)return-1/0;var s=(n=i.site).x,l=n.y,u=l-t;if(!u)return s;var c=s-r,f=1/o-1/u,d=c/u;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*u)-l+u/2+a-o/2)))/f+r:(r+s)/2}function ba(e,t){var n=e.N;if(n)return ya(n,t);var r=e.site;return r.y===t?r.x:1/0}function _a(e){this.site=e,this.edges=[]}function xa(e,t){return t.angle-e.angle}function wa(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,a=e.site,o=n.site;if(r!==o){var i=a.x,s=a.y,l=r.x-i,u=r.y-s,c=o.x-i,f=o.y-s,d=2*(l*f-u*c);if(!(d>=-Ae)){var h=l*l+u*u,p=c*c+f*f,m=(f*h-u*p)/d,v=(l*p-c*h)/d,f=v+s,g=ha.pop()||new function(){Oa(this),this.x=this.y=this.arc=this.site=this.cy=null};g.arc=e,g.site=a,g.x=m+i,g.y=f+Math.sqrt(m*m+v*v),g.cy=f,e.circle=g;for(var y=null,b=fa._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}fa.insert(y,g),y||(ca=g)}}}}function ka(e){var t=e.circle;t&&(t.P||(ca=t.N),fa.remove(t),ha.push(t),Oa(t),e.circle=null)}function Aa(e,t){var n=e.b;if(n)return!0;var r,a,o=e.a,i=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,f=e.r,d=c.x,h=c.y,p=f.x,m=f.y,v=(d+p)/2,g=(h+m)/2;if(m===h){if(v<i||v>=s)return;if(d>p){if(o){if(o.y>=u)return}else o={x:v,y:l};n={x:v,y:u}}else{if(o){if(o.y<l)return}else o={x:v,y:u};n={x:v,y:l}}}else if(a=g-(r=(d-p)/(m-h))*v,r<-1||r>1)if(d>p){if(o){if(o.y>=u)return}else o={x:(l-a)/r,y:l};n={x:(u-a)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-a)/r,y:u};n={x:(l-a)/r,y:l}}else if(h<m){if(o){if(o.x>=s)return}else o={x:i,y:r*i+a};n={x:s,y:r*s+a}}else{if(o){if(o.x<i)return}else o={x:s,y:r*s+a};n={x:i,y:r*i+a}}return e.a=o,e.b=n,!0}function Ta(e,t){this.l=e,this.r=t,this.a=this.b=null}function Ma(e,t,n,r){var a=new Ta(e,t);return sa.push(a),n&&Ca(a,e,t,n),r&&Ca(a,t,e,r),la[e.i].edges.push(new Sa(a,e,t)),la[t.i].edges.push(new Sa(a,t,e)),a}function Ea(e,t,n){var r=new Ta(e,null);return r.a=t,r.b=n,sa.push(r),r}function Ca(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Sa(e,t,n){var r=e.a,a=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function ja(){this._=null}function Oa(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Pa(e,t){var n=t,r=t.R,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Na(e,t){var n=t,r=t.L,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ia(e){for(;e.L;)e=e.L;return e}function La(e,t){var n,r,a,o=e.sort(Da).pop();for(sa=[],la=new Array(e.length),ua=new ja,fa=new ja;;)if(a=ca,o&&(!a||o.y<a.y||o.y===a.y&&o.x<a.x))o.x===n&&o.y===r||(la[o.i]=new _a(o),ga(o),n=o.x,r=o.y),o=e.pop();else{if(!a)break;va(a.arc)}t&&(function(e){for(var t,n=sa,r=nr(e[0][0],e[0][1],e[1][0],e[1][1]),a=n.length;a--;)(!Aa(t=n[a],e)||!r(t)||y(t.a.x-t.b.x)<ke&&y(t.a.y-t.b.y)<ke)&&(t.a=t.b=null,n.splice(a,1))}(t),function(e){for(var t,n,r,a,o,i,s,l,u,c,f=e[0][0],d=e[1][0],h=e[0][1],p=e[1][1],m=la,v=m.length;v--;)if((o=m[v])&&o.prepare())for(s=o.edges,l=s.length,i=0;i<l;)c=s[i].end(),r=c.x,a=c.y,u=s[++i%l].start(),t=u.x,n=u.y,(y(r-t)>ke||y(a-n)>ke)&&(s.splice(i,0,new Sa(Ea(o.site,c,y(r-f)<ke&&p-a>ke?{x:f,y:y(t-f)<ke?n:p}:y(a-p)<ke&&d-r>ke?{x:y(n-p)<ke?t:d,y:p}:y(r-d)<ke&&a-h>ke?{x:d,y:y(t-d)<ke?n:h}:y(a-h)<ke&&r-f>ke?{x:y(n-h)<ke?t:f,y:h}:null),o.site,null)),++l)}(t));var i={cells:la,edges:sa};return ua=fa=sa=la=null,i}function Da(e,t){return t.y-e.y||t.x-e.x}_a.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(xa),t.length},Sa.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ja.prototype={insert:function(e,t){var n,r,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Ia(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(a=r.R)&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.R&&(Pa(this,n),n=(e=n).U),n.C=!1,r.C=!0,Na(this,r)):(a=r.L)&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.L&&(Na(this,n),n=(e=n).U),n.C=!1,r.C=!0,Pa(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,a=e.U,o=e.L,i=e.R;if(n=o?i?Ia(i):o:i,a?a.L===e?a.L=n:a.R=n:this._=n,o&&i?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==i?(a=n.U,n.U=e.U,e=n.R,a.L=e,n.R=i,i.U=n):(n.U=a,a=n,e=n.R)):(r=e.C,e=n),e&&(e.U=a),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===a.L){if((t=a.R).C&&(t.C=!1,a.C=!0,Pa(this,a),t=a.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Na(this,t),t=a.R),t.C=a.C,a.C=t.R.C=!1,Pa(this,a),e=this._;break}}else if((t=a.L).C&&(t.C=!1,a.C=!0,Na(this,a),t=a.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Pa(this,t),t=a.L),t.C=a.C,a.C=t.L.C=!1,Na(this,a),e=this._;break}t.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}},e.geom.voronoi=function(e){var t=$r,n=ea,r=t,a=n,o=Ra;if(e)return i(e);function i(e){var t=new Array(e.length),n=o[0][0],r=o[0][1],a=o[1][0],i=o[1][1];return La(s(e),o).cells.forEach(function(o,s){var l=o.edges,u=o.site,c=t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=n&&u.x<=a&&u.y>=r&&u.y<=i?[[n,i],[a,i],[a,r],[n,r]]:[];c.point=e[s]}),t}function s(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/ke)*ke,y:Math.round(a(e,t)/ke)*ke,i:t}})}return i.links=function(e){return La(s(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},i.triangles=function(e){var t=[];return La(s(e)).cells.forEach(function(n,r){for(var a,o=n.site,i=n.edges.sort(xa),s=-1,l=i.length,u=i[l-1].edge,c=u.l===o?u.r:u.l;++s<l;)a=c,u=i[s].edge,c=u.l===o?u.r:u.l,r<a.i&&r<c.i&&za(o,a,c)<0&&t.push([e[r],e[a.i],e[c.i]])}),t},i.x=function(e){return arguments.length?(r=vt(t=e),i):t},i.y=function(e){return arguments.length?(a=vt(n=e),i):n},i.clipExtent=function(e){return arguments.length?(o=null==e?Ra:e,i):o===Ra?null:o},i.size=function(e){return arguments.length?i.clipExtent(e&&[[0,0],e]):o===Ra?null:o&&o[1]},i};var Ra=[[-1e6,-1e6],[1e6,1e6]];function za(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function Fa(e){return e.x}function Ba(e){return e.y}function Ua(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,a=t.g,o=t.b,i=n.r-r,s=n.g-a,l=n.b-o;return function(e){return"#"+ut(Math.round(r+i*e))+ut(Math.round(a+s*e))+ut(Math.round(o+l*e))}}function Ha(e,t){var n,r={},a={};for(n in e)n in t?r[n]=Xa(e[n],t[n]):a[n]=e[n];for(n in t)n in e||(a[n]=t[n]);return function(e){for(n in r)a[n]=r[n](e);return a}}function qa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Va(e,t){var n,r,a,o=Wa.lastIndex=Ga.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=Wa.exec(e))&&(r=Ga.exec(t));)(a=r.index)>o&&(a=t.slice(o,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(r=r[0])?s[i]?s[i]+=r:s[++i]=r:(s[++i]=null,l.push({i:i,x:qa(n,r)})),o=Ga.lastIndex;return o<t.length&&(a=t.slice(o),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,r,a){var o,i=$r,s=ea;if(o=arguments.length)return i=Fa,s=Ba,3===o&&(a=n,r=t,n=t=0),l(e);function l(e){var l,u,c,f,d,h,p,m,v,g=vt(i),b=vt(s);if(null!=t)h=t,p=n,m=r,v=a;else if(m=v=-(h=p=1/0),u=[],c=[],d=e.length,o)for(f=0;f<d;++f)(l=e[f]).x<h&&(h=l.x),l.y<p&&(p=l.y),l.x>m&&(m=l.x),l.y>v&&(v=l.y),u.push(l.x),c.push(l.y);else for(f=0;f<d;++f){var _=+g(l=e[f],f),x=+b(l,f);_<h&&(h=_),x<p&&(p=x),_>m&&(m=_),x>v&&(v=x),u.push(_),c.push(x)}var w=m-h,k=v-p;function A(e,t,n,r,a,o,i,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(y(l-n)+y(u-r)<.01)T(e,t,n,r,a,o,i,s);else{var c=e.point;e.x=e.y=e.point=null,T(e,c,l,u,a,o,i,s),T(e,t,n,r,a,o,i,s)}else e.x=n,e.y=r,e.point=t}else T(e,t,n,r,a,o,i,s)}function T(e,t,n,r,a,o,i,s){var l=.5*(a+i),u=.5*(o+s),c=n>=l,f=r>=u,d=f<<1|c;e.leaf=!1,e=e.nodes[d]||(e.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){A(M,e,+g(e,++d),+b(e,d),h,p,m,v)},visit:function(e){!function e(t,n,r,a,o,i){if(!t(n,r,a,o,i)){var s=.5*(r+o),l=.5*(a+i),u=n.nodes;u[0]&&e(t,u[0],r,a,s,l),u[1]&&e(t,u[1],s,a,o,l),u[2]&&e(t,u[2],r,l,s,i),u[3]&&e(t,u[3],s,l,o,i)}}(e,M,h,p,m,v)},find:function(e){return function(e,t,n,r,a,o,i){var s,l=1/0;return function e(u,c,f,d,h){if(!(c>o||f>i||d<r||h<a)){if(p=u.point){var p,m=t-u.x,v=n-u.y,g=m*m+v*v;if(g<l){var y=Math.sqrt(l=g);r=t-y,a=n-y,o=t+y,i=n+y,s=p}}for(var b=u.nodes,_=.5*(c+d),x=.5*(f+h),w=(n>=x)<<1|t>=_,k=w+4;w<k;++w)if(u=b[3&w])switch(3&w){case 0:e(u,c,f,_,x);break;case 1:e(u,_,f,d,x);break;case 2:e(u,c,x,_,h);break;case 3:e(u,_,x,d,h)}}}(e,r,a,o,i),s}(M,e[0],e[1],h,p,m,v)}}),c?a=l:i=l,f?o=u:s=u,A(e,t,n,r,a,o,i,s)}w>k?v=p+w:m=h+k;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){A(M,e,+g(e,++f),+b(e,f),h,p,m,v)},visit:function(e){!function e(t,n,r,a,o,i){if(!t(n,r,a,o,i)){var s=.5*(r+o),l=.5*(a+i),u=n.nodes;u[0]&&e(t,u[0],r,a,s,l),u[1]&&e(t,u[1],s,a,o,l),u[2]&&e(t,u[2],r,l,s,i),u[3]&&e(t,u[3],s,l,o,i)}}(e,M,h,p,m,v)},find:function(e){return function(e,t,n,r,a,o,i){var s,l=1/0;return function e(u,c,f,d,h){if(!(c>o||f>i||d<r||h<a)){if(p=u.point){var p,m=t-u.x,v=n-u.y,g=m*m+v*v;if(g<l){var y=Math.sqrt(l=g);r=t-y,a=n-y,o=t+y,i=n+y,s=p}}for(var b=u.nodes,_=.5*(c+d),x=.5*(f+h),w=(n>=x)<<1|t>=_,k=w+4;w<k;++w)if(u=b[3&w])switch(3&w){case 0:e(u,c,f,_,x);break;case 1:e(u,_,f,d,x);break;case 2:e(u,c,x,_,h);break;case 3:e(u,_,x,d,h)}}}(e,r,a,o,i),s}(M,e[0],e[1],h,p,m,v)}};if(f=-1,null==t){for(;++f<d;)A(M,e[f],u[f],c[f],h,p,m,v);--f}else e.forEach(M.add);return u=c=e=l=null,M}return l.x=function(e){return arguments.length?(i=e,l):i},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=r=a=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],a=+e[1][1]),l):null==t?null:[[t,n],[r,a]]},l.size=function(e){return arguments.length?(null==e?t=n=r=a=null:(t=n=0,r=+e[0],a=+e[1]),l):null==t?null:[r-t,a-n]},l},e.interpolateRgb=Ua,e.interpolateObject=Ha,e.interpolateNumber=qa,e.interpolateString=Va;var Wa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ga=new RegExp(Wa.source,"g");function Xa(t,n){for(var r,a=e.interpolators.length;--a>=0&&!(r=e.interpolators[a](t,n)););return r}function Ya(e,t){var n,r=[],a=[],o=e.length,i=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(Xa(e[n],t[n]));for(;n<o;++n)a[n]=e[n];for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<s;++n)a[n]=r[n](e);return a}}e.interpolate=Xa,e.interpolators=[function(e,t){var n=typeof t;return("string"===n?mt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Ua:Va:t instanceof Ue?Ua:Array.isArray(t)?Ya:"object"===n&&isNaN(t)?Ha:qa)(e,t)}],e.interpolateArray=Ya;var Ka=function(){return O},Za=e.map({linear:Ka,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return eo},cubic:function(){return to},sin:function(){return ro},exp:function(){return ao},circle:function(){return oo},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Me*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Me/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return io}}),Ja=e.map({in:O,out:Qa,"in-out":$a,"out-in":function(e){return $a(Qa(e))}});function Qa(e){return function(t){return 1-e(1-t)}}function $a(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function eo(e){return e*e}function to(e){return e*e*e}function no(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function ro(e){return 1-Math.cos(e*Ce)}function ao(e){return Math.pow(2,10*(e-1))}function oo(e){return 1-Math.sqrt(1-e*e)}function io(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function so(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function lo(e){var t=[e.a,e.b],n=[e.c,e.d],r=co(t),a=uo(t,n),o=co(function(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}(n,t,-a))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,a*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*je,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(a,o)*je:0}function uo(e,t){return e[0]*t[0]+e[1]*t[1]}function co(e){var t=Math.sqrt(uo(e,e));return t&&(e[0]/=t,e[1]/=t),t}e.ease=function(e){var t=e.indexOf("-"),r=t>=0?e.slice(0,t):e,a=t>=0?e.slice(t+1):"in";return r=Za.get(r)||Ka,function(e){return function(t){return t<=0?0:t>=1?1:e(t)}}((a=Ja.get(a)||O)(r.apply(null,n.call(arguments,1))))},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,a=t.c,o=t.l,i=n.h-r,s=n.c-a,l=n.l-o;return isNaN(s)&&(s=0,a=isNaN(a)?n.c:a),isNaN(i)?(i=0,r=isNaN(r)?n.h:r):i>180?i-=360:i<-180&&(i+=360),function(e){return Xe(r+i*e,a+s*e,o+l*e)+""}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,a=t.s,o=t.l,i=n.h-r,s=n.s-a,l=n.l-o;return isNaN(s)&&(s=0,a=isNaN(a)?n.s:a),isNaN(i)?(i=0,r=isNaN(r)?n.h:r):i>180?i-=360:i<-180&&(i+=360),function(e){return Ve(r+i*e,a+s*e,o+l*e)+""}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,a=t.a,o=t.b,i=n.l-r,s=n.a-a,l=n.b-o;return function(e){return et(r+i*e,a+s*e,o+l*e)+""}},e.interpolateRound=so,e.transform=function(t){var n=a.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new lo(t?t.matrix:fo)})(t)},lo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fo={a:1,b:0,c:0,d:1,e:0,f:0};function ho(e){return e.length?e.pop()+",":""}function po(t,n){var r=[],a=[];return t=e.transform(t),n=e.transform(n),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push("translate(",null,",",null,")");r.push({i:a-4,x:qa(e[0],t[0])},{i:a-2,x:qa(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(t.translate,n.translate,r,a),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(ho(n)+"rotate(",null,")")-2,x:qa(e,t)})):t&&n.push(ho(n)+"rotate("+t+")")}(t.rotate,n.rotate,r,a),function(e,t,n,r){e!==t?r.push({i:n.push(ho(n)+"skewX(",null,")")-2,x:qa(e,t)}):t&&n.push(ho(n)+"skewX("+t+")")}(t.skew,n.skew,r,a),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push(ho(n)+"scale(",null,",",null,")");r.push({i:a-4,x:qa(e[0],t[0])},{i:a-2,x:qa(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(ho(n)+"scale("+t+")")}(t.scale,n.scale,r,a),t=n=null,function(e){for(var t,n=-1,o=a.length;++n<o;)r[(t=a[n]).i]=t.x(e);return r.join("")}}function mo(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function vo(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function go(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;for(var n=yo(e),r=yo(t),a=n.pop(),o=r.pop(),i=null;a===o;)i=a,a=n.pop(),o=r.pop();return i}(t,n),a=[t];t!==r;)t=t.parent,a.push(t);for(var o=a.length;n!==r;)a.splice(o,0,n),n=n.parent;return a}function yo(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function bo(e){e.fixed|=2}function _o(e){e.fixed&=-7}function xo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function wo(e){e.fixed&=-5}e.interpolateTransform=po,e.layout={},e.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(go(e[n]));return t}},e.layout.chord=function(){var t,n,r,a,o,i,s,l={},u=0;function c(){var l,c,d,h,p,m={},v=[],g=e.range(a),y=[];for(t=[],n=[],l=0,h=-1;++h<a;){for(c=0,p=-1;++p<a;)c+=r[h][p];v.push(c),y.push(e.range(a)),l+=c}for(o&&g.sort(function(e,t){return o(v[e],v[t])}),i&&y.forEach(function(e,t){e.sort(function(e,n){return i(r[t][e],r[t][n])})}),l=(Me-u*a)/l,c=0,h=-1;++h<a;){for(d=c,p=-1;++p<a;){var b=g[h],_=y[b][p],x=r[b][_],w=c,k=c+=x*l;m[b+"-"+_]={index:b,subindex:_,startAngle:w,endAngle:k,value:x}}n[b]={index:b,startAngle:d,endAngle:c,value:v[b]},c+=u}for(h=-1;++h<a;)for(p=h-1;++p<a;){var A=m[h+"-"+p],T=m[p+"-"+h];(A.value||T.value)&&t.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}s&&f()}function f(){t.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return l.matrix=function(e){return arguments.length?(a=(r=e)&&r.length,t=n=null,l):r},l.padding=function(e){return arguments.length?(u=e,t=n=null,l):u},l.sortGroups=function(e){return arguments.length?(o=e,t=n=null,l):o},l.sortSubgroups=function(e){return arguments.length?(i=e,t=null,l):i},l.sortChords=function(e){return arguments.length?(s=e,t&&f(),l):s},l.chords=function(){return t||c(),t},l.groups=function(){return n||c(),n},l},e.layout.force=function(){var t,n,r,a,o,i,s={},l=e.dispatch("start","tick","end"),u=[1,1],c=.9,f=ko,d=Ao,h=-30,p=To,m=.1,v=.64,g=[],y=[];function b(e){return function(t,n,r,a){if(t.point!==e){var o=t.cx-e.x,i=t.cy-e.y,s=a-n,l=o*o+i*i;if(s*s/v<l){if(l<p){var u=t.charge/l;e.px-=o*u,e.py-=i*u}return!0}if(t.point&&l&&l<p){var u=t.pointCharge/l;e.px-=o*u,e.py-=i*u}}return!t.charge}}function _(t){t.px=e.event.x,t.py=e.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var n,s,f,d,p,v,_,x,w,k=g.length,A=y.length;for(s=0;s<A;++s)f=y[s],d=f.source,p=f.target,x=p.x-d.x,w=p.y-d.y,(v=x*x+w*w)&&(v=r*o[s]*((v=Math.sqrt(v))-a[s])/v,x*=v,w*=v,p.x-=x*(_=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=w*_,d.x+=x*(_=1-_),d.y+=w*_);if((_=r*m)&&(x=u[0]/2,w=u[1]/2,s=-1,_))for(;++s<k;)(f=g[s]).x+=(x-f.x)*_,f.y+=(w-f.y)*_;if(h)for(function e(t,n,r){var a=0,o=0;if(t.charge=0,!t.leaf)for(var i,s=t.nodes,l=s.length,u=-1;++u<l;)null!=(i=s[u])&&(e(i,n,r),t.charge+=i.charge,a+=i.charge*i.cx,o+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*r[t.point.index];t.charge+=t.pointCharge=c,a+=c*t.point.x,o+=c*t.point.y}t.cx=a/t.charge,t.cy=o/t.charge}(n=e.geom.quadtree(g),r,i),s=-1;++s<k;)(f=g[s]).fixed||n.visit(b(f));for(s=-1;++s<k;)(f=g[s]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(g=e,s):g},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(v=e*e,s):Math.sqrt(v)},s.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):e>0&&(l.start({type:"start",alpha:r=e}),t=At(s.tick)),s):r},s.start=function(){var e,t,n,r=g.length,l=y.length,c=u[0],p=u[1];for(e=0;e<r;++e)(n=g[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=y[e]).source&&(n.source=g[n.source]),"number"==typeof n.target&&(n.target=g[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)n=g[e],isNaN(n.x)&&(n.x=m("x",c)),isNaN(n.y)&&(n.y=m("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(a=[],"function"==typeof f)for(e=0;e<l;++e)a[e]=+f.call(this,y[e],e);else for(e=0;e<l;++e)a[e]=f;if(o=[],"function"==typeof d)for(e=0;e<l;++e)o[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)o[e]=d;if(i=[],"function"==typeof h)for(e=0;e<r;++e)i[e]=+h.call(this,g[e],e);else for(e=0;e<r;++e)i[e]=h;function m(n,a){if(!t){for(t=new Array(r),u=0;u<r;++u)t[u]=[];for(u=0;u<l;++u){var o=y[u];t[o.source.index].push(o.target),t[o.target.index].push(o.source)}}for(var i,s=t[e],u=-1,c=s.length;++u<c;)if(!isNaN(i=s[u][n]))return i;return Math.random()*a}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=e.behavior.drag().origin(O).on("dragstart.force",bo).on("drag.force",_).on("dragend.force",_o)),!arguments.length)return n;this.on("mouseover.force",xo).on("mouseout.force",wo).call(n)},e.rebind(s,l,"on")};var ko=20,Ao=1,To=1/0;function Mo(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Po,t}function Eo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(a=e.children)&&(r=a.length))for(var r,a;--r>=0;)n.push(a[r])}function Co(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(a=o.length))for(var a,o,i=-1;++i<a;)n.push(o[i]);for(;null!=(e=r.pop());)t(e)}function So(e){return e.children}function jo(e){return e.value}function Oo(e,t){return t.value-e.value}function Po(t){return e.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}e.layout.hierarchy=function(){var e=Oo,t=So,n=jo;function r(a){var o,i=[a],s=[];for(a.depth=0;null!=(o=i.pop());)if(s.push(o),(u=t.call(r,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)i.push(c=u[l]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Co(a,function(t){var r,a;e&&(r=t.children)&&r.sort(e),n&&(a=t.parent)&&(a.value+=t.value)}),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(Eo(e,function(e){e.children&&(e.value=0)}),Co(e,function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},r},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function r(e,r){var a=t.call(this,e,r);return function e(t,n,r,a){var o=t.children;if(t.x=n,t.y=t.depth*a,t.dx=r,t.dy=a,o&&(i=o.length)){var i,s,l,u=-1;for(r=t.value?r/t.value:0;++u<i;)e(s=o[u],n,l=s.value*r,a),n+=l}}(a[0],0,n[0],n[1]/function e(t){var n=t.children,r=0;if(n&&(a=n.length))for(var a,o=-1;++o<a;)r=Math.max(r,e(n[o]));return 1+r}(a[0])),a}return r.size=function(e){return arguments.length?(n=e,r):n},Mo(r,t)},e.layout.pie=function(){var t=Number,n=No,r=0,a=Me,o=0;function i(s){var l,u=s.length,c=s.map(function(e,n){return+t.call(i,e,n)}),f=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof a?a.apply(this,arguments):a)-f,h=Math.min(Math.abs(d)/u,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(d<0?-1:1),m=e.sum(c),v=m?(d-u*p)/m:0,g=e.range(u),y=[];return null!=n&&g.sort(n===No?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),g.forEach(function(e){y[e]={data:s[e],value:l=c[e],startAngle:f,endAngle:f+=l*v+p,padAngle:h}}),y}return i.value=function(e){return arguments.length?(t=e,i):t},i.sort=function(e){return arguments.length?(n=e,i):n},i.startAngle=function(e){return arguments.length?(r=e,i):r},i.endAngle=function(e){return arguments.length?(a=e,i):a},i.padAngle=function(e){return arguments.length?(o=e,i):o},i};var No={};function Io(e){return e.x}function Lo(e){return e.y}function Do(e,t,n){e.y0=t,e.y=n}e.layout.stack=function(){var t=O,n=Fo,r=Bo,a=Do,o=Io,i=Lo;function s(l,u){if(!(h=l.length))return l;var c=l.map(function(e,n){return t.call(s,e,n)}),f=c.map(function(e){return e.map(function(e,t){return[o.call(s,e,t),i.call(s,e,t)]})}),d=n.call(s,f,u);c=e.permute(c,d),f=e.permute(f,d);var h,p,m,v,g=r.call(s,f,u),y=c[0].length;for(m=0;m<y;++m)for(a.call(s,c[0][m],v=g[m],f[0][m][1]),p=1;p<h;++p)a.call(s,c[p][m],v+=f[p-1][m][1],f[p][m][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(e){return arguments.length?(n="function"==typeof e?e:Ro.get(e)||Fo,s):n},s.offset=function(e){return arguments.length?(r="function"==typeof e?e:zo.get(e)||Bo,s):r},s.x=function(e){return arguments.length?(o=e,s):o},s.y=function(e){return arguments.length?(i=e,s):i},s.out=function(e){return arguments.length?(a=e,s):a},s};var Ro=e.map({"inside-out":function(t){var n,r,a=t.length,o=t.map(Uo),i=t.map(Ho),s=e.range(a).sort(function(e,t){return o[e]-o[t]}),l=0,u=0,c=[],f=[];for(n=0;n<a;++n)r=s[n],l<u?(l+=i[r],c.push(r)):(u+=i[r],f.push(r));return f.reverse().concat(c)},reverse:function(t){return e.range(t.length).reverse()},default:Fo}),zo=e.map({silhouette:function(e){var t,n,r,a=e.length,o=e[0].length,i=[],s=0,l=[];for(n=0;n<o;++n){for(t=0,r=0;t<a;t++)r+=e[t][n][1];r>s&&(s=r),i.push(r)}for(n=0;n<o;++n)l[n]=(s-i[n])/2;return l},wiggle:function(e){var t,n,r,a,o,i,s,l,u,c=e.length,f=e[0],d=f.length,h=[];for(h[0]=l=u=0,n=1;n<d;++n){for(t=0,a=0;t<c;++t)a+=e[t][n][1];for(t=0,o=0,s=f[n][0]-f[n-1][0];t<c;++t){for(r=0,i=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)i+=(e[r][n][1]-e[r][n-1][1])/s;o+=i*e[t][n][1]}h[n]=l-=a?o/a*s:0,l<u&&(u=l)}for(n=0;n<d;++n)h[n]-=u;return h},expand:function(e){var t,n,r,a=e.length,o=e[0].length,i=1/a,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<a;t++)r+=e[t][n][1];if(r)for(t=0;t<a;t++)e[t][n][1]/=r;else for(t=0;t<a;t++)e[t][n][1]=i}for(n=0;n<o;++n)s[n]=0;return s},zero:Bo});function Fo(t){return e.range(t.length)}function Bo(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Uo(e){for(var t,n=1,r=0,a=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>a&&(r=n,a=t);return r}function Ho(e){return e.reduce(qo,0)}function qo(e,t){return e+t[1]}function Vo(e,t){return Wo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Wo(e,t){for(var n=-1,r=+e[0],a=(e[1]-r)/t,o=[];++n<=t;)o[n]=a*n+r;return o}function Go(t){return[e.min(t),e.max(t)]}function Xo(e,t){return e.value-t.value}function Yo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ko(e,t){e._pack_next=t,t._pack_prev=e}function Zo(e,t){var n=t.x-e.x,r=t.y-e.y,a=e.r+t.r;return.999*a*a>n*n+r*r}function Jo(e){if((t=e.children)&&(l=t.length)){var t,n,r,a,o,i,s,l,u=1/0,c=-1/0,f=1/0,d=-1/0;if(t.forEach(Qo),(n=t[0]).x=-n.r,n.y=0,b(n),l>1&&((r=t[1]).x=r.r,r.y=0,b(r),l>2))for(a=t[2],ei(n,r,a),b(a),Yo(n,a),n._pack_prev=a,Yo(a,r),r=n._pack_next,o=3;o<l;o++){ei(n,r,a=t[o]);var h=0,p=1,m=1;for(i=r._pack_next;i!==r;i=i._pack_next,p++)if(Zo(i,a)){h=1;break}if(1==h)for(s=n._pack_prev;s!==i._pack_prev&&!Zo(s,a);s=s._pack_prev,m++);h?(p<m||p==m&&r.r<n.r?Ko(n,r=i):Ko(n=s,r),o--):(Yo(n,a),r=a,b(a))}var v=(u+c)/2,g=(f+d)/2,y=0;for(o=0;o<l;o++)(a=t[o]).x-=v,a.y-=g,y=Math.max(y,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=y,t.forEach($o)}function b(e){u=Math.min(e.x-e.r,u),c=Math.max(e.x+e.r,c),f=Math.min(e.y-e.r,f),d=Math.max(e.y+e.r,d)}}function Qo(e){e._pack_next=e._pack_prev=e}function $o(e){delete e._pack_next,delete e._pack_prev}function ei(e,t,n){var r=e.r+n.r,a=t.x-e.x,o=t.y-e.y;if(r&&(a||o)){var i=t.r+n.r,s=a*a+o*o,l=.5+((r*=r)-(i*=i))/(2*s),u=Math.sqrt(Math.max(0,2*i*(r+s)-(r-=s)*r-i*i))/(2*s);n.x=e.x+l*a+u*o,n.y=e.y+l*o-u*a}else n.x=e.x+r,n.y=e.y}function ti(e,t){return e.parent==t.parent?1:2}function ni(e){var t=e.children;return t.length?t[0]:e.t}function ri(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ai(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function oi(e,t,n){return e.a.parent===t.parent?e.a:n}function ii(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function si(e,t){var n=e.x+t[3],r=e.y+t[0],a=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return a<0&&(n+=a/2,a=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:a,dy:o}}function li(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ui(e){return e.rangeExtent?e.rangeExtent():li(e.range())}function ci(e,t,n,r){var a=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(a(e))}}function fi(e,t){var n,r=0,a=e.length-1,o=e[r],i=e[a];return i<o&&(n=r,r=a,a=n,n=o,o=i,i=n),e[r]=t.floor(o),e[a]=t.ceil(i),e}function di(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:hi}e.layout.histogram=function(){var t=!0,n=Number,r=Go,a=Vo;function o(o,i){for(var s,l,u=[],c=o.map(n,this),f=r.call(this,c,i),d=a.call(this,f,c,i),i=-1,h=c.length,p=d.length-1,m=t?1:1/h;++i<p;)(s=u[i]=[]).dx=d[i+1]-(s.x=d[i]),s.y=0;if(p>0)for(i=-1;++i<h;)(l=c[i])>=f[0]&&l<=f[1]&&((s=u[e.bisect(d,l,1,p)-1]).y+=m,s.push(o[i]));return u}return o.value=function(e){return arguments.length?(n=e,o):n},o.range=function(e){return arguments.length?(r=vt(e),o):r},o.bins=function(e){return arguments.length?(a="number"==typeof e?function(t){return Wo(t,e)}:vt(e),o):a},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(Xo),r=0,a=[1,1];function o(e,o){var i=n.call(this,e,o),s=i[0],l=a[0],u=a[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Co(s,function(e){e.r=+c(e.value)}),Co(s,Jo),r){var f=r*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;Co(s,function(e){e.r+=f}),Co(s,Jo),Co(s,function(e){e.r-=f})}return function e(t,n,r,a){var o=t.children;if(t.x=n+=a*t.x,t.y=r+=a*t.y,t.r*=a,o)for(var i=-1,s=o.length;++i<s;)e(o[i],n,r,a)}(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),i}return o.size=function(e){return arguments.length?(a=e,o):a},o.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,o):t},o.padding=function(e){return arguments.length?(r=+e,o):r},Mo(o,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ti,r=[1,1],a=null;function o(e,o){var u=t.call(this,e,o),c=u[0],f=function(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var a,o=t.children,i=0,s=o.length;i<s;++i)r.push((o[i]=a={_:o[i],parent:t,children:(a=o[i].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=a);return n.children[0]}(c);if(Co(f,i),f.parent.m=-f.z,Eo(f,s),a)Eo(c,l);else{var d=c,h=c,p=c;Eo(c,function(e){e.x<d.x&&(d=e),e.x>h.x&&(h=e),e.depth>p.depth&&(p=e)});var m=n(d,h)/2-d.x,v=r[0]/(h.x+n(h,d)/2+m),g=r[1]/(p.depth||1);Eo(c,function(e){e.x=(e.x+m)*v,e.y=e.depth*g})}return u}function i(e){var t=e.children,r=e.parent.children,a=e.i?r[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,a=e.children,o=a.length;--o>=0;)(t=a[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var o=(t[0].z+t[t.length-1].z)/2;a?(e.z=a.z+n(e._,a._),e.m=e.z-o):e.z=o}else a&&(e.z=a.z+n(e._,a._));e.parent.A=function(e,t,r){if(t){for(var a,o=e,i=e,s=t,l=o.parent.children[0],u=o.m,c=i.m,f=s.m,d=l.m;s=ri(s),o=ni(o),s&&o;)l=ni(l),(i=ri(i)).a=e,(a=s.z+f-o.z-u+n(s._,o._))>0&&(ai(oi(s,e,r),e,a),u+=a,c+=a),f+=s.m,u+=o.m,d+=l.m,c+=i.m;s&&!ri(i)&&(i.t=s,i.m+=f-c),o&&!ni(l)&&(l.t=o,l.m+=u-d,r=e)}return r}(e,a,e.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=r[0],e.y=e.depth*r[1]}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(a=null==(r=e)?l:null,o):a?null:r},o.nodeSize=function(e){return arguments.length?(a=null==(r=e)?null:l,o):a?r:null},Mo(o,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ti,r=[1,1],a=!1;function o(o,i){var s,l=t.call(this,o,i),u=l[0],c=0;Co(u,function(t){var r=t.children;r&&r.length?(t.x=function(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}(r),t.y=function(t){return 1+e.max(t,function(e){return e.y})}(r)):(t.x=s?c+=n(t,s):0,t.y=0,s=t)});var f=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(u),d=function e(t){var n,r=t.children;return r&&(n=r.length)?e(r[n-1]):t}(u),h=f.x-n(f,d)/2,p=d.x+n(d,f)/2;return Co(u,a?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),l}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(a=null==(r=e),o):a?null:r},o.nodeSize=function(e){return arguments.length?(a=null!=(r=e),o):a?r:null},Mo(o,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),r=Math.round,a=[1,1],o=null,i=ii,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,a=-1,o=e.length;++a<o;)r=(n=e[a]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function f(e){var t=e.children;if(t&&t.length){var n,r,a,o=i(e),s=[],u=t.slice(),d=1/0,m="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/e.value),s.area=0;(a=u.length)>0;)s.push(n=u[a-1]),s.area+=n.area,"squarify"!==l||(r=h(s,m))<=d?(u.pop(),d=r):(s.area-=s.pop().area,p(s,m,o,!1),m=Math.min(o.dx,o.dy),s.length=s.area=0,d=1/0);s.length&&(p(s,m,o,!0),s.length=s.area=0),t.forEach(f)}}function d(e){var t=e.children;if(t&&t.length){var n,r=i(e),a=t.slice(),o=[];for(c(a,r.dx*r.dy/e.value),o.area=0;n=a.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!a.length),o.length=o.area=0);t.forEach(d)}}function h(e,t){for(var n,r=e.area,a=0,o=1/0,i=-1,s=e.length;++i<s;)(n=e[i].area)&&(n<o&&(o=n),n>a&&(a=n));return t*=t,(r*=r)?Math.max(t*a*u/r,r/(t*o*u)):1/0}function p(e,t,n,a){var o,i=-1,s=e.length,l=n.x,u=n.y,c=t?r(e.area/t):0;if(t==n.dx){for((a||c>n.dy)&&(c=n.dy);++i<s;)(o=e[i]).x=l,o.y=u,o.dy=c,l+=o.dx=Math.min(n.x+n.dx-l,c?r(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((a||c>n.dx)&&(c=n.dx);++i<s;)(o=e[i]).x=l,o.y=u,o.dx=c,u+=o.dy=Math.min(n.y+n.dy-u,c?r(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function m(e){var r=t||n(e),o=r[0];return o.x=o.y=0,o.value?(o.dx=a[0],o.dy=a[1]):o.dx=o.dy=0,t&&n.revalue(o),c([o],o.dx*o.dy/o.value),(t?d:f)(o),s&&(t=r),r}return m.size=function(e){return arguments.length?(a=e,m):a},m.padding=function(e){if(!arguments.length)return o;function t(t){return si(t,e)}var n;return i=null==(o=e)?ii:"function"==(n=typeof e)?function(t){var n=e.call(m,t,t.depth);return null==n?ii(t):si(t,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(e=[e,e,e,e],t):t,m},m.round=function(e){return arguments.length?(r=e?Math.round:Number,m):r!=Number},m.sticky=function(e){return arguments.length?(s=e,t=null,m):s},m.ratio=function(e){return arguments.length?(u=e,m):u},m.mode=function(e){return arguments.length?(l=e+"",m):l},Mo(m,n)},e.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,a;do{n=2*Math.random()-1,r=2*Math.random()-1,a=n*n+r*r}while(!a||a>1);return e+t*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},e.scale={};var hi={floor:O,ceil:O};function pi(t,n,r,a){var o=[],i=[],s=0,l=Math.min(t.length,n.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<=l;)o.push(r(t[s-1],t[s])),i.push(a(n[s-1],n[s]));return function(n){var r=e.bisect(t,n,1,l)-1;return i[r](o[r](n))}}function mi(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function vi(e,t){return fi(e,di(gi(e,t)[2])),fi(e,di(gi(e,t)[2])),e}function gi(e,t){null==t&&(t=10);var n=li(e),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*a;return o<=.15?a*=10:o<=.35?a*=5:o<=.75&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function yi(t,n){return e.range.apply(e,gi(t,n))}function bi(t,n,r){var a=gi(t,n);if(r){var o=jt.exec(r);if(o.shift(),"s"===o[8]){var i=e.formatPrefix(Math.max(y(a[0]),y(a[1])));return o[7]||(o[7]="."+xi(i.scale(a[2]))),o[8]="f",r=e.format(o.join("")),function(e){return r(i.scale(e))+i.symbol}}o[7]||(o[7]="."+function(e,t){var n=xi(t[2]);return e in _i?Math.abs(n-xi(Math.max(y(t[0]),y(t[1]))))+ +("e"!==e):n-2*("%"===e)}(o[8],a)),r=o.join("")}else r=",."+xi(a[2])+"f";return e.format(r)}e.scale.linear=function(){return function e(t,n,r,a){var o,i;function s(){var e=Math.min(t.length,n.length)>2?pi:ci,s=a?vo:mo;return o=e(t,n,s,r),i=e(n,t,s,Xa),l}function l(e){return o(e)}return l.invert=function(e){return i(e)},l.domain=function(e){return arguments.length?(t=e.map(Number),s()):t},l.range=function(e){return arguments.length?(n=e,s()):n},l.rangeRound=function(e){return l.range(e).interpolate(so)},l.clamp=function(e){return arguments.length?(a=e,s()):a},l.interpolate=function(e){return arguments.length?(r=e,s()):r},l.ticks=function(e){return yi(t,e)},l.tickFormat=function(e,n){return bi(t,e,n)},l.nice=function(e){return vi(t,e),s()},l.copy=function(){return e(t,n,r,a)},s()}([0,1],[0,1],Xa,!1)};var _i={s:1,g:1,p:1,r:1,e:1};function xi(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}e.scale.log=function(){return function t(n,r,a,o){function i(e){return(a?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(r)}function s(e){return a?Math.pow(r,e):-Math.pow(r,-e)}function l(e){return n(i(e))}return l.invert=function(e){return s(n.invert(e))},l.domain=function(e){return arguments.length?(a=e[0]>=0,n.domain((o=e.map(Number)).map(i)),l):o},l.base=function(e){return arguments.length?(r=+e,n.domain(o.map(i)),l):r},l.nice=function(){var e=fi(o.map(i),a?Math:ki);return n.domain(e),o=e.map(s),l},l.ticks=function(){var e=li(o),t=[],n=e[0],l=e[1],u=Math.floor(i(n)),c=Math.ceil(i(l)),f=r%1?2:r;if(isFinite(c-u)){if(a){for(;u<c;u++)for(var d=1;d<f;d++)t.push(s(u)*d);t.push(s(u))}else for(t.push(s(u));u++<c;)for(var d=f-1;d>0;d--)t.push(s(u)*d);for(u=0;t[u]<n;u++);for(c=t.length;t[c-1]>l;c--);t=t.slice(u,c)}return t},l.tickFormat=function(t,n){if(!arguments.length)return wi;arguments.length<2?n=wi:"function"!=typeof n&&(n=e.format(n));var a=Math.max(1,r*t/l.ticks().length);return function(e){var t=e/s(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=a?n(e):""}},l.copy=function(){return t(n.copy(),r,a,o)},mi(l,n)}(e.scale.linear().domain([0,1]),10,!0,[1,10])};var wi=e.format(".0e"),ki={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ai(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}e.scale.pow=function(){return function e(t,n,r){var a=Ai(n),o=Ai(1/n);function i(e){return t(a(e))}return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((r=e.map(Number)).map(a)),i):r},i.ticks=function(e){return yi(r,e)},i.tickFormat=function(e,t){return bi(r,e,t)},i.nice=function(e){return i.domain(vi(r,e))},i.exponent=function(e){return arguments.length?(a=Ai(n=e),o=Ai(1/n),t.domain(r.map(a)),i):n},i.copy=function(){return e(t.copy(),n,r)},mi(i,t)}(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return function t(n,r){var a,o,i;function s(e){return o[((a.get(e)||("range"===r.t?a.set(e,n.push(e)):NaN))-1)%o.length]}function l(t,r){return e.range(n.length).map(function(e){return t+r*e})}return s.domain=function(e){if(!arguments.length)return n;n=[],a=new _;for(var t,o=-1,i=e.length;++o<i;)a.has(t=e[o])||a.set(t,n.push(t));return s[r.t].apply(s,r.a)},s.range=function(e){return arguments.length?(o=e,i=0,r={t:"range",a:arguments},s):o},s.rangePoints=function(e,t){arguments.length<2&&(t=0);var a=e[0],u=e[1],c=n.length<2?(a=(a+u)/2,0):(u-a)/(n.length-1+t);return o=l(a+c*t/2,c),i=0,r={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(e,t){arguments.length<2&&(t=0);var a=e[0],u=e[1],c=n.length<2?(a=u=Math.round((a+u)/2),0):(u-a)/(n.length-1+t)|0;return o=l(a+Math.round(c*t/2+(u-a-(n.length-1+t)*c)/2),c),i=0,r={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(e,t,a){arguments.length<2&&(t=0),arguments.length<3&&(a=t);var u=e[1]<e[0],c=e[u-0],f=e[1-u],d=(f-c)/(n.length-t+2*a);return o=l(c+d*a,d),u&&o.reverse(),i=d*(1-t),r={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(e,t,a){arguments.length<2&&(t=0),arguments.length<3&&(a=t);var u=e[1]<e[0],c=e[u-0],f=e[1-u],d=Math.floor((f-c)/(n.length-t+2*a));return o=l(c+Math.round((f-c-(n.length-t)*d)/2),d),u&&o.reverse(),i=Math.round(d*(1-t)),r={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return i},s.rangeExtent=function(){return li(r.a[0])},s.copy=function(){return t(n,r)},s.domain(n)}([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(Ti)},e.scale.category20=function(){return e.scale.ordinal().range(Mi)},e.scale.category20b=function(){return e.scale.ordinal().range(Ei)},e.scale.category20c=function(){return e.scale.ordinal().range(Ci)};var Ti=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(st),Mi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(st),Ei=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(st),Ci=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(st);function Si(){return 0}e.scale.quantile=function(){return function t(n,r){var a;function o(){var t=0,o=r.length;for(a=[];++t<o;)a[t-1]=e.quantile(n,t/o);return i}function i(t){if(!isNaN(t=+t))return r[e.bisect(a,t)]}return i.domain=function(e){return arguments.length?(n=e.map(h).filter(p).sort(d),o()):n},i.range=function(e){return arguments.length?(r=e,o()):r},i.quantiles=function(){return a},i.invertExtent=function(e){return(e=r.indexOf(e))<0?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},i.copy=function(){return t(n,r)},o()}([],[])},e.scale.quantize=function(){return function e(t,n,r){var a,o;function i(e){return r[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function s(){return a=r.length/(n-t),o=r.length-1,i}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]},i.range=function(e){return arguments.length?(r=e,s()):r},i.invertExtent=function(e){return[e=(e=r.indexOf(e))<0?NaN:e/a+t,e+1/a]},i.copy=function(){return e(t,n,r)},s()}(0,1,[0,1])},e.scale.threshold=function(){return function t(n,r){function a(t){if(t<=t)return r[e.bisect(n,t)]}return a.domain=function(e){return arguments.length?(n=e,a):n},a.range=function(e){return arguments.length?(r=e,a):r},a.invertExtent=function(e){return e=r.indexOf(e),[n[e-1],n[e]]},a.copy=function(){return t(n,r)},a}([.5],[0,1])},e.scale.identity=function(){return function e(t){function n(e){return+e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(e){return yi(t,e)},n.tickFormat=function(e,n){return bi(t,e,n)},n.copy=function(){return e(t)},n}([0,1])},e.svg={},e.svg.arc=function(){var e=Oi,t=Pi,n=Si,r=ji,a=Ni,o=Ii,i=Li;function s(){var s=Math.max(0,+e.apply(this,arguments)),u=Math.max(0,+t.apply(this,arguments)),c=a.apply(this,arguments)-Ce,f=o.apply(this,arguments)-Ce,d=Math.abs(f-c),h=c>f?0:1;if(u<s&&(p=u,u=s,s=p),d>=Ee)return l(u,h)+(s?l(s,1-h):"")+"Z";var p,m,v,g,y,b,_,x,w,k,A,T,M=0,E=0,C=[];if((g=(+i.apply(this,arguments)||0)/2)&&(v=r===ji?Math.sqrt(s*s+u*u):+r.apply(this,arguments),h||(E*=-1),u&&(E=Ie(v/u*Math.sin(g))),s&&(M=Ie(v/s*Math.sin(g)))),u){y=u*Math.cos(c+E),b=u*Math.sin(c+E),_=u*Math.cos(f-E),x=u*Math.sin(f-E);var S=Math.abs(f-c-2*E)<=Te?0:1;if(E&&Di(y,b,_,x)===h^S){var j=(c+f)/2;y=u*Math.cos(j),b=u*Math.sin(j),_=x=null}}else y=b=0;if(s){w=s*Math.cos(f-M),k=s*Math.sin(f-M),A=s*Math.cos(c+M),T=s*Math.sin(c+M);var O=Math.abs(c-f+2*M)<=Te?0:1;if(M&&Di(w,k,A,T)===1-h^O){var P=(c+f)/2;w=s*Math.cos(P),k=s*Math.sin(P),A=T=null}}else w=k=0;if(d>ke&&(p=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){m=s<u^h?0:1;var N=p,I=p;if(d<Te){var L=null==A?[w,k]:null==_?[y,b]:oa([y,b],[A,T],[_,x],[w,k]),D=y-L[0],R=b-L[1],z=_-L[0],F=x-L[1],B=1/Math.sin(Math.acos((D*z+R*F)/(Math.sqrt(D*D+R*R)*Math.sqrt(z*z+F*F)))/2),U=Math.sqrt(L[0]*L[0]+L[1]*L[1]);I=Math.min(p,(s-U)/(B-1)),N=Math.min(p,(u-U)/(B+1))}if(null!=_){var H=Ri(null==A?[w,k]:[A,T],[y,b],u,N,h),q=Ri([_,x],[w,k],u,N,h);p===N?C.push("M",H[0],"A",N,",",N," 0 0,",m," ",H[1],"A",u,",",u," 0 ",1-h^Di(H[1][0],H[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",N,",",N," 0 0,",m," ",q[0]):C.push("M",H[0],"A",N,",",N," 0 1,",m," ",q[0])}else C.push("M",y,",",b);if(null!=A){var V=Ri([y,b],[A,T],s,-I,h),W=Ri([w,k],null==_?[y,b]:[_,x],s,-I,h);p===I?C.push("L",W[0],"A",I,",",I," 0 0,",m," ",W[1],"A",s,",",s," 0 ",h^Di(W[1][0],W[1][1],V[1][0],V[1][1]),",",1-h," ",V[1],"A",I,",",I," 0 0,",m," ",V[0]):C.push("L",W[0],"A",I,",",I," 0 0,",m," ",V[0])}else C.push("L",w,",",k)}else C.push("M",y,",",b),null!=_&&C.push("A",u,",",u," 0 ",S,",",h," ",_,",",x),C.push("L",w,",",k),null!=A&&C.push("A",s,",",s," 0 ",O,",",1-h," ",A,",",T);return C.push("Z"),C.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=vt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=vt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=vt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==ji?ji:vt(e),s):r},s.startAngle=function(e){return arguments.length?(a=vt(e),s):a},s.endAngle=function(e){return arguments.length?(o=vt(e),s):o},s.padAngle=function(e){return arguments.length?(i=vt(e),s):i},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-Ce;return[Math.cos(r)*n,Math.sin(r)*n]},s};var ji="auto";function Oi(e){return e.innerRadius}function Pi(e){return e.outerRadius}function Ni(e){return e.startAngle}function Ii(e){return e.endAngle}function Li(e){return e&&e.padAngle}function Di(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Ri(e,t,n,r,a){var o=e[0]-t[0],i=e[1]-t[1],s=(a?r:-r)/Math.sqrt(o*o+i*i),l=s*i,u=-s*o,c=e[0]+l,f=e[1]+u,d=t[0]+l,h=t[1]+u,p=(c+d)/2,m=(f+h)/2,v=d-c,g=h-f,y=v*v+g*g,b=n-r,_=c*h-d*f,x=(g<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-_*_)),w=(_*g-v*x)/y,k=(-_*v-g*x)/y,A=(_*g+v*x)/y,T=(-_*v+g*x)/y,M=w-p,E=k-m,C=A-p,S=T-m;return M*M+E*E>C*C+S*S&&(w=A,k=T),[[w-l,k-u],[w*n/b,k*n/b]]}function zi(e){var t=$r,n=ea,r=Xn,a=Bi,o=a.key,i=.7;function s(o){var s,l=[],u=[],c=-1,f=o.length,d=vt(t),h=vt(n);function p(){l.push("M",a(e(u),i))}for(;++c<f;)r.call(this,s=o[c],c)?u.push([+d.call(this,s,c),+h.call(this,s,c)]):u.length&&(p(),u=[]);return u.length&&p(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(o="function"==typeof e?a=e:(a=Fi.get(e)||Bi).key,s):o},s.tension=function(e){return arguments.length?(i=e,s):i},s}e.svg.line=function(){return zi(O)};var Fi=e.map({linear:Bi,"linear-closed":Ui,step:function(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&a.push("H",r[0]),a.join("")},"step-before":Hi,"step-after":qi,basis:Gi,"basis-open":function(e){if(e.length<4)return Bi(e);for(var t,n=[],r=-1,a=e.length,o=[0],i=[0];++r<3;)t=e[r],o.push(t[0]),i.push(t[1]);for(n.push(Xi(Zi,o)+","+Xi(Zi,i)),--r;++r<a;)t=e[r],o.shift(),o.push(t[0]),i.shift(),i.push(t[1]),Ji(n,o,i);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,a=e.length,o=a+4,i=[],s=[];++r<4;)n=e[r%a],i.push(n[0]),s.push(n[1]);for(t=[Xi(Zi,i),",",Xi(Zi,s)],--r;++r<o;)n=e[r%a],i.shift(),i.push(n[0]),s.shift(),s.push(n[1]),Ji(t,i,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,a,o=e[0][0],i=e[0][1],s=e[n][0]-o,l=e[n][1]-i,u=-1;++u<=n;)r=e[u],a=u/n,r[0]=t*r[0]+(1-t)*(o+a*s),r[1]=t*r[1]+(1-t)*(i+a*l);return Gi(e)},cardinal:function(e,t){return e.length<3?Bi(e):e[0]+Vi(e,Wi(e,t))},"cardinal-open":function(e,t){return e.length<4?Bi(e):e[1]+Vi(e.slice(1,-1),Wi(e,t))},"cardinal-closed":function(e,t){return e.length<3?Ui(e):e[0]+Vi((e.push(e[0]),e),Wi([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?Bi(e):e[0]+Vi(e,function(e){for(var t,n,r,a,o=[],i=function(e){for(var t=0,n=e.length-1,r=[],a=e[0],o=e[1],i=r[0]=Qi(a,o);++t<n;)r[t]=(i+(i=Qi(a=o,o=e[t+1])))/2;return r[t]=i,r}(e),s=-1,l=e.length-1;++s<l;)t=Qi(e[s],e[s+1]),y(t)<ke?i[s]=i[s+1]=0:(n=i[s]/t,r=i[s+1]/t,(a=n*n+r*r)>9&&(a=3*t/Math.sqrt(a),i[s]=a*n,i[s+1]=a*r));for(s=-1;++s<=l;)a=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+i[s]*i[s])),o.push([a||0,i[s]*a||0]);return o}(e))}});function Bi(e){return e.length>1?e.join("L"):e+"Z"}function Ui(e){return e.join("L")+"Z"}function Hi(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("V",(r=e[t])[1],"H",r[0]);return a.join("")}function qi(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r=e[t])[0],"V",r[1]);return a.join("")}function Vi(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Bi(e);var n=e.length!=t.length,r="",a=e[0],o=e[1],i=t[0],s=i,l=1;if(n&&(r+="Q"+(o[0]-2*i[0]/3)+","+(o[1]-2*i[1]/3)+","+o[0]+","+o[1],a=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,r+="C"+(a[0]+i[0])+","+(a[1]+i[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<t.length;u++,l++)o=e[l],s=t[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Wi(e,t){for(var n,r=[],a=(1-t)/2,o=e[0],i=e[1],s=1,l=e.length;++s<l;)n=o,o=i,i=e[s],r.push([a*(i[0]-n[0]),a*(i[1]-n[1])]);return r}function Gi(e){if(e.length<3)return Bi(e);var t=1,n=e.length,r=e[0],a=r[0],o=r[1],i=[a,a,a,(r=e[1])[0]],s=[o,o,o,r[1]],l=[a,",",o,"L",Xi(Zi,i),",",Xi(Zi,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],i.shift(),i.push(r[0]),s.shift(),s.push(r[1]),Ji(l,i,s);return e.pop(),l.push("L",r),l.join("")}function Xi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Fi.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Yi=[0,2/3,1/3,0],Ki=[0,1/3,2/3,0],Zi=[0,1/6,2/3,1/6];function Ji(e,t,n){e.push("C",Xi(Yi,t),",",Xi(Yi,n),",",Xi(Ki,t),",",Xi(Ki,n),",",Xi(Zi,t),",",Xi(Zi,n))}function Qi(e,t){return(t[1]-e[1])/(t[0]-e[0])}function $i(e){for(var t,n,r,a=-1,o=e.length;++a<o;)t=e[a],n=t[0],r=t[1]-Ce,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function es(e){var t=$r,n=$r,r=0,a=ea,o=Xn,i=Bi,s=i.key,l=i,u="L",c=.7;function f(s){var f,d,h,p=[],m=[],v=[],g=-1,y=s.length,b=vt(t),_=vt(r),x=t===n?function(){return d}:vt(n),w=r===a?function(){return h}:vt(a);function k(){p.push("M",i(e(v),c),u,l(e(m.reverse()),c),"Z")}for(;++g<y;)o.call(this,f=s[g],g)?(m.push([d=+b.call(this,f,g),h=+_.call(this,f,g)]),v.push([+x.call(this,f,g),+w.call(this,f,g)])):m.length&&(k(),m=[],v=[]);return m.length&&k(),p.length?p.join(""):null}return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=a=e,f):a},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(a=e,f):a},f.defined=function(e){return arguments.length?(o=e,f):o},f.interpolate=function(e){return arguments.length?(s="function"==typeof e?i=e:(i=Fi.get(e)||Bi).key,l=i.reverse||i,u=i.closed?"M":"L",f):s},f.tension=function(e){return arguments.length?(c=e,f):c},f}function ts(e){return e.radius}function ns(e){return[e.x,e.y]}function rs(){return 64}function as(){return"circle"}function os(e){var t=Math.sqrt(e/Te);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}e.svg.line.radial=function(){var e=zi($i);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Hi.reverse=qi,qi.reverse=Hi,e.svg.area=function(){return es(O)},e.svg.area.radial=function(){var e=es($i);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){var e=Fr,t=Br,n=ts,r=Ni,a=Ii;function o(n,r){var a=i(this,e,n,r),o=i(this,t,n,r);return"M"+a.p0+s(a.r,a.p1,a.a1-a.a0)+(function(e,t){return e.a0==t.a0&&e.a1==t.a1}(a,o)?l(a.r,a.p1,a.r,a.p0):l(a.r,a.p1,o.r,o.p0)+s(o.r,o.p1,o.a1-o.a0)+l(o.r,o.p1,a.r,a.p0))+"Z"}function i(e,t,o,i){var s=t.call(e,o,i),l=n.call(e,s,i),u=r.call(e,s,i)-Ce,c=a.call(e,s,i)-Ce;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Te)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}return o.radius=function(e){return arguments.length?(n=vt(e),o):n},o.source=function(t){return arguments.length?(e=vt(t),o):e},o.target=function(e){return arguments.length?(t=vt(e),o):t},o.startAngle=function(e){return arguments.length?(r=vt(e),o):r},o.endAngle=function(e){return arguments.length?(a=vt(e),o):a},o},e.svg.diagonal=function(){var e=Fr,t=Br,n=ns;function r(r,a){var o=e.call(this,r,a),i=t.call(this,r,a),s=(o.y+i.y)/2,l=[o,{x:o.x,y:s},{x:i.x,y:s},i];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(t){return arguments.length?(e=vt(t),r):e},r.target=function(e){return arguments.length?(t=vt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=ns,r=t.projection;return t.projection=function(e){return arguments.length?r(function(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Ce;return[n*Math.cos(r),n*Math.sin(r)]}}(n=e)):n},t},e.svg.symbol=function(){var e=as,t=rs;function n(n,r){return(is.get(e.call(this,n,r))||os)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=vt(t),n):e},n.size=function(e){return arguments.length?(t=vt(e),n):t},n};var is=e.map({circle:os,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*ls)),n=t*ls;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ss),n=t*ss/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ss),n=t*ss/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});e.svg.symbolTypes=is.keys();var ss=Math.sqrt(3),ls=Math.tan(30*Se);X.transition=function(e){for(var t,n,r=ds||++ms,a=ys(e),o=[],i=hs||{time:Date.now(),ease:no,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&bs(n,c,a,r,i),t.push(n)}return fs(o,a,r)},X.interrupt=function(e){return this.each(null==e?us:cs(ys(e)))};var us=cs(ys());function cs(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function fs(e,t,n){return H(e,ps),e.namespace=t,e.id=n,e}var ds,hs,ps=[],ms=0;function vs(e,t,n,r){var a=e.id,o=e.namespace;return ce(e,"function"==typeof n?function(e,i,s){e[o][a].tween.set(t,r(n.call(e,e.__data__,i,s)))}:(n=r(n),function(e){e[o][a].tween.set(t,n)}))}function gs(e){return null==e&&(e=""),function(){this.textContent=e}}function ys(e){return null==e?"__transition__":"__transition_"+e+"__"}function bs(e,t,n,r,a){var o,i,s,l,u,c=e[n]||(e[n]={active:0,count:0}),f=c[r];function d(n){var a=c.active,d=c[a];for(var p in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[a],d.event&&d.event.interrupt.call(e,e.__data__,d.index)),c)if(+p<r){var m=c[p];m.timer.c=null,m.timer.t=NaN,--c.count,delete c[p]}i.c=h,At(function(){return i.c&&h(n||1)&&(i.c=null,i.t=NaN),1},0,o),c.active=r,f.event&&f.event.start.call(e,e.__data__,t),u=[],f.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&u.push(r)}),l=f.ease,s=f.duration}function h(a){for(var o=a/s,i=l(o),d=u.length;d>0;)u[--d].call(e,i);if(o>=1)return f.event&&f.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}f||(o=a.time,i=At(function(e){var t=f.delay;if(i.t=t+o,t<=e)return d(e-t);i.c=d},0,o),f=c[r]={tween:new _,time:o,timer:i,delay:a.delay,duration:a.duration,ease:a.ease,index:t},a=null,++c.count)}ps.call=X.call,ps.empty=X.empty,ps.node=X.node,ps.size=X.size,e.transition=function(t,n){return t&&t.transition?ds?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=ps,ps.select=function(e){var t,n,r,a=this.id,o=this.namespace,i=[];e=Y(e);for(var s=-1,l=this.length;++s<l;){i.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),bs(n,c,o,a,r[o][a]),t.push(n)):t.push(null)}return fs(i,o,a)},ps.selectAll=function(e){var t,n,r,a,o,i=this.id,s=this.namespace,l=[];e=K(e);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],d=-1,h=f.length;++d<h;)if(r=f[d]){o=r[s][i],n=e.call(r,r.__data__,d,u),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(a=n[p])&&bs(a,p,s,i,o),t.push(a)}return fs(l,s,i)},ps.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=ue(e));for(var a=0,o=this.length;a<o;a++){r.push(t=[]);for(var i=this[a],s=0,l=i.length;s<l;s++)(n=i[s])&&e.call(n,n.__data__,s,a)&&t.push(n)}return fs(r,this.namespace,this.id)},ps.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):ce(this,null==t?function(t){t[r][n].tween.remove(e)}:function(a){a[r][n].tween.set(e,t)})},ps.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?po:Xa,a=e.ns.qualify(t);function o(){this.removeAttribute(a)}function i(){this.removeAttributeNS(a.space,a.local)}return vs(this,"attr."+t,n,a.local?function(e){return null==e?i:(e+="",function(){var t,n=this.getAttributeNS(a.space,a.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(a.space,a.local,t(e))})})}:function(e){return null==e?o:(e+="",function(){var t,n=this.getAttribute(a);return n!==e&&(t=r(n,e),function(e){this.setAttribute(a,t(e))})})})},ps.attrTween=function(t,n){var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?function(e,t){var a=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return a&&function(e){this.setAttributeNS(r.space,r.local,a(e))}}:function(e,t){var a=n.call(this,e,t,this.getAttribute(r));return a&&function(e){this.setAttribute(r,a(e))}})},ps.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function a(){this.style.removeProperty(e)}return vs(this,"style."+e,t,function(t){return null==t?a:(t+="",function(){var r,a=i(this).getComputedStyle(this,null).getPropertyValue(e);return a!==t&&(r=Xa(a,t),function(t){this.style.setProperty(e,r(t),n)})})})},ps.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,a){var o=t.call(this,r,a,i(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}})},ps.text=function(e){return vs(this,"text",e,gs)},ps.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},ps.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),ce(this,function(e){e[r][n].ease=t}))},ps.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:ce(this,"function"==typeof e?function(r,a,o){r[n][t].delay=+e.call(r,r.__data__,a,o)}:(e=+e,function(r){r[n][t].delay=e}))},ps.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:ce(this,"function"==typeof e?function(r,a,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,a,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},ps.each=function(t,n){var r=this.id,a=this.namespace;if(arguments.length<2){var o=hs,i=ds;try{ds=r,ce(this,function(e,n,o){hs=e[a][r],t.call(e,e.__data__,n,o)})}finally{hs=o,ds=i}}else ce(this,function(o){var i=o[a][r];(i.event||(i.event=e.dispatch("start","end","interrupt"))).on(t,n)});return this},ps.transition=function(){for(var e,t,n,r=this.id,a=++ms,o=this.namespace,i=[],s=0,l=this.length;s<l;s++){i.push(e=[]);for(var u=this[s],c=0,f=u.length;c<f;c++)(t=u[c])&&(n=t[o][r],bs(t,c,o,a,{time:n.time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration})),e.push(t)}return fs(i,o,a)},e.svg.axis=function(){var t,n=e.scale.linear(),a=_s,o=6,i=6,s=3,l=[10],u=null;function c(r){r.each(function(){var r,c=e.select(this),f=this.__chart__||n,d=this.__chart__=n.copy(),h=null==u?d.ticks?d.ticks.apply(d,l):d.domain():u,p=null==t?d.tickFormat?d.tickFormat.apply(d,l):O:t,m=c.selectAll(".tick").data(h,d),v=m.enter().insert("g",".domain").attr("class","tick").style("opacity",ke),g=e.transition(m.exit()).style("opacity",ke).remove(),y=e.transition(m.order()).style("opacity",1),b=Math.max(o,0)+s,_=ui(d),x=c.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),e.transition(x));v.append("line"),v.append("text");var k,A,T,M,E=v.select("line"),C=y.select("line"),S=m.select("text").text(p),j=v.select("text"),P=y.select("text"),N="top"===a||"left"===a?-1:1;if("bottom"===a||"top"===a?(r=ws,k="x",T="y",A="x2",M="y2",S.attr("dy",N<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+N*i+"V0H"+_[1]+"V"+N*i)):(r=ks,k="y",T="x",A="y2",M="x2",S.attr("dy",".32em").style("text-anchor",N<0?"end":"start"),w.attr("d","M"+N*i+","+_[0]+"H0V"+_[1]+"H"+N*i)),E.attr(M,N*o),j.attr(T,N*b),C.attr(A,0).attr(M,N*o),P.attr(k,0).attr(T,N*b),d.rangeBand){var I=d,L=I.rangeBand()/2;f=d=function(e){return I(e)+L}}else f.rangeBand?f=d:g.call(r,d,f);v.call(r,f,d),y.call(r,d,d)})}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(a=e in xs?e+"":_s,c):a},c.ticks=function(){return arguments.length?(l=r(arguments),c):l},c.tickValues=function(e){return arguments.length?(u=e,c):u},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(e){var t=arguments.length;return t?(o=+e,i=+arguments[t-1],c):o},c.innerTickSize=function(e){return arguments.length?(o=+e,c):o},c.outerTickSize=function(e){return arguments.length?(i=+e,c):i},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var _s="bottom",xs={top:1,right:1,bottom:1,left:1};function ws(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function ks(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}e.svg.brush=function(){var t,n,r=B(d,"brushstart","brush","brushend"),a=null,o=null,s=[0,0],l=[0,0],u=!0,c=!0,f=Ts[0];function d(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(f,O);r.exit().remove(),r.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return As[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",d.empty()?"none":null);var i,s=e.transition(t),l=e.transition(n);a&&(i=ui(a),l.attr("x",i[0]).attr("width",i[1]-i[0]),p(s)),o&&(i=ui(o),l.attr("y",i[0]).attr("height",i[1]-i[0]),m(s)),h(s)})}function h(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+s[+/e$/.test(e)]+","+l[+/^s/.test(e)]+")"})}function p(e){e.select(".extent").attr("x",s[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function m(e){e.select(".extent").attr("y",l[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function v(){var f,v,g=this,y=e.select(e.event.target),b=r.of(g,arguments),_=e.select(g),x=y.datum(),w=!/^(n|s)$/.test(x)&&a,k=!/^(e|w)$/.test(x)&&o,A=y.classed("extent"),T=be(g),M=e.mouse(g),E=e.select(i(g)).on("keydown.brush",function(){32==e.event.keyCode&&(A||(f=null,M[0]-=s[1],M[1]-=l[1],A=2),z())}).on("keyup.brush",function(){32==e.event.keyCode&&2==A&&(M[0]+=s[1],M[1]+=l[1],A=0,z())});if(e.event.changedTouches?E.on("touchmove.brush",j).on("touchend.brush",P):E.on("mousemove.brush",j).on("mouseup.brush",P),_.interrupt().selectAll("*").interrupt(),A)M[0]=s[0]-M[0],M[1]=l[0]-M[1];else if(x){var C=+/w$/.test(x),S=+/^n/.test(x);v=[s[1-C]-M[0],l[1-S]-M[1]],M[0]=s[C],M[1]=l[S]}else e.event.altKey&&(f=M.slice());function j(){var t=e.mouse(g),n=!1;v&&(t[0]+=v[0],t[1]+=v[1]),A||(e.event.altKey?(f||(f=[(s[0]+s[1])/2,(l[0]+l[1])/2]),M[0]=s[+(t[0]<f[0])],M[1]=l[+(t[1]<f[1])]):f=null),w&&O(t,a,0)&&(p(_),n=!0),k&&O(t,o,1)&&(m(_),n=!0),n&&(h(_),b({type:"brush",mode:A?"move":"resize"}))}function O(e,r,a){var o,i,d=ui(r),h=d[0],p=d[1],m=M[a],v=a?l:s,g=v[1]-v[0];if(A&&(h-=m,p-=g+m),o=(a?c:u)?Math.max(h,Math.min(p,e[a])):e[a],A?i=(o+=m)+g:(f&&(m=Math.max(h,Math.min(p,2*f[a]-o))),m<o?(i=o,o=m):i=m),v[0]!=o||v[1]!=i)return a?n=null:t=null,v[0]=o,v[1]=i,!0}function P(){j(),_.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),e.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),b({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),j()}return d.event=function(a){a.each(function(){var a=r.of(this,arguments),o={x:s,y:l,i:t,j:n},i=this.__chart__||o;this.__chart__=o,ds?e.select(this).transition().each("start.brush",function(){t=i.i,n=i.j,s=i.x,l=i.y,a({type:"brushstart"})}).tween("brush:brush",function(){var e=Ya(s,o.x),r=Ya(l,o.y);return t=n=null,function(t){s=o.x=e(t),l=o.y=r(t),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=o.i,n=o.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},d.x=function(e){return arguments.length?(f=Ts[!(a=e)<<1|!o],d):a},d.y=function(e){return arguments.length?(f=Ts[!a<<1|!(o=e)],d):o},d.clamp=function(e){return arguments.length?(a&&o?(u=!!e[0],c=!!e[1]):a?u=!!e:o&&(c=!!e),d):a&&o?[u,c]:a?u:o?c:null},d.extent=function(e){var r,i,u,c,f;return arguments.length?(a&&(r=e[0],i=e[1],o&&(r=r[0],i=i[0]),t=[r,i],a.invert&&(r=a(r),i=a(i)),i<r&&(f=r,r=i,i=f),r==s[0]&&i==s[1]||(s=[r,i])),o&&(u=e[0],c=e[1],a&&(u=u[1],c=c[1]),n=[u,c],o.invert&&(u=o(u),c=o(c)),c<u&&(f=u,u=c,c=f),u==l[0]&&c==l[1]||(l=[u,c])),d):(a&&(t?(r=t[0],i=t[1]):(r=s[0],i=s[1],a.invert&&(r=a.invert(r),i=a.invert(i)),i<r&&(f=r,r=i,i=f))),o&&(n?(u=n[0],c=n[1]):(u=l[0],c=l[1],o.invert&&(u=o.invert(u),c=o.invert(c)),c<u&&(f=u,u=c,c=f))),a&&o?[[r,u],[i,c]]:a?[r,i]:o&&[u,c])},d.clear=function(){return d.empty()||(s=[0,0],l=[0,0],t=n=null),d},d.empty=function(){return!!a&&s[0]==s[1]||!!o&&l[0]==l[1]},e.rebind(d,r,"on")};var As={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ts=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ms=Nt.format=ln.timeFormat,Es=Ms.utc,Cs=Es("%Y-%m-%dT%H:%M:%S.%LZ");function Ss(e){return e.toISOString()}function js(t,n,r){function a(e){return t(e)}function o(t,r){var a=t[1]-t[0],o=a/r,i=e.bisect(Ps,o);return i==Ps.length?[n.year,gi(t.map(function(e){return e/31536e6}),r)[2]]:i?n[o/Ps[i-1]<Ps[i]/o?i-1:i]:[Ls,gi(t,r)[2]]}return a.invert=function(e){return Os(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain().map(Os)},a.nice=function(e,t){var n=a.domain(),r=li(n),i=null==e?o(r,10):"number"==typeof e&&o(r,e);function s(n){return!isNaN(n)&&!e.range(n,Os(+n+1),t).length}return i&&(e=i[0],t=i[1]),a.domain(fi(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=Os(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=Os(+t+1);return t}}:e))},a.ticks=function(e,t){var n=li(a.domain()),r=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Os(+n[1]+1),t<1?1:t)},a.tickFormat=function(){return r},a.copy=function(){return js(t.copy(),n,r)},mi(a,t)}function Os(e){return new Date(e)}Ms.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ss:Cs,Ss.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Ss.toString=Cs.toString,Nt.second=Rt(function(e){return new It(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Nt.seconds=Nt.second.range,Nt.seconds.utc=Nt.second.utc.range,Nt.minute=Rt(function(e){return new It(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Nt.minutes=Nt.minute.range,Nt.minutes.utc=Nt.minute.utc.range,Nt.hour=Rt(function(e){var t=e.getTimezoneOffset()/60;return new It(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Nt.hours=Nt.hour.range,Nt.hours.utc=Nt.hour.utc.range,Nt.month=Rt(function(e){return(e=Nt.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Nt.months=Nt.month.range,Nt.months.utc=Nt.month.utc.range;var Ps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ns=[[Nt.second,1],[Nt.second,5],[Nt.second,15],[Nt.second,30],[Nt.minute,1],[Nt.minute,5],[Nt.minute,15],[Nt.minute,30],[Nt.hour,1],[Nt.hour,3],[Nt.hour,6],[Nt.hour,12],[Nt.day,1],[Nt.day,2],[Nt.week,1],[Nt.month,1],[Nt.month,3],[Nt.year,1]],Is=Ms.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Xn]]),Ls={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(Os)},floor:O,ceil:O};Ns.year=Nt.year,Nt.scale=function(){return js(e.scale.linear(),Ns,Is)};var Ds=Ns.map(function(e){return[e[0].utc,e[1]]}),Rs=Es.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Xn]]);function zs(e){return JSON.parse(e.responseText)}function Fs(e){var t=a.createRange();return t.selectNode(a.body),t.createContextualFragment(e.responseText)}Ds.year=Nt.year.utc,Nt.scale.utc=function(){return js(e.scale.linear(),Ds,Rs)},e.text=gt(function(e){return e.responseText}),e.json=function(e,t){return yt(e,"application/json",zs,t)},e.html=function(e,t){return yt(e,"text/html",Fs,t)},e.xml=gt(function(e){return e.responseXML}),"object"==typeof t&&t.exports?t.exports=e:this.d3=e}()},{}],86:[function(e,t,n){t.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},{}],87:[function(e,t,n){"use strict";t.exports=i;var r=i.canvas=document.createElement("canvas"),a=r.getContext("2d"),o=s([32,126]);function i(e,t){Array.isArray(e)&&(e=e.join(", "));var n,r={},i=16,l=.05;t&&(2===t.length&&"number"==typeof t[0]?n=s(t):Array.isArray(t)?n=t:(t.o?n=s(t.o):t.pairs&&(n=t.pairs),t.fontSize&&(i=t.fontSize),null!=t.threshold&&(l=t.threshold))),n||(n=o),a.font=i+"px "+e;for(var u=0;u<n.length;u++){var c=n[u],f=a.measureText(c[0]).width+a.measureText(c[1]).width,d=a.measureText(c).width;if(Math.abs(f-d)>i*l){var h=(d-f)/i;r[c]=1e3*h}}return r}function s(e){for(var t=[],n=e[0];n<=e[1];n++)for(var r=String.fromCharCode(n),a=e[0];a<e[1];a++){var o=String.fromCharCode(a),i=r+o;t.push(i)}return t}i.createPairs=s,i.ascii=o},{}],88:[function(e,t,n){(function(e){var n=!1;if("undefined"!=typeof Float64Array){var r=new Float64Array(1),a=new Uint32Array(r.buffer);r[0]=1,n=!0,1072693248===a[1]?(t.exports=function(e){return r[0]=e,[a[0],a[1]]},t.exports.pack=function(e,t){return a[0]=e,a[1]=t,r[0]},t.exports.lo=function(e){return r[0]=e,a[0]},t.exports.hi=function(e){return r[0]=e,a[1]}):1072693248===a[0]?(t.exports=function(e){return r[0]=e,[a[1],a[0]]},t.exports.pack=function(e,t){return a[1]=e,a[0]=t,r[0]},t.exports.lo=function(e){return r[0]=e,a[1]},t.exports.hi=function(e){return r[0]=e,a[0]}):n=!1}if(!n){var o=new e(8);t.exports=function(e){return o.writeDoubleLE(e,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},t.exports.pack=function(e,t){return o.writeUInt32LE(e,0,!0),o.writeUInt32LE(t,4,!0),o.readDoubleLE(0,!0)},t.exports.lo=function(e){return o.writeDoubleLE(e,0,!0),o.readUInt32LE(0,!0)},t.exports.hi=function(e){return o.writeDoubleLE(e,0,!0),o.readUInt32LE(4,!0)}}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){var n=t.exports.hi(e);return(n<<1>>>21)-1023},t.exports.fraction=function(e){var n=t.exports.lo(e),r=t.exports.hi(e),a=1048575&r;return 2146435072&r&&(a+=1<<20),[n,a]},t.exports.denormalized=function(e){var n=t.exports.hi(e);return!(2146435072&n)}}).call(this,e("buffer").Buffer)},{buffer:51}],89:[function(e,t,n){var r=e("abs-svg-path"),a=e("normalize-svg-path"),o={M:"moveTo",C:"bezierCurveTo"};t.exports=function(e,t){e.beginPath(),a(r(t)).forEach(function(t){var n=t[0],r=t.slice(1);e[o[n]].apply(e,r)}),e.closePath()}},{"abs-svg-path":11,"normalize-svg-path":221}],90:[function(e,t,n){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],91:[function(e,t,n){"use strict";t.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,n,r){var a=0|t[r];if(a<=0)return[];var o,i=new Array(a);if(r===t.length-1)for(o=0;o<a;++o)i[o]=n;else for(o=0;o<a;++o)i[o]=e(t,n,r+1);return i}(e,t,0)}return[]}},{}],92:[function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,l,u,c,h,m,v=t&&t.length,g=v?t[0]*n:e.length,y=a(e,0,g,n,!0),b=[];if(!y)return b;if(v&&(y=function(e,t,n,r){var i,s,l,u,c,h=[];for(i=0,s=t.length;i<s;i++)l=t[i]*r,u=i<s-1?t[i+1]*r:e.length,(c=a(e,l,u,r,!1))===c.next&&(c.steiner=!0),h.push(p(c));for(h.sort(f),i=0;i<h.length;i++)d(h[i],n),n=o(n,n.next);return n}(e,t,y,n)),e.length>80*n){r=l=e[0],s=u=e[1];for(var _=n;_<g;_+=n)c=e[_],h=e[_+1],c<r&&(r=c),h<s&&(s=h),c>l&&(l=c),h>u&&(u=h);m=0!==(m=Math.max(l-r,u-s))?1/m:0}return i(y,b,n,r,s,m),b}function a(e,t,n,r,a){var o,i;if(a===T(e,t,n,r)>0)for(o=t;o<n;o+=r)i=w(o,e[o],e[o+1],i);else for(o=n-r;o>=t;o-=r)i=w(o,e[o],e[o+1],i);return i&&y(i,i.next)&&(k(i),i=i.next),i}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(k(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,r,a,f,d){if(e){!d&&f&&function(e,t,n,r){var a=e;do{null===a.z&&(a.z=h(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,n,r,a,o,i,s,l,u=1;do{for(n=e,e=null,o=null,i=0;n;){for(i++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,l--),o?o.nextZ=a:e=a,a.prevZ=o,o=a;n=r}o.nextZ=null,u*=2}while(i>1)}(a)}(e,r,a,f);for(var p,m,v=e;e.prev!==e.next;)if(p=e.prev,m=e.next,f?l(e,r,a,f):s(e))t.push(p.i/n),t.push(e.i/n),t.push(m.i/n),k(e),e=m.next,v=m.next;else if((e=m)===v){d?1===d?i(e=u(e,t,n),t,n,r,a,f,2):2===d&&c(e,t,n,r,a,f):i(o(e),t,n,r,a,f,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(m(t.x,t.y,n.x,n.y,r.x,r.y,a.x,a.y)&&g(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function l(e,t,n,r){var a=e.prev,o=e,i=e.next;if(g(a,o,i)>=0)return!1;for(var s=a.x<o.x?a.x<i.x?a.x:i.x:o.x<i.x?o.x:i.x,l=a.y<o.y?a.y<i.y?a.y:i.y:o.y<i.y?o.y:i.y,u=a.x>o.x?a.x>i.x?a.x:i.x:o.x>i.x?o.x:i.x,c=a.y>o.y?a.y>i.y?a.y:i.y:o.y>i.y?o.y:i.y,f=h(s,l,t,n,r),d=h(u,c,t,n,r),p=e.prevZ,v=e.nextZ;p&&p.z>=f&&v&&v.z<=d;){if(p!==e.prev&&p!==e.next&&m(a.x,a.y,o.x,o.y,i.x,i.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==e.prev&&v!==e.next&&m(a.x,a.y,o.x,o.y,i.x,i.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=f;){if(p!==e.prev&&p!==e.next&&m(a.x,a.y,o.x,o.y,i.x,i.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=d;){if(v!==e.prev&&v!==e.next&&m(a.x,a.y,o.x,o.y,i.x,i.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function u(e,t,n){var r=e;do{var a=r.prev,o=r.next.next;!y(a,o)&&b(a,r,r.next,o)&&_(a,o)&&_(o,a)&&(t.push(a.i/n),t.push(r.i/n),t.push(o.i/n),k(r),k(r.next),r=e=o),r=r.next}while(r!==e);return r}function c(e,t,n,r,a,s){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&v(l,u)){var c=x(l,u);return l=o(l,l.next),c=o(c,c.next),i(l,t,n,r,a,s),void i(c,t,n,r,a,s)}u=u.next}l=l.next}while(l!==e)}function f(e,t){return e.x-t.x}function d(e,t){if(t=function(e,t){var n,r=t,a=e.x,o=e.y,i=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i){if(i=s,s===a){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(a===i)return n.prev;var l,u=n,c=n.x,f=n.y,d=1/0;for(r=n.next;r!==u;)a>=r.x&&r.x>=c&&a!==r.x&&m(o<f?a:i,o,c,f,o<f?i:a,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(a-r.x))<d||l===d&&r.x>n.x)&&_(r,e)&&(n=r,d=l),r=r.next;return n}(e,t)){var n=x(t,e);o(n,n.next)}}function h(e,t,n,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*a)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function m(e,t,n,r,a,o,i,s){return(a-i)*(t-s)-(e-i)*(o-s)>=0&&(e-i)*(r-s)-(n-i)*(t-s)>=0&&(n-i)*(o-s)-(a-i)*(r-s)>=0}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&b(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&_(e,t)&&_(t,e)&&function(e,t){var n=e,r=!1,a=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&a<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function b(e,t,n,r){return!!(y(e,t)&&y(n,r)||y(e,r)&&y(n,t))||g(e,t,n)>0!=g(e,t,r)>0&&g(n,r,e)>0!=g(n,r,t)>0}function _(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function x(e,t){var n=new A(e.i,e.x,e.y),r=new A(t.i,t.x,t.y),a=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function w(e,t,n,r){var a=new A(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function k(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function A(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var a=0,o=t,i=n-r;o<n;o+=r)a+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return a}t.exports=r,t.exports.default=r,r.deviation=function(e,t,n,r){var a=t&&t.length,o=a?t[0]*n:e.length,i=Math.abs(T(e,0,o,n));if(a)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;i-=Math.abs(T(e,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((e[d]-e[p])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[p+1]-e[d+1]))}return 0===i&&0===f?0:Math.abs((f-i)/i)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,a=0;a<e.length;a++){for(var o=0;o<e[a].length;o++)for(var i=0;i<t;i++)n.vertices.push(e[a][o][i]);a>0&&(r+=e[a-1].length,n.holes.push(r))}return n}},{}],93:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.length;if("number"!=typeof t){t=0;for(var a=0;a<n;++a){var o=e[a];t=Math.max(t,o[0],o[1])}t=1+(0|t)}t|=0;for(var i=new Array(t),a=0;a<t;++a)i[a]=[];for(var a=0;a<n;++a){var o=e[a];i[o[0]].push(o[1]),i[o[1]].push(o[0])}for(var s=0;s<t;++s)r(i[s],function(e,t){return e-t});return i};var r=e("uniq")},{uniq:291}],94:[function(e,t,n){"use strict";var r=e("../../object/valid-value");t.exports=function(){return r(this).length=0,this}},{"../../object/valid-value":126}],95:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Array.from:e("./shim")},{"./is-implemented":96,"./shim":97}],96:[function(e,t,n){"use strict";t.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},{}],97:[function(e,t,n){"use strict";var r=e("es6-symbol").iterator,a=e("../../function/is-arguments"),o=e("../../function/is-function"),i=e("../../number/to-pos-integer"),s=e("../../object/valid-callable"),l=e("../../object/valid-value"),u=e("../../object/is-value"),c=e("../../string/is-string"),f=Array.isArray,d=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(e){var t,n,m,v,g,y,b,_,x,w,k=arguments[1],A=arguments[2];if(e=Object(l(e)),u(k)&&s(k),this&&this!==Array&&o(this))t=this;else{if(!k){if(a(e))return 1!==(g=e.length)?Array.apply(null,e):((v=new Array(1))[0]=e[0],v);if(f(e)){for(v=new Array(g=e.length),n=0;n<g;++n)v[n]=e[n];return v}}v=[]}if(!f(e))if(void 0!==(x=e[r])){for(b=s(x).call(e),t&&(v=new t),_=b.next(),n=0;!_.done;)w=k?d.call(k,A,_.value,n):_.value,t?(h.value=w,p(v,n,h)):v[n]=w,_=b.next(),++n;g=n}else if(c(e)){for(g=e.length,t&&(v=new t),n=0,m=0;n<g;++n)w=e[n],n+1<g&&(y=w.charCodeAt(0))>=55296&&y<=56319&&(w+=e[++n]),w=k?d.call(k,A,w,m):w,t?(h.value=w,p(v,m,h)):v[m]=w,++m;g=m}if(void 0===g)for(g=i(e.length),t&&(v=new t(g)),n=0;n<g;++n)w=k?d.call(k,A,e[n],n):e[n],t?(h.value=w,p(v,n,h)):v[n]=w;return t&&(h.value=null,v.length=g),v}},{"../../function/is-arguments":98,"../../function/is-function":99,"../../number/to-pos-integer":105,"../../object/is-value":115,"../../object/valid-callable":124,"../../object/valid-value":126,"../../string/is-string":130,"es6-symbol":140}],98:[function(e,t,n){"use strict";var r=Object.prototype.toString,a=r.call(function(){return arguments}());t.exports=function(e){return r.call(e)===a}},{}],99:[function(e,t,n){"use strict";var r=Object.prototype.toString,a=r.call(e("./noop"));t.exports=function(e){return"function"==typeof e&&r.call(e)===a}},{"./noop":100}],100:[function(e,t,n){"use strict";t.exports=function(){}},{}],101:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Math.sign:e("./shim")},{"./is-implemented":102,"./shim":103}],102:[function(e,t,n){"use strict";t.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},{}],103:[function(e,t,n){"use strict";t.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},{}],104:[function(e,t,n){"use strict";var r=e("../math/sign"),a=Math.abs,o=Math.floor;t.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*o(a(e)):e}},{"../math/sign":101}],105:[function(e,t,n){"use strict";var r=e("./to-integer"),a=Math.max;t.exports=function(e){return a(0,r(e))}},{"./to-integer":104}],106:[function(e,t,n){"use strict";var r=e("./valid-callable"),a=e("./valid-value"),o=Function.prototype.bind,i=Function.prototype.call,s=Object.keys,l=Object.prototype.propertyIsEnumerable;t.exports=function(e,t){return function(n,u){var c,f=arguments[2],d=arguments[3];return n=Object(a(n)),r(u),c=s(n),d&&c.sort("function"==typeof d?o.call(d,n):void 0),"function"!=typeof e&&(e=c[e]),i.call(e,c,function(e,r){return l.call(n,e)?i.call(u,f,n[e],e,n,r):t})}}},{"./valid-callable":124,"./valid-value":126}],107:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":108,"./shim":109}],108:[function(e,t,n){"use strict";t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],109:[function(e,t,n){"use strict";var r=e("../keys"),a=e("../valid-value"),o=Math.max;t.exports=function(e,t){var n,i,s,l=o(arguments.length,2);for(e=Object(a(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},i=1;i<l;++i)t=arguments[i],r(t).forEach(s);if(void 0!==n)throw n;return e}},{"../keys":116,"../valid-value":126}],110:[function(e,t,n){"use strict";var r=e("../array/from"),a=e("./assign"),o=e("./valid-value");t.exports=function(e){var t=Object(o(e)),n=arguments[1],i=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(i.ensure||t in e)&&(s[t]=e[t])}):a(s,e),s}},{"../array/from":95,"./assign":107,"./valid-value":126}],111:[function(e,t,n){"use strict";var r,a=Object.create;e("./set-prototype-of/is-implemented")()||(r=e("./set-prototype-of/shim")),t.exports=function(){var e,t,n;return r?1!==r.level?a:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){t[e]="__proto__"!==e?n:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(e,t),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return a(null===t?e:t,n)}):a}()},{"./set-prototype-of/is-implemented":122,"./set-prototype-of/shim":123}],112:[function(e,t,n){"use strict";t.exports=e("./_iterate")("forEach")},{"./_iterate":106}],113:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e}},{}],114:[function(e,t,n){"use strict";var r=e("./is-value"),a={function:!0,object:!0};t.exports=function(e){return r(e)&&a[typeof e]||!1}},{"./is-value":115}],115:[function(e,t,n){"use strict";var r=e("../function/noop")();t.exports=function(e){return e!==r&&null!==e}},{"../function/noop":100}],116:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":117,"./shim":118}],117:[function(e,t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],118:[function(e,t,n){"use strict";var r=e("../is-value"),a=Object.keys;t.exports=function(e){return a(r(e)?Object(e):e)}},{"../is-value":115}],119:[function(e,t,n){"use strict";var r=e("./valid-callable"),a=e("./for-each"),o=Function.prototype.call;t.exports=function(e,t){var n={},i=arguments[2];return r(t),a(e,function(e,r,a,s){n[r]=o.call(t,i,e,r,a,s)}),n}},{"./for-each":112,"./valid-callable":124}],120:[function(e,t,n){"use strict";var r=e("./is-value"),a=Array.prototype.forEach,o=Object.create;t.exports=function(e){var t=o(null);return a.call(arguments,function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},{"./is-value":115}],121:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.setPrototypeOf:e("./shim")},{"./is-implemented":122,"./shim":123}],122:[function(e,t,n){"use strict";var r=Object.create,a=Object.getPrototypeOf,o={};t.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||r;return"function"==typeof e&&a(e(t(null),o))===o}},{}],123:[function(e,t,n){"use strict";var r,a=e("../is-object"),o=e("../valid-value"),i=Object.prototype.isPrototypeOf,s=Object.defineProperty,l={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(o(e),null===t||a(t))return e;throw new TypeError("Prototype must be null or an object")},t.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(r(e,t),t),e}):t=function(e,t){return r(e,t).__proto__=t,e}:t=function e(t,n){var a;return r(t,n),(a=i.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,a&&s(e.nullPolyfill,"__proto__",l),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}()),e("../create")},{"../create":111,"../is-object":114,"../valid-value":126}],124:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],125:[function(e,t,n){"use strict";var r=e("./is-object");t.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},{"./is-object":114}],126:[function(e,t,n){"use strict";var r=e("./is-value");t.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},{"./is-value":115}],127:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":128,"./shim":129}],128:[function(e,t,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},{}],129:[function(e,t,n){"use strict";var r=String.prototype.indexOf;t.exports=function(e){return r.call(this,e,arguments[1])>-1}},{}],130:[function(e,t,n){"use strict";var r=Object.prototype.toString,a=r.call("");t.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===a)||!1}},{}],131:[function(e,t,n){"use strict";var r=Object.create(null),a=Math.random;t.exports=function(){var e;do{e=a().toString(36).slice(2)}while(r[e]);return e}},{}],132:[function(e,t,n){"use strict";var r,a=e("es5-ext/object/set-prototype-of"),o=e("es5-ext/string/#/contains"),i=e("d"),s=e("es6-symbol"),l=e("./"),u=Object.defineProperty;r=t.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");l.call(this,e),t=t?o.call(t,"key+value")?"key+value":o.call(t,"key")?"key":"value":"value",u(this,"__kind__",i("",t))},a&&a(r,l),delete r.prototype.constructor,r.prototype=Object.create(l.prototype,{_resolve:i(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),u(r.prototype,s.toStringTag,i("c","Array Iterator"))},{"./":135,d:84,"es5-ext/object/set-prototype-of":121,"es5-ext/string/#/contains":127,"es6-symbol":140}],133:[function(e,t,n){"use strict";var r=e("es5-ext/function/is-arguments"),a=e("es5-ext/object/valid-callable"),o=e("es5-ext/string/is-string"),i=e("./get"),s=Array.isArray,l=Function.prototype.call,u=Array.prototype.some;t.exports=function(e,t){var n,c,f,d,h,p,m,v,g=arguments[2];if(s(e)||r(e)?n="array":o(e)?n="string":e=i(e),a(t),f=function(){d=!0},"array"!==n)if("string"!==n)for(c=e.next();!c.done;){if(l.call(t,g,c.value,f),d)return;c=e.next()}else for(p=e.length,h=0;h<p&&(m=e[h],h+1<p&&(v=m.charCodeAt(0))>=55296&&v<=56319&&(m+=e[++h]),l.call(t,g,m,f),!d);++h);else u.call(e,function(e){return l.call(t,g,e,f),d})}},{"./get":134,"es5-ext/function/is-arguments":98,"es5-ext/object/valid-callable":124,"es5-ext/string/is-string":130}],134:[function(e,t,n){"use strict";var r=e("es5-ext/function/is-arguments"),a=e("es5-ext/string/is-string"),o=e("./array"),i=e("./string"),s=e("./valid-iterable"),l=e("es6-symbol").iterator;t.exports=function(e){return"function"==typeof s(e)[l]?e[l]():r(e)?new o(e):a(e)?new i(e):new o(e)}},{"./array":132,"./string":137,"./valid-iterable":138,"es5-ext/function/is-arguments":98,"es5-ext/string/is-string":130,"es6-symbol":140}],135:[function(e,t,n){"use strict";var r,a=e("es5-ext/array/#/clear"),o=e("es5-ext/object/assign"),i=e("es5-ext/object/valid-callable"),s=e("es5-ext/object/valid-value"),l=e("d"),u=e("d/auto-bind"),c=e("es6-symbol"),f=Object.defineProperty,d=Object.defineProperties;t.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");d(this,{__list__:l("w",s(e)),__context__:l("w",t),__nextIndex__:l("w",0)}),t&&(i(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,d(r.prototype,o({_next:l(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:l(function(e){return this.__list__[e]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[c.toStringTag]||"Object")+"]"})},u({_onAdd:l(function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)):f(this,"__redo__",l("c",[e])))}),_onDelete:l(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:l(function(){this.__redo__&&a.call(this.__redo__),this.__nextIndex__=0})}))),f(r.prototype,c.iterator,l(function(){return this}))},{d:84,"d/auto-bind":83,"es5-ext/array/#/clear":94,"es5-ext/object/assign":107,"es5-ext/object/valid-callable":124,"es5-ext/object/valid-value":126,"es6-symbol":140}],136:[function(e,t,n){"use strict";var r=e("es5-ext/function/is-arguments"),a=e("es5-ext/object/is-value"),o=e("es5-ext/string/is-string"),i=e("es6-symbol").iterator,s=Array.isArray;t.exports=function(e){return!(!a(e)||!s(e)&&!o(e)&&!r(e)&&"function"!=typeof e[i])}},{"es5-ext/function/is-arguments":98,"es5-ext/object/is-value":115,"es5-ext/string/is-string":130,"es6-symbol":140}],137:[function(e,t,n){"use strict";var r,a=e("es5-ext/object/set-prototype-of"),o=e("d"),i=e("es6-symbol"),s=e("./"),l=Object.defineProperty;r=t.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),l(this,"__length__",o("",e.length))},a&&a(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:o(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:o(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0))>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n})}),l(r.prototype,i.toStringTag,o("c","String Iterator"))},{"./":135,d:84,"es5-ext/object/set-prototype-of":121,"es6-symbol":140}],138:[function(e,t,n){"use strict";var r=e("./is-iterable");t.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},{"./is-iterable":136}],139:[function(e,n,r){(function(t,a){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
!function(e,t){"object"==typeof r&&void 0!==n?n.exports=t():e.ES6Promise=t()}(this,function(){"use strict";function n(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,s=void 0,l=function(e,t){m[o]=e,m[o+1]=t,2===(o+=2)&&(s?s(v):g())},u="undefined"!=typeof window?window:void 0,c=u||{},f=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(v,1)}}var m=new Array(1e3);function v(){for(var e=0;e<o;e+=2){var t=m[e],n=m[e+1];t(n),m[e]=void 0,m[e+1]=void 0}o=0}var g=void 0;function y(e,t){var n=arguments,r=this,a=new this.constructor(x);void 0===a[_]&&z(a);var o=r._state;return o?function(){var e=n[o-1];l(function(){return D(o,a,e,r._result)})}():P(r,a,e,t),a}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(x);return C(t,e),t}g=d?function(){return t.nextTick(v)}:f?function(){var e=0,t=new f(v),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():h?function(){var e=new MessageChannel;return e.port1.onmessage=v,function(){return e.port2.postMessage(0)}}():void 0===u&&"function"==typeof e?function(){try{var t=e,n=t("vertx");return i=n.runOnLoop||n.runOnContext,function(){i(v)}}catch(e){return p()}}():p();var _=Math.random().toString(36).substring(16);function x(){}var w=void 0,k=1,A=2,T=new I;function M(e){try{return e.then}catch(e){return T.error=e,T}}function E(e,t,r){t.constructor===e.constructor&&r===y&&t.constructor.resolve===b?function(e,t){t._state===k?j(e,t._result):t._state===A?O(e,t._result):P(t,void 0,function(t){return C(e,t)},function(t){return O(e,t)})}(e,t):r===T?O(e,T.error):void 0===r?j(e,t):n(r)?function(e,t,n){l(function(e){var r=!1,a=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?C(e,n):j(e,n))},function(t){r||(r=!0,O(e,t))},e._label);!r&&a&&(r=!0,O(e,a))},e)}(e,t,r):j(e,t)}function C(e,t){e===t?O(e,new TypeError("You cannot resolve a promise with itself")):function(e){return"function"==typeof e||"object"==typeof e&&null!==e}(t)?E(e,t,M(t)):j(e,t)}function S(e){e._onerror&&e._onerror(e._result),N(e)}function j(e,t){e._state===w&&(e._result=t,e._state=k,0!==e._subscribers.length&&l(N,e))}function O(e,t){e._state===w&&(e._state=A,e._result=t,l(S,e))}function P(e,t,n,r){var a=e._subscribers,o=a.length;e._onerror=null,a[o]=t,a[o+k]=n,a[o+A]=r,0===o&&e._state&&l(N,e)}function N(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,a=void 0,o=e._result,i=0;i<t.length;i+=3)r=t[i],a=t[i+n],r?D(n,r,a,o):a(o);e._subscribers.length=0}}function I(){this.error=null}var L=new I;function D(e,t,r,a){var o=n(r),i=void 0,s=void 0,l=void 0,u=void 0;if(o){if((i=function(e,t){try{return e(t)}catch(e){return L.error=e,L}}(r,a))===L?(u=!0,s=i.error,i=null):l=!0,t===i)return void O(t,new TypeError("A promises callback cannot return that same promise."))}else i=a,l=!0;t._state!==w||(o&&l?C(t,i):u?O(t,s):e===k?j(t,i):e===A&&O(t,i))}var R=0;function z(e){e[_]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}function F(e,t){this._instanceConstructor=e,this.promise=new e(x),this.promise[_]||z(this.promise),r(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&j(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}function B(e){this[_]=R++,this._result=this._state=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof B?function(e,t){try{t(function(t){C(e,t)},function(t){O(e,t)})}catch(t){O(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function U(){var e=void 0;if(void 0!==a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=B}return F.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===w&&n<e;n++)this._eachEntry(t[n],n)},F.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===b){var a=M(e);if(a===y&&e._state!==w)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(n===B){var o=new n(x);E(o,e,a),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},F.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===w&&(this._remaining--,e===A?O(r,n):this._result[t]=n),0===this._remaining&&j(r,this._result)},F.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){return n._settledAt(k,t,e)},function(e){return n._settledAt(A,t,e)})},B.all=function(e){return new F(this,e).promise},B.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var a=e.length,o=0;o<a;o++)t.resolve(e[o]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},B.resolve=b,B.reject=function(e){var t=new this(x);return O(t,e),t},B._setScheduler=function(e){s=e},B._setAsap=function(e){l=e},B._asap=l,B.prototype={constructor:B,then:y,catch:function(e){return this.then(null,e)}},U(),B.polyfill=U,B.Promise=B,B})}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:247}],140:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Symbol:e("./polyfill")},{"./is-implemented":141,"./polyfill":143}],141:[function(e,t,n){"use strict";var r={object:!0,symbol:!0};t.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag]}},{}],142:[function(e,t,n){"use strict";t.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},{}],143:[function(e,t,n){"use strict";var r,a,o,i,s=e("d"),l=e("./validate-symbol"),u=Object.create,c=Object.defineProperties,f=Object.defineProperty,d=Object.prototype,h=u(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),i=!0}catch(e){}}var p=function(){var e=u(null);return function(t){for(var n,r,a=0;e[t+(a||"")];)++a;return e[t+=a||""]=!0,f(d,n="@@"+t,s.gs(null,function(e){r||(r=!0,f(this,n,s(e)),r=!1)})),n}}();o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return a(e)},t.exports=a=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return i?r(t):(n=u(o.prototype),t=void 0===t?"":String(t),c(n,{__description__:s("",t),__name__:s("",p(t))}))},c(a,{for:s(function(e){return h[e]?h[e]:h[e]=a(String(e))}),keyFor:s(function(e){var t;for(t in l(e),h)if(h[t]===e)return t}),hasInstance:s("",r&&r.hasInstance||a("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||a("isConcatSpreadable")),iterator:s("",r&&r.iterator||a("iterator")),match:s("",r&&r.match||a("match")),replace:s("",r&&r.replace||a("replace")),search:s("",r&&r.search||a("search")),species:s("",r&&r.species||a("species")),split:s("",r&&r.split||a("split")),toPrimitive:s("",r&&r.toPrimitive||a("toPrimitive")),toStringTag:s("",r&&r.toStringTag||a("toStringTag")),unscopables:s("",r&&r.unscopables||a("unscopables"))}),c(o.prototype,{constructor:s(a),toString:s("",function(){return this.__name__})}),c(a.prototype,{toString:s(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:s(function(){return l(this)})}),f(a.prototype,a.toPrimitive,s("",function(){var e=l(this);return"symbol"==typeof e?e:e.toString()})),f(a.prototype,a.toStringTag,s("c","Symbol")),f(o.prototype,a.toStringTag,s("c",a.prototype[a.toStringTag])),f(o.prototype,a.toPrimitive,s("c",a.prototype[a.toPrimitive]))},{"./validate-symbol":144,d:84}],144:[function(e,t,n){"use strict";var r=e("./is-symbol");t.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},{"./is-symbol":142}],145:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?WeakMap:e("./polyfill")},{"./is-implemented":146,"./polyfill":148}],146:[function(e,t,n){"use strict";t.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&"function"==typeof e.set&&e.set({},1)===e&&"function"==typeof e.delete&&"function"==typeof e.has&&"one"===e.get(t)}},{}],147:[function(e,t,n){"use strict";t.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},{}],148:[function(e,t,n){"use strict";var r,a=e("es5-ext/object/set-prototype-of"),o=e("es5-ext/object/valid-object"),i=e("es5-ext/object/valid-value"),s=e("es5-ext/string/random-uniq"),l=e("d"),u=e("es6-iterator/get"),c=e("es6-iterator/for-of"),f=e("es6-symbol").toStringTag,d=e("./is-native-implemented"),h=Array.isArray,p=Object.defineProperty,m=Object.prototype.hasOwnProperty,v=Object.getPrototypeOf;t.exports=r=function(){var e,t=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return e=d&&a&&WeakMap!==r?a(new WeakMap,v(this)):this,null!=t&&(h(t)||(t=u(t))),p(e,"__weakMapData__",l("c","$weakMap$"+s())),t?(c(t,function(t){i(t),e.set(t[0],t[1])}),e):e},d&&(a&&a(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:l(r)})),Object.defineProperties(r.prototype,{delete:l(function(e){return!!m.call(o(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)}),get:l(function(e){if(m.call(o(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:l(function(e){return m.call(o(e),this.__weakMapData__)}),set:l(function(e,t){return p(o(e),this.__weakMapData__,l("c",t)),this}),toString:l(function(){return"[object WeakMap]"})}),p(r.prototype,f,l("c","WeakMap"))},{"./is-native-implemented":147,d:84,"es5-ext/object/set-prototype-of":121,"es5-ext/object/valid-object":125,"es5-ext/object/valid-value":126,"es5-ext/string/random-uniq":131,"es6-iterator/for-of":133,"es6-iterator/get":134,"es6-symbol":140}],149:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0==(e=+e)&&function(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}(n))return!1}else if("number"!==t)return!1;return e-e<1}},{}],150:[function(e,t,n){var r=e("dtype");t.exports=function(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var a,o,i,s,l=e[0].length,u=e.length*l;t&&"string"!=typeof t||(t=new(r(t||"float32"))(u+n));var c=t.length-n;if(u!==c)throw new Error("source length "+u+" ("+l+"x"+e.length+") does not match destination length "+c);for(a=0,i=n;a<e.length;a++)for(o=0;o<l;o++)t[i++]=null===e[a][o]?NaN:e[a][o]}else if(t&&"string"!=typeof t)t.set(e,n);else{var f=r(t||"float32");if(Array.isArray(e)||"array"===t)for(t=new f(e.length+n),a=0,i=n,s=t.length;i<s;i++,a++)t[i]=null===e[a]?NaN:e[a];else 0===n?t=new f(e):(t=new f(e.length+n)).set(e,n)}return t}},{dtype:90}],151:[function(e,t,n){"use strict";var r=e("css-font/stringify"),a=[32,126];t.exports=function(e){var t=(e=e||{}).shape?e.shape:e.canvas?[e.canvas.width,e.canvas.height]:[512,512],n=e.canvas||document.createElement("canvas"),o=e.font,i="number"==typeof e.step?[e.step,e.step]:e.step||[32,32],s=e.chars||a;if(o&&"string"!=typeof o&&(o=r(o)),Array.isArray(s)){if(2===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]){for(var l=[],u=s[0],c=0;u<=s[1];u++)l[c++]=String.fromCharCode(u);s=l}}else s=String(s).split("");t=t.slice(),n.width=t[0],n.height=t[1];var f=n.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,n.width,n.height),f.font=o,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var d=i[0]/2,h=i[1]/2,u=0;u<s.length;u++)f.fillText(s[u],d,h),(d+=i[0])>t[0]-i[0]/2&&(d=i[0]/2,h+=i[1]);return n}},{"css-font/stringify":76}],152:[function(e,t,n){"use strict";function r(e,t){t||(t={}),("string"==typeof e||Array.isArray(e))&&(t.family=e);var n=Array.isArray(t.family)?t.family.join(", "):t.family;if(!n)throw Error("`family` must be defined");var s=t.size||t.fontSize||t.em||48,l=t.weight||t.fontWeight||"",u=t.style||t.fontStyle||"",e=[u,l,s].join(" ")+"px "+n,c=t.origin||"top";if(r.cache[n]&&s<=r.cache[n].em)return a(r.cache[n],c);var f=t.canvas||r.canvas,d=f.getContext("2d"),h={upper:void 0!==t.upper?t.upper:"H",lower:void 0!==t.lower?t.lower:"x",descent:void 0!==t.descent?t.descent:"p",ascent:void 0!==t.ascent?t.ascent:"h",tittle:void 0!==t.tittle?t.tittle:"i",overshoot:void 0!==t.overshoot?t.overshoot:"O"},p=Math.ceil(1.5*s);f.height=p,f.width=.5*p,d.font=e;var m={top:0};d.clearRect(0,0,p,p),d.textBaseline="top",d.fillStyle="black",d.fillText("H",0,0);var v=o(d.getImageData(0,0,p,p));d.clearRect(0,0,p,p),d.textBaseline="bottom",d.fillText("H",0,p);var g=o(d.getImageData(0,0,p,p));m.lineHeight=m.bottom=p-g+v,d.clearRect(0,0,p,p),d.textBaseline="alphabetic",d.fillText("H",0,p);var y=o(d.getImageData(0,0,p,p)),b=p-y-1+v;m.baseline=m.alphabetic=b,d.clearRect(0,0,p,p),d.textBaseline="middle",d.fillText("H",0,.5*p);var _=o(d.getImageData(0,0,p,p));m.median=m.middle=p-_-1+v-.5*p,d.clearRect(0,0,p,p),d.textBaseline="hanging",d.fillText("H",0,.5*p);var x=o(d.getImageData(0,0,p,p));m.hanging=p-x-1+v-.5*p,d.clearRect(0,0,p,p),d.textBaseline="ideographic",d.fillText("H",0,p);var w=o(d.getImageData(0,0,p,p));if(m.ideographic=p-w-1+v,h.upper&&(d.clearRect(0,0,p,p),d.textBaseline="top",d.fillText(h.upper,0,0),m.upper=o(d.getImageData(0,0,p,p)),m.capHeight=m.baseline-m.upper),h.lower&&(d.clearRect(0,0,p,p),d.textBaseline="top",d.fillText(h.lower,0,0),m.lower=o(d.getImageData(0,0,p,p)),m.xHeight=m.baseline-m.lower),h.tittle&&(d.clearRect(0,0,p,p),d.textBaseline="top",d.fillText(h.tittle,0,0),m.tittle=o(d.getImageData(0,0,p,p))),h.ascent&&(d.clearRect(0,0,p,p),d.textBaseline="top",d.fillText(h.ascent,0,0),m.ascent=o(d.getImageData(0,0,p,p))),h.descent&&(d.clearRect(0,0,p,p),d.textBaseline="top",d.fillText(h.descent,0,0),m.descent=i(d.getImageData(0,0,p,p))),h.overshoot){d.clearRect(0,0,p,p),d.textBaseline="top",d.fillText(h.overshoot,0,0);var k=i(d.getImageData(0,0,p,p));m.overshoot=k-b}for(var A in m)m[A]/=s;return m.em=s,r.cache[n]=m,a(m,c)}function a(e,t){var n={};for(var r in"string"==typeof t&&(t=e[t]),e)"em"!==r&&(n[r]=e[r]-t);return n}function o(e){for(var t=e.height,n=e.data,r=3;r<n.length;r+=4)if(0!==n[r])return Math.floor(.25*(r-3)/t)}function i(e){for(var t=e.height,n=e.data,r=n.length-1;r>0;r-=4)if(0!==n[r])return Math.floor(.25*(r-3)/t)}t.exports=r,r.canvas=document.createElement("canvas"),r.cache={}},{}],153:[function(e,t,n){"use strict";t.exports=function(e){return new u(e||p,null)};var r=0,a=1;function o(e,t,n,r,a,o){this._color=e,this.key=t,this.value=n,this.left=r,this.right=a,this._count=o}function i(e){return new o(e._color,e.key,e.value,e.left,e.right,e._count)}function s(e,t){return new o(e,t.key,t.value,t.left,t.right,t._count)}function l(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function u(e,t){this._compare=e,this.root=t}var c=u.prototype;function f(e,t){this.tree=e,this._stack=t}Object.defineProperty(c,"keys",{get:function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e}}),Object.defineProperty(c,"values",{get:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e}}),Object.defineProperty(c,"length",{get:function(){return this.root?this.root._count:0}}),c.insert=function(e,t){for(var n=this._compare,i=this.root,c=[],f=[];i;){var d=n(e,i.key);c.push(i),f.push(d),i=d<=0?i.left:i.right}c.push(new o(r,e,t,null,null,1));for(var h=c.length-2;h>=0;--h){var i=c[h];f[h]<=0?c[h]=new o(i._color,i.key,i.value,c[h+1],i.right,i._count+1):c[h]=new o(i._color,i.key,i.value,i.left,c[h+1],i._count+1)}for(var h=c.length-1;h>1;--h){var p=c[h-1],i=c[h];if(p._color===a||i._color===a)break;var m=c[h-2];if(m.left===p)if(p.left===i){var v=m.right;if(!v||v._color!==r){if(m._color=r,m.left=p.right,p._color=a,p.right=m,c[h-2]=p,c[h-1]=i,l(m),l(p),h>=3){var g=c[h-3];g.left===m?g.left=p:g.right=p}break}p._color=a,m.right=s(a,v),m._color=r,h-=1}else{var v=m.right;if(!v||v._color!==r){if(p.right=i.left,m._color=r,m.left=i.right,i._color=a,i.left=p,i.right=m,c[h-2]=i,c[h-1]=p,l(m),l(p),l(i),h>=3){var g=c[h-3];g.left===m?g.left=i:g.right=i}break}p._color=a,m.right=s(a,v),m._color=r,h-=1}else if(p.right===i){var v=m.left;if(!v||v._color!==r){if(m._color=r,m.right=p.left,p._color=a,p.left=m,c[h-2]=p,c[h-1]=i,l(m),l(p),h>=3){var g=c[h-3];g.right===m?g.right=p:g.left=p}break}p._color=a,m.left=s(a,v),m._color=r,h-=1}else{var v=m.left;if(!v||v._color!==r){if(p.left=i.right,m._color=r,m.right=i.left,i._color=a,i.right=p,i.left=m,c[h-2]=i,c[h-1]=p,l(m),l(p),l(i),h>=3){var g=c[h-3];g.right===m?g.right=i:g.left=i}break}p._color=a,m.left=s(a,v),m._color=r,h-=1}}return c[0]._color=a,new u(n,c[0])},c.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return function e(t,n){if(n.left){var r=e(t,n.left);if(r)return r}var r=t(n.key,n.value);return r||(n.right?e(t,n.right):void 0)}(e,this.root);case 2:return function e(t,n,r,a){var o=n(t,a.key);if(o<=0){if(a.left){var i=e(t,n,r,a.left);if(i)return i}var i=r(a.key,a.value);if(i)return i}if(a.right)return e(t,n,r,a.right)}(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return function e(t,n,r,a,o){var i,s=r(t,o.key),l=r(n,o.key);if(s<=0){if(o.left&&(i=e(t,n,r,a,o.left)))return i;if(l>0&&(i=a(o.key,o.value)))return i}if(l>0&&o.right)return e(t,n,r,a,o.right)}(t,n,this._compare,e,this.root)}},Object.defineProperty(c,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new f(this,e)}}),Object.defineProperty(c,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new f(this,e)}}),c.at=function(e){if(e<0)return new f(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new f(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new f(this,[])},c.ge=function(e){for(var t=this._compare,n=this.root,r=[],a=0;n;){var o=t(e,n.key);r.push(n),o<=0&&(a=r.length),n=o<=0?n.left:n.right}return r.length=a,new f(this,r)},c.gt=function(e){for(var t=this._compare,n=this.root,r=[],a=0;n;){var o=t(e,n.key);r.push(n),o<0&&(a=r.length),n=o<0?n.left:n.right}return r.length=a,new f(this,r)},c.lt=function(e){for(var t=this._compare,n=this.root,r=[],a=0;n;){var o=t(e,n.key);r.push(n),o>0&&(a=r.length),n=o<=0?n.left:n.right}return r.length=a,new f(this,r)},c.le=function(e){for(var t=this._compare,n=this.root,r=[],a=0;n;){var o=t(e,n.key);r.push(n),o>=0&&(a=r.length),n=o<0?n.left:n.right}return r.length=a,new f(this,r)},c.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var a=t(e,n.key);if(r.push(n),0===a)return new f(this,r);n=a<=0?n.left:n.right}return new f(this,[])},c.remove=function(e){var t=this.find(e);return t?t.remove():this},c.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var d=f.prototype;function h(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function p(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(d,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(d,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),d.clone=function(){return new f(this.tree,this._stack.slice())},d.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var t=new Array(e.length),n=e[e.length-1];t[t.length-1]=new o(n._color,n.key,n.value,n.left,n.right,n._count);for(var c=e.length-2;c>=0;--c){var n=e[c];n.left===e[c+1]?t[c]=new o(n._color,n.key,n.value,t[c+1],n.right,n._count):t[c]=new o(n._color,n.key,n.value,n.left,t[c+1],n._count)}if((n=t[t.length-1]).left&&n.right){var f=t.length;for(n=n.left;n.right;)t.push(n),n=n.right;var d=t[f-1];t.push(new o(n._color,d.key,d.value,n.left,n.right,n._count)),t[f-1].key=n.key,t[f-1].value=n.value;for(var c=t.length-2;c>=f;--c)n=t[c],t[c]=new o(n._color,n.key,n.value,n.left,t[c+1],n._count);t[f-1].left=t[f]}if((n=t[t.length-1])._color===r){var p=t[t.length-2];p.left===n?p.left=null:p.right===n&&(p.right=null),t.pop();for(var c=0;c<t.length;++c)t[c]._count--;return new u(this.tree._compare,t[0])}if(n.left||n.right){n.left?h(n,n.left):n.right&&h(n,n.right),n._color=a;for(var c=0;c<t.length-1;++c)t[c]._count--;return new u(this.tree._compare,t[0])}if(1===t.length)return new u(this.tree._compare,null);for(var c=0;c<t.length;++c)t[c]._count--;var m=t[t.length-2];return function(e){for(var t,n,o,u,c=e.length-1;c>=0;--c){if(t=e[c],0===c)return void(t._color=a);if((n=e[c-1]).left===t){if((o=n.right).right&&o.right._color===r){if(o=n.right=i(o),u=o.right=i(o.right),n.right=o.left,o.left=n,o.right=u,o._color=n._color,t._color=a,n._color=a,u._color=a,l(n),l(o),c>1){var f=e[c-2];f.left===n?f.left=o:f.right=o}return void(e[c-1]=o)}if(o.left&&o.left._color===r){if(o=n.right=i(o),u=o.left=i(o.left),n.right=u.left,o.left=u.right,u.left=n,u.right=o,u._color=n._color,n._color=a,o._color=a,t._color=a,l(n),l(o),l(u),c>1){var f=e[c-2];f.left===n?f.left=u:f.right=u}return void(e[c-1]=u)}if(o._color===a){if(n._color===r)return n._color=a,void(n.right=s(r,o));n.right=s(r,o);continue}if(o=i(o),n.right=o.left,o.left=n,o._color=n._color,n._color=r,l(n),l(o),c>1){var f=e[c-2];f.left===n?f.left=o:f.right=o}e[c-1]=o,e[c]=n,c+1<e.length?e[c+1]=t:e.push(t),c+=2}else{if((o=n.left).left&&o.left._color===r){if(o=n.left=i(o),u=o.left=i(o.left),n.left=o.right,o.right=n,o.left=u,o._color=n._color,t._color=a,n._color=a,u._color=a,l(n),l(o),c>1){var f=e[c-2];f.right===n?f.right=o:f.left=o}return void(e[c-1]=o)}if(o.right&&o.right._color===r){if(o=n.left=i(o),u=o.right=i(o.right),n.left=u.right,o.right=u.left,u.right=n,u.left=o,u._color=n._color,n._color=a,o._color=a,t._color=a,l(n),l(o),l(u),c>1){var f=e[c-2];f.right===n?f.right=u:f.left=u}return void(e[c-1]=u)}if(o._color===a){if(n._color===r)return n._color=a,void(n.left=s(r,o));n.left=s(r,o);continue}if(o=i(o),n.left=o.right,o.right=n,o._color=n._color,n._color=r,l(n),l(o),c>1){var f=e[c-2];f.right===n?f.right=o:f.left=o}e[c-1]=o,e[c]=n,c+1<e.length?e[c+1]=t:e.push(t),c+=2}}}(t),m.left===n?m.left=null:m.right=null,new u(this.tree._compare,t[0])},Object.defineProperty(d,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(d,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(d,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),d.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(d,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),d.update=function(e){var t=this._stack;if(0===t.length)throw new Error("Can't update empty node!");var n=new Array(t.length),r=t[t.length-1];n[n.length-1]=new o(r._color,r.key,e,r.left,r.right,r._count);for(var a=t.length-2;a>=0;--a)(r=t[a]).left===t[a+1]?n[a]=new o(r._color,r.key,r.value,n[a+1],r.right,r._count):n[a]=new o(r._color,r.key,r.value,r.left,n[a+1],r._count);return new u(this.tree._compare,n[0])},d.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(d,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},{}],154:[function(e,t,n){var r=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],a=607/128,o=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function i(e){if(e<0)return Number("0/0");for(var t=o[0],n=o.length-1;n>0;--n)t+=o[n]/(e+n);var r=e+a+.5;return.5*Math.log(2*Math.PI)+(e+.5)*Math.log(r)-r+Math.log(t)-Math.log(e)}t.exports=function e(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*e(1-t));if(t>100)return Math.exp(i(t));t-=1;for(var n=r[0],a=1;a<9;a++)n+=r[a]/(t+a);var o=t+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*n},t.exports.log=i},{}],155:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("must specify type string");if(t=t||{},"undefined"==typeof document&&!t.canvas)return null;var n=t.canvas||document.createElement("canvas");"number"==typeof t.width&&(n.width=t.width),"number"==typeof t.height&&(n.height=t.height);var r,a=t;try{var o=[e];0===e.indexOf("webgl")&&o.push("experimental-"+e);for(var i=0;i<o.length;i++)if(r=n.getContext(o[i],a))return r}catch(e){r=null}return r||null}},{}],156:[function(e,t,n){"use strict";var r=e("typedarray-pool"),a=e("ndarray-ops"),o=e("ndarray"),i=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(e,t,n,r,a){this.gl=e,this.type=t,this.handle=n,this.length=r,this.usage=a}var l=s.prototype;function u(e,t,n,r,a,o){var i=a.length*a.BYTES_PER_ELEMENT;if(o<0)return e.bufferData(t,a,r),i;if(i+o>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return e.bufferSubData(t,o,a),n}function c(e,t){for(var n=r.malloc(e.length,t),a=e.length,o=0;o<a;++o)n[o]=e[o];return n}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(e,t){if("number"!=typeof t&&(t=-1),this.bind(),"object"==typeof e&&void 0!==e.shape){var n=e.dtype;if(i.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var s=gl.getExtension("OES_element_index_uint");n=s&&"uint16"!==n?"uint32":"uint16"}if(n===e.dtype&&function(e,t){for(var n=1,r=t.length-1;r>=0;--r){if(t[r]!==n)return!1;n*=e[r]}return!0}(e.shape,e.stride))0===e.offset&&e.data.length===e.shape[0]?this.length=u(this.gl,this.type,this.length,this.usage,e.data,t):this.length=u(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var l=r.malloc(e.size,n),f=o(l,e.shape);a.assign(f,e),this.length=u(this.gl,this.type,this.length,this.usage,t<0?l:l.subarray(0,e.size),t),r.free(l)}}else if(Array.isArray(e)){var d;d=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(e,"uint16"):c(e,"float32"),this.length=u(this.gl,this.type,this.length,this.usage,t<0?d:d.subarray(0,e.length),t),r.free(d)}else if("object"==typeof e&&"number"==typeof e.length)this.length=u(this.gl,this.type,this.length,this.usage,e,t);else{if("number"!=typeof e&&void 0!==e)throw new Error("gl-buffer: Invalid data type");if(t>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(e|=0)<=0&&(e=1),this.gl.bufferData(this.type,0|e,this.usage),this.length=e}},t.exports=function(e,t,n,r){if(n=n||e.ARRAY_BUFFER,r=r||e.DYNAMIC_DRAW,n!==e.ARRAY_BUFFER&&n!==e.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==e.DYNAMIC_DRAW&&r!==e.STATIC_DRAW&&r!==e.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var a=e.createBuffer(),o=new s(e,n,a,0,r);return o.update(t),o}},{ndarray:219,"ndarray-ops":218,"typedarray-pool":289}],157:[function(e,t,n){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34000:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],158:[function(e,t,n){var r=e("./1.0/numbers");t.exports=function(e){return r[e]}},{"./1.0/numbers":157}],159:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.gl,r=a(n,f.vertex,f.fragment),i=a(n,f.fillVertex,f.fragment),s=o(n),l=o(n),u=o(n),c=o(n),h=o(n),p=new d(e,r,i,s,l,u,c,h);return p.update(t),e.addObject(p),p};var r=e("iota-array"),a=e("gl-shader"),o=e("gl-buffer"),i=e("ndarray"),s=e("surface-nets"),l=e("cdt2d"),u=e("clean-pslg"),c=e("binary-search-bounds"),f=e("./lib/shaders");function d(e,t,n,r,a,o,i,s){this.plot=e,this.shader=t,this.fillShader=n,this.positionBuffer=r,this.colorBuffer=a,this.idBuffer=o,this.fillPositionBuffer=i,this.fillColorBuffer=s,this.fillVerts=0,this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.numVertices=0,this.lineWidth=1}var h=d.prototype,p=[1,0,0,0,0,1,1,0,1,1,0,1];function m(e,t){var n=Math.floor(t);if(n<0)return e[0];if(n>=e.length-1)return e[e.length-1];var r=t-n;return(1-r)*e[n]+r*e[n+1]}h.draw=function(){var e=[1,0,0,0,1,0,0,0,1],t=[0,0];return function(){var n,r,a=this.plot,o=this.shader,i=this.fillShader,s=this.bounds,l=this.numVertices,u=this.fillVerts,c=a.gl,f=a.viewBox,d=a.dataBox,h=s[2]-s[0],p=s[3]-s[1],m=d[2]-d[0],v=d[3]-d[1];if(e[0]=2*h/m,e[4]=2*p/v,e[6]=2*(s[0]-d[0])/m-1,e[7]=2*(s[1]-d[1])/v-1,t[0]=f[2]-f[0],t[1]=f[3]-f[1],u>0&&(i.bind(),(n=i.uniforms).viewTransform=e,n.screenShape=t,r=o.attributes,this.fillPositionBuffer.bind(),r.position.pointer(),this.fillColorBuffer.bind(),r.color.pointer(c.UNSIGNED_BYTE,!0),c.drawArrays(c.TRIANGLES,0,u)),l>0){o.bind();var g=this.lineWidth*a.pixelRatio;(n=o.uniforms).viewTransform=e,n.screenShape=t,n.lineWidth=g,n.pointSize=1e3,r=o.attributes,this.positionBuffer.bind(),r.position.pointer(c.FLOAT,!1,16,0),r.tangent.pointer(c.FLOAT,!1,16,8),this.colorBuffer.bind(),r.color.pointer(c.UNSIGNED_BYTE,!0),c.drawArrays(c.TRIANGLES,0,l),n.lineWidth=0,n.pointSize=g,this.positionBuffer.bind(),r.position.pointer(c.FLOAT,!1,48,0),r.tangent.pointer(c.FLOAT,!1,48,8),this.colorBuffer.bind(),r.color.pointer(c.UNSIGNED_BYTE,!0,12,0),c.drawArrays(c.POINTS,0,l/3)}}}(),h.drawPick=function(e){return e},h.pick=function(e,t,n){return null},h.update=function(e){var t=(e=e||{}).shape||[0,0],n=e.x||r(t[0]),a=e.y||r(t[1]),o=e.z||new Float32Array(t[0]*t[1]),f=e.levels||[],d=e.levelColors||[],h=this.bounds,v=h[0]=n[0],g=h[1]=a[0],y=h[2]=n[n.length-1],b=h[3]=a[a.length-1];v===y&&(h[2]+=1,y+=1),g===b&&(h[3]+=1,b+=1);var _=1/(y-v),x=1/(b-g);this.lineWidth=e.lineWidth||1;var w=i(o,t),k=[],A=[],T=[],M=[],E=[[0,0],[t[0]-1,0],[0,t[1]-1],[t[0]-1,t[1]-1]];function C(e,t,n,r){var a=r-n;return Math.abs(a)<1e-6?t:Math.floor(t)+Math.max(.001,Math.min(.999,(e-n)/a))}for(var S=0;S<f.length;++S){var j=f[S];if(!(S>0&&j===f[S-1])){for(var O=s(w,j),P=255*d[4*S]|0,N=255*d[4*S+1]|0,I=255*d[4*S+2]|0,L=255*d[4*S+3]|0,D=O.cells,R=O.positions,z=Array(R.length),F=0;F<z.length;++F)z[F]=0;for(F=0;F<D.length;++F){var B=D[F];z[B[0]]+=1,z[B[1]]+=1}for(F=0;F<z.length;++F){var U=z[F];if(0!==U){var H=R[F];if(z[F]=E.length,E.push(H),!(U>1)){var q,V=H[0],W=H[1],G=w.get(Math.floor(V),Math.floor(W)),X=w.get(Math.floor(V),Math.ceil(W)),Y=w.get(Math.ceil(V),Math.floor(W)),K=w.get(Math.ceil(V),Math.ceil(W));0===Math.floor(H[0])&&G<=j!=X<j?q=[0,C(j,H[1],G,X)]:Math.ceil(H[0])===t[0]-1&&Y<=j!=K<j?q=[t[0]-1,C(j,H[1],Y,K)]:0===Math.floor(H[1])&&G<=j!=Y<j?q=[C(j,H[0],G,Y),0]:Math.ceil(H[1])===t[1]-1&&X<=j!=K<j&&(q=[C(j,H[0],X,K),t[1]-1]),q&&(D.push([F,R.length]),z.push(E.length),R.push(q))}}}for(F=0;F<D.length;++F){var Z=D[F],J=R[Z[0]],Q=R[Z[1]];M.push([z[Z[0]],z[Z[1]]]);for(var $=Math.round(J[0])+t[0]*Math.round(J[1]),ee=m(n,J[0]),te=m(a,J[1]),ne=m(n,Q[0]),re=m(a,Q[1]),ae=(ee=_*(ee-v))-(ne=_*(ne-v)),oe=(te=x*(te-g))-(re=x*(re-g)),ie=0;ie<p.length;ie+=2){var se=p[ie],le=1-se,ue=2*p[ie+1]-1;k.push(le*ee+se*ne,le*te+se*re,ue*ae,ue*oe),A.push(P,N,I,L),T.push($)}}}}this.positionBuffer.update(new Float32Array(k)),this.colorBuffer.update(new Uint8Array(A)),this.idBuffer.update(new Uint32Array(T)),this.numVertices=T.length;var ce=e.fillColors,fe=[],de=[],he=0;if(ce){u(E,M);var pe=l(E,M,{delaunay:!1});for(S=0;S<pe.length;++S){var me=pe[S],ve=0,ge=0;for(F=0;F<3;++F){var ye=E[me[F]],be=m(n,ye[0]),_e=m(a,ye[1]);ve+=ye[0],ge+=ye[1],de.push(_*(be-v),x*(_e-g))}ve/=3,ge/=3;var xe=Math.floor(ve),we=Math.floor(ge),ke=ve-xe,Ae=ge-we,Te=w.get(xe,we),Me=w.get(xe,we+1),Ee=w.get(xe+1,we),Ce=w.get(xe+1,we+1),Se=(1-Ae)*((1-ke)*Te+ke*Ee)+Ae*((1-ke)*Me+ke*Ce),je=c.le(f,Se)+1,Oe=255*ce[4*je+0]|0,Pe=255*ce[4*je+1]|0,Ne=255*ce[4*je+2]|0,Ie=255*ce[4*je+3]|0;fe.push(Oe,Pe,Ne,Ie,Oe,Pe,Ne,Ie,Oe,Pe,Ne,Ie),he+=3}this.fillPositionBuffer.update(new Float32Array(de)),this.fillColorBuffer.update(new Uint8Array(fe)),this.fillVerts=he}},h.dispose=function(){this.plot.removeObject(this)}},{"./lib/shaders":160,"binary-search-bounds":161,cdt2d:52,"clean-pslg":59,"gl-buffer":156,"gl-shader":180,"iota-array":205,ndarray:219,"surface-nets":277}],160:[function(e,t,n){"use strict";var r=e("glslify");t.exports={fragment:r(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec2 tangent;\nattribute vec4 color;\n\nuniform mat3 viewTransform;\nuniform vec2 screenShape;\nuniform float lineWidth;\nuniform float pointSize;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  fragColor = color;\n\n  vec3 vPosition = viewTransform * vec3(position, 1.0);\n  vec2 vTangent = normalize(viewTransform * vec3(tangent, 0)).xy;\n  vec2 offset = vec2(vTangent.y, -vTangent.x) / screenShape;\n\n  gl_Position = vec4(\n    vPosition.xy + offset * lineWidth * vPosition.z,\n    0,\n    vPosition.z);\n\n  gl_PointSize = pointSize;\n}\n"]),fillVertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\n\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  fragColor = color;\n  vec3 vPosition = viewTransform * vec3(position, 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},{glslify:199}],161:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],162:[function(e,t,n){"use strict";var r=e("gl-texture2d");t.exports=function(e,t,n,r){a||(a=e.FRAMEBUFFER_UNSUPPORTED,o=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,i=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var u=e.getExtension("WEBGL_draw_buffers");if(!l&&u&&function(e,t){var n=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(n+1);for(var r=0;r<=n;++r){for(var a=new Array(n),o=0;o<r;++o)a[o]=e.COLOR_ATTACHMENT0+o;for(var o=r;o<n;++o)a[o]=e.NONE;l[r]=a}}(e,u),Array.isArray(t)&&(r=n,n=0|t[1],t=0|t[0]),"number"!=typeof t)throw new Error("gl-fbo: Missing shape parameter");var c=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>c||n<0||n>c)throw new Error("gl-fbo: Parameters are too large for FBO");var f=1;if("color"in(r=r||{})){if((f=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(f>1){if(!u)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(f>e.getParameter(u.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+f+" draw buffers")}}var d=e.UNSIGNED_BYTE,h=e.getExtension("OES_texture_float");if(r.float&&f>0){if(!h)throw new Error("gl-fbo: Context does not support floating point textures");d=e.FLOAT}else r.preferFloat&&f>0&&h&&(d=e.FLOAT);var m=!0;"depth"in r&&(m=!!r.depth);var v=!1;return"stencil"in r&&(v=!!r.stencil),new p(e,t,n,d,f,m,v,u)};var a,o,i,s,l=null;function u(e){var t=e.getParameter(e.FRAMEBUFFER_BINDING),n=e.getParameter(e.RENDERBUFFER_BINDING),r=e.getParameter(e.TEXTURE_BINDING_2D);return[t,n,r]}function c(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function f(e){switch(e){case a:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case i:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function d(e,t,n,a,o,i){if(!a)return null;var s=r(e,t,n,o,a);return s.magFilter=e.NEAREST,s.minFilter=e.NEAREST,s.mipSamples=1,s.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,i,e.TEXTURE_2D,s.handle,0),s}function h(e,t,n,r,a){var o=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,r,t,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,a,e.RENDERBUFFER,o),o}function p(e,t,n,r,a,o,i,s){this.gl=e,this._shape=[0|t,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(a);for(var p=0;p<a;++p)this.color[p]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=o,this._useStencil=i;var m=this,v=[0|t,0|n];Object.defineProperties(v,{0:{get:function(){return m._shape[0]},set:function(e){return m.width=e}},1:{get:function(){return m._shape[1]},set:function(e){return m.height=e}}}),this._shapeVector=v,function(e){var t=u(e.gl),n=e.gl,r=e.handle=n.createFramebuffer(),a=e._shape[0],o=e._shape[1],i=e.color.length,s=e._ext,p=e._useStencil,m=e._useDepth,v=e._colorType;n.bindFramebuffer(n.FRAMEBUFFER,r);for(var g=0;g<i;++g)e.color[g]=d(n,a,o,v,n.RGBA,n.COLOR_ATTACHMENT0+g);0===i?(e._color_rb=h(n,a,o,n.RGBA4,n.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(l[0])):i>1&&s.drawBuffersWEBGL(l[i]);var y=n.getExtension("WEBGL_depth_texture");y?p?e.depth=d(n,a,o,y.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):m&&(e.depth=d(n,a,o,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):m&&p?e._depth_rb=h(n,a,o,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):m?e._depth_rb=h(n,a,o,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):p&&(e._depth_rb=h(n,a,o,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){e._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(e.handle),e.handle=null,e.depth&&(e.depth.dispose(),e.depth=null),e._depth_rb&&(n.deleteRenderbuffer(e._depth_rb),e._depth_rb=null);for(var g=0;g<e.color.length;++g)e.color[g].dispose(),e.color[g]=null;e._color_rb&&(n.deleteRenderbuffer(e._color_rb),e._color_rb=null),c(n,t),f(b)}c(n,t)}(this)}var m=p.prototype;function v(e,t,n){if(e._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(e._shape[0]!==t||e._shape[1]!==n){var r=e.gl,a=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(t<0||t>a||n<0||n>a)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");e._shape[0]=t,e._shape[1]=n;for(var o=u(r),i=0;i<e.color.length;++i)e.color[i].shape=e._shape;e._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,e._shape[0],e._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,e.handle);var s=r.checkFramebufferStatus(r.FRAMEBUFFER);s!==r.FRAMEBUFFER_COMPLETE&&(e.dispose(),c(r,o),f(s)),c(r,o)}}Object.defineProperties(m,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[0|e,0|e]),2!==e.length)throw new Error("gl-fbo: Shape vector must be length 2");var t=0|e[0],n=0|e[1];return v(this,t,n),[t,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return v(this,e|=0,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e|=0,v(this,this._shape[0],e),e},enumerable:!1}}),m.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},m.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(e.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(e.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":189}],163:[function(e,t,n){var r=e("sprintf-js").sprintf,a=e("gl-constants/lookup"),o=e("glsl-shader-name"),i=e("add-line-numbers");t.exports=function(e,t,n){"use strict";var s=o(t)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==n&&(l=n===a.FRAGMENT_SHADER?"fragment":"vertex");for(var u=r("Error compiling %s shader %s:\n",l,s),c=r("%s%s",u,e),f=e.split("\n"),d={},h=0;h<f.length;h++){var p=f[h];if(""!==p&&"\0"!==p){var m=parseInt(p.split(":")[2]);if(isNaN(m))throw new Error(r("Could not parse error: %s",p));d[m]=p}}for(var v=i(t).split("\n"),h=0;h<v.length;h++)if(d[h+3]||d[h+2]||d[h+1]){var g=v[h];if(u+=g+"\n",d[h+1]){var y=d[h+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),u+=r("^^^ %s\n\n",y)}}return{long:u.trim(),short:c.trim()}}},{"add-line-numbers":12,"gl-constants/lookup":158,"glsl-shader-name":191,"sprintf-js":274}],164:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.gl,r=i(n,l.vertex,l.fragment),a=i(n,l.pickVertex,l.pickFragment),o=s(n),c=s(n),f=s(n),d=s(n),h=new u(e,r,a,o,c,f,d);return h.update(t),e.addObject(h),h};var r=e("binary-search-bounds"),a=e("iota-array"),o=e("typedarray-pool"),i=e("gl-shader"),s=e("gl-buffer"),l=e("./lib/shaders");function u(e,t,n,r,a,o,i){this.plot=e,this.shader=t,this.pickShader=n,this.positionBuffer=r,this.weightBuffer=a,this.colorBuffer=o,this.idBuffer=i,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=u.prototype,f=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var e=[1,0,0,0,1,0,0,0,1];return function(){var t=this.plot,n=this.shader,r=this.bounds,a=this.numVertices;if(!(a<=0)){var o=t.gl,i=t.dataBox,s=r[2]-r[0],l=r[3]-r[1],u=i[2]-i[0],c=i[3]-i[1];e[0]=2*s/u,e[4]=2*l/c,e[6]=2*(r[0]-i[0])/u-1,e[7]=2*(r[1]-i[1])/c-1,n.bind();var f=n.uniforms;f.viewTransform=e,f.shape=this.shape;var d=n.attributes;this.positionBuffer.bind(),d.position.pointer(),this.weightBuffer.bind(),d.weight.pointer(o.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),d.color.pointer(o.UNSIGNED_BYTE,!0),o.drawArrays(o.TRIANGLES,0,a)}}}(),c.drawPick=function(){var e=[1,0,0,0,1,0,0,0,1],t=[0,0,0,0];return function(n){var r=this.plot,a=this.pickShader,o=this.bounds,i=this.numVertices;if(!(i<=0)){var s=r.gl,l=r.dataBox,u=o[2]-o[0],c=o[3]-o[1],f=l[2]-l[0],d=l[3]-l[1];e[0]=2*u/f,e[4]=2*c/d,e[6]=2*(o[0]-l[0])/f-1,e[7]=2*(o[1]-l[1])/d-1;for(var h=0;h<4;++h)t[h]=n>>8*h&255;this.pickOffset=n,a.bind();var p=a.uniforms;p.viewTransform=e,p.pickOffset=t,p.shape=this.shape;var m=a.attributes;return this.positionBuffer.bind(),m.position.pointer(),this.weightBuffer.bind(),m.weight.pointer(s.UNSIGNED_BYTE,!1),this.idBuffer.bind(),m.pickId.pointer(s.UNSIGNED_BYTE,!1),s.drawArrays(s.TRIANGLES,0,i),n+this.shape[0]*this.shape[1]}}}(),c.pick=function(e,t,n){var r=this.pickOffset,a=this.shape[0]*this.shape[1];if(n<r||n>=r+a)return null;var o=n-r,i=this.xData,s=this.yData;return{object:this,pointId:o,dataCoord:[i[o%this.shape[0]],s[o/this.shape[0]|0]]}},c.update=function(e){var t=(e=e||{}).shape||[0,0],n=e.x||a(t[0]),i=e.y||a(t[1]),s=e.z||new Float32Array(t[0]*t[1]);this.xData=n,this.yData=i;var l=e.colorLevels||[0],u=e.colorValues||[0,0,0,1],c=l.length,d=this.bounds,h=d[0]=n[0],p=d[1]=i[0],m=d[2]=n[n.length-1],v=d[3]=i[i.length-1],g=1/(m-h),y=1/(v-p),b=t[0],_=t[1];this.shape=[b,_];var x=(b-1)*(_-1)*(f.length>>>1);this.numVertices=x;for(var w=o.mallocUint8(4*x),k=o.mallocFloat32(2*x),A=o.mallocUint8(2*x),T=o.mallocUint32(x),M=0,E=0;E<_-1;++E)for(var C=y*(i[E]-p),S=y*(i[E+1]-p),j=0;j<b-1;++j)for(var O=g*(n[j]-h),P=g*(n[j+1]-h),N=0;N<f.length;N+=2){var I,L,D,R,z=f[N],F=f[N+1],B=(E+F)*b+(j+z),U=s[B],H=r.le(l,U);if(H<0)I=u[0],L=u[1],D=u[2],R=u[3];else if(H===c-1)I=u[4*c-4],L=u[4*c-3],D=u[4*c-2],R=u[4*c-1];else{var q=(U-l[H])/(l[H+1]-l[H]),V=1-q,W=4*H,G=4*(H+1);I=V*u[W]+q*u[G],L=V*u[W+1]+q*u[G+1],D=V*u[W+2]+q*u[G+2],R=V*u[W+3]+q*u[G+3]}w[4*M]=255*I,w[4*M+1]=255*L,w[4*M+2]=255*D,w[4*M+3]=255*R,k[2*M]=.5*O+.5*P,k[2*M+1]=.5*C+.5*S,A[2*M]=z,A[2*M+1]=F,T[M]=E*b+j,M+=1}this.positionBuffer.update(k),this.weightBuffer.update(A),this.colorBuffer.update(w),this.idBuffer.update(T),o.free(k),o.free(w),o.free(A),o.free(T)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},{"./lib/shaders":165,"binary-search-bounds":166,"gl-buffer":156,"gl-shader":180,"iota-array":205,"typedarray-pool":289}],165:[function(e,t,n){"use strict";var r=e("glslify");t.exports={fragment:r(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},{glslify:199}],166:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],167:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n+n,s=r+r,l=a+a,u=n*i,c=r*i,f=r*s,d=a*i,h=a*s,p=a*l,m=o*i,v=o*s,g=o*l;return e[0]=1-f-p,e[1]=c+g,e[2]=d-v,e[3]=0,e[4]=c-g,e[5]=1-u-p,e[6]=h+m,e[7]=0,e[8]=d+v,e[9]=h-m,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],168:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t,[0,0,0,1,1,0,1,1]),s=a(t,o.boxVert,o.lineFrag);return new i(e,n,s)};var r=e("gl-buffer"),a=e("gl-shader"),o=e("./shaders");function i(e,t,n){this.plot=e,this.vbo=t,this.shader=n}var s=i.prototype;s.bind=function(){var e=this.shader;this.vbo.bind(),this.shader.bind(),e.attributes.coord.pointer(),e.uniforms.screenBox=this.plot.screenBox},s.drawBox=function(){var e=[0,0],t=[0,0];return function(n,r,a,o,i){var s=this.plot,l=this.shader,u=s.gl;e[0]=n,e[1]=r,t[0]=a,t[1]=o,l.uniforms.lo=e,l.uniforms.hi=t,l.uniforms.color=i,u.drawArrays(u.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":171,"gl-buffer":156,"gl-shader":180}],169:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t),o=a(t,i.gridVert,i.gridFrag),l=a(t,i.tickVert,i.gridFrag);return new s(e,n,o,l)};var r=e("gl-buffer"),a=e("gl-shader"),o=e("binary-search-bounds"),i=e("./shaders");function s(e,t,n,r){this.plot=e,this.vbo=t,this.shader=n,this.tickShader=r,this.ticks=[[],[]]}function l(e,t){return e-t}var u=s.prototype;u.draw=function(){var e=[0,0],t=[0,0],n=[0,0];return function(){for(var r=this.plot,a=this.vbo,o=this.shader,i=this.ticks,s=r.gl,l=r._tickBounds,u=r.dataBox,c=r.viewBox,f=r.gridLineWidth,d=r.gridLineColor,h=r.gridLineEnable,p=r.pixelRatio,m=0;m<2;++m){var v=l[m],g=l[m+2],y=g-v,b=.5*(u[m+2]+u[m]),_=u[m+2]-u[m];t[m]=2*y/_,e[m]=2*(v-b)/_}o.bind(),a.bind(),o.attributes.dataCoord.pointer(),o.uniforms.dataShift=e,o.uniforms.dataScale=t;for(var x=0,m=0;m<2;++m){n[0]=n[1]=0,n[m]=1,o.uniforms.dataAxis=n,o.uniforms.lineWidth=f[m]/(c[m+2]-c[m])*p,o.uniforms.color=d[m];var w=6*i[m].length;h[m]&&w&&s.drawArrays(s.TRIANGLES,x,w),x+=w}}}(),u.drawTickMarks=function(){var e=[0,0],t=[0,0],n=[1,0],r=[0,1],a=[0,0],i=[0,0];return function(){for(var s=this.plot,u=this.vbo,c=this.tickShader,f=this.ticks,d=s.gl,h=s._tickBounds,p=s.dataBox,m=s.viewBox,v=s.pixelRatio,g=s.screenBox,y=g[2]-g[0],b=g[3]-g[1],_=m[2]-m[0],x=m[3]-m[1],w=0;w<2;++w){var k=h[w],A=h[w+2],T=A-k,M=.5*(p[w+2]+p[w]),E=p[w+2]-p[w];t[w]=2*T/E,e[w]=2*(k-M)/E}t[0]*=_/y,e[0]*=_/y,t[1]*=x/b,e[1]*=x/b,c.bind(),u.bind(),c.attributes.dataCoord.pointer();var C=c.uniforms;C.dataShift=e,C.dataScale=t;var S=s.tickMarkLength,j=s.tickMarkWidth,O=s.tickMarkColor,P=6*f[0].length,N=Math.min(o.ge(f[0],(p[0]-h[0])/(h[2]-h[0]),l),f[0].length),I=Math.min(o.gt(f[0],(p[2]-h[0])/(h[2]-h[0]),l),f[0].length),L=0+6*N,D=6*Math.max(0,I-N),R=Math.min(o.ge(f[1],(p[1]-h[1])/(h[3]-h[1]),l),f[1].length),z=Math.min(o.gt(f[1],(p[3]-h[1])/(h[3]-h[1]),l),f[1].length),F=P+6*R,B=6*Math.max(0,z-R);a[0]=2*(m[0]-S[1])/y-1,a[1]=(m[3]+m[1])/b-1,i[0]=S[1]*v/y,i[1]=j[1]*v/b,B&&(C.color=O[1],C.tickScale=i,C.dataAxis=r,C.screenOffset=a,d.drawArrays(d.TRIANGLES,F,B)),a[0]=(m[2]+m[0])/y-1,a[1]=2*(m[1]-S[0])/b-1,i[0]=j[0]*v/y,i[1]=S[0]*v/b,D&&(C.color=O[0],C.tickScale=i,C.dataAxis=n,C.screenOffset=a,d.drawArrays(d.TRIANGLES,L,D)),a[0]=2*(m[2]+S[3])/y-1,a[1]=(m[3]+m[1])/b-1,i[0]=S[3]*v/y,i[1]=j[3]*v/b,B&&(C.color=O[3],C.tickScale=i,C.dataAxis=r,C.screenOffset=a,d.drawArrays(d.TRIANGLES,F,B)),a[0]=(m[2]+m[0])/y-1,a[1]=2*(m[3]+S[2])/b-1,i[0]=j[2]*v/y,i[1]=S[2]*v/b,D&&(C.color=O[2],C.tickScale=i,C.dataAxis=n,C.screenOffset=a,d.drawArrays(d.TRIANGLES,L,D))}}(),u.update=function(){var e=[1,1,-1,-1,1,-1],t=[1,-1,1,1,-1,-1];return function(n){for(var r=n.ticks,a=n.bounds,o=new Float32Array(18*(r[0].length+r[1].length)),i=(this.plot.zeroLineEnable,0),s=[[],[]],l=0;l<2;++l)for(var u=s[l],c=r[l],f=a[l],d=a[l+2],h=0;h<c.length;++h){var p=(c[h].x-f)/(d-f);u.push(p);for(var m=0;m<6;++m)o[i++]=p,o[i++]=e[m],o[i++]=t[m]}this.ticks=s,this.vbo.update(o)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},{"./shaders":171,"binary-search-bounds":173,"gl-buffer":156,"gl-shader":180}],170:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t,[-1,-1,-1,1,1,-1,1,1]),s=a(t,o.lineVert,o.lineFrag);return new i(e,n,s)};var r=e("gl-buffer"),a=e("gl-shader"),o=e("./shaders");function i(e,t,n){this.plot=e,this.vbo=t,this.shader=n}var s=i.prototype;s.bind=function(){var e=this.shader;this.vbo.bind(),this.shader.bind(),e.attributes.coord.pointer(),e.uniforms.screenBox=this.plot.screenBox},s.drawLine=function(){var e=[0,0],t=[0,0];return function(n,r,a,o,i,s){var l=this.plot,u=this.shader,c=l.gl;e[0]=n,e[1]=r,t[0]=a,t[1]=o,u.uniforms.start=e,u.uniforms.end=t,u.uniforms.width=i*l.pixelRatio,u.uniforms.color=s,c.drawArrays(c.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":171,"gl-buffer":156,"gl-shader":180}],171:[function(e,t,n){"use strict";var r=e("glslify"),a=r(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);t.exports={lineVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:a,textVert:r(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:a,gridVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:a,boxVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},{glslify:199}],172:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t),o=a(t,s.textVert,s.textFrag);return new l(e,n,o)};var r=e("gl-buffer"),a=e("gl-shader"),o=e("text-cache"),i=e("binary-search-bounds"),s=e("./shaders");function l(e,t,n){this.plot=e,this.vbo=t,this.shader=n,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var u=l.prototype;u.drawTicks=function(){var e=[0,0],t=[0,0],n=[0,0];return function(r){var a=this.plot,o=this.shader,s=this.tickX[r],l=this.tickOffset[r],u=a.gl,c=a.viewBox,f=a.dataBox,d=a.screenBox,h=a.pixelRatio,p=a.tickEnable,m=a.tickPad,v=a.tickColor,g=a.tickAngle,y=a.labelEnable,b=a.labelPad,_=a.labelColor,x=a.labelAngle,w=this.labelOffset[r],k=this.labelCount[r],A=i.lt(s,f[r]),T=i.le(s,f[r+2]);e[0]=e[1]=0,e[r]=1,t[r]=(c[2+r]+c[r])/(d[2+r]-d[r])-1;var M=2/d[2+(1^r)]-d[1^r];t[1^r]=M*c[1^r]-1,p[r]&&(t[1^r]-=M*h*m[r],A<T&&l[T]>l[A]&&(o.uniforms.dataAxis=e,o.uniforms.screenOffset=t,o.uniforms.color=v[r],o.uniforms.angle=g[r],u.drawArrays(u.TRIANGLES,l[A],l[T]-l[A]))),y[r]&&k&&(t[1^r]-=M*h*b[r],o.uniforms.dataAxis=n,o.uniforms.screenOffset=t,o.uniforms.color=_[r],o.uniforms.angle=x[r],u.drawArrays(u.TRIANGLES,w,k)),t[1^r]=M*c[2+(1^r)]-1,p[r+2]&&(t[1^r]+=M*h*m[r+2],A<T&&l[T]>l[A]&&(o.uniforms.dataAxis=e,o.uniforms.screenOffset=t,o.uniforms.color=v[r+2],o.uniforms.angle=g[r+2],u.drawArrays(u.TRIANGLES,l[A],l[T]-l[A]))),y[r+2]&&k&&(t[1^r]+=M*h*b[r+2],o.uniforms.dataAxis=n,o.uniforms.screenOffset=t,o.uniforms.color=_[r+2],o.uniforms.angle=x[r+2],u.drawArrays(u.TRIANGLES,w,k))}}(),u.drawTitle=function(){var e=[0,0],t=[0,0];return function(){var n=this.plot,r=this.shader,a=n.gl,o=n.screenBox,i=n.titleCenter,s=n.titleAngle,l=n.titleColor,u=n.pixelRatio;if(this.titleCount){for(var c=0;c<2;++c)t[c]=2*(i[c]*u-o[c])/(o[2+c]-o[c])-1;r.bind(),r.uniforms.dataAxis=e,r.uniforms.screenOffset=t,r.uniforms.angle=s,r.uniforms.color=l,a.drawArrays(a.TRIANGLES,this.titleOffset,this.titleCount)}}}(),u.bind=function(){var e=[0,0],t=[0,0],n=[0,0];return function(){var r=this.plot,a=this.shader,o=r._tickBounds,i=r.dataBox,s=r.screenBox,l=r.viewBox;a.bind();for(var u=0;u<2;++u){var c=o[u],f=o[u+2],d=f-c,h=.5*(i[u+2]+i[u]),p=i[u+2]-i[u],m=l[u],v=l[u+2],g=v-m,y=s[u],b=s[u+2],_=b-y;t[u]=2*d/p*g/_,e[u]=2*(c-h)/p*g/_}n[1]=2*r.pixelRatio/(s[3]-s[1]),n[0]=n[1]*(s[3]-s[1])/(s[2]-s[0]),a.uniforms.dataScale=t,a.uniforms.dataShift=e,a.uniforms.textScale=n,this.vbo.bind(),a.attributes.textCoordinate.pointer()}}(),u.update=function(e){var t,n,r,a,i,s=[],l=e.ticks,u=e.bounds;for(i=0;i<2;++i){var c=[Math.floor(s.length/3)],f=[-1/0],d=l[i];for(t=0;t<d.length;++t){var h=d[t],p=h.x,m=h.text,v=h.font||"sans-serif";a=h.fontSize||12;for(var g=1/(u[i+2]-u[i]),y=u[i],b=m.split("\n"),_=0;_<b.length;_++)for(r=o(v,b[_]).data,n=0;n<r.length;n+=2)s.push(r[n]*a,-r[n+1]*a-_*a*1.2,(p-y)*g);c.push(Math.floor(s.length/3)),f.push(p)}this.tickOffset[i]=c,this.tickX[i]=f}for(i=0;i<2;++i){for(this.labelOffset[i]=Math.floor(s.length/3),r=o(e.labelFont[i],e.labels[i],{textAlign:"center"}).data,a=e.labelSize[i],t=0;t<r.length;t+=2)s.push(r[t]*a,-r[t+1]*a,0);this.labelCount[i]=Math.floor(s.length/3)-this.labelOffset[i]}for(this.titleOffset=Math.floor(s.length/3),r=o(e.titleFont,e.title).data,a=e.titleSize,t=0;t<r.length;t+=2)s.push(r[t]*a,-r[t+1]*a,0);this.titleCount=Math.floor(s.length/3)-this.titleOffset,this.vbo.update(s)},u.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":171,"binary-search-bounds":173,"gl-buffer":156,"gl-shader":180,"text-cache":282}],173:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],174:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t,[t.drawingBufferWidth,t.drawingBufferHeight]),u=new l(t,n);return u.grid=a(u),u.text=o(u),u.line=i(u),u.box=s(u),u.update(e),u};var r=e("gl-select-static"),a=e("./lib/grid"),o=e("./lib/text"),i=e("./lib/line"),s=e("./lib/box");function l(e,t){this.gl=e,this.pickBuffer=t,this.screenBox=[0,0,e.drawingBufferWidth,e.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var u=l.prototype;function c(e){for(var t=e.slice(),n=0;n<t.length;++n)t[n]=t[n].slice();return t}function f(e,t){return e.x-t.x}u.setDirty=function(){this.dirty=this.pickDirty=!0},u.setOverlayDirty=function(){this.dirty=!0},u.nextDepthValue=function(){return this._depthCounter++/65536},u.draw=function(){var e=this.gl,t=this.screenBox,n=this.viewBox,r=this.dataBox,a=this.pixelRatio,o=this.grid,i=this.line,s=this.text,l=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,e.bindFramebuffer(e.FRAMEBUFFER,null),e.enable(e.SCISSOR_TEST),e.disable(e.DEPTH_TEST),e.depthFunc(e.LESS),e.depthMask(!1),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD,e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this.borderColor){e.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]);var u=this.borderColor;e.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}e.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]),e.viewport(n[0],n[1],n[2]-n[0],n[3]-n[1]);var c=this.backgroundColor;e.clearColor(c[0]*c[3],c[1]*c[3],c[2]*c[3],c[3]),e.clear(e.COLOR_BUFFER_BIT),o.draw();var f=this.zeroLineEnable,d=this.zeroLineColor,h=this.zeroLineWidth;if(f[0]||f[1]){i.bind();for(var p=0;p<2;++p)if(f[p]&&r[p]<=0&&r[p+2]>=0){var m=t[p]-r[p]*(t[p+2]-t[p])/(r[p+2]-r[p]);0===p?i.drawLine(m,t[1],m,t[3],h[p],d[p]):i.drawLine(t[0],m,t[2],m,h[p],d[p])}}for(var p=0;p<l.length;++p)l[p].draw();e.viewport(t[0],t[1],t[2]-t[0],t[3]-t[1]),e.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.grid.drawTickMarks(),i.bind();var v=this.borderLineEnable,g=this.borderLineWidth,y=this.borderLineColor;v[1]&&i.drawLine(n[0],n[1]-.5*g[1]*a,n[0],n[3]+.5*g[3]*a,g[1],y[1]),v[0]&&i.drawLine(n[0]-.5*g[0]*a,n[1],n[2]+.5*g[2]*a,n[1],g[0],y[0]),v[3]&&i.drawLine(n[2],n[1]-.5*g[1]*a,n[2],n[3]+.5*g[3]*a,g[3],y[3]),v[2]&&i.drawLine(n[0]-.5*g[0]*a,n[3],n[2]+.5*g[2]*a,n[3],g[2],y[2]),s.bind();for(var p=0;p<2;++p)s.drawTicks(p);this.titleEnable&&s.drawTitle();for(var b=this.overlays,p=0;p<b.length;++p)b[p].draw();e.disable(e.SCISSOR_TEST),e.disable(e.BLEND),e.depthMask(!0)}},u.drawPick=function(){if(!this.static){var e=this.pickBuffer;this.gl,this._pickTimeout=null,e.begin();for(var t=1,n=this.objects,r=0;r<n.length;++r)t=n[r].drawPick(t);e.end()}},u.pick=function(e,t){if(!this.static){var n=this.pixelRatio,r=this.pickPixelRatio,a=this.viewBox,o=0|Math.round((e-a[0]/n)*r),i=0|Math.round((t-a[1]/n)*r),s=this.pickBuffer.query(o,i,this.pickRadius);if(!s)return null;for(var l=s.id+(s.value[0]<<8)+(s.value[1]<<16)+(s.value[2]<<24),u=this.objects,c=0;c<u.length;++c){var f=u[c].pick(o,i,l);if(f)return f}return null}},u.setScreenBox=function(e){var t=this.screenBox,n=this.pixelRatio;t[0]=0|Math.round(e[0]*n),t[1]=0|Math.round(e[1]*n),t[2]=0|Math.round(e[2]*n),t[3]=0|Math.round(e[3]*n),this.setDirty()},u.setDataBox=function(e){var t=this.dataBox,n=t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3];n&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this.setDirty())},u.setViewBox=function(e){var t=this.pixelRatio,n=this.viewBox;n[0]=0|Math.round(e[0]*t),n[1]=0|Math.round(e[1]*t),n[2]=0|Math.round(e[2]*t),n[3]=0|Math.round(e[3]*t);var r=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((e[2]-e[0])*r),0|Math.round((e[3]-e[1])*r)],this.setDirty()},u.update=function(e){e=e||{};var t=this.gl;this.pixelRatio=e.pixelRatio||1;var n=this.pixelRatio;this.pickPixelRatio=Math.max(n,1),this.setScreenBox(e.screenBox||[0,0,t.drawingBufferWidth/n,t.drawingBufferHeight/n]),this.screenBox,this.setViewBox(e.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/n,.125*(this.screenBox[3]-this.screenBox[1])/n,.875*(this.screenBox[2]-this.screenBox[0])/n,.875*(this.screenBox[3]-this.screenBox[1])/n]);var r=this.viewBox,a=(r[2]-r[0])/(r[3]-r[1]);this.setDataBox(e.dataBox||[-10,-10/a,10,10/a]),this.borderColor=!1!==e.borderColor&&(e.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(e.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(e.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(e.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(e.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(e.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(e.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(e.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(e.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(e.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(e.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(e.titleCenter||[.5*(r[0]+r[2])/n,(r[3]+120)/n]).slice(),this.titleEnable=!("titleEnable"in e&&!e.titleEnable),this.titleAngle=e.titleAngle||0,this.titleColor=(e.titleColor||[0,0,0,1]).slice(),this.labelPad=(e.labelPad||[15,15,15,15]).slice(),this.labelAngle=(e.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(e.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(e.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(e.tickPad||[15,15,15,15]).slice(),this.tickAngle=(e.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(e.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(e.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(e.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(e.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(e.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var o=e.ticks||[[],[]],i=this._tickBounds;i[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var s=0;s<2;++s){var l=o[s].slice(0);0!==l.length&&(l.sort(f),i[s]=Math.min(i[s],l[0].x),i[s+2]=Math.max(i[s+2],l[l.length-1].x))}this.grid.update({bounds:i,ticks:o}),this.text.update({bounds:i,ticks:o,labels:e.labels||["x","y"],labelSize:e.labelSize||[12,12],labelFont:e.labelFont||["sans-serif","sans-serif"],title:e.title||"",titleSize:e.titleSize||18,titleFont:e.titleFont||"sans-serif"}),this.static=!!e.static,this.setDirty()},u.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var e=this.objects.length-1;e>=0;--e)this.objects[e].dispose();this.objects.length=0;for(var e=this.overlays.length-1;e>=0;--e)this.overlays[e].dispose();this.overlays.length=0,this.gl=null},u.addObject=function(e){this.objects.indexOf(e)<0&&(this.objects.push(e),this.setDirty())},u.removeObject=function(e){for(var t=this.objects,n=0;n<t.length;++n)if(t[n]===e){t.splice(n,1),this.setDirty();break}},u.addOverlay=function(e){this.overlays.indexOf(e)<0&&(this.overlays.push(e),this.setOverlayDirty())},u.removeOverlay=function(e){for(var t=this.overlays,n=0;n<t.length;++n)if(t[n]===e){t.splice(n,1),this.setOverlayDirty();break}}},{"./lib/box":168,"./lib/grid":169,"./lib/line":170,"./lib/text":172,"gl-select-static":179}],175:[function(e,t,n){var r=e("glslify");n.pointVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),n.pointFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),n.pickVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),n.pickFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},{glslify:199}],176:[function(e,t,n){"use strict";var r=e("gl-shader"),a=e("gl-buffer"),o=e("typedarray-pool"),i=e("./lib/shader");function s(e,t,n,r,a){this.plot=e,this.offsetBuffer=t,this.pickBuffer=n,this.shader=r,this.pickShader=a,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}t.exports=function(e,t){var n=e.gl,o=a(n),l=a(n),u=r(n,i.pointVertex,i.pointFragment),c=r(n,i.pickVertex,i.pickFragment),f=new s(e,o,l,u,c);return f.update(t),e.addObject(f),f};var l=s.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(e){var t;function n(t,n){return t in e?e[t]:n}e=e||{},this.sizeMin=n("sizeMin",.5),this.sizeMax=n("sizeMax",20),this.color=n("color",[1,0,0,1]).slice(),this.areaRatio=n("areaRatio",1),this.borderColor=n("borderColor",[0,0,0,1]).slice(),this.blend=n("blend",!1);var r=e.positions.length>>>1,a=e.positions instanceof Float32Array,i=e.idToIndex instanceof Int32Array&&e.idToIndex.length>=r,s=e.positions,l=a?s:o.mallocFloat32(s.length),u=i?e.idToIndex:o.mallocInt32(r);if(a||l.set(s),!i)for(l.set(s),t=0;t<r;t++)u[t]=t;this.points=s,this.offsetBuffer.update(l),this.pickBuffer.update(u),a||o.free(l),i||o.free(u),this.pointCount=r,this.pickOffset=0},l.unifiedDraw=function(){var e=[1,0,0,0,1,0,0,0,1],t=[0,0,0,0];return function(n){var r=void 0!==n,a=r?this.pickShader:this.shader,o=this.plot.gl,i=this.plot.dataBox;if(0===this.pointCount)return n;var s=i[2]-i[0],l=i[3]-i[1],u=function(e,t){var n,r=0,a=e.length>>>1;for(n=0;n<a;n++){var o=e[2*n],i=e[2*n+1];o>=t[0]&&o<=t[2]&&i>=t[1]&&i<=t[3]&&r++}return r}(this.points,i),c=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(u,.33333)));e[0]=2/s,e[4]=2/l,e[6]=-2*i[0]/s-1,e[7]=-2*i[1]/l-1,this.offsetBuffer.bind(),a.bind(),a.attributes.position.pointer(),a.uniforms.matrix=e,a.uniforms.color=this.color,a.uniforms.borderColor=this.borderColor,a.uniforms.pointCloud=c<5,a.uniforms.pointSize=c,a.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),r&&(t[0]=255&n,t[1]=n>>8&255,t[2]=n>>16&255,t[3]=n>>24&255,this.pickBuffer.bind(),a.attributes.pickId.pointer(o.UNSIGNED_BYTE),a.uniforms.pickOffset=t,this.pickOffset=n);var f=o.getParameter(o.BLEND),d=o.getParameter(o.DITHER);return f&&!this.blend&&o.disable(o.BLEND),d&&o.disable(o.DITHER),o.drawArrays(o.POINTS,0,this.pointCount),f&&!this.blend&&o.enable(o.BLEND),d&&o.enable(o.DITHER),n+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(e,t,n){var r=this.pickOffset,a=this.pointCount;if(n<r||n>=r+a)return null;var o=n-r,i=this.points;return{object:this,pointId:o,dataCoord:[i[2*o],i[2*o+1]]}}},{"./lib/shader":175,"gl-buffer":156,"gl-shader":180,"typedarray-pool":289}],177:[function(e,t,n){"use strict";var r=e("glslify");n.boxVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),n.boxFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},{glslify:199}],178:[function(e,t,n){"use strict";var r=e("gl-shader"),a=e("gl-buffer"),o=e("./lib/shaders");function i(e,t,n){this.plot=e,this.boxBuffer=t,this.boxShader=n,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}t.exports=function(e,t){var n=e.gl,s=a(n,[0,0,0,1,1,0,1,1]),l=r(n,o.boxVertex,o.boxFragment),u=new i(e,s,l);return u.update(t),e.addOverlay(u),u};var s=i.prototype;s.draw=function(){if(this.enabled){var e=this.plot,t=this.selectBox,n=this.borderWidth,r=(this.innerFill,this.innerColor),a=(this.outerFill,this.outerColor),o=this.borderColor,i=e.box,s=e.screenBox,l=e.dataBox,u=e.viewBox,c=e.pixelRatio,f=(t[0]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],d=(t[1]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1],h=(t[2]-l[0])*(u[2]-u[0])/(l[2]-l[0])+u[0],p=(t[3]-l[1])*(u[3]-u[1])/(l[3]-l[1])+u[1];if(f=Math.max(f,u[0]),d=Math.max(d,u[1]),h=Math.min(h,u[2]),p=Math.min(p,u[3]),!(h<f||p<d)){i.bind();var m=s[2]-s[0],v=s[3]-s[1];if(this.outerFill&&(i.drawBox(0,0,m,d,a),i.drawBox(0,d,f,p,a),i.drawBox(0,p,m,v,a),i.drawBox(h,d,m,p,a)),this.innerFill&&i.drawBox(f,d,h,p,r),n>0){var g=n*c;i.drawBox(f-g,d-g,h+g,d+g,o),i.drawBox(f-g,p-g,h+g,p+g,o),i.drawBox(f-g,d-g,f+g,p+g,o),i.drawBox(h-g,d-g,h+g,p+g,o)}}}},s.update=function(e){e=e||{},this.innerFill=!!e.innerFill,this.outerFill=!!e.outerFill,this.innerColor=(e.innerColor||[0,0,0,.5]).slice(),this.outerColor=(e.outerColor||[0,0,0,.5]).slice(),this.borderColor=(e.borderColor||[0,0,0,1]).slice(),this.borderWidth=e.borderWidth||0,this.selectBox=(e.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},{"./lib/shaders":177,"gl-buffer":156,"gl-shader":180}],179:[function(e,t,n){"use strict";t.exports=function(e,t){var n=r(e,t),o=a.mallocUint8(t[0]*t[1]*4);return new l(e,n,o)};var r=e("gl-fbo"),a=e("typedarray-pool"),o=e("ndarray"),i=e("bit-twiddle").nextPow2,s=e("cwise/lib/wrapper")({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(_inline_55_arg0_<255||_inline_55_arg1_<255||_inline_55_arg2_<255||_inline_55_arg3_<255){var _inline_55_l=_inline_55_arg4_-_inline_55_arg6_[0],_inline_55_a=_inline_55_arg5_-_inline_55_arg6_[1],_inline_55_f=_inline_55_l*_inline_55_l+_inline_55_a*_inline_55_a;_inline_55_f<this_closestD2&&(this_closestD2=_inline_55_f,this_closestX=_inline_55_arg6_[0],this_closestY=_inline_55_arg6_[1])}}",args:[{name:"_inline_55_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_55_a","_inline_55_f","_inline_55_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function l(e,t,n){this.gl=e,this.fbo=t,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(t.bind(),e.readPixels(0,0,t.shape[0],t.shape[1],e.RGBA,e.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}var u=l.prototype;Object.defineProperty(u,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(e){if(this.gl){this.fbo.shape=e;var t=this.fbo.shape[0],n=this.fbo.shape[1];if(n*t*4>this.buffer.length){a.free(this.buffer);for(var r=this.buffer=a.mallocUint8(i(n*t*4)),o=0;o<n*t*4;++o)r[o]=255}return e}}}),u.begin=function(){var e=this.gl;this.shape,e&&(this.fbo.bind(),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))},u.end=function(){var e=this.gl;e&&(e.bindFramebuffer(e.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},u.query=function(e,t,n){if(!this.gl)return null;var r=this.fbo.shape.slice();e|=0,t|=0,"number"!=typeof n&&(n=1);var a=0|Math.min(Math.max(e-n,0),r[0]),i=0|Math.min(Math.max(e+n,0),r[0]),l=0|Math.min(Math.max(t-n,0),r[1]),u=0|Math.min(Math.max(t+n,0),r[1]);if(i<=a||u<=l)return null;var c=[i-a,u-l],f=o(this.buffer,[c[0],c[1],4],[4,4*r[0],1],4*(a+r[0]*l)),d=s(f.hi(c[0],c[1],1),n,n),h=d[0],p=d[1];if(h<0||Math.pow(this.radius,2)<d[2])return null;var m=f.get(h,p,0),v=f.get(h,p,1),g=f.get(h,p,2),y=f.get(h,p,3);return new function(e,t,n,r,a){this.coord=[e,t],this.id=n,this.value=r,this.distance=a}(h+a|0,p+l|0,m,[v,g,y],Math.sqrt(d[2]))},u.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":39,"cwise/lib/wrapper":82,"gl-fbo":162,ndarray:219,"typedarray-pool":289}],180:[function(e,t,n){"use strict";var r=e("./lib/create-uniforms"),a=e("./lib/create-attributes"),o=e("./lib/reflect"),i=e("./lib/shader-cache"),s=e("./lib/runtime-reflect"),l=e("./lib/GLError");function u(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=u.prototype;function f(e,t){return e.name<t.name?-1:1}c.bind=function(){var e;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},c.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(e,t,n,u){if(!t||1===arguments.length){var c=e;e=c.vertex,t=c.fragment,n=c.uniforms,u=c.attributes}var d=this,h=d.gl,p=d._vref;d._vref=i.shader(h,h.VERTEX_SHADER,e),p&&p.dispose(),d.vertShader=d._vref.shader;var m=this._fref;if(d._fref=i.shader(h,h.FRAGMENT_SHADER,t),m&&m.dispose(),d.fragShader=d._fref.shader,!n||!u){var v=h.createProgram();if(h.attachShader(v,d.fragShader),h.attachShader(v,d.vertShader),h.linkProgram(v),!h.getProgramParameter(v,h.LINK_STATUS)){var g=h.getProgramInfoLog(v);throw new l(g,"Error linking program:"+g)}n=n||s.uniforms(h,v),u=u||s.attributes(h,v),h.deleteProgram(v)}(u=u.slice()).sort(f);var y,b=[],_=[],x=[];for(y=0;y<u.length;++y){var w=u[y];if(w.type.indexOf("mat")>=0){for(var k=0|w.type.charAt(w.type.length-1),A=new Array(k),T=0;T<k;++T)A[T]=x.length,_.push(w.name+"["+T+"]"),"number"==typeof w.location?x.push(w.location+T):Array.isArray(w.location)&&w.location.length===k&&"number"==typeof w.location[T]?x.push(0|w.location[T]):x.push(-1);b.push({name:w.name,type:w.type,locations:A})}else b.push({name:w.name,type:w.type,locations:[x.length]}),_.push(w.name),"number"==typeof w.location?x.push(0|w.location):x.push(-1)}var M=0;for(y=0;y<x.length;++y)if(x[y]<0){for(;x.indexOf(M)>=0;)M+=1;x[y]=M}var E=new Array(n.length);function C(){d.program=i.program(h,d._vref,d._fref,_,x);for(var e=0;e<n.length;++e)E[e]=h.getUniformLocation(d.program,n[e].name)}C(),d._relink=C,d.types={uniforms:o(n),attributes:o(u)},d.attributes=a(h,d,b,x),Object.defineProperty(d,"uniforms",r(h,d,n,E))},t.exports=function(e,t,n,r,a){var o=new u(e);return o.update(t,n,r,a),o}},{"./lib/GLError":181,"./lib/create-attributes":182,"./lib/create-uniforms":183,"./lib/reflect":184,"./lib/runtime-reflect":185,"./lib/shader-cache":186}],181:[function(e,t,n){function r(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,t.exports=r},{}],182:[function(e,t,n){"use strict";t.exports=function(e,t,n,a){for(var o={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,d=c.type,h=c.locations;switch(d){case"bool":case"int":case"float":i(e,t,h[0],a,1,o,f);break;default:if(d.indexOf("vec")>=0){var p=d.charCodeAt(d.length-1)-48;if(p<2||p>4)throw new r("","Invalid data type for attribute "+f+": "+d);i(e,t,h[0],a,p,o,f)}else{if(!(d.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+f+": "+d);var p=d.charCodeAt(d.length-1)-48;if(p<2||p>4)throw new r("","Invalid data type for attribute "+f+": "+d);s(e,t,h,a,p,o,f)}}}return o};var r=e("./GLError");function a(e,t,n,r,a,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=a,this._constFunc=o}var o=a.prototype;function i(e,t,n,r,o,i,s){for(var l=["gl","v"],u=[],c=0;c<o;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,l),d=new a(e,t,n,r,o,f);Object.defineProperty(i,s,{set:function(t){return e.disableVertexAttribArray(r[n]),f(e,r[n],t),t},get:function(){return d},enumerable:!0})}function s(e,t,n,r,a,o,s){for(var l=new Array(a),u=new Array(a),c=0;c<a;++c)i(e,t,n[c],r,a,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<a;++t)u[t].location=e[t];else for(var t=0;t<a;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(a),t=0;t<a;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,o,i,s){t=t||e.FLOAT,o=!!o,i=i||a*a,s=s||0;for(var l=0;l<a;++l){var u=r[n[l]];e.vertexAttribPointer(u,a,t,o,i,s+l*a),e.enableVertexAttribArray(u)}};var f=new Array(a),d=e["vertexAttrib"+a+"fv"];Object.defineProperty(o,s,{set:function(t){for(var o=0;o<a;++o){var i=r[n[o]];if(e.disableVertexAttribArray(i),Array.isArray(t[0]))d.call(e,i,t[o]);else{for(var s=0;s<a;++s)f[s]=t[a*o+s];d.call(e,i,f)}}return t},get:function(){return l},enumerable:!0})}o.pointer=function(e,t,n,r){var a=this._gl,o=this._locations[this._index];a.vertexAttribPointer(o,this._dimension,e||a.FLOAT,!!t,n||0,r||0),a.enableVertexAttribArray(o)},o.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},{"./GLError":181}],183:[function(e,t,n){"use strict";var r=e("./reflect"),a=e("./GLError");function o(e){var t=new Function("y","return function(){return y}");return t(e)}function i(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}t.exports=function(e,t,n,s){function l(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var o=n.charCodeAt(n.length-1)-48;if(o<2||o>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+o+"fv(locations["+t+"],false,obj"+e+")"}throw new a("","Unknown uniform data type for "+name+": "+n)}var o=n.charCodeAt(n.length-1)-48;if(o<2||o>4)throw new a("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+o+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+o+"fv(locations["+t+"],obj"+e+")";default:throw new a("","Unrecognized data type for vector "+name+": "+n)}}}function u(t){for(var r=["return function updateProperty(obj){"],a=function e(t,n){if("object"!=typeof n)return[[t,n]];var r=[];for(var a in n){var o=n[a],i=t;parseInt(a)+""===a?i+="["+a+"]":i+="."+a,"object"==typeof o?r.push.apply(r,e(i,o)):r.push([i,o])}return r}("",t),o=0;o<a.length;++o){var i=a[o],u=i[0],c=i[1];s[c]&&r.push(l(u,c,n[c].type))}r.push("return obj}");var f=new Function("gl","locations",r.join("\n"));return f(e,s)}function c(r,l,c){if("object"==typeof c){var d=f(c);Object.defineProperty(r,l,{get:o(d),set:u(c),enumerable:!0,configurable:!1})}else s[c]?Object.defineProperty(r,l,{get:function(n){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(e,t,s)}(c),set:u(c),enumerable:!0,configurable:!1}):r[l]=function(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new a("","Invalid data type");return"b"===e.charAt(0)?i(n,!1):i(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+e);return i(n*n,0)}throw new a("","Unknown uniform data type for "+name+": "+e)}}(n[c].type)}function f(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)c(t,n,e[n])}else for(var r in t={},e)c(t,r,e[r]);return t}var d=r(n,!0);return{get:o(f(d)),set:u(d),enumerable:!0,configurable:!0}}},{"./GLError":181,"./reflect":184}],184:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n={},r=0;r<e.length;++r)for(var a=e[r].name,o=a.split("."),i=n,s=0;s<o.length;++s){var l=o[s].split("[");if(l.length>1){l[0]in i||(i[l[0]]=[]),i=i[l[0]];for(var u=1;u<l.length;++u){var c=parseInt(l[u]);u<l.length-1||s<o.length-1?(c in i||(u<l.length-1?i[c]=[]:i[c]={}),i=i[c]):i[c]=t?r:e[r].type}}else s<o.length-1?(l[0]in i||(i[l[0]]={}),i=i[l[0]]):i[l[0]]=t?r:e[r].type}return n}},{}],185:[function(e,t,n){"use strict";n.uniforms=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],a=0;a<n;++a){var i=e.getActiveUniform(t,a);if(i){var s=o(e,i.type);if(i.size>1)for(var l=0;l<i.size;++l)r.push({name:i.name.replace("[0]","["+l+"]"),type:s});else r.push({name:i.name,type:s})}}return r},n.attributes=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],a=0;a<n;++a){var i=e.getActiveAttrib(t,a);i&&r.push({name:i.name,type:o(e,i.type)})}return r};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},a=null;function o(e,t){if(!a){var n=Object.keys(r);a={};for(var o=0;o<n.length;++o){var i=n[o];a[e[i]]=r[i]}}return a[t]}},{}],186:[function(e,t,n){"use strict";n.shader=function(e,t,n){return f(e).getShaderReference(t,n)},n.program=function(e,t,n,r,a){return f(e).getProgram(t,n,r,a)};var r=e("./GLError"),a=e("gl-format-compiler-error"),o="undefined"==typeof WeakMap?e("weakmap-shim"):WeakMap,i=new o,s=0;function l(e,t,n,r,a,o,i){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=i}function u(e){this.gl=e,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(0==--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,a=n.length;r<a;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var c=u.prototype;function f(e){var t=i.get(e);return t||(t=new u(e),i.set(e,t)),t}c.getShaderReference=function(e,t){var n=this.gl,o=this.shaders[e===n.FRAGMENT_SHADER|0],i=o[t];if(i&&n.isShader(i.shader))i.count+=1;else{var u=function(e,t,n){var o=e.createShader(t);if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(o);try{var s=a(i,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new r(i,"Error compiling shader:\n"+i)}throw new r(i,s.short,s.long)}return o}(n,e,t);i=o[t]=new l(s++,t,e,u,[],1,this)}return i},c.getProgram=function(e,t,n,a){var o=[e.id,t.id,n.join(":"),a.join(":")].join("@"),i=this.programs[o];return i&&this.gl.isProgram(i)||(this.programs[o]=i=function(e,t,n,a,o){var i=e.createProgram();e.attachShader(i,t),e.attachShader(i,n);for(var s=0;s<a.length;++s)e.bindAttribLocation(i,o[s],a[s]);if(e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var l=e.getProgramInfoLog(i);throw new r(l,"Error linking program: "+l)}return i}(this.gl,e.shader,t.shader,n,a),e.programs.push(o),t.programs.push(o)),i}},{"./GLError":181,"gl-format-compiler-error":163,"weakmap-shim":298}],187:[function(e,t,n){"use strict";function r(e){this.plot=e,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}t.exports=function(e,t){var n=new r(e);return n.update(t),e.addOverlay(n),n};var a=r.prototype;a.update=function(e){e=e||{},this.enable=(e.enable||[!0,!0,!1,!1]).slice(),this.width=(e.width||[1,1,1,1]).slice(),this.color=(e.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(e){return e.slice()}),this.center=(e.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},a.draw=function(){var e=this.enable,t=this.width,n=this.color,r=this.center,a=this.plot,o=a.line,i=a.dataBox,s=a.viewBox;if(o.bind(),i[0]<=r[0]&&r[0]<=i[2]&&i[1]<=r[1]&&r[1]<=i[3]){var l=s[0]+(r[0]-i[0])/(i[2]-i[0])*(s[2]-s[0]),u=s[1]+(r[1]-i[1])/(i[3]-i[1])*(s[3]-s[1]);e[0]&&o.drawLine(l,u,s[0],u,t[0],n[0]),e[1]&&o.drawLine(l,u,l,s[1],t[1],n[1]),e[2]&&o.drawLine(l,u,s[2],u,t[2],n[2]),e[3]&&o.drawLine(l,u,l,s[3],t[3],n[3])}},a.dispose=function(){this.plot.removeOverlay(this)}},{}],188:[function(e,t,n){"use strict";var r=e("css-font"),a=e("pick-by-alias"),o=e("regl"),i=e("gl-util/context"),s=e("es6-weak-map"),l=e("color-normalize"),u=e("font-atlas"),c=e("typedarray-pool"),f=e("parse-rect"),d=e("is-plain-obj"),h=e("parse-unit"),p=e("to-px"),m=e("detect-kerning"),v=e("object-assign"),g=e("font-measure"),y=e("flatten-vertex-data"),b=e("bit-twiddle"),_=b.nextPow2,x=new s,w=!1;if(document.body){var k=document.body.appendChild(document.createElement("div"));k.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(k).fontStretch&&(w=!0),document.body.removeChild(k)}var A=function(e){!function(e){return"function"==typeof e&&e._gl&&e.prop&&e.texture&&e.buffer}(e)?this.gl=i(e):(e={regl:e},this.gl=e.regl._gl),this.shader=x.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=e.regl||o({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),x.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(d(e)?e:{})};A.prototype.createShader=function(){var e=this.regl,t=e({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:e.prop("count"),offset:e.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:e.this("sizeBuffer")},width:{offset:0,stride:8,buffer:e.this("sizeBuffer")},char:e.this("charBuffer"),position:e.this("position")},uniforms:{atlasSize:function(e,t){return[t.atlas.width,t.atlas.height]},atlasDim:function(e,t){return[t.atlas.cols,t.atlas.rows]},atlas:function(e,t){return t.atlas.texture},charStep:function(e,t){return t.atlas.step},em:function(e,t){return t.atlas.em},color:e.prop("color"),opacity:e.prop("opacity"),viewport:e.this("viewportArray"),scale:e.this("scale"),align:e.prop("align"),baseline:e.prop("baseline"),translate:e.this("translate"),positionOffset:e.prop("positionOffset")},primitive:"points",viewport:e.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\t"+(A.normalViewport?"":"vec2 positionOffset = vec2(positionOffset.x,- positionOffset.y);")+"\n\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ positionOffset))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\t"+(A.normalViewport?"position.y = 1. - position.y;":"")+"\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform sampler2D atlas;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:e,draw:t,atlas:{}}},A.prototype.update=function(e){var t=this;if("string"==typeof e)e={text:e};else if(!e)return;null!=(e=a(e,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(Array.isArray(e.opacity)?this.opacity=e.opacity.map(function(e){return parseFloat(e)}):this.opacity=parseFloat(e.opacity)),null!=e.viewport&&(this.viewport=f(e.viewport),A.normalViewport&&(this.viewport.y=this.canvas.height-this.viewport.y-this.viewport.height),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=e.kerning&&(this.kerning=e.kerning),null!=e.offset&&("number"==typeof e.offset&&(e.offset=[e.offset,0]),this.positionOffset=y(e.offset)),e.direction&&(this.direction=e.direction),e.range&&(this.range=e.range,this.scale=[1/(e.range[2]-e.range[0]),1/(e.range[3]-e.range[1])],this.translate=[-e.range[0],-e.range[1]]),e.scale&&(this.scale=e.scale),e.translate&&(this.translate=e.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||e.font||(e.font=A.baseFontSize+"px sans-serif");var n,o=!1,i=!1;if(e.font&&(Array.isArray(e.font)?e.font:[e.font]).forEach(function(e,n){if("string"==typeof e)try{e=r.parse(e)}catch(t){e=r.parse(A.baseFontSize+"px "+e)}else e=r.parse(r.stringify(e));var a=r.stringify({size:A.baseFontSize,family:e.family,stretch:w?e.stretch:void 0,variant:e.variant,weight:e.weight,style:e.style}),s=h(e.size),l=Math.round(s[0]*p(s[1]));if(l!==t.fontSize[n]&&(i=!0,t.fontSize[n]=l),!(t.font[n]&&a==t.font[n].baseString||(o=!0,t.font[n]=A.fonts[a],t.font[n]))){var u=e.family.join(", "),c=[e.style];e.style!=e.variant&&c.push(e.variant),e.variant!=e.weight&&c.push(e.weight),w&&e.weight!=e.stretch&&c.push(e.stretch),t.font[n]={baseString:a,family:u,weight:e.weight,stretch:e.stretch,style:e.style,variant:e.variant,width:{},kerning:{},metrics:g(u,{origin:"top",fontSize:A.baseFontSize,fontStyle:c.join(" ")})},A.fonts[a]=t.font[n]}}),(o||i)&&this.font.forEach(function(n,a){var o=r.stringify({size:t.fontSize[a],family:n.family,stretch:w?n.stretch:void 0,variant:n.variant,weight:n.weight,style:n.style});if(t.fontAtlas[a]=t.shader.atlas[o],!t.fontAtlas[a]){var i=n.metrics;t.shader.atlas[o]=t.fontAtlas[a]={fontString:o,step:2*Math.ceil(t.fontSize[a]*i.bottom*.5),em:t.fontSize[a],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:t.regl.texture()}}null==e.text&&(e.text=t.text)}),"string"==typeof e.text&&e.position&&e.position.length>2){for(var s=Array(.5*e.position.length),d=0;d<s.length;d++)s[d]=e.text;e.text=s}if(null!=e.text||o){if(this.textOffsets=[0],Array.isArray(e.text)){this.count=e.text[0].length,this.counts=[this.count];for(var b=1;b<e.text.length;b++)t.textOffsets[b]=t.textOffsets[b-1]+e.text[b-1].length,t.count+=e.text[b].length,t.counts.push(e.text[b].length);this.text=e.text.join("")}else this.text=e.text,this.count=this.text.length,this.counts=[this.count];n=[],this.font.forEach(function(e,r){A.atlasContext.font=e.baseString;for(var a=t.fontAtlas[r],o=0;o<t.text.length;o++){var i=t.text.charAt(o);if(null==a.ids[i]&&(a.ids[i]=a.chars.length,a.chars.push(i),n.push(i)),null==e.width[i]&&(e.width[i]=A.atlasContext.measureText(i).width/A.baseFontSize,t.kerning)){var s=[];for(var l in e.width)s.push(l+i,i+l);v(e.kerning,m(e.family,{pairs:s}))}}})}if(e.position)if(e.position.length>2){for(var x=!e.position[0].length,k=c.mallocFloat(2*this.count),T=0,M=0;T<this.counts.length;T++){var E=t.counts[T];if(x)for(var C=0;C<E;C++)k[M++]=e.position[2*T],k[M++]=e.position[2*T+1];else for(var S=0;S<E;S++)k[M++]=e.position[T][0],k[M++]=e.position[T][1]}this.position.call?this.position({type:"float",data:k}):this.position=this.regl.buffer({type:"float",data:k}),c.freeFloat(k)}else this.position.destroy&&this.position.destroy(),this.position={constant:e.position};if(e.text||o){var j=c.mallocUint8(this.count),O=c.mallocFloat(2*this.count);this.textWidth=[];for(var P=0,N=0;P<this.counts.length;P++){for(var I=t.counts[P],L=t.font[P]||t.font[0],D=t.fontAtlas[P]||t.fontAtlas[0],R=0;R<I;R++){var z=t.text.charAt(N),F=t.text.charAt(N-1);if(j[N]=D.ids[z],O[2*N]=L.width[z],R){var B=O[2*N-2],U=O[2*N],H=O[2*N-1],q=H+.5*B+.5*U;if(t.kerning){var V=L.kerning[F+z];V&&(q+=.001*V)}O[2*N+1]=q}else O[2*N+1]=.5*O[2*N];N++}t.textWidth.push(O.length?.5*O[2*N-2]+O[2*N-1]:0)}e.align||(e.align=this.align),this.charBuffer({data:j,type:"uint8",usage:"stream"}),this.sizeBuffer({data:O,type:"float",usage:"stream"}),c.freeUint8(j),c.freeFloat(O),n.length&&this.font.forEach(function(e,n){var r=t.fontAtlas[n],a=r.step,o=Math.floor(A.maxAtlasSize/a),i=Math.min(o,r.chars.length),s=Math.ceil(r.chars.length/i),l=_(i*a),c=_(s*a);r.width=l,r.height=c,r.rows=s,r.cols=i,r.em&&r.texture({data:u({canvas:A.atlasCanvas,font:r.fontString,chars:r.chars,shape:[l,c],step:[a,a]})})})}if(e.align&&(this.align=e.align,this.alignOffset=this.textWidth.map(function(e,n){var r=Array.isArray(t.align)?t.align.length>1?t.align[n]:t.align[0]:t.align;if("number"==typeof r)return r;switch(r){case"right":case"end":return-e;case"center":case"centre":case"middle":return.5*-e}return 0})),null==this.baseline&&null==e.baseline&&(e.baseline=0),null!=e.baseline&&(this.baseline=e.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(e,n){var r=(t.font[n]||t.font[0]).metrics,a=0;return a+=.5*r.bottom,a+="number"==typeof e?e-r.baseline:-r[e],A.normalViewport||(a*=-1),a})),null!=e.color)if(e.color||(e.color="transparent"),"string"!=typeof e.color&&isNaN(e.color)){var W;if("number"==typeof e.color[0]&&e.color.length>this.counts.length){var G=e.color.length;W=c.mallocUint8(G);for(var X=(e.color.subarray||e.color.slice).bind(e.color),Y=0;Y<G;Y+=4)W.set(l(X(Y,Y+4),"uint8"),Y)}else{var K=e.color.length;W=c.mallocUint8(4*K);for(var Z=0;Z<K;Z++)W.set(l(e.color[Z]||0,"uint8"),4*Z)}this.color=W}else this.color=l(e.color,"uint8");if(e.position||e.text||e.color||e.baseline||e.align||e.font||e.offset||e.opacity){var J=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(J){var Q=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Q);for(var $=0;$<this.batch.length;$++)t.batch[$]={count:t.counts.length>1?t.counts[$]:t.counts[0],offset:t.textOffsets.length>1?t.textOffsets[$]:t.textOffsets[0],color:t.color?t.color.length<=4?t.color:t.color.subarray(4*$,4*$+4):[0,0,0,255],opacity:Array.isArray(t.opacity)?t.opacity[$]:t.opacity,baseline:null!=t.baselineOffset[$]?t.baselineOffset[$]:t.baselineOffset[0],align:t.align?null!=t.alignOffset[$]?t.alignOffset[$]:t.alignOffset[0]:0,atlas:t.fontAtlas[$]||t.fontAtlas[0],positionOffset:t.positionOffset.length>2?t.positionOffset.subarray(2*$,2*$+2):t.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.normalViewport=!1,A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={},t.exports=A},{"bit-twiddle":39,"color-normalize":63,"css-font":73,"detect-kerning":87,"es6-weak-map":145,"flatten-vertex-data":150,"font-atlas":151,"font-measure":152,"gl-util/context":190,"is-plain-obj":210,"object-assign":222,"parse-rect":225,"parse-unit":227,"pick-by-alias":231,regl:258,"to-px":285,"typedarray-pool":289}],189:[function(e,t,n){"use strict";var r=e("ndarray"),a=e("ndarray-ops"),o=e("typedarray-pool");t.exports=function(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(i||function(e){i=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],s=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],l=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}(e),"number"==typeof arguments[1])return v(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return v(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var t=arguments[1],n=u(t)?t:t.raw;if(n)return function(e,t,n,r,a,o){var i=m(e);return e.texImage2D(e.TEXTURE_2D,0,a,a,o,t),new d(e,i,n,r,a,o)}(e,n,0|t.width,0|t.height,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return function(e,t){var n=t.dtype,i=t.shape.slice(),s=e.getParameter(e.MAX_TEXTURE_SIZE);if(i[0]<0||i[0]>s||i[1]<0||i[1]>s)throw new Error("gl-texture2d: Invalid texture size");var l=p(i,t.stride.slice()),u=0;"float32"===n?u=e.FLOAT:"float64"===n?(u=e.FLOAT,l=!1,n="float32"):"uint8"===n?u=e.UNSIGNED_BYTE:(u=e.UNSIGNED_BYTE,l=!1,n="uint8");var f,h,v=0;if(2===i.length)v=e.LUMINANCE,i=[i[0],i[1],1],t=r(t.data,i,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==i.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===i[2])v=e.ALPHA;else if(2===i[2])v=e.LUMINANCE_ALPHA;else if(3===i[2])v=e.RGB;else{if(4!==i[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");v=e.RGBA}}u!==e.FLOAT||e.getExtension("OES_texture_float")||(u=e.UNSIGNED_BYTE,l=!1);var g=t.size;if(l)f=0===t.offset&&t.data.length===g?t.data:t.data.subarray(t.offset,t.offset+g);else{var y=[i[2],i[2]*i[0],1];h=o.malloc(g,n);var b=r(h,i,y,0);"float32"!==n&&"float64"!==n||u!==e.UNSIGNED_BYTE?a.assign(b,t):c(b,t),f=h.subarray(0,g)}var _=m(e);return e.texImage2D(e.TEXTURE_2D,0,v,i[0],i[1],0,v,u,f),l||o.free(h),new d(e,_,i[0],i[1],v,u)}(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var i=null,s=null,l=null;function u(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&e instanceof ImageData}var c=function(e,t){a.muls(e,t,255)};function f(e,t,n){var r=e.gl,a=r.getParameter(r.MAX_TEXTURE_SIZE);if(t<0||t>a||n<0||n>a)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,n],e.bind(),r.texImage2D(r.TEXTURE_2D,0,e.format,t,n,0,e.format,e.type,null),e._mipLevels=[0],e}function d(e,t,n,r,a,o){this.gl=e,this.handle=t,this.format=a,this.type=o,this._shape=[n,r],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var i=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return i._wrapS},set:function(e){return i.wrapS=e}},{get:function(){return i._wrapT},set:function(e){return i.wrapT=e}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return i._shape[0]},set:function(e){return i.width=e}},{get:function(){return i._shape[1]},set:function(e){return i.height=e}}]),this._shapeVector=l}var h=d.prototype;function p(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function m(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function v(e,t,n,r,a){var o=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>o||n<0||n>o)throw new Error("gl-texture2d: Invalid texture shape");if(a===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var i=m(e);return e.texImage2D(e.TEXTURE_2D,0,r,t,n,0,r,a,null),new d(e,i,t,n,r,a)}Object.defineProperties(h,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&i.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&i.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),l.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),l.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(l.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return f(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return f(this,e|=0,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,f(this,this._shape[0],e),e}}}),h.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},h.dispose=function(){this.gl.deleteTexture(this.handle)},h.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},h.setPixels=function(e,t,n,i){var s=this.gl;this.bind(),Array.isArray(t)?(i=n,n=0|t[1],t=0|t[0]):(t=t||0,n=n||0),i=i||0;var l=u(e)?e:e.raw;if(l){var f=this._mipLevels.indexOf(i)<0;f?(s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,l),this._mipLevels.push(i)):s.texSubImage2D(s.TEXTURE_2D,i,t,n,this.format,this.type,l)}else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>i||n+e.shape[0]>this._shape[0]>>>i||t<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(e,t,n,i,s,l,u,f){var d=f.dtype,h=f.shape.slice();if(h.length<2||h.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var m=0,v=0,g=p(h,f.stride.slice());if("float32"===d?m=e.FLOAT:"float64"===d?(m=e.FLOAT,g=!1,d="float32"):"uint8"===d?m=e.UNSIGNED_BYTE:(m=e.UNSIGNED_BYTE,g=!1,d="uint8"),2===h.length)v=e.LUMINANCE,h=[h[0],h[1],1],f=r(f.data,h,[f.stride[0],f.stride[1],1],f.offset);else{if(3!==h.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===h[2])v=e.ALPHA;else if(2===h[2])v=e.LUMINANCE_ALPHA;else if(3===h[2])v=e.RGB;else{if(4!==h[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");v=e.RGBA}h[2]}if(v!==e.LUMINANCE&&v!==e.ALPHA||s!==e.LUMINANCE&&s!==e.ALPHA||(v=s),v!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=f.size,b=u.indexOf(i)<0;if(b&&u.push(i),m===l&&g)0===f.offset&&f.data.length===y?b?e.texImage2D(e.TEXTURE_2D,i,s,h[0],h[1],0,s,l,f.data):e.texSubImage2D(e.TEXTURE_2D,i,t,n,h[0],h[1],s,l,f.data):b?e.texImage2D(e.TEXTURE_2D,i,s,h[0],h[1],0,s,l,f.data.subarray(f.offset,f.offset+y)):e.texSubImage2D(e.TEXTURE_2D,i,t,n,h[0],h[1],s,l,f.data.subarray(f.offset,f.offset+y));else{var _;_=l===e.FLOAT?o.mallocFloat32(y):o.mallocUint8(y);var x=r(_,h,[h[2],h[2]*h[0],1]);m===e.FLOAT&&l===e.UNSIGNED_BYTE?c(x,f):a.assign(x,f),b?e.texImage2D(e.TEXTURE_2D,i,s,h[0],h[1],0,s,l,_.subarray(0,y)):e.texSubImage2D(e.TEXTURE_2D,i,t,n,h[0],h[1],s,l,_.subarray(0,y)),l===e.FLOAT?o.freeFloat32(_):o.freeUint8(_)}}(s,t,n,i,this.format,this.type,this._mipLevels,e)}}},{ndarray:219,"ndarray-ops":218,"typedarray-pool":289}],190:[function(e,t,n){"use strict";var r=e("pick-by-alias");function a(e){if(e.container)if(e.container==document.body)document.body.style.width||(e.canvas.width=e.width||e.pixelRatio*window.innerWidth),document.body.style.height||(e.canvas.height=e.height||e.pixelRatio*window.innerHeight);else{var t=e.container.getBoundingClientRect();e.canvas.width=e.width||t.right-t.left,e.canvas.height=e.height||t.bottom-t.top}}function o(e){return"function"==typeof e.getContext&&"width"in e&&"height"in e}t.exports=function(e){if(e?"string"==typeof e&&(e={container:e}):e={},(e=o(e)?{container:e}:function(e){return"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect}(e)?{container:e}:function(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}(e)?{gl:e}:r(e,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio"},!0)).pixelRatio||(e.pixelRatio=window.pixelRatio||1),e.gl)return e.gl;if(e.canvas&&(e.container=e.canvas.parentNode),e.container){if("string"==typeof e.container){var t=document.querySelector(e.container);if(!t)throw Error("Element "+e.container+" is not found");e.container=t}o(e.container)?(e.canvas=e.container,e.container=e.canvas.parentNode):e.canvas||(e.canvas=document.createElement("canvas"),e.container.appendChild(e.canvas),a(e))}else e.canvas||(e.container=document.body||document.documentElement,e.canvas=document.createElement("canvas"),e.canvas.style.position="absolute",e.canvas.style.top=0,e.canvas.style.left=0,e.container.appendChild(e.canvas),a(e));if(!e.gl)try{e.gl=e.canvas.getContext("webgl",e.attrs)}catch(t){try{e.gl=e.canvas.getContext("experimental-webgl",e.attrs)}catch(t){e.gl=e.canvas.getContext("webgl-experimental",e.attrs)}}return e.gl}},{"pick-by-alias":231}],191:[function(e,t,n){var r=e("glsl-tokenizer"),a=e("atob-lite");t.exports=function(e){for(var t=Array.isArray(e)?e:r(e),n=0;n<t.length;n++){var o=t[n];if("preprocessor"===o.type){var i=o.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(i&&i[2]){var s=i[1],l=i[2];return(s?a(l):l).trim()}}}}},{"atob-lite":20,"glsl-tokenizer":198}],192:[function(e,t,n){t.exports=function(e){var t,n,k,A=0,T=0,M=l,E=[],C=[],S=1,j=0,O=0,P=!1,N=!1,I="",L=o,D=r;return"300 es"===(e=e||{}).version&&(L=s,D=i),function(e){return C=[],null!==e?function(e){var n;for(A=0,k=(I+=e).length;t=I[A],A<k;){switch(n=A,M){case c:A=U();break;case f:case d:A=B();break;case h:A=H();break;case p:A=W();break;case x:A=V();break;case m:A=G();break;case u:A=X();break;case b:A=F();break;case l:A=z()}if(n!==A)switch(I[n]){case"\n":j=0,++S;break;default:++j}}return T+=A,I=I.slice(A),C}(e.replace?e.replace(/\r\n/g,"\n"):e):(E.length&&R(E.join("")),M=_,R("(eof)"),C)};function R(e){e.length&&C.push({type:w[M],data:e,position:O,line:S,column:j})}function z(){return E=E.length?[]:E,"/"===n&&"*"===t?(O=T+A-1,M=c,n=t,A+1):"/"===n&&"/"===t?(O=T+A-1,M=f,n=t,A+1):"#"===t?(M=d,O=T+A,A):/\s/.test(t)?(M=b,O=T+A,A):(P=/\d/.test(t),N=/[^\w_]/.test(t),O=T+A,M=P?p:N?h:u,A)}function F(){return/[^\s]/g.test(t)?(R(E.join("")),M=l,A):(E.push(t),n=t,A+1)}function B(){return"\r"!==t&&"\n"!==t||"\\"===n?(E.push(t),n=t,A+1):(R(E.join("")),M=l,A)}function U(){return"/"===t&&"*"===n?(E.push(t),R(E.join("")),M=l,A+1):(E.push(t),n=t,A+1)}function H(){if("."===n&&/\d/.test(t))return M=m,A;if("/"===n&&"*"===t)return M=c,A;if("/"===n&&"/"===t)return M=f,A;if("."===t&&E.length){for(;q(E););return M=m,A}if(";"===t||")"===t||"("===t){if(E.length)for(;q(E););return R(t),M=l,A+1}var e=2===E.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;q(E););return M=l,A}return E.push(t),n=t,A+1}function q(e){for(var t,n,r=0;;){if(t=a.indexOf(e.slice(0,e.length+r).join("")),n=a[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return R(n),O+=n.length,(E=E.slice(n.length)).length}}function V(){return/[^a-fA-F0-9]/.test(t)?(R(E.join("")),M=l,A):(E.push(t),n=t,A+1)}function W(){return"."===t?(E.push(t),M=m,n=t,A+1):/[eE]/.test(t)?(E.push(t),M=m,n=t,A+1):"x"===t&&1===E.length&&"0"===E[0]?(M=x,E.push(t),n=t,A+1):/[^\d]/.test(t)?(R(E.join("")),M=l,A):(E.push(t),n=t,A+1)}function G(){return"f"===t&&(E.push(t),n=t,A+=1),/[eE]/.test(t)?(E.push(t),n=t,A+1):"-"===t&&/[eE]/.test(n)?(E.push(t),n=t,A+1):/[^\d]/.test(t)?(R(E.join("")),M=l,A):(E.push(t),n=t,A+1)}function X(){if(/[^\d\w_]/.test(t)){var e=E.join("");return M=D.indexOf(e)>-1?y:L.indexOf(e)>-1?g:v,R(E.join("")),M=l,A}return E.push(t),n=t,A+1}};var r=e("./lib/literals"),a=e("./lib/operators"),o=e("./lib/builtins"),i=e("./lib/literals-300es"),s=e("./lib/builtins-300es"),l=999,u=9999,c=0,f=1,d=2,h=3,p=4,m=5,v=6,g=7,y=8,b=9,_=10,x=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":194,"./lib/builtins-300es":193,"./lib/literals":196,"./lib/literals-300es":195,"./lib/operators":197}],193:[function(e,t,n){var r=e("./builtins");r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),t.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":194}],194:[function(e,t,n){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],195:[function(e,t,n){var r=e("./literals");t.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":196}],196:[function(e,t,n){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],197:[function(e,t,n){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],198:[function(e,t,n){var r=e("./index");t.exports=function(e,t){var n=r(t),a=[];return a=(a=a.concat(n(e))).concat(n(null))}},{"./index":192}],199:[function(e,t,n){t.exports=function(e){"string"==typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),n=[],r=0;r<e.length-1;r++)n.push(e[r],t[r]||"");return n.push(e[r]),n.join("")}},{}],200:[function(e,n,r){(function(t){"use strict";var r,a=e("is-browser");r="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:a,n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":206}],201:[function(e,t,n){"use strict";var r=e("is-browser");t.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},{"is-browser":206}],202:[function(e,t,n){n.read=function(e,t,n,r,a){var o,i,s=8*a-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?a-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(i=o&(1<<-c)-1,o>>=-c,c+=r;c>0;i=256*i+e[t+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,r),o-=u}return(h?-1:1)*i*Math.pow(2,o-r)},n.write=function(e,t,n,r,a,o){var i,s,l,u=8*o-a-1,c=(1<<u)-1,f=c>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(i++,l/=2),i+f>=c?(s=0,i=c):i+f>=1?(s=(t*l-1)*Math.pow(2,a),i+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,a),i=0));a>=8;e[n+h]=255&s,h+=p,s/=256,a-=8);for(i=i<<a|s,u+=a;u>0;e[n+h]=255&i,h+=p,i/=256,u-=8);e[n+h-p]|=128*m}},{}],203:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),a=0,o=1;function i(e,t,n,r,a){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=a,this.count=(t?t.count:0)+(n?n.count:0)+r.length}t.exports=function(e){return e&&0!==e.length?new b(y(e)):new b(null)};var s=i.prototype;function l(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function u(e,t){var n=y(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function c(e,t){var n=e.intervals([]);n.push(t),u(e,n)}function f(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?a:(n.splice(r,1),u(e,n),o)}function d(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var a=n(e[r]);if(a)return a}}function h(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var a=n(e[r]);if(a)return a}}function p(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function m(e,t){return e-t}function v(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function g(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function y(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(m);for(var r=t[t.length>>1],a=[],o=[],s=[],n=0;n<e.length;++n){var l=e[n];l[1]<r?a.push(l):r<l[0]?o.push(l):s.push(l)}var u=s,c=s.slice();return u.sort(v),c.sort(g),new i(r,y(a),y(o),u,c)}function b(e){this.root=e}s.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},s.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?c(this,e):this.left.insert(e):this.left=y([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?c(this,e):this.right.insert(e):this.right=y([e]);else{var n=r.ge(this.leftPoints,e,v),a=r.ge(this.rightPoints,e,g);this.leftPoints.splice(n,0,e),this.rightPoints.splice(a,0,e)}},s.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid){if(!this.left)return a;var n=this.right?this.right.count:0;if(4*n>3*(t-1))return f(this,e);var i=this.left.remove(e);return 2===i?(this.left=null,this.count-=1,o):(i===o&&(this.count-=1),i)}if(e[0]>this.mid){if(!this.right)return a;var s=this.left?this.left.count:0;if(4*s>3*(t-1))return f(this,e);var i=this.right.remove(e);return 2===i?(this.right=null,this.count-=1,o):(i===o&&(this.count-=1),i)}if(1===this.count)return this.leftPoints[0]===e?2:a;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var u=this,c=this.left;c.right;)u=c,c=c.right;if(u===this)c.right=this.right;else{var d=this.left,i=this.right;u.count-=c.count,u.right=c.left,c.left=d,c.right=i}l(this,c),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?l(this,this.left):l(this,this.right);return o}for(var d=r.ge(this.leftPoints,e,v);d<this.leftPoints.length&&this.leftPoints[d][0]===e[0];++d)if(this.leftPoints[d]===e){this.count-=1,this.leftPoints.splice(d,1);for(var i=r.ge(this.rightPoints,e,g);i<this.rightPoints.length&&this.rightPoints[i][1]===e[1];++i)if(this.rightPoints[i]===e)return this.rightPoints.splice(i,1),o}return a},s.queryPoint=function(e,t){if(e<this.mid){if(this.left){var n=this.left.queryPoint(e,t);if(n)return n}return d(this.leftPoints,e,t)}if(e>this.mid){if(this.right){var n=this.right.queryPoint(e,t);if(n)return n}return h(this.rightPoints,e,t)}return p(this.leftPoints,t)},s.queryInterval=function(e,t,n){if(e<this.mid&&this.left){var r=this.left.queryInterval(e,t,n);if(r)return r}if(t>this.mid&&this.right){var r=this.right.queryInterval(e,t,n);if(r)return r}return t<this.mid?d(this.leftPoints,t,n):e>this.mid?h(this.rightPoints,e,n):p(this.leftPoints,n)};var _=b.prototype;_.insert=function(e){this.root?this.root.insert(e):this.root=new i(e[0],null,null,[e],[e])},_.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==a}return!1},_.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},_.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(_,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(_,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":38}],204:[function(e,t,n){"use strict";t.exports=function(e,t){t=t||new Array(e.length);for(var n=0;n<e.length;++n)t[e[n]]=n;return t}},{}],205:[function(e,t,n){"use strict";t.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},{}],206:[function(e,t,n){t.exports=!0},{}],207:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],208:[function(e,t,n){"use strict";t.exports="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},{}],209:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],210:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},{}],211:[function(e,t,n){"use strict";t.exports=function(e){return"string"==typeof e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},{}],212:[function(e,t,n){"use strict";t.exports=Math.log2||function(e){return Math.log(e)*Math.LOG2E}},{}],213:[function(e,t,n){"use strict";t.exports=function(e,t){t||(t=e,e=window);var n=0,a=0,o=0,i={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function l(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==i.alt,i.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==i.shift,i.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==i.control,i.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==i.meta,i.meta=!!e.metaKey),t}function u(e,s){var u=r.x(s),c=r.y(s);"buttons"in s&&(e=0|s.buttons),(e!==n||u!==a||c!==o||l(s))&&(n=0|e,a=u||0,o=c||0,t&&t(n,a,o,i))}function c(e){u(0,e)}function f(){(n||a||o||i.shift||i.alt||i.meta||i.control)&&(a=o=0,n=0,i.shift=i.alt=i.control=i.meta=!1,t&&t(0,0,0,i))}function d(e){l(e)&&t&&t(n,a,o,i)}function h(e){0===r.buttons(e)?u(0,e):u(n,e)}function p(e){u(n|r.buttons(e),e)}function m(e){u(n&~r.buttons(e),e)}function v(){s||(s=!0,e.addEventListener("mousemove",h),e.addEventListener("mousedown",p),e.addEventListener("mouseup",m),e.addEventListener("mouseleave",c),e.addEventListener("mouseenter",c),e.addEventListener("mouseout",c),e.addEventListener("mouseover",c),e.addEventListener("blur",f),e.addEventListener("keyup",d),e.addEventListener("keydown",d),e.addEventListener("keypress",d),e!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",d),window.addEventListener("keydown",d),window.addEventListener("keypress",d)))}v();var g={element:e};return Object.defineProperties(g,{enabled:{get:function(){return s},set:function(t){t?v():s&&(s=!1,e.removeEventListener("mousemove",h),e.removeEventListener("mousedown",p),e.removeEventListener("mouseup",m),e.removeEventListener("mouseleave",c),e.removeEventListener("mouseenter",c),e.removeEventListener("mouseout",c),e.removeEventListener("mouseover",c),e.removeEventListener("blur",f),e.removeEventListener("keyup",d),e.removeEventListener("keydown",d),e.removeEventListener("keypress",d),e!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",d),window.removeEventListener("keydown",d),window.removeEventListener("keypress",d)))},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return a},enumerable:!0},y:{get:function(){return o},enumerable:!0},mods:{get:function(){return i},enumerable:!0}}),g};var r=e("mouse-event")},{"mouse-event":215}],214:[function(e,t,n){var r={left:0,top:0};t.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var a=e.clientX||0,o=e.clientY||0,i=function(e){return e===window||e===document||e===document.body?r:e.getBoundingClientRect()}(t);return n[0]=a-i.left,n[1]=o-i.top,n}},{}],215:[function(e,t,n){"use strict";function r(e){return e.target||e.srcElement||window}n.buttons=function(e){if("object"==typeof e){if("buttons"in e)return e.buttons;if("which"in e){var t=e.which;if(2===t)return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t=e.button;if(1===t)return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0},n.element=r,n.x=function(e){if("object"==typeof e){if("offsetX"in e)return e.offsetX;var t=r(e),n=t.getBoundingClientRect();return e.clientX-n.left}return 0},n.y=function(e){if("object"==typeof e){if("offsetY"in e)return e.offsetY;var t=r(e),n=t.getBoundingClientRect();return e.clientY-n.top}return 0}},{}],216:[function(e,t,n){"use strict";var r=e("to-px");t.exports=function(e,t,n){"function"==typeof e&&(n=!!t,t=e,e=window);var a=r("ex",e),o=function(e){n&&e.preventDefault();var r=e.deltaX||0,o=e.deltaY||0,i=e.deltaZ||0,s=e.deltaMode,l=1;switch(s){case 1:l=a;break;case 2:l=window.innerHeight}if(o*=l,i*=l,(r*=l)||o||i)return t(r,o,i,e)};return e.addEventListener("wheel",o),o}},{"to-px":285}],217:[function(e,t,n){"use strict";var r=e("typedarray-pool");function a(e){return"a"+e}function o(e){return"d"+e}function i(e,t){return"c"+e+"_"+t}function s(e){return"s"+e}function l(e,t){return"t"+e+"_"+t}function u(e){return"o"+e}function c(e){return"x"+e}function f(e){return"p"+e}function d(e,t){return"d"+e+"_"+t}function h(e){return"i"+e}function p(e,t){return"u"+e+"_"+t}function m(e){return"b"+e}function v(e){return"y"+e}function g(e){return"e"+e}function y(e){return"v"+e}t.exports=function(e){function t(e){throw new Error("ndarray-extract-contour: "+e)}"object"!=typeof e&&t("Must specify arguments");var n=e.order;Array.isArray(n)||t("Must specify order");var M=e.arrayArguments||1;M<1&&t("Must have at least one array argument");var E=e.scalarArguments||0;E<0&&t("Scalar arg count must be > 0"),"function"!=typeof e.vertex&&t("Must specify vertex creation function"),"function"!=typeof e.cell&&t("Must specify cell creation function"),"function"!=typeof e.phase&&t("Must specify phase function");for(var C=e.getters||[],S=new Array(M),j=0;j<M;++j)C.indexOf(j)>=0?S[j]=!0:S[j]=!1;return function(e,t,n,M,E,C){var S=C.length,j=E.length;if(j<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var O="extractContour"+E.join("_"),P=[],N=[],I=[],L=0;L<S;++L)I.push(a(L));for(var L=0;L<M;++L)I.push(c(L));for(var L=0;L<j;++L)N.push(s(L)+"="+a(0)+".shape["+L+"]|0");for(var L=0;L<S;++L){N.push(o(L)+"="+a(L)+".data",u(L)+"="+a(L)+".offset|0");for(var D=0;D<j;++D)N.push(l(L,D)+"="+a(L)+".stride["+D+"]|0")}for(var L=0;L<S;++L){N.push(f(L)+"="+u(L)),N.push(i(L,0));for(var D=1;D<1<<j;++D){for(var R=[],z=0;z<j;++z)D&1<<z&&R.push("-"+l(L,z));N.push(d(L,D)+"=("+R.join("")+")|0"),N.push(i(L,D)+"=0")}}for(var L=0;L<S;++L)for(var D=0;D<j;++D){var F=[l(L,E[D])];D>0&&F.push(l(L,E[D-1])+"*"+s(E[D-1])),N.push(p(L,E[D])+"=("+F.join("-")+")|0")}for(var L=0;L<j;++L)N.push(h(L)+"=0");N.push(x+"=0");for(var B=["2"],L=j-2;L>=0;--L)B.push(s(E[L]));N.push(w+"=("+B.join("*")+")|0",_+"=mallocUint32("+w+")",b+"=mallocUint32("+w+")",k+"=0"),N.push(m(0)+"=0");for(var D=1;D<1<<j;++D){for(var U=[],H=[],z=0;z<j;++z)D&1<<z&&(0===H.length?U.push("1"):U.unshift(H.join("*"))),H.push(s(E[z]));var q="";U[0].indexOf(s(E[j-2]))<0&&(q="-");var V=T(j,D,E);N.push(g(V)+"=(-"+U.join("-")+")|0",v(V)+"=("+q+U.join("-")+")|0",m(V)+"=0")}function W(e,t){P.push("for(",h(E[e]),"=",t,";",h(E[e]),"<",s(E[e]),";","++",h(E[e]),"){")}function G(e){for(var t=0;t<S;++t)P.push(f(t),"+=",p(t,E[e]),";");P.push("}")}function X(){for(var e=1;e<1<<j;++e)P.push(A,"=",g(e),";",g(e),"=",v(e),";",v(e),"=",A,";")}N.push(y(0)+"=0",A+"=0"),function e(t,n){if(t<0)!function(e){for(var t=0;t<S;++t)C[t]?P.push(i(t,0),"=",o(t),".get(",f(t),");"):P.push(i(t,0),"=",o(t),"[",f(t),"];");for(var n=[],t=0;t<S;++t)n.push(i(t,0));for(var t=0;t<M;++t)n.push(c(t));P.push(m(0),"=",_,"[",k,"]=phase(",n.join(),");");for(var r=1;r<1<<j;++r)P.push(m(r),"=",_,"[",k,"+",g(r),"];");for(var a=[],r=1;r<1<<j;++r)a.push("("+m(0)+"!=="+m(r)+")");P.push("if(",a.join("||"),"){");for(var s=[],t=0;t<j;++t)s.push(h(t));for(var t=0;t<S;++t){s.push(i(t,0));for(var r=1;r<1<<j;++r)C[t]?P.push(i(t,r),"=",o(t),".get(",f(t),"+",d(t,r),");"):P.push(i(t,r),"=",o(t),"[",f(t),"+",d(t,r),"];"),s.push(i(t,r))}for(var t=0;t<1<<j;++t)s.push(m(t));for(var t=0;t<M;++t)s.push(c(t));P.push("vertex(",s.join(),");",y(0),"=",b,"[",k,"]=",x,"++;");for(var l=(1<<j)-1,u=m(l),r=0;r<j;++r)if(0==(e&~(1<<r))){for(var p=l^1<<r,v=m(p),w=[],A=p;A>0;A=A-1&p)w.push(b+"["+k+"+"+g(A)+"]");w.push(y(0));for(var A=0;A<S;++A)1&r?w.push(i(A,l),i(A,p)):w.push(i(A,p),i(A,l));1&r?w.push(u,v):w.push(v,u);for(var A=0;A<M;++A)w.push(c(A));P.push("if(",u,"!==",v,"){","face(",w.join(),")}")}P.push("}",k,"+=1;")}(n);else{!function(e){for(var t=e-1;t>=0;--t)W(t,0);for(var n=[],t=0;t<S;++t)C[t]?n.push(o(t)+".get("+f(t)+")"):n.push(o(t)+"["+f(t)+"]");for(var t=0;t<M;++t)n.push(c(t));P.push(_,"[",k,"++]=phase(",n.join(),");");for(var t=0;t<e;++t)G(t);for(var r=0;r<S;++r)P.push(f(r),"+=",p(r,E[e]),";")}(t),P.push("if(",s(E[t]),">0){",h(E[t]),"=1;"),e(t-1,n|1<<E[t]);for(var r=0;r<S;++r)P.push(f(r),"+=",p(r,E[t]),";");t===j-1&&(P.push(k,"=0;"),X()),W(t,2),e(t-1,n),t===j-1&&(P.push("if(",h(E[j-1]),"&1){",k,"=0;}"),X()),G(t),P.push("}")}}(j-1,0),P.push("freeUint32(",b,");freeUint32(",_,");");var Y=["'use strict';","function ",O,"(",I.join(),"){","var ",N.join(),";",P.join(""),"}","return ",O].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",Y)(e,t,n,r.mallocUint32,r.freeUint32)}(e.vertex,e.cell,e.phase,E,n,S)};var b="V",_="P",x="N",w="Q",k="X",A="T";function T(e,t,n){for(var r=0,a=0;a<e;++a)t&1<<a&&(r|=1<<n[a]);return r}},{"typedarray-pool":289}],218:[function(e,t,n){"use strict";var r=e("cwise-compiler"),a={body:"",args:[],thisVars:[],localVars:[]};function o(e){if(!e)return a;for(var t=0;t<e.args.length;++t){var n=e.args[t];e.args[t]=0===t?{name:n,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function i(e){for(var t=[],n=0;n<e.args.length;++n)t.push("a"+n);var a=new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""));return a(function(e){return r({args:e.args,pre:o(e.pre),body:o(e.body),post:o(e.proc),funcName:e.funcName})}(e))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in s){var t=s[e];n[e]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),n[e+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in l){var t=l[e];n[e]=i({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),n[e+"eq"]=i({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in u){var t=u[e];n[e]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),n[e+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var t=c[e];n[t]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),n[t+"eq"]=i({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var e=0;e<f.length;++e){var t=f[e];n[t]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),n[t+"s"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),n[t+"eq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var d=["atan2","pow"];!function(){for(var e=0;e<d.length;++e){var t=d[e];n[t+"op"]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),n[t+"ops"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),n[t+"opeq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),n[t+"opseq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),n.any=r({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=r({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=i({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=i({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=i({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=r({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":79}],219:[function(e,t,n){var r=e("iota-array"),a=e("is-buffer"),o="undefined"!=typeof Float64Array;function i(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(i);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var a="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",i=new Function(o);return i()}if(0===t){var o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(a?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(a?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",i=new Function("TrivialArray",o);return i(u[e][0])}var o=["'use strict'"],l=r(t),c=l.map(function(e){return"i"+e}),f="this.offset+"+l.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),d=l.map(function(e){return"b"+e}).join(","),h=l.map(function(e){return"c"+e}).join(",");o.push("function "+n+"(a,"+d+","+h+",d){this.data=a","this.shape=["+d+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+l.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),a?o.push("return this.data.set("+f+",v)}"):o.push("return this.data["+f+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),a?o.push("return this.data.get("+f+")}"):o.push("return this.data["+f+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+f+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+l.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+l.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var p=l.map(function(e){return"a"+e+"=this.shape["+e+"]"}),m=l.map(function(e){return"c"+e+"=this.stride["+e+"]"});o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+m.join(","));for(var v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+n+"(this.data,"+l.map(function(e){return"a"+e}).join(",")+","+l.map(function(e){return"c"+e}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+l.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+l.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+n+"(this.data,"+l.map(function(e){return"a"+e}).join(",")+","+l.map(function(e){return"b"+e}).join(",")+",c)}");for(var g=new Array(t),y=new Array(t),v=0;v<t;++v)g[v]="a[i"+v+"]",y[v]="b[i"+v+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var v=0;v<t;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+l.map(function(e){return"shape["+e+"]"}).join(",")+","+l.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}");var i=new Function("CTOR_LIST","ORDER",o.join("\n"));return i(u[e],s)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(e,t,n,r){if(void 0===e){var i=u.array[0];return i([])}"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===n){n=new Array(s);for(var c=s-1,f=1;c>=0;--c)n[c]=f,f*=t[c]}if(void 0===r){r=0;for(var c=0;c<s;++c)n[c]<0&&(r-=(t[c]-1)*n[c])}for(var d=function(e){if(a(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),h=u[d];h.length<=s+1;)h.push(l(d,h.length-1));return(i=h[s+1])(e,t,n,r)}},{"iota-array":205,"is-buffer":207}],220:[function(e,t,n){"use strict";var r=e("double-bits"),a=Math.pow(2,-1074),o=-1>>>0;t.exports=function(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(0===e)return t<0?-a:a;var n=r.hi(e),i=r.lo(e);return t>e==e>0?i===o?(n+=1,i=0):i+=1:0===i?(i=o,n-=1):i-=1,r.pack(i,n)}},{"double-bits":88}],221:[function(e,t,n){var r=Math.PI,a=u(120);function o(e,t,n,r){return["C",e,t,n,r,n,r]}function i(e,t,n,r,a,o){return["C",e/3+2/3*n,t/3+2/3*r,a/3+2/3*n,o/3+2/3*r,a,o]}function s(e,t,n,o,i,u,c,f,d,h){if(h)k=h[0],A=h[1],x=h[2],w=h[3];else{var p=l(e,t,-i);e=p.x,t=p.y,p=l(f,d,-i),f=p.x,d=p.y;var m=(e-f)/2,v=(t-d)/2,g=m*m/(n*n)+v*v/(o*o);g>1&&(g=Math.sqrt(g),n*=g,o*=g);var y=n*n,b=o*o,_=(u==c?-1:1)*Math.sqrt(Math.abs((y*b-y*v*v-b*m*m)/(y*v*v+b*m*m)));_==1/0&&(_=1);var x=_*n*v/o+(e+f)/2,w=_*-o*m/n+(t+d)/2,k=Math.asin(((t-w)/o).toFixed(9)),A=Math.asin(((d-w)/o).toFixed(9));k=e<x?r-k:k,A=f<x?r-A:A,k<0&&(k=2*r+k),A<0&&(A=2*r+A),c&&k>A&&(k-=2*r),!c&&A>k&&(A-=2*r)}if(Math.abs(A-k)>a){var T=A,M=f,E=d;A=k+a*(c&&A>k?1:-1),f=x+n*Math.cos(A),d=w+o*Math.sin(A);var C=s(f,d,n,o,i,0,c,M,E,[A,T,x,w])}var S=Math.tan((A-k)/4),j=4/3*n*S,O=4/3*o*S,P=[2*e-(e+j*Math.sin(k)),2*t-(t-O*Math.cos(k)),f+j*Math.sin(A),d-O*Math.cos(A),f,d];if(h)return P;C&&(P=P.concat(C));for(var N=0;N<P.length;){var I=l(P[N],P[N+1],i);P[N++]=I.x,P[N++]=I.y}return P}function l(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function u(e){return e*(r/180)}t.exports=function(e){for(var t,n=[],r=0,a=0,l=0,c=0,f=null,d=null,h=0,p=0,m=0,v=e.length;m<v;m++){var g=e[m],y=g[0];switch(y){case"M":l=g[1],c=g[2];break;case"A":(g=s(h,p,g[1],g[2],u(g[3]),g[4],g[5],g[6],g[7])).unshift("C"),g.length>7&&(n.push(g.splice(0,7)),g.unshift("C"));break;case"S":var b=h,_=p;"C"!=t&&"S"!=t||(b+=b-r,_+=_-a),g=["C",b,_,g[1],g[2],g[3],g[4]];break;case"T":"Q"==t||"T"==t?(f=2*h-f,d=2*p-d):(f=h,d=p),g=i(h,p,f,d,g[1],g[2]);break;case"Q":f=g[1],d=g[2],g=i(h,p,g[1],g[2],g[3],g[4]);break;case"L":g=o(h,p,g[1],g[2]);break;case"H":g=o(h,p,g[1],p);break;case"V":g=o(h,p,h,g[1]);break;case"Z":g=o(h,p,l,c)}t=y,h=g[g.length-2],p=g[g.length-1],g.length>4?(r=g[g.length-4],a=g[g.length-3]):(r=h,a=p),n.push(g)}return n}},{}],222:[function(e,t,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))a.call(n,u)&&(s[u]=n[u]);if(r){i=r(n);for(var c=0;c<i.length;c++)o.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s}},{}],223:[function(e,t,n){
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
"use strict";var r=e("repeat-string");t.exports=function(e,t,n){return r(n=void 0!==n?n+"":" ",t)+e}},{"repeat-string":259}],224:[function(e,t,n){"use strict";function r(e,t){if("string"!=typeof e)return[e];var n=[e];"string"==typeof t||Array.isArray(t)?t={brackets:t}:t||(t={});var r=t.brackets?Array.isArray(t.brackets)?t.brackets:[t.brackets]:["{}","[]","()"],a=t.escape||"___",o=!!t.flat;r.forEach(function(e){var t=new RegExp(["\\",e[0],"[^\\",e[0],"\\",e[1],"]*\\",e[1]].join("")),r=[];function o(t,o,i){var s=n.push(t.slice(e[0].length,-e[1].length))-1;return r.push(s),a+s}n.forEach(function(e,r){for(var a,i=0;e!=a;)if(a=e,e=e.replace(t,o),i++>1e4)throw Error("References have circular dependency. Please, check them.");n[r]=e}),r=r.reverse(),n=n.map(function(t){return r.forEach(function(n){t=t.replace(new RegExp("(\\"+a+n+"(?![0-9]))","g"),e[0]+"$1"+e[1])}),t})});var i=new RegExp("\\"+a+"([0-9]+)");return o?n:function e(t,n,r){for(var a,o=[],s=0;a=i.exec(t);){if(s++>1e4)throw Error("Circular references in parenthesis");o.push(t.slice(0,a.index)),o.push(e(n[a[1]],n)),t=t.slice(a.index+a[0].length)}return o.push(t),o}(n[0],n)}function a(e,t){if(t&&t.flat){var n,r=t&&t.escape||"___",a=e[0];if(!a)return"";for(var o=new RegExp("\\"+r+"([0-9]+)"),i=0;a!=n;){if(i++>1e4)throw Error("Circular references in "+e);n=a,a=a.replace(o,s)}return a}return e.reduce(function e(t,n){return Array.isArray(n)&&(n=n.reduce(e,"")),t+n},"");function s(t,n){if(null==e[n])throw Error("Reference "+n+"is undefined");return e[n]}}function o(e,t){return Array.isArray(e)?a(e,t):r(e,t)}o.parse=r,o.stringify=a,t.exports=o},{}],225:[function(e,t,n){"use strict";var r=e("pick-by-alias");t.exports=function(e){var t;return arguments.length>1&&(e=arguments),"string"==typeof e?e=e.split(/\s/).map(parseFloat):"number"==typeof e&&(e=[e]),e.length&&"number"==typeof e[0]?t=1===e.length?{width:e[0],height:e[0],x:0,y:0}:2===e.length?{width:e[0],height:e[1],x:0,y:0}:{x:e[0],y:e[1],width:e[2]-e[0]||0,height:e[3]-e[1]||0}:e&&(e=r(e,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),t={x:e.left||0,y:e.top||0},null==e.width?e.right?t.width=e.right-t.x:t.width=0:t.width=e.width,null==e.height?e.bottom?t.height=e.bottom-t.y:t.height=0:t.height=e.height),t}},{"pick-by-alias":231}],226:[function(e,t,n){t.exports=function(e){var t=[];return e.replace(a,function(e,n,a){var i=n.toLowerCase();for(a=function(e){var t=e.match(o);return t?t.map(Number):[]}(a),"m"==i&&a.length>2&&(t.push([n].concat(a.splice(0,2))),i="l",n="m"==n?"l":"L");;){if(a.length==r[i])return a.unshift(n),t.push(a);if(a.length<r[i])throw new Error("malformed path data");t.push([n].concat(a.splice(0,r[i])))}}),t};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],227:[function(e,t,n){t.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},{}],228:[function(e,t,n){(function(e){(function(){var n,r,a,o,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-i)/1e6},r=e.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*e.uptime(),i=o-s):Date.now?(t.exports=function(){return Date.now()-a},a=Date.now()):(t.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:247}],229:[function(e,t,n){"use strict";t.exports=function(e){var t=e.length;if(t<r){for(var n=1,o=0;o<t;++o)for(var i=0;i<o;++i)if(e[o]<e[i])n=-n;else if(e[o]===e[i])return 0;return n}for(var s=a.mallocUint8(t),o=0;o<t;++o)s[o]=0;for(var n=1,o=0;o<t;++o)if(!s[o]){var l=1;s[o]=1;for(var i=e[o];i!==o;i=e[i]){if(s[i])return a.freeUint8(s),0;l+=1,s[i]=1}1&l||(n=-n)}return a.freeUint8(s),n};var r=32,a=e("typedarray-pool")},{"typedarray-pool":289}],230:[function(e,t,n){"use strict";var r=e("typedarray-pool"),a=e("invert-permutation");n.rank=function(e){var t=e.length;switch(t){case 0:case 1:return 0;case 2:return e[1]}var n,o,i,s=r.mallocUint32(t),l=r.mallocUint32(t),u=0;for(a(e,l),i=0;i<t;++i)s[i]=e[i];for(i=t-1;i>0;--i)o=l[i],n=s[i],s[i]=s[o],s[o]=n,l[i]=l[n],l[n]=o,u=(u+n)*i;return r.freeUint32(l),r.freeUint32(s),u},n.unrank=function(e,t,n){switch(e){case 0:return n||[];case 1:return n?(n[0]=0,n):[0];case 2:return n?(t?(n[0]=0,n[1]=1):(n[0]=1,n[1]=0),n):t?[0,1]:[1,0]}var r,a,o,i=1;for((n=n||new Array(e))[0]=0,o=1;o<e;++o)n[o]=o,i=i*o|0;for(o=e-1;o>0;--o)t=t-(r=t/i|0)*i|0,i=i/o|0,a=0|n[o],n[o]=0|n[r],n[r]=0|a;return n}},{"invert-permutation":204,"typedarray-pool":289}],231:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,o,i={};if("string"==typeof t&&(t=a(t)),Array.isArray(t)){var s={};for(o=0;o<t.length;o++)s[t[o]]=!0;t=s}for(r in t)t[r]=a(t[r]);var l={};for(r in t){var u=t[r];if(Array.isArray(u))for(o=0;o<u.length;o++){var c=u[o];if(n&&(l[c]=!0),c in e){if(i[r]=e[c],n)for(var f=o;f<u.length;f++)l[u[f]]=!0;break}}else r in e&&(t[r]&&(i[r]=e[r]),n&&(l[r]=!0))}if(n)for(r in e)l[r]||(i[r]=e[r]);return i};var r={};function a(e){return r[e]?r[e]:("string"==typeof e&&(e=r[e]=e.split(/\s*,\s*|\s+/)),e)}},{}],232:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=0|t.length,a=e.length,o=[new Array(n),new Array(n)],i=0;i<n;++i)o[0][i]=[],o[1][i]=[];for(var i=0;i<a;++i){var s=e[i];o[0][s[0]].push(s),o[1][s[1]].push(s)}for(var l=[],i=0;i<n;++i)o[0][i].length+o[1][i].length===0&&l.push([i]);function u(e,t){var n=o[t][e[t]];n.splice(n.indexOf(e),1)}function c(e,n,a){for(var i,s,l,c=0;c<2;++c)if(o[c][n].length>0){i=o[c][n][0],l=c;break}s=i[1^l];for(var f=0;f<2;++f)for(var d=o[f][n],h=0;h<d.length;++h){var p=d[h],m=p[1^f],v=r(t[e],t[n],t[s],t[m]);v>0&&(i=p,s=m,l=f)}return a?s:(i&&u(i,l),s)}function f(e,n){var a=o[n][e][0],i=[e];u(a,n);for(var s=a[1^n];;){for(;s!==e;)i.push(s),s=c(i[i.length-2],s,!1);if(o[0][e].length+o[1][e].length===0)break;var l=i[i.length-1],f=e,d=i[1],h=c(l,f,!0);if(r(t[l],t[f],t[d],t[h])<0)break;i.push(e),s=c(l,f)}return i}function d(e,t){return t[1]===t[t.length-1]}for(var i=0;i<n;++i)for(var h=0;h<2;++h){for(var p=[];o[h][i].length>0;){o[0][i].length;var m=f(i,h);d(p,m)?p.push.apply(p,m):(p.length>0&&l.push(p),p=m)}p.length>0&&l.push(p)}return l};var r=e("compare-angle")},{"compare-angle":68}],233:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=r(e,t.length),a=new Array(t.length),o=new Array(t.length),i=[],s=0;s<t.length;++s){var l=n[s].length;o[s]=l,a[s]=!0,l<=1&&i.push(s)}for(;i.length>0;){var u=i.pop();a[u]=!1;for(var c=n[u],s=0;s<c.length;++s){var f=c[s];0==--o[f]&&i.push(f)}}for(var d=new Array(t.length),h=[],s=0;s<t.length;++s)if(a[s]){var u=h.length;d[s]=u,h.push(t[s])}else d[s]=-1;for(var p=[],s=0;s<e.length;++s){var m=e[s];a[m[0]]&&a[m[1]]&&p.push([d[m[0]],d[m[1]]])}return[p,h]};var r=e("edges-to-adjacency-list")},{"edges-to-adjacency-list":93}],234:[function(e,t,n){"use strict";t.exports=function(e,t){var n=u(e,t);e=n[0];for(var f=(t=n[1]).length,d=(e.length,r(e,t.length)),h=0;h<f;++h)if(d[h].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");for(var p=a(e,t),m=(p=p.filter(function(e){for(var n=e.length,r=[0],a=0;a<n;++a){var o=t[e[a]],l=t[e[(a+1)%n]],u=i(-o[0],o[1]),c=i(-o[0],l[1]),f=i(l[0],o[1]),d=i(l[0],l[1]);r=s(r,s(s(u,c),s(f,d)))}return r[r.length-1]>0})).length,v=new Array(m),g=new Array(m),h=0;h<m;++h){v[h]=h;var y=new Array(m),b=p[h].map(function(e){return t[e]}),_=o([b]),x=0;e:for(var w=0;w<m;++w)if(y[w]=0,h!==w){for(var k=p[w],A=k.length,T=0;T<A;++T){var M=_(t[k[T]]);if(0!==M){M<0&&(y[w]=1,x+=1);continue e}}y[w]=1,x+=1}g[h]=[x,h,y]}g.sort(function(e,t){return t[0]-e[0]});for(var h=0;h<m;++h)for(var y=g[h],E=y[1],C=y[2],w=0;w<m;++w)C[w]&&(v[w]=E);for(var S=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=[];return t}(m),h=0;h<m;++h)S[h].push(v[h]),S[v[h]].push(h);for(var j={},O=c(f,!1),h=0;h<m;++h)for(var k=p[h],A=k.length,w=0;w<A;++w){var P=k[w],N=k[(w+1)%A],I=Math.min(P,N)+":"+Math.max(P,N);if(I in j){var L=j[I];S[L].push(h),S[h].push(L),O[P]=O[N]=!0}else j[I]=h}function D(e){for(var t=e.length,n=0;n<t;++n)if(!O[e[n]])return!1;return!0}for(var R=[],z=c(m,-1),h=0;h<m;++h)v[h]!==h||D(p[h])?z[h]=-1:(R.push(h),z[h]=0);for(var n=[];R.length>0;){var F=R.pop(),B=S[F];l(B,function(e,t){return e-t});var U,H=B.length,q=z[F];if(0===q){var k=p[F];U=[k]}for(var h=0;h<H;++h){var V=B[h];if(!(z[V]>=0)&&(z[V]=1^q,R.push(V),0===q)){var k=p[V];D(k)||(k.reverse(),U.push(k))}}0===q&&n.push(U)}return n};var r=e("edges-to-adjacency-list"),a=e("planar-dual"),o=e("point-in-big-polygon"),i=e("two-product"),s=e("robust-sum"),l=e("uniq"),u=e("./lib/trim-leaves");function c(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}},{"./lib/trim-leaves":233,"edges-to-adjacency-list":93,"planar-dual":232,"point-in-big-polygon":238,"robust-sum":266,"two-product":287,uniq:291}],235:[function(e,t,n){"use strict";t.exports=e("./quad")},{"./quad":237}],236:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],237:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),a=e("clamp"),o=e("parse-rect"),i=e("array-bounds"),s=e("pick-by-alias"),l=e("defined"),u=e("flatten-vertex-data"),c=e("is-obj"),f=e("dtype"),d=e("math-log2");function h(e,t){for(var n=t[0],r=t[1],o=t[2],i=t[3],s=1/(o-n),l=1/(i-r),u=new Array(e.length),c=0,f=e.length/2;c<f;c++)u[2*c]=a((e[2*c]-n)*s,0,1),u[2*c+1]=a((e[2*c+1]-r)*l,0,1);return u}t.exports=function(e,t){t||(t={}),e=u(e,"float64"),t=s(t,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var n=l(t.maxDepth,255),a=l(t.bounds,i(e,2));a[0]===a[2]&&a[2]++,a[1]===a[3]&&a[3]++;var p,m=h(e,a),v=e.length>>>1;t.dtype||(t.dtype="array"),"string"==typeof t.dtype?p=new(f(t.dtype))(v):t.dtype&&(p=t.dtype,Array.isArray(p)&&(p.length=v));for(var g=0;g<v;++g)p[g]=g;var y=[],b=[],_=[],x=[];!function e(t,r,a,o,i,s){if(!o.length)return null;var l=y[i]||(y[i]=[]),u=_[i]||(_[i]=[]),c=b[i]||(b[i]=[]),f=l.length;if(++i>n){for(var d=0;d<o.length;d++)l.push(o[d]),u.push(s),c.push(null,null,null,null);return f}if(l.push(o[0]),u.push(s),o.length<=1)return c.push(null,null,null,null),f;for(var h=.5*a,p=t+h,v=r+h,g=[],x=[],w=[],k=[],A=1,T=o.length;A<T;A++){var M=o[A],E=m[2*M],C=m[2*M+1];E<p?C<v?g.push(M):x.push(M):C<v?w.push(M):k.push(M)}return s<<=2,c.push(e(t,r,h,g,i,s),e(t,v,h,x,i,s+1),e(p,r,h,w,i,s+2),e(p,v,h,k,i,s+3)),f}(0,0,1,p,0,1);for(var w=0,k=0;k<y.length;k++){var A=y[k];if(p.set)p.set(A,w);else for(var T=0,M=A.length;T<M;T++)p[T+w]=A[T];var E=w+y[k].length;x[k]=[w,E],w=E}return p.range=function(){for(var t,n=[],i=arguments.length;i--;)n[i]=arguments[i];if(c(n[n.length-1])){var u=n.pop();n.length||null==u.x&&null==u.l&&null==u.left||(n=[u],t={}),t=s(u,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else t={};n.length||(n=a);var f,p=o.apply(void 0,n),m=[Math.min(p.x,p.x+p.width),Math.min(p.y,p.y+p.height),Math.max(p.x,p.x+p.width),Math.max(p.y,p.y+p.height)],v=m[0],g=m[1],w=m[2],k=m[3],A=h([v,g,w,k],a),T=A[0],M=A[1],E=A[2],S=A[3],j=l(t.level,y.length);if(null!=t.d&&("number"==typeof t.d?f=[t.d,t.d]:t.d.length&&(f=t.d),j=Math.min(Math.max(Math.ceil(-d(Math.abs(f[0])/(a[2]-a[0]))),Math.ceil(-d(Math.abs(f[1])/(a[3]-a[1])))),j)),j=Math.min(j,y.length),t.lod)return function(e,t,n,a,o){for(var i=[],s=0;s<o;s++){var l=_[s],u=x[s][0],c=C(e,t,s),f=C(n,a,s),d=r.ge(l,c),h=r.gt(l,f,d,l.length-1);i[s]=[d+u,h+u]}return i}(T,M,E,S,j);var O=[];return function t(n,r,a,o,i,s){if(null!==i&&null!==s){var l=n+a,u=r+a;if(!(T>l||M>u||E<n||S<r||o>=j||i===s)){var c=y[o];void 0===s&&(s=c.length);for(var f=i;f<s;f++){var d=c[f],h=e[2*d],p=e[2*d+1];h>=v&&h<=w&&p>=g&&p<=k&&O.push(d)}var m=b[o],_=m[4*i+0],x=m[4*i+1],A=m[4*i+2],C=m[4*i+3],P=function(e,t){for(var n=null,r=0;null===n;)if(n=e[4*t+r],++r>e.length)return null;return n}(m,i+1),N=.5*a,I=o+1;t(n,r,N,I,_,x||A||C||P),t(n,r+N,N,I,x,A||C||P),t(n+N,r,N,I,A,C||P),t(n+N,r+N,N,I,C,P)}}}(0,0,1,0,0,1),O},p;function C(e,t,n){for(var r=1,a=.5,o=.5,i=.5,s=0;s<n;s++)r<<=2,r+=e<a?t<o?0:1:t<o?2:3,i*=.5,a+=e<a?-i:i,o+=t<o?-i:i;return r}}},{"array-bounds":13,"binary-search-bounds":236,clamp:58,defined:86,dtype:90,"flatten-vertex-data":150,"is-obj":209,"math-log2":212,"parse-rect":225,"pick-by-alias":231}],238:[function(e,t,n){t.exports=function(e){for(var t=e.length,n=[],o=[],s=0;s<t;++s)for(var c=e[s],f=c.length,d=f-1,h=0;h<f;d=h++){var p=c[d],m=c[h];p[0]===m[0]?o.push([p,m]):n.push([p,m])}if(0===n.length)return 0===o.length?u:function(e){return function(t){return e(t[0],t[1])?0:1}}(l(o));var v=a(n),g=function(e,t){return function(n){var a=i.le(t,n[0]);if(a<0)return 1;var o=e[a];if(!o){if(!(a>0&&t[a]===n[0]))return 1;o=e[a-1]}for(var s=1;o;){var l=o.key,u=r(n,l[0],l[1]);if(l[0][0]<l[1][0])if(u<0)o=o.left;else{if(!(u>0))return 0;s=-1,o=o.right}else if(u>0)o=o.left;else{if(!(u<0))return 0;s=1,o=o.right}}return s}}(v.slabs,v.coordinates);return 0===o.length?g:function(e,t){return function(n){return e(n[0],n[1])?0:t(n)}}(l(o),g)};var r=e("robust-orientation")[3],a=e("slab-decomposition"),o=e("interval-tree-1d"),i=e("binary-search-bounds");function s(){return!0}function l(e){for(var t={},n=0;n<e.length;++n){var r=e[n],a=r[0][0],i=r[0][1],l=r[1][1],u=[Math.min(i,l),Math.max(i,l)];a in t?t[a].push(u):t[a]=[u]}for(var c={},f=Object.keys(t),n=0;n<f.length;++n){var d=t[f[n]];c[f[n]]=o(d)}return function(e){return function(t,n){var r=e[t];return!!r&&!!r.queryPoint(n,s)}}(c)}function u(e){return 1}},{"binary-search-bounds":38,"interval-tree-1d":203,"robust-orientation":261,"slab-decomposition":273}],239:[function(e,t,n){
/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
var r,a=e("./lib/build-log"),o=e("./lib/epsilon"),i=e("./lib/intersecter"),s=e("./lib/segment-chainer"),l=e("./lib/segment-selector"),u=e("./lib/geojson"),c=!1,f=o();function d(e,t,n){var a=r.segments(e),o=r.segments(t),i=r.combine(a,o),s=n(i);return r.polygon(s)}r={buildLog:function(e){return!0===e?c=a():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return f.epsilon(e)},segments:function(e){var t=i(!0,f,c);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){var n=i(!1,f,c);return{combined:n.calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:l.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:l.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:l.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:l.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:l.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:s(e.segments,f,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return u.toPolygon(r,e)},polygonToGeoJSON:function(e){return u.fromPolygon(r,f,e)},union:function(e,t){return d(e,t,r.selectUnion)},intersect:function(e,t){return d(e,t,r.selectIntersect)},difference:function(e,t){return d(e,t,r.selectDifference)},differenceRev:function(e,t){return d(e,t,r.selectDifferenceRev)},xor:function(e,t){return d(e,t,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),t.exports=r},{"./lib/build-log":240,"./lib/epsilon":241,"./lib/geojson":242,"./lib/intersecter":243,"./lib/segment-chainer":245,"./lib/segment-selector":246}],240:[function(e,t,n){t.exports=function(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}},{}],241:[function(e,t,n){t.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var a=n[0],o=n[1],i=r[0],s=r[1],l=t[0],u=t[1];return(i-a)*(u-o)-(s-o)*(l-a)>=-e},pointBetween:function(t,n,r){var a=t[1]-n[1],o=r[0]-n[0],i=t[0]-n[0],s=r[1]-n[1],l=i*o+a*s;if(l<e)return!1;var u=o*o+s*s;return!(l-u>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var a=t[0]-n[0],o=t[1]-n[1],i=n[0]-r[0],s=n[1]-r[1];return Math.abs(a*s-i*o)<e},linesIntersect:function(t,n,r,a){var o=n[0]-t[0],i=n[1]-t[1],s=a[0]-r[0],l=a[1]-r[1],u=o*l-i*s;if(Math.abs(u)<e)return!1;var c=t[0]-r[0],f=t[1]-r[1],d=(s*f-l*c)/u,h=(o*f-i*c)/u,p={alongA:0,alongB:0,pt:[t[0]+d*o,t[1]+d*i]};return p.alongA=d<=-e?-2:d<e?-1:d-1<=-e?0:d-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(t,n){for(var r=t[0],a=t[1],o=n[n.length-1][0],i=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var u=n[l][0],c=n[l][1];c-a>e!=i-a>e&&(o-u)*(a-c)/(i-c)+u-r>e&&(s=!s),o=u,i=c}return s}};return t}},{}],242:[function(e,t,n){var r={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),a=1;a<t.length;a++)r=e.selectDifference(e.combine(r,n(t[a])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),a=0;a<t.coordinates.length;a++)r=e.selectUnion(e.combine(r,n(t.coordinates[a])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function a(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var o=a(null);function i(e,t){for(var n=0;n<e.children.length;n++){var o=e.children[n];if(r(t,o.region))return void i(o,t)}for(var s=a(t),n=0;n<e.children.length;n++){var o=e.children[n];r(o.region,t)&&(s.children.push(o),e.children.splice(n,1),n--)}e.children.push(s)}for(var s=0;s<n.regions.length;s++){var l=n.regions[s];l.length<3||i(o,l)}function u(e,t){for(var n=0,r=e[e.length-1][0],a=e[e.length-1][1],o=[],i=0;i<e.length;i++){var s=e[i][0],l=e[i][1];o.push([s,l]),n+=l*r-s*a,r=s,a=l}var u=n<0;return u!==t&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var c=[];function f(e){var t=[u(e.region,!1)];c.push(t);for(var n=0;n<e.children.length;n++)t.push(d(e.children[n]))}function d(e){for(var t=0;t<e.children.length;t++)f(e.children[t]);return u(e.region,!0)}for(var s=0;s<o.children.length;s++)f(o.children[s]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};t.exports=r},{}],243:[function(e,t,n){var r=e("./linked-list");t.exports=function(e,t,n){function a(e,t){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:null,below:null},otherFill:null}}function o(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var i=r.create();function s(e,n){i.insertBefore(e,function(r){var a=function(e,n,r,a,o,i){var s=t.pointsCompare(n,o);return 0!==s?s:t.pointsSame(r,i)?0:e!==a?e?1:-1:t.pointAboveOrOnLine(r,a?o:i,a?i:o)?1:-1}(e.isStart,e.pt,n,r.isStart,r.pt,r.other.pt);return a<0})}function l(e,t){var n=function(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return s(n,e.end),n}(e,t);return function(e,t,n){var a=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=a,s(a,e.pt)}(n,e,t),n}function u(e,t){var r=o(t,e.seg.end,e.seg);return function(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,s(e.other,e.pt)}(e,t),l(r,e.primary)}function c(a,o){var s=r.create();function l(e){return s.findTransition(function(n){var r=function(e,n){var r=e.seg.start,a=e.seg.end,o=n.seg.start,i=n.seg.end;return t.pointsCollinear(r,o,i)?t.pointsCollinear(a,o,i)?1:t.pointAboveOrOnLine(a,o,i)?1:-1:t.pointAboveOrOnLine(r,o,i)?1:-1}(e,n.ev);return r>0})}function c(e,r){var a=e.seg,o=r.seg,i=a.start,s=a.end,l=o.start,c=o.end;n&&n.checkIntersection(a,o);var f=t.linesIntersect(i,s,l,c);if(!1===f){if(!t.pointsCollinear(i,s,l))return!1;if(t.pointsSame(i,c)||t.pointsSame(s,l))return!1;var d=t.pointsSame(i,l),h=t.pointsSame(s,c);if(d&&h)return r;var p=!d&&t.pointBetween(i,l,c),m=!h&&t.pointBetween(s,l,c);if(d)return m?u(r,s):u(e,c),r;p&&(h||(m?u(r,s):u(e,c)),u(r,i))}else 0===f.alongA&&(-1===f.alongB?u(e,l):0===f.alongB?u(e,f.pt):1===f.alongB&&u(e,c)),0===f.alongB&&(-1===f.alongA?u(r,i):0===f.alongA?u(r,f.pt):1===f.alongA&&u(r,s));return!1}for(var f=[];!i.isEmpty();){var d=i.getHead();if(n&&n.vert(d.pt[0]),d.isStart){n&&n.segmentNew(d.seg,d.primary);var h=l(d),p=h.before?h.before.ev:null,m=h.after?h.after.ev:null;function v(){if(p){var e=c(d,p);if(e)return e}return!!m&&c(d,m)}n&&n.tempStatus(d.seg,!!p&&p.seg,!!m&&m.seg);var g,y,b=v();if(b&&(e?(y=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(b.seg.myFill.above=!b.seg.myFill.above):b.seg.otherFill=d.seg.myFill,n&&n.segmentUpdate(b.seg),d.other.remove(),d.remove()),i.getHead()!==d){n&&n.rewind(d.seg);continue}e?(y=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below,d.seg.myFill.below=m?m.seg.myFill.above:a,d.seg.myFill.above=y?!d.seg.myFill.below:d.seg.myFill.below):null===d.seg.otherFill&&(g=m?d.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:d.primary?o:a,d.seg.otherFill={above:g,below:g}),n&&n.status(d.seg,!!p&&p.seg,!!m&&m.seg),d.other.status=h.insert(r.node({ev:d}))}else{var _=d.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(_.prev)&&s.exists(_.next)&&c(_.prev.ev,_.next.ev),n&&n.statusRemove(_.ev.seg),_.remove(),!d.primary){var x=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=x}f.push(d.seg)}i.getHead().remove()}return n&&n.done(),f}return e?{addRegion:function(e){for(var n,r=e[e.length-1],o=0;o<e.length;o++){n=r,r=e[o];var i=t.pointsCompare(n,r);0!==i&&l(a(i<0?n:r,i<0?r:n),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach(function(e){l(o(e.start,e.end,e),!0)}),n.forEach(function(e){l(o(e.start,e.end,e),!1)}),c(t,r)}}}},{"./linked-list":244}],244:[function(e,t,n){t.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,a=e.root.next;null!==a;){if(n(a))return t.prev=a.prev,t.next=a,a.prev.next=t,void(a.prev=t);r=a,a=a.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},{}],245:[function(e,t,n){t.exports=function(e,t,n){var r=[],a=[];return e.forEach(function(e){var o=e.start,i=e.end;if(t.pointsSame(o,i))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},u=s,c=0;c<r.length;c++){var f=(v=r[c])[0],d=(v[1],v[v.length-1]);if(v[v.length-2],t.pointsSame(f,o)){if(A(c,!0,!0))break}else if(t.pointsSame(f,i)){if(A(c,!0,!1))break}else if(t.pointsSame(d,o)){if(A(c,!1,!0))break}else if(t.pointsSame(d,i)&&A(c,!1,!1))break}if(u===s)return r.push([o,i]),void(n&&n.chainNew(o,i));if(u===l){n&&n.chainMatch(s.index);var h=s.index,p=s.matches_pt1?i:o,m=s.matches_head,v=r[h],g=m?v[0]:v[v.length-1],y=m?v[1]:v[v.length-2],b=m?v[v.length-1]:v[0],_=m?v[v.length-2]:v[1];return t.pointsCollinear(y,g,p)&&(m?(n&&n.chainRemoveHead(s.index,p),v.shift()):(n&&n.chainRemoveTail(s.index,p),v.pop()),g=y),t.pointsSame(b,p)?(r.splice(h,1),t.pointsCollinear(_,b,g)&&(m?(n&&n.chainRemoveTail(s.index,g),v.pop()):(n&&n.chainRemoveHead(s.index,g),v.shift())),n&&n.chainClose(s.index),void a.push(v)):void(m?(n&&n.chainAddHead(s.index,p),v.unshift(p)):(n&&n.chainAddTail(s.index,p),v.push(p)))}var x=s.index,w=l.index;n&&n.chainConnect(x,w);var k=r[x].length<r[w].length;s.matches_head?l.matches_head?k?(T(x),M(x,w)):(T(w),M(w,x)):M(w,x):l.matches_head?M(x,w):k?(T(x),M(w,x)):(T(w),M(x,w))}function A(e,t,n){return u.index=e,u.matches_head=t,u.matches_pt1=n,u===s?(u=l,!1):(u=null,!0)}function T(e){n&&n.chainReverse(e),r[e].reverse()}function M(e,a){var o=r[e],i=r[a],s=o[o.length-1],l=o[o.length-2],u=i[0],c=i[1];t.pointsCollinear(l,s,u)&&(n&&n.chainRemoveTail(e,s),o.pop(),s=l),t.pointsCollinear(s,u,c)&&(n&&n.chainRemoveHead(a,u),i.shift()),n&&n.chainJoin(e,a),r[e]=o.concat(i),r.splice(a,1)}}),a}},{}],246:[function(e,t,n){function r(e,t,n){var r=[];return e.forEach(function(e){var a=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[a]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[a],below:2===t[a]},otherFill:null})}),n&&n.selected(r),r}var a={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};t.exports=a},{}],247:[function(e,t,n){var r,a,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var u,c=[],f=!1,d=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!f){var e=l(h);f=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,f=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||f||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],248:[function(e,n,r){(function(t){for(var r=e("performance-now"),a="undefined"==typeof window?t:window,o=["moz","webkit"],i="AnimationFrame",s=a["request"+i],l=a["cancel"+i]||a["cancelRequest"+i],u=0;!s&&u<o.length;u++)s=a[o[u]+"Request"+i],l=a[o[u]+"Cancel"+i]||a[o[u]+"CancelRequest"+i];if(!s||!l){var c=0,f=0,d=[];s=function(e){if(0===d.length){var t=r(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++f,callback:e,cancelled:!1}),f},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}n.exports=function(e){return s.call(a,e)},n.exports.cancel=function(){l.apply(a,arguments)},n.exports.polyfill=function(e){e||(e=a),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":228}],249:[function(e,t,n){"use strict";var r=e("big-rat/add");t.exports=function(e,t){for(var n=e.length,a=new Array(n),o=0;o<n;++o)a[o]=r(e[o],t[o]);return a}},{"big-rat/add":22}],250:[function(e,t,n){"use strict";t.exports=function(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=r(e[n]);return t};var r=e("big-rat")},{"big-rat":25}],251:[function(e,t,n){"use strict";var r=e("big-rat"),a=e("big-rat/mul");t.exports=function(e,t){for(var n=r(t),o=e.length,i=new Array(o),s=0;s<o;++s)i[s]=a(e[s],n);return i}},{"big-rat":25,"big-rat/mul":34}],252:[function(e,t,n){"use strict";var r=e("big-rat/sub");t.exports=function(e,t){for(var n=e.length,a=new Array(n),o=0;o<n;++o)a[o]=r(e[o],t[o]);return a}},{"big-rat/sub":36}],253:[function(e,t,n){"use strict";var r=e("array-bounds"),a=e("color-normalize"),o=e("update-diff"),i=e("pick-by-alias"),s=e("object-assign"),l=e("flatten-vertex-data"),u=e("to-float32"),c=u.float32,f=u.fract32;t.exports=function(e,t){if("function"==typeof e?(t||(t={}),t.regl=e):t=e,t.length&&(t.positions=t),!(e=t.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var n,u,h,p,m,v,g=e._gl,y={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},b=[];return p=e.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),m=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),v=e.buffer({usage:"static",type:"float",data:d}),k(t),n=e({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision mediump float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:e.prop("range"),lineWidth:e.prop("lineWidth"),capSize:e.prop("capSize"),opacity:e.prop("opacity"),scale:e.prop("scale"),translate:e.prop("translate"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]}},attributes:{color:{buffer:p,offset:function(e,t){return 4*t.offset},divisor:1},position:{buffer:u,offset:function(e,t){return 8*t.offset},divisor:1},positionFract:{buffer:h,offset:function(e,t){return 8*t.offset},divisor:1},error:{buffer:m,offset:function(e,t){return 16*t.offset},divisor:1},direction:{buffer:v,stride:24,offset:0},lineOffset:{buffer:v,stride:24,offset:8},capOffset:{buffer:v,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:!1,instances:e.prop("count"),count:d.length}),s(_,{update:k,draw:x,destroy:A,regl:e,gl:g,canvas:g.canvas,groups:b}),_;function _(e){e?k(e):null===e&&A(),x()}function x(t){if("number"==typeof t)return w(t);t&&!Array.isArray(t)&&(t=[t]),e._refresh(),b.forEach(function(e,n){e&&(t&&(t[n]?e.draw=!0:e.draw=!1),e.draw?w(n):e.draw=!0)})}function w(e){"number"==typeof e&&(e=b[e]),null!=e&&e&&e.count&&e.color&&e.opacity&&e.positions&&e.positions.length>1&&(e.scaleRatio=[e.scale[0]*e.viewport.width,e.scale[1]*e.viewport.height],n(e),e.after&&e.after(e))}function k(e){if(e){null!=e.length?"number"==typeof e[0]&&(e=[{positions:e}]):Array.isArray(e)||(e=[e]);var t=0,n=0;if(_.groups=b=e.map(function(e,u){var c=b[u];return e?("function"==typeof e?e={after:e}:"number"==typeof e[0]&&(e={positions:e}),e=i(e,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),c||(b[u]=c={id:u,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},e=s({},y,e)),o(c,e,[{lineWidth:function(e){return.5*+e},capSize:function(e){return.5*+e},opacity:parseFloat,errors:function(e){return e=l(e),n+=e.length,e},positions:function(e,n){return e=l(e,"float64"),n.count=Math.floor(e.length/2),n.bounds=r(e,2),n.offset=t,t+=n.count,e}},{color:function(e,t){var n=t.count;if(e||(e="transparent"),!Array.isArray(e)||"number"==typeof e[0]){var r=e;e=Array(n);for(var o=0;o<n;o++)e[o]=r}if(e.length<n)throw Error("Not enough colors");for(var i=new Uint8Array(4*n),s=0;s<n;s++){var l=a(e[s],"uint8");i.set(l,4*s)}return i},range:function(e,t,n){var r=t.bounds;return e||(e=r),t.scale=[1/(e[2]-e[0]),1/(e[3]-e[1])],t.translate=[-e[0],-e[1]],t.scaleFract=f(t.scale),t.translateFract=f(t.translate),e},viewport:function(e){var t;return Array.isArray(e)?t={x:e[0],y:e[1],width:e[2]-e[0],height:e[3]-e[1]}:e?(t={x:e.x||e.left||0,y:e.y||e.top||0},e.right?t.width=e.right-t.x:t.width=e.w||e.width||0,e.bottom?t.height=e.bottom-t.y:t.height=e.h||e.height||0):t={x:0,y:0,width:g.drawingBufferWidth,height:g.drawingBufferHeight},t}}]),c):c}),t||n){var d=b.reduce(function(e,t,n){return e+(t?t.count:0)},0),v=new Float64Array(2*d),x=new Uint8Array(4*d),w=new Float32Array(4*d);b.forEach(function(e,t){if(e){var n=e.positions,r=e.count,a=e.offset,o=e.color,i=e.errors;r&&(x.set(o,4*a),w.set(i,4*a),v.set(n,2*a))}}),u(c(v)),h(f(v)),p(x),m(w)}}}function A(){u.destroy(),h.destroy(),p.destroy(),m.destroy(),v.destroy()}};var d=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},{"array-bounds":13,"color-normalize":63,"flatten-vertex-data":150,"object-assign":222,"pick-by-alias":231,"to-float32":284,"update-diff":293}],254:[function(e,t,n){"use strict";var r=e("color-normalize"),a=e("array-bounds"),o=e("object-assign"),i=e("glslify"),s=e("pick-by-alias"),l=e("flatten-vertex-data"),u=e("earcut"),c=e("array-normalize"),f=e("to-float32"),d=f.float32,h=f.fract32,p=e("es6-weak-map"),m=e("parse-rect");function v(e,t){if(!(this instanceof v))return new v(e,t);if("function"==typeof e?(t||(t={}),t.regl=e):t=e,t.length&&(t.positions=t),!(e=t.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=e._gl,this.regl=e,this.passes=[],this.shaders=v.shaders.has(e)?v.shaders.get(e):v.shaders.set(e,v.createShaders(e)).get(e),this.update(t)}t.exports=v,v.dashMult=2,v.maxPatternLength=256,v.precisionThreshold=3e6,v.maxPoints=1e4,v.maxLines=2048,v.shaders=new p,v.createShaders=function(e){var t,n=e.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),r={primitive:"triangle strip",instances:e.prop("count"),count:4,offset:0,uniforms:{miterMode:function(e,t){return"round"===t.join?2:1},miterLimit:e.prop("miterLimit"),scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),thickness:e.prop("thickness"),dashPattern:e.prop("dashTexture"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),dashSize:e.prop("dashLength"),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]},depth:e.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(e,t){return!t.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport")},a=e(o({vert:i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:i(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D dashPattern;\n\nuniform float dashSize, pixelRatio, thickness, opacity, id;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashSize) * .5 + .25;\n\tfloat dash = texture2D(dashPattern, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:n,divisor:0,stride:8,offset:0},lineTop:{buffer:n,divisor:0,stride:8,offset:4},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},r));try{t=e(o({cull:{enable:!0,face:"back"},vert:i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n\t// adjust scale for horizontal bars\n\tvec2 scale = max(scale, MIN_DIFF);\n\tvec2 scaleRatio = scale * viewport.zw;\n\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * scale + translate;\n\tvec2 aBotPosition = (aBotCoord) * scale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * scale + translate;\n\tvec2 bBotPosition = (bBotCoord) * scale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:i(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D dashPattern;\nuniform float dashSize, pixelRatio, thickness, opacity, id, miterMode;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashSize) * .5 + .25;\n\tfloat dash = texture2D(dashPattern, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:n,divisor:0,stride:8,offset:0},lineTop:{buffer:n,divisor:0,stride:8,offset:4},aColor:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:e.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},r))}catch(e){t=a}var s=e({primitive:"triangle",elements:function(e,t){return t.triangles},offset:0,vert:i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:i(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:e.prop("scale"),color:e.prop("fill"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]}},attributes:{position:{buffer:e.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8}},blend:r.blend,depth:{enable:!1},scissor:r.scissor,stencil:r.stencil,viewport:r.viewport});return{fill:s,rect:a,miter:t}},v.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},v.prototype.render=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];t.length&&(e=this).update.apply(e,t),this.draw()},v.prototype.draw=function(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(t.length?t:this.passes).forEach(function(t,n){var r;if(t&&Array.isArray(t))return(r=e).draw.apply(r,t);"number"==typeof t&&(t=e.passes[t]),t&&t.count>1&&t.opacity&&(e.regl._refresh(),t.fill&&t.triangles&&t.triangles.length>2&&e.shaders.fill(t),t.thickness&&(t.scale[0]*t.viewport.width>v.precisionThreshold||t.scale[1]*t.viewport.height>v.precisionThreshold?e.shaders.rect(t):"rect"===t.join||!t.join&&(t.thickness<=2||t.count>=v.maxPoints)?e.shaders.rect(t):e.shaders.miter(t)))}),this},v.prototype.update=function(e){var t=this;if(e){null!=e.length?"number"==typeof e[0]&&(e=[{positions:e}]):Array.isArray(e)||(e=[e]);var n=this.regl,i=this.gl;if(e.forEach(function(e,f){var p=t.passes[f];if(void 0!==e)if(null!==e){if("number"==typeof e[0]&&(e={positions:e}),e=s(e,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow"}),p||(t.passes[f]=p={id:f,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:n.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},e=o({},v.defaults,e)),null!=e.thickness&&(p.thickness=parseFloat(e.thickness)),null!=e.opacity&&(p.opacity=parseFloat(e.opacity)),null!=e.miterLimit&&(p.miterLimit=parseFloat(e.miterLimit)),null!=e.overlay&&(p.overlay=!!e.overlay,f<v.maxLines&&(p.depth=2*(v.maxLines-1-f%v.maxLines)/v.maxLines-1)),null!=e.join&&(p.join=e.join),null!=e.hole&&(p.hole=e.hole),null!=e.fill&&(p.fill=e.fill?r(e.fill,"uint8"):null),null!=e.viewport&&(p.viewport=m(e.viewport)),p.viewport||(p.viewport=m([i.drawingBufferWidth,i.drawingBufferHeight])),null!=e.close&&(p.close=e.close),null===e.positions&&(e.positions=[]),e.positions){var g,y;if(e.positions.x&&e.positions.y){var b=e.positions.x,_=e.positions.y;y=p.count=Math.max(b.length,_.length),g=new Float64Array(2*y);for(var x=0;x<y;x++)g[2*x]=b[x],g[2*x+1]=_[x]}else g=l(e.positions,"float64"),y=p.count=Math.floor(g.length/2);var w=p.bounds=a(g,2);if(p.fill){for(var k=[],A={},T=0,M=0,E=0,C=p.count;M<C;M++){var S=g[2*M],j=g[2*M+1];isNaN(S)||isNaN(j)||null==S||null==j?(S=g[2*T],j=g[2*T+1],A[M]=T):T=M,k[E++]=S,k[E++]=j}for(var O=u(k,p.hole||[]),P=0,N=O.length;P<N;P++)null!=A[O[P]]&&(O[P]=A[O[P]]);p.triangles=O}var I=new Float64Array(g);c(I,2,w);var L=new Float64Array(2*y+6);p.close?g[0]===g[2*y-2]&&g[1]===g[2*y-1]?(L[0]=I[2*y-4],L[1]=I[2*y-3]):(L[0]=I[2*y-2],L[1]=I[2*y-1]):(L[0]=I[0],L[1]=I[1]),L.set(I,2),p.close?g[0]===g[2*y-2]&&g[1]===g[2*y-1]?(L[2*y+2]=I[2],L[2*y+3]=I[3],p.count-=1):(L[2*y+2]=I[0],L[2*y+3]=I[1],L[2*y+4]=I[2],L[2*y+5]=I[3]):(L[2*y+2]=I[2*y-2],L[2*y+3]=I[2*y-1],L[2*y+4]=I[2*y-2],L[2*y+5]=I[2*y-1]),p.positionBuffer(d(L)),p.positionFractBuffer(h(L))}if(e.range?p.range=e.range:p.range||(p.range=p.bounds),(e.range||e.positions)&&p.count){var D=p.bounds,R=D[2]-D[0],z=D[3]-D[1],F=p.range[2]-p.range[0],B=p.range[3]-p.range[1];p.scale=[R/F,z/B],p.translate=[-p.range[0]/F+D[0]/F||0,-p.range[1]/B+D[1]/B||0],p.scaleFract=h(p.scale),p.translateFract=h(p.translate)}if(e.dashes){var U,H=0;if(!e.dashes||e.dashes.length<2)H=1,U=new Uint8Array([255,255,255,255,255,255,255,255]);else{H=0;for(var q=0;q<e.dashes.length;++q)H+=e.dashes[q];U=new Uint8Array(H*v.dashMult);for(var V=0,W=255,G=0;G<2;G++)for(var X=0;X<e.dashes.length;++X){for(var Y=0,K=e.dashes[X]*v.dashMult*.5;Y<K;++Y)U[V++]=W;W^=255}}p.dashLength=H,p.dashTexture({channels:1,data:U,width:U.length,height:1,mag:"linear",min:"linear"},0,0)}if(e.color){var Z=p.count,J=e.color;J||(J="transparent");var Q=new Uint8Array(4*Z+4);if(Array.isArray(J)&&"number"!=typeof J[0]){for(var $=0;$<Z;$++){var ee=r(J[$],"uint8");Q.set(ee,4*$)}Q.set(r(J[0],"uint8"),4*Z)}else for(var te=r(J,"uint8"),ne=0;ne<Z+1;ne++)Q.set(te,4*ne);p.colorBuffer({usage:"dynamic",type:"uint8",data:Q})}}else t.passes[f]=null}),e.length<this.passes.length){for(var f=e.length;f<this.passes.length;f++){var p=t.passes[f];p&&(p.colorBuffer.destroy(),p.positionBuffer.destroy(),p.dashTexture.destroy())}this.passes.length=e.length}for(var g=[],y=0;y<this.passes.length;y++)null!==t.passes[y]&&g.push(t.passes[y]);return this.passes=g,this}},v.prototype.destroy=function(){return this.passes.forEach(function(e){e.colorBuffer.destroy(),e.positionBuffer.destroy(),e.dashTexture.destroy()}),this.passes.length=0,this}},{"array-bounds":13,"array-normalize":14,"color-normalize":63,earcut:92,"es6-weak-map":145,"flatten-vertex-data":150,glslify:199,"object-assign":222,"parse-rect":225,"pick-by-alias":231,"to-float32":284}],255:[function(e,t,n){"use strict";var r=e("./scatter"),a=e("object-assign");t.exports=function(e,t){var n=new r(e,t),o=n.render.bind(n);return a(o,{render:o,update:n.update.bind(n),draw:n.draw.bind(n),destroy:n.destroy.bind(n),regl:n.regl,gl:n.gl,canvas:n.gl.canvas,groups:n.groups,markers:n.markerCache,palette:n.palette}),o}},{"./scatter":256,"object-assign":222}],256:[function(e,t,n){"use strict";var r=e("color-normalize"),a=e("array-bounds"),o=e("color-id"),i=e("point-cluster"),s=e("object-assign"),l=e("glslify"),u=e("pick-by-alias"),c=e("update-diff"),f=e("flatten-vertex-data"),d=e("is-iexplorer"),h=e("to-float32"),p=e("parse-rect");function m(e,t){var n=this;if(!(this instanceof m))return new m(e,t);"function"==typeof e?(t||(t={}),t.regl=e):(t=e,e=null),t&&t.length&&(t.positions=t);var r,a=(e=t.regl)._gl,o=[];this.tooManyColors=d,r=e.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),s(this,{regl:e,gl:a,groups:[],markerCache:[null],markerTextures:[null],palette:o,paletteIds:{},paletteTexture:r,maxColors:255,maxSize:100,canvas:a.canvas}),this.update(t);var i={uniforms:{pixelRatio:e.context("pixelRatio"),palette:r,paletteSize:function(e,t){return[n.tooManyColors?0:255,r.height]},scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translate:e.prop("translate"),translateFract:e.prop("translateFract"),opacity:e.prop("opacity"),marker:e.prop("markerTexture")},attributes:{x:function(e,t){return t.xAttr||{buffer:t.positionBuffer,stride:8,offset:0}},y:function(e,t){return t.yAttr||{buffer:t.positionBuffer,stride:8,offset:4}},xFract:function(e,t){return t.xAttr?{constant:[0,0]}:{buffer:t.positionFractBuffer,stride:8,offset:0}},yFract:function(e,t){return t.yAttr?{constant:[0,0]}:{buffer:t.positionFractBuffer,stride:8,offset:4}},size:function(e,t){return t.size.length?{buffer:t.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*t.size/n.maxSize)]}},borderSize:function(e,t){return t.borderSize.length?{buffer:t.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*t.borderSize/n.maxSize)]}},colorId:function(e,t){return t.color.length?{buffer:t.colorBuffer,stride:n.tooManyColors?8:4,offset:0}:{constant:n.tooManyColors?o.slice(4*t.color,4*t.color+4):[t.color]}},borderColorId:function(e,t){return t.borderColor.length?{buffer:t.colorBuffer,stride:n.tooManyColors?8:4,offset:n.tooManyColors?4:2}:{constant:n.tooManyColors?o.slice(4*t.borderColor,4*t.borderColor+4):[t.borderColor]}},isActive:function(e,t){return!0===t.activation?{constant:[1]}:t.activation?t.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:e.prop("elements"),count:e.prop("count"),offset:e.prop("offset"),primitive:"points"},u=s({},i);u.frag=l(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nuniform sampler2D marker;\nuniform float pixelRatio, opacity;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(marker, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),u.vert=l(["precision mediump float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform float pixelRatio;\nuniform sampler2D palette;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius,\n    fragWidth, fragBorderColorLevel, fragColorLevel;\n\nvec2 paletteCoord(float id) {\n  return vec2(\n    (mod(id, paletteSize.x) + .5) / paletteSize.x,\n    (floor(id / paletteSize.x) + .5) / paletteSize.y\n  );\n}\nvec2 paletteCoord(vec2 id) {\n  return vec2(\n    (id.x + .5) / paletteSize.x,\n    (id.y + .5) / paletteSize.y\n  );\n}\nvec4 getColor(vec4 id) {\n  // zero-palette means we deal with direct buffer\n  if (paletteSize.x == 0.) return id / 255.;\n  return texture2D(palette, paletteCoord(id.xy));\n}\n\nvoid main() {\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pixelRatio;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0, 1);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}\n"]),this.drawMarker=e(u);var c=s({},i);c.frag=l(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\n\nuniform float opacity;\nvarying float fragBorderRadius, fragWidth;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),c.vert=l(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio;\nuniform sampler2D palette;\nuniform vec2 paletteSize;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nvec2 paletteCoord(float id) {\n  return vec2(\n    (mod(id, paletteSize.x) + .5) / paletteSize.x,\n    (floor(id / paletteSize.x) + .5) / paletteSize.y\n  );\n}\nvec2 paletteCoord(vec2 id) {\n  return vec2(\n    (id.x + .5) / paletteSize.x,\n    (id.y + .5) / paletteSize.y\n  );\n}\n\nvec4 getColor(vec4 id) {\n  // zero-palette means we deal with direct buffer\n  if (paletteSize.x == 0.) return id / 255.;\n  return texture2D(palette, paletteCoord(id.xy));\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0, 1);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),d&&(c.frag=c.frag.replace("smoothstep","smoothStep"),u.frag=u.frag.replace("smoothstep","smoothStep")),this.drawCircle=e(c)}t.exports=m,m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return t.length&&(e=this).update.apply(e,t),this.draw(),this},m.prototype.draw=function(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=this.groups;if(1===t.length&&Array.isArray(t[0])&&(null===t[0][0]||Array.isArray(t[0][0]))&&(t=t[0]),this.regl._refresh(),t.length)for(var a=0;a<t.length;a++)e.drawItem(a,t[a]);else r.forEach(function(t,n){e.drawItem(n)});return this},m.prototype.drawItem=function(e,t){var n=this.groups,r=n[e];if("number"==typeof t&&(e=t,r=n[t],t=null),r&&r.count&&r.opacity){r.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,r,t));for(var a=[],o=1;o<r.activation.length;o++)r.activation[o]&&(!0===r.activation[o]||r.activation[o].data.length)&&a.push.apply(a,this.getMarkerDrawOptions(o,r,t));a.length&&this.drawMarker(a)}},m.prototype.getMarkerDrawOptions=function(e,t,n){var r=t.range,a=t.tree,o=t.viewport,i=t.activation,l=t.selectionBuffer,u=t.count;if(this.regl,!a)return n?[s({},t,{markerTexture:this.markerTextures[e],activation:i[e],count:n.length,elements:n,offset:0})]:[s({},t,{markerTexture:this.markerTextures[e],activation:i[e],offset:0})];var c=[],f=a.range(r,{lod:!0,px:[(r[2]-r[0])/o.width,(r[3]-r[1])/o.height]});if(n){for(var d=i[e],h=d.data,p=new Uint8Array(u),m=0;m<n.length;m++){var v=n[m];p[v]=h?h[v]:1}l.subdata(p)}for(var g=f.length;g--;){var y=f[g],b=y[0],_=y[1];c.push(s({},t,{markerTexture:this.markerTextures[e],activation:n?l:i[e],offset:b,count:_-b}))}return c},m.prototype.update=function(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length){1===t.length&&Array.isArray(t[0])&&(t=t[0]);var r=this.groups,o=this.gl,l=this.regl,d=this.maxSize,v=this.maxColors,g=this.palette;this.groups=r=t.map(function(t,n){var y=r[n];if(void 0===t)return y;null===t?t={positions:null}:"function"==typeof t?t={ondraw:t}:"number"==typeof t[0]&&(t={positions:t}),null===(t=u(t,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits"})).positions&&(t.positions=[]),y||(r[n]=y={id:n,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:l.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:l.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:l.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:l.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:l.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},t=s({},m.defaults,t)),!t.positions||"marker"in t||(t.marker=y.marker,delete y.marker),!t.marker||"positions"in t||(t.positions=y.positions,delete y.positions);var b=0,_=0;if(c(y,t,[{snap:!0,size:function(e,t){return null==e&&(e=m.defaults.size),b+=e&&e.length?1:0,e},borderSize:function(e,t){return null==e&&(e=m.defaults.borderSize),b+=e&&e.length?1:0,e},opacity:parseFloat,color:function(t,n){return null==t&&(t=m.defaults.color),t=e.updateColor(t),_++,t},borderColor:function(t,n){return null==t&&(t=m.defaults.borderColor),t=e.updateColor(t),_++,t},bounds:function(e,t,n){return"range"in n||(n.range=null),e},positions:function(e,t,n){var r=t.snap,o=t.positionBuffer,s=t.positionFractBuffer,u=t.selectionBuffer;if(e.x||e.y)return e.x.length?t.xAttr={buffer:l.buffer(e.x),offset:0,stride:4,count:e.x.length}:t.xAttr={buffer:e.x.buffer,offset:4*e.x.offset||0,stride:4*(e.x.stride||1),count:e.x.count},e.y.length?t.yAttr={buffer:l.buffer(e.y),offset:0,stride:4,count:e.y.length}:t.yAttr={buffer:e.y.buffer,offset:4*e.y.offset||0,stride:4*(e.y.stride||1),count:e.y.count},t.count=Math.max(t.xAttr.count,t.yAttr.count),e;e=f(e,"float64");var c=t.count=Math.floor(e.length/2),d=t.bounds=c?a(e,2):null;if(n.range||t.range||(delete t.range,n.range=d),n.marker||t.marker||(delete t.marker,n.marker=null),r&&(!0===r||c>r)?t.tree=i(e,{bounds:d}):r&&r.length&&(t.tree=r),t.tree){var p={primitive:"points",usage:"static",data:t.tree,type:"uint32"};t.elements?t.elements(p):t.elements=l.elements(p)}return o({data:h.float(e),usage:"dynamic"}),s({data:h.fract(e),usage:"dynamic"}),u({data:new Uint8Array(c),type:"uint8",usage:"stream"}),e}},{marker:function(t,n,r){var a=n.activation;if(a.forEach(function(e){return e&&e.destroy&&e.destroy()}),a.length=0,t&&"number"!=typeof t[0]){for(var o=[],i=0,s=Math.min(t.length,n.count);i<s;i++){var u=e.addMarker(t[i]);o[u]||(o[u]=new Uint8Array(n.count)),o[u][i]=1}for(var c=0;c<o.length;c++)if(o[c]){var f={data:o[c],type:"uint8",usage:"static"};a[c]?a[c](f):a[c]=l.buffer(f),a[c].data=o[c]}}else{var d=e.addMarker(t);a[d]=!0}return t},range:function(e,t,n){var r=t.bounds;if(r)return e||(e=r),t.scale=[1/(e[2]-e[0]),1/(e[3]-e[1])],t.translate=[-e[0],-e[1]],t.scaleFract=h.fract(t.scale),t.translateFract=h.fract(t.translate),e},viewport:function(e){var t=p(e||[o.drawingBufferWidth,o.drawingBufferHeight]);return t}}]),b){var x=y.count,w=y.size,k=y.borderSize,A=y.sizeBuffer,T=new Uint8Array(2*x);if(w.length||k.length)for(var M=0;M<x;M++)T[2*M]=Math.round(255*(null==w[M]?w:w[M])/d),T[2*M+1]=Math.round(255*(null==k[M]?k:k[M])/d);A({data:T,usage:"dynamic"})}if(_){var E,C=y.count,S=y.color,j=y.borderColor,O=y.colorBuffer;if(e.tooManyColors){if(S.length||j.length){E=new Uint8Array(8*C);for(var P=0;P<C;P++){var N=S[P];E[8*P]=g[4*N],E[8*P+1]=g[4*N+1],E[8*P+2]=g[4*N+2],E[8*P+3]=g[4*N+3];var I=j[P];E[8*P+4]=g[4*I],E[8*P+5]=g[4*I+1],E[8*P+6]=g[4*I+2],E[8*P+7]=g[4*I+3]}}}else if(S.length||j.length){E=new Uint8Array(4*C+2);for(var L=0;L<C;L++)null!=S[L]&&(E[4*L]=S[L]%v,E[4*L+1]=Math.floor(S[L]/v)),null!=j[L]&&(E[4*L+2]=j[L]%v,E[4*L+3]=Math.floor(j[L]/v))}O({data:E||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return y})}},m.prototype.addMarker=function(e){var t,n=this.markerTextures,r=this.regl,a=this.markerCache,o=null==e?0:a.indexOf(e);if(o>=0)return o;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)t=e;else{t=new Uint8Array(e.length);for(var i=0,s=e.length;i<s;i++)t[i]=255*e[i]}var l=Math.floor(Math.sqrt(t.length));return o=n.length,a.push(e),n.push(r.texture({channels:1,data:t,radius:l,mag:"linear",min:"linear"})),o},m.prototype.updateColor=function(e){var t=this.paletteIds,n=this.palette,a=this.maxColors;Array.isArray(e)||(e=[e]);var i=[];if("number"==typeof e[0]){var s=[];if(Array.isArray(e))for(var l=0;l<e.length;l+=4)s.push(e.slice(l,l+4));else for(var u=0;u<e.length;u+=4)s.push(e.subarray(u,u+4));e=s}for(var c=0;c<e.length;c++){var f=e[c];f=r(f,"uint8");var d=o(f,!1);if(null==t[d]){var h=n.length;t[d]=Math.floor(h/4),n[h]=f[0],n[h+1]=f[1],n[h+2]=f[2],n[h+3]=f[3]}i[c]=t[d]}return!this.tooManyColors&&n.length>a*a*4&&(this.tooManyColors=!0),this.updatePalette(n),1===i.length?i[0]:i},m.prototype.updatePalette=function(e){if(!this.tooManyColors){var t=this.maxColors,n=this.paletteTexture,r=Math.ceil(.25*e.length/t);if(r>1)for(var a=.25*(e=e.slice()).length%t;a<r*t;a++)e.push(0,0,0,0);n.height<r&&n.resize(t,r),n.subimage({width:Math.min(.25*e.length,t),height:r,data:e},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(e){e.sizeBuffer.destroy(),e.positionBuffer.destroy(),e.positionFractBuffer.destroy(),e.colorBuffer.destroy(),e.activation.forEach(function(e){return e&&e.destroy&&e.destroy()}),e.selectionBuffer.destroy(),e.elements&&e.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(e){return e&&e.destroy&&e.destroy()}),this}},{"array-bounds":13,"color-id":61,"color-normalize":63,"flatten-vertex-data":150,glslify:199,"is-iexplorer":208,"object-assign":222,"parse-rect":225,"pick-by-alias":231,"point-cluster":235,"to-float32":284,"update-diff":293}],257:[function(e,t,n){"use strict";var r=e("regl-scatter2d/scatter"),a=e("pick-by-alias"),o=e("array-bounds"),i=e("raf"),s=e("array-range"),l=e("parse-rect"),u=e("flatten-vertex-data");function c(e,t){if(!(this instanceof c))return new c(e,t);this.traces=[],this.passes={},this.regl=e,this.scatter=r(e),this.canvas=this.scatter.canvas}function f(e,t,n){var r=null!=e.id?e.id:e,a=t,o=n,i=r<<16|(255&a)<<8|255&o;return i}function d(e,t,n){var r,a,o,i,s=e[t],l=e[n];return s.length>2?(s[0],s[2],r=s[1],a=s[3]):s.length?(r=s[0],a=s[1]):(s.x,r=s.y,s.x,s.width,a=s.y+s.height),l.length>2?(o=l[0],i=l[2],l[1],l[3]):l.length?(o=l[0],i=l[1]):(o=l.x,l.y,i=l.x+l.width,l.y,l.height),[o,r,i,a]}function h(e){if("number"==typeof e)return[e,e,e,e];if(2===e.length)return[e[0],e[1],e[0],e[1]];var t=l(e);return[t.x,t.y,t.x+t.width,t.y+t.height]}t.exports=c,c.prototype.render=function(){for(var e,t=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];return n.length&&(e=this).update.apply(e,n),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=i(function(){t.draw(),t.dirty=!0,t.planned=null})):(this.draw(),this.dirty=!0,i(function(){t.dirty=!1})),this)},c.prototype.update=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length){for(var r=0;r<t.length;r++)this.updateItem(r,t[r]);this.traces=this.traces.filter(Boolean);for(var a=[],o=0,i=0;i<this.traces.length;i++){for(var s=this.traces[i],l=this.traces[i].passes,u=0;u<l.length;u++)a.push(this.passes[l[u]]);s.passOffset=o,o+=s.passes.length}return(e=this.scatter).update.apply(e,a),this}},c.prototype.updateItem=function(e,t){var n=this.regl;if(null===t)return this.traces[e]=null,this;if(!t)return this;var r,i=a(t,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),s=this.traces[e]||(this.traces[e]={id:e,buffer:n.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:l([n._gl.drawingBufferWidth,n._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=i.color&&(s.color=i.color),null!=i.size&&(s.size=i.size),null!=i.marker&&(s.marker=i.marker),null!=i.borderColor&&(s.borderColor=i.borderColor),null!=i.borderSize&&(s.borderSize=i.borderSize),null!=i.opacity&&(s.opacity=i.opacity),i.viewport&&(s.viewport=l(i.viewport)),null!=i.diagonal&&(s.diagonal=i.diagonal),null!=i.upper&&(s.upper=i.upper),null!=i.lower&&(s.lower=i.lower),i.data){s.buffer(u(i.data)),s.columns=i.data.length,s.count=i.data[0].length,s.bounds=[];for(var c=0;c<s.columns;c++)s.bounds[c]=o(i.data[c],1)}i.range&&(s.range=i.range,r=s.range&&"number"!=typeof s.range[0]),i.domain&&(s.domain=i.domain);var p=!1;null!=i.padding&&(Array.isArray(i.padding)&&i.padding.length===s.columns&&"number"==typeof i.padding[i.padding.length-1]?(s.padding=i.padding.map(h),p=!0):s.padding=h(i.padding));var m=s.columns,v=s.count,g=s.viewport.width,y=s.viewport.height,b=s.viewport.x,_=s.viewport.y,x=g/m,w=y/m;s.passes=[];for(var k=0;k<m;k++)for(var A=0;A<m;A++)if((s.diagonal||A!==k)&&(s.upper||!(k>A))&&(s.lower||!(k<A))){var T=f(s.id,k,A),M=this.passes[T]||(this.passes[T]={});if(i.data&&(i.transpose?M.positions={x:{buffer:s.buffer,offset:A,count:v,stride:m},y:{buffer:s.buffer,offset:k,count:v,stride:m}}:M.positions={x:{buffer:s.buffer,offset:A*v,count:v},y:{buffer:s.buffer,offset:k*v,count:v}},M.bounds=d(s.bounds,k,A)),i.domain||i.viewport||i.data){var E=p?d(s.padding,k,A):s.padding;if(s.domain){var C=d(s.domain,k,A),S=C[0],j=C[1],O=C[2],P=C[3];M.viewport=[b+S*g+E[0],_+j*y+E[1],b+O*g-E[2],_+P*y-E[3]]}else M.viewport=[b+A*x+x*E[0],_+k*w+w*E[1],b+(A+1)*x-x*E[2],_+(k+1)*w-w*E[3]]}i.color&&(M.color=s.color),i.size&&(M.size=s.size),i.marker&&(M.marker=s.marker),i.borderSize&&(M.borderSize=s.borderSize),i.borderColor&&(M.borderColor=s.borderColor),i.opacity&&(M.opacity=s.opacity),i.range&&(M.range=r?d(s.range,k,A):s.range||M.bounds),s.passes.push(T)}return this},c.prototype.draw=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length){for(var r=[],a=0;a<t.length;a++)if("number"==typeof t[a]){var o=this.traces[t[a]],i=o.passes,l=o.passOffset;r.push.apply(r,s(l,l+i.length))}else if(t[a].length){var u=t[a],c=this.traces[a],f=c.passes,d=c.passOffset;f=f.map(function(e,t){r[d+t]=u})}(e=this.scatter).draw.apply(e,r)}else this.scatter.draw();return this},c.prototype.destroy=function(){return this.traces.forEach(function(e){e.buffer&&e.buffer.destroy&&e.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},{"array-bounds":13,"array-range":15,"flatten-vertex-data":150,"parse-rect":225,"pick-by-alias":231,raf:248,"regl-scatter2d/scatter":256}],258:[function(e,t,n){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():e.createREGL=r()}(this,function(){function e(e,t){this.id=U++,this.type=e,this.data=t}function t(e){return"["+function e(t){if(0===t.length)return[];var n=t.charAt(0),r=t.charAt(t.length-1);if(1<t.length&&n===r&&('"'===n||"'"===n))return['"'+t.substr(1,t.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))return e(t.substr(0,n.index)).concat(e(n[1])).concat(e(t.substr(n.index+n[0].length)));if(1===(n=t.split(".")).length)return['"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(t=[],r=0;r<n.length;++r)t=t.concat(e(n[r]));return t}(e).join("][")+"]"}function n(e){return"string"==typeof e?e.split():e}function r(e){return"string"==typeof e?document.querySelector(e):e}function a(e){var t,a,o,i,s=e||{};e={};var l=[],u=[],c="undefined"==typeof window?1:window.devicePixelRatio,f=!1,d=function(e){},h=function(){};if("string"==typeof s?t=document.querySelector(s):"object"==typeof s&&("string"==typeof s.nodeName&&"function"==typeof s.appendChild&&"function"==typeof s.getBoundingClientRect?t=s:"function"==typeof s.drawArrays||"function"==typeof s.drawElements?o=(i=s).canvas:("gl"in s?i=s.gl:"canvas"in s?o=r(s.canvas):"container"in s&&(a=r(s.container)),"attributes"in s&&(e=s.attributes),"extensions"in s&&(l=n(s.extensions)),"optionalExtensions"in s&&(u=n(s.optionalExtensions)),"onDone"in s&&(d=s.onDone),"profile"in s&&(f=!!s.profile),"pixelRatio"in s&&(c=+s.pixelRatio))),t&&("canvas"===t.nodeName.toLowerCase()?o=t:a=t),!i){if(!o){if(!(t=function(e,t,n){function r(){var t=window.innerWidth,r=window.innerHeight;e!==document.body&&(r=e.getBoundingClientRect(),t=r.right-r.left,r=r.bottom-r.top),a.width=n*t,a.height=n*r,B(a.style,{width:t+"px",height:r+"px"})}var a=document.createElement("canvas");return B(a.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(a),e===document.body&&(a.style.position="absolute",B(e.style,{margin:0,padding:0})),window.addEventListener("resize",r,!1),r(),{canvas:a,onDestroy:function(){window.removeEventListener("resize",r),e.removeChild(a)}}}(a||document.body,0,c)))return null;o=t.canvas,h=t.onDestroy}i=function(e,t){function n(n){try{return e.getContext(n,t)}catch(e){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(o,e)}return i?{gl:i,canvas:o,container:a,extensions:l,optionalExtensions:u,pixelRatio:c,profile:f,onDone:d,onDestroy:h}:(h(),d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function o(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}function i(e){var t,n;return t=(65535<e)<<4,t|=n=(255<(e>>>=t))<<3,(t|=n=(15<(e>>>=n))<<2)|(n=(3<(e>>>=n))<<1)|e>>>n>>1}function s(){function e(e){e:{for(var t=16;268435456>=t;t*=16)if(e<=t){e=t;break e}e=0}return 0<(t=n[i(e)>>2]).length?t.pop():new ArrayBuffer(e)}function t(e){n[i(e.byteLength)>>2].push(e)}var n=o(8,function(){return[]});return{alloc:e,free:t,allocType:function(t,n){var r=null;switch(t){case 5120:r=new Int8Array(e(n),0,n);break;case 5121:r=new Uint8Array(e(n),0,n);break;case 5122:r=new Int16Array(e(2*n),0,n);break;case 5123:r=new Uint16Array(e(2*n),0,n);break;case 5124:r=new Int32Array(e(4*n),0,n);break;case 5125:r=new Uint32Array(e(4*n),0,n);break;case 5126:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(e){t(e.buffer)}}}function l(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||X(e.data))}function u(e,t,n,r,a,o){for(var i=0;i<t;++i)for(var s=e[i],l=0;l<n;++l)for(var u=s[l],c=0;c<r;++c)a[o++]=u[c]}function c(e){return 0|Z[Object.prototype.toString.call(e)]}function f(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function d(e,t,n,r,a,o,i){for(var s=0,l=0;l<n;++l)for(var u=0;u<r;++u)e[s++]=t[a*l+o*u+i]}function h(e,t,n,r){function a(t){this.id=u++,this.buffer=e.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,n.profile&&(this.stats={size:0})}function o(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function i(e,t,n,r,a,i){if(e.usage=n,Array.isArray(t)){if(e.dtype=r||5126,0<t.length)if(Array.isArray(t[0])){a=ee(t);for(var s=r=1;s<a.length;++s)r*=a[s];e.dimension=r,t=$(t,a,e.dtype),o(e,t,n),i?e.persistentData=t:W.freeType(t)}else"number"==typeof t[0]?(e.dimension=a,f(a=W.allocType(e.dtype,t.length),t),o(e,a,n),i?e.persistentData=a:W.freeType(a)):X(t[0])&&(e.dimension=t[0].length,e.dtype=r||c(t[0])||5126,t=$(t,[t.length,t[0].length],e.dtype),o(e,t,n),i?e.persistentData=t:W.freeType(t))}else if(X(t))e.dtype=r||c(t),e.dimension=a,o(e,t,n),i&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(l(t)){a=t.shape;var u=t.stride,s=t.offset,h=0,p=0,m=0,v=0;1===a.length?(h=a[0],p=1,m=u[0],v=0):2===a.length&&(h=a[0],p=a[1],m=u[0],v=u[1]),e.dtype=r||c(t.data)||5126,e.dimension=p,d(a=W.allocType(e.dtype,h*p),t.data,h,p,m,v,s),o(e,a,n),i?e.persistentData=a:W.freeType(a)}}function s(n){t.bufferCount--;for(var a=0;a<r.state.length;++a){var o=r.state[a];o.buffer===n&&(e.disableVertexAttribArray(a),o.buffer=null)}e.deleteBuffer(n.buffer),n.buffer=null,delete h[n.id]}var u=0,h={};a.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},a.prototype.destroy=function(){s(this)};var p=[];return n.profile&&(t.getTotalBufferSize=function(){var e=0;return Object.keys(h).forEach(function(t){e+=h[t].stats.size}),e}),{create:function(r,o,u,p){function m(t){var r=35044,a=null,o=0,s=0,u=1;return Array.isArray(t)||X(t)||l(t)?a=t:"number"==typeof t?o=0|t:t&&("data"in t&&(a=t.data),"usage"in t&&(r=Q[t.usage]),"type"in t&&(s=J[t.type]),"dimension"in t&&(u=0|t.dimension),"length"in t&&(o=0|t.length)),v.bind(),a?i(v,a,r,s,u,p):(o&&e.bufferData(v.type,o,r),v.dtype=s||5121,v.usage=r,v.dimension=u,v.byteLength=o),n.profile&&(v.stats.size=v.byteLength*te[v.dtype]),m}t.bufferCount++;var v=new a(o);return h[v.id]=v,u||m(r),m._reglType="buffer",m._buffer=v,m.subdata=function(t,n){var r,a=0|(n||0);if(v.bind(),X(t))e.bufferSubData(v.type,a,t);else if(Array.isArray(t)){if(0<t.length)if("number"==typeof t[0]){var o=W.allocType(v.dtype,t.length);f(o,t),e.bufferSubData(v.type,a,o),W.freeType(o)}else(Array.isArray(t[0])||X(t[0]))&&(r=ee(t),o=$(t,r,v.dtype),e.bufferSubData(v.type,a,o),W.freeType(o))}else if(l(t)){r=t.shape;var i=t.stride,s=o=0,u=0,h=0;1===r.length?(o=r[0],s=1,u=i[0],h=0):2===r.length&&(o=r[0],s=r[1],u=i[0],h=i[1]),r=Array.isArray(t.data)?v.dtype:c(t.data),d(r=W.allocType(r,o*s),t.data,o,s,u,h,t.offset),e.bufferSubData(v.type,a,r),W.freeType(r)}return m},n.profile&&(m.stats=v.stats),m.destroy=function(){s(v)},m},createStream:function(e,t){var n=p.pop();return n||(n=new a(e)),n.bind(),i(n,t,35040,0,1,!1),n},destroyStream:function(e){p.push(e)},clear:function(){Y(h).forEach(s),p.forEach(s)},getBuffer:function(e){return e&&e._buffer instanceof a?e._buffer:null},restore:function(){Y(h).forEach(function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})},_initBuffer:i}}function p(e,t,n,r){function a(e){this.id=u++,s[this.id]=this,this.buffer=e,this.primType=4,this.type=this.vertCount=0}function o(r,a,o,i,s,u,c){if(r.buffer.bind(),a){var f=c;c||X(a)&&(!l(a)||X(a.data))||(f=t.oes_element_index_uint?5125:5123),n._initBuffer(r.buffer,a,o,f,3)}else e.bufferData(34963,u,o),r.buffer.dtype=f||5121,r.buffer.usage=o,r.buffer.dimension=3,r.buffer.byteLength=u;if(f=c,!c){switch(r.buffer.dtype){case 5121:case 5120:f=5121;break;case 5123:case 5122:f=5123;break;case 5125:case 5124:f=5125}r.buffer.dtype=f}r.type=f,0>(a=s)&&(a=r.buffer.byteLength,5123===f?a>>=1:5125===f&&(a>>=2)),r.vertCount=a,a=i,0>i&&(a=4,1===(i=r.buffer.dimension)&&(a=0),2===i&&(a=1),3===i&&(a=4)),r.primType=a}function i(e){r.elementsCount--,delete s[e.id],e.buffer.destroy(),e.buffer=null}var s={},u=0,c={uint8:5121,uint16:5123};t.oes_element_index_uint&&(c.uint32=5125),a.prototype.bind=function(){this.buffer.bind()};var f=[];return{create:function(e,t){function s(e){if(e)if("number"==typeof e)u(e),f.primType=4,f.vertCount=0|e,f.type=5121;else{var t=null,n=35044,r=-1,a=-1,i=0,d=0;Array.isArray(e)||X(e)||l(e)?t=e:("data"in e&&(t=e.data),"usage"in e&&(n=Q[e.usage]),"primitive"in e&&(r=ne[e.primitive]),"count"in e&&(a=0|e.count),"type"in e&&(d=c[e.type]),"length"in e?i=0|e.length:(i=a,5123===d||5122===d?i*=2:5125!==d&&5124!==d||(i*=4))),o(f,t,n,r,a,i,d)}else u(),f.primType=4,f.vertCount=0,f.type=5121;return s}var u=n.create(null,34963,!0),f=new a(u._buffer);return r.elementsCount++,s(e),s._reglType="elements",s._elements=f,s.subdata=function(e,t){return u.subdata(e,t),s},s.destroy=function(){i(f)},s},createStream:function(e){var t=f.pop();return t||(t=new a(n.create(null,34963,!0,!1)._buffer)),o(t,e,35040,-1,-1,0,0),t},destroyStream:function(e){f.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof a?e._elements:null},clear:function(){Y(s).forEach(i)}}}function m(e){for(var t=W.allocType(5123,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(1/0===e[n])t[n]=31744;else if(-1/0===e[n])t[n]=64512;else{re[0]=e[n];var r=ae[0],a=r>>>31<<15,o=(r<<1>>>24)-127,r=r>>13&1023;t[n]=-24>o?a:-14>o?a+(r+1024>>-14-o):15<o?a+31744:a+(o+15<<10)+r}return t}function v(e){return Array.isArray(e)||X(e)}function g(e){return"[object "+e+"]"}function y(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function b(e){return!(!Array.isArray(e)||0===e.length||!v(e[0]))}function _(e){return Object.prototype.toString.call(e)}function x(e){if(!e)return!1;var t=_(e);return 0<=he.indexOf(t)||y(e)||b(e)||l(e)}function w(e,t){36193===e.type?(e.data=m(t),W.freeType(t)):e.data=t}function k(e,t,n,r,a,o){if(e=void 0!==me[e]?me[e]:se[e]*pe[t],o&&(e*=6),a){for(r=0;1<=n;)r+=e*n*n,n/=2;return r}return e*n*r}function A(e,t,n,r,a,o,i){function s(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function u(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function c(e,t){if("object"==typeof t&&t){"premultiplyAlpha"in t&&(e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(e.flipY=t.flipY),"alignment"in t&&(e.unpackAlignment=t.alignment),"colorSpace"in t&&(e.colorSpace=H[t.colorSpace]),"type"in t&&(e.type=q[t.type]);var n=e.width,r=e.height,a=e.channels,o=!1;"shape"in t?(n=t.shape[0],r=t.shape[1],3===t.shape.length&&(a=t.shape[2],o=!0)):("radius"in t&&(n=r=t.radius),"width"in t&&(n=t.width),"height"in t&&(r=t.height),"channels"in t&&(a=t.channels,o=!0)),e.width=0|n,e.height=0|r,e.channels=0|a,n=!1,"format"in t&&(n=t.format,r=e.internalformat=V[n],e.format=ae[r],n in q&&!("type"in t)&&(e.type=q[n]),n in G&&(e.compressed=!0),n=!0),!o&&n?e.channels=se[e.format]:o&&!n&&e.channels!==ie[e.format]&&(e.format=e.internalformat=ie[e.channels])}}function f(t){e.pixelStorei(37440,t.flipY),e.pixelStorei(37441,t.premultiplyAlpha),e.pixelStorei(37443,t.colorSpace),e.pixelStorei(3317,t.unpackAlignment)}function d(){s.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function h(e,t){var n=null;if(x(t)?n=t:t&&(c(e,t),"x"in t&&(e.xOffset=0|t.x),"y"in t&&(e.yOffset=0|t.y),x(t.data)&&(n=t.data)),t.copy){var r=a.viewportWidth,o=a.viewportHeight;e.width=e.width||r-e.xOffset,e.height=e.height||o-e.yOffset,e.needsCopy=!0}else if(n){if(X(n))e.channels=e.channels||4,e.data=n,"type"in t||5121!==e.type||(e.type=0|Z[Object.prototype.toString.call(n)]);else if(y(n)){switch(e.channels=e.channels||4,o=(r=n).length,e.type){case 5121:case 5123:case 5125:case 5126:(o=W.allocType(e.type,o)).set(r),e.data=o;break;case 36193:e.data=m(r)}e.alignment=1,e.needsFree=!0}else if(l(n)){r=n.data,Array.isArray(r)||5121!==e.type||(e.type=0|Z[Object.prototype.toString.call(r)]);var i,s,u,f,o=n.shape,d=n.stride;3===o.length?(u=o[2],f=d[2]):f=u=1,i=o[0],s=o[1],o=d[0],d=d[1],e.alignment=1,e.width=i,e.height=s,e.channels=u,e.format=e.internalformat=ie[u],e.needsFree=!0,i=f,n=n.offset,u=e.width,f=e.height,s=e.channels;for(var h=W.allocType(36193===e.type?5126:e.type,u*f*s),p=0,g=0;g<f;++g)for(var k=0;k<u;++k)for(var A=0;A<s;++A)h[p++]=r[o*k+d*g+i*A+n];w(e,h)}else if(_(n)===le||_(n)===ue)_(n)===le?e.element=n:e.element=n.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(_(n)===ce)e.element=n,e.width=n.width,e.height=n.height,e.channels=4;else if(_(n)===fe)e.element=n,e.width=n.naturalWidth,e.height=n.naturalHeight,e.channels=4;else if(_(n)===de)e.element=n,e.width=n.videoWidth,e.height=n.videoHeight,e.channels=4;else if(b(n)){for(r=e.width||n[0].length,o=e.height||n.length,d=e.channels,d=v(n[0][0])?d||n[0][0].length:d||1,i=K.shape(n),u=1,f=0;f<i.length;++f)u*=i[f];u=W.allocType(36193===e.type?5126:e.type,u),K.flatten(n,i,"",u),w(e,u),e.alignment=1,e.width=r,e.height=o,e.channels=d,e.format=e.internalformat=ie[d],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4}function p(t,n,a,o,i){var s=t.element,l=t.data,u=t.internalformat,c=t.format,d=t.type,h=t.width,p=t.height;f(t),s?e.texSubImage2D(n,i,a,o,c,d,s):t.compressed?e.compressedTexSubImage2D(n,i,a,o,u,h,p,l):t.needsCopy?(r(),e.copyTexSubImage2D(n,i,a,o,t.xOffset,t.yOffset,h,p)):e.texSubImage2D(n,i,a,o,h,p,c,d,l)}function g(){return he.pop()||new d}function A(e){e.needsFree&&W.freeType(e.data),d.call(e),he.push(e)}function T(e,t,n){var r=e.images[0]=g();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function M(e,t){var n=null;if(x(t))u(n=e.images[0]=g(),e),h(n,t),e.mipmask=1;else if(c(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,a=0;a<r.length;++a)u(n=e.images[a]=g(),e),n.width>>=a,n.height>>=a,h(n,r[a]),e.mipmask|=1<<a;else u(n=e.images[0]=g(),e),h(n,t),e.mipmask=1;u(e,e.images[0])}function E(t,n){for(var a=t.images,o=0;o<a.length&&a[o];++o){var i=a[o],s=n,l=o,u=i.element,c=i.data,d=i.internalformat,h=i.format,p=i.type,m=i.width,v=i.height,g=i.channels;f(i),u?e.texImage2D(s,l,h,h,p,u):i.compressed?e.compressedTexImage2D(s,l,d,m,v,0,c):i.needsCopy?(r(),e.copyTexImage2D(s,l,h,i.xOffset,i.yOffset,m,v,0)):((i=!c)&&(c=W.zero.allocType(p,m*v*g)),e.texImage2D(s,l,h,m,v,0,h,p,c),i&&c&&W.zero.freeType(c))}}function C(){var e=pe.pop()||new function(){s.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)};s.call(e);for(var t=e.mipmask=0;16>t;++t)e.images[t]=null;return e}function S(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&A(t[n]),t[n]=null;pe.push(e)}function j(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function O(e,t){"min"in t&&(e.minFilter=U[t.min],0<=oe.indexOf(e.minFilter)&&!("faces"in t)&&(e.genMipmaps=!0)),"mag"in t&&(e.magFilter=F[t.mag]);var n=e.wrapS,r=e.wrapT;if("wrap"in t){var a=t.wrap;"string"==typeof a?n=r=z[a]:Array.isArray(a)&&(n=z[a[0]],r=z[a[1]])}else"wrapS"in t&&(n=z[t.wrapS]),"wrapT"in t&&(r=z[t.wrapT]);if(e.wrapS=n,e.wrapT=r,"anisotropic"in t&&(e.anisotropic=t.anisotropic),"mipmap"in t){switch(n=!1,typeof t.mipmap){case"string":e.mipmapHint=R[t.mipmap],n=e.genMipmaps=!0;break;case"boolean":n=e.genMipmaps=t.mipmap;break;case"object":e.genMipmaps=!1,n=!0}!n||"min"in t||(e.minFilter=9984)}}function P(n,r){e.texParameteri(r,10241,n.minFilter),e.texParameteri(r,10240,n.magFilter),e.texParameteri(r,10242,n.wrapS),e.texParameteri(r,10243,n.wrapT),t.ext_texture_filter_anisotropic&&e.texParameteri(r,34046,n.anisotropic),n.genMipmaps&&(e.hint(33170,n.mipmapHint),e.generateMipmap(r))}function N(t){s.call(this),this.mipmask=0,this.internalformat=6408,this.id=me++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new j,i.profile&&(this.stats={size:0})}function I(t){e.activeTexture(33984),e.bindTexture(t.target,t.texture)}function L(){var t=ye[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(3553,null)}function D(t){var n=t.texture,r=t.unit,a=t.target;0<=r&&(e.activeTexture(33984+r),e.bindTexture(a,null),ye[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete ve[t.id],o.textureCount--}var R={"don't care":4352,"dont care":4352,nice:4354,fast:4353},z={repeat:10497,clamp:33071,mirror:33648},F={nearest:9728,linear:9729},U=B({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},F),H={none:0,browser:37444},q={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},V={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},G={};t.ext_srgb&&(V.srgb=35904,V.srgba=35906),t.oes_texture_float&&(q.float32=q.float=5126),t.oes_texture_half_float&&(q.float16=q["half float"]=36193),t.webgl_depth_texture&&(B(V,{depth:6402,"depth stencil":34041}),B(q,{uint16:5123,uint32:5125,"depth stencil":34042})),t.webgl_compressed_texture_s3tc&&B(G,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),t.webgl_compressed_texture_atc&&B(G,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),t.webgl_compressed_texture_pvrtc&&B(G,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),t.webgl_compressed_texture_etc1&&(G["rgb etc1"]=36196);var J=Array.prototype.slice.call(e.getParameter(34467));Object.keys(G).forEach(function(e){var t=G[e];0<=J.indexOf(t)&&(V[e]=t)});var Q=Object.keys(V);n.textureFormats=Q;var $=[];Object.keys(V).forEach(function(e){$[V[e]]=e});var ee=[];Object.keys(q).forEach(function(e){ee[q[e]]=e});var te=[];Object.keys(F).forEach(function(e){te[F[e]]=e});var ne=[];Object.keys(U).forEach(function(e){ne[U[e]]=e});var re=[];Object.keys(z).forEach(function(e){re[z[e]]=e});var ae=Q.reduce(function(e,t){var n=V[t];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n?e[n]=n:32855===n||0<=t.indexOf("rgba")?e[n]=6408:e[n]=6407,e},{}),he=[],pe=[],me=0,ve={},ge=n.maxTextureUnits,ye=Array(ge).map(function(){return null});return B(N.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(0>t){for(var n=0;n<ge;++n){var r=ye[n];if(r){if(0<r.bindCount)continue;r.unit=-1}ye[n]=this,t=n;break}i.profile&&o.maxTextureUnits<t+1&&(o.maxTextureUnits=t+1),this.unit=t,e.activeTexture(33984+t),e.bindTexture(this.target,this.texture)}return t},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&D(this)}}),i.profile&&(o.getTotalTextureSize=function(){var e=0;return Object.keys(ve).forEach(function(t){e+=ve[t].stats.size}),e}),{create2D:function(t,n){function r(e,t){var n=a.texInfo;j.call(n);var o=C();return"number"==typeof e?T(o,0|e,"number"==typeof t?0|t:0|e):e?(O(n,e),M(o,e)):T(o,1,1),n.genMipmaps&&(o.mipmask=(o.width<<1)-1),a.mipmask=o.mipmask,u(a,o),a.internalformat=o.internalformat,r.width=o.width,r.height=o.height,I(a),E(o,3553),P(n,3553),L(),S(o),i.profile&&(a.stats.size=k(a.internalformat,a.type,o.width,o.height,n.genMipmaps,!1)),r.format=$[a.internalformat],r.type=ee[a.type],r.mag=te[n.magFilter],r.min=ne[n.minFilter],r.wrapS=re[n.wrapS],r.wrapT=re[n.wrapT],r}var a=new N(3553);return ve[a.id]=a,o.textureCount++,r(t,n),r.subimage=function(e,t,n,o){t|=0,n|=0,o|=0;var i=g();return u(i,a),i.width=0,i.height=0,h(i,e),i.width=i.width||(a.width>>o)-t,i.height=i.height||(a.height>>o)-n,I(a),p(i,3553,t,n,o),L(),A(i),r},r.resize=function(t,n){var o=0|t,s=0|n||o;if(o===a.width&&s===a.height)return r;r.width=a.width=o,r.height=a.height=s,I(a);for(var l,u=a.channels,c=a.type,f=0;a.mipmask>>f;++f){var d=o>>f,h=s>>f;if(!d||!h)break;l=W.zero.allocType(c,d*h*u),e.texImage2D(3553,f,a.format,d,h,0,a.format,a.type,l),l&&W.zero.freeType(l)}return L(),i.profile&&(a.stats.size=k(a.internalformat,a.type,o,s,!1,!1)),r},r._reglType="texture2d",r._texture=a,i.profile&&(r.stats=a.stats),r.destroy=function(){a.decRef()},r},createCube:function(t,n,r,a,s,l){function f(e,t,n,r,a,o){var s,l=d.texInfo;for(j.call(l),s=0;6>s;++s)m[s]=C();if("number"!=typeof e&&e){if("object"==typeof e)if(t)M(m[0],e),M(m[1],t),M(m[2],n),M(m[3],r),M(m[4],a),M(m[5],o);else if(O(l,e),c(d,e),"faces"in e)for(e=e.faces,s=0;6>s;++s)u(m[s],d),M(m[s],e[s]);else for(s=0;6>s;++s)M(m[s],e)}else for(e=0|e||1,s=0;6>s;++s)T(m[s],e,e);for(u(d,m[0]),d.mipmask=l.genMipmaps?(m[0].width<<1)-1:m[0].mipmask,d.internalformat=m[0].internalformat,f.width=m[0].width,f.height=m[0].height,I(d),s=0;6>s;++s)E(m[s],34069+s);for(P(l,34067),L(),i.profile&&(d.stats.size=k(d.internalformat,d.type,f.width,f.height,l.genMipmaps,!0)),f.format=$[d.internalformat],f.type=ee[d.type],f.mag=te[l.magFilter],f.min=ne[l.minFilter],f.wrapS=re[l.wrapS],f.wrapT=re[l.wrapT],s=0;6>s;++s)S(m[s]);return f}var d=new N(34067);ve[d.id]=d,o.cubeCount++;var m=Array(6);return f(t,n,r,a,s,l),f.subimage=function(e,t,n,r,a){n|=0,r|=0,a|=0;var o=g();return u(o,d),o.width=0,o.height=0,h(o,t),o.width=o.width||(d.width>>a)-n,o.height=o.height||(d.height>>a)-r,I(d),p(o,34069+e,n,r,a),L(),A(o),f},f.resize=function(t){if((t|=0)!==d.width){f.width=d.width=t,f.height=d.height=t,I(d);for(var n=0;6>n;++n)for(var r=0;d.mipmask>>r;++r)e.texImage2D(34069+n,r,d.format,t>>r,t>>r,0,d.format,d.type,null);return L(),i.profile&&(d.stats.size=k(d.internalformat,d.type,f.width,f.height,!1,!0)),f}},f._reglType="textureCube",f._texture=d,i.profile&&(f.stats=d.stats),f.destroy=function(){d.decRef()},f},clear:function(){for(var t=0;t<ge;++t)e.activeTexture(33984+t),e.bindTexture(3553,null),ye[t]=null;Y(ve).forEach(D),o.cubeCount=0,o.textureCount=0},getTexture:function(e){return null},restore:function(){Y(ve).forEach(function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;32>n;++n)if(0!=(t.mipmask&1<<n))if(3553===t.target)e.texImage2D(3553,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;6>r;++r)e.texImage2D(34069+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);P(t.texInfo,t.target)})}}}function T(e,t,n,r,a,o){function i(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=e=0;t?(e=t.width,r=t.height):n&&(e=n.width,r=n.height),this.width=e,this.height=r}function s(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function l(e,t,n){e&&(e.texture?e.texture._texture.refCount+=1:e.renderbuffer._renderbuffer.refCount+=1)}function u(t,n){n&&(n.texture?e.framebufferTexture2D(36160,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(36160,t,36161,n.renderbuffer._renderbuffer.renderbuffer))}function c(e){var t=3553,n=null,r=null,a=e;return"object"==typeof e&&(a=e.data,"target"in e&&(t=0|e.target)),"texture2d"===(e=a._reglType)?n=a:"textureCube"===e?n=a:"renderbuffer"===e&&(r=a,t=36161),new i(t,n,r)}function f(e,t,n,o,s){return n?((e=r.create2D({width:e,height:t,format:o,type:s}))._texture.refCount=0,new i(3553,e,null)):((e=a.create({width:e,height:t,format:o}))._renderbuffer.refCount=0,new i(36161,null,e))}function d(e){return e&&(e.texture||e.renderbuffer)}function h(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n))}function p(){this.id=k++,A[this.id]=this,this.framebuffer=e.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function m(e){e.colorAttachments.forEach(s),s(e.depthAttachment),s(e.stencilAttachment),s(e.depthStencilAttachment)}function v(t){e.deleteFramebuffer(t.framebuffer),t.framebuffer=null,o.framebufferCount--,delete A[t.id]}function g(t){var r;e.bindFramebuffer(36160,t.framebuffer);var a=t.colorAttachments;for(r=0;r<a.length;++r)u(36064+r,a[r]);for(r=a.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(36160,36064+r,3553,null,0);e.framebufferTexture2D(36160,33306,3553,null,0),e.framebufferTexture2D(36160,36096,3553,null,0),e.framebufferTexture2D(36160,36128,3553,null,0),u(36096,t.depthAttachment),u(36128,t.stencilAttachment),u(33306,t.depthStencilAttachment),e.checkFramebufferStatus(36160),e.bindFramebuffer(36160,b.next?b.next.framebuffer:null),b.cur=b.next,e.getError()}function y(e,t){function n(e,t){var a,o=0,i=0,s=!0,u=!0;a=null;var h=!0,p="rgba",v="uint8",y=1,b=null,w=null,k=null,A=!1;"number"==typeof e?(o=0|e,i=0|t||o):e?("shape"in e?(i=e.shape,o=i[0],i=i[1]):("radius"in e&&(o=i=e.radius),"width"in e&&(o=e.width),"height"in e&&(i=e.height)),("color"in e||"colors"in e)&&(a=e.color||e.colors,Array.isArray(a)),a||("colorCount"in e&&(y=0|e.colorCount),"colorTexture"in e&&(h=!!e.colorTexture,p="rgba4"),"colorType"in e&&(v=e.colorType,!h)&&("half float"===v||"float16"===v?p="rgba16f":"float"!==v&&"float32"!==v||(p="rgba32f")),"colorFormat"in e&&(p=e.colorFormat,0<=_.indexOf(p)?h=!0:0<=x.indexOf(p)&&(h=!1))),("depthTexture"in e||"depthStencilTexture"in e)&&(A=!(!e.depthTexture&&!e.depthStencilTexture)),"depth"in e&&("boolean"==typeof e.depth?s=e.depth:(b=e.depth,u=!1)),"stencil"in e&&("boolean"==typeof e.stencil?u=e.stencil:(w=e.stencil,s=!1)),"depthStencil"in e&&("boolean"==typeof e.depthStencil?s=u=e.depthStencil:(k=e.depthStencil,u=s=!1))):o=i=1;var T=null,M=null,E=null,C=null;if(Array.isArray(a))T=a.map(c);else if(a)T=[c(a)];else for(T=Array(y),a=0;a<y;++a)T[a]=f(o,i,h,p,v);for(o=o||T[0].width,i=i||T[0].height,b?M=c(b):s&&!u&&(M=f(o,i,A,"depth","uint32")),w?E=c(w):u&&!s&&(E=f(o,i,!1,"stencil","uint8")),k?C=c(k):!b&&!w&&u&&s&&(C=f(o,i,A,"depth stencil","depth stencil")),s=null,a=0;a<T.length;++a)l(T[a]),T[a]&&T[a].texture&&(u=ye[T[a].texture._texture.format]*be[T[a].texture._texture.type],null===s&&(s=u));return l(M),l(E),l(C),m(r),r.width=o,r.height=i,r.colorAttachments=T,r.depthAttachment=M,r.stencilAttachment=E,r.depthStencilAttachment=C,n.color=T.map(d),n.depth=d(M),n.stencil=d(E),n.depthStencil=d(C),n.width=r.width,n.height=r.height,g(r),n}var r=new p;return o.framebufferCount++,n(e,t),B(n,{resize:function(e,t){var a=0|e,o=0|t||a;if(a===r.width&&o===r.height)return n;for(var i=r.colorAttachments,s=0;s<i.length;++s)h(i[s],a,o);return h(r.depthAttachment,a,o),h(r.stencilAttachment,a,o),h(r.depthStencilAttachment,a,o),r.width=n.width=a,r.height=n.height=o,g(r),n},_reglType:"framebuffer",_framebuffer:r,destroy:function(){v(r),m(r)},use:function(e){b.setFBO({framebuffer:n},e)}})}var b={cur:null,next:null,dirty:!1,setFBO:null},_=["rgba"],x=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&x.push("srgba"),t.ext_color_buffer_half_float&&x.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&x.push("rgba32f");var w=["uint8"];t.oes_texture_half_float&&w.push("half float","float16"),t.oes_texture_float&&w.push("float","float32");var k=0,A={};return B(b,{getFramebuffer:function(e){return"function"==typeof e&&"framebuffer"===e._reglType&&(e=e._framebuffer)instanceof p?e:null},create:y,createCube:function(e){function t(e){var a,o={color:null},i=0,s=null;a="rgba";var l="uint8",u=1;if("number"==typeof e?i=0|e:e?("shape"in e?i=e.shape[0]:("radius"in e&&(i=0|e.radius),"width"in e?i=0|e.width:"height"in e&&(i=0|e.height)),("color"in e||"colors"in e)&&(s=e.color||e.colors,Array.isArray(s)),s||("colorCount"in e&&(u=0|e.colorCount),"colorType"in e&&(l=e.colorType),"colorFormat"in e&&(a=e.colorFormat)),"depth"in e&&(o.depth=e.depth),"stencil"in e&&(o.stencil=e.stencil),"depthStencil"in e&&(o.depthStencil=e.depthStencil)):i=1,s)if(Array.isArray(s))for(e=[],a=0;a<s.length;++a)e[a]=s[a];else e=[s];else for(e=Array(u),s={radius:i,format:a,type:l},a=0;a<u;++a)e[a]=r.createCube(s);for(o.color=Array(e.length),a=0;a<e.length;++a)u=e[a],i=i||u.width,o.color[a]={target:34069,data:e[a]};for(a=0;6>a;++a){for(u=0;u<e.length;++u)o.color[u].target=34069+a;0<a&&(o.depth=n[0].depth,o.stencil=n[0].stencil,o.depthStencil=n[0].depthStencil),n[a]?n[a](o):n[a]=y(o)}return B(t,{width:i,height:i,color:e})}var n=Array(6);return t(e),B(t,{faces:n,resize:function(e){var r=0|e;if(r===t.width)return t;var a=t.color;for(e=0;e<a.length;++e)a[e].resize(r);for(e=0;6>e;++e)n[e].resize(r);return t.width=t.height=r,t},_reglType:"framebufferCube",destroy:function(){n.forEach(function(e){e.destroy()})}})},clear:function(){Y(A).forEach(v)},restore:function(){Y(A).forEach(function(t){t.framebuffer=e.createFramebuffer(),g(t)})}})}function M(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function E(e,t,n,r){function a(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function o(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function i(n,r,a){var o=(a=35632===n?u:c)[r];if(!o){var i=t.str(r),o=e.createShader(n);e.shaderSource(o,i),e.compileShader(o),a[r]=o}return o}function s(e,t){this.id=h++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function l(n,s){var l,u;l=i(35632,n.fragId),u=i(35633,n.vertId);var c=n.program=e.createProgram();e.attachShader(c,l),e.attachShader(c,u),e.linkProgram(c);var f=e.getProgramParameter(c,35718);r.profile&&(n.stats.uniformsCount=f);var d=n.uniforms;for(l=0;l<f;++l)if(u=e.getActiveUniform(c,l))if(1<u.size)for(var h=0;h<u.size;++h){var p=u.name.replace("[0]","["+h+"]");o(d,new a(p,t.id(p),e.getUniformLocation(c,p),u))}else o(d,new a(u.name,t.id(u.name),e.getUniformLocation(c,u.name),u));for(f=e.getProgramParameter(c,35721),r.profile&&(n.stats.attributesCount=f),d=n.attributes,l=0;l<f;++l)(u=e.getActiveAttrib(c,l))&&o(d,new a(u.name,t.id(u.name),e.getAttribLocation(c,u.name),u))}var u={},c={},f={},d=[],h=0;return r.profile&&(n.getMaxUniformsCount=function(){var e=0;return d.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},n.getMaxAttributesCount=function(){var e=0;return d.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);Y(u).forEach(t),u={},Y(c).forEach(t),c={},d.forEach(function(t){e.deleteProgram(t.program)}),d.length=0,f={},n.shaderCount=0},program:function(e,t,r){var a=f[t];a||(a=f[t]={});var o=a[e];return o||(o=new s(t,e),n.shaderCount++,l(o),a[e]=o,d.push(o)),o},restore:function(){u={},c={};for(var e=0;e<d.length;++e)l(d[e])},shader:i,frag:-1,vert:-1}}function C(e,t,n,r,a,o,i){function s(a){var o;o=null===t.next?5121:t.next.colorAttachments[0].texture._texture.type;var i=0,s=0,l=r.framebufferWidth,u=r.framebufferHeight,c=null;return X(a)?c=a:a&&(i=0|a.x,s=0|a.y,l=0|(a.width||r.framebufferWidth-i),u=0|(a.height||r.framebufferHeight-s),c=a.data||null),n(),a=l*u*4,c||(5121===o?c=new Uint8Array(a):5126===o&&(c=c||new Float32Array(a))),e.pixelStorei(3333,4),e.readPixels(i,s,l,u,6408,o,c),c}return function(e){return e&&"framebuffer"in e?function(e){var n;return t.setFBO({framebuffer:e.framebuffer},function(){n=s(e)}),n}(e):s(e)}}function S(e){return Array.prototype.slice.call(e)}function j(e){return S(e).join("")}function O(){function e(){var e=[],t=[];return B(function(){e.push.apply(e,S(arguments))},{def:function(){var r="v"+n++;return t.push(r),0<arguments.length&&(e.push(r,"="),e.push.apply(e,S(arguments)),e.push(";")),r},toString:function(){return j([0<t.length?"var "+t+";":"",j(e)])}})}function t(){function t(e,t){r(e,t,"=",n.def(e,t),";")}var n=e(),r=e(),a=n.toString,o=r.toString;return B(function(){n.apply(n,S(arguments))},{def:n.def,entry:n,exit:r,save:t,set:function(e,r,a){t(e,r),n(e,r,"=",a,";")},toString:function(){return a()+o()}})}var n=0,r=[],a=[],o=e(),i={};return{global:o,link:function(e){for(var t=0;t<a.length;++t)if(a[t]===e)return r[t];return t="g"+n++,r.push(t),a.push(e),t},block:e,proc:function(e,n){function r(){var e="a"+a.length;return a.push(e),e}var a=[];n=n||0;for(var o=0;o<n;++o)r();var o=t(),s=o.toString;return i[e]=B(o,{arg:r,toString:function(){return j(["function(",a.join(),"){",s(),"}"])}})},scope:t,cond:function(){var e=j(arguments),n=t(),r=t(),a=n.toString,o=r.toString;return B(n,{then:function(){return n.apply(n,S(arguments)),this},else:function(){return r.apply(r,S(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),j(["if(",e,"){",a(),"}",t])}})},compile:function(){var e=['"use strict";',o,"return {"];Object.keys(i).forEach(function(t){e.push('"',t,'":',i[t].toString(),",")}),e.push("}");var t=j(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,a)}}}function P(e){return Array.isArray(e)||X(e)||l(e)}function N(e){return e.sort(function(e,t){return"viewport"===e?-1:"viewport"===t?1:e<t?-1:1})}function I(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function L(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function D(e){return new I(!1,!1,!1,e)}function R(e,t){var n=e.type;return 0===n?new I(!0,1<=(n=e.data.length),2<=n,t):4===n?new I((n=e.data).thisDep,n.contextDep,n.propDep,t):new I(3===n,2===n,1===n,t)}function z(e,t,n,r,a,i,s,l,u,c,f,d,h,p,m){function g(e){return e.replace(".","_")}function y(e,t,n){var r=g(e);re.push(e),te[r]=ee[r]=!!n,ae[r]=t}function b(e,t,n){var r=g(e);re.push(e),Array.isArray(n)?(ee[r]=n.slice(),te[r]=n.slice()):ee[r]=te[r]=n,oe[r]=t}function _(){var e=O(),n=e.link,r=e.global;e.id=le++,e.batchId="0";var a=n(ie),o=e.shared={props:"a0"};Object.keys(ie).forEach(function(e){o[e]=r.def(a,".",e)});var i=e.next={},s=e.current={};Object.keys(oe).forEach(function(e){Array.isArray(ee[e])&&(i[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))});var l=e.constants={};Object.keys(se).forEach(function(e){l[e]=r.def(JSON.stringify(se[e]))}),e.invoke=function(t,r){switch(r.type){case 0:var a=["this",o.context,o.props,e.batchId];return t.def(n(r.data),".call(",a.slice(0,Math.max(r.data.length+1,4)),")");case 1:return t.def(o.props,r.data);case 2:return t.def(o.context,r.data);case 3:return t.def("this",r.data);case 4:return r.data.append(e,t),r.data.ref}},e.attribCache={};var u={};return e.scopeAttrib=function(e){if((e=t.id(e))in u)return u[e];var r=c.scope[e];return r||(r=c.scope[e]=new K),u[e]=n(r)},e}function x(e,t){var n=e.static,r=e.dynamic;if("framebuffer"in n){var a=n.framebuffer;return a?(a=l.getFramebuffer(a),D(function(e,t){var n=e.link(a),r=e.shared;return t.set(r.framebuffer,".next",n),r=r.context,t.set(r,".framebufferWidth",n+".width"),t.set(r,".framebufferHeight",n+".height"),n})):D(function(e,t){var n=e.shared;return t.set(n.framebuffer,".next","null"),n=n.context,t.set(n,".framebufferWidth",n+".drawingBufferWidth"),t.set(n,".framebufferHeight",n+".drawingBufferHeight"),"null"})}if("framebuffer"in r){var o=r.framebuffer;return R(o,function(e,t){var n=e.invoke(t,o),r=e.shared,a=r.framebuffer,n=t.def(a,".getFramebuffer(",n,")");return t.set(a,".next",n),r=r.context,t.set(r,".framebufferWidth",n+"?"+n+".width:"+r+".drawingBufferWidth"),t.set(r,".framebufferHeight",n+"?"+n+".height:"+r+".drawingBufferHeight"),n})}return null}function w(e){function n(e){if(e in r){var n=t.id(r[e]);return(e=D(function(){return n})).id=n,e}if(e in a){var o=a[e];return R(o,function(e,t){var n=e.invoke(t,o);return t.def(e.shared.strings,".id(",n,")")})}return null}var r=e.static,a=e.dynamic,o=n("frag"),i=n("vert"),s=null;return L(o)&&L(i)?(s=f.program(i.id,o.id),e=D(function(e,t){return e.link(s)})):e=new I(o&&o.thisDep||i&&i.thisDep,o&&o.contextDep||i&&i.contextDep,o&&o.propDep||i&&i.propDep,function(e,t){var n,r,a=e.shared.shader;return n=o?o.append(e,t):t.def(a,".","frag"),r=i?i.append(e,t):t.def(a,".","vert"),t.def(a+".program("+r+","+n+")")}),{frag:o,vert:i,progVar:e,program:s}}function k(e,t){function n(e,t){if(e in r){var n=0|r[e];return D(function(e,r){return t&&(e.OFFSET=n),n})}if(e in a){var i=a[e];return R(i,function(e,n){var r=e.invoke(n,i);return t&&(e.OFFSET=r),r})}return t&&o?D(function(e,t){return e.OFFSET="0",0}):null}var r=e.static,a=e.dynamic,o=function(){if("elements"in r){var e=r.elements;P(e)?e=i.getElements(i.create(e,!0)):e&&(e=i.getElements(e));var t=D(function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r}return t.ELEMENTS=null});return t.value=e,t}if("elements"in a){var n=a.elements;return R(n,function(e,t){var r=e.shared,a=r.isBufferArgs,r=r.elements,o=e.invoke(t,n),i=t.def("null"),a=t.def(a,"(",o,")"),o=e.cond(a).then(i,"=",r,".createStream(",o,");").else(i,"=",r,".getElements(",o,");");return t.entry(o),t.exit(e.cond(a).then(r,".destroyStream(",i,");")),e.ELEMENTS=i})}return null}(),s=n("offset",!0);return{elements:o,primitive:function(){if("primitive"in r){var e=r.primitive;return D(function(t,n){return ne[e]})}if("primitive"in a){var t=a.primitive;return R(t,function(e,n){var r=e.constants.primTypes,a=e.invoke(n,t);return n.def(r,"[",a,"]")})}return o?L(o)?o.value?D(function(e,t){return t.def(e.ELEMENTS,".primType")}):D(function(){return 4}):new I(o.thisDep,o.contextDep,o.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",4)}):null}(),count:function(){if("count"in r){var e=0|r.count;return D(function(){return e})}if("count"in a){var t=a.count;return R(t,function(e,n){return e.invoke(n,t)})}return o?L(o)?o?s?new I(s.thisDep,s.contextDep,s.propDep,function(e,t){return t.def(e.ELEMENTS,".vertCount-",e.OFFSET)}):D(function(e,t){return t.def(e.ELEMENTS,".vertCount")}):D(function(){return-1}):new I(o.thisDep||s.thisDep,o.contextDep||s.contextDep,o.propDep||s.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}):null}(),instances:n("instances",!1),offset:s}}function A(e,n){var r=e.static,o=e.dynamic,i={};return Object.keys(r).forEach(function(e){var n=r[e],o=t.id(e),s=new K;if(P(n))s.state=1,s.buffer=a.getBuffer(a.create(n,34962,!1,!0)),s.type=0;else{var l=a.getBuffer(n);if(l)s.state=1,s.buffer=l,s.type=0;else if("constant"in n){var u=n.constant;s.buffer="null",s.state=2,"number"==typeof u?s.x=u:_e.forEach(function(e,t){t<u.length&&(s[e]=u[t])})}else{var l=P(n.buffer)?a.getBuffer(a.create(n.buffer,34962,!1,!0)):a.getBuffer(n.buffer),c=0|n.offset,f=0|n.stride,d=0|n.size,h=!!n.normalized,p=0;"type"in n&&(p=J[n.type]),n=0|n.divisor,s.buffer=l,s.state=1,s.size=d,s.normalized=h,s.type=p||l.dtype,s.offset=c,s.stride=f,s.divisor=n}}i[e]=D(function(e,t){var n=e.attribCache;if(o in n)return n[o];var r={isStream:!1};return Object.keys(s).forEach(function(e){r[e]=s[e]}),s.buffer&&(r.buffer=e.link(s.buffer),r.type=r.type||r.buffer+".dtype"),n[o]=r})}),Object.keys(o).forEach(function(e){var t=o[e];i[e]=R(t,function(e,n){function r(e){n(l[e],"=",a,".",e,"|0;")}var a=e.invoke(n,t),o=e.shared,i=o.isBufferArgs,s=o.buffer,l={isStream:n.def(!1)},u=new K;u.state=1,Object.keys(u).forEach(function(e){l[e]=n.def(""+u[e])});var c=l.buffer,f=l.type;return n("if(",i,"(",a,")){",l.isStream,"=true;",c,"=",s,".createStream(",34962,",",a,");",f,"=",c,".dtype;","}else{",c,"=",s,".getBuffer(",a,");","if(",c,"){",f,"=",c,".dtype;",'}else if("constant" in ',a,"){",l.state,"=",2,";","if(typeof "+a+'.constant === "number"){',l[_e[0]],"=",a,".constant;",_e.slice(1).map(function(e){return l[e]}).join("="),"=0;","}else{",_e.map(function(e,t){return l[e]+"="+a+".constant.length>"+t+"?"+a+".constant["+t+"]:0;"}).join(""),"}}else{","if(",i,"(",a,".buffer)){",c,"=",s,".createStream(",34962,",",a,".buffer);","}else{",c,"=",s,".getBuffer(",a,".buffer);","}",f,'="type" in ',a,"?",o.glTypes,"[",a,".type]:",c,".dtype;",l.normalized,"=!!",a,".normalized;"),r("size"),r("offset"),r("stride"),r("divisor"),n("}}"),n.exit("if(",l.isStream,"){",s,".destroyStream(",c,");","}"),l})}),i}function T(e,t,n,r,a){var i=x(e),s=function(e,t,n){function r(e){if(e in a){var n=a[e];e=!0;var r,i,s=0|n.x,l=0|n.y;return"width"in n?r=0|n.width:e=!1,"height"in n?i=0|n.height:e=!1,new I(!e&&t&&t.thisDep,!e&&t&&t.contextDep,!e&&t&&t.propDep,function(e,t){var a=e.shared.context,o=r;"width"in n||(o=t.def(a,".","framebufferWidth","-",s));var u=i;return"height"in n||(u=t.def(a,".","framebufferHeight","-",l)),[s,l,o,u]})}if(e in o){var u=o[e];return e=R(u,function(e,t){var n=e.invoke(t,u),r=e.shared.context,a=t.def(n,".x|0"),o=t.def(n,".y|0"),i=t.def('"width" in ',n,"?",n,".width|0:","(",r,".","framebufferWidth","-",a,")"),n=t.def('"height" in ',n,"?",n,".height|0:","(",r,".","framebufferHeight","-",o,")");return[a,o,i,n]}),t&&(e.thisDep=e.thisDep||t.thisDep,e.contextDep=e.contextDep||t.contextDep,e.propDep=e.propDep||t.propDep),e}return t?new I(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,".","framebufferWidth"),t.def(n,".","framebufferHeight")]}):null}var a=e.static,o=e.dynamic;if(e=r("viewport")){var i=e;e=new I(e.thisDep,e.contextDep,e.propDep,function(e,t){var n=i.append(e,t),r=e.shared.context;return t.set(r,".viewportWidth",n[2]),t.set(r,".viewportHeight",n[3]),n})}return{viewport:e,scissor_box:r("scissor.box")}}(e,i),l=k(e),u=function(e,t){var n=e.static,r=e.dynamic,a={};return re.forEach(function(e){function t(t,o){if(e in n){var s=t(n[e]);a[i]=D(function(){return s})}else if(e in r){var l=r[e];a[i]=R(l,function(e,t){return o(e,t,e.invoke(t,l))})}}var i=g(e);switch(e){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return t(function(e){return e},function(e,t,n){return n});case"depth.func":return t(function(e){return ke[e]},function(e,t,n){return t.def(e.constants.compareFuncs,"[",n,"]")});case"depth.range":return t(function(e){return e},function(e,t,n){return[t.def("+",n,"[0]"),t=t.def("+",n,"[1]")]});case"blend.func":return t(function(e){return[we["srcRGB"in e?e.srcRGB:e.src],we["dstRGB"in e?e.dstRGB:e.dst],we["srcAlpha"in e?e.srcAlpha:e.src],we["dstAlpha"in e?e.dstAlpha:e.dst]]},function(e,t,n){function r(e,r){return t.def('"',e,r,'" in ',n,"?",n,".",e,r,":",n,".",e)}e=e.constants.blendFuncs;var a=r("src","RGB"),o=r("dst","RGB"),i=(a=t.def(e,"[",a,"]"),t.def(e,"[",r("src","Alpha"),"]"));return[a,o=t.def(e,"[",o,"]"),i,e=t.def(e,"[",r("dst","Alpha"),"]")]});case"blend.equation":return t(function(e){return"string"==typeof e?[Z[e],Z[e]]:"object"==typeof e?[Z[e.rgb],Z[e.alpha]]:void 0},function(e,t,n){var r=e.constants.blendEquations,a=t.def(),o=t.def();return(e=e.cond("typeof ",n,'==="string"')).then(a,"=",o,"=",r,"[",n,"];"),e.else(a,"=",r,"[",n,".rgb];",o,"=",r,"[",n,".alpha];"),t(e),[a,o]});case"blend.color":return t(function(e){return o(4,function(t){return+e[t]})},function(e,t,n){return o(4,function(e){return t.def("+",n,"[",e,"]")})});case"stencil.mask":return t(function(e){return 0|e},function(e,t,n){return t.def(n,"|0")});case"stencil.func":return t(function(e){return[ke[e.cmp||"keep"],e.ref||0,"mask"in e?e.mask:-1]},function(e,t,n){return[e=t.def('"cmp" in ',n,"?",e.constants.compareFuncs,"[",n,".cmp]",":",7680),t.def(n,".ref|0"),t=t.def('"mask" in ',n,"?",n,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return t(function(t){return["stencil.opBack"===e?1029:1028,Ae[t.fail||"keep"],Ae[t.zfail||"keep"],Ae[t.zpass||"keep"]]},function(t,n,r){function a(e){return n.def('"',e,'" in ',r,"?",o,"[",r,".",e,"]:",7680)}var o=t.constants.stencilOps;return["stencil.opBack"===e?1029:1028,a("fail"),a("zfail"),a("zpass")]});case"polygonOffset.offset":return t(function(e){return[0|e.factor,0|e.units]},function(e,t,n){return[t.def(n,".factor|0"),t=t.def(n,".units|0")]});case"cull.face":return t(function(e){var t=0;return"front"===e?t=1028:"back"===e&&(t=1029),t},function(e,t,n){return t.def(n,'==="front"?',1028,":",1029)});case"lineWidth":return t(function(e){return e},function(e,t,n){return n});case"frontFace":return t(function(e){return Te[e]},function(e,t,n){return t.def(n+'==="cw"?2304:2305')});case"colorMask":return t(function(e){return e.map(function(e){return!!e})},function(e,t,n){return o(4,function(e){return"!!"+n+"["+e+"]"})});case"sample.coverage":return t(function(e){return["value"in e?e.value:1,!!e.invert]},function(e,t,n){return[t.def('"value" in ',n,"?+",n,".value:1"),t=t.def("!!",n,".invert")]})}}),a}(e),c=w(e),f=s.viewport;return f&&(u.viewport=f),f=g("scissor.box"),(s=s[f])&&(u[f]=s),s=0<Object.keys(u).length,(i={framebuffer:i,draw:l,shader:c,state:u,dirty:s}).profile=function(e){var t,n=e.static;if(e=e.dynamic,"profile"in n){var r=!!n.profile;(t=D(function(e,t){return r})).enable=r}else if("profile"in e){var a=e.profile;t=R(a,function(e,t){return e.invoke(t,a)})}return t}(e),i.uniforms=function(e,t){var n=e.static,r=e.dynamic,a={};return Object.keys(n).forEach(function(e){var t,r=n[e];if("number"==typeof r||"boolean"==typeof r)t=D(function(){return r});else if("function"==typeof r){var i=r._reglType;"texture2d"===i||"textureCube"===i?t=D(function(e){return e.link(r)}):"framebuffer"!==i&&"framebufferCube"!==i||(t=D(function(e){return e.link(r.color[0])}))}else v(r)&&(t=D(function(e){return e.global.def("[",o(r.length,function(e){return r[e]}),"]")}));t.value=r,a[e]=t}),Object.keys(r).forEach(function(e){var t=r[e];a[e]=R(t,function(e,n){return e.invoke(n,t)})}),a}(n),i.attributes=A(t),i.context=function(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=D(function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)})}),Object.keys(n).forEach(function(e){var t=n[e];r[e]=R(t,function(e,n){return e.invoke(n,t)})}),r}(r),i}function M(e,t,n){var r=e.shared.context,a=e.scope();Object.keys(n).forEach(function(o){t.save(r,"."+o),a(r,".",o,"=",n[o].append(e,t),";")}),t(a)}function E(e,t,n,r){var a,o=e.shared,i=o.gl,s=o.framebuffer;$&&(a=t.def(o.extensions,".webgl_draw_buffers"));var l=e.constants,o=l.drawBuffer,l=l.backBuffer;e=n?n.append(e,t):t.def(s,".next"),r||t("if(",e,"!==",s,".cur){"),t("if(",e,"){",i,".bindFramebuffer(",36160,",",e,".framebuffer);"),$&&t(a,".drawBuffersWEBGL(",o,"[",e,".colorAttachments.length]);"),t("}else{",i,".bindFramebuffer(",36160,",null);"),$&&t(a,".drawBuffersWEBGL(",l,");"),t("}",s,".cur=",e,";"),r||t("}")}function C(e,t,n){var r=e.shared,a=r.gl,i=e.current,s=e.next,l=r.current,u=r.next,c=e.cond(l,".dirty");re.forEach(function(t){var r,f;if(!((t=g(t))in n.state))if(t in s){r=s[t],f=i[t];var d=o(ee[t].length,function(e){return c.def(r,"[",e,"]")});c(e.cond(d.map(function(e,t){return e+"!=="+f+"["+t+"]"}).join("||")).then(a,".",oe[t],"(",d,");",d.map(function(e,t){return f+"["+t+"]="+e}).join(";"),";"))}else r=c.def(u,".",t),d=e.cond(r,"!==",l,".",t),c(d),t in ae?d(e.cond(r).then(a,".enable(",ae[t],");").else(a,".disable(",ae[t],");"),l,".",t,"=",r,";"):d(a,".",oe[t],"(",r,");",l,".",t,"=",r,";")}),0===Object.keys(n.state).length&&c(l,".dirty=false;"),t(c)}function S(e,t,n,r){var a=e.shared,o=e.current,i=a.current,s=a.gl;N(Object.keys(n)).forEach(function(a){var l=n[a];if(!r||r(l)){var u=l.append(e,t);if(ae[a]){var c=ae[a];L(l)?t(s,u?".enable(":".disable(",c,");"):t(e.cond(u).then(s,".enable(",c,");").else(s,".disable(",c,");")),t(i,".",a,"=",u,";")}else if(v(u)){var f=o[a];t(s,".",oe[a],"(",u,");",u.map(function(e,t){return f+"["+t+"]="+e}).join(";"),";")}else t(s,".",oe[a],"(",u,");",i,".",a,"=",u,";")}})}function j(e,t){Q&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function z(e,t,n,r,a){function o(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function i(e){u=t.def(),e(u,"=",o(),";"),"string"==typeof a?e(d,".count+=",a,";"):e(d,".count++;"),p&&(r?(c=t.def(),e(c,"=",m,".getNumPendingQueries();")):e(m,".beginQuery(",d,");"))}function s(e){e(d,".cpuTime+=",o(),"-",u,";"),p&&(r?e(m,".pushScopeStats(",c,",",m,".getNumPendingQueries(),",d,");"):e(m,".endQuery();"))}function l(e){var n=t.def(h,".profile");t(h,".profile=",e,";"),t.exit(h,".profile=",n,";")}var u,c,f=e.shared,d=e.stats,h=f.current,m=f.timer;if(n=n.profile){if(L(n))return void(n.enable?(i(t),s(t.exit),l("true")):l("false"));l(n=n.append(e,t))}else n=t.def(h,".profile");i(f=e.block()),t("if(",n,"){",f,"}"),s(e=e.block()),t.exit("if(",n,"){",e,"}")}function F(e,t,n,r,a){function o(n,r,a){function o(){t("if(!",c,".buffer){",l,".enableVertexAttribArray(",u,");}");var n,o=a.type;n=a.size?t.def(a.size,"||",r):r,t("if(",c,".type!==",o,"||",c,".size!==",n,"||",h.map(function(e){return c+"."+e+"!=="+a[e]}).join("||"),"){",l,".bindBuffer(",34962,",",f,".buffer);",l,".vertexAttribPointer(",[u,n,o,a.normalized,a.stride,a.offset],");",c,".type=",o,";",c,".size=",n,";",h.map(function(e){return c+"."+e+"="+a[e]+";"}).join(""),"}"),Q&&(o=a.divisor,t("if(",c,".divisor!==",o,"){",e.instancing,".vertexAttribDivisorANGLE(",[u,o],");",c,".divisor=",o,";}"))}function s(){t("if(",c,".buffer){",l,".disableVertexAttribArray(",u,");","}if(",_e.map(function(e,t){return c+"."+e+"!=="+d[t]}).join("||"),"){",l,".vertexAttrib4f(",u,",",d,");",_e.map(function(e,t){return c+"."+e+"="+d[t]+";"}).join(""),"}")}var l=i.gl,u=t.def(n,".location"),c=t.def(i.attributes,"[",u,"]");n=a.state;var f=a.buffer,d=[a.x,a.y,a.z,a.w],h=["buffer","normalized","offset","stride"];1===n?o():2===n?s():(t("if(",n,"===",1,"){"),o(),t("}else{"),s(),t("}"))}var i=e.shared;r.forEach(function(r){var i,s=r.name,l=n.attributes[s];if(l){if(!a(l))return;i=l.append(e,t)}else{if(!a(Me))return;var u=e.scopeAttrib(s);i={},Object.keys(new K).forEach(function(e){i[e]=t.def(u,".",e)})}o(e.link(r),function(e){switch(e){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),i)})}function B(e,n,r,a,i){for(var s,l=e.shared,u=l.gl,c=0;c<a.length;++c){var f,d=a[c],h=d.name,p=d.info.type,m=r.uniforms[h],d=e.link(d)+".location";if(m){if(!i(m))continue;if(L(m)){if(h=m.value,35678===p||35680===p)p=e.link(h._texture||h.color[0]._texture),n(u,".uniform1i(",d,",",p+".bind());"),n.exit(p,".unbind();");else if(35674===p||35675===p||35676===p)h=e.global.def("new Float32Array(["+Array.prototype.slice.call(h)+"])"),m=2,35675===p?m=3:35676===p&&(m=4),n(u,".uniformMatrix",m,"fv(",d,",false,",h,");");else{switch(p){case 5126:s="1f";break;case 35664:s="2f";break;case 35665:s="3f";break;case 35666:s="4f";break;case 35670:case 5124:s="1i";break;case 35671:case 35667:s="2i";break;case 35672:case 35668:s="3i";break;case 35673:s="4i";break;case 35669:s="4i"}n(u,".uniform",s,"(",d,",",v(h)?Array.prototype.slice.call(h):h,");")}continue}f=m.append(e,n)}else{if(!i(Me))continue;f=n.def(l.uniforms,"[",t.id(h),"]")}switch(35678===p?n("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}"):35680===p&&n("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}"),h=1,p){case 35678:case 35680:p=n.def(f,"._texture"),n(u,".uniform1i(",d,",",p,".bind());"),n.exit(p,".unbind();");continue;case 5124:case 35670:s="1i";break;case 35667:case 35671:s="2i",h=2;break;case 35668:case 35672:s="3i",h=3;break;case 35669:case 35673:s="4i",h=4;break;case 5126:s="1f";break;case 35664:s="2f",h=2;break;case 35665:s="3f",h=3;break;case 35666:s="4f",h=4;break;case 35674:s="Matrix2fv";break;case 35675:s="Matrix3fv";break;case 35676:s="Matrix4fv"}if(n(u,".uniform",s,"(",d,","),"M"===s.charAt(0)){var d=Math.pow(p-35674+2,2),g=e.global.def("new Float32Array(",d,")");n("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",o(d,function(e){return g+"["+e+"]="+f+"["+e+"]"}),",",g,")")}else n(1<h?o(h,function(e){return f+"["+e+"]"}):f);n(");")}}function U(e,t,n,r){function a(a){var o=d[a];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(f,".",a)}function o(){function e(){n(l,".drawElementsInstancedANGLE(",[p,v,g,m+"<<(("+g+"-5121)>>1)",s],");")}function t(){n(l,".drawArraysInstancedANGLE(",[p,m,v,s],");")}h?y?e():(n("if(",h,"){"),e(),n("}else{"),t(),n("}")):t()}function i(){function e(){n(c+".drawElements("+[p,v,g,m+"<<(("+g+"-5121)>>1)"]+");")}function t(){n(c+".drawArrays("+[p,m,v]+");")}h?y?e():(n("if(",h,"){"),e(),n("}else{"),t(),n("}")):t()}var s,l,u=e.shared,c=u.gl,f=u.draw,d=r.draw,h=function(){var a=d.elements,o=t;return a?((a.contextDep&&r.contextDynamic||a.propDep)&&(o=n),a=a.append(e,o)):a=o.def(f,".","elements"),a&&o("if("+a+")"+c+".bindBuffer(34963,"+a+".buffer.buffer);"),a}(),p=a("primitive"),m=a("offset"),v=function(){var a=d.count,o=t;return a?((a.contextDep&&r.contextDynamic||a.propDep)&&(o=n),a=a.append(e,o)):a=o.def(f,".","count"),a}();if("number"==typeof v){if(0===v)return}else n("if(",v,"){"),n.exit("}");Q&&(s=a("instances"),l=e.instancing);var g=h+".type",y=d.elements&&L(d.elements);Q&&("number"!=typeof s||0<=s)?"string"==typeof s?(n("if(",s,">0){"),o(),n("}else if(",s,"<0){"),i(),n("}")):o():i()}function q(e,t,n,r,a){return t=_(),a=t.proc("body",a),Q&&(t.instancing=a.def(t.shared.extensions,".angle_instanced_arrays")),e(t,a,n,r),t.compile().body}function V(e,t,n,r){j(e,t),F(e,t,n,r.attributes,function(){return!0}),B(e,t,n,r.uniforms,function(){return!0}),U(e,t,t,n)}function W(e,t,n,r){function a(){return!0}e.batchId="a1",j(e,t),F(e,t,n,r.attributes,a),B(e,t,n,r.uniforms,a),U(e,t,t,n)}function G(e,t,n,r){function a(e){return e.contextDep&&i||e.propDep}function o(e){return!a(e)}j(e,t);var i=n.contextDep,s=t.def(),l=t.def();e.shared.props=l,e.batchId=s;var u=e.scope(),c=e.scope();t(u.entry,"for(",s,"=0;",s,"<","a1",";++",s,"){",l,"=","a0","[",s,"];",c,"}",u.exit),n.needsContext&&M(e,c,n.context),n.needsFramebuffer&&E(e,c,n.framebuffer),S(e,c,n.state,a),n.profile&&a(n.profile)&&z(e,c,n,!1,!0),r?(F(e,u,n,r.attributes,o),F(e,c,n,r.attributes,a),B(e,u,n,r.uniforms,o),B(e,c,n,r.uniforms,a),U(e,u,c,n)):(t=e.global.def("{}"),r=n.shader.progVar.append(e,c),l=c.def(r,".id"),u=c.def(t,"[",l,"]"),c(e.shared.gl,".useProgram(",r,".program);","if(!",u,"){",u,"=",t,"[",l,"]=",e.link(function(t){return q(W,e,n,t,2)}),"(",r,");}",u,".call(this,a0[",s,"],",s,");"))}function X(e,n){function r(t){var r=n.shader[t];r&&a.set(o.shader,"."+t,r.append(e,a))}var a=e.proc("scope",3);e.batchId="a2";var o=e.shared,i=o.current;M(e,a,n.context),n.framebuffer&&n.framebuffer.append(e,a),N(Object.keys(n.state)).forEach(function(t){var r=n.state[t].append(e,a);v(r)?r.forEach(function(n,r){a.set(e.next[t],"["+r+"]",n)}):a.set(o.next,"."+t,r)}),z(e,a,n,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(t){var r=n.draw[t];r&&a.set(o.draw,"."+t,""+r.append(e,a))}),Object.keys(n.uniforms).forEach(function(r){a.set(o.uniforms,"["+t.id(r)+"]",n.uniforms[r].append(e,a))}),Object.keys(n.attributes).forEach(function(t){var r=n.attributes[t].append(e,a),o=e.scopeAttrib(t);Object.keys(new K).forEach(function(e){a.set(o,"."+e,r[e])})}),r("vert"),r("frag"),0<Object.keys(n.state).length&&(a(i,".dirty=true;"),a.exit(i,".dirty=true;")),a("a1(",e.shared.context,",a0,",e.batchId,");")}function Y(e,t,n){var r=t.static[n];if(r&&function(e){if("object"==typeof e&&!v(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(H.isDynamic(e[t[n]]))return!0;return!1}}(r)){var a=e.global,o=Object.keys(r),i=!1,s=!1,l=!1,u=e.global.def("{}");o.forEach(function(t){var n=r[t];if(H.isDynamic(n))"function"==typeof n&&(n=r[t]=H.unbox(n)),t=R(n,null),i=i||t.thisDep,l=l||t.propDep,s=s||t.contextDep;else{switch(a(u,".",t,"="),typeof n){case"number":a(n);break;case"string":a('"',n,'"');break;case"object":Array.isArray(n)&&a("[",n.join(),"]");break;default:a(e.link(n))}a(";")}}),t.dynamic[n]=new H.DynamicVariable(4,{thisDep:i,contextDep:s,propDep:l,ref:u,append:function(e,t){o.forEach(function(n){var a=r[n];H.isDynamic(a)&&(a=e.invoke(t,a),t(u,".",n,"=",a,";"))})}}),delete t.static[n]}}var K=c.Record,Z={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(Z.min=32775,Z.max=32776);var Q=n.angle_instanced_arrays,$=n.webgl_draw_buffers,ee={dirty:!0,profile:m.profile},te={},re=[],ae={},oe={};y("dither",3024),y("blend.enable",3042),b("blend.color","blendColor",[0,0,0,0]),b("blend.equation","blendEquationSeparate",[32774,32774]),b("blend.func","blendFuncSeparate",[1,0,1,0]),y("depth.enable",2929,!0),b("depth.func","depthFunc",513),b("depth.range","depthRange",[0,1]),b("depth.mask","depthMask",!0),b("colorMask","colorMask",[!0,!0,!0,!0]),y("cull.enable",2884),b("cull.face","cullFace",1029),b("frontFace","frontFace",2305),b("lineWidth","lineWidth",1),y("polygonOffset.enable",32823),b("polygonOffset.offset","polygonOffset",[0,0]),y("sample.alpha",32926),y("sample.enable",32928),b("sample.coverage","sampleCoverage",[1,!1]),y("stencil.enable",2960),b("stencil.mask","stencilMask",-1),b("stencil.func","stencilFunc",[519,0,-1]),b("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),b("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),y("scissor.enable",3089),b("scissor.box","scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),b("viewport","viewport",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var ie={gl:e,context:h,strings:t,next:te,current:ee,draw:d,elements:i,buffer:a,shader:f,attributes:c.state,uniforms:u,framebuffer:l,extensions:n,timer:p,isBufferArgs:P},se={primTypes:ne,compareFuncs:ke,blendFuncs:we,blendEquations:Z,stencilOps:Ae,glTypes:J,orientationType:Te};$&&(se.backBuffer=[1029],se.drawBuffer=o(r.maxDrawbuffers,function(e){return 0===e?[0]:o(e,function(e){return 36064+e})}));var le=0;return{next:te,current:ee,procs:function(){var e=_(),t=e.proc("poll"),n=e.proc("refresh"),a=e.block();t(a),n(a);var i,s=e.shared,l=s.gl,u=s.next,c=s.current;a(c,".dirty=false;"),E(e,t),E(e,n,null,!0),Q&&(i=e.link(Q));for(var f=0;f<r.maxAttributes;++f){var d=n.def(s.attributes,"[",f,"]"),h=e.cond(d,".buffer");h.then(l,".enableVertexAttribArray(",f,");",l,".bindBuffer(",34962,",",d,".buffer.buffer);",l,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(l,".disableVertexAttribArray(",f,");",l,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),Q&&n(i,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return Object.keys(ae).forEach(function(r){var o=ae[r],i=a.def(u,".",r),s=e.block();s("if(",i,"){",l,".enable(",o,")}else{",l,".disable(",o,")}",c,".",r,"=",i,";"),n(s),t("if(",i,"!==",c,".",r,"){",s,"}")}),Object.keys(oe).forEach(function(r){var i,s,f=oe[r],d=ee[r],h=e.block();h(l,".",f,"("),v(d)?(f=d.length,i=e.global.def(u,".",r),s=e.global.def(c,".",r),h(o(f,function(e){return i+"["+e+"]"}),");",o(f,function(e){return s+"["+e+"]="+i+"["+e+"];"}).join("")),t("if(",o(f,function(e){return i+"["+e+"]!=="+s+"["+e+"]"}).join("||"),"){",h,"}")):(i=a.def(u,".",r),s=a.def(c,".",r),h(i,");",c,".",r,"=",i,";"),t("if(",i,"!==",s,"){",h,"}")),n(h)}),e.compile()}(),compile:function(e,t,n,r,a){var o=_();return o.stats=o.link(a),Object.keys(t.static).forEach(function(e){Y(o,t,e)}),xe.forEach(function(t){Y(o,e,t)}),n=T(e,t,n,r),function(e,t){var n=e.proc("draw",1);j(e,n),M(e,n,t.context),E(e,n,t.framebuffer),C(e,n,t),S(e,n,t.state),z(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)V(e,n,t,t.shader.program);else{var a=e.global.def("{}"),o=n.def(r,".id"),i=n.def(a,"[",o,"]");n(e.cond(i).then(i,".call(this,a0);").else(i,"=",a,"[",o,"]=",e.link(function(n){return q(V,e,t,n,1)}),"(",r,");",i,".call(this,a0);"))}0<Object.keys(t.state).length&&n(e.shared.current,".dirty=true;")}(o,n),X(o,n),function(e,t){function n(e){return e.contextDep&&a||e.propDep}var r=e.proc("batch",2);e.batchId="0",j(e,r);var a=!1,o=!0;Object.keys(t.context).forEach(function(e){a=a||t.context[e].propDep}),a||(M(e,r,t.context),o=!1);var i=!1;if((s=t.framebuffer)?(s.propDep?a=i=!0:s.contextDep&&a&&(i=!0),i||E(e,r,s)):E(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(a=!0),C(e,r,t),S(e,r,t.state,function(e){return!n(e)}),t.profile&&n(t.profile)||z(e,r,t,!1,"a1"),t.contextDep=a,t.needsContext=o,t.needsFramebuffer=i,(o=t.shader.progVar).contextDep&&a||o.propDep)G(e,r,t,null);else if(o=o.append(e,r),r(e.shared.gl,".useProgram(",o,".program);"),t.shader.program)G(e,r,t,t.shader.program);else{var s=e.global.def("{}"),i=r.def(o,".id"),l=r.def(s,"[",i,"]");r(e.cond(l).then(l,".call(this,a0,a1);").else(l,"=",s,"[",i,"]=",e.link(function(n){return q(G,e,t,n,2)}),"(",o,");",l,".call(this,a0,a1);"))}0<Object.keys(t.state).length&&r(e.shared.current,".dirty=true;")}(o,n),o.compile()}}}function F(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var B=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},U=0,H={DynamicVariable:e,define:function(n,r){return new e(n,t(r+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof e},unbox:function(t,n){return"function"==typeof t?new e(0,t):t},accessor:t},q={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},V="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},W=s();W.zero=s();var G=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,a=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),a=e.getParameter(36063));var o=!!t.oes_texture_float;if(o){o=e.createTexture(),e.bindTexture(3553,o),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var i=e.createFramebuffer();if(e.bindFramebuffer(36160,i),e.framebufferTexture2D(36160,36064,3553,o,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var s=W.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,s),e.getError()?o=!1:(e.deleteFramebuffer(i),e.deleteTexture(o),o=1===s[0]),W.freeType(s)}}return s=!0,s=e.createTexture(),i=W.allocType(5121,36),e.activeTexture(33984),e.bindTexture(34067,s),e.texImage2D(34069,0,6408,3,3,0,6408,5121,i),W.freeType(i),e.bindTexture(34067,null),e.deleteTexture(s),s=!e.getError(),{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:a,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:o,npotTextureCube:s}},X=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},Y=function(e){return Object.keys(e).map(function(t){return e[t]})},K={shape:function(e){for(var t=[];e.length;e=e[0])t.push(e.length);return t},flatten:function(e,t,n,r){var a=1;if(t.length)for(var o=0;o<t.length;++o)a*=t[o];else a=0;switch(n=r||W.allocType(n,a),t.length){case 0:break;case 1:for(r=t[0],t=0;t<r;++t)n[t]=e[t];break;case 2:for(r=t[0],t=t[1],o=a=0;o<r;++o)for(var i=e[o],s=0;s<t;++s)n[a++]=i[s];break;case 3:u(e,t[0],t[1],t[2],n,0);break;default:!function e(t,n,r,a,o){for(var i=1,s=r+1;s<n.length;++s)i*=n[s];var l=n[r];if(4==n.length-r){var c=n[r+1],f=n[r+2];for(n=n[r+3],s=0;s<l;++s)u(t[s],c,f,n,a,o),o+=i}else for(s=0;s<l;++s)e(t[s],n,r+1,a,o),o+=i}(e,t,0,n,0)}return n}},Z={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},J={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Q={dynamic:35048,stream:35040,static:35044},$=K.flatten,ee=K.shape,te=[];te[5120]=1,te[5122]=2,te[5124]=4,te[5121]=1,te[5123]=2,te[5125]=4,te[5126]=4;var ne={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},re=new Float32Array(1),ae=new Uint32Array(re.buffer),oe=[9984,9986,9985,9987],ie=[0,6409,6410,6407,6408],se={};se[6409]=se[6406]=se[6402]=1,se[34041]=se[6410]=2,se[6407]=se[35904]=3,se[6408]=se[35906]=4;var le=g("HTMLCanvasElement"),ue=g("CanvasRenderingContext2D"),ce=g("ImageBitmap"),fe=g("HTMLImageElement"),de=g("HTMLVideoElement"),he=Object.keys(Z).concat([le,ue,ce,fe,de]),pe=[];pe[5121]=1,pe[5126]=4,pe[36193]=2,pe[5123]=2,pe[5125]=4;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[34041]=4,me[33776]=.5,me[33777]=.5,me[33778]=1,me[33779]=1,me[35986]=.5,me[35987]=1,me[34798]=1,me[35840]=.5,me[35841]=.25,me[35842]=.5,me[35843]=.25,me[36196]=.5;var ve=[];ve[32854]=2,ve[32855]=2,ve[36194]=2,ve[33189]=2,ve[36168]=1,ve[34041]=4,ve[35907]=4,ve[34836]=16,ve[34842]=8,ve[34843]=6;var ge=function(e,t,n,r,a){function o(e){this.id=u++,this.refCount=1,this.renderbuffer=e,this.format=32854,this.height=this.width=0,a.profile&&(this.stats={size:0})}function i(t){var n=t.renderbuffer;e.bindRenderbuffer(36161,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete c[t.id],r.renderbufferCount--}var s={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(s.srgba=35907),t.ext_color_buffer_half_float&&(s.rgba16f=34842,s.rgb16f=34843),t.webgl_color_buffer_float&&(s.rgba32f=34836);var l=[];Object.keys(s).forEach(function(e){l[s[e]]=e});var u=0,c={};return o.prototype.decRef=function(){0>=--this.refCount&&i(this)},a.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(c).forEach(function(t){e+=c[t].stats.size}),e}),{create:function(t,n){function i(t,n){var r=0,o=0,c=32854;if("object"==typeof t&&t?("shape"in t?(o=t.shape,r=0|o[0],o=0|o[1]):("radius"in t&&(r=o=0|t.radius),"width"in t&&(r=0|t.width),"height"in t&&(o=0|t.height)),"format"in t&&(c=s[t.format])):"number"==typeof t?(r=0|t,o="number"==typeof n?0|n:r):t||(r=o=1),r!==u.width||o!==u.height||c!==u.format)return i.width=u.width=r,i.height=u.height=o,u.format=c,e.bindRenderbuffer(36161,u.renderbuffer),e.renderbufferStorage(36161,c,r,o),a.profile&&(u.stats.size=ve[u.format]*u.width*u.height),i.format=l[u.format],i}var u=new o(e.createRenderbuffer());return c[u.id]=u,r.renderbufferCount++,i(t,n),i.resize=function(t,n){var r=0|t,o=0|n||r;return r===u.width&&o===u.height?i:(i.width=u.width=r,i.height=u.height=o,e.bindRenderbuffer(36161,u.renderbuffer),e.renderbufferStorage(36161,u.format,r,o),a.profile&&(u.stats.size=ve[u.format]*u.width*u.height),i)},i._reglType="renderbuffer",i._renderbuffer=u,a.profile&&(i.stats=u.stats),i.destroy=function(){u.decRef()},i},clear:function(){Y(c).forEach(i)},restore:function(){Y(c).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,t.renderbuffer),e.renderbufferStorage(36161,t.format,t.width,t.height)}),e.bindRenderbuffer(36161,null)}}},ye=[];ye[6408]=4,ye[6407]=3;var be=[];be[5121]=1,be[5126]=4,be[36193]=2;var _e=["x","y","z","w"],xe="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),we={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ke={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ae={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Te={cw:2304,ccw:2305},Me=new I(!1,!1,!1,function(){});return function(e){function t(){if(0===K.length)w&&w.update(),$=null;else{$=q.next(t),f();for(var e=K.length-1;0<=e;--e){var n=K[e];n&&n(O,null,0)}v.flush(),w&&w.update()}}function n(){!$&&0<K.length&&($=q.next(t))}function r(){$&&(q.cancel(t),$=null)}function o(e){e.preventDefault(),r(),Z.forEach(function(e){e()})}function i(e){v.getError(),y.restore(),L.restore(),N.restore(),D.restore(),R.restore(),U.restore(),w&&w.restore(),W.procs.refresh(),n(),J.forEach(function(e){e()})}function s(e){function t(e){var t={},n={};return Object.keys(e).forEach(function(r){var a=e[r];H.isDynamic(a)?n[r]=H.unbox(a,r):t[r]=a}),{dynamic:n,static:t}}var n=t(e.context||{}),r=t(e.uniforms||{}),a=t(e.attributes||{}),o=t(function(e){function t(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach(function(r){n[e+"."+r]=t[r]})}}var n=B({},e);return delete n.uniforms,delete n.attributes,delete n.context,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),t("blend"),t("depth"),t("cull"),t("stencil"),t("polygonOffset"),t("scissor"),t("sample"),n}(e));e={gpuTime:0,cpuTime:0,count:0};var n=W.compile(o,a,r,n,e),i=n.draw,s=n.batch,l=n.scope,u=[];return B(function(e,t){var n;if("function"==typeof e)return l.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(n=0;n<e;++n)l.call(this,null,t,n);else{if(!Array.isArray(e))return l.call(this,e,t,0);for(n=0;n<e.length;++n)l.call(this,e[n],t,n)}else if("number"==typeof e){if(0<e)return s.call(this,function(e){for(;u.length<e;)u.push(null);return u}(0|e),0|e)}else{if(!Array.isArray(e))return i.call(this,e);if(e.length)return s.call(this,e,e.length)}},{stats:e})}function l(e,t){var n=0;W.procs.poll();var r=t.color;r&&(v.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in t&&(v.clearDepth(+t.depth),n|=256),"stencil"in t&&(v.clearStencil(0|t.stencil),n|=1024),v.clear(n)}function u(e){return K.push(e),n(),{cancel:function(){var t=F(K,e);K[t]=function e(){var t=F(K,e);K[t]=K[K.length-1],--K.length,0>=K.length&&r()}}}}function c(){var e=X.viewport,t=X.scissor_box;e[0]=e[1]=t[0]=t[1]=0,O.viewportWidth=O.framebufferWidth=O.drawingBufferWidth=e[2]=t[2]=v.drawingBufferWidth,O.viewportHeight=O.framebufferHeight=O.drawingBufferHeight=e[3]=t[3]=v.drawingBufferHeight}function f(){O.tick+=1,O.time=m(),c(),W.procs.poll()}function d(){c(),W.procs.refresh(),w&&w.update()}function m(){return(V()-k)/1e3}if(!(e=a(e)))return null;var v=e.gl,g=v.getContextAttributes();v.isContextLost();var y=function(e,t){function n(t){var n;t=t.toLowerCase();try{n=r[t]=e.getExtension(t)}catch(e){}return!!n}for(var r={},a=0;a<t.extensions.length;++a){var o=t.extensions[a];if(!n(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(!n(e))throw Error("(regl): error restoring extension "+e)})}}}(v,e);if(!y)return null;var b=function(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}(),_={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},x=y.extensions,w=function(e,t){function n(e,t,n){var r=i.pop()||new function(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null};r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,s.push(r)}var r=t.ext_disjoint_timer_query;if(!r)return null;var a=[],o=[],i=[],s=[],l=[],u=[];return{beginQuery:function(e){var t=a.pop()||r.createQueryEXT();r.beginQueryEXT(35007,t),o.push(t),n(o.length-1,o.length,e)},endQuery:function(){r.endQueryEXT(35007)},pushScopeStats:n,update:function(){var e,t;if(0!==(e=o.length)){u.length=Math.max(u.length,e+1),l.length=Math.max(l.length,e+1),l[0]=0;var n=u[0]=0;for(t=e=0;t<o.length;++t){var c=o[t];r.getQueryObjectEXT(c,34919)?(n+=r.getQueryObjectEXT(c,34918),a.push(c)):o[e++]=c,l[t+1]=n,u[t+1]=e}for(o.length=e,t=e=0;t<s.length;++t){var n=s[t],f=n.startQueryIndex,c=n.endQueryIndex;n.sum+=l[c]-l[f],f=u[f],(c=u[c])===f?(n.stats.gpuTime+=n.sum/1e6,i.push(n)):(n.startQueryIndex=f,n.endQueryIndex=c,s[e++]=n)}s.length=e}},getNumPendingQueries:function(){return o.length},clear:function(){a.push.apply(a,o);for(var e=0;e<a.length;e++)r.deleteQueryEXT(a[e]);o.length=0,a.length=0},restore:function(){o.length=0,a.length=0}}}(0,x),k=V(),S=v.drawingBufferWidth,j=v.drawingBufferHeight,O={tick:0,time:0,viewportWidth:S,viewportHeight:j,framebufferWidth:S,framebufferHeight:j,drawingBufferWidth:S,drawingBufferHeight:j,pixelRatio:e.pixelRatio},P=G(v,x),S=function(e,t,n,r){for(e=n.maxAttributes,t=Array(e),n=0;n<e;++n)t[n]=new M;return{Record:M,scope:{},state:t}}(v,x,P),N=h(v,_,e,S),I=p(v,x,N,_),L=E(v,b,_,e),D=A(v,x,P,function(){W.procs.poll()},O,_,e),R=ge(v,x,0,_,e),U=T(v,x,P,D,R,_),W=z(v,b,x,P,N,I,0,U,{},S,L,{elements:null,primitive:4,count:-1,offset:0,instances:-1},O,w,e),b=C(v,U,W.procs.poll,O),X=W.next,Y=v.canvas,K=[],Z=[],J=[],Q=[e.onDestroy],$=null;Y&&(Y.addEventListener("webglcontextlost",o,!1),Y.addEventListener("webglcontextrestored",i,!1));var ee=U.setFBO=s({framebuffer:H.define.call(null,1,"framebuffer")});return d(),g=B(s,{clear:function(e){if("framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;6>t;++t)ee(B({framebuffer:e.framebuffer.faces[t]},e),l);else ee(e,l);else l(0,e)},prop:H.define.bind(null,1),context:H.define.bind(null,2),this:H.define.bind(null,3),draw:s({}),buffer:function(e){return N.create(e,34962,!1,!1)},elements:function(e){return I.create(e,!1)},texture:D.create2D,cube:D.createCube,renderbuffer:R.create,framebuffer:U.create,framebufferCube:U.createCube,attributes:g,frame:u,on:function(e,t){var n;switch(e){case"frame":return u(t);case"lost":n=Z;break;case"restore":n=J;break;case"destroy":n=Q}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t){n[e]=n[n.length-1],n.pop();break}}}},limits:P,hasExtension:function(e){return 0<=P.extensions.indexOf(e.toLowerCase())},read:b,destroy:function(){K.length=0,r(),Y&&(Y.removeEventListener("webglcontextlost",o),Y.removeEventListener("webglcontextrestored",i)),L.clear(),U.clear(),R.clear(),D.clear(),I.clear(),N.clear(),w&&w.clear(),Q.forEach(function(e){e()})},_gl:v,_refresh:d,poll:function(){f(),w&&w.update()},now:m,stats:_}),e.onDone(null,g),g}})},{}],259:[function(e,t,n){
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
"use strict";var r,a="";t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||void 0===r)r=e,a="";else if(a.length>=n)return a.substr(0,n);for(;n>a.length&&t>1;)1&t&&(a+=e),t>>=1,e+=e;return a=(a+=e).substr(0,n)}},{}],260:[function(e,t,n){"use strict";var r=e("two-product"),a=e("robust-sum"),o=e("robust-subtract"),i=e("robust-scale"),s=6;function l(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var a=n[r-1]=new Array(e.length-1),o=0,i=0;o<e.length;++o)o!==t&&(a[i++]=e[r][o]);return n}function u(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",u(e.slice(0,t)),",",u(e.slice(t)),")"].join("")}function c(e,t){if("m"===e.charAt(0)){if("w"===t.charAt(0)){var n=e.split("[");return["w",t.substr(1),"m",n[0].substr(1)].join("")}return["prod(",e,",",t,")"].join("")}return c(t,e)}function f(e){return!0&e?"-":""}function d(e){if(2===e.length)return[["diff(",c(e[0][0],e[1][1]),",",c(e[1][0],e[0][1]),")"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",u(d(l(e,n))),",",f(n),e[0][n],")"].join(""));return t}function h(e,t){for(var n=[],r=0;r<t-2;++r)n.push(["prod(m",e,"[",r,"],m",e,"[",r,"])"].join(""));return u(n)}function p(e){for(var t=[],n=[],s=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-2,"]"].join("")}return t}(e),c=0;c<e;++c)s[0][c]="1",s[e-1][c]="w"+c;for(var c=0;c<e;++c)0==(1&c)?t.push.apply(t,d(l(s,c))):n.push.apply(n,d(l(s,c)));for(var f=u(t),p=u(n),m="exactInSphere"+e,v=[],c=0;c<e;++c)v.push("m"+c);for(var g=["function ",m,"(",v.join(),"){"],c=0;c<e;++c){g.push("var w",c,"=",h(c,e),";");for(var y=0;y<e;++y)y!==c&&g.push("var w",c,"m",y,"=scale(w",c,",m",y,"[0]);")}g.push("var p=",f,",n=",p,",d=diff(p,n);return d[d.length-1];}return ",m);var b=new Function("sum","diff","prod","scale",g.join(""));return b(a,o,r,i)}var m=[function(){return 0},function(){return 0},function(){return 0}];!function(){for(;m.length<=s;)m.push(p(m.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);for(var a=["function testInSphere(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=s;++r)a.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");a.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(a.join(""));var o=Function.apply(void 0,n);t.exports=o.apply(void 0,[function(e){var t=m[e.length];return t||(t=m[e.length]=p(e.length)),t.apply(void 0,e)}].concat(m));for(var r=0;r<=s;++r)t.exports[r]=m[r]}()},{"robust-scale":263,"robust-subtract":265,"robust-sum":266,"two-product":287}],261:[function(e,t,n){"use strict";var r=e("two-product"),a=e("robust-sum"),o=e("robust-scale"),i=e("robust-subtract"),s=5;function l(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var a=n[r-1]=new Array(e.length-1),o=0,i=0;o<e.length;++o)o!==t&&(a[i++]=e[r][o]);return n}function u(e){return 1&e?"-":""}function c(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",c(e.slice(0,t)),",",c(e.slice(t)),")"].join("")}function f(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",c(f(l(e,n))),",",u(n),e[0][n],")"].join(""));return t}function d(e){for(var t=[],n=[],s=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),u=[],d=0;d<e;++d)0==(1&d)?t.push.apply(t,f(l(s,d))):n.push.apply(n,f(l(s,d))),u.push("m"+d);var h=c(t),p=c(n),m="orientation"+e+"Exact",v=["function ",m,"(",u.join(),"){var p=",h,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",m].join(""),g=new Function("sum","prod","scale","sub",v);return g(a,r,o,i)}var h=d(3),p=d(4),m=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,a=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),i=a-o;if(a>0){if(o<=0)return i;r=a+o}else{if(!(a<0))return i;if(o>=0)return i;r=-(a+o)}var s=3.3306690738754716e-16*r;return i>=s||i<=-s?i:h(e,t,n)},function(e,t,n,r){var a=e[0]-r[0],o=t[0]-r[0],i=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],c=e[2]-r[2],f=t[2]-r[2],d=n[2]-r[2],h=o*u,m=i*l,v=i*s,g=a*u,y=a*l,b=o*s,_=c*(h-m)+f*(v-g)+d*(y-b),x=(Math.abs(h)+Math.abs(m))*Math.abs(c)+(Math.abs(v)+Math.abs(g))*Math.abs(f)+(Math.abs(y)+Math.abs(b))*Math.abs(d),w=7.771561172376103e-16*x;return _>w||-_>w?_:p(e,t,n,r)}];!function(){for(;m.length<=s;)m.push(d(m.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);for(var a=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=s;++r)a.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");a.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(a.join(""));var o=Function.apply(void 0,n);t.exports=o.apply(void 0,[function(e){var t=m[e.length];return t||(t=m[e.length]=d(e.length)),t.apply(void 0,e)}].concat(m));for(var r=0;r<=s;++r)t.exports[r]=m[r]}()},{"robust-scale":263,"robust-subtract":265,"robust-sum":266,"two-product":287}],262:[function(e,t,n){"use strict";var r=e("robust-sum"),a=e("robust-scale");t.exports=function(e,t){if(1===e.length)return a(t,e[0]);if(1===t.length)return a(e,t[0]);if(0===e.length||0===t.length)return[0];var n=[0];if(e.length<t.length)for(var o=0;o<e.length;++o)n=r(n,a(t,e[o]));else for(var o=0;o<t.length;++o)n=r(n,a(e,t[o]));return n}},{"robust-scale":263,"robust-sum":266}],263:[function(e,t,n){"use strict";var r=e("two-product"),a=e("two-sum");t.exports=function(e,t){var n=e.length;if(1===n){var o=r(e[0],t);return o[0]?o:[o[1]]}var i=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(e[0],t,s),s[0]&&(i[u++]=s[0]);for(var c=1;c<n;++c){r(e[c],t,l);var f=s[1];a(f,l[0],s),s[0]&&(i[u++]=s[0]);var d=l[1],h=s[1],p=d+h,m=p-d,v=h-m;s[1]=p,v&&(i[u++]=v)}return s[1]&&(i[u++]=s[1]),0===u&&(i[u++]=0),i.length=u,i}},{"two-product":287,"two-sum":288}],264:[function(e,t,n){"use strict";t.exports=function(e,t,n,a){var o=r(e,n,a),i=r(t,n,a);if(o>0&&i>0||o<0&&i<0)return!1;var s=r(n,e,t),l=r(a,e,t);return!(s>0&&l>0||s<0&&l<0)&&(0!==o||0!==i||0!==s||0!==l||function(e,t,n,r){for(var a=0;a<2;++a){var o=e[a],i=t[a],s=Math.min(o,i),l=Math.max(o,i),u=n[a],c=r[a],f=Math.min(u,c),d=Math.max(u,c);if(d<s||l<f)return!1}return!0}(e,t,n,a))};var r=e("robust-orientation")[3]},{"robust-orientation":261}],265:[function(e,t,n){"use strict";t.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,a=e-(n-r)+(t-r);return a?[a,n]:[n]}(e[0],-t[0]);var a,o,i=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=e[l],d=c(f),h=-t[u],p=c(h);d<p?(o=f,(l+=1)<n&&(f=e[l],d=c(f))):(o=h,(u+=1)<r&&(h=-t[u],p=c(h))),l<n&&d<p||u>=r?(a=f,(l+=1)<n&&(f=e[l],d=c(f))):(a=h,(u+=1)<r&&(h=-t[u],p=c(h)));for(var m,v,g=a+o,y=g-a,b=o-y,_=b,x=g;l<n&&u<r;)d<p?(a=f,(l+=1)<n&&(f=e[l],d=c(f))):(a=h,(u+=1)<r&&(h=-t[u],p=c(h))),(b=(o=_)-(y=(g=a+o)-a))&&(i[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m;for(;l<n;)(b=(o=_)-(y=(g=(a=f)+o)-a))&&(i[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(l+=1)<n&&(f=e[l]);for(;u<r;)(b=(o=_)-(y=(g=(a=h)+o)-a))&&(i[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(u+=1)<r&&(h=-t[u]);return _&&(i[s++]=_),x&&(i[s++]=x),s||(i[s++]=0),i.length=s,i}},{}],266:[function(e,t,n){"use strict";t.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,a=e-(n-r)+(t-r);return a?[a,n]:[n]}(e[0],t[0]);var a,o,i=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=e[l],d=c(f),h=t[u],p=c(h);d<p?(o=f,(l+=1)<n&&(f=e[l],d=c(f))):(o=h,(u+=1)<r&&(h=t[u],p=c(h))),l<n&&d<p||u>=r?(a=f,(l+=1)<n&&(f=e[l],d=c(f))):(a=h,(u+=1)<r&&(h=t[u],p=c(h)));for(var m,v,g=a+o,y=g-a,b=o-y,_=b,x=g;l<n&&u<r;)d<p?(a=f,(l+=1)<n&&(f=e[l],d=c(f))):(a=h,(u+=1)<r&&(h=t[u],p=c(h))),(b=(o=_)-(y=(g=a+o)-a))&&(i[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m;for(;l<n;)(b=(o=_)-(y=(g=(a=f)+o)-a))&&(i[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(l+=1)<n&&(f=e[l]);for(;u<r;)(b=(o=_)-(y=(g=(a=h)+o)-a))&&(i[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(u+=1)<r&&(h=t[u]);return _&&(i[s++]=_),x&&(i[s++]=x),s||(i[s++]=0),i.length=s,i}},{}],267:[function(e,t,n){"use strict";t.exports=function(e){return e<0?-1:e>0?1:0}},{}],268:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],269:[function(e,t,n){"use strict";"use restrict";var r=e("bit-twiddle"),a=e("union-find");function o(e,t){var n=e.length,r=e.length-t.length,a=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:var o=e[0]+e[1]-t[0]-t[1];return o||a(e[0],e[1])-a(t[0],t[1]);case 3:var i=e[0]+e[1],s=t[0]+t[1];if(o=i+e[2]-(s+t[2]))return o;var l=a(e[0],e[1]),u=a(t[0],t[1]),o=a(l,e[2])-a(u,t[2]);return o||a(l+e[2],i)-a(u+t[2],s);default:var c=e.slice(0);c.sort();var f=t.slice(0);f.sort();for(var d=0;d<n;++d)if(r=c[d]-f[d])return r;return 0}}function i(e,t){return o(e[0],t[0])}function s(e,t){if(t){for(var n=e.length,r=new Array(n),a=0;a<n;++a)r[a]=[e[a],t[a]];r.sort(i);for(var a=0;a<n;++a)e[a]=r[a][0],t[a]=r[a][1];return e}return e.sort(o),e}function l(e){if(0===e.length)return[];for(var t=1,n=e.length,r=1;r<n;++r){var a=e[r];if(o(a,e[r-1])){if(r===t){t++;continue}e[t++]=a}}return e.length=t,e}function u(e,t){for(var n=0,r=e.length-1,a=-1;n<=r;){var i=n+r>>1,s=o(e[i],t);s<=0?(0===s&&(a=i),n=i+1):s>0&&(r=i-1)}return a}function c(e,t){for(var n=new Array(e.length),a=0,i=n.length;a<i;++a)n[a]=[];for(var s=[],a=0,l=t.length;a<l;++a)for(var c=t[a],f=c.length,d=1,h=1<<f;d<h;++d){s.length=r.popCount(d);for(var p=0,m=0;m<f;++m)d&1<<m&&(s[p++]=c[m]);var v=u(e,s);if(!(v<0))for(;n[v++].push(a),!(v>=e.length||0!==o(e[v],s)););}return n}function f(e,t){if(t<0)return[];for(var n=[],a=(1<<t+1)-1,o=0;o<e.length;++o)for(var i=e[o],l=a;l<1<<i.length;l=r.nextCombination(l)){for(var u=new Array(t+1),c=0,f=0;f<i.length;++f)l&1<<f&&(u[c++]=i[f]);n.push(u)}return s(n)}n.dimension=function(e){for(var t=0,n=Math.max,r=0,a=e.length;r<a;++r)t=n(t,e[r].length);return t-1},n.countVertices=function(e){for(var t=-1,n=Math.max,r=0,a=e.length;r<a;++r)for(var o=e[r],i=0,s=o.length;i<s;++i)t=n(t,o[i]);return t+1},n.cloneCells=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e[n].slice(0);return t},n.compareCells=o,n.normalize=s,n.unique=l,n.findCell=u,n.incidence=c,n.dual=function(e,t){if(!t)return c(l(f(e,0)),e);for(var n=new Array(t),r=0;r<t;++r)n[r]=[];for(var r=0,a=e.length;r<a;++r)for(var o=e[r],i=0,s=o.length;i<s;++i)n[o[i]].push(r);return n},n.explode=function(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var a=e[n],o=0|a.length,i=1,l=1<<o;i<l;++i){for(var u=[],c=0;c<o;++c)i>>>c&1&&u.push(a[c]);t.push(u)}return s(t)},n.skeleton=f,n.boundary=function(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var a=e[n],o=0,i=a.length;o<i;++o){for(var l=new Array(a.length-1),u=0,c=0;u<i;++u)u!==o&&(l[c++]=a[u]);t.push(l)}return s(t)},n.connectedComponents=function(e,t){return t?function(e,t){for(var n=new a(t),r=0;r<e.length;++r)for(var o=e[r],i=0;i<o.length;++i)for(var s=i+1;s<o.length;++s)n.link(o[i],o[s]);for(var l=[],u=n.ranks,r=0;r<u.length;++r)u[r]=-1;for(var r=0;r<e.length;++r){var c=n.find(e[r][0]);u[c]<0?(u[c]=l.length,l.push([e[r].slice(0)])):l[u[c]].push(e[r].slice(0))}return l}(e,t):function(e){for(var t=l(s(f(e,0))),n=new a(t.length),r=0;r<e.length;++r)for(var o=e[r],i=0;i<o.length;++i)for(var c=u(t,[o[i]]),d=i+1;d<o.length;++d)n.link(c,u(t,[o[d]]));for(var h=[],p=n.ranks,r=0;r<p.length;++r)p[r]=-1;for(var r=0;r<e.length;++r){var m=n.find(u(t,[e[r][0]]));p[m]<0?(p[m]=h.length,h.push([e[r].slice(0)])):h[p[m]].push(e[r].slice(0))}return h}(e)}},{"bit-twiddle":268,"union-find":270}],270:[function(e,t,n){"use strict";"use restrict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.exports=r,r.prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.prototype.find=function(e){for(var t=this.roots;t[e]!==e;){var n=t[e];t[e]=t[n],e=n}return e},r.prototype.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var a=this.ranks,o=this.roots,i=a[n],s=a[r];i<s?o[n]=r:s<i?o[r]=n:(o[r]=n,++a[n])}}},{}],271:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var o=t.length,i=e.length,s=new Array(o),l=new Array(o),u=new Array(o),c=new Array(o),f=0;f<o;++f)s[f]=l[f]=-1,u[f]=1/0,c[f]=!1;for(var f=0;f<i;++f){var d=e[f];if(2!==d.length)throw new Error("Input must be a graph");var h=d[1],p=d[0];-1!==l[p]?l[p]=-2:l[p]=h,-1!==s[h]?s[h]=-2:s[h]=p}function m(e){if(c[e])return 1/0;var n=s[e],a=l[e];return n<0||a<0?1/0:function(e,t,n){var a=Math.abs(r(e,t,n)),o=Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2));return a/o}(t[e],t[n],t[a])}function v(e,t){var n=A[e],r=A[t];A[e]=r,A[t]=n,T[n]=t,T[r]=e}function g(e){return u[A[e]]}function y(e){return 1&e?e-1>>1:(e>>1)-1}function b(e){for(var t=g(e);;){var n=t,r=2*e+1,a=2*(e+1),o=e;if(r<E){var i=g(r);i<n&&(o=r,n=i)}if(a<E){var s=g(a);s<n&&(o=a)}if(o===e)return e;v(e,o),e=o}}function _(e){for(var t=g(e);e>0;){var n=y(e);if(n>=0){var r=g(n);if(t<r){v(e,n),e=n;continue}}return e}}function x(){if(E>0){var e=A[0];return v(0,E-1),E-=1,b(0),e}return-1}function w(e,t){var n=A[e];return u[n]===t?e:(u[n]=-1/0,_(e),x(),u[n]=t,_((E+=1)-1))}function k(e){if(!c[e]){c[e]=!0;var t=s[e],n=l[e];s[n]>=0&&(s[n]=t),l[t]>=0&&(l[t]=n),T[t]>=0&&w(T[t],m(t)),T[n]>=0&&w(T[n],m(n))}}for(var A=[],T=new Array(o),f=0;f<o;++f){var M=u[f]=m(f);M<1/0?(T[f]=A.length,A.push(f)):T[f]=-1}for(var E=A.length,f=E>>1;f>=0;--f)b(f);for(;;){var C=x();if(C<0||u[C]>n)break;k(C)}for(var S=[],f=0;f<o;++f)c[f]||(T[f]=S.length,S.push(t[f].slice()));function j(e,t){if(e[t]<0)return t;var n=t,r=t;do{var a=e[r];if(!c[r]||a<0||a===r)break;if(a=e[r=a],!c[r]||a<0||a===r)break;r=a,n=e[n]}while(n!==r);for(var o=t;o!==r;o=e[o])e[o]=r;return r}S.length;var O=[];return e.forEach(function(e){var t=j(s,e[0]),n=j(l,e[1]);if(t>=0&&n>=0&&t!==n){var r=T[t],a=T[n];r!==a&&O.push([r,a])}}),a.unique(a.normalize(O)),{positions:S,edges:O}};var r=e("robust-orientation"),a=e("simplicial-complex")},{"robust-orientation":261,"simplicial-complex":269}],272:[function(e,t,n){"use strict";t.exports=function(e,t){var n,o,i,s;if(t[0][0]<t[1][0])n=t[0],o=t[1];else{if(!(t[0][0]>t[1][0]))return a(t,e);n=t[1],o=t[0]}if(e[0][0]<e[1][0])i=e[0],s=e[1];else{if(!(e[0][0]>e[1][0]))return-a(e,t);i=e[1],s=e[0]}var l=r(n,o,s),u=r(n,o,i);if(l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;if(l=r(s,i,o),u=r(s,i,n),l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;return o[0]-s[0]};var r=e("robust-orientation");function a(e,t){var n,a,o,i;if(t[0][0]<t[1][0])n=t[0],a=t[1];else{if(!(t[0][0]>t[1][0])){var s=Math.min(e[0][1],e[1][1]),l=Math.max(e[0][1],e[1][1]),u=Math.min(t[0][1],t[1][1]),c=Math.max(t[0][1],t[1][1]);return l<u?l-u:s>c?s-c:l-c}n=t[1],a=t[0]}e[0][1]<e[1][1]?(o=e[0],i=e[1]):(o=e[1],i=e[0]);var f=r(a,n,o);return f||(f=r(a,n,i))||i-a}},{"robust-orientation":261}],273:[function(e,t,n){"use strict";t.exports=function(e){for(var t=e.length,n=2*t,r=new Array(n),o=0;o<t;++o){var l=e[o],u=l[0][0]<l[1][0];r[2*o]=new d(l[0][0],l,u,o),r[2*o+1]=new d(l[1][0],l,!u,o)}r.sort(function(e,t){var n=e.x-t.x;return n||(n=e.create-t.create)||Math.min(e.segment[0][1],e.segment[1][1])-Math.min(t.segment[0][1],t.segment[1][1])});for(var c=a(i),h=[],p=[],m=[],o=0;o<n;){for(var v=r[o].x,g=[];o<n;){var y=r[o];if(y.x!==v)break;o+=1,y.segment[0][0]===y.x&&y.segment[1][0]===y.x?y.create&&(y.segment[0][1]<y.segment[1][1]?(g.push(new f(y.segment[0][1],y.index,!0,!0)),g.push(new f(y.segment[1][1],y.index,!1,!1))):(g.push(new f(y.segment[1][1],y.index,!0,!1)),g.push(new f(y.segment[0][1],y.index,!1,!0)))):c=y.create?c.insert(y.segment,y.index):c.remove(y.segment)}h.push(c.root),p.push(v),m.push(g)}return new s(h,p,m)};var r=e("binary-search-bounds"),a=e("functional-red-black-tree"),o=e("robust-orientation"),i=e("./lib/order-segments");function s(e,t,n){this.slabs=e,this.coordinates=t,this.horizontal=n}var l=s.prototype;function u(e,t){return e.y-t}function c(e,t){for(var n=null;e;){var r,a,i=e.key;i[0][0]<i[1][0]?(r=i[0],a=i[1]):(r=i[1],a=i[0]);var s=o(r,a,t);if(s<0)e=e.left;else if(s>0)if(t[0]!==i[1][0])n=e,e=e.right;else{var l=c(e.right,t);if(l)return l;e=e.left}else{if(t[0]!==i[1][0])return e;var l=c(e.right,t);if(l)return l;e=e.left}}return n}function f(e,t,n,r){this.y=e,this.index=t,this.start=n,this.closed=r}function d(e,t,n,r){this.x=e,this.segment=t,this.create=n,this.index=r}l.castUp=function(e){var t=r.le(this.coordinates,e[0]);if(t<0)return-1;this.slabs[t];var n=c(this.slabs[t],e),a=-1;if(n&&(a=n.value),this.coordinates[t]===e[0]){var s=null;if(n&&(s=n.key),t>0){var l=c(this.slabs[t-1],e);l&&(s?i(l.key,s)>0&&(s=l.key,a=l.value):(a=l.value,s=l.key))}var f=this.horizontal[t];if(f.length>0){var d=r.ge(f,e[1],u);if(d<f.length){var h=f[d];if(e[1]===h.y){if(h.closed)return h.index;for(;d<f.length-1&&f[d+1].y===e[1];)if((h=f[d+=1]).closed)return h.index;if(h.y===e[1]&&!h.start){if((d+=1)>=f.length)return a;h=f[d]}}if(h.start)if(s){var p=o(s[0],s[1],[e[0],h.y]);s[0][0]>s[1][0]&&(p=-p),p>0&&(a=h.index)}else a=h.index;else h.y!==e[1]&&(a=h.index)}}}return a}},{"./lib/order-segments":272,"binary-search-bounds":38,"functional-red-black-tree":153,"robust-orientation":261}],274:[function(e,t,n){!function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function t(n){return function(n,r){var a,o,i,s,l,u,c,f,d,h=1,p=n.length,m="";for(o=0;o<p;o++)if("string"==typeof n[o])m+=n[o];else if(Array.isArray(n[o])){if((s=n[o])[2])for(a=r[h],i=0;i<s[2].length;i++){if(!a.hasOwnProperty(s[2][i]))throw new Error(t('[sprintf] property "%s" does not exist',s[2][i]));a=a[s[2][i]]}else a=s[1]?r[s[1]]:r[h++];if(e.not_type.test(s[8])&&e.not_primitive.test(s[8])&&a instanceof Function&&(a=a()),e.numeric_arg.test(s[8])&&"number"!=typeof a&&isNaN(a))throw new TypeError(t("[sprintf] expecting number but found %T",a));switch(e.number.test(s[8])&&(f=a>=0),s[8]){case"b":a=parseInt(a,10).toString(2);break;case"c":a=String.fromCharCode(parseInt(a,10));break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,s[6]?parseInt(s[6]):0);break;case"e":a=s[7]?parseFloat(a).toExponential(s[7]):parseFloat(a).toExponential();break;case"f":a=s[7]?parseFloat(a).toFixed(s[7]):parseFloat(a);break;case"g":a=s[7]?String(Number(a.toPrecision(s[7]))):parseFloat(a);break;case"o":a=(parseInt(a,10)>>>0).toString(8);break;case"s":a=String(a),a=s[7]?a.substring(0,s[7]):a;break;case"t":a=String(!!a),a=s[7]?a.substring(0,s[7]):a;break;case"T":a=Object.prototype.toString.call(a).slice(8,-1).toLowerCase(),a=s[7]?a.substring(0,s[7]):a;break;case"u":a=parseInt(a,10)>>>0;break;case"v":a=a.valueOf(),a=s[7]?a.substring(0,s[7]):a;break;case"x":a=(parseInt(a,10)>>>0).toString(16);break;case"X":a=(parseInt(a,10)>>>0).toString(16).toUpperCase()}e.json.test(s[8])?m+=a:(!e.number.test(s[8])||f&&!s[3]?d="":(d=f?"+":"-",a=a.toString().replace(e.sign,"")),u=s[4]?"0"===s[4]?"0":s[4].charAt(1):" ",c=s[6]-(d+a).length,l=s[6]&&c>0?u.repeat(c):"",m+=s[5]?d+a+l:"0"===u?d+l+a:l+d+a)}return m}(function(t){if(a[t])return a[t];for(var n,r=t,o=[],i=0;r;){if(null!==(n=e.text.exec(r)))o.push(n[0]);else if(null!==(n=e.modulo.exec(r)))o.push("%");else{if(null===(n=e.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){i|=1;var s=[],l=n[2],u=[];if(null===(u=e.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=e.key_access.exec(l)))s.push(u[1]);else{if(null===(u=e.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}n[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push(n)}r=r.substring(n[0].length)}return a[t]=o}(n),arguments)}function r(e,n){return t.apply(null,[e].concat(n||[]))}var a=Object.create(null);void 0!==n&&(n.sprintf=t,n.vsprintf=r),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=r)}()},{}],275:[function(e,t,n){"use strict";var r=e("parenthesis");t.exports=function(e,t,n){if(null==e)throw Error("First argument should be a string");if(null==t)throw Error("Separator should be a string or a RegExp");n?("string"==typeof n||Array.isArray(n))&&(n={ignore:n}):n={},null==n.escape&&(n.escape=!0),null==n.ignore?n.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:("string"==typeof n.ignore&&(n.ignore=[n.ignore]),n.ignore=n.ignore.map(function(e){return 1===e.length&&(e+=e),e}));var a=r.parse(e,{flat:!0,brackets:n.ignore}),o=a[0],i=o.split(t);if(n.escape){for(var s=[],l=0;l<i.length;l++){var u=i[l],c=i[l+1];"\\"===u[u.length-1]&&"\\"!==u[u.length-2]?(s.push(u+t+c),l++):s.push(u)}i=s}for(var l=0;l<i.length;l++)a[0]=i[l],i[l]=r.stringify(a,{flat:!0});return i}},{parenthesis:224}],276:[function(e,t,n){"use strict";t.exports=function(e){return e.split("").map(function(e){return e in r?r[e]:""}).join("")};var r={" ":" ",0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻",a:"ᵃ",b:"ᵇ",c:"ᶜ",d:"ᵈ",e:"ᵉ",f:"ᶠ",g:"ᵍ",h:"ʰ",i:"ⁱ",j:"ʲ",k:"ᵏ",l:"ˡ",m:"ᵐ",n:"ⁿ",o:"ᵒ",p:"ᵖ",r:"ʳ",s:"ˢ",t:"ᵗ",u:"ᵘ",v:"ᵛ",w:"ʷ",x:"ˣ",y:"ʸ",z:"ᶻ"}},{}],277:[function(e,t,n){"use strict";t.exports=function(e,t){if(e.dimension<=0)return{positions:[],cells:[]};if(1===e.dimension)return function(e,t){for(var n=o(e,t),r=n.length,a=new Array(r),i=new Array(r),s=0;s<r;++s)a[s]=[n[s]],i[s]=[s];return{positions:a,cells:i}}(e,t);var n=e.order.join()+"-"+e.dtype,s=i[n],t=+t||0;return s||(s=i[n]=function(e,t){var n=e.length,o=["'use strict';"],i="surfaceNets"+e.join("_")+"d"+t;o.push("var contour=genContour({","order:[",e.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===t&&o.push("getters:[0],");for(var s=[],l=[],u=0;u<n;++u)s.push("d"+u),l.push("d"+u);for(var u=0;u<1<<n;++u)s.push("v"+u),l.push("v"+u);for(var u=0;u<1<<n;++u)s.push("p"+u),l.push("p"+u);s.push("a","b","c"),l.push("a","c"),o.push("vertex:function vertexFunc(",s.join(),"){");for(var c=[],u=0;u<1<<n;++u)c.push("(p"+u+"<<"+u+")");o.push("var m=(",c.join("+"),")|0;if(m===0||m===",(1<<(1<<n))-1,"){return}");var f=[],d=[];1<<(1<<n)<=128?(o.push("switch(m){"),d=o):o.push("switch(m>>>7){");for(var u=0;u<1<<(1<<n);++u){if(1<<(1<<n)>128&&u%128==0){f.length>0&&d.push("}}");var h="vExtra"+f.length;o.push("case ",u>>>7,":",h,"(m&0x7f,",l.join(),");break;"),d=["function ",h,"(m,",l.join(),"){switch(m){"],f.push(d)}d.push("case ",127&u,":");for(var p=new Array(n),m=new Array(n),v=new Array(n),g=new Array(n),y=0,b=0;b<n;++b)p[b]=[],m[b]=[],v[b]=0,g[b]=0;for(var b=0;b<1<<n;++b)for(var _=0;_<n;++_){var x=b^1<<_;if(!(x>b)&&!(u&1<<x)!=!(u&1<<b)){var w=1;u&1<<x?m[_].push("v"+x+"-v"+b):(m[_].push("v"+b+"-v"+x),w=-w),w<0?(p[_].push("-v"+b+"-v"+x),v[_]+=2):(p[_].push("v"+b+"+v"+x),v[_]-=2),y+=1;for(var k=0;k<n;++k)k!==_&&(x&1<<k?g[k]+=1:g[k]-=1)}}for(var A=[],_=0;_<n;++_)if(0===p[_].length)A.push("d"+_+"-0.5");else{var T="";v[_]<0?T=v[_]+"*c":v[_]>0&&(T="+"+v[_]+"*c");var M=p[_].length/y*.5,E=.5+g[_]/y*.5;A.push("d"+_+"-"+E+"-"+M+"*("+p[_].join("+")+T+")/("+m[_].join("+")+")")}d.push("a.push([",A.join(),"]);","break;")}o.push("}},"),f.length>0&&d.push("}}");for(var C=[],u=0;u<1<<n-1;++u)C.push("v"+u);C.push("c0","c1","p0","p1","a","b","c"),o.push("cell:function cellFunc(",C.join(),"){");var S=a(n-1);o.push("if(p0){b.push(",S.map(function(e){return"["+e.map(function(e){return"v"+e})+"]"}).join(),")}else{b.push(",S.map(function(e){var t=e.slice();return t.reverse(),"["+t.map(function(e){return"v"+e})+"]"}).join(),")}}});function ",i,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",i,";");for(var u=0;u<f.length;++u)o.push(f[u].join(""));return new Function("genContour",o.join(""))(r)}(e.order,e.dtype)),s(e,t)};var r=e("ndarray-extract-contour"),a=e("triangulate-hypercube"),o=e("zero-crossings"),i={}},{"ndarray-extract-contour":217,"triangulate-hypercube":286,"zero-crossings":301}],278:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=2*Math.PI,o=function(e,t,n,r,a,o,i){var s=e.x,l=e.y,u=r*(s*=t)-a*(l*=n),c=a*s+r*l;return{x:u+o,y:c+i}},i=function(e,t){var n=.551915024494,r=Math.cos(e),a=Math.sin(e),o=Math.cos(e+t),i=Math.sin(e+t);return[{x:r-a*n,y:a+r*n},{x:o+i*n,y:i-o*n},{x:o,y:i}]},s=function(e,t,n,r){var a=e*r-t*n<0?-1:1,o=Math.sqrt(e*e+t*t),i=Math.sqrt(e*e+t*t),s=e*n+t*r,l=s/(o*i);return l>1&&(l=1),l<-1&&(l=-1),a*Math.acos(l)};n.default=function(e){var t=e.px,n=e.py,l=e.cx,u=e.cy,c=e.rx,f=e.ry,d=e.xAxisRotation,h=void 0===d?0:d,p=e.largeArcFlag,m=void 0===p?0:p,v=e.sweepFlag,g=void 0===v?0:v,y=[];if(0===c||0===f)return[];var b=Math.sin(h*a/360),_=Math.cos(h*a/360),x=_*(t-l)/2+b*(n-u)/2,w=-b*(t-l)/2+_*(n-u)/2;if(0===x&&0===w)return[];c=Math.abs(c),f=Math.abs(f);var k=Math.pow(x,2)/Math.pow(c,2)+Math.pow(w,2)/Math.pow(f,2);k>1&&(c*=Math.sqrt(k),f*=Math.sqrt(k));var A=function(e,t,n,r,o,i,l,u,c,f,d,h){var p=Math.pow(o,2),m=Math.pow(i,2),v=Math.pow(d,2),g=Math.pow(h,2),y=p*m-p*g-m*v;y<0&&(y=0),y/=p*g+m*v;var b=(y=Math.sqrt(y)*(l===u?-1:1))*o/i*h,_=y*-i/o*d,x=f*b-c*_+(e+n)/2,w=c*b+f*_+(t+r)/2,k=(d-b)/o,A=(h-_)/i,T=(-d-b)/o,M=(-h-_)/i,E=s(1,0,k,A),C=s(k,A,T,M);return 0===u&&C>0&&(C-=a),1===u&&C<0&&(C+=a),[x,w,E,C]}(t,n,l,u,c,f,m,g,b,_,x,w),T=r(A,4),M=T[0],E=T[1],C=T[2],S=T[3],j=Math.max(Math.ceil(Math.abs(S)/(a/4)),1);S/=j;for(var O=0;O<j;O++)y.push(i(C,S)),C+=S;return y.map(function(e){var t=o(e[0],c,f,_,b,M,E),n=t.x,r=t.y,a=o(e[1],c,f,_,b,M,E),i=a.x,s=a.y,l=o(e[2],c,f,_,b,M,E),u=l.x,d=l.y;return{x1:n,y1:r,x2:i,y2:s,x:u,y:d}})},t.exports=n.default},{}],279:[function(e,t,n){"use strict";var r=e("parse-svg-path"),a=e("abs-svg-path"),o=e("normalize-svg-path"),i=e("is-svg-path"),s=e("assert");t.exports=function(e){if(Array.isArray(e)&&1===e.length&&"string"==typeof e[0]&&(e=e[0]),"string"==typeof e&&(s(i(e),"String is not an SVG path."),e=r(e)),s(Array.isArray(e),"Argument should be a string or an array of path segments."),e=a(e),!(e=o(e)).length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],n=0,l=e.length;n<l;n++)for(var u=e[n].slice(1),c=0;c<u.length;c+=2)u[c+0]<t[0]&&(t[0]=u[c+0]),u[c+1]<t[1]&&(t[1]=u[c+1]),u[c+0]>t[2]&&(t[2]=u[c+0]),u[c+1]>t[3]&&(t[3]=u[c+1]);return t}},{"abs-svg-path":11,assert:16,"is-svg-path":211,"normalize-svg-path":280,"parse-svg-path":226}],280:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=[],i=0,s=0,l=0,u=0,c=null,f=null,d=0,h=0,p=0,m=e.length;p<m;p++){var v=e[p],g=v[0];switch(g){case"M":l=v[1],u=v[2];break;case"A":var y=r({px:d,py:h,cx:v[6],cy:v[7],rx:v[1],ry:v[2],xAxisRotation:v[3],largeArcFlag:v[4],sweepFlag:v[5]});if(!y.length)continue;for(var b,_=0;_<y.length;_++)b=y[_],v=["C",b.x1,b.y1,b.x2,b.y2,b.x,b.y],_<y.length-1&&n.push(v);break;case"S":var x=d,w=h;"C"!=t&&"S"!=t||(x+=x-i,w+=w-s),v=["C",x,w,v[1],v[2],v[3],v[4]];break;case"T":"Q"==t||"T"==t?(c=2*d-c,f=2*h-f):(c=d,f=h),v=o(d,h,c,f,v[1],v[2]);break;case"Q":c=v[1],f=v[2],v=o(d,h,v[1],v[2],v[3],v[4]);break;case"L":v=a(d,h,v[1],v[2]);break;case"H":v=a(d,h,v[1],h);break;case"V":v=a(d,h,d,v[1]);break;case"Z":v=a(d,h,l,u)}t=g,d=v[v.length-2],h=v[v.length-1],v.length>4?(i=v[v.length-4],s=v[v.length-3]):(i=d,s=h),n.push(v)}return n};var r=e("svg-arc-to-cubic-bezier");function a(e,t,n,r){return["C",e,t,n,r,n,r]}function o(e,t,n,r,a,o){return["C",e/3+2/3*n,t/3+2/3*r,a/3+2/3*n,o/3+2/3*r,a,o]}},{"svg-arc-to-cubic-bezier":278}],281:[function(e,n,r){(function(t){"use strict";var r=e("svg-path-bounds"),a=e("parse-svg-path"),o=e("draw-svg-path"),i=e("is-svg-path"),s=e("bitmap-sdf"),l=document.createElement("canvas"),u=l.getContext("2d");n.exports=function(e,n){if(!i(e))throw Error("Argument should be valid svg path string");var c,f;n||(n={}),n.shape?(c=n.shape[0],f=n.shape[1]):(c=l.width=n.w||n.width||200,f=l.height=n.h||n.height||200);var d=Math.min(c,f),h=n.stroke||0,p=n.viewbox||n.viewBox||r(e),m=[c/(p[2]-p[0]),f/(p[3]-p[1])],v=Math.min(m[0]||0,m[1]||0)/2;if(u.fillStyle="black",u.fillRect(0,0,c,f),u.fillStyle="white",h&&("number"!=typeof h&&(h=1),u.strokeStyle=h>0?"white":"black",u.lineWidth=Math.abs(h)),u.translate(.5*c,.5*f),u.scale(v,v),t.Path2D){var g=new Path2D(e);u.fill(g),h&&u.stroke(g)}else{var y=a(e);o(u,y),u.fill(),h&&u.stroke()}return u.setTransform(1,0,0,1,0,0),s(u,{cutoff:null!=n.cutoff?n.cutoff:.5,radius:null!=n.radius?n.radius:.5*d})}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bitmap-sdf":40,"draw-svg-path":89,"is-svg-path":211,"parse-svg-path":226,"svg-path-bounds":279}],282:[function(e,t,n){(function(n){"use strict";t.exports=function e(t,n,a){var a=a||{},i=o[t];i||(i=o[t]={" ":{data:new Float32Array(0),shape:.2}});var s=i[n];if(!s)if(n.length<=1||!/\d/.test(n))s=i[n]=function(e){for(var t=e.cells,n=e.positions,r=new Float32Array(6*t.length),a=0,o=0,i=0;i<t.length;++i)for(var s=t[i],l=0;l<3;++l){var u=n[s[l]];r[a++]=u[0],r[a++]=u[1]+1.4,o=Math.max(u[0],o)}return{data:r,shape:o}}(r(n,{triangles:!0,font:t,textAlign:a.textAlign||"left",textBaseline:"alphabetic"}));else{for(var l=n.split(/(\d|\s)/),u=new Array(l.length),c=0,f=0,d=0;d<l.length;++d)u[d]=e(t,l[d]),c+=u[d].data.length,f+=u[d].shape,d>0&&(f+=.02);for(var h=new Float32Array(c),p=0,m=-.5*f,d=0;d<u.length;++d){for(var v=u[d].data,g=0;g<v.length;g+=2)h[p++]=v[g]+m,h[p++]=v[g+1];m+=u[d].shape+.02}s=i[n]={data:h,shape:f}}return s};var r=e("vectorize-text"),a=window||n.global||{},o=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}}).call(this,e("_process"))},{_process:247,"vectorize-text":294}],283:[function(e,t,n){!function(e){var n=/^\s+/,r=/\s+$/,a=0,o=e.round,i=e.min,s=e.max,l=e.random;function u(t,l){if(t=t||"",l=l||{},t instanceof u)return t;if(!(this instanceof u))return new u(t,l);var c=function(t){var a={r:0,g:0,b:0},o=1,l=null,u=null,c=null,f=!1,d=!1;return"string"==typeof t&&(t=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,a=!1;if(E[e])e=E[e],a=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=R.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=R.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=R.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=R.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=R.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=R.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=R.hex8.exec(e))?{r:P(t[1]),g:P(t[2]),b:P(t[3]),a:D(t[4]),format:a?"name":"hex8"}:(t=R.hex6.exec(e))?{r:P(t[1]),g:P(t[2]),b:P(t[3]),format:a?"name":"hex"}:(t=R.hex4.exec(e))?{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),a:D(t[4]+""+t[4]),format:a?"name":"hex8"}:!!(t=R.hex3.exec(e))&&{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),format:a?"name":"hex"}}(t)),"object"==typeof t&&(z(t.r)&&z(t.g)&&z(t.b)?(a=function(e,t,n){return{r:255*j(e,255),g:255*j(t,255),b:255*j(n,255)}}(t.r,t.g,t.b),f=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):z(t.h)&&z(t.s)&&z(t.v)?(l=I(t.s),u=I(t.v),a=function(t,n,r){t=6*j(t,360),n=j(n,100),r=j(r,100);var a=e.floor(t),o=t-a,i=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),u=a%6;return{r:255*[r,s,i,i,l,r][u],g:255*[l,r,r,s,i,i][u],b:255*[i,i,l,r,r,s][u]}}(t.h,l,u),f=!0,d="hsv"):z(t.h)&&z(t.s)&&z(t.l)&&(l=I(t.s),c=I(t.l),a=function(e,t,n){var r,a,o;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=j(e,360),t=j(t,100),n=j(n,100),0===t)r=a=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=i(l,s,e+1/3),a=i(l,s,e),o=i(l,s,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(t.h,l,c),f=!0,d="hsl"),t.hasOwnProperty("a")&&(o=t.a)),o=S(o),{ok:f,format:t.format||d,r:i(255,s(a.r,0)),g:i(255,s(a.g,0)),b:i(255,s(a.b,0)),a:o}}(t);this._originalInput=t,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=o(100*this._a)/100,this._format=l.format||c.format,this._gradientType=l.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=c.ok,this._tc_id=a++}function c(e,t,n){e=j(e,255),t=j(t,255),n=j(n,255);var r,a,o=s(e,t,n),l=i(e,t,n),u=(o+l)/2;if(o==l)r=a=0;else{var c=o-l;switch(a=u>.5?c/(2-o-l):c/(o+l),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:a,l:u}}function f(e,t,n){e=j(e,255),t=j(t,255),n=j(n,255);var r,a,o=s(e,t,n),l=i(e,t,n),u=o,c=o-l;if(a=0===o?0:c/o,o==l)r=0;else{switch(o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:a,v:u}}function d(e,t,n,r){var a=[N(o(e).toString(16)),N(o(t).toString(16)),N(o(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function h(e,t,n,r){var a=[N(L(r)),N(o(e).toString(16)),N(o(t).toString(16)),N(o(n).toString(16))];return a.join("")}function p(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=O(n.s),u(n)}function m(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=O(n.s),u(n)}function v(e){return u(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=O(n.l),u(n)}function y(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=s(0,i(255,n.r-o(-t/100*255))),n.g=s(0,i(255,n.g-o(-t/100*255))),n.b=s(0,i(255,n.b-o(-t/100*255))),u(n)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=O(n.l),u(n)}function _(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function x(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function w(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function A(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),a=360/n,o=[u(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(u(r));return o}function M(e,t){t=t||6;for(var n=u(e).toHsv(),r=n.h,a=n.s,o=n.v,i=[],s=1/t;t--;)i.push(u({h:r,s:a,v:o})),o=(o+s)%1;return i}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,n,r,a,o,i,s=this.toRgb();return t=s.r/255,n=s.g/255,r=s.b/255,a=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),i=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4),.2126*a+.7152*o+.0722*i},setAlpha:function(e){return this._a=S(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var i=[N(o(e).toString(16)),N(o(t).toString(16)),N(o(n).toString(16)),N(L(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*j(this._r,255))+"%",g:o(100*j(this._g,255))+"%",b:o(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*j(this._r,255))+"%, "+o(100*j(this._g,255))+"%, "+o(100*j(this._b,255))+"%)":"rgba("+o(100*j(this._r,255))+"%, "+o(100*j(this._g,255))+"%, "+o(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=u(e);n="#"+h(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,a=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return a?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:I(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),a=u(t).toRgb(),o=n/100,i={r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a};return u(i)},u.readability=function(t,n){var r=u(t),a=u(n);return(e.max(r.getLuminance(),a.getLuminance())+.05)/(e.min(r.getLuminance(),a.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,a,o=u.readability(e,t);switch(a=!1,(r=function(e){var t,n;return t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},u.mostReadable=function(e,t,n){var r,a,o,i,s=null,l=0;a=(n=n||{}).includeFallbackColors,o=n.level,i=n.size;for(var c=0;c<t.length;c++)(r=u.readability(e,t[c]))>l&&(l=r,s=u(t[c]));return u.isReadable(e,s,{level:o,size:i})||!a?s:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var E=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=u.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(E);function S(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function j(t,n){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(t)&&(t="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(t);return t=i(n,s(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function O(e){return i(1,s(0,e))}function P(e){return parseInt(e,16)}function N(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function L(t){return e.round(255*parseFloat(t)).toString(16)}function D(e){return P(e)/255}var R=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function z(e){return!!R.CSS_UNIT.exec(e)}void 0!==t&&t.exports?t.exports=u:window.tinycolor=u}(Math)},{}],284:[function(e,t,n){"use strict";function r(e){if(e instanceof Float32Array)return e;if("number"==typeof e)return new Float32Array([e])[0];var t=new Float32Array(e);return t.set(e),t}t.exports=r,t.exports.float32=t.exports.float=r,t.exports.fract32=t.exports.fract=function(e){if("number"==typeof e)return r(e-r(e));for(var t=r(e),n=0,a=t.length;n<a;n++)t[n]=e[n]-t[n];return t}},{}],285:[function(e,t,n){"use strict";var r=e("parse-unit");t.exports=i;var a=96;function o(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*i(n[1],e)}function i(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return function(e,t){var n=document.createElement("div");n.style["font-size"]="128"+e,t.appendChild(n);var r=o(n,"font-size")/128;return t.removeChild(n),r}(e,t);case"em":return o(t,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},{"parse-unit":227}],286:[function(e,t,n){"use strict";t.exports=function(e){if(e<0)return[];if(0===e)return[[0]];for(var t=0|Math.round(o(e+1)),n=[],i=0;i<t;++i){for(var s=r.unrank(e,i),l=[0],u=0,c=0;c<s.length;++c)u+=1<<s[c],l.push(u);a(s)<1&&(l[0]=u,l[e]=0),n.push(l)}return n};var r=e("permutation-rank"),a=e("permutation-parity"),o=e("gamma")},{gamma:154,"permutation-parity":229,"permutation-rank":230}],287:[function(e,t,n){"use strict";t.exports=function(e,t,n){var a=e*t,o=r*e,i=o-(o-e),s=e-i,l=r*t,u=l-(l-t),c=t-u,f=s*c-(a-i*u-s*u-i*c);return n?(n[0]=f,n[1]=a,n):[f,a]};var r=+(Math.pow(2,27)+1)},{}],288:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=e+t,a=r-e,o=t-a,i=e-(r-a);return n?(n[0]=i+o,n[1]=r,n):[i+o,r]}},{}],289:[function(e,n,r){(function(t,n){"use strict";var a=e("bit-twiddle"),o=e("dup");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var i="undefined"!=typeof Uint8ClampedArray,s=t.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var l=s.DATA,u=s.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,n=a.log2(t);l[n].push(e)}}function f(e){var e=a.nextPow2(e),t=a.log2(e),n=l[t];return n.length>0?n.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(f(e),0,e)}function h(e){return new Uint16Array(f(2*e),0,e)}function p(e){return new Uint32Array(f(4*e),0,e)}function m(e){return new Int8Array(f(e),0,e)}function v(e){return new Int16Array(f(2*e),0,e)}function g(e){return new Int32Array(f(4*e),0,e)}function y(e){return new Float32Array(f(4*e),0,e)}function b(e){return new Float64Array(f(8*e),0,e)}function _(e){return i?new Uint8ClampedArray(f(e),0,e):d(e)}function x(e){return new DataView(f(e),0,e)}function w(e){e=a.nextPow2(e);var t=a.log2(e),r=u[t];return r.length>0?r.pop():new n(e)}r.free=function(e){if(n.isBuffer(e))u[a.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|a.log2(t);l[r].push(e)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(e){c(e.buffer)},r.freeArrayBuffer=c,r.freeBuffer=function(e){u[a.log2(e.length)].push(e)},r.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return f(e);switch(t){case"uint8":return d(e);case"uint16":return h(e);case"uint32":return p(e);case"int8":return m(e);case"int16":return v(e);case"int32":return g(e);case"float":case"float32":return y(e);case"double":case"float64":return b(e);case"uint8_clamped":return _(e);case"buffer":return w(e);case"data":case"dataview":return x(e);default:return null}return null},r.mallocArrayBuffer=f,r.mallocUint8=d,r.mallocUint16=h,r.mallocUint32=p,r.mallocInt8=m,r.mallocInt16=v,r.mallocInt32=g,r.mallocFloat32=r.mallocFloat=y,r.mallocFloat64=r.mallocDouble=b,r.mallocUint8Clamped=_,r.mallocDataView=x,r.mallocBuffer=w,r.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,l[e].length=0,u[e].length=0}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"bit-twiddle":39,buffer:51,dup:91}],290:[function(e,t,n){"use strict";"use restrict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.exports=r;var a=r.prototype;Object.defineProperty(a,"length",{get:function(){return this.roots.length}}),a.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},a.find=function(e){for(var t=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[t]!==e;){var r=n[t];n[t]=e,t=r}return e},a.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var a=this.ranks,o=this.roots,i=a[n],s=a[r];i<s?o[n]=r:s<i?o[r]=n:(o[r]=n,++a[n])}}},{}],291:[function(e,t,n){"use strict";t.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,a=e[0],o=e[0],i=1;i<r;++i)if(o=a,a=e[i],t(a,o)){if(i===n){n++;continue}e[n++]=a}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],a=e[0],o=1;o<n;++o,a=r)if(a=r,(r=e[o])!==a){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}},{}],292:[function(e,t,n){var r=/[\'\"]/;t.exports=function(e){return e?(r.test(e.charAt(0))&&(e=e.substr(1)),r.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},{}],293:[function(e,t,n){"use strict";t.exports=function(e,t,n){Array.isArray(n)||(n=[].slice.call(arguments,2));for(var r=0,a=n.length;r<a;r++){var o=n[r];for(var i in o)if((void 0===t[i]||Array.isArray(t[i])||e[i]!==t[i])&&i in t){var s;if(!0===o[i])s=t[i];else{if(!1===o[i])continue;if("function"==typeof o[i]&&void 0===(s=o[i](t[i],e,t)))continue}e[i]=s}}return e}},{}],294:[function(e,t,n){"use strict";t.exports=function(e,t){return"object"==typeof t&&null!==t||(t={}),r(e,t.canvas||a,t.context||o,t)};var r=e("./lib/vtext"),a=null,o=null;"undefined"!=typeof document&&((a=document.createElement("canvas")).width=8192,a.height=1024,o=a.getContext("2d"))},{"./lib/vtext":295}],295:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o=r.size||64,i=r.font||"normal";return n.font=o+"px "+i,n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr",f(function(e,t,n,r){var o=0|Math.ceil(t.measureText(n).width+2*r);if(o>8192)throw new Error("vectorize-text: String too long (sorry, this will get fixed later)");var i=3*r;e.height<i&&(e.height=i),t.fillStyle="#000",t.fillRect(0,0,e.width,e.height),t.fillStyle="#fff",t.fillText(n,r,2*r);var s=t.getImageData(0,0,o,i);return a(s.data,[i,o,4]).pick(-1,-1,0).transpose(1,0)}(t,n,e,o),r,o)},t.exports.processPixels=f;var r=e("surface-nets"),a=e("ndarray"),o=e("simplify-planar-graph"),i=e("clean-pslg"),s=e("cdt2d"),l=e("planar-graph-to-polyline");function u(e,t){var n=r(e,128);return t?o(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function c(e,t,n,r){var a=u(e,r),o=function(e,t,n){for(var r=t.textAlign||"start",a=t.textBaseline||"alphabetic",o=[1<<30,1<<30],i=[0,0],s=e.length,l=0;l<s;++l)for(var u=e[l],c=0;c<2;++c)o[c]=0|Math.min(o[c],u[c]),i[c]=0|Math.max(i[c],u[c]);var f=0;switch(r){case"center":f=-.5*(o[0]+i[0]);break;case"right":case"end":f=-i[0];break;case"left":case"start":f=-o[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var d=0;switch(a){case"hanging":case"top":d=-o[1];break;case"middle":d=-.5*(o[1]+i[1]);break;case"alphabetic":case"ideographic":d=-3*n;break;case"bottom":d=-i[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+a+"'")}var h=1/n;return"lineHeight"in t?h*=+t.lineHeight:"width"in t?h=t.width/(i[0]-o[0]):"height"in t&&(h=t.height/(i[1]-o[1])),e.map(function(e){return[h*(e[0]+f),h*(e[1]+d)]})}(a.positions,t,n),c=a.edges,f="ccw"===t.orientation;if(i(o,c),t.polygons||t.polygon||t.polyline){for(var d=l(c,o),h=new Array(d.length),p=0;p<d.length;++p){for(var m=d[p],v=new Array(m.length),g=0;g<m.length;++g){for(var y=m[g],b=new Array(y.length),_=0;_<y.length;++_)b[_]=o[y[_]].slice();f&&b.reverse(),v[g]=b}h[p]=v}return h}return t.triangles||t.triangulate||t.triangle?{cells:s(o,c,{delaunay:!1,exterior:!1,interior:!0}),positions:o}:{edges:c,positions:o}}function f(e,t,n){try{return c(e,t,n,!0)}catch(e){}try{return c(e,t,n,!1)}catch(e){}return t.polygons||t.polyline||t.polygon?[]:t.triangles||t.triangulate||t.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},{cdt2d:52,"clean-pslg":59,ndarray:219,"planar-graph-to-polyline":234,"simplify-planar-graph":271,"surface-nets":277}],296:[function(e,t,n){var r=e("./hidden-store.js");t.exports=function(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var n=t.valueOf(e);return n&&n.identity===e?n:r(t,e)}}},{"./hidden-store.js":297}],297:[function(e,t,n){t.exports=function(e,t){var n={identity:t},r=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?r.apply(this,arguments):n},writable:!0}),n}},{}],298:[function(e,t,n){var r=e("./create-store.js");t.exports=function(){var e=r();return{get:function(t,n){var r=e(t);return r.hasOwnProperty("value")?r.value:n},set:function(t,n){return e(t).value=n,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}},{"./create-store.js":296}],299:[function(e,t,n){var r=e("get-canvas-context");t.exports=function(e){return r("webgl",e)}},{"get-canvas-context":155}],300:[function(e,t,n){t.exports=e("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":79}],301:[function(e,t,n){"use strict";t.exports=function(e,t){var n=[];return t=+t||0,r(e.hi(e.shape[0]-1),n,t),n};var r=e("./lib/zc-core")},{"./lib/zc-core":300}],302:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],303:[function(e,t,n){"use strict";var r=e("./arrow_paths"),a=e("../../plots/font_attributes"),o=e("../../plots/cartesian/constants"),i=e("../../plot_api/plot_template").templatedArray;t.exports=i("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:a({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:a({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../plot_api/plot_template":478,"../../plots/cartesian/constants":493,"../../plots/font_attributes":514,"./arrow_paths":302}],304:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("./draw").draw;function i(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach(function(t){var n=a.getFromId(e,t.xref),r=a.getFromId(e,t.yref);t._extremes={},n&&s(t,n),r&&s(t,r)})}function s(e,t){var n,r=t._id,o=r.charAt(0),i=e[o],s=e["a"+o],l=e[o+"ref"],u=e["a"+o+"ref"],c=e["_"+o+"padplus"],f=e["_"+o+"padminus"],d={x:1,y:-1}[o]*e[o+"shift"],h=3*e.arrowsize*e.arrowwidth||0,p=h+d,m=h-d,v=3*e.startarrowsize*e.arrowwidth||0,g=v+d,y=v-d;if(u===l){var b=a.findExtremes(t,[t.r2c(i)],{ppadplus:p,ppadminus:m}),_=a.findExtremes(t,[t.r2c(s)],{ppadplus:Math.max(c,g),ppadminus:Math.max(f,y)});n={min:[b.min[0],_.min[0]],max:[b.max[0],_.max[0]]}}else g=s?g+s:g,y=s?y-s:y,n=a.findExtremes(t,[t.r2c(i)],{ppadplus:Math.max(c,p,g),ppadminus:Math.max(f,m,y)});e._extremes[r]=n}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.annotations);if(n.length&&e._fullData.length)return r.syncOrAsync([o,i],e)}},{"../../lib":440,"../../plots/cartesian/axes":488,"./draw":309}],305:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry"),o=e("../../plot_api/plot_template").arrayEditor;function i(e,t){var n,r,a,o,i,l,u,c=e._fullLayout.annotations,f=[],d=[],h=[],p=(t||[]).length;for(n=0;n<c.length;n++)if(a=c[n],o=a.clicktoshow){for(r=0;r<p;r++)if(i=t[r],l=i.xaxis,u=i.yaxis,l._id===a.xref&&u._id===a.yref&&l.d2r(i.x)===s(a._xclick,l)&&u.d2r(i.y)===s(a._yclick,u)){(a.visible?"onout"===o?d:h:f).push(n);break}r===p&&a.visible&&"onout"===o&&d.push(n)}return{on:f,off:d,explicitOff:h}}function s(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}t.exports={hasClickToShow:function(e,t){var n=i(e,t);return n.on.length>0||n.explicitOff.length>0},onClick:function(e,t){var n,s,l=i(e,t),u=l.on,c=l.off.concat(l.explicitOff),f={},d=e._fullLayout.annotations;if(u.length||c.length){for(n=0;n<u.length;n++)(s=o(e.layout,"annotations",d[u[n]])).modifyItem("visible",!0),r.extendFlat(f,s.getUpdateObj());for(n=0;n<c.length;n++)(s=o(e.layout,"annotations",d[c[n]])).modifyItem("visible",!1),r.extendFlat(f,s.getUpdateObj());return a.call("update",e,{},f)}}}},{"../../lib":440,"../../plot_api/plot_template":478,"../../registry":532}],306:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../color");t.exports=function(e,t,n,o){o("opacity");var i=o("bgcolor"),s=o("bordercolor"),l=a.opacity(s);o("borderpad");var u=o("borderwidth"),c=o("showarrow");o("text",c?" ":n._dfltTitle.annotation),o("textangle"),r.coerceFont(o,"font",n.font),o("width"),o("align");var f=o("height");if(f&&o("valign"),c){var d,h,p=o("arrowside");-1!==p.indexOf("end")&&(d=o("arrowhead"),h=o("arrowsize")),-1!==p.indexOf("start")&&(o("startarrowhead",d),o("startarrowsize",h)),o("arrowcolor",l?t.bordercolor:a.defaultLine),o("arrowwidth",2*(l&&u||1)),o("standoff"),o("startstandoff")}var m=o("hovertext"),v=n.hoverlabel||{};if(m){var g=o("hoverlabel.bgcolor",v.bgcolor||(a.opacity(i)?a.rgb(i):a.defaultLine)),y=o("hoverlabel.bordercolor",v.bordercolor||a.contrast(g));r.coerceFont(o,"hoverlabel.font",{family:v.font.family,size:v.font.size,color:v.font.color||y})}o("captureevents",!!m)}},{"../../lib":440,"../color":318}],307:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib/to_log_range");t.exports=function(e,t,n,o){t=t||{};var i="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(i||s)for(var l,u,c=e._fullLayout.annotations,f=t._id.charAt(0),d=0;d<c.length;d++)l=c[d],u="annotations["+d+"].",l[f+"ref"]===t._id&&h(f),l["a"+f+"ref"]===t._id&&h("a"+f);function h(e){var n=l[e],s=null;s=i?a(n,t.range):Math.pow(10,n),r(s)||(s=null),o(u+e,s)}}},{"../../lib/to_log_range":467,"fast-isnumeric":149}],308:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),i=e("./common_defaults"),s=e("./attributes");function l(e,t,n){function o(n,a){return r.coerce(e,t,s,n,a)}var l=o("visible"),u=o("clicktoshow");if(l||u){i(e,t,n,o);for(var c=t.showarrow,f=["x","y"],d=[-10,-30],h={_fullLayout:n},p=0;p<2;p++){var m=f[p],v=a.coerceRef(e,t,h,m,"","paper");if("paper"!==v){var g=a.getFromId(h,v);g._annIndices.push(t._index)}if(a.coercePosition(t,h,o,v,m,.5),c){var y="a"+m,b=a.coerceRef(e,t,h,y,"pixel");"pixel"!==b&&b!==v&&(b=t[y]="pixel");var _="pixel"===b?d[p]:.4;a.coercePosition(t,h,o,b,y,_)}o(m+"anchor"),o(m+"shift")}if(r.noneOrAll(e,t,["x","y"]),c&&r.noneOrAll(e,t,["ax","ay"]),u){var x=o("xclick"),w=o("yclick");t._xclick=void 0===x?t.x:a.cleanPosition(x,h,t.xref),t._yclick=void 0===w?t.y:a.cleanPosition(w,h,t.yref)}}}t.exports=function(e,t){o(e,t,{name:"annotations",handleItemDefaults:l})}},{"../../lib":440,"../../plots/array_container_defaults":484,"../../plots/cartesian/axes":488,"./attributes":303,"./common_defaults":306}],309:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),o=e("../../plots/plots"),i=e("../../lib"),s=e("../../plots/cartesian/axes"),l=e("../color"),u=e("../drawing"),c=e("../fx"),f=e("../../lib/svg_text_utils"),d=e("../../lib/setcursor"),h=e("../dragelement"),p=e("../../plot_api/plot_template").arrayEditor,m=e("./draw_arrow_head");function v(e,t){var n=e._fullLayout,r=n.annotations[t]||{},a=s.getFromId(e,r.xref),o=s.getFromId(e,r.yref);g(e,r,t,!1,a,o)}function g(e,t,n,o,s,v){var g,y,b=e._fullLayout,_=e._fullLayout._size,x=e._context.edits;o?(g="annotation-"+o,y=o+".annotations"):(g="annotation",y="annotations");var w=p(e.layout,y,t),k=w.modifyBase,A=w.modifyItem,T=w.getUpdateObj;b._infolayer.selectAll("."+g+'[data-index="'+n+'"]').remove();var M="clip"+b._uid+"_ann"+n;if(t._input&&!1!==t.visible){var E={x:{},y:{}},C=+t.textangle||0,S=b._infolayer.append("g").classed(g,!0).attr("data-index",String(n)).style("opacity",t.opacity),j=S.append("g").classed("annotation-text-g",!0),O=x[t.showarrow?"annotationTail":"annotationPosition"],P=t.captureevents||x.annotationText||O,N=j.append("g").style("pointer-events",P?"all":null).call(d,"pointer").on("click",function(){e._dragging=!1;var a={index:n,annotation:t._input,fullAnnotation:t,event:r.event};o&&(a.subplotId=o),e.emit("plotly_clickannotation",a)});t.hovertext&&N.on("mouseover",function(){var n=t.hoverlabel,r=n.font,a=this.getBoundingClientRect(),o=e.getBoundingClientRect();c.loneHover({x0:a.left-o.left,x1:a.right-o.left,y:(a.top+a.bottom)/2-o.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:e})}).on("mouseout",function(){c.loneUnhover(b._hoverlayer.node())});var I=t.borderwidth,L=t.borderpad,D=I+L,R=N.append("rect").attr("class","bg").style("stroke-width",I+"px").call(l.stroke,t.bordercolor).call(l.fill,t.bgcolor),z=t.width||t.height,F=b._topclips.selectAll("#"+M).data(z?[0]:[]);F.enter().append("clipPath").classed("annclip",!0).attr("id",M).append("rect"),F.exit().remove();var B=t.font,U=N.append("text").classed("annotation-text",!0).text(t.text);x.annotationText?U.call(f.makeEditable,{delegate:N,gd:e}).call(H).on("edit",function(n){t.text=n,this.call(H),A("text",n),s&&s.autorange&&k(s._name+".autorange",!0),v&&v.autorange&&k(v._name+".autorange",!0),a.call("relayout",e,T())}):U.call(H)}else r.selectAll("#"+M).remove();function H(n){return n.call(u.font,B).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),f.convertToTspans(n,e,q),n}function q(){var n=U.selectAll("a");if(1===n.size()&&n.text()===U.text()){var r=N.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"});r.node().appendChild(R.node())}var c=N.select(".annotation-text-math-group"),p=!c.empty(),g=u.bBox((p?c:U).node()),y=g.width,w=g.height,P=t.width||y,L=t.height||w,B=Math.round(P+2*D),H=Math.round(L+2*D);function q(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var V=!1,W=["x","y"],G=0;G<W.length;G++){var X,Y,K,Z,J,Q=W[G],$=t[Q+"ref"]||Q,ee=t["a"+Q+"ref"],te={x:s,y:v}[Q],ne=(C+("x"===Q?0:-90))*Math.PI/180,re=B*Math.cos(ne),ae=H*Math.sin(ne),oe=Math.abs(re)+Math.abs(ae),ie=t[Q+"anchor"],se=t[Q+"shift"]*("x"===Q?1:-1),le=E[Q];if(te){var ue=te.r2fraction(t[Q]);(ue<0||ue>1)&&(ee===$?((ue=te.r2fraction(t["a"+Q]))<0||ue>1)&&(V=!0):V=!0),X=te._offset+te.r2p(t[Q]),Z=.5}else"x"===Q?(K=t[Q],X=_.l+_.w*K):(K=1-t[Q],X=_.t+_.h*K),Z=t.showarrow?.5:K;if(t.showarrow){le.head=X;var ce=t["a"+Q];J=re*q(.5,t.xanchor)-ae*q(.5,t.yanchor),ee===$?(le.tail=te._offset+te.r2p(ce),Y=J):(le.tail=X+ce,Y=J+ce),le.text=le.tail+J;var fe=b["x"===Q?"width":"height"];if("paper"===$&&(le.head=i.constrain(le.head,1,fe-1)),"pixel"===ee){var de=-Math.max(le.tail-3,le.text),he=Math.min(le.tail+3,le.text)-fe;de>0?(le.tail+=de,le.text+=de):he>0&&(le.tail-=he,le.text-=he)}le.tail+=se,le.head+=se}else J=oe*q(Z,ie),Y=J,le.text=X+J;le.text+=se,J+=se,Y+=se,t["_"+Q+"padplus"]=oe/2+Y,t["_"+Q+"padminus"]=oe/2-Y,t["_"+Q+"size"]=oe,t["_"+Q+"shift"]=J}if(e._dragging||!V){var pe=0,me=0;if("left"!==t.align&&(pe=(P-y)*("center"===t.align?.5:1)),"top"!==t.valign&&(me=(L-w)*("middle"===t.valign?.5:1)),p)c.select("svg").attr({x:D+pe-1,y:D+me}).call(u.setClipUrl,z?M:null);else{var ve=D+me-g.top,ge=D+pe-g.left;U.call(f.positionText,ge,ve).call(u.setClipUrl,z?M:null)}F.select("rect").call(u.setRect,D,D,P,L),R.call(u.setRect,I/2,I/2,B-I,H-I),N.call(u.setTranslate,Math.round(E.x.text-B/2),Math.round(E.y.text-H/2)),j.attr({transform:"rotate("+C+","+E.x.text+","+E.y.text+")"});var ye,be=function(n,r){S.selectAll(".annotation-arrow-g").remove();var c=E.x.head,f=E.y.head,d=E.x.tail+n,p=E.y.tail+r,g=E.x.text+n,y=E.y.text+r,b=i.rotationXYMatrix(C,g,y),w=i.apply2DTransform(b),M=i.apply2DTransform2(b),O=+R.attr("width"),P=+R.attr("height"),I=g-.5*O,L=I+O,D=y-.5*P,z=D+P,F=[[I,D,I,z],[I,z,L,z],[L,z,L,D],[L,D,I,D]].map(M);if(!F.reduce(function(e,t){return e^!!i.segmentsIntersect(c,f,c+1e6,f+1e6,t[0],t[1],t[2],t[3])},!1)){F.forEach(function(e){var t=i.segmentsIntersect(d,p,c,f,e[0],e[1],e[2],e[3]);t&&(d=t.x,p=t.y)});var B=t.arrowwidth,U=t.arrowcolor,H=t.arrowside,q=S.append("g").style({opacity:l.opacity(U)}).classed("annotation-arrow-g",!0),V=q.append("path").attr("d","M"+d+","+p+"L"+c+","+f).style("stroke-width",B+"px").call(l.stroke,l.rgb(U));if(m(V,H,t),x.annotationPosition&&V.node().parentNode&&!o){var W=c,G=f;if(t.standoff){var X=Math.sqrt(Math.pow(c-d,2)+Math.pow(f-p,2));W+=t.standoff*(d-c)/X,G+=t.standoff*(p-f)/X}var Y,K,Z=q.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(d-W)+","+(p-G),transform:"translate("+W+","+G+")"}).style("stroke-width",B+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");h.init({element:Z.node(),gd:e,prepFn:function(){var e=u.getTranslate(N);Y=e.x,K=e.y,s&&s.autorange&&k(s._name+".autorange",!0),v&&v.autorange&&k(v._name+".autorange",!0)},moveFn:function(e,n){var r=w(Y,K),a=r[0]+e,o=r[1]+n;N.call(u.setTranslate,a,o),A("x",s?s.p2r(s.r2p(t.x)+e):t.x+e/_.w),A("y",v?v.p2r(v.r2p(t.y)+n):t.y-n/_.h),t.axref===t.xref&&A("ax",s.p2r(s.r2p(t.ax)+e)),t.ayref===t.yref&&A("ay",v.p2r(v.r2p(t.ay)+n)),q.attr("transform","translate("+e+","+n+")"),j.attr({transform:"rotate("+C+","+a+","+o+")"})},doneFn:function(){a.call("relayout",e,T());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};t.showarrow&&be(0,0),O&&h.init({element:N.node(),gd:e,prepFn:function(){ye=j.attr("transform")},moveFn:function(e,n){var r="pointer";if(t.showarrow)t.axref===t.xref?A("ax",s.p2r(s.r2p(t.ax)+e)):A("ax",t.ax+e),t.ayref===t.yref?A("ay",v.p2r(v.r2p(t.ay)+n)):A("ay",t.ay+n),be(e,n);else{if(o)return;var a,i;if(s)a=s.p2r(s.r2p(t.x)+e);else{var l=t._xsize/_.w,u=t.x+(t._xshift-t.xshift)/_.w-l/2;a=h.align(u+e/_.w,l,0,1,t.xanchor)}if(v)i=v.p2r(v.r2p(t.y)+n);else{var c=t._ysize/_.h,f=t.y-(t._yshift+t.yshift)/_.h-c/2;i=h.align(f-n/_.h,c,0,1,t.yanchor)}A("x",a),A("y",i),s&&v||(r=h.getCursor(s?.5:a,v?.5:i,t.xanchor,t.yanchor))}j.attr({transform:"translate("+e+","+n+")"+ye}),d(N,r)},doneFn:function(){d(N),a.call("relayout",e,T());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}else N.remove()}}t.exports={draw:function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&v(e,n);return o.previousPromises(e)},drawOne:v,drawRaw:g}},{"../../lib":440,"../../lib/setcursor":461,"../../lib/svg_text_utils":465,"../../plot_api/plot_template":478,"../../plots/cartesian/axes":488,"../../plots/plots":524,"../../registry":532,"../color":318,"../dragelement":340,"../drawing":343,"../fx":360,"./draw_arrow_head":310,d3:85}],310:[function(e,t,n){"use strict";var r=e("d3"),a=e("../color"),o=e("./arrow_paths");t.exports=function(e,t,n){var i,s,l,u,c=e.node(),f=o[n.arrowhead||0],d=o[n.startarrowhead||0],h=(n.arrowwidth||1)*(n.arrowsize||1),p=(n.arrowwidth||1)*(n.startarrowsize||1),m=t.indexOf("start")>=0,v=t.indexOf("end")>=0,g=f.backoff*h+n.standoff,y=d.backoff*p+n.startstandoff;if("line"===c.nodeName){i={x:+e.attr("x1"),y:+e.attr("y1")},s={x:+e.attr("x2"),y:+e.attr("y2")};var b=i.x-s.x,_=i.y-s.y;if(l=Math.atan2(_,b),u=l+Math.PI,g&&y&&g+y>Math.sqrt(b*b+_*_))return void P();if(g){if(g*g>b*b+_*_)return void P();var x=g*Math.cos(l),w=g*Math.sin(l);s.x+=x,s.y+=w,e.attr({x2:s.x,y2:s.y})}if(y){if(y*y>b*b+_*_)return void P();var k=y*Math.cos(l),A=y*Math.sin(l);i.x-=k,i.y-=A,e.attr({x1:i.x,y1:i.y})}}else if("path"===c.nodeName){var T=c.getTotalLength(),M="";if(T<g+y)return void P();var E=c.getPointAtLength(0),C=c.getPointAtLength(.1);l=Math.atan2(E.y-C.y,E.x-C.x),i=c.getPointAtLength(Math.min(y,T)),M="0px,"+y+"px,";var S=c.getPointAtLength(T),j=c.getPointAtLength(T-.1);u=Math.atan2(S.y-j.y,S.x-j.x),s=c.getPointAtLength(Math.max(0,T-g));var O=M?y+g:g;M+=T-O+"px,"+T+"px",e.style("stroke-dasharray",M)}function P(){e.style("stroke-dasharray","0px,100px")}function N(t,o,i,s){t.path&&(t.noRotate&&(i=0),r.select(c.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:"translate("+o.x+","+o.y+")"+(i?"rotate("+180*i/Math.PI+")":"")+"scale("+s+")"}).style({fill:a.rgb(n.arrowcolor),"stroke-width":0}))}m&&N(d,i,l,p),v&&N(f,s,u,h)}},{"../color":318,"./arrow_paths":302,d3:85}],311:[function(e,t,n){"use strict";var r=e("./draw"),a=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("annotations"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:a.hasClickToShow,onClick:a.onClick,convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":498,"./attributes":303,"./calc_autorange":304,"./click":305,"./convert_coords":307,"./defaults":308,"./draw":309}],312:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),a=e("../../plot_api/edit_types").overrideAll,o=e("../../plot_api/plot_template").templatedArray;t.exports=a(o("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":471,"../../plot_api/plot_template":478,"../annotations/attributes":303}],313:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes");function o(e,t){var n=t.fullSceneLayout,o=n.domain,i=t.fullLayout._size,s={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,s),a.setConvert(e._xa),e._xa._offset=i.l+o.x[0]*i.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*i.w*(o.x[1]-o.x[0])},e._ya={},r.extendFlat(e._ya,s),a.setConvert(e._ya),e._ya._offset=i.t+(1-o.y[1])*i.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*i.h*(o.y[1]-o.y[0])}}t.exports=function(e){for(var t=e.fullSceneLayout,n=t.annotations,r=0;r<n.length;r++)o(n[r],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":440,"../../plots/cartesian/axes":488}],314:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),i=e("../annotations/common_defaults"),s=e("./attributes");function l(e,t,n,o){function l(n,a){return r.coerce(e,t,s,n,a)}function u(e){var r=e+"axis",o={_fullLayout:{}};return o._fullLayout[r]=n[r],a.coercePosition(t,o,l,e,e,.5)}var c=l("visible");c&&(i(e,t,o.fullLayout,l),u("x"),u("y"),u("z"),r.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",l("xanchor"),l("yanchor"),l("xshift"),l("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",l("ax",-10),l("ay",-30),r.noneOrAll(e,t,["ax","ay"])))}t.exports=function(e,t,n){o(e,t,{name:"annotations",handleItemDefaults:l,fullLayout:n.fullLayout})}},{"../../lib":440,"../../plots/array_container_defaults":484,"../../plots/cartesian/axes":488,"../annotations/common_defaults":306,"./attributes":312}],315:[function(e,t,n){"use strict";var r=e("../annotations/draw").drawRaw,a=e("../../plots/gl3d/project"),o=["x","y","z"];t.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,i=t.annotations,s=0;s<i.length;s++){for(var l=i[s],u=!1,c=0;c<3;c++){var f=o[c],d=l[f],h=t[f+"axis"],p=h.r2fraction(d);if(p<0||p>1){u=!0;break}}u?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+s+'"]').remove():(l._pdata=a(e.glplot.cameraParams,[t.xaxis.r2l(l.x)*n[0],t.yaxis.r2l(l.y)*n[1],t.zaxis.r2l(l.z)*n[2]]),r(e.graphDiv,l,s,e.id,l._xa,l._ya))}}},{"../../plots/gl3d/project":521,"../annotations/draw":309}],316:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib");t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),includeBasePlot:function(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var o=n.attrRegex,i=Object.keys(e),s=0;s<i.length;s++){var l=i[s];o.test(l)&&(e[l].annotations||[]).length&&(a.pushUnique(t._basePlotModules,n),a.pushUnique(t._subplots.gl3d,l))}},convert:e("./convert"),draw:e("./draw")}},{"../../lib":440,"../../registry":532,"./attributes":312,"./convert":313,"./defaults":314,"./draw":315}],317:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],318:[function(e,t,n){"use strict";var r=e("tinycolor2"),a=e("fast-isnumeric"),o=t.exports={},i=e("./attributes");o.defaults=i.defaults;var s=o.defaultLine=i.defaultLine;o.lightLine=i.lightLine;var l=o.background=i.background;function u(e){if(a(e)||"string"!=typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),o="a"===t.charAt(3)&&4===r.length;if(!o&&3!==r.length)return e;for(var i=0;i<r.length;i++){if(!r[i].length)return e;if(r[i]=Number(r[i]),!(r[i]>=0))return e;if(3===i)r[i]>1&&(r[i]=1);else if(r[i]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return o?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}o.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},o.rgb=function(e){return o.tinyRGB(r(e))},o.opacity=function(e){return e?r(e).getAlpha():0},o.addOpacity=function(e,t){var n=r(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},o.combine=function(e,t){var n=r(e).toRgb();if(1===n.a)return r(e).toRgbString();var a=r(t||l).toRgb(),o=1===a.a?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a},i={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return r(i).toRgbString()},o.contrast=function(e,t,n){var a=r(e);1!==a.getAlpha()&&(a=r(o.combine(e,l)));var i=a.isDark()?t?a.lighten(t):l:n?a.darken(n):s;return i.toString()},o.stroke=function(e,t){var n=r(t);e.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(e,t){var n=r(t);e.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(e){if(e&&"object"==typeof e){var t,n,r,a,i=Object.keys(e);for(t=0;t<i.length;t++)if(r=i[t],a=e[r],"color"===r.substr(r.length-5))if(Array.isArray(a))for(n=0;n<a.length;n++)a[n]=u(a[n]);else e[r]=u(a);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(a))for(n=0;n<a.length;n++)Array.isArray(a[n])&&(a[n][1]=u(a[n][1]));else if(Array.isArray(a)){var s=a[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(n=0;n<a.length;n++)o.clean(a[n])}else a&&"object"==typeof a&&o.clean(a)}}},{"./attributes":317,"fast-isnumeric":149,tinycolor2:283}],319:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),a=e("../../plots/font_attributes"),o=e("../../lib/extend").extendFlat,i=e("../../plot_api/edit_types").overrideAll;t.exports=i({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:o({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:a({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{valType:"string"},titlefont:a({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},"colorbars","from-root")},{"../../lib/extend":431,"../../plot_api/edit_types":471,"../../plots/cartesian/layout_attributes":500,"../../plots/font_attributes":514}],320:[function(e,t,n){"use strict";var r=e("./draw");t.exports=function(e,t,n){if("function"==typeof n)return n(e,t);var a=t[0].trace,o="cb"+a.uid,i=n.container,s=i?a[i]:a;if(e._fullLayout._infolayer.selectAll("."+o).remove(),s&&s.showscale){var l=t[0].t.cb=r(e,o);l.fillgradient(s.colorscale).zrange([s[n.min],s[n.max]]).options(s.colorbar)()}}},{"./draw":323}],321:[function(e,t,n){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],322:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plot_api/plot_template"),o=e("../../plots/cartesian/tick_value_defaults"),i=e("../../plots/cartesian/tick_mark_defaults"),s=e("../../plots/cartesian/tick_label_defaults"),l=e("./attributes");t.exports=function(e,t,n){var u=a.newContainer(t,"colorbar"),c=e.colorbar||{};function f(e,t){return r.coerce(c,u,l,e,t)}var d=f("thicknessmode");f("thickness","fraction"===d?30/(n.width-n.margin.l-n.margin.r):30);var h=f("lenmode");f("len","fraction"===h?1:n.height-n.margin.t-n.margin.b),f("x"),f("xanchor"),f("xpad"),f("y"),f("yanchor"),f("ypad"),r.noneOrAll(c,u,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor"),o(c,u,f,"linear");var p={outerTicks:!1,font:n.font};s(c,u,f,"linear",p),i(c,u,f,"linear",p),f("title",n._dfltTitle.colorbar),r.coerceFont(f,"titlefont",n.font),f("titleside")}},{"../../lib":440,"../../plot_api/plot_template":478,"../../plots/cartesian/tick_label_defaults":507,"../../plots/cartesian/tick_mark_defaults":508,"../../plots/cartesian/tick_value_defaults":509,"./attributes":319}],323:[function(e,t,n){"use strict";var r=e("d3"),a=e("tinycolor2"),o=e("../../plots/plots"),i=e("../../registry"),s=e("../../plots/cartesian/axes"),l=e("../dragelement"),u=e("../../lib"),c=e("../../lib/extend").extendFlat,f=e("../../lib/setcursor"),d=e("../drawing"),h=e("../color"),p=e("../titles"),m=e("../../lib/svg_text_utils"),v=e("../../constants/alignment"),g=v.LINE_SPACING,y=v.FROM_TL,b=v.FROM_BR,_=e("../../plots/cartesian/axis_defaults"),x=e("../../plots/cartesian/position_defaults"),w=e("../../plots/cartesian/layout_attributes"),k=e("./attributes"),A=e("./constants").cn;t.exports=function(e,t){var n={};for(var v in k)n[v]=null;function T(){var v=e._fullLayout,k=v._size;if("function"==typeof n.fillcolor||"function"==typeof n.line.color||n.fillgradient){var E,C,S=n.zrange||r.extent(("function"==typeof n.fillcolor?n.fillcolor:n.line.color).domain()),j=[],O=[],P="function"==typeof n.line.color?n.line.color:function(){return n.line.color},N="function"==typeof n.fillcolor?n.fillcolor:function(){return n.fillcolor},I=n.levels.end+n.levels.size/100,L=n.levels.size,D=1.001*S[0]-.001*S[1],R=1.001*S[1]-.001*S[0];for(C=0;C<1e5&&(E=n.levels.start+C*L,!(L>0?E>=I:E<=I));C++)E>D&&E<R&&j.push(E);if(n.fillgradient)O=[0];else if("function"==typeof n.fillcolor)if(n.filllevels)for(I=n.filllevels.end+n.filllevels.size/100,L=n.filllevels.size,C=0;C<1e5&&(E=n.filllevels.start+C*L,!(L>0?E>=I:E<=I));C++)E>S[0]&&E<S[1]&&O.push(E);else(O=j.map(function(e){return e-n.levels.size/2})).push(O[O.length-1]+n.levels.size);else n.fillcolor&&"string"==typeof n.fillcolor&&(O=[0]);n.levels.size<0&&(j.reverse(),O.reverse());var z,F=k.h,B=k.w,U=Math.round(n.thickness*("fraction"===n.thicknessmode?B:1)),H=U/k.w,q=Math.round(n.len*("fraction"===n.lenmode?F:1)),V=q/k.h,W=n.xpad/k.w,G=(n.borderwidth+n.outlinewidth)/2,X=n.ypad/k.h,Y=Math.round(n.x*k.w+n.xpad),K=n.x-H*({middle:.5,right:1}[n.xanchor]||0),Z=n.y+V*(({top:-.5,bottom:.5}[n.yanchor]||0)-.5),J=Math.round(k.h*(1-Z)),Q=J-q,$={type:"linear",range:S,tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,exponentformat:n.exponentformat,separatethousands:n.separatethousands,showexponent:n.showexponent,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,title:n.title,titlefont:n.titlefont,showline:!0,anchor:"free",position:1},ee={type:"linear",_id:"y"+t},te={letter:"y",font:v.font,noHover:!0,calendar:v.calendar};if(_($,ee,ve,te,v),x($,ee,ve,te),ee.position=n.x+W+H,T.axis=ee,-1!==["top","bottom"].indexOf(n.titleside)&&(ee.titleside=n.titleside,ee.titlex=n.x+W,ee.titley=Z+("top"===n.titleside?V-X:X)),n.line.color&&"auto"===n.tickmode){ee.tickmode="linear",ee.tick0=n.levels.start;var ne=n.levels.size,re=u.constrain((J-Q)/50,4,15)+1,ae=(S[1]-S[0])/((n.nticks||re)*ne);if(ae>1){var oe=Math.pow(10,Math.floor(Math.log(ae)/Math.LN10));ne*=oe*u.roundUp(ae/oe,[2,5,10]),(Math.abs(n.levels.start)/n.levels.size+1e-6)%1<2e-6&&(ee.tick0=0)}ee.dtick=ne}ee.domain=[Z+X,Z+V-X],ee.setScale();var ie=u.ensureSingle(v._infolayer,"g",t,function(e){e.classed(A.colorbar,!0).each(function(){var e=r.select(this);e.append("rect").classed(A.cbbg,!0),e.append("g").classed(A.cbfills,!0),e.append("g").classed(A.cblines,!0),e.append("g").classed(A.cbaxis,!0).classed(A.crisp,!0),e.append("g").classed(A.cbtitleunshift,!0).append("g").classed(A.cbtitle,!0),e.append("rect").classed(A.cboutline,!0),e.select(".cbtitle").datum(0)})});ie.attr("transform","translate("+Math.round(k.l)+","+Math.round(k.t)+")");var se=ie.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(k.l)+",-"+Math.round(k.t)+")");ee._axislayer=ie.select(".cbaxis");var le=0;if(-1!==["top","bottom"].indexOf(n.titleside)){var ue,ce=k.l+(n.x+W)*k.w,fe=ee.titlefont.size;ue="top"===n.titleside?(1-(Z+V-X))*k.h+k.t+3+.75*fe:(1-(Z+X))*k.h+k.t-3-.25*fe,ge(ee._id+"title",{attributes:{x:ce,y:ue,"text-anchor":"start"}})}var de,he,pe,me=u.syncOrAsync([o.previousPromises,function(){if(-1!==["top","bottom"].indexOf(n.titleside)){var o=ie.select(".cbtitle"),i=o.select("text"),l=[-n.outlinewidth/2,n.outlinewidth/2],c=o.select(".h"+ee._id+"title-math-group").node(),f=15.6;if(i.node()&&(f=parseInt(i.node().style.fontSize,10)*g),c?(le=d.bBox(c).height)>f&&(l[1]-=(le-f)/2):i.node()&&!i.classed(A.jsPlaceholder)&&(le=d.bBox(i.node()).height),le){if(le+=5,"top"===n.titleside)ee.domain[1]-=le/k.h,l[1]*=-1;else{ee.domain[0]+=le/k.h;var h=m.lineCount(i);l[1]+=(1-h)*f}o.attr("transform","translate("+l+")"),ee.setScale()}}ie.selectAll(".cbfills,.cblines").attr("transform","translate(0,"+Math.round(k.h*(1-ee.domain[1]))+")"),ee._axislayer.attr("transform","translate(0,"+Math.round(-k.t)+")");var p=ie.select(".cbfills").selectAll("rect.cbfill").data(O);p.enter().append("rect").classed(A.cbfill,!0).style("stroke","none"),p.exit().remove();var y=S.map(ee.c2p).map(Math.round).sort(function(e,t){return e-t});p.each(function(o,i){var s=[0===i?S[0]:(O[i]+O[i-1])/2,i===O.length-1?S[1]:(O[i]+O[i+1])/2].map(ee.c2p).map(Math.round);s[1]=u.constrain(s[1]+(s[1]>s[0])?1:-1,y[0],y[1]);var l=r.select(this).attr({x:Y,width:Math.max(U,2),y:r.min(s),height:Math.max(r.max(s)-r.min(s),2)});if(n.fillgradient)d.gradient(l,e,t,"vertical",n.fillgradient,"fill");else{var c=N(o).replace("e-","");l.attr("fill",a(c).toHexString())}});var b=ie.select(".cblines").selectAll("path.cbline").data(n.line.color&&n.line.width?j:[]);return b.enter().append("path").classed(A.cbline,!0),b.exit().remove(),b.each(function(e){r.select(this).attr("d","M"+Y+","+(Math.round(ee.c2p(e))+n.line.width/2%1)+"h"+U).call(d.lineGroupStyle,n.line.width,P(e),n.line.dash)}),ee._axislayer.selectAll("g."+ee._id+"tick,path").remove(),ee._pos=Y+U+(n.outlinewidth||0)/2-("outside"===n.ticks?1:0),ee.side="right",u.syncOrAsync([function(){return s.doTicksSingle(e,ee,!0)},function(){if(-1===["top","bottom"].indexOf(n.titleside)){var t=ee.titlefont.size,a=ee._offset+ee._length/2,o=k.l+(ee.position||0)*k.w+("right"===ee.side?10+t*(ee.showticklabels?1:.5):-10-t*(ee.showticklabels?.5:0));ge("h"+ee._id+"title",{avoid:{selection:r.select(e).selectAll("g."+ee._id+"tick"),side:n.titleside,offsetLeft:k.l,offsetTop:0,maxShift:v.width},attributes:{x:o,y:a,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])},o.previousPromises,function(){var r=U+n.outlinewidth/2+d.bBox(ee._axislayer.node()).width;if((z=se.select("text")).node()&&!z.classed(A.jsPlaceholder)){var a,i=se.select(".h"+ee._id+"title-math-group").node();a=i&&-1!==["top","bottom"].indexOf(n.titleside)?d.bBox(i).width:d.bBox(se.node()).right-Y-k.l,r=Math.max(r,a)}var s=2*n.xpad+r+n.borderwidth+n.outlinewidth/2,l=J-Q;ie.select(".cbbg").attr({x:Y-n.xpad-(n.borderwidth+n.outlinewidth)/2,y:Q-G,width:Math.max(s,2),height:Math.max(l+2*G,2)}).call(h.fill,n.bgcolor).call(h.stroke,n.bordercolor).style({"stroke-width":n.borderwidth}),ie.selectAll(".cboutline").attr({x:Y,y:Q+n.ypad+("top"===n.titleside?le:0),width:Math.max(U,2),height:Math.max(l-2*n.ypad-le,2)}).call(h.stroke,n.outlinecolor).style({fill:"None","stroke-width":n.outlinewidth});var u=({center:.5,right:1}[n.xanchor]||0)*s;ie.attr("transform","translate("+(k.l-u)+","+k.t+")");var c={},f=y[n.yanchor],p=b[n.yanchor];"pixels"===n.lenmode?(c.y=n.y,c.t=l*f,c.b=l*p):(c.t=c.b=0,c.yt=n.y+n.len*f,c.yb=n.y-n.len*p);var m=y[n.xanchor],v=b[n.xanchor];if("pixels"===n.thicknessmode)c.x=n.x,c.l=s*m,c.r=s*v;else{var g=s-U;c.l=g*m,c.r=g*v,c.xl=n.x-n.thickness*m,c.xr=n.x+n.thickness*v}o.autoMargin(e,t,c)}],e);return me&&me.then&&(e._promises||[]).push(me),e._context.edits.colorbarPosition&&l.init({element:ie.node(),gd:e,prepFn:function(){de=ie.attr("transform"),f(ie)},moveFn:function(e,t){ie.attr("transform",de+" translate("+e+","+t+")"),he=l.align(K+e/k.w,H,0,1,n.xanchor),pe=l.align(Z-t/k.h,V,0,1,n.yanchor);var r=l.getCursor(he,pe,n.xanchor,n.yanchor);f(ie,r)},doneFn:function(){f(ie),void 0!==he&&void 0!==pe&&i.call("restyle",e,{"colorbar.x":he,"colorbar.y":pe},M().index)}}),me}function ve(e,t){return u.coerce($,ee,w,e,t)}function ge(t,n){var r=M(),a="colorbar.title",o=r._module.colorbar.container;o&&(a=o+"."+a);var i={propContainer:ee,propName:a,traceIndex:r.index,placeholder:v._dfltTitle.colorbar,containerGroup:ie.select(".cbtitle")},s="h"===t.charAt(0)?t.substr(1):"h"+t;ie.selectAll("."+s+",."+s+"-math-group").remove(),p.draw(e,t,c(i,n||{}))}v._infolayer.selectAll("g."+t).remove()}function M(){var n,r,a=t.substr(2);for(n=0;n<e._fullData.length;n++)if((r=e._fullData[n]).uid===a)return r}return n.fillcolor=null,n.line={color:null,width:null,dash:null},n.levels={start:null,end:null,size:null},n.filllevels=null,n.fillgradient=null,n.zrange=null,Object.keys(n).forEach(function(e){T[e]=function(t){return arguments.length?(n[e]=u.isPlainObject(n[e])?u.extendFlat(n[e],t):t,T):n[e]}}),T.options=function(e){for(var t in e)"function"==typeof T[t]&&T[t](e[t]);return T},T._opts=n,T}},{"../../constants/alignment":416,"../../lib":440,"../../lib/extend":431,"../../lib/setcursor":461,"../../lib/svg_text_utils":465,"../../plots/cartesian/axes":488,"../../plots/cartesian/axis_defaults":490,"../../plots/cartesian/layout_attributes":500,"../../plots/cartesian/position_defaults":503,"../../plots/plots":524,"../../registry":532,"../color":318,"../dragelement":340,"../drawing":343,"../titles":409,"./attributes":319,"./constants":321,d3:85,tinycolor2:283}],324:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":440}],325:[function(e,t,n){"use strict";var r=e("./scales.js");function a(e){return"`"+e+"`"}Object.keys(r),t.exports=function(e,t){e=e||"";var n,o=(t=t||{}).cLetter||"c",i=("onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e),"noScale"in t?t.noScale:"marker.line"===e),s="showScaleDflt"in t?t.showScaleDflt:"z"===o,l="string"==typeof t.colorscaleDflt?r[t.colorscaleDflt]:null,u=t.editTypeOverride||"",c=e?e+".":"";"colorAttr"in t?(n=t.colorAttr,t.colorAttr):a(c+(n={z:"z",c:"color"}[o]));var f=o+"auto",d=o+"min",h=o+"max",p=(a(c+d),a(c+h),{});p[d]=p[h]=void 0;var m={};m[f]=!1;var v={};return"color"===n&&(v.color={valType:"color",arrayOk:!0,editType:u||"style"}),v[f]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:p},v[d]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:m},v[h]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:m},v.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},v.autocolorscale={valType:"boolean",dflt:!1!==t.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},v.reversescale={valType:"boolean",dflt:!1,editType:"calc"},i||(v.showscale={valType:"boolean",dflt:s,editType:"calc"}),v}},{"./scales.js":337}],326:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./scales"),o=e("./flip_scale");t.exports=function(e,t,n,i){var s=e,l=e._input,u=e._fullInput,c=e.updateStyle;function f(t,r,a){void 0===a&&(a=r),c?c(e._input,n?n+"."+t:t,r):l[t]=r,s[t]=a,u&&e!==e._fullInput&&(c?c(e._fullInput,n?n+"."+t:t,a):u[t]=a)}n&&(s=r.nestedProperty(s,n).get(),l=r.nestedProperty(l,n).get(),u=r.nestedProperty(u,n).get()||{});var d=i+"auto",h=i+"min",p=i+"max",m=s[d],v=s[h],g=s[p],y=s.colorscale;!1===m&&void 0!==v||(v=r.aggNums(Math.min,null,t)),!1===m&&void 0!==g||(g=r.aggNums(Math.max,null,t)),v===g&&(v-=.5,g+=.5),f(h,v),f(p,g),f(d,!1!==m||void 0===v&&void 0===g),s.autocolorscale&&(f("colorscale",y=v*g<0?a.RdBu:v>=0?a.Reds:a.Blues,s.reversescale?o(y):y),l.autocolorscale||f("autocolorscale",!1))}},{"../../lib":440,"./flip_scale":330,"./scales":337}],327:[function(e,t,n){"use strict";var r=e("./scales");t.exports=r.RdBu},{"./scales":337}],328:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),o=e("../colorbar/has_colorbar"),i=e("../colorbar/defaults"),s=e("./is_valid_scale"),l=e("./flip_scale");t.exports=function(e,t,n,u,c){var f,d=c.prefix,h=c.cLetter,p=d.slice(0,d.length-1),m=d?a.nestedProperty(e,p).get()||{}:e,v=d?a.nestedProperty(t,p).get()||{}:t,g=m[h+"min"],y=m[h+"max"],b=m.colorscale,_=r(g)&&r(y)&&g<y;u(d+h+"auto",!_),u(d+h+"min"),u(d+h+"max"),void 0!==b&&(f=!s(b)),u(d+"autocolorscale",f);var x=u(d+"colorscale"),w=u(d+"reversescale");if(w&&(v.colorscale=l(x)),"marker.line."!==d&&!c.noScale){var k;d&&(k=o(m));var A=u(d+"showscale",k);A&&i(m,v,n)}}},{"../../lib":440,"../colorbar/defaults":322,"../colorbar/has_colorbar":324,"./flip_scale":330,"./is_valid_scale":334,"fast-isnumeric":149}],329:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var r=e.length,a=new Array(r),o=new Array(r),i=0;i<r;i++){var s=e[i];a[i]=t+s[0]*(n-t),o[i]=s[1]}return{domain:a,range:o}}},{}],330:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=new Array(n),a=n-1,o=0;a>=0;a--,o++)t=e[a],r[o]=[1-t[0],t[1]];return r}},{}],331:[function(e,t,n){"use strict";var r=e("./scales"),a=e("./default_scale"),o=e("./is_valid_scale_array");t.exports=function(e,t){if(t||(t=a),!e)return t;function n(){try{e=r[e]||JSON.parse(e)}catch(n){e=t}}return"string"==typeof e&&(n(),"string"==typeof e&&n()),o(e)?e:t}},{"./default_scale":327,"./is_valid_scale_array":335,"./scales":337}],332:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),o=e("./is_valid_scale");t.exports=function(e,t){var n=t?a.nestedProperty(e,t).get()||{}:e,i=n.color,s=!1;if(a.isArrayOrTypedArray(i))for(var l=0;l<i.length;l++)if(r(i[l])){s=!0;break}return a.isPlainObject(n)&&(s||!0===n.showscale||r(n.cmin)&&r(n.cmax)||o(n.colorscale)||a.isPlainObject(n.colorbar))}},{"../../lib":440,"./is_valid_scale":334,"fast-isnumeric":149}],333:[function(e,t,n){"use strict";n.scales=e("./scales"),n.defaultScale=e("./default_scale"),n.attributes=e("./attributes"),n.handleDefaults=e("./defaults"),n.calc=e("./calc"),n.hasColorscale=e("./has_colorscale"),n.isValidScale=e("./is_valid_scale"),n.getScale=e("./get_scale"),n.flipScale=e("./flip_scale"),n.extractScale=e("./extract_scale"),n.makeColorScaleFunc=e("./make_color_scale_func")},{"./attributes":325,"./calc":326,"./default_scale":327,"./defaults":328,"./extract_scale":329,"./flip_scale":330,"./get_scale":331,"./has_colorscale":332,"./is_valid_scale":334,"./make_color_scale_func":336,"./scales":337}],334:[function(e,t,n){"use strict";var r=e("./scales"),a=e("./is_valid_scale_array");t.exports=function(e){return void 0!==r[e]||a(e)}},{"./is_valid_scale_array":335,"./scales":337}],335:[function(e,t,n){"use strict";var r=e("tinycolor2");t.exports=function(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!=+e[0][0]||1!=+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var a=e[n];if(2!==a.length||+a[0]<t||!r(a[1]).isValid())return!1;t=+a[0]}return!0}},{tinycolor2:283}],336:[function(e,t,n){"use strict";var r=e("d3"),a=e("tinycolor2"),o=e("fast-isnumeric"),i=e("../color");function s(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return a(t).toRgbString()}t.exports=function(e,t){t=t||{};for(var n=e.domain,l=e.range,u=l.length,c=new Array(u),f=0;f<u;f++){var d=a(l[f]).toRgb();c[f]=[d.r,d.g,d.b,d.a]}var h,p=r.scale.linear().domain(n).range(c).clamp(!0),m=t.noNumericCheck,v=t.returnArray;return(h=m&&v?p:m?function(e){return s(p(e))}:v?function(e){return o(e)?p(e):a(e).isValid()?e:i.defaultLine}:function(e){return o(e)?s(p(e)):a(e).isValid()?e:i.defaultLine}).domain=p.domain,h.range=function(){return l},h}},{"../color":318,d3:85,"fast-isnumeric":149,tinycolor2:283}],337:[function(e,t,n){"use strict";t.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]}},{}],338:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,a){var o=(e-n)/(r-n),i=o+t/(r-n),s=(o+i)/2;return"left"===a||"bottom"===a?o:"center"===a||"middle"===a?s:"right"===a||"top"===a?i:o<2/3-s?o:i>4/3-s?i:s}},{}],339:[function(e,t,n){"use strict";var r=e("../../lib"),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,o){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===o?0:"middle"===o?1:"top"===o?2:r.constrain(Math.floor(3*t),0,2),a[t][e]}},{"../../lib":440}],340:[function(e,t,n){"use strict";var r=e("mouse-event-offset"),a=e("has-hover"),o=e("has-passive-events"),i=e("../../registry"),s=e("../../lib"),l=e("../../plots/cartesian/constants"),u=e("../../constants/interactions"),c=t.exports={};c.align=e("./align"),c.getCursor=e("./cursor");var f=e("./unhover");function d(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function h(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}c.unhover=f.wrapped,c.unhoverRaw=f.raw,c.init=function(e){var t,n,r,f,p,m,v,g,y=e.gd,b=1,_=u.DBLCLICKDELAY,x=e.element;y._mouseDownTime||(y._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=k,o?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=k,x.addEventListener("touchstart",k,{passive:!1})):x.ontouchstart=k;var w=e.clampFn||function(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]};function k(o){o.preventDefault(),y._dragged=!1,y._dragging=!0;var i=h(o);t=i[0],n=i[1],v=o.target,m=o,g=2===o.buttons||o.ctrlKey,void 0===o.clientX&&void 0===o.clientY&&(o.clientX=t,o.clientY=n),(r=(new Date).getTime())-y._mouseDownTime<_?b+=1:(b=1,y._mouseDownTime=r),e.prepFn&&e.prepFn(o,t,n),a&&!g?(p=d()).style.cursor=window.getComputedStyle(x).cursor:a||(p=document,f=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mousemove",A),document.addEventListener("mouseup",T),document.addEventListener("touchmove",A),document.addEventListener("touchend",T)}function A(r){r.preventDefault();var a=h(r),o=e.minDrag||l.MINDRAG,i=w(a[0]-t,a[1]-n,o),s=i[0],u=i[1];(s||u)&&(y._dragged=!0,c.unhover(y)),y._dragged&&e.moveFn&&!g&&e.moveFn(s,u)}function T(t){if(document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",T),document.removeEventListener("touchmove",A),document.removeEventListener("touchend",T),t.preventDefault(),a?s.removeElement(p):f&&(p.documentElement.style.cursor=f,f=null),y._dragging){if(y._dragging=!1,(new Date).getTime()-y._mouseDownTime>_&&(b=Math.max(b-1,1)),y._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(b,m),!g){var n;try{n=new MouseEvent("click",t)}catch(e){var r=h(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}v.dispatchEvent(n)}!function(e){e._dragging=!1,e._replotPending&&i.call("plot",e)}(y),y._dragged=!1}else y._dragged=!1}},c.coverSlip=d},{"../../constants/interactions":418,"../../lib":440,"../../plots/cartesian/constants":493,"../../registry":532,"./align":338,"./cursor":339,"./unhover":341,"has-hover":200,"has-passive-events":201,"mouse-event-offset":214}],341:[function(e,t,n){"use strict";var r=e("../../lib/events"),a=e("../../lib/throttle"),o=e("../../lib/get_graph_div"),i=e("../fx/constants"),s=t.exports={};s.wrapped=function(e,t,n){(e=o(e))._fullLayout&&a.clear(e._fullLayout._uid+i.HOVERID),s.raw(e,t,n)},s.raw=function(e,t){var n=e._fullLayout,a=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&a&&e.emit("plotly_unhover",{event:t,points:a}))}},{"../../lib/events":430,"../../lib/get_graph_div":435,"../../lib/throttle":466,"../fx/constants":355}],342:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],343:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("tinycolor2"),i=e("../../registry"),s=e("../color"),l=e("../colorscale"),u=e("../../lib"),c=e("../../lib/svg_text_utils"),f=e("../../constants/xmlns_namespaces"),d=e("../../constants/alignment"),h=d.LINE_SPACING,p=e("../../constants/interactions").DESELECTDIM,m=e("../../traces/scatter/subtypes"),v=e("../../traces/scatter/make_bubble_size_func"),g=t.exports={};g.font=function(e,t,n,r){u.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(s.fill,r)},g.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},g.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},g.setRect=function(e,t,n,r,a){e.call(g.setPosition,t,n).call(g.setSize,r,a)},g.translatePoint=function(e,t,n,r){var o=n.c2p(e.x),i=r.c2p(e.y);return!!(a(o)&&a(i)&&t.node())&&("text"===t.node().nodeName?t.attr("x",o).attr("y",i):t.attr("transform","translate("+o+","+i+")"),!0)},g.translatePoints=function(e,t,n){e.each(function(e){var a=r.select(this);g.translatePoint(e,a,t,n)})},g.hideOutsideRangePoint=function(e,t,n,r,a,o){t.attr("display",n.isPtWithinRange(e,a)&&r.isPtWithinRange(e,o)?null:"none")},g.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,a=t.yaxis;e.each(function(t){var o=t[0].trace,i=o.xcalendar,s=o.ycalendar,l="bar"===o.type?".bartext":".point,.textpoint";e.selectAll(l).each(function(e){g.hideOutsideRangePoint(e,r.select(this),n,a,i,s)})})}},g.crispRound=function(e,t,n){return t&&a(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},g.singleLineStyle=function(e,t,n,r,a){t.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},i=n||o.width||0,l=a||o.dash||"";s.stroke(t,r||o.color),g.dashLine(t,l,i)},g.lineGroupStyle=function(e,t,n,a){e.style("fill","none").each(function(e){var o=(((e||[])[0]||{}).trace||{}).line||{},i=t||o.width||0,l=a||o.dash||"";r.select(this).call(s.stroke,n||o.color).call(g.dashLine,l,i)})},g.dashLine=function(e,t,n){n=+n||0,t=g.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},g.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},g.singleFillStyle=function(e){var t=r.select(e.node()),n=t.data(),a=(((n[0]||[])[0]||{}).trace||{}).fillcolor;a&&e.call(s.fill,a)},g.fillGroupStyle=function(e){e.style("stroke-width",0).each(function(t){var n=r.select(this);try{n.call(s.fill,t[0].trace.fillcolor)}catch(t){u.error(t,e),n.remove()}})};var y=e("./symbol_defs");g.symbolNames=[],g.symbolFuncs=[],g.symbolNeedLines={},g.symbolNoDot={},g.symbolNoFill={},g.symbolList=[],Object.keys(y).forEach(function(e){var t=y[e];g.symbolList=g.symbolList.concat([t.n,e,t.n+100,e+"-open"]),g.symbolNames[t.n]=e,g.symbolFuncs[t.n]=t.f,t.needLine&&(g.symbolNeedLines[t.n]=!0),t.noDot?g.symbolNoDot[t.n]=!0:g.symbolList=g.symbolList.concat([t.n+200,e+"-dot",t.n+300,e+"-open-dot"]),t.noFill&&(g.symbolNoFill[t.n]=!0)});var b=g.symbolNames.length,_="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function x(e,t){var n=e%100;return g.symbolFuncs[n](t)+(e>=200?_:"")}g.symbolNumber=function(e){if("string"==typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),(e=g.symbolNames.indexOf(e))>=0&&(e+=t)}return e%100>=b||e>=400?0:Math.floor(Math.max(e,0))};var w={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0},A=r.format("~.1f"),T={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:w},horizontalreversed:{node:"linearGradient",attrs:w,reversed:!0},vertical:{node:"linearGradient",attrs:k},verticalreversed:{node:"linearGradient",attrs:k,reversed:!0}};g.gradient=function(e,t,n,a,i,l){for(var c=i.length,f=T[a],d=new Array(c),h=0;h<c;h++)f.reversed?d[c-1-h]=[A(100*(1-i[h][0])),i[h][1]]:d[h]=[A(100*i[h][0]),i[h][1]];var p="g"+t._fullLayout._uid+"-"+n,m=t._fullLayout._defs.select(".gradients").selectAll("#"+p).data([a+d.join(";")],u.identity);m.exit().remove(),m.enter().append(f.node).each(function(){var e=r.select(this);f.attrs&&e.attr(f.attrs),e.attr("id",p);var t=e.selectAll("stop").data(d);t.exit().remove(),t.enter().append("stop"),t.each(function(e){var t=o(e[1]);r.select(this).attr({offset:e[0]+"%","stop-color":s.tinyRGB(t),"stop-opacity":t.getAlpha()})})}),e.style(l,"url(#"+p+")").style(l+"-opacity",null)},g.initGradients=function(e){var t=u.ensureSingle(e._fullLayout._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove()},g.pointStyle=function(e,t,n){if(e.size()){var a=g.makePointStyleFns(t);e.each(function(e){g.singlePointStyle(e,r.select(this),t,a,n)})}},g.singlePointStyle=function(e,t,n,r,a){var o=n.marker,i=o.line;if(t.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(e):void 0===e.mo?o.opacity:e.mo),r.ms2mrc){var l;l="various"===e.ms||"various"===o.size?3:r.ms2mrc(e.ms),e.mrc=l,r.selectedSizeFn&&(l=e.mrc=r.selectedSizeFn(e));var c=g.symbolNumber(e.mx||o.symbol)||0;e.om=c%200>=100,t.attr("d",x(c,l))}var f,d,h,p=!1;if(e.so)h=i.outlierwidth,d=i.outliercolor,f=o.outliercolor;else{var m=(i||{}).width;h=(e.mlw+1||m+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,d="mlc"in e?e.mlcc=r.lineScale(e.mlc):u.isArrayOrTypedArray(i.color)?s.defaultLine:i.color,u.isArrayOrTypedArray(o.color)&&(f=s.defaultLine,p=!0),f="mc"in e?e.mcc=r.markerScale(e.mc):o.color||"rgba(0,0,0,0)",r.selectedColorFn&&(f=r.selectedColorFn(e))}if(e.om)t.call(s.stroke,f).style({"stroke-width":(h||1)+"px",fill:"none"});else{t.style("stroke-width",h+"px");var v=o.gradient,y=e.mgt;if(y?p=!0:y=v&&v.type,Array.isArray(y)&&(y=y[0],T[y]||(y=0)),y&&"none"!==y){var b=e.mgc;b?p=!0:b=v.color;var _=n.uid;p&&(_+="-"+e.i),g.gradient(t,a,_,y,[[0,b],[1,f]],"fill")}else s.fill(t,f);h&&s.stroke(t,d)}},g.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=g.tryColorscale(n,""),t.lineScale=g.tryColorscale(n,"line"),i.traceIs(e,"symbols")&&(t.ms2mrc=m.isBubble(e)?v(e):function(){return(n.size||6)/2}),e.selectedpoints&&u.extendFlat(t,g.makeSelectedPointStyleFns(e)),t},g.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},a=e.marker||{},o=n.marker||{},s=r.marker||{},l=a.opacity,c=o.opacity,f=s.opacity,d=void 0!==c,h=void 0!==f;(u.isArrayOrTypedArray(l)||d||h)&&(t.selectedOpacityFn=function(e){var t=void 0===e.mo?a.opacity:e.mo;return e.selected?d?c:t:h?f:p*t});var m=a.color,v=o.color,g=s.color;(v||g)&&(t.selectedColorFn=function(e){var t=e.mcc||m;return e.selected?v||t:g||t});var y=a.size,b=o.size,_=s.size,x=void 0!==b,w=void 0!==_;return i.traceIs(e,"symbols")&&(x||w)&&(t.selectedSizeFn=function(e){var t=e.mrc||y/2;return e.selected?x?b/2:t:w?_/2:t}),t},g.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},a=e.textfont||{},o=n.textfont||{},i=r.textfont||{},l=a.color,u=o.color,c=i.color;return t.selectedTextColorFn=function(e){var t=e.tc||l;return e.selected?u||t:c||(u?t:s.addOpacity(t,p))},t},g.selectedPointStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=g.makeSelectedPointStyleFns(t),a=t.marker||{},o=[];n.selectedOpacityFn&&o.push(function(e,t){e.style("opacity",n.selectedOpacityFn(t))}),n.selectedColorFn&&o.push(function(e,t){s.fill(e,n.selectedColorFn(t))}),n.selectedSizeFn&&o.push(function(e,t){var r=t.mx||a.symbol||0,o=n.selectedSizeFn(t);e.attr("d",x(g.symbolNumber(r),o)),t.mrc2=o}),o.length&&e.each(function(e){for(var t=r.select(this),n=0;n<o.length;n++)o[n](t,e)})}},g.tryColorscale=function(e,t){var n=t?u.nestedProperty(e,t).get():e;if(n){var r=n.colorscale,a=n.color;if(r&&u.isArrayOrTypedArray(a))return l.makeColorScaleFunc(l.extractScale(r,n.cmin,n.cmax))}return u.identity};var M={start:1,end:-1,middle:0,bottom:1,top:-1};function E(e,t,n,a){var o=r.select(e.node().parentNode),i=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",s=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",l=a?a/.8+1:0,u=(c.lineCount(e)-1)*h+1,f=M[s]*l,d=.75*n+M[i]*l+(M[i]-1)*u*n/2;e.attr("text-anchor",s),o.attr("transform","translate("+f+","+d+")")}function C(e,t){var n=e.ts||t.textfont.size;return a(n)&&n>0?n:0}g.textPointStyle=function(e,t,n){if(e.size()){var a;if(t.selectedpoints){var o=g.makeSelectedTextStyleFns(t);a=o.selectedTextColorFn}e.each(function(e){var o=r.select(this),i=u.extractOption(e,t,"tx","text");if(i||0===i){var s=e.tp||t.textposition,l=C(e,t),f=a?a(e):e.tc||t.textfont.color;o.call(g.font,e.tf||t.textfont.family,l,f).text(i).call(c.convertToTspans,n).call(E,s,l,e.mrc)}else o.remove()})}},g.selectedTextStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=g.makeSelectedTextStyleFns(t);e.each(function(e){var a=r.select(this),o=n.selectedTextColorFn(e),i=e.tp||t.textposition,l=C(e,t);s.fill(a,o),E(a,i,l,e.mrc2||e.mrc)})}};var S=.5;function j(e,t,n,a){var o=e[0]-t[0],i=e[1]-t[1],s=n[0]-t[0],l=n[1]-t[1],u=Math.pow(o*o+i*i,S/2),c=Math.pow(s*s+l*l,S/2),f=(c*c*o-u*u*s)*a,d=(c*c*i-u*u*l)*a,h=3*c*(u+c),p=3*u*(u+c);return[[r.round(t[0]+(h&&f/h),2),r.round(t[1]+(h&&d/h),2)],[r.round(t[0]-(p&&f/p),2),r.round(t[1]-(p&&d/p),2)]]}g.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],a=[];for(n=1;n<e.length-1;n++)a.push(j(e[n-1],e[n],e[n+1],t));for(r+="Q"+a[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+a[n-2][1]+" "+a[n-1][0]+" "+e[n];return r+="Q"+a[e.length-3][1]+" "+e[e.length-1]},g.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],a=e.length-1,o=[j(e[a],e[0],e[1],t)];for(n=1;n<a;n++)o.push(j(e[n-1],e[n],e[n+1],t));for(o.push(j(e[a-1],e[a],e[0],t)),n=1;n<=a;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+e[n];return r+="C"+o[a][1]+" "+o[0][0]+" "+e[0]+"Z"};var O={hv:function(e,t){return"H"+r.round(t[0],2)+"V"+r.round(t[1],2)},vh:function(e,t){return"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},hvh:function(e,t){return"H"+r.round((e[0]+t[0])/2,2)+"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},vhv:function(e,t){return"V"+r.round((e[1]+t[1])/2,2)+"H"+r.round(t[0],2)+"V"+r.round(t[1],2)}},P=function(e,t){return"L"+r.round(t[0],2)+","+r.round(t[1],2)};g.steps=function(e){var t=O[e]||P;return function(e){for(var n="M"+r.round(e[0][0],2)+","+r.round(e[0][1],2),a=1;a<e.length;a++)n+=t(e[a-1],e[a]);return n}},g.makeTester=function(){var e=u.ensureSingleById(r.select("body"),"svg","js-plotly-tester",function(e){e.attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),t=u.ensureSingle(e,"path","js-reference-point",function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});g.tester=e,g.testref=t},g.savedBBoxes={};var N=0;function I(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}g.bBox=function(e,t,n){var a,o,i;if(n||(n=I(e)),n){if(a=g.savedBBoxes[n])return u.extendFlat({},a)}else if(1===e.childNodes.length){var s=e.childNodes[0];if(n=I(s)){var l=+s.getAttribute("x")||0,f=+s.getAttribute("y")||0,d=s.getAttribute("transform");if(!d){var h=g.bBox(s,!1,n);return l&&(h.left+=l,h.right+=l),f&&(h.top+=f,h.bottom+=f),h}if(n+="~"+l+"~"+f+"~"+d,a=g.savedBBoxes[n])return u.extendFlat({},a)}}t?o=e:(i=g.tester.node(),o=e.cloneNode(!0),i.appendChild(o)),r.select(o).attr("transform",null).call(c.positionText,0,0);var p=o.getBoundingClientRect(),m=g.testref.node().getBoundingClientRect();t||i.removeChild(o);var v={height:p.height,width:p.width,left:p.left-m.left,top:p.top-m.top,right:p.right-m.left,bottom:p.bottom-m.top};return N>=1e4&&(g.savedBBoxes={},N=0),n&&(g.savedBBoxes[n]=v),N++,u.extendFlat({},v)},g.setClipUrl=function(e,t){if(t){if(void 0===g.baseUrl){var n=r.select("base");n.size()&&n.attr("href")?g.baseUrl=window.location.href.split("#")[0]:g.baseUrl=""}e.attr("clip-path","url("+g.baseUrl+"#"+t+")")}else e.attr("clip-path",null)},g.getTranslate=function(e){var t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",r=n.replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+r[0]||0,y:+r[1]||0}},g.setTranslate=function(e,t,n){var r=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",o=e[r]("transform")||"";return t=t||0,n=n||0,o=o.replace(/(\btranslate\(.*?\);?)/,"").trim(),o=(o+=" translate("+t+", "+n+")").trim(),e[a]("transform",o),o},g.getScale=function(e){var t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",r=n.replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+r[0]||1,y:+r[1]||1}},g.setScale=function(e,t,n){var r=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",o=e[r]("transform")||"";return t=t||1,n=n||1,o=o.replace(/(\bscale\(.*?\);?)/,"").trim(),o=(o+=" scale("+t+", "+n+")").trim(),e[a]("transform",o),o};var L=/\s*sc.*/;g.setPointGroupScale=function(e,t,n){if(t=t||1,n=n||1,e){var r=1===t&&1===n?"":" scale("+t+","+n+")";e.each(function(){var e=(this.getAttribute("transform")||"").replace(L,"");e=(e+=r).trim(),this.setAttribute("transform",e)})}};var D=/translate\([^)]*\)\s*$/;g.setTextPointsScale=function(e,t,n){e&&e.each(function(){var e,a=r.select(this),o=a.select("text");if(o.node()){var i=parseFloat(o.attr("x")||0),s=parseFloat(o.attr("y")||0),l=(a.attr("transform")||"").match(D);e=1===t&&1===n?[]:["translate("+i+","+s+")","scale("+t+","+n+")","translate("+-i+","+-s+")"],l&&e.push(l),a.attr("transform",e.join(" "))}})}},{"../../constants/alignment":416,"../../constants/interactions":418,"../../constants/xmlns_namespaces":420,"../../lib":440,"../../lib/svg_text_utils":465,"../../registry":532,"../../traces/scatter/make_bubble_size_func":610,"../../traces/scatter/subtypes":617,"../color":318,"../colorscale":333,"./symbol_defs":344,d3:85,"fast-isnumeric":149,tinycolor2:283}],344:[function(e,t,n){"use strict";var r=e("d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,a="l"+t+",-"+t,o="l-"+t+",-"+t,i="l-"+t+","+t;return"M0,"+t+n+a+o+a+o+i+o+i+n+i+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),a=r.round(e,2);return"M-"+t+","+n+"H"+t+"L0,-"+a+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),a=r.round(e,2);return"M-"+t+",-"+n+"H"+t+"L0,"+a+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),a=r.round(e,2);return"M"+n+",-"+t+"V"+t+"L-"+a+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),a=r.round(e,2);return"M-"+n+",-"+t+"V"+t+"L"+a+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),a=r.round(-e,2),o=r.round(-.309*e,2),i=r.round(.809*e,2);return"M"+t+","+o+"L"+n+","+i+"H-"+n+"L-"+t+","+o+"L0,"+a+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),a=r.round(e*Math.sqrt(3)/2,2);return"M"+a+",-"+n+"V"+n+"L0,"+t+"L-"+a+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),a=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+a+"H"+n+"L"+t+",0L"+n+",-"+a+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),a=r.round(.951*t,2),o=r.round(.363*t,2),i=r.round(.588*t,2),s=r.round(-t,2),l=r.round(-.309*t,2),u=r.round(.118*t,2),c=r.round(.809*t,2),f=r.round(.382*t,2);return"M"+n+","+l+"H"+a+"L"+o+","+u+"L"+i+","+c+"L0,"+f+"L-"+i+","+c+"L-"+o+","+u+"L-"+a+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),a=r.round(.76*e,2);return"M-"+a+",0l-"+n+",-"+t+"h"+a+"l"+n+",-"+t+"l"+n+","+t+"h"+a+"l-"+n+","+t+"l"+n+","+t+"h-"+a+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+a+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),a=r.round(1.6*e,2),o=r.round(4*e,2),i="A "+o+","+o+" 0 0 1 ";return"M-"+t+","+n+i+t+","+n+i+"0,-"+a+i+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),a=r.round(1.6*e,2),o=r.round(4*e,2),i="A "+o+","+o+" 0 0 1 ";return"M"+t+",-"+n+i+"-"+t+",-"+n+i+"0,"+a+i+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+a+"-"+t+","+t+a+t+","+t+a+t+",-"+t+a+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+a+"0,"+t+a+t+",0"+a+"0,-"+t+a+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+t+","+a+"L0,0M"+t+","+a+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+t+",-"+a+"L0,0M"+t+",-"+a+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M"+a+","+t+"L0,0M"+a+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+a+","+t+"L0,0M-"+a+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0}}},{d3:85}],345:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],346:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../registry"),o=e("../../plots/cartesian/axes"),i=e("./compute_error");function s(e,t,n,a){var s=t["error_"+a]||{},l=s.visible&&-1!==["linear","log"].indexOf(n.type),u=[];if(l){for(var c=i(s),f=0;f<e.length;f++){var d=e[f],h=d.i;if(void 0===h)h=f;else if(null===h)continue;var p=d[a];if(r(n.c2l(p))){var m=c(p,h);if(r(m[0])&&r(m[1])){var v=d[a+"s"]=p-m[0],g=d[a+"h"]=p+m[1];u.push(v,g)}}}var y=o.findExtremes(n,u,{padded:!0}),b=n._id;t._extremes[b].min=t._extremes[b].min.concat(y.min),t._extremes[b].max=t._extremes[b].max.concat(y.max)}}t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],i=r[0].trace;if(!0===i.visible&&a.traceIs(i,"errorBarsOK")){var l=o.getFromId(e,i.xaxis),u=o.getFromId(e,i.yaxis);s(r,i,l,"x"),s(r,i,u,"y")}}}},{"../../plots/cartesian/axes":488,"../../registry":532,"./compute_error":347,"fast-isnumeric":149}],347:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var a=e.array||[];if(n)return function(e,t){var n=+a[t];return[n,n]};var o=e.arrayminus||[];return function(e,t){var n=+a[t],r=+o[t];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var i=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=i(e);return[t,t]}:function(e){return[s(e),i(e)]}}},{}],348:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../registry"),o=e("../../lib"),i=e("../../plot_api/plot_template"),s=e("./attributes");t.exports=function(e,t,n,l){var u="error_"+l.axis,c=i.newContainer(t,u),f=e[u]||{};function d(e,t){return o.coerce(f,c,s,e,t)}var h=void 0!==f.array||void 0!==f.value||"sqrt"===f.type,p=d("visible",h);if(!1!==p){var m=d("type","array"in f?"data":"percent"),v=!0;"sqrt"!==m&&(v=d("symmetric",!(("data"===m?"arrayminus":"valueminus")in f))),"data"===m?(d("array"),d("traceref"),v||(d("arrayminus"),d("tracerefminus"))):"percent"!==m&&"constant"!==m||(d("value"),v||d("valueminus"));var g="copy_"+l.inherit+"style";if(l.inherit){var y=t["error_"+l.inherit];(y||{}).visible&&d(g,!(f.color||r(f.thickness)||r(f.width)))}l.inherit&&c[g]||(d("color",n),d("thickness"),d("width",a.traceIs(t,"gl3d")?0:4))}}},{"../../lib":440,"../../plot_api/plot_template":478,"../../registry":532,"./attributes":345,"fast-isnumeric":149}],349:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plot_api/edit_types").overrideAll,o=e("./attributes"),i={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o)};delete i.error_x.copy_zstyle,delete i.error_y.copy_zstyle,delete i.error_y.copy_ystyle;var s={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o),error_z:r.extendFlat({},o)};delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:i,bar:i,histogram:i,scatter3d:a(s,"calc","nested"),scattergl:a(i,"calc","nested")}},supplyDefaults:e("./defaults"),calc:e("./calc"),makeComputeError:e("./compute_error"),plot:e("./plot"),style:e("./style"),hoverInfo:function(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}}},{"../../lib":440,"../../plot_api/edit_types":471,"./attributes":345,"./calc":346,"./compute_error":347,"./defaults":348,"./plot":350,"./style":351}],350:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("../drawing"),i=e("../../traces/scatter/subtypes");t.exports=function(e,t,n){var s=t.xaxis,l=t.yaxis,u=n&&n.duration>0;e.each(function(e){var c,f=e[0].trace,d=f.error_x||{},h=f.error_y||{};f.ids&&(c=function(e){return e.id});var p=i.hasMarkers(f)&&f.marker.maxdisplayed>0;h.visible||d.visible||(e=[]);var m=r.select(this).selectAll("g.errorbar").data(e,c);if(m.exit().remove(),e.length){d.visible||m.selectAll("path.xerror").remove(),h.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var v=m.enter().append("g").classed("errorbar",!0);u&&v.style("opacity",0).transition().duration(n.duration).style("opacity",1),o.setClipUrl(m,t.layerClipId),m.each(function(e){var t=r.select(this),o=function(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),a(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),a(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}(e,s,l);if(!p||e.vis){var i,c=t.select("path.yerror");if(h.visible&&a(o.x)&&a(o.yh)&&a(o.ys)){var f=h.width;i="M"+(o.x-f)+","+o.yh+"h"+2*f+"m-"+f+",0V"+o.ys,o.noYS||(i+="m-"+f+",0h"+2*f),c.size()?u&&(c=c.transition().duration(n.duration).ease(n.easing)):c=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),c.attr("d",i)}else c.remove();var m=t.select("path.xerror");if(d.visible&&a(o.y)&&a(o.xh)&&a(o.xs)){var v=(d.copy_ystyle?h:d).width;i="M"+o.xh+","+(o.y-v)+"v"+2*v+"m0,-"+v+"H"+o.xs,o.noXS||(i+="m0,-"+v+"v"+2*v),m.size()?u&&(m=m.transition().duration(n.duration).ease(n.easing)):m=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),m.attr("d",i)}else m.remove()}})}})}},{"../../traces/scatter/subtypes":617,"../drawing":343,d3:85,"fast-isnumeric":149}],351:[function(e,t,n){"use strict";var r=e("d3"),a=e("../color");t.exports=function(e){e.each(function(e){var t=e[0].trace,n=t.error_y||{},o=t.error_x||{},i=r.select(this);i.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(a.stroke,n.color),o.copy_ystyle&&(o=n),i.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(a.stroke,o.color)})}},{"../color":318,d3:85}],352:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes");t.exports={hoverlabel:{bgcolor:{valType:"color",arrayOk:!0,editType:"none"},bordercolor:{valType:"color",arrayOk:!0,editType:"none"},font:r({arrayOk:!0,editType:"none"}),namelength:{valType:"integer",min:-1,arrayOk:!0,editType:"none"},editType:"calc"}}},{"../../plots/font_attributes":514}],353:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry");function o(e,t,n,a){a=a||r.identity,Array.isArray(e)&&(t[0][n]=a(e))}t.exports=function(e){var t=e.calcdata,n=e._fullLayout;function i(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var s=0;s<t.length;s++){var l=t[s],u=l[0].trace;if(!a.traceIs(u,"pie")){var c=a.traceIs(u,"2dMap")?o:r.fillArray;c(u.hoverinfo,l,"hi",i(u)),u.hoverlabel&&(c(u.hoverlabel.bgcolor,l,"hbg"),c(u.hoverlabel.bordercolor,l,"hbc"),c(u.hoverlabel.font.size,l,"hts"),c(u.hoverlabel.font.color,l,"htc"),c(u.hoverlabel.font.family,l,"htf"),c(u.hoverlabel.namelength,l,"hnl"))}}}},{"../../lib":440,"../../registry":532}],354:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("./hover").hover;t.exports=function(e,t,n){var o=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function i(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&a(e,t,n,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(i):i(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":532,"./hover":358}],355:[function(e,t,n){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],356:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes"),o=e("./hoverlabel_defaults");t.exports=function(e,t,n,i){o(e,t,function(n,o){return r.coerce(e,t,a,n,o)},i.hoverlabel)}},{"../../lib":440,"./attributes":352,"./hoverlabel_defaults":359}],357:[function(e,t,n){"use strict";var r=e("../../lib");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,t){if("splom"===e.type){for(var r=e.xaxes||[],a=e.yaxes||[],o=0;o<r.length;o++)for(var i=0;i<a.length;i++)if(-1!==t.indexOf(r[o]+a[i]))return!0;return!1}return-1!==t.indexOf(n.getSubplot(e))},n.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,r,a){return"closest"===e?a||n.quadrature(t,r):"x"===e?t:r},n.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var a=t(e[r]);a<=n.distance&&(n.index=r,n.distance=a)}return n},n.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},n.quadrature=function(e,t){return function(n){var r=e(n),a=t(n);return Math.sqrt(r*r+a*a)}},n.makeEventData=function(e,t,r){var a="index"in e?e.index:e.pointNumber,o={data:t._input,fullData:t,curveNumber:t.index,pointNumber:a};if(t._indexToPoints){var i=t._indexToPoints[a];1===i.length?o.pointIndex=i[0]:o.pointIndices=i}else o.pointIndex=a;return t._module.eventData?o=t._module.eventData(o,e,t,r,a):("xVal"in e?o.x=e.xVal:"x"in e&&(o.x=e.x),"yVal"in e?o.y=e.yVal:"y"in e&&(o.y=e.y),e.xa&&(o.xaxis=e.xa),e.ya&&(o.yaxis=e.ya),void 0!==e.zLabelVal&&(o.z=e.zLabelVal)),n.appendArrayPointValue(o,t,a),o},n.appendArrayPointValue=function(e,t,n){var a=t._arrayAttrs;if(a)for(var s=0;s<a.length;s++){var l=a[s],u=o(l);if(void 0===e[u]){var c=r.nestedProperty(t,l).get(),f=i(c,n);void 0!==f&&(e[u]=f)}}},n.appendArrayMultiPointValues=function(e,t,n){var a=t._arrayAttrs;if(a)for(var s=0;s<a.length;s++){var l=a[s],u=o(l);if(void 0===e[u]){for(var c=r.nestedProperty(t,l).get(),f=new Array(n.length),d=0;d<n.length;d++)f[d]=i(c,n[d]);e[u]=f}}};var a={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color"};function o(e){return a[e]||e}function i(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}},{"../../lib":440}],358:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("tinycolor2"),i=e("../../lib"),s=e("../../lib/events"),l=e("../../lib/svg_text_utils"),u=e("../../lib/override_cursor"),c=e("../drawing"),f=e("../color"),d=e("../dragelement"),h=e("../../plots/cartesian/axes"),p=e("../../registry"),m=e("./helpers"),v=e("./constants"),g=v.YANGLE,y=Math.PI*g/180,b=1/Math.sin(y),_=Math.cos(y),x=Math.sin(y),w=v.HOVERARROWSIZE,k=v.HOVERTEXTPAD;function A(e,t,n){var a=t.hovermode,o=t.rotateLabels,s=t.bgColor,u=t.container,d=t.outerContainer,h=t.commonLabelOpts||{},p=t.fontFamily||v.HOVERFONT,m=t.fontSize||v.HOVERFONTSIZE,y=e[0],b=y.xa,_=y.ya,x="y"===a?"yLabel":"xLabel",A=y[x],T=(String(A)||"").split(" ")[0],M=d.node().getBoundingClientRect(),E=M.top,C=M.width,S=M.height,j=void 0!==A&&y.distance<=t.hoverdistance&&("x"===a||"y"===a);if(j){var O,P,N=!0;for(O=0;O<e.length;O++){N&&void 0===e[O].zLabel&&(N=!1),P=e[O].hoverinfo||e[O].trace.hoverinfo;var I=Array.isArray(P)?P:P.split("+");if(-1===I.indexOf("all")&&-1===I.indexOf(a)){j=!1;break}}N&&(j=!1)}var L=u.selectAll("g.axistext").data(j?[0]:[]);L.enter().append("g").classed("axistext",!0),L.exit().remove(),L.each(function(){var t=r.select(this),o=i.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),s=i.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),u=h.bgcolor||f.defaultLine,d=h.bordercolor||f.contrast(u);o.style({fill:u,stroke:d}),s.text(A).call(c.font,h.font.family||p,h.font.size||m,h.font.color||f.background).call(l.positionText,0,0).call(l.convertToTspans,n),t.attr("transform","");var v=s.node().getBoundingClientRect();if("x"===a){s.attr("text-anchor","middle").call(l.positionText,0,"top"===b.side?E-v.bottom-w-k:E-v.top+w+k);var g="top"===b.side?"-":"";o.attr("d","M0,0L"+w+","+g+w+"H"+(k+v.width/2)+"v"+g+(2*k+v.height)+"H-"+(k+v.width/2)+"V"+g+w+"H-"+w+"Z"),t.attr("transform","translate("+(b._offset+(y.x0+y.x1)/2)+","+(_._offset+("top"===b.side?0:_._length))+")")}else{s.attr("text-anchor","right"===_.side?"start":"end").call(l.positionText,("right"===_.side?1:-1)*(k+w),E-v.top-v.height/2);var M="right"===_.side?"":"-";o.attr("d","M0,0L"+M+w+","+w+"V"+(k+v.height/2)+"h"+M+(2*k+v.width)+"V-"+(k+v.height/2)+"H"+M+w+"V-"+w+"Z"),t.attr("transform","translate("+(b._offset+("right"===_.side?b._length:0))+","+(_._offset+(y.y0+y.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[x]||"").split(" ")[0]===T})});var D=u.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return D.enter().append("g").classed("hovertext",!0).each(function(){var e=r.select(this);e.append("rect").call(f.fill,f.addOpacity(s,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(c.font,p,m)}),D.exit().remove(),D.each(function(e){var t=r.select(this).attr("transform",""),i="",u="",d=f.opacity(e.color)?e.color:f.defaultLine,h=f.combine(d,s),v=e.borderColor||f.contrast(h);if(void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name){i=l.plainText(e.name||"");var y=Math.round(e.nameLength);y>-1&&i.length>y&&(i=y>3?i.substr(0,y-3)+"...":i.substr(0,y))}void 0!==e.zLabel?(void 0!==e.xLabel&&(u+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(u+="y: "+e.yLabel+"<br>"),u+=(u?"z: ":"")+e.zLabel):j&&e[a+"Label"]===A?u=e[("x"===a?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&(u=e.yLabel):u=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(u+=(u?"<br>":"")+e.text),void 0!==e.extraText&&(u+=(u?"<br>":"")+e.extraText),""===u&&(""===i&&t.remove(),u=i);var b=t.select("text.nums").call(c.font,e.fontFamily||p,e.fontSize||m,e.fontColor||v).text(u).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,n),_=t.select("text.name"),x=0;i&&i!==u?(_.call(c.font,e.fontFamily||p,e.fontSize||m,h).text(i).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,n),x=_.node().getBoundingClientRect().width+2*k):(_.remove(),t.select("rect").remove()),t.select("path").style({fill:h,stroke:v});var T,M,O=b.node().getBoundingClientRect(),P=e.xa._offset+(e.x0+e.x1)/2,N=e.ya._offset+(e.y0+e.y1)/2,I=Math.abs(e.x1-e.x0),L=Math.abs(e.y1-e.y0),D=O.width+w+k+x;e.ty0=E-O.top,e.bx=O.width+2*k,e.by=O.height+2*k,e.anchor="start",e.txwidth=O.width,e.tx2width=x,e.offset=0,o?(e.pos=P,T=N+L/2+D<=S,M=N-L/2-D>=0,"top"!==e.idealAlign&&T||!M?T?(N+=L/2,e.anchor="start"):e.anchor="middle":(N-=L/2,e.anchor="end")):(e.pos=N,T=P+I/2+D<=C,M=P-I/2-D>=0,"left"!==e.idealAlign&&T||!M?T?(P+=I/2,e.anchor="start"):e.anchor="middle":(P-=I/2,e.anchor="end")),b.attr("text-anchor",e.anchor),x&&_.attr("text-anchor",e.anchor),t.attr("transform","translate("+P+","+N+")"+(o?"rotate("+g+")":""))}),D}function T(e,t){e.each(function(e){var n=r.select(this);if(e.del)n.remove();else{var a="end"===e.anchor?-1:1,o=n.select("text.nums"),i={start:1,end:-1,middle:0}[e.anchor],s=i*(w+k),u=s+i*(e.txwidth+k),f=0,d=e.offset;"middle"===e.anchor&&(s-=e.tx2width/2,u+=e.txwidth/2+k),t&&(d*=-x,f=e.offset*_),n.select("path").attr("d","middle"===e.anchor?"M-"+(e.bx/2+e.tx2width/2)+","+(d-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(a*w+f)+","+(w+d)+"v"+(e.by/2-w)+"h"+a*e.bx+"v-"+e.by+"H"+(a*w+f)+"V"+(d-w)+"Z"),o.call(l.positionText,s+f,d+e.ty0-e.by/2+k),e.tx2width&&(n.select("text.name").call(l.positionText,u+i*k+f,d+e.ty0-e.by/2+k),n.select("rect").call(c.setRect,u+(i-1)*e.tx2width/2+f,d-e.by/2-1,e.tx2width,e.by+2))}})}function M(e,t){var n=e.index,r=e.trace||{},a=e.cd[0],o=e.cd[n]||{},s=Array.isArray(n)?function(e,t){return i.castOption(a,n,e)||i.extractOption({},r,"",t)}:function(e,t){return i.extractOption(o,r,e,t)};function l(t,n,r){var a=s(n,r);a&&(e[t]=a)}if(l("hoverinfo","hi","hoverinfo"),l("color","hbg","hoverlabel.bgcolor"),l("borderColor","hbc","hoverlabel.bordercolor"),l("fontFamily","htf","hoverlabel.font.family"),l("fontSize","hts","hoverlabel.font.size"),l("fontColor","htc","hoverlabel.font.color"),l("nameLength","hnl","hoverlabel.namelength"),e.posref="y"===t?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=i.constrain(e.x0,0,e.xa._length),e.x1=i.constrain(e.x1,0,e.xa._length),e.y0=i.constrain(e.y0,0,e.ya._length),e.y1=i.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:h.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:h.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var u=h.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+u+" / -"+h.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+u,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var c=h.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+c+" / -"+h.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+c,"y"===t&&(e.distance+=1)}var f=e.hoverinfo||e.trace.hoverinfo;return"all"!==f&&(-1===(f=Array.isArray(f)?f:f.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===f.indexOf("y")&&(e.yLabel=void 0),-1===f.indexOf("z")&&(e.zLabel=void 0),-1===f.indexOf("text")&&(e.text=void 0),-1===f.indexOf("name")&&(e.name=void 0)),e}function E(e,t){var n,r,a=t.container,i=t.fullLayout,s=t.event,l=!!e.hLinePoint,u=!!e.vLinePoint;if(a.selectAll(".spikeline").remove(),u||l){var d=f.combine(i.plot_bgcolor,i.paper_bgcolor);if(l){var h,p,m=e.hLinePoint;n=m&&m.xa;var v=(r=m&&m.ya).spikesnap;"cursor"===v?(h=s.pointerX,p=s.pointerY):(h=n._offset+m.x,p=r._offset+m.y);var g,y,b=o.readability(m.color,d)<1.5?f.contrast(d):m.color,_=r.spikemode,x=r.spikethickness,w=r.spikecolor||b,k=r._boundingBox,A=(k.left+k.right)/2<h?k.right:k.left;-1===_.indexOf("toaxis")&&-1===_.indexOf("across")||(-1!==_.indexOf("toaxis")&&(g=A,y=h),-1!==_.indexOf("across")&&(g=r._counterSpan[0],y=r._counterSpan[1]),a.insert("line",":first-child").attr({x1:g,x2:y,y1:p,y2:p,"stroke-width":x,stroke:w,"stroke-dasharray":c.dashStyle(r.spikedash,x)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:g,x2:y,y1:p,y2:p,"stroke-width":x+2,stroke:d}).classed("spikeline",!0).classed("crisp",!0)),-1!==_.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:A+("right"!==r.side?x:-x),cy:p,r:x,fill:w}).classed("spikeline",!0)}if(u){var T,M,E=e.vLinePoint;n=E&&E.xa,r=E&&E.ya;var C=n.spikesnap;"cursor"===C?(T=s.pointerX,M=s.pointerY):(T=n._offset+E.x,M=r._offset+E.y);var S,j,O=o.readability(E.color,d)<1.5?f.contrast(d):E.color,P=n.spikemode,N=n.spikethickness,I=n.spikecolor||O,L=n._boundingBox,D=(L.top+L.bottom)/2<M?L.bottom:L.top;-1===P.indexOf("toaxis")&&-1===P.indexOf("across")||(-1!==P.indexOf("toaxis")&&(S=D,j=M),-1!==P.indexOf("across")&&(S=n._counterSpan[0],j=n._counterSpan[1]),a.insert("line",":first-child").attr({x1:T,x2:T,y1:S,y2:j,"stroke-width":N,stroke:I,"stroke-dasharray":c.dashStyle(n.spikedash,N)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:T,x2:T,y1:S,y2:j,"stroke-width":N+2,stroke:d}).classed("spikeline",!0).classed("crisp",!0)),-1!==P.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:T,cy:D-("top"!==n.side?N:-N),r:N,fill:I}).classed("spikeline",!0)}}}function C(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}n.hover=function(e,t,n,o){e=i.getGraphDiv(e),i.throttle(e._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,function(){!function(e,t,n,o){n||(n="xy");var l=Array.isArray(n)?n:[n],c=e._fullLayout,v=c._plots||[],g=v[n],y=c._has("cartesian");if(g){var _=g.overlays.map(function(e){return e.id});l=l.concat(_)}for(var x=l.length,w=new Array(x),k=new Array(x),S=!1,j=0;j<x;j++){var O=l[j],P=v[O];if(P)S=!0,w[j]=h.getFromId(e,P.xaxis._id),k[j]=h.getFromId(e,P.yaxis._id);else{var N=c[O]._subplot;w[j]=N.xaxis,k[j]=N.yaxis}}var I=t.hovermode||c.hovermode;if(I&&!S&&(I="closest"),-1===["x","y","closest"].indexOf(I)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return d.unhoverRaw(e,t);var L,D,R,z,F,B,U,H,q,V,W,G,X,Y=-1===c.hoverdistance?1/0:c.hoverdistance,K=-1===c.spikedistance?1/0:c.spikedistance,Z=[],J=[],Q={hLinePoint:null,vLinePoint:null};if(Array.isArray(t))for(I="array",R=0;R<t.length;R++)"skip"!==(F=e.calcdata[t[R].curveNumber||0])[0].trace.hoverinfo&&J.push(F);else{for(z=0;z<e.calcdata.length;z++)F=e.calcdata[z],"skip"!==(B=F[0].trace).hoverinfo&&m.isTraceInSubplots(B,l)&&J.push(F);var $,ee,te=!t.target;if(te)$="xpx"in t?t.xpx:w[0]._length/2,ee="ypx"in t?t.ypx:k[0]._length/2;else{if(!1===s.triggerHandler(e,"plotly_beforehover",t))return;var ne=t.target.getBoundingClientRect();if($=t.clientX-ne.left,ee=t.clientY-ne.top,$<0||$>w[0]._length||ee<0||ee>k[0]._length)return d.unhoverRaw(e,t)}if(t.pointerX=$+w[0]._offset,t.pointerY=ee+k[0]._offset,L="xval"in t?m.flat(l,t.xval):m.p2c(w,$),D="yval"in t?m.flat(l,t.yval):m.p2c(k,ee),!a(L[0])||!a(D[0]))return i.warn("Fx.hover failed",t,e),d.unhoverRaw(e,t)}var re=1/0;for(z=0;z<J.length;z++)if((F=J[z])&&F[0]&&F[0].trace&&!0===F[0].trace.visible&&(B=F[0].trace,-1===["carpet","contourcarpet"].indexOf(B._module.name))){if("splom"===B.type?U=l[H=0]:(U=m.getSubplot(B),H=l.indexOf(U)),q=I,G={cd:F,trace:B,xa:w[H],ya:k[H],maxHoverDistance:Y,maxSpikeDistance:K,index:!1,distance:Math.min(re,Y),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:B.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},c[U]&&(G.subplot=c[U]._subplot),X=Z.length,"array"===q){var ae=t[z];"pointNumber"in ae?(G.index=ae.pointNumber,q="closest"):(q="","xval"in ae&&(V=ae.xval,q="x"),"yval"in ae&&(W=ae.yval,q=q?"closest":"y"))}else V=L[H],W=D[H];if(0!==Y)if(B._module&&B._module.hoverPoints){var oe=B._module.hoverPoints(G,V,W,q,c._hoverlayer);if(oe)for(var ie,se=0;se<oe.length;se++)ie=oe[se],a(ie.x0)&&a(ie.y0)&&Z.push(M(ie,I))}else i.log("Unrecognized trace type in hover:",B);if("closest"===I&&Z.length>X&&(Z.splice(0,X),re=Z[0].distance),y&&0!==K&&0===Z.length){G.distance=K,G.index=!1;var le=B._module.hoverPoints(G,V,W,"closest",c._hoverlayer);if(le&&(le=le.filter(function(e){return e.spikeDistance<=K})),le&&le.length){var ue,ce=le.filter(function(e){return e.xa.showspikes});if(ce.length){var fe=ce[0];a(fe.x0)&&a(fe.y0)&&(ue=me(fe),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>ue.spikeDistance)&&(Q.vLinePoint=ue))}var de=le.filter(function(e){return e.ya.showspikes});if(de.length){var he=de[0];a(he.x0)&&a(he.y0)&&(ue=me(he),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>ue.spikeDistance)&&(Q.hLinePoint=ue))}}}}function pe(e,t){for(var n,r=null,a=1/0,o=0;o<e.length;o++)(n=e[o].spikeDistance)<a&&n<=t&&(r=e[o],a=n);return r}function me(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}var ve={fullLayout:c,container:c._hoverlayer,outerContainer:c._paperdiv,event:t},ge=e._spikepoints,ye={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};if(e._spikepoints=ye,y&&0!==K&&0!==Z.length){var be=Z.filter(function(e){return e.ya.showspikes}),_e=pe(be,K);Q.hLinePoint=me(_e);var xe=Z.filter(function(e){return e.xa.showspikes}),we=pe(xe,K);Q.vLinePoint=me(we)}if(0===Z.length){var ke=d.unhoverRaw(e,t);return!y||null===Q.hLinePoint&&null===Q.vLinePoint||C(ge)&&E(Q,ve),ke}y&&C(ge)&&E(Q,ve),Z.sort(function(e,t){return e.distance-t.distance});var Ae=e._hoverdata,Te=[];for(R=0;R<Z.length;R++){var Me=Z[R];Te.push(m.makeEventData(Me,Me.trace,Me.cd))}e._hoverdata=Te;var Ee="y"===I&&J.length>1,Ce=f.combine(c.plot_bgcolor||f.background,c.paper_bgcolor),Se={hovermode:I,rotateLabels:Ee,bgColor:Ce,container:c._hoverlayer,outerContainer:c._paperdiv,commonLabelOpts:c.hoverlabel,hoverdistance:c.hoverdistance},je=A(Z,Se,e);if(function(e,t,n){var r,a,o,i,s,l,u,c=0,f=1,d=e.map(function(e,r){var a=e[t],o="x"===a._id.charAt(0),i=a.range;return!r&&i&&i[0]>i[1]!==o&&(f=-1),[{i:r,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(o?b:1)/2,pmin:0,pmax:o?n.width:n.height}]}).sort(function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)});function h(e){var t=e[0],n=e[e.length-1];if(a=t.pmin-t.pos-t.dp+t.size,o=n.pos+n.dp+n.size-t.pmax,a>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=a;r=!1}if(!(o<.01)){if(a<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=o;r=!1}if(r){var u=0;for(i=0;i<e.length;i++)(l=e[i]).pos+l.dp+l.size>t.pmax&&u++;for(i=e.length-1;i>=0&&!(u<=0);i--)(l=e[i]).pos>t.pmax-1&&(l.del=!0,u--);for(i=0;i<e.length&&!(u<=0);i++)if((l=e[i]).pos<t.pmin+1)for(l.del=!0,u--,o=2*l.size,s=e.length-1;s>=0;s--)e[s].dp-=o;for(i=e.length-1;i>=0&&!(u<=0);i--)(l=e[i]).pos+l.dp+l.size>t.pmax&&(l.del=!0,u--)}}}for(;!r&&c<=e.length;){for(c++,r=!0,i=0;i<d.length-1;){var p=d[i],m=d[i+1],v=p[p.length-1],g=m[0];if((a=v.pos+v.dp+v.size-g.pos-g.dp+g.size)>.01&&v.pmin===g.pmin&&v.pmax===g.pmax){for(s=m.length-1;s>=0;s--)m[s].dp+=a;for(p.push.apply(p,m),d.splice(i+1,1),u=0,s=p.length-1;s>=0;s--)u+=p[s].dp;for(o=u/p.length,s=p.length-1;s>=0;s--)p[s].dp-=o;r=!1}else i++}d.forEach(h)}for(i=d.length-1;i>=0;i--){var y=d[i];for(s=y.length-1;s>=0;s--){var _=y[s],x=e[_.i];x.offset=_.dp,x.del=_.del}}}(Z,Ee?"xa":"ya",c),T(je,Ee),t.target&&t.target.tagName){var Oe=p.getComponentMethod("annotations","hasClickToShow")(e,Te);u(r.select(t.target),Oe?"pointer":"")}t.target&&!o&&function(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var a=n[r],o=e._hoverdata[r];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber))return!0}return!1}(e,0,Ae)&&(Ae&&e.emit("plotly_unhover",{event:t,points:Ae}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:w,yaxes:k,xvals:L,yvals:D}))}(e,t,n,o)})},n.loneHover=function(e,t){var n={color:e.color||f.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},a=r.select(t.container),o=t.outerContainer?r.select(t.outerContainer):a,i={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||f.background,container:a,outerContainer:o},s=A([n],i,t.gd);return T(s,i.rotateLabels),s.node()}},{"../../lib":440,"../../lib/events":430,"../../lib/override_cursor":452,"../../lib/svg_text_utils":465,"../../plots/cartesian/axes":488,"../../registry":532,"../color":318,"../dragelement":340,"../drawing":343,"./constants":355,"./helpers":357,d3:85,"fast-isnumeric":149,tinycolor2:283}],359:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,a){n("hoverlabel.bgcolor",(a=a||{}).bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),r.coerceFont(n,"hoverlabel.font",a.font)}},{"../../lib":440}],360:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../lib"),o=e("../dragelement"),i=e("./helpers"),s=e("./layout_attributes");t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:s},attributes:e("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:function(e,t,n){return a.castOption(e,t,"hoverlabel."+n)},castHoverinfo:function(e,t,n){return a.castOption(e,n,"hoverinfo",function(n){return a.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)})},hover:e("./hover").hover,unhover:o.unhover,loneHover:e("./hover").loneHover,loneUnhover:function(e){var t=a.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e("./click")}},{"../../lib":440,"../dragelement":340,"./attributes":352,"./calc":353,"./click":354,"./constants":355,"./defaults":356,"./helpers":357,"./hover":358,"./layout_attributes":361,"./layout_defaults":362,"./layout_global_defaults":363,d3:85}],361:[function(e,t,n){"use strict";var r=e("./constants"),a=e("../../plots/font_attributes")({editType:"none"});a.family.dflt=r.HOVERFONT,a.size.dflt=r.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":514,"./constants":355}],362:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t,n){function o(n,o){return r.coerce(e,t,a,n,o)}var i,s=o("clickmode"),l=o("dragmode");"select"===l&&o("selectdirection"),t._has("cartesian")?s.indexOf("select")>-1?i="closest":(t._isHoriz=function(e){for(var t=!0,n=0;n<e.length;n++){var r=e[n];if("h"!==r.orientation){t=!1;break}}return t}(n),i=t._isHoriz?"y":"x"):i="closest";var u=o("hovermode",i);u&&(o("hoverdistance"),o("spikedistance"));var c=t._has("mapbox"),f=t._has("geo"),d=t._basePlotModules.length;"zoom"===t.dragmode&&((c||f)&&1===d||c&&f&&2===d)&&(t.dragmode="pan")}},{"../../lib":440,"./layout_attributes":361}],363:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./hoverlabel_defaults"),o=e("./layout_attributes");t.exports=function(e,t){a(e,t,function(n,a){return r.coerce(e,t,o,n,a)})}},{"../../lib":440,"./hoverlabel_defaults":359,"./layout_attributes":361}],364:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../lib/regex").counter,o=e("../../plots/domain").attributes,i=e("../../plots/cartesian/constants").idRegex,s=e("../../plot_api/plot_template"),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[a("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function u(e,t,n){var r=t[n+"axes"],a=Object.keys((e._splomAxes||{})[n]||{});return Array.isArray(r)?r:a.length?a:void 0}function c(e,t,n,r,a,o){var i=t(e+"gap",n),s=t("domain."+e);t(e+"side",r);for(var l=new Array(a),u=s[0],c=(s[1]-u)/(a-i),f=c*(1-i),d=0;d<a;d++){var h=u+c*d;l[o?a-1-d:d]=[h,h+f]}return l}function f(e,t,n,r,a){var o,i=new Array(n);function s(e,n){-1!==t.indexOf(n)&&void 0===r[n]?(i[e]=n,r[n]=e):i[e]=""}if(Array.isArray(e))for(o=0;o<n;o++)s(o,e[o]);else for(s(0,a),o=1;o<n;o++)s(o,a+(o+1));return i}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function(e,t){var n=e.grid||{},a=u(t,n,"x"),o=u(t,n,"y");if(e.grid||a||o){var i,f,d=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),h=Array.isArray(a),p=Array.isArray(o),m=h&&a!==n.xaxes&&p&&o!==n.yaxes;d?(i=n.subplots.length,f=n.subplots[0].length):(p&&(i=o.length),h&&(f=a.length));var v=s.newContainer(t,"grid"),g=T("rows",i),y=T("columns",f);if(g*y>1){if(!d&&!h&&!p){var b="independent"===T("pattern");b&&(d=!0)}v._hasSubplotGrid=d;var _,x,w="top to bottom"===T("roworder"),k=d?.2:.1,A=d?.3:.1;m&&t._splomGridDflt&&(_=t._splomGridDflt.xside,x=t._splomGridDflt.yside),v._domains={x:c("x",T,k,_,y),y:c("y",T,A,x,g,w)}}else delete t.grid}function T(e,t){return r.coerce(n,v,l,e,t)}},contentDefaults:function(e,t){var n=t.grid;if(n&&n._domains){var r,a,o,i,s,l,c,d=e.grid||{},h=t._subplots,p=n._hasSubplotGrid,m=n.rows,v=n.columns,g="independent"===n.pattern,y=n._axisMap={};if(p){var b=d.subplots||[];l=n.subplots=new Array(m);var _=1;for(r=0;r<m;r++){var x=l[r]=new Array(v),w=b[r]||[];for(a=0;a<v;a++)if(g?(s=1===_?"xy":"x"+_+"y"+_,_++):s=w[a],x[a]="",-1!==h.cartesian.indexOf(s)){if(c=s.indexOf("y"),o=s.slice(0,c),i=s.slice(c),void 0!==y[o]&&y[o]!==a||void 0!==y[i]&&y[i]!==r)continue;x[a]=s,y[o]=a,y[i]=r}}}else{var k=u(t,d,"x"),A=u(t,d,"y");n.xaxes=f(k,h.xaxis,v,y,"x"),n.yaxes=f(A,h.yaxis,m,y,"y")}var T=n._anchors={},M="top to bottom"===n.roworder;for(var E in y){var C,S,j,O=E.charAt(0),P=n[O+"side"];if(P.length<8)T[E]="free";else if("x"===O){if("t"===P.charAt(0)===M?(C=0,S=1,j=m):(C=m-1,S=-1,j=-1),p){var N=y[E];for(r=C;r!==j;r+=S)if((s=l[r][N])&&(c=s.indexOf("y"),s.slice(0,c)===E)){T[E]=s.slice(c);break}}else for(r=C;r!==j;r+=S)if(i=n.yaxes[r],-1!==h.cartesian.indexOf(E+i)){T[E]=i;break}}else if("l"===P.charAt(0)?(C=0,S=1,j=v):(C=v-1,S=-1,j=-1),p){var I=y[E];for(r=C;r!==j;r+=S)if((s=l[I][r])&&(c=s.indexOf("y"),s.slice(c)===E)){T[E]=s.slice(0,c);break}}else for(r=C;r!==j;r+=S)if(o=n.xaxes[r],-1!==h.cartesian.indexOf(o+E)){T[E]=o;break}}}}}},{"../../lib":440,"../../lib/regex":457,"../../plot_api/plot_template":478,"../../plots/cartesian/constants":493,"../../plots/domain":513}],365:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants"),a=e("../../plot_api/plot_template").templatedArray;t.exports=a("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../plot_api/plot_template":478,"../../plots/cartesian/constants":493}],366:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib/to_log_range");t.exports=function(e,t,n,o){t=t||{};var i="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(i||s)for(var l,u,c=e._fullLayout.images,f=t._id.charAt(0),d=0;d<c.length;d++)if(l=c[d],u="images["+d+"].",l[f+"ref"]===t._id){var h=l[f],p=l["size"+f],m=null,v=null;if(i){m=a(h,t.range);var g=p/Math.pow(10,m)/2;v=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else m=Math.pow(10,h),v=m*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(m)?r(v)||(v=null):(m=null,v=null),o(u+f,m),o(u+"size"+f,v)}}},{"../../lib/to_log_range":467,"fast-isnumeric":149}],367:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),i=e("./attributes");function s(e,t,n){function o(n,a){return r.coerce(e,t,i,n,a)}var s=o("source"),l=o("visible",!!s);if(!l)return t;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var u={_fullLayout:n},c=["x","y"],f=0;f<2;f++){var d=c[f],h=a.coerceRef(e,t,u,d,"paper");a.coercePosition(t,u,o,h,d,0)}return t}t.exports=function(e,t){var n={name:"images",handleItemDefaults:s};o(e,t,n)}},{"../../lib":440,"../../plots/array_container_defaults":484,"../../plots/cartesian/axes":488,"./attributes":365}],368:[function(e,t,n){"use strict";var r=e("d3"),a=e("../drawing"),o=e("../../plots/cartesian/axes"),i=e("../../constants/xmlns_namespaces");t.exports=function(e){var t,n,s=e._fullLayout,l=[],u={},c=[];for(n=0;n<s.images.length;n++){var f=s.images[n];if(f.visible)if("below"===f.layer&&"paper"!==f.xref&&"paper"!==f.yref){t=f.xref+f.yref;var d=s._plots[t];if(!d){c.push(f);continue}d.mainplot&&(t=d.mainplot.id),u[t]||(u[t]=[]),u[t].push(f)}else"above"===f.layer?l.push(f):c.push(f)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function p(t){var n=r.select(this);if(!this.img||this.img.src!==t.source){n.attr("xmlns",i.svg);var a=new Promise(function(e){var r=new Image;function a(){n.remove(),e()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=a,r.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var r=t.getContext("2d");r.drawImage(this,0,0);var a=t.toDataURL("image/png");n.attr("xlink:href",a),e()},n.on("error",a),r.src=t.source}.bind(this));e._promises.push(a)}}function m(t){var n=r.select(this),i=o.getFromId(e,t.xref),l=o.getFromId(e,t.yref),u=s._size,c=i?Math.abs(i.l2p(t.sizex)-i.l2p(0)):t.sizex*u.w,f=l?Math.abs(l.l2p(t.sizey)-l.l2p(0)):t.sizey*u.h,d=c*h.x[t.xanchor].offset,p=f*h.y[t.yanchor].offset,m=h.x[t.xanchor].sizing+h.y[t.yanchor].sizing,v=(i?i.r2p(t.x)+i._offset:t.x*u.w+u.l)+d,g=(l?l.r2p(t.y)+l._offset:u.h-t.y*u.h+u.t)+p;switch(t.sizing){case"fill":m+=" slice";break;case"stretch":m="none"}n.attr({x:v,y:g,width:c,height:f,preserveAspectRatio:m,opacity:t.opacity});var y=i?i._id:"",b=l?l._id:"",_=y+b;n.call(a.setClipUrl,_?"clip"+s._uid+_:null)}var v=s._imageLowerLayer.selectAll("image").data(c),g=s._imageUpperLayer.selectAll("image").data(l);v.enter().append("image"),g.enter().append("image"),v.exit().remove(),g.exit().remove(),v.each(function(e){p.bind(this)(e),m.bind(this)(e)}),g.each(function(e){p.bind(this)(e),m.bind(this)(e)});var y=Object.keys(s._plots);for(n=0;n<y.length;n++){t=y[n];var b=s._plots[t];if(b.imagelayer){var _=b.imagelayer.selectAll("image").data(u[t]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(e){p.bind(this)(e),m.bind(this)(e)})}}}},{"../../constants/xmlns_namespaces":420,"../../plots/cartesian/axes":488,"../drawing":343,d3:85}],369:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("images"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":498,"./attributes":365,"./convert_coords":366,"./defaults":367,"./draw":368}],370:[function(e,t,n){"use strict";n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3}},{}],371:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes");t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},x:{valType:"number",min:-2,max:3,dflt:1.02,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,dflt:1,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":514,"../color/attributes":317}],372:[function(e,t,n){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,textOffsetX:40}},{}],373:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),o=e("../../plot_api/plot_template"),i=e("./attributes"),s=e("../../plots/layout_attributes"),l=e("./helpers");t.exports=function(e,t,n){for(var u,c,f,d,h=e.legend||{},p=0,m=!1,v="normal",g=0;g<n.length;g++){var y=n[g];y.visible&&((y.showlegend||y._dfltShowLegend)&&(p++,y.showlegend&&(m=!0,(r.traceIs(y,"pie")||!0===y._input.showlegend)&&p++)),(r.traceIs(y,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(y.fill))&&(v=l.isGrouped({traceorder:v})?"grouped+reversed":"reversed"),void 0!==y.legendgroup&&""!==y.legendgroup&&(v=l.isReversed({traceorder:v})?"reversed+grouped":"grouped"))}var b=a.coerce(e,t,s,"showlegend",m&&p>1);if(!1!==b){var _=o.newContainer(t,"legend");if(w("bgcolor",t.paper_bgcolor),w("bordercolor"),w("borderwidth"),a.coerceFont(w,"font",t.font),w("orientation"),"h"===_.orientation){var x=e.xaxis;x&&x.rangeslider&&x.rangeslider.visible?(u=0,f="left",c=1.1,d="bottom"):(u=0,f="left",c=-.1,d="top")}w("traceorder",v),l.isGrouped(t.legend)&&w("tracegroupgap"),w("x",u),w("xanchor",f),w("y",c),w("yanchor",d),a.noneOrAll(h,_,["x","y"])}function w(e,t){return a.coerce(h,_,i,e,t)}}},{"../../lib":440,"../../plot_api/plot_template":478,"../../plots/layout_attributes":522,"../../registry":532,"./attributes":371,"./helpers":377}],374:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../lib"),o=e("../../plots/plots"),i=e("../../registry"),s=e("../../lib/events"),l=e("../dragelement"),u=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),d=e("./handle_click"),h=e("./constants"),p=e("../../constants/interactions"),m=e("../../constants/alignment"),v=m.LINE_SPACING,g=m.FROM_TL,y=m.FROM_BR,b=e("./get_legend_data"),_=e("./style"),x=e("./helpers"),w=e("./anchor_utils"),k=p.DBLCLICKDELAY;function A(e,t,n,r,a){var o=n.data()[0][0].trace,i={event:a,node:n.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(i.group=o._group),"pie"===o.type&&(i.label=n.datum()[0].label);var l=s.triggerHandler(e,"plotly_legendclick",i);if(!1!==l)if(1===r)t._clickTimeout=setTimeout(function(){d(n,e,r)},k);else if(2===r){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0;var u=s.triggerHandler(e,"plotly_legenddoubleclick",i);!1!==u&&d(n,e,r)}}function T(e,t,n){var r=e.data()[0][0],o=t._fullLayout,s=r.trace,l=i.traceIs(s,"pie"),c=s.index,d=l?r.label:s.name,p=t._context.edits.legendText&&!l,m=a.ensureSingle(e,"text","legendtext");function g(n){f.convertToTspans(n,t,function(){!function(e,t){var n=e.data()[0][0];if(n.trace.showlegend){var r,a,o=e.select("g[class*=math-group]"),i=o.node(),s=t._fullLayout.legend.font.size*v;if(i){var l=u.bBox(i);r=l.height,a=l.width,u.setTranslate(o,0,r/4)}else{var c=e.select(".legendtext"),d=f.lineCount(c),p=c.node();r=s*d,a=p?u.bBox(p).width:0;var m=s*(.3+(1-d)/2);f.positionText(c,h.textOffsetX,m)}r=Math.max(r,16)+3,n.height=r,n.width=a}else e.remove()}(e,t)})}m.attr("text-anchor","start").classed("user-select-none",!0).call(u.font,o.legend.font).text(p?M(d,n):d),f.positionText(m,h.textOffsetX,0),p?m.call(f.makeEditable,{gd:t,text:d}).call(g).on("edit",function(e){this.text(M(e,n)).call(g);var o=r.trace._fullInput||{},s={};if(i.hasTransform(o,"groupby")){var l=i.getTransformIndices(o,"groupby"),u=l[l.length-1],f=a.keyedContainer(o,"transforms["+u+"].styles","target","value.name");f.set(r.trace._group,e),s=f.constructUpdate()}else s.name=e;return i.call("restyle",t,s,c)}):g(m)}function M(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function E(e,t){var n,o=1,i=a.ensureSingle(e,"rect","legendtoggle",function(e){e.style("cursor","pointer").attr("pointer-events","all").call(c.fill,"rgba(0,0,0,0)")});i.on("mousedown",function(){(n=(new Date).getTime())-t._legendMouseDownTime<k?o+=1:(o=1,t._legendMouseDownTime=n)}),i.on("mouseup",function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>k&&(o=Math.max(o-1,1)),A(t,n,e,o,r.event)}})}function C(e,t,n){var a=e._fullLayout,o=a.legend,i=o.borderwidth,s=x.isGrouped(o),l=0;if(o._width=0,o._height=0,x.isVertical(o))s&&t.each(function(e,t){u.setTranslate(this,0,t*o.tracegroupgap)}),n.each(function(e){var t=e[0],n=t.height,r=t.width;u.setTranslate(this,i,5+i+o._height+n/2),o._height+=n,o._width=Math.max(o._width,r)}),o._width+=45+2*i,o._height+=10+2*i,s&&(o._height+=(o._lgroupsLength-1)*o.tracegroupgap),l=40;else if(s){for(var c=[o._width],f=t.data(),d=0,h=f.length;d<h;d++){var p=f[d].map(function(e){return e[0].width}),m=40+Math.max.apply(null,p);o._width+=o.tracegroupgap+m,c.push(o._width)}t.each(function(e,t){u.setTranslate(this,c[t],0)}),t.each(function(){var e=r.select(this),t=e.selectAll("g.traces"),n=0;t.each(function(e){var t=e[0],r=t.height;u.setTranslate(this,0,5+i+n+r/2),n+=r}),o._height=Math.max(o._height,n)}),o._height+=10+2*i,o._width+=2*i}else{var v,g=0,y=0,b=0,_=0,w=0,k=o.tracegroupgap||5;n.each(function(e){b=Math.max(40+e[0].width,b),w+=40+e[0].width+k}),v=a._size.w>i+w-k,n.each(function(e){var t=e[0],n=v?40+e[0].width:b;i+_+k+n>a._size.w&&(_=0,g+=y,o._height=o._height+y,y=0),u.setTranslate(this,i+_,5+i+t.height/2+g),o._width+=k+n,o._height=Math.max(o._height,t.height),_+=k+n,y=Math.max(t.height,y)}),o._width+=2*i,o._height+=10+2*i}o._width=Math.ceil(o._width),o._height=Math.ceil(o._height);var A=e._context.edits.legendText||e._context.edits.legendPosition;n.each(function(e){var t=e[0],n=r.select(this).select(".legendtoggle");u.setRect(n,0,-t.height/2,(A?0:o._width)+l,t.height)})}function S(e){var t=e._fullLayout,n=t.legend,r="left";w.isRightAnchor(n)?r="right":w.isCenterAnchor(n)&&(r="center");var a="top";w.isBottomAnchor(n)?a="bottom":w.isMiddleAnchor(n)&&(a="middle"),o.autoMargin(e,"legend",{x:n.x,y:n.y,l:n._width*g[r],r:n._width*y[r],b:n._height*y[a],t:n._height*g[a]})}t.exports=function(e){var t=e._fullLayout,n="legend"+t._uid;if(t._infolayer&&e.calcdata){e._legendMouseDownTime||(e._legendMouseDownTime=0);var s=t.legend,f=t.showlegend&&b(e.calcdata,s),d=t.hiddenlabels||[];if(!t.showlegend||!f.length)return t._infolayer.selectAll(".legend").remove(),t._topdefs.select("#"+n).remove(),void o.autoMargin(e,"legend");for(var p=0,m=0;m<f.length;m++)for(var v=0;v<f[m].length;v++){var x=f[m][v][0],k=x.trace,M=i.traceIs(k,"pie"),j=M?x.label:k.name;p=Math.max(p,j&&j.length||0)}var O=!1,P=a.ensureSingle(t._infolayer,"g","legend",function(e){e.attr("pointer-events","all"),O=!0}),N=a.ensureSingleById(t._topdefs,"clipPath",n,function(e){e.append("rect")}),I=a.ensureSingle(P,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});I.call(c.stroke,s.bordercolor).call(c.fill,s.bgcolor).style("stroke-width",s.borderwidth+"px");var L=a.ensureSingle(P,"g","scrollbox"),D=a.ensureSingle(P,"rect","scrollbar",function(e){e.attr({rx:20,ry:3,width:0,height:0}).call(c.fill,"#808BA4")}),R=L.selectAll("g.groups").data(f);R.enter().append("g").attr("class","groups"),R.exit().remove();var z=R.selectAll("g.traces").data(a.identity);z.enter().append("g").attr("class","traces"),z.exit().remove(),z.call(_,e).style("opacity",function(e){var t=e[0].trace;return i.traceIs(t,"pie")?-1!==d.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){r.select(this).call(T,e,p).call(E,e)}),a.syncOrAsync([o.previousPromises,function(){O&&(C(e,R,z),S(e));var c=t.width,f=t.height;C(e,R,z),s._height>f?function(e){var t=e._fullLayout.legend,n="left";w.isRightAnchor(t)?n="right":w.isCenterAnchor(t)&&(n="center"),o.autoMargin(e,"legend",{x:t.x,y:.5,l:t._width*g[n],r:t._width*y[n],b:0,t:0})}(e):S(e);var d=t._size,p=d.l+d.w*s.x,m=d.t+d.h*(1-s.y);w.isRightAnchor(s)?p-=s._width:w.isCenterAnchor(s)&&(p-=s._width/2),w.isBottomAnchor(s)?m-=s._height:w.isMiddleAnchor(s)&&(m-=s._height/2);var v=s._width,b=d.w;v>b?(p=d.l,v=b):(p+v>c&&(p=c-v),p<0&&(p=0),v=Math.min(c-p,s._width));var _,x,k,T,M=s._height,E=d.h;if(M>E?(m=d.t,M=E):(m+M>f&&(m=f-M),m<0&&(m=0),M=Math.min(f-m,s._height)),u.setTranslate(P,p,m),D.on(".drag",null),P.on("wheel",null),s._height<=M||e._context.staticPlot)I.attr({width:v-s.borderwidth,height:M-s.borderwidth,x:s.borderwidth/2,y:s.borderwidth/2}),u.setTranslate(L,0,0),N.select("rect").attr({width:v-2*s.borderwidth,height:M-2*s.borderwidth,x:s.borderwidth,y:s.borderwidth}),u.setClipUrl(L,n),u.setRect(D,0,0,0,0),delete s._scrollY;else{var j,F,B=Math.max(h.scrollBarMinHeight,M*M/s._height),U=M-B-2*h.scrollBarMargin,H=s._height-M,q=U/H,V=Math.min(s._scrollY||0,H);I.attr({width:v-2*s.borderwidth+h.scrollBarWidth+h.scrollBarMargin,height:M-s.borderwidth,x:s.borderwidth/2,y:s.borderwidth/2}),N.select("rect").attr({width:v-2*s.borderwidth+h.scrollBarWidth+h.scrollBarMargin,height:M-2*s.borderwidth,x:s.borderwidth,y:s.borderwidth+V}),u.setClipUrl(L,n),G(V,B,q),P.on("wheel",function(){G(V=a.constrain(s._scrollY+r.event.deltaY/U*H,0,H),B,q),0!==V&&V!==H&&r.event.preventDefault()});var W=r.behavior.drag().on("dragstart",function(){j=r.event.sourceEvent.clientY,F=V}).on("drag",function(){var e=r.event.sourceEvent;2===e.buttons||e.ctrlKey||G(V=a.constrain((e.clientY-j)/q+F,0,H),B,q)});D.call(W)}function G(t,n,r){s._scrollY=e._fullLayout.legend._scrollY=t,u.setTranslate(L,0,-t),u.setRect(D,v,h.scrollBarMargin+t*r,h.scrollBarWidth,n),N.select("rect").attr({y:s.borderwidth+t})}e._context.edits.legendPosition&&(P.classed("cursor-move",!0),l.init({element:P.node(),gd:e,prepFn:function(){var e=u.getTranslate(P);k=e.x,T=e.y},moveFn:function(e,t){var n=k+e,r=T+t;u.setTranslate(P,n,r),_=l.align(n,0,d.l,d.l+d.w,s.xanchor),x=l.align(r,0,d.t+d.h,d.t,s.yanchor)},doneFn:function(){void 0!==_&&void 0!==x&&i.call("relayout",e,{"legend.x":_,"legend.y":x})},clickFn:function(n,r){var a=t._infolayer.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom});a.size()>0&&A(e,P,a,n,r)}}))}],e)}}},{"../../constants/alignment":416,"../../constants/interactions":418,"../../lib":440,"../../lib/events":430,"../../lib/svg_text_utils":465,"../../plots/plots":524,"../../registry":532,"../color":318,"../dragelement":340,"../drawing":343,"./anchor_utils":370,"./constants":372,"./get_legend_data":375,"./handle_click":376,"./helpers":377,"./style":379,d3:85}],375:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("./helpers");t.exports=function(e,t){var n,o,i={},s=[],l=!1,u={},c=0;function f(e,n){if(""!==e&&a.isGrouped(t))-1===s.indexOf(e)?(s.push(e),l=!0,i[e]=[[n]]):i[e].push([n]);else{var r="~~i"+c;s.push(r),i[r]=[[n]],c++}}for(n=0;n<e.length;n++){var d=e[n],h=d[0],p=h.trace,m=p.legendgroup;if(p.visible&&p.showlegend)if(r.traceIs(p,"pie"))for(u[m]||(u[m]={}),o=0;o<d.length;o++){var v=d[o].label;u[m][v]||(f(m,{label:v,color:d[o].color,i:d[o].i,trace:p}),u[m][v]=!0)}else f(m,h)}if(!s.length)return[];var g,y,b=s.length;if(l&&a.isGrouped(t))for(y=new Array(b),n=0;n<b;n++)g=i[s[n]],y[n]=a.isReversed(t)?g.reverse():g;else{for(y=[new Array(b)],n=0;n<b;n++)g=i[s[n]][0],y[0][a.isReversed(t)?b-n-1:n]=g;b=1}return t._lgroupsLength=b,y}},{"../../registry":532,"./helpers":377}],376:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry"),o=!0;t.exports=function(e,t,n){if(!t._dragged&&!t._editing){var i,s,l,u,c,f=t._fullLayout.hiddenlabels?t._fullLayout.hiddenlabels.slice():[],d=e.data()[0][0],h=t._fullData,p=d.trace,m=p.legendgroup,v={},g=[],y=[],b=[];if(1===n&&o&&t.data&&t._context.showTips?(r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,a.traceIs(p,"pie")){var _=d.label,x=f.indexOf(_);1===n?-1===x?f.push(_):f.splice(x,1):2===n&&(f=[],t.calcdata[0].forEach(function(e){_!==e.label&&f.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===f.length&&-1===x&&(f=[])),a.call("relayout",t,"hiddenlabels",f)}else{var w,k=m&&m.length,A=[];if(k)for(i=0;i<h.length;i++)(w=h[i]).visible&&w.legendgroup===m&&A.push(i);if(1===n){var T;switch(p.visible){case!0:T="legendonly";break;case!1:T=!1;break;case"legendonly":T=!0}if(k)for(i=0;i<h.length;i++)!1!==h[i].visible&&h[i].legendgroup===m&&N(h[i],T);else N(p,T)}else if(2===n){var M,E,C,S=!0;for(i=0;i<h.length;i++)if(!(M=h[i]===p)&&!(E=k&&h[i].legendgroup===m)&&!0===h[i].visible&&!a.traceIs(h[i],"notLegendIsolatable")){S=!1;break}for(i=0;i<h.length;i++)if(!1!==h[i].visible&&!a.traceIs(h[i],"notLegendIsolatable"))switch(p.visible){case"legendonly":N(h[i],!0);break;case!0:C=!!S||"legendonly",M=h[i]===p,E=M||k&&h[i].legendgroup===m,N(h[i],!!E||C)}}for(i=0;i<y.length;i++)if(l=y[i]){var j=l.constructUpdate(),O=Object.keys(j);for(s=0;s<O.length;s++)u=O[s],(v[u]=v[u]||[])[b[i]]=j[u]}for(c=Object.keys(v),i=0;i<c.length;i++)for(u=c[i],s=0;s<g.length;s++)v[u].hasOwnProperty(s)||(v[u][s]=void 0);a.call("restyle",t,v,g)}}function P(e,t,n){var r=g.indexOf(e),a=v[t];return a||(a=v[t]=[]),-1===g.indexOf(e)&&(g.push(e),r=g.length-1),a[r]=n,r}function N(e,t){var n=e._fullInput;if(a.hasTransform(n,"groupby")){var o=y[n.index];if(!o){var i=a.getTransformIndices(n,"groupby"),s=i[i.length-1];o=r.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),y[n.index]=o}var l=o.get(e._group);void 0===l&&(l=!0),!1!==l&&o.set(e._group,t),b[n.index]=P(n.index,"visible",!1!==n.visible)}else{var u=!1!==n.visible&&t;P(n.index,"visible",u)}}}},{"../../lib":440,"../../registry":532}],377:[function(e,t,n){"use strict";n.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},{}],378:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":371,"./defaults":373,"./draw":374,"./style":379}],379:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),o=e("../../lib"),i=e("../drawing"),s=e("../color"),l=e("../../traces/scatter/subtypes"),u=e("../../traces/pie/style_one");t.exports=function(e,t){e.each(function(e){var t=r.select(this),n=o.ensureSingle(t,"g","layers");n.style("opacity",e[0].trace.opacity);var a=n.selectAll("g.legendfill").data([e]);a.enter().append("g").classed("legendfill",!0);var i=n.selectAll("g.legendlines").data([e]);i.enter().append("g").classed("legendlines",!0);var s=n.selectAll("g.legendsymbols").data([e]);s.enter().append("g").classed("legendsymbols",!0),s.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var t=e[0].trace,n=t.marker||{},o=n.line||{},i=r.select(this).select("g.legendpoints").selectAll("path.legendbar").data(a.traceIs(t,"bar")?[e]:[]);i.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),i.exit().remove(),i.each(function(e){var t=r.select(this),a=e[0],i=(a.mlw+1||o.width+1)-1;t.style("stroke-width",i+"px").call(s.fill,a.mc||n.color),i&&t.call(s.stroke,a.mlc||o.color)})}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(a.traceIs(t,"box-violin")&&t.visible?[e]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(){var e=t.line.width,n=r.select(this);n.style("stroke-width",e+"px").call(s.fill,t.fillcolor),e&&s.stroke(n,t.line.color)})}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendpie").data(a.traceIs(t,"pie")&&t.visible?[e]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(u,e[0],t)}).each(function(e){var n=e[0].trace,a=n.visible&&n.fill&&"none"!==n.fill,o=l.hasLines(n),s=n.contours,u=!1,c=!1;if(s){var f=s.coloring;"lines"===f?u=!0:o="none"===f||"heatmap"===f||s.showlines,"constraint"===s.type?a="="!==s._operation:"fill"!==f&&"heatmap"!==f||(c=!0)}var d=l.hasMarkers(n)||l.hasText(n)||!a&&!c?"M5,0":o||u?"M5,-2":"M5,-3",h=r.select(this),p=h.select(".legendfill").selectAll("path").data(a||c?[e]:[]);p.enter().append("path").classed("js-fill",!0),p.exit().remove(),p.attr("d",d+"h30v6h-30z").call(a?i.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+n.uid;i.gradient(e,t,r,"horizontalreversed",n.colorscale,"fill")}});var m=h.select(".legendlines").selectAll("path").data(o||u?[e]:[]);m.enter().append("path").classed("js-line",!0),m.exit().remove(),m.attr("d",d+(u?"l30,0.0001":"h30")).call(o?i.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+n.uid;i.lineGroupStyle(e),i.gradient(e,t,r,"horizontalreversed",n.colorscale,"stroke")}})}).each(function(e){var n,a,s=e[0],u=s.trace,c=l.hasMarkers(u),f=l.hasText(u),d=l.hasLines(u);function h(e,t,n){var r=o.nestedProperty(u,e).get(),a=Array.isArray(r)&&t?t(r):r;if(n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function p(e){return e[0]}if(c||f||d){var m={},v={};if(c){m.mc=h("marker.color",p),m.mx=h("marker.symbol",p),m.mo=h("marker.opacity",o.mean,[.2,1]),m.mlc=h("marker.line.color",p),m.mlw=h("marker.line.width",o.mean,[0,5]),v.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var g=h("marker.size",o.mean,[2,16]);m.ms=g,v.marker.size=g}d&&(v.line={width:h("line.width",p,[0,10])}),f&&(m.tx="Aa",m.tp=h("textposition",p),m.ts=10,m.tc=h("textfont.color",p),m.tf=h("textfont.family",p)),n=[o.minExtend(s,m)],(a=o.minExtend(u,v)).selectedpoints=null}var y=r.select(this).select("g.legendpoints"),b=y.selectAll("path.scatterpts").data(c?n:[]);b.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),b.exit().remove(),b.call(i.pointStyle,a,t),c&&(n[0].mrc=3);var _=y.selectAll("g.pointtext").data(f?n:[]);_.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),_.exit().remove(),_.selectAll("text").call(i.textPointStyle,a,t)}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data("candlestick"===t.type&&t.visible?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each(function(e,n){var a=t[n?"increasing":"decreasing"],o=a.line.width,i=r.select(this);i.style("stroke-width",o+"px").call(s.fill,a.fillcolor),o&&s.stroke(i,a.line.color)})}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data("ohlc"===t.type&&t.visible?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each(function(e,n){var a=t[n?"increasing":"decreasing"],o=a.line.width,l=r.select(this);l.style("fill","none").call(i.dashLine,a.line.dash,o),o&&s.stroke(l,a.line.color)})})}},{"../../lib":440,"../../registry":532,"../../traces/pie/style_one":587,"../../traces/scatter/subtypes":617,"../color":318,"../drawing":343,d3:85}],380:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../plots/plots"),o=e("../../plots/cartesian/axis_ids"),i=e("../../lib"),s=e("../../../build/ploticon"),l=i._,u=t.exports={};function c(e,t){var n,a,i=t.currentTarget,s=i.getAttribute("data-attr"),l=i.getAttribute("data-val")||!0,u=e._fullLayout,c={},f=o.list(e,null,!0),d="on";if("zoom"===s){var h,p="in"===l?.5:2,m=(1+p)/2,v=(1-p)/2;for(a=0;a<f.length;a++)if(!(n=f[a]).fixedrange)if(h=n._name,"auto"===l)c[h+".autorange"]=!0;else if("reset"===l){if(void 0===n._rangeInitial)c[h+".autorange"]=!0;else{var g=n._rangeInitial.slice();c[h+".range[0]"]=g[0],c[h+".range[1]"]=g[1]}void 0!==n._showSpikeInitial&&(c[h+".showspikes"]=n._showSpikeInitial,"on"!==d||n._showSpikeInitial||(d="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[m*y[0]+v*y[1],m*y[1]+v*y[0]];c[h+".range[0]"]=n.l2r(b[0]),c[h+".range[1]"]=n.l2r(b[1])}u._cartesianSpikesEnabled=d}else{if("hovermode"!==s||"x"!==l&&"y"!==l){if("hovermode"===s&&"closest"===l){for(a=0;a<f.length;a++)n=f[a],"on"!==d||n.showspikes||(d="off");u._cartesianSpikesEnabled=d}}else l=u._isHoriz?"y":"x",i.setAttribute("data-val",l);c[s]=l}r.call("relayout",e,c)}function f(e,t){for(var n=t.currentTarget,a=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,i=e._fullLayout._subplots.gl3d,s={},l=a.split("."),u=0;u<i.length;u++)s[i[u]+"."+l[1]]=o;var c="pan"===o?o:"zoom";s.dragmode=c,r.call("relayout",e,s)}function d(e,t){for(var n=t.currentTarget,a=n.getAttribute("data-attr"),o=e._fullLayout,s=o._subplots.gl3d,l={},u=0;u<s.length;u++){var c=s[u],f=c+".camera",d=o[c]._scene;"resetDefault"===a?l[f]=null:"resetLastSave"===a&&(l[f]=i.extendDeep({},d.cameraInitial))}r.call("relayout",e,l)}function h(e,t){var n=t.currentTarget,a=n._previousVal||!1,o=e.layout,s=e._fullLayout,l=s._subplots.gl3d,u=["xaxis","yaxis","zaxis"],c=["showspikes","spikesides","spikethickness","spikecolor"],f={},d={},h={};if(a)h=i.extendDeep(o,a),n._previousVal=null;else{h={"allaxes.showspikes":!1};for(var p=0;p<l.length;p++){var m=l[p],v=s[m],g=f[m]={};g.hovermode=v.hovermode,h[m+".hovermode"]=!1;for(var y=0;y<3;y++){var b=u[y];d=g[b]={};for(var _=0;_<c.length;_++){var x=c[_];d[x]=v[b][x]}}}n._previousVal=i.extendDeep({},f)}r.call("relayout",e,h)}function p(e,t){for(var n=t.currentTarget,a=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,i=e._fullLayout,s=i._subplots.geo,l=0;l<s.length;l++){var u=s[l],c=i[u];if("zoom"===a){var f=c.projection.scale,d="in"===o?2*f:.5*f;r.call("relayout",e,u+".projection.scale",d)}else"reset"===a&&v(e,"geo")}}function m(e){var t,n=e._fullLayout;t=n._has("cartesian")?n._isHoriz?"y":"x":"closest";var a=!e._fullLayout.hovermode&&t;r.call("relayout",e,"hovermode",a)}function v(e,t){for(var n=e._fullLayout,a=n._subplots[t],o={},i=0;i<a.length;i++)for(var s=a[i],l=n[s]._subplot,u=l.viewInitial,c=Object.keys(u),f=0;f<c.length;f++){var d=c[f];o[s+"."+d]=u[d]}r.call("relayout",e,o)}u.toImage={name:"toImage",title:function(e){var t=e._context.toImageButtonOptions||{},n=t.format||"png";return l(e,"png"===n?"Download plot as a png":"Download plot")},icon:s.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};i.notifier(l(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&i.isIE()&&(i.notifier(l(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach(function(e){t[e]&&(n[e]=t[e])}),r.call("downloadImage",e,n).then(function(t){i.notifier(l(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){i.notifier(l(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return l(e,"Edit in Chart Studio")},icon:s.disk,click:function(e){a.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return l(e,"Zoom")},attr:"dragmode",val:"zoom",icon:s.zoombox,click:c},u.pan2d={name:"pan2d",title:function(e){return l(e,"Pan")},attr:"dragmode",val:"pan",icon:s.pan,click:c},u.select2d={name:"select2d",title:function(e){return l(e,"Box Select")},attr:"dragmode",val:"select",icon:s.selectbox,click:c},u.lasso2d={name:"lasso2d",title:function(e){return l(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:s.lasso,click:c},u.zoomIn2d={name:"zoomIn2d",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:c},u.zoomOut2d={name:"zoomOut2d",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:c},u.autoScale2d={name:"autoScale2d",title:function(e){return l(e,"Autoscale")},attr:"zoom",val:"auto",icon:s.autoscale,click:c},u.resetScale2d={name:"resetScale2d",title:function(e){return l(e,"Reset axes")},attr:"zoom",val:"reset",icon:s.home,click:c},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return l(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:c},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return l(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:s.tooltip_compare,gravity:"ne",click:c},u.zoom3d={name:"zoom3d",title:function(e){return l(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:s.zoombox,click:f},u.pan3d={name:"pan3d",title:function(e){return l(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:s.pan,click:f},u.orbitRotation={name:"orbitRotation",title:function(e){return l(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:s["3d_rotate"],click:f},u.tableRotation={name:"tableRotation",title:function(e){return l(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:s["z-axis"],click:f},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return l(e,"Reset camera to default")},attr:"resetDefault",icon:s.home,click:d},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return l(e,"Reset camera to last save")},attr:"resetLastSave",icon:s.movie,click:d},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:h},u.zoomInGeo={name:"zoomInGeo",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:p},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:p},u.resetGeo={name:"resetGeo",title:function(e){return l(e,"Reset")},attr:"reset",val:null,icon:s.autoscale,click:p},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:m},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:m},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:m},u.toggleHover={name:"toggleHover",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:function(e,t){m(e),h(e,t)}},u.resetViews={name:"resetViews",title:function(e){return l(e,"Reset views")},icon:s.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),c(e,t),n.setAttribute("data-attr","resetLastSave"),d(e,t),v(e,"geo"),v(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return l(e,"Toggle Spike Lines")},icon:s.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout;t._cartesianSpikesEnabled="on"===t._cartesianSpikesEnabled?"off":"on";var n=function(e){for(var t,n,r=e._fullLayout,a=o.list(e,null,!0),i={},s=0;s<a.length;s++)t=a[s],n=t._name,i[n+".showspikes"]="on"===r._cartesianSpikesEnabled||t._showSpikeInitial;return i}(e);r.call("relayout",e,n)}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return l(e,"Reset view")},attr:"reset",icon:s.home,click:function(e){v(e,"mapbox")}}},{"../../../build/ploticon":2,"../../lib":440,"../../plots/cartesian/axis_ids":491,"../../plots/plots":524,"../../registry":532}],381:[function(e,t,n){"use strict";n.manage=e("./manage")},{"./manage":382}],382:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),a=e("../../traces/scatter/subtypes"),o=e("../../registry"),i=e("./modebar"),s=e("./buttons");t.exports=function(e){var t=e._fullLayout,n=e._context,l=t._modeBar;if(n.displayModeBar){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u,c=n.modeBarButtons;u=Array.isArray(c)&&c.length?function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var a=n[r];if("string"==typeof a){if(void 0===s[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=s[a]}}return e}(c):function(e,t,n){var i=e._fullLayout,l=e._fullData,u=i._has("cartesian"),c=i._has("gl3d"),f=i._has("geo"),d=i._has("pie"),h=i._has("gl2d"),p=i._has("ternary"),m=i._has("mapbox"),v=i._has("polar"),g=function(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}(i),y=[];function b(e){if(e.length){for(var n=[],r=0;r<e.length;r++){var a=e[r];-1===t.indexOf(a)&&n.push(s[a])}y.push(n)}}b(["toImage","sendDataToCloud"]);var _=[],x=[],w=[],k=[];return(u||h||d||p)+f+c+m+v>1?(x=["toggleHover"],w=["resetViews"]):f?(_=["zoomInGeo","zoomOutGeo"],x=["hoverClosestGeo"],w=["resetGeo"]):c?(x=["hoverClosest3d"],w=["resetCameraDefault3d","resetCameraLastSave3d"]):m?(x=["toggleHover"],w=["resetViewMapbox"]):x=h?["hoverClosestGl2d"]:d?["hoverClosestPie"]:["toggleHover"],u&&(x=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),!u&&!h||g||(_=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==w[0]&&(w=["resetScale2d"])),c?k=["zoom3d","pan3d","orbitRotation","tableRotation"]:(u||h)&&!g||p?k=["zoom2d","pan2d"]:m||f?k=["pan2d"]:v&&(k=["zoom2d"]),function(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(o.traceIs(r,"scatter-like")?(a.hasMarkers(r)||a.hasText(r))&&(t=!0):o.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t}(l)&&k.push("select2d","lasso2d"),b(k),b(_.concat(w)),b(x),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}(y,n)}(e,n.modeBarButtonsToRemove,n.modeBarButtonsToAdd),l?l.update(e,u):t._modeBar=i(e,u)}else l&&(l.destroy(),delete t._modeBar)}},{"../../plots/cartesian/axis_ids":491,"../../registry":532,"../../traces/scatter/subtypes":617,"./buttons":380,"./modebar":383}],383:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("../../lib"),i=e("../../../build/ploticon");function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var l=s.prototype;l.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context;"hover"===n.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var r=!this.hasButtons(t),a=this.hasLogo!==n.displaylogo,o=this.locale!==n.locale;this.locale=n.locale,(r||a||o)&&(this.removeAllButtons(),this.updateButtons(t),n.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},l.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var n=t.createGroup();e.forEach(function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var a=t.createButton(e);t.buttonElements.push(a),n.appendChild(a)}),t.element.appendChild(n)})},l.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},l.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var a=e.title;void 0===a?a=e.name:"function"==typeof a&&(a=a(this.graphInfo)),(a||0===a)&&n.setAttribute("data-title",a),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var o=e.val;void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),n.setAttribute("data-val",o));var s=e.click;if("function"!=typeof s)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var l=e.icon;return"function"==typeof l?n.appendChild(l()):n.appendChild(this.createIcon(l||i.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},l.createIcon=function(e){var t=a(e.height)?Number(e.height):e.ascent-e.descent,n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg"),o=document.createElementNS(n,"path");return r.setAttribute("height","1em"),r.setAttribute("width",e.width/t+"em"),r.setAttribute("viewBox",[0,0,e.width,t].join(" ")),o.setAttribute("d",e.path),e.transform?o.setAttribute("transform",e.transform):void 0!==e.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),r.appendChild(o),r},l.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var a=e.getAttribute("data-val")||!0,i=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),l=r.select(e);if(s)i===n&&l.classed("active",!l.classed("active"));else{var u=null===i?i:o.nestedProperty(t,i).get();l.classed("active",u===a)}})},l.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},l.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(i.plotlylogo)),e.appendChild(t),e},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){o.removeElement(this.container.querySelector(".modebar"))},t.exports=function(e,t){var n=e._fullLayout,a=new s({graphInfo:e,container:n._paperdiv.node(),buttons:t});return n._privateplot&&r.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},{"../../../build/ploticon":2,"../../lib":440,d3:85,"fast-isnumeric":149}],384:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes"),o=e("../../plot_api/plot_template").templatedArray,i=o("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:i,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:a.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":478,"../../plots/font_attributes":514,"../color/attributes":317}],385:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],386:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../color"),o=e("../../plot_api/plot_template"),i=e("../../plots/array_container_defaults"),s=e("./attributes"),l=e("./constants");function u(e,t,n,a){var o=a.calendar;function i(n,a){return r.coerce(e,t,s.buttons,n,a)}var l=i("visible");if(l){var u=i("step");"all"!==u&&(!o||"gregorian"===o||"month"!==u&&"year"!==u?i("stepmode"):t.stepmode="backward",i("count")),i("label")}}t.exports=function(e,t,n,c,f){var d=e.rangeselector||{},h=o.newContainer(t,"rangeselector");function p(e,t){return r.coerce(d,h,s,e,t)}var m=i(d,h,{name:"buttons",handleItemDefaults:u,calendar:f}),v=p("visible",m.length>0);if(v){var g=function(e,t,n){for(var r=n.filter(function(n){return t[n].anchor===e._id}),a=0,o=0;o<r.length;o++){var i=t[r[o]].domain;i&&(a=Math.max(i[1],a))}return[e.domain[0],a+l.yPad]}(t,n,c);p("x",g[0]),p("y",g[1]),r.noneOrAll(e,t,["x","y"]),p("xanchor"),p("yanchor"),r.coerceFont(p,"font",n.font);var y=p("bgcolor");p("activecolor",a.contrast(y,l.lightAmount,l.darkAmount)),p("bordercolor"),p("borderwidth")}}},{"../../lib":440,"../../plot_api/plot_template":478,"../../plots/array_container_defaults":484,"../color":318,"./attributes":384,"./constants":385}],387:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),o=e("../../plots/plots"),i=e("../color"),s=e("../drawing"),l=e("../../lib"),u=e("../../lib/svg_text_utils"),c=e("../../plots/cartesian/axis_ids"),f=e("../legend/anchor_utils"),d=e("../../constants/alignment"),h=d.LINE_SPACING,p=d.FROM_TL,m=d.FROM_BR,v=e("./constants"),g=e("./get_update_object");function y(e){return e._id}function b(e,t,n){var r=l.ensureSingle(e,"rect","selector-rect",function(e){e.attr("shape-rendering","crispEdges")});r.attr({rx:v.rx,ry:v.ry}),r.call(i.stroke,t.bordercolor).call(i.fill,function(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}(t,n)).style("stroke-width",t.borderwidth+"px")}function _(e,t,n,r){var a=l.ensureSingle(e,"text","selector-text",function(e){e.classed("user-select-none",!0).attr("text-anchor","middle")});a.call(s.font,t.font).text(function(e){return e.label?e.label:"all"===e.step?"all":e.count+e.step.charAt(0)}(n)).call(function(e){u.convertToTspans(e,r)})}t.exports=function(e){var t=e._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(function(e){for(var t=c.list(e,"x",!0),n=[],r=0;r<t.length;r++){var a=t[r];a.rangeselector&&a.rangeselector.visible&&n.push(a)}return n}(e),y);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(t){var n=r.select(this),i=t,c=i.rangeselector,d=n.selectAll("g.button").data(l.filterVisible(c.buttons));d.enter().append("g").classed("button",!0),d.exit().remove(),d.each(function(t){var n=r.select(this),o=g(i,t);t._isActive=function(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}(i,t,o),n.call(b,c,t),n.call(_,c,t,e),n.on("click",function(){e._dragged||a.call("relayout",e,o)}),n.on("mouseover",function(){t._isHovered=!0,n.call(b,c,t)}),n.on("mouseout",function(){t._isHovered=!1,n.call(b,c,t)})}),function(e,t,n,a,i){var l=0,c=0,d=n.borderwidth;t.each(function(){var e=r.select(this),t=e.select(".selector-text"),a=n.font.size*h,o=Math.max(a*u.lineCount(t),16)+3;c=Math.max(c,o)}),t.each(function(){var e=r.select(this),t=e.select(".selector-rect"),a=e.select(".selector-text"),o=a.node()&&s.bBox(a.node()).width,i=n.font.size*h,f=u.lineCount(a),p=Math.max(o+10,v.minButtonWidth);e.attr("transform","translate("+(d+l)+","+d+")"),t.attr({x:0,y:0,width:p,height:c}),u.positionText(a,p/2,c/2-(f-1)*i/2+3),l+=p+5});var g=e._fullLayout._size,y=g.l+g.w*n.x,b=g.t+g.h*(1-n.y),_="left";f.isRightAnchor(n)&&(y-=l,_="right"),f.isCenterAnchor(n)&&(y-=l/2,_="center");var x="top";f.isBottomAnchor(n)&&(b-=c,x="bottom"),f.isMiddleAnchor(n)&&(b-=c/2,x="middle"),l=Math.ceil(l),c=Math.ceil(c),y=Math.round(y),b=Math.round(b),o.autoMargin(e,a+"-range-selector",{x:n.x,y:n.y,l:l*p[_],r:l*m[_],b:c*m[x],t:c*p[x]}),i.attr("transform","translate("+y+","+b+")")}(e,d,c,i._name,n)})}},{"../../constants/alignment":416,"../../lib":440,"../../lib/svg_text_utils":465,"../../plots/cartesian/axis_ids":491,"../../plots/plots":524,"../../registry":532,"../color":318,"../drawing":343,"../legend/anchor_utils":370,"./constants":385,"./get_update_object":388,d3:85}],388:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t){var n=e._name,a={};if("all"===t.step)a[n+".autorange"]=!0;else{var o=function(e,t){var n,a=e.range,o=new Date(e.r2l(a[1])),i=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+r.time[i].utc.offset(o,-s));break;case"todate":var l=r.time[i].utc.offset(o,-s);n=e.l2r(+r.time[i].utc.ceil(l))}var u=a[1];return[n,u]}(e,t);a[n+".range[0]"]=o[0],a[n+".range[1]"]=o[1]}return a}},{d3:85}],389:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":384,"./defaults":386,"./draw":387}],390:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":317}],391:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids").list,a=e("../../plots/cartesian/autorange").getAutoRange,o=e("./constants");t.exports=function(e){for(var t=r(e,"x",!0),n=0;n<t.length;n++){var i=t[n],s=i[o.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=a(e,i))}}},{"../../plots/cartesian/autorange":487,"../../plots/cartesian/axis_ids":491,"./constants":392}],392:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],393:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plot_api/plot_template"),o=e("../../plots/cartesian/axis_ids"),i=e("./attributes"),s=e("./oppaxis_attributes");t.exports=function(e,t,n){var l=e[n],u=t[n];if(l.rangeslider||t._requestRangeslider[u._id]){r.isPlainObject(l.rangeslider)||(l.rangeslider={});var c,f,d=l.rangeslider,h=a.newContainer(u,"rangeslider"),p=k("visible");if(p){k("bgcolor",t.plot_bgcolor),k("bordercolor"),k("borderwidth"),k("thickness"),k("autorange",!u.isValidRange(d.range)),k("range");var m=t._subplots;if(m)for(var v=m.cartesian.filter(function(e){return e.substr(0,e.indexOf("y"))===o.name2id(n)}).map(function(e){return e.substr(e.indexOf("y"),e.length)}),g=r.simpleMap(v,o.id2name),y=0;y<g.length;y++){var b=g[y];c=d[b]||{},f=a.newContainer(h,b,"yaxis");var _,x=t[b];c.range&&x.isValidRange(c.range)&&(_="fixed");var w=A("rangemode",_);"match"!==w&&A("range",x.range.slice())}h._input=d}}function k(e,t){return r.coerce(d,h,i,e,t)}function A(e,t){return r.coerce(c,f,s,e,t)}}},{"../../lib":440,"../../plot_api/plot_template":478,"../../plots/cartesian/axis_ids":491,"./attributes":390,"./oppaxis_attributes":396}],394:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),o=e("../../plots/plots"),i=e("../../lib"),s=e("../drawing"),l=e("../color"),u=e("../titles"),c=e("../../plots/cartesian"),f=e("../../plots/cartesian/axes"),d=e("../dragelement"),h=e("../../lib/setcursor"),p=e("./constants");function m(e,t,n,r){var a=i.ensureSingle(e,"rect",p.bgClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,l=-r._offsetShift,u=s.crispRound(t,r.borderwidth);a.attr({width:r._width+o,height:r._height+o,transform:"translate("+l+","+l+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":u})}function v(e,t,n,r){var a=t._fullLayout,o=i.ensureSingleById(a._topdefs,"clipPath",r._clipId,function(e){e.append("rect").attr({x:0,y:0})});o.select("rect").attr({width:r._width,height:r._height})}function g(e,t,n,a){var l,u=f.getSubplots(t,n),d=t.calcdata,h=e.selectAll("g."+p.rangePlotClassName).data(u,i.identity);h.enter().append("g").attr("class",function(e){return p.rangePlotClassName+" "+e}).call(s.setClipUrl,a._clipId),h.order(),h.exit().remove(),h.each(function(e,i){var s=r.select(this),u=0===i,h=f.getFromId(t,e,"y"),p=h._name,m=a[p],v={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:a.range.slice(),calendar:n.calendar},width:a._width,height:a._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};v.layout[p]={type:h.type,domain:[0,1],range:"match"!==m.rangemode?m.range.slice():h.range.slice(),calendar:h.calendar},o.supplyDefaults(v);var g=v._fullLayout.xaxis,y=v._fullLayout[p],b={id:e,plotgroup:s,xaxis:g,yaxis:y,isRangePlot:!0};u?l=b:(b.mainplot="xy",b.mainplotinfo=l),c.rangePlot(t,b,function(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r],o=a[0].trace;o.xaxis+o.yaxis===t&&n.push(a)}return n}(d,e))})}function y(e,t,n,r,a){var o=i.ensureSingle(e,"rect",p.maskMinClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})});o.attr("height",r._height).call(l.fill,p.maskColor);var s=i.ensureSingle(e,"rect",p.maskMaxClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});if(s.attr("height",r._height).call(l.fill,p.maskColor),"match"!==a.rangemode){var u=i.ensureSingle(e,"rect",p.maskMinOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});u.attr("width",r._width).call(l.fill,p.maskOppAxisColor);var c=i.ensureSingle(e,"rect",p.maskMaxOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});c.attr("width",r._width).style("border-top",p.maskOppBorder).call(l.fill,p.maskOppAxisColor)}}function b(e,t,n,r){if(!t._context.staticPlot){var a=i.ensureSingle(e,"rect",p.slideBoxClassName,function(e){e.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})});a.attr({height:r._height,fill:p.slideBoxFill})}}function _(e,t,n,r){var a=i.ensureSingle(e,"g",p.grabberMinClassName),o=i.ensureSingle(e,"g",p.grabberMaxClassName),s={x:0,width:p.handleWidth,rx:p.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},u={y:Math.round(r._height/4),height:Math.round(r._height/2)},c=i.ensureSingle(a,"rect",p.handleMinClassName,function(e){e.attr(s)});c.attr(u);var f=i.ensureSingle(o,"rect",p.handleMaxClassName,function(e){e.attr(s)});if(f.attr(u),!t._context.staticPlot){var d={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:p.grabAreaCursor},h=i.ensureSingle(a,"rect",p.grabAreaMinClassName,function(e){e.attr(d)});h.attr("height",r._height);var m=i.ensureSingle(o,"rect",p.grabAreaMaxClassName,function(e){e.attr(d)});m.attr("height",r._height)}}t.exports=function(e){var t=e._fullLayout,n=function(e){var t=f.list({_fullLayout:e},"x",!0),n=p.name,r=[];if(e._has("gl2d"))return r;for(var a=0;a<t.length;a++){var o=t[a];o[n]&&o[n].visible&&r.push(o)}return r}(t),s=t._infolayer.selectAll("g."+p.containerClassName).data(n,function(e){return e._name});s.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),s.exit().each(function(e){var n=e[p.name];t._topdefs.select("#"+n._clipId).remove()}).remove(),0!==n.length&&s.each(function(n){var s=r.select(this),l=n[p.name],c=t[f.id2name(n.anchor)],x=l[f.id2name(n.anchor)];if(l.range){var w=l.range,k=n.range;w[0]=n.l2r(Math.min(n.r2l(w[0]),n.r2l(k[0]))),w[1]=n.l2r(Math.max(n.r2l(w[1]),n.r2l(k[1]))),l._input.range=w.slice()}n.cleanRange("rangeslider.range");for(var A=t.margin,T=t._size,M=n.domain,E=(n._boundingBox||{}).height||0,C=1/0,S=f.getSubplots(e,n),j=0;j<S.length;j++){var O=f.getFromId(e,S[j].substr(S[j].indexOf("y")));C=Math.min(C,O.domain[0])}l._id=p.name+n._id,l._clipId=l._id+"-"+t._uid,l._width=T.w*(M[1]-M[0]),l._height=(t.height-A.b-A.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2);var P=Math.round(A.l+T.w*M[0]),N=Math.round(T.t+T.h*(1-C)+E+l._offsetShift+p.extraPad);s.attr("transform","translate("+P+","+N+")");var I=n.r2l(l.range[0]),L=n.r2l(l.range[1]),D=L-I;if(l.p2d=function(e){return e/l._width*D+I},l.d2p=function(e){return(e-I)/D*l._width},l._rl=[I,L],"match"!==x.rangemode){var R=c.r2l(x.range[0]),z=c.r2l(x.range[1]),F=z-R;l.d2pOppAxis=function(e){return(e-R)/F*l._height}}s.call(m,e,n,l).call(v,e,n,l).call(g,e,n,l).call(y,e,n,l,x).call(b,e,n,l).call(_,e,n,l),function(e,t,n,o){var s=e.select("rect."+p.slideBoxClassName).node(),l=e.select("rect."+p.grabAreaMinClassName).node(),u=e.select("rect."+p.grabAreaMaxClassName).node();e.on("mousedown",function(){var c=r.event,f=c.target,p=c.clientX,m=p-e.node().getBoundingClientRect().left,v=o.d2p(n._rl[0]),g=o.d2p(n._rl[1]),y=d.coverSlip();function b(e){var c,d,b,_=+e.clientX-p;switch(f){case s:b="ew-resize",c=v+_,d=g+_;break;case l:b="col-resize",c=v+_,d=g;break;case u:b="col-resize",c=v,d=g+_;break;default:b="ew-resize",c=m,d=m+_}if(d<c){var x=d;d=c,c=x}o._pixelMin=c,o._pixelMax=d,h(r.select(y),b),function(e,t,n,r){function o(e){return n.l2r(i.constrain(e,r._rl[0],r._rl[1]))}var s=o(r.p2d(r._pixelMin)),l=o(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){a.call("relayout",t,n._name+".range",[s,l])})}(0,t,n,o)}y.addEventListener("mousemove",b),y.addEventListener("mouseup",function e(){y.removeEventListener("mousemove",b),y.removeEventListener("mouseup",e),i.removeElement(y)})})}(s,e,n,l),function(e,t,n,r,a,o){var s=p.handleWidth/2;function l(e){return i.constrain(e,0,r._width)}function u(e){return i.constrain(e,0,r._height)}function c(e){return i.constrain(e,-s,r._width+s)}var f=l(r.d2p(n._rl[0])),d=l(r.d2p(n._rl[1]));if(e.select("rect."+p.slideBoxClassName).attr("x",f).attr("width",d-f),e.select("rect."+p.maskMinClassName).attr("width",f),e.select("rect."+p.maskMaxClassName).attr("x",d).attr("width",r._width-d),"match"!==o.rangemode){var h=r._height-u(r.d2pOppAxis(a._rl[1])),m=r._height-u(r.d2pOppAxis(a._rl[0]));e.select("rect."+p.maskMinOppAxisClassName).attr("x",f).attr("height",h).attr("width",d-f),e.select("rect."+p.maskMaxOppAxisClassName).attr("x",f).attr("y",m).attr("height",r._height-m).attr("width",d-f),e.select("rect."+p.slideBoxClassName).attr("y",h).attr("height",m-h)}var v=Math.round(c(f-s))-.5,g=Math.round(c(d-s))+.5;e.select("g."+p.grabberMinClassName).attr("transform","translate("+v+",0.5)"),e.select("g."+p.grabberMaxClassName).attr("transform","translate("+g+",0.5)")}(s,0,n,l,c,x),"bottom"===n.side&&u.draw(e,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:N+l._height+l._offsetShift+10+1.5*n.titlefont.size,"text-anchor":"middle"}}),o.autoMargin(e,l._id,{x:M[0],y:C,l:0,r:0,t:0,b:l._height+A.b+E,pad:p.extraPad+2*l._offsetShift})})}},{"../../lib":440,"../../lib/setcursor":461,"../../plots/cartesian":499,"../../plots/cartesian/axes":488,"../../plots/plots":524,"../../registry":532,"../color":318,"../dragelement":340,"../drawing":343,"../titles":409,"./constants":392,d3:85}],395:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes"),o=e("./oppaxis_attributes");t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},a,{yaxis:o})}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw")}},{"../../lib":440,"./attributes":390,"./calc_autorange":391,"./defaults":393,"./draw":394,"./oppaxis_attributes":396}],396:[function(e,t,n){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],397:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),a=e("../../traces/scatter/attributes").line,o=e("../drawing/attributes").dash,i=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray;t.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:i({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:i({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:i({},a.color,{editType:"arraydraw"}),width:i({},a.width,{editType:"calc+arraydraw"}),dash:i({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},editType:"arraydraw"})},{"../../lib/extend":431,"../../plot_api/plot_template":478,"../../traces/scatter/attributes":593,"../annotations/attributes":303,"../drawing/attributes":342}],398:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("./constants"),i=e("./helpers");function s(e){return u(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function l(e){return u(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function u(e,t,n,a,s,l){var u=e/2,c=l;if("pixel"===t){var f=s?i.extractPathCoords(s,l?o.paramIsY:o.paramIsX):[n,a],d=r.aggNums(Math.max,null,f),h=r.aggNums(Math.min,null,f),p=h<0?Math.abs(h)+u:u,m=d>0?d+u:u;return{ppad:u,ppadplus:c?p:m,ppadminus:c?m:p}}return{ppad:u}}function c(e,t,n,r,a){var s="category"===e.type?e.r2c:e.d2c;if(void 0!==t)return[s(t),s(n)];if(r){var l,u,c,f,d,h=1/0,p=-1/0,m=r.match(o.segmentRE);for("date"===e.type&&(s=i.decodeDate(s)),l=0;l<m.length;l++)u=m[l],void 0!==(c=a[u.charAt(0)].drawn)&&(!(f=m[l].substr(1).match(o.paramRE))||f.length<c||((d=s(f[c]))<h&&(h=d),d>p&&(p=d)));return p>=h?[h,p]:void 0}}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var i=0;i<n.length;i++){var u,f,d=n[i];if(d._extremes={},"paper"!==d.xref){var h="pixel"===d.xsizemode?d.xanchor:d.x0,p="pixel"===d.xsizemode?d.xanchor:d.x1;u=a.getFromId(e,d.xref),(f=c(u,h,p,d.path,o.paramIsX))&&(d._extremes[u._id]=a.findExtremes(u,f,s(d)))}if("paper"!==d.yref){var m="pixel"===d.ysizemode?d.yanchor:d.y0,v="pixel"===d.ysizemode?d.yanchor:d.y1;u=a.getFromId(e,d.yref),(f=c(u,m,v,d.path,o.paramIsY))&&(d._extremes[u._id]=a.findExtremes(u,f,l(d)))}}}},{"../../lib":440,"../../plots/cartesian/axes":488,"./constants":399,"./helpers":402}],399:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],400:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),i=e("./attributes"),s=e("./helpers");function l(e,t,n){function o(n,a){return r.coerce(e,t,i,n,a)}var l=o("visible");if(l){o("layer"),o("opacity"),o("fillcolor"),o("line.color"),o("line.width"),o("line.dash");for(var u=e.path?"path":"rect",c=o("type",u),f=o("xsizemode"),d=o("ysizemode"),h=["x","y"],p=0;p<2;p++){var m,v,g,y=h[p],b=y+"anchor",_="x"===y?f:d,x={_fullLayout:n},w=a.coerceRef(e,t,x,y,"","paper");if("paper"!==w?((m=a.getFromId(x,w))._shapeIndices.push(t._index),g=s.rangeToShapePosition(m),v=s.shapePositionToRange(m)):v=g=r.identity,"path"!==c){var k=y+"0",A=y+"1",T=e[k],M=e[A];e[k]=v(e[k],!0),e[A]=v(e[A],!0),"pixel"===_?(o(k,0),o(A,10)):(a.coercePosition(t,x,o,w,k,.25),a.coercePosition(t,x,o,w,A,.75)),t[k]=g(t[k]),t[A]=g(t[A]),e[k]=T,e[A]=M}if("pixel"===_){var E=e[b];e[b]=v(e[b],!0),a.coercePosition(t,x,o,w,b,.25),t[b]=g(t[b]),e[b]=E}}"path"===c?o("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"])}}t.exports=function(e,t){o(e,t,{name:"shapes",handleItemDefaults:l})}},{"../../lib":440,"../../plots/array_container_defaults":484,"../../plots/cartesian/axes":488,"./attributes":397,"./helpers":402}],401:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("../color"),s=e("../drawing"),l=e("../../plot_api/plot_template").arrayEditor,u=e("../dragelement"),c=e("../../lib/setcursor"),f=e("./constants"),d=e("./helpers");function h(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=e._fullLayout.shapes[t]||{};if(n._input&&!1!==n.visible)if("below"!==n.layer)y(e._fullLayout._shapeUpperLayer);else if("paper"===n.xref||"paper"===n.yref)y(e._fullLayout._shapeLowerLayer);else{var h=e._fullLayout._plots[n.xref+n.yref];if(h){var g=h.mainplotinfo||h;y(g.shapelayer)}else y(e._fullLayout._shapeLowerLayer)}function y(h){var g={"data-index":t,"fill-rule":"evenodd",d:m(e,n)},y=n.line.width?n.line.color:"rgba(0,0,0,0)",b=h.append("path").attr(g).style("opacity",n.opacity).call(i.stroke,y).call(i.fill,n.fillcolor).call(s.dashLine,n.line.dash,n.line.width);p(b,e,n),e._context.edits.shapePosition&&function(e,t,n,i,h){var g,y,b,_,x,w,k,A,T,M,E,C,S,j,O,P,N=10,I=10,L="pixel"===n.xsizemode,D="pixel"===n.ysizemode,R="line"===n.type,z="path"===n.type,F=l(e.layout,"shapes",n),B=F.modifyItem,U=o.getFromId(e,n.xref),H=o.getFromId(e,n.yref),q=d.getDataToPixel(e,U),V=d.getDataToPixel(e,H,!0),W=d.getPixelToData(e,U),G=d.getPixelToData(e,H,!0),X=R?function(){var e=Math.max(n.line.width,10),r=h.append("g").attr("data-index",i);r.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var a={"fill-opacity":"0"},o=e/2>10?e/2:10;return r.append("circle").attr({"data-line-point":"start-point",cx:L?q(n.xanchor)+n.x0:q(n.x0),cy:D?V(n.yanchor)-n.y0:V(n.y0),r:o}).style(a).classed("cursor-grab",!0),r.append("circle").attr({"data-line-point":"end-point",cx:L?q(n.xanchor)+n.x1:q(n.x1),cy:D?V(n.yanchor)-n.y1:V(n.y1),r:o}).style(a).classed("cursor-grab",!0),r}():t,Y={element:X.node(),gd:e,prepFn:function(r){L&&(x=q(n.xanchor)),D&&(w=V(n.yanchor)),"path"===n.type?O=n.path:(g=L?n.x0:q(n.x0),y=D?n.y0:V(n.y0),b=L?n.x1:q(n.x1),_=D?n.y1:V(n.y1)),g<b?(T=g,S="x0",M=b,j="x1"):(T=b,S="x1",M=g,j="x0"),!D&&y<_||D&&y>_?(k=y,E="y0",A=_,C="y1"):(k=_,E="y1",A=y,C="y0"),K(r),Q(h,n),function(e,t,n){var r=t.xref,a=t.yref,i=o.getFromId(n,r),l=o.getFromId(n,a),u="";"paper"===r||i.autorange||(u+=r),"paper"===a||l.autorange||(u+=a),e.call(s.setClipUrl,u?"clip"+n._fullLayout._uid+u:null)}(t,n,e),Y.moveFn="move"===P?Z:J},doneFn:function(){c(t),$(h),p(t,e,n),r.call("relayout",e,F.getUpdateObj())},clickFn:function(){$(h)}};function K(e){if(R)P="path"===e.target.tagName?"move":"start-point"===e.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=Y.element.getBoundingClientRect(),r=n.right-n.left,a=n.bottom-n.top,o=e.clientX-n.left,i=e.clientY-n.top,s=!z&&r>N&&a>I&&!e.shiftKey?u.getCursor(o/r,1-i/a):"move";c(t,s),P=s.split("-")[0]}}function Z(r,a){if("path"===n.type){var o=function(e){return e},i=o,s=o;L?B("xanchor",n.xanchor=W(x+r)):(i=function(e){return W(q(e)+r)},U&&"date"===U.type&&(i=d.encodeDate(i))),D?B("yanchor",n.yanchor=G(w+a)):(s=function(e){return G(V(e)+a)},H&&"date"===H.type&&(s=d.encodeDate(s))),B("path",n.path=v(O,i,s))}else L?B("xanchor",n.xanchor=W(x+r)):(B("x0",n.x0=W(g+r)),B("x1",n.x1=W(b+r))),D?B("yanchor",n.yanchor=G(w+a)):(B("y0",n.y0=G(y+a)),B("y1",n.y1=G(_+a)));t.attr("d",m(e,n)),Q(h,n)}function J(r,a){if(z){var o=function(e){return e},i=o,s=o;L?B("xanchor",n.xanchor=W(x+r)):(i=function(e){return W(q(e)+r)},U&&"date"===U.type&&(i=d.encodeDate(i))),D?B("yanchor",n.yanchor=G(w+a)):(s=function(e){return G(V(e)+a)},H&&"date"===H.type&&(s=d.encodeDate(s))),B("path",n.path=v(O,i,s))}else if(R){if("resize-over-start-point"===P){var l=g+r,u=D?y-a:y+a;B("x0",n.x0=L?l:W(l)),B("y0",n.y0=D?u:G(u))}else if("resize-over-end-point"===P){var c=b+r,f=D?_-a:_+a;B("x1",n.x1=L?c:W(c)),B("y1",n.y1=D?f:G(f))}}else{var p=~P.indexOf("n")?k+a:k,F=~P.indexOf("s")?A+a:A,X=~P.indexOf("w")?T+r:T,Y=~P.indexOf("e")?M+r:M;~P.indexOf("n")&&D&&(p=k-a),~P.indexOf("s")&&D&&(F=A-a),(!D&&F-p>I||D&&p-F>I)&&(B(E,n[E]=D?p:G(p)),B(C,n[C]=D?F:G(F))),Y-X>N&&(B(S,n[S]=L?X:W(X)),B(j,n[j]=L?Y:W(Y)))}t.attr("d",m(e,n)),Q(h,n)}function Q(e,t){(L||D)&&function(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]);r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var o=q(L?t.xanchor:a.midRange(n?[t.x0,t.x1]:d.extractPathCoords(t.path,f.paramIsX))),i=V(D?t.yanchor:a.midRange(n?[t.y0,t.y1]:d.extractPathCoords(t.path,f.paramIsY)));if(o=d.roundPositionForSharpStrokeRendering(o,1),i=d.roundPositionForSharpStrokeRendering(i,1),L&&D){var s="M"+(o-1-1)+","+(i-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",s)}else if(L){var l="M"+(o-1-1)+","+(i-9-1)+"v18 h2 v-18 Z";r.attr("d",l)}else{var u="M"+(o-9-1)+","+(i-1-1)+"h18 v2 h-18 Z";r.attr("d",u)}}()}function $(e){e.selectAll(".visual-cue").remove()}u.init(Y),X.node().onmousemove=K}(e,b,n,t,h)}}function p(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"");e.call(s.setClipUrl,r?"clip"+t._fullLayout._uid+r:null)}function m(e,t){var n,r,i,s,l,u,c,h,p=t.type,m=o.getFromId(e,t.xref),v=o.getFromId(e,t.yref),g=e._fullLayout._size;if(m?(n=d.shapePositionToRange(m),r=function(e){return m._offset+m.r2p(n(e,!0))}):r=function(e){return g.l+g.w*e},v?(i=d.shapePositionToRange(v),s=function(e){return v._offset+v.r2p(i(e,!0))}):s=function(e){return g.t+g.h*(1-e)},"path"===p)return m&&"date"===m.type&&(r=d.decodeDate(r)),v&&"date"===v.type&&(s=d.decodeDate(s)),function(e,t,n){var r=e.path,o=e.xsizemode,i=e.ysizemode,s=e.xanchor,l=e.yanchor;return r.replace(f.segmentRE,function(e){var r=0,u=e.charAt(0),c=f.paramIsX[u],d=f.paramIsY[u],h=f.numParams[u],p=e.substr(1).replace(f.paramRE,function(e){return c[r]?e="pixel"===o?t(s)+Number(e):t(e):d[r]&&(e="pixel"===i?n(l)-Number(e):n(e)),++r>h&&(e="X"),e});return r>h&&(p=p.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+e)),u+p})}(t,r,s);if("pixel"===t.xsizemode){var y=r(t.xanchor);l=y+t.x0,u=y+t.x1}else l=r(t.x0),u=r(t.x1);if("pixel"===t.ysizemode){var b=s(t.yanchor);c=b-t.y0,h=b-t.y1}else c=s(t.y0),h=s(t.y1);if("line"===p)return"M"+l+","+c+"L"+u+","+h;if("rect"===p)return"M"+l+","+c+"H"+u+"V"+h+"H"+l+"Z";var _=(l+u)/2,x=(c+h)/2,w=Math.abs(_-l),k=Math.abs(x-c),A="A"+w+","+k,T=_+w+","+x,M=_+","+(x-k);return"M"+T+A+" 0 1,1 "+M+A+" 0 0,1 "+T+"Z"}function v(e,t,n){return e.replace(f.segmentRE,function(e){var r=0,a=e.charAt(0),o=f.paramIsX[a],i=f.paramIsY[a],s=f.numParams[a],l=e.substr(1).replace(f.paramRE,function(e){return r>=s?e:(o[r]?e=t(e):i[r]&&(e=n(e)),r++,e)});return a+l})}t.exports={draw:function(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var a=0;a<t.shapes.length;a++)t.shapes[a].visible&&h(e,a)},drawOne:h}},{"../../lib":440,"../../lib/setcursor":461,"../../plot_api/plot_template":478,"../../plots/cartesian/axes":488,"../../registry":532,"../color":318,"../dragelement":340,"../drawing":343,"./constants":399,"./helpers":402}],402:[function(e,t,n){"use strict";var r=e("./constants"),a=e("../../lib");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.extractPathCoords=function(e,t){var n=[],o=e.match(r.segmentRE);return o.forEach(function(e){var o=t[e.charAt(0)].drawn;if(void 0!==o){var i=e.substr(1).match(r.paramRE);!i||i.length<o||n.push(a.cleanNumber(i[o]))}}),n},n.getDataToPixel=function(e,t,r){var a,o=e._fullLayout._size;if(t){var i=n.shapePositionToRange(t);a=function(e){return t._offset+t.r2p(i(e,!0))},"date"===t.type&&(a=n.decodeDate(a))}else a=r?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return a},n.getPixelToData=function(e,t,r){var a,o=e._fullLayout._size;if(t){var i=n.rangeToShapePosition(t);a=function(e){return i(t.p2r(e-t._offset))}}else a=r?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return a},n.roundPositionForSharpStrokeRendering=function(e,t){var n=1===Math.round(t%2),r=Math.round(e);return n?r+.5:r}},{"../../lib":440,"./constants":399}],403:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("shapes"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":498,"./attributes":397,"./calc_autorange":398,"./defaults":400,"./draw":401}],404:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../../plots/pad_attributes"),o=e("../../lib/extend").extendDeepAll,i=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/animation_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=e("./constants"),c=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=i(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o({},a,{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":431,"../../plot_api/edit_types":471,"../../plot_api/plot_template":478,"../../plots/animation_attributes":483,"../../plots/font_attributes":514,"../../plots/pad_attributes":523,"./constants":405}],405:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],406:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/array_container_defaults"),o=e("./attributes"),i=e("./constants"),s=i.name,l=o.steps;function u(e,t,n){function i(n,a){return r.coerce(e,t,o,n,a)}for(var s=a(e,t,{name:"steps",handleItemDefaults:c}),l=0,u=0;u<s.length;u++)s[u].visible&&l++;if(l<2?t.visible=!1:i("visible")){t._stepCount=l;var f=t._visibleSteps=r.filterVisible(s),d=i("active");(s[d]||{}).visible||(t.active=f[0]._index),i("x"),i("y"),r.noneOrAll(e,t,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),r.coerceFont(i,"font",n.font);var h=i("currentvalue.visible");h&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),r.coerceFont(i,"currentvalue.font",t.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen")}}function c(e,t){function n(n,a){return r.coerce(e,t,l,n,a)}if("skip"===e.method||Array.isArray(e.args)?n("visible"):t.visible=!1){n("method"),n("args");var a=n("label","step-"+t._index);n("value",a),n("execute")}}t.exports=function(e,t){a(e,t,{name:s,handleItemDefaults:u})}},{"../../lib":440,"../../plots/array_container_defaults":484,"./attributes":404,"./constants":405}],407:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../plots/plots"),o=e("../color"),i=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../legend/anchor_utils"),c=e("../../plot_api/plot_template").arrayEditor,f=e("./constants"),d=e("../../constants/alignment"),h=d.LINE_SPACING,p=d.FROM_TL,m=d.FROM_BR;function v(e){return f.autoMarginIdRoot+e._index}function g(e){return e._index}function y(e,t){var n=i.tester.selectAll("g."+f.labelGroupClass).data(t._visibleSteps);n.enter().append("g").classed(f.labelGroupClass,!0);var o=0,s=0;n.each(function(e){var n=r.select(this),a=x(n,{step:e},t),l=a.node();if(l){var u=i.bBox(l);s=Math.max(s,u.height),o=Math.max(o,u.width)}}),n.remove();var c=t._dims={};c.inputAreaWidth=Math.max(f.railWidth,f.gripHeight);var d=e._fullLayout._size;c.lx=d.l+d.w*t.x,c.ly=d.t+d.h*(1-t.y),"fraction"===t.lenmode?c.outerLength=Math.round(d.w*t.len):c.outerLength=t.len,c.inputAreaStart=0,c.inputAreaLength=Math.round(c.outerLength-t.pad.l-t.pad.r);var h=c.inputAreaLength-2*f.stepInset,g=h/(t._stepCount-1),y=o+f.labelPadding;if(c.labelStride=Math.max(1,Math.ceil(y/g)),c.labelHeight=s,c.currentValueMaxWidth=0,c.currentValueHeight=0,c.currentValueTotalHeight=0,c.currentValueMaxLines=1,t.currentvalue.visible){var _=i.tester.append("g");n.each(function(e){var n=b(_,t,e.label),r=n.node()&&i.bBox(n.node())||{width:0,height:0},a=l.lineCount(n);c.currentValueMaxWidth=Math.max(c.currentValueMaxWidth,Math.ceil(r.width)),c.currentValueHeight=Math.max(c.currentValueHeight,Math.ceil(r.height)),c.currentValueMaxLines=Math.max(c.currentValueMaxLines,a)}),c.currentValueTotalHeight=c.currentValueHeight+t.currentvalue.offset,_.remove()}c.height=c.currentValueTotalHeight+f.tickOffset+t.ticklen+f.labelOffset+c.labelHeight+t.pad.t+t.pad.b;var w="left";u.isRightAnchor(t)&&(c.lx-=c.outerLength,w="right"),u.isCenterAnchor(t)&&(c.lx-=c.outerLength/2,w="center");var k="top";u.isBottomAnchor(t)&&(c.ly-=c.height,k="bottom"),u.isMiddleAnchor(t)&&(c.ly-=c.height/2,k="middle"),c.outerLength=Math.ceil(c.outerLength),c.height=Math.ceil(c.height),c.lx=Math.round(c.lx),c.ly=Math.round(c.ly);var A={y:t.y,b:c.height*m[k],t:c.height*p[k]};"fraction"===t.lenmode?(A.l=0,A.xl=t.x-t.len*p[w],A.r=0,A.xr=t.x+t.len*m[w]):(A.x=t.x,A.l=c.outerLength*p[w],A.r=c.outerLength*m[w]),a.autoMargin(e,v(t),A)}function b(e,t,n){if(t.currentvalue.visible){var r,a,o=t._dims;switch(t.currentvalue.xanchor){case"right":r=o.inputAreaLength-f.currentValueInset-o.currentValueMaxWidth,a="left";break;case"center":r=.5*o.inputAreaLength,a="middle";break;default:r=f.currentValueInset,a="left"}var u=s.ensureSingle(e,"text",f.labelClass,function(e){e.classed("user-select-none",!0).attr({"text-anchor":a,"data-notex":1})}),c=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof n)c+=n;else{var d=t.steps[t.active].label;c+=d}t.currentvalue.suffix&&(c+=t.currentvalue.suffix),u.call(i.font,t.currentvalue.font).text(c).call(l.convertToTspans,t._gd);var p=l.lineCount(u),m=(o.currentValueMaxLines+1-p)*t.currentvalue.font.size*h;return l.positionText(u,r,m),u}}function _(e,t,n){var r=s.ensureSingle(e,"rect",f.gripRectClass,function(r){r.call(T,t,e,n).style("pointer-events","all")});r.attr({width:f.gripWidth,height:f.gripHeight,rx:f.gripRadius,ry:f.gripRadius}).call(o.stroke,n.bordercolor).call(o.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function x(e,t,n){var r=s.ensureSingle(e,"text",f.labelClass,function(e){e.classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1})});return r.call(i.font,n.font).text(t.step.label).call(l.convertToTspans,n._gd),r}function w(e,t){var n=s.ensureSingle(e,"g",f.labelsClass),a=t._dims,o=n.selectAll("g."+f.labelGroupClass).data(a.labelSteps);o.enter().append("g").classed(f.labelGroupClass,!0),o.exit().remove(),o.each(function(e){var n=r.select(this);n.call(x,e,t),i.setTranslate(n,C(t,e.fraction),f.tickOffset+t.ticklen+t.font.size*h+f.labelOffset+a.currentValueTotalHeight)})}function k(e,t,n,r,a){var o=Math.round(r*(n._stepCount-1)),i=n._visibleSteps[o]._index;i!==n.active&&A(e,t,n,i,!0,a)}function A(e,t,n,r,o,i){var s=n.active;n.active=r,c(e.layout,f.name,n).applyUpdate("active",r);var l=n.steps[n.active];t.call(E,n,i),t.call(b,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:o,previousActive:s}),l&&l.method&&o&&(t._nextMethod?(t._nextMethod.step=l,t._nextMethod.doCallback=o,t._nextMethod.doTransition=i):(t._nextMethod={step:l,doCallback:o,doTransition:i},t._nextMethodRaf=window.requestAnimationFrame(function(){var n=t._nextMethod.step;n.method&&(n.execute&&a.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function T(e,t,n){var a=n.node(),i=r.select(t);function s(){return n.data()[0]}e.on("mousedown",function(){var e=s();t.emit("plotly_sliderstart",{slider:e});var l=n.select("."+f.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),l.call(o.fill,e.activebgcolor);var u=S(e,r.mouse(a)[0]);k(t,n,e,u,!0),e._dragging=!0,i.on("mousemove",function(){var e=s(),o=S(e,r.mouse(a)[0]);k(t,n,e,o,!1)}),i.on("mouseup",function(){var e=s();e._dragging=!1,l.call(o.fill,e.bgcolor),i.on("mouseup",null),i.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function M(e,t){var n=e.selectAll("rect."+f.tickRectClass).data(t._visibleSteps),a=t._dims;n.enter().append("rect").classed(f.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each(function(e,n){var s=n%a.labelStride==0,l=r.select(this);l.attr({height:s?t.ticklen:t.minorticklen}).call(o.fill,t.tickcolor),i.setTranslate(l,C(t,n/(t._stepCount-1))-.5*t.tickwidth,(s?f.tickOffset:f.minorTickOffset)+a.currentValueTotalHeight)})}function E(e,t,n){for(var r=e.select("rect."+f.gripRectClass),a=0,o=0;o<t._stepCount;o++)if(t._visibleSteps[o]._index===t.active){a=o;break}var i=C(t,a/(t._stepCount-1));if(!t._invokingCommand){var s=r;n&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr("transform","translate("+(i-.5*f.gripWidth)+","+t._dims.currentValueTotalHeight+")")}}function C(e,t){var n=e._dims;return n.inputAreaStart+f.stepInset+(n.inputAreaLength-2*f.stepInset)*Math.min(1,Math.max(0,t))}function S(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-f.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*f.stepInset-2*n.inputAreaStart)))}function j(e,t,n){var r=n._dims,a=s.ensureSingle(e,"rect",f.railTouchRectClass,function(r){r.call(T,t,e,n).style("pointer-events","all")});a.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,f.tickOffset+n.ticklen+r.labelHeight)}).call(o.fill,n.bgcolor).attr("opacity",0),i.setTranslate(a,0,r.currentValueTotalHeight)}function O(e,t){var n=t._dims,r=n.inputAreaLength-2*f.railInset,a=s.ensureSingle(e,"rect",f.railRectClass);a.attr({width:r,height:f.railWidth,rx:f.railRadius,ry:f.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),i.setTranslate(a,f.railInset,.5*(n.inputAreaWidth-f.railWidth)+n.currentValueTotalHeight)}t.exports=function(e){var t=e._fullLayout,n=function(e,t){for(var n=e[f.name],r=[],a=0;a<n.length;a++){var o=n[a];o.visible&&(o._gd=t,r.push(o))}return r}(t,e),o=t._infolayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);function s(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),a.autoMargin(e,v(t))}if(o.enter().append("g").classed(f.containerClassName,!0).style("cursor","ew-resize"),o.exit().each(function(){r.select(this).selectAll("g."+f.groupClassName).each(s)}).remove(),0!==n.length){var l=o.selectAll("g."+f.groupClassName).data(n,g);l.enter().append("g").classed(f.groupClassName,!0),l.exit().each(s).remove();for(var u=0;u<n.length;u++){var c=n[u];y(e,c)}l.each(function(t){var n=r.select(this);!function(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})}(t),a.manageCommandObserver(e,t,t._visibleSteps,function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||A(e,n,r,t.index,!1,!0))}),function(e,t,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),t.call(b,n).call(O,n).call(w,n).call(M,n).call(j,e,n).call(_,e,n);var r=n._dims;i.setTranslate(t,r.lx+n.pad.l,r.ly+n.pad.t),t.call(E,n,!1),t.call(b,n)}(e,r.select(this),t)})}}},{"../../constants/alignment":416,"../../lib":440,"../../lib/svg_text_utils":465,"../../plot_api/plot_template":478,"../../plots/plots":524,"../color":318,"../drawing":343,"../legend/anchor_utils":370,"./constants":405,d3:85}],408:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":404,"./constants":405,"./defaults":406,"./draw":407}],409:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("../../plots/plots"),i=e("../../registry"),s=e("../../lib"),l=e("../drawing"),u=e("../color"),c=e("../../lib/svg_text_utils"),f=e("../../constants/interactions");t.exports={draw:function(e,t,n){var h,p=n.propContainer,m=n.propName,v=n.placeholder,g=n.traceIndex,y=n.avoid||{},b=n.attributes,_=n.transform,x=n.containerGroup,w=e._fullLayout,k=p.titlefont||{},A=k.family,T=k.size,M=k.color,E=1,C=!1,S=(p.title||"").trim();"title"===m?h="titleText":-1!==m.indexOf("axis")?h="axisTitleText":m.indexOf(!0)&&(h="colorbarTitleText");var j=e._context.edits[h];""===S?E=0:S.replace(d," % ")===v.replace(d," % ")&&(E=.2,C=!0,j||(S=""));var O=S||j;x||(x=s.ensureSingle(w._infolayer,"g","g-"+t));var P=x.selectAll("text").data(O?[0]:[]);if(P.enter().append("text"),P.text(S).attr("class",t),P.exit().remove(),!O)return x;function N(e){s.syncOrAsync([I,L],e)}function I(t){var n;return _?(n="",_.rotate&&(n+="rotate("+[_.rotate,b.x,b.y]+")"),_.offset&&(n+="translate(0, "+_.offset+")")):n=null,t.attr("transform",n),t.style({"font-family":A,"font-size":r.round(T,2)+"px",fill:u.rgb(M),opacity:E*u.opacity(M),"font-weight":o.fontWeight}).attr(b).call(c.convertToTspans,e),o.previousPromises(e)}function L(e){var t=r.select(e.node().parentNode);if(y&&y.selection&&y.side&&S){t.attr("transform",null);var n=0,o={left:"right",right:"left",top:"bottom",bottom:"top"}[y.side],i=-1!==["left","top"].indexOf(y.side)?-1:1,u=a(y.pad)?y.pad:2,c=l.bBox(t.node()),f={left:0,top:0,right:w.width,bottom:w.height},d=y.maxShift||(f[y.side]-c[y.side])*("left"===y.side||"top"===y.side?-1:1);if(d<0)n=d;else{var h=y.offsetLeft||0,p=y.offsetTop||0;c.left-=h,c.right-=h,c.top-=p,c.bottom-=p,y.selection.each(function(){var e=l.bBox(this);s.bBoxIntersect(c,e,u)&&(n=Math.max(n,i*(e[y.side]-c[o])+u))}),n=Math.min(d,n)}if(n>0||d<0){var m={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[y.side];t.attr("transform","translate("+m+")")}}}return P.call(N),j&&(S?P.on(".opacity",null):(E=0,C=!0,P.text(v).on("mouseover.opacity",function(){r.select(this).transition().duration(f.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(f.HIDE_PLACEHOLDER).style("opacity",0)})),P.call(c.makeEditable,{gd:e}).on("edit",function(t){void 0!==g?i.call("restyle",e,m,t,g):i.call("relayout",e,m,t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(N)}).on("input",function(e){this.text(e||" ").call(c.positionText,b.x,b.y)})),P.classed("js-placeholder",C),x}};var d=/ [XY][0-9]* /},{"../../constants/interactions":418,"../../lib":440,"../../lib/svg_text_utils":465,"../../plots/plots":524,"../../registry":532,"../color":318,"../drawing":343,d3:85,"fast-isnumeric":149}],410:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes"),o=e("../../lib/extend").extendFlat,i=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/pad_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=i(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o({},s,{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:a.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":431,"../../plot_api/edit_types":471,"../../plot_api/plot_template":478,"../../plots/font_attributes":514,"../../plots/pad_attributes":523,"../color/attributes":317}],411:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},{}],412:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/array_container_defaults"),o=e("./attributes"),i=e("./constants"),s=i.name,l=o.buttons;function u(e,t,n){function i(n,a){return r.coerce(e,t,o,n,a)}var s=a(e,t,{name:"buttons",handleItemDefaults:c}),l=i("visible",s.length>0);l&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),r.noneOrAll(e,t,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),r.coerceFont(i,"font",n.font),i("bgcolor",n.paper_bgcolor),i("bordercolor"),i("borderwidth"))}function c(e,t){function n(n,a){return r.coerce(e,t,l,n,a)}var a=n("visible","skip"===e.method||Array.isArray(e.args));a&&(n("method"),n("args"),n("label"),n("execute"))}t.exports=function(e,t){var n={name:s,handleItemDefaults:u};a(e,t,n)}},{"../../lib":440,"../../plots/array_container_defaults":484,"./attributes":410,"./constants":411}],413:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../plots/plots"),o=e("../color"),i=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../legend/anchor_utils"),c=e("../../plot_api/plot_template").arrayEditor,f=e("../../constants/alignment").LINE_SPACING,d=e("./constants"),h=e("./scrollbox");function p(e){return e._index}function m(e,t){return+e.attr(d.menuIndexAttrName)===t._index}function v(e,t,n,r,a,o,i,s){t.active=i,c(e.layout,d.name,t).applyUpdate("active",i),"buttons"===t.type?y(e,r,null,null,t):"dropdown"===t.type&&(a.attr(d.menuIndexAttrName,"-1"),g(e,r,a,o,t),s||y(e,r,a,o,t))}function g(e,t,n,r,a){var o=s.ensureSingle(t,"g",d.headerClassName,function(e){e.style("pointer-events","all")}),l=a._dims,u=a.active,c=a.buttons[u]||d.blankHeaderOpts,f={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},h={width:l.headerWidth,height:l.headerHeight};o.call(b,a,c,e).call(E,a,f,h);var p=s.ensureSingle(t,"text",d.headerArrowClassName,function(e){e.classed("user-select-none",!0).attr("text-anchor","end").call(i.font,a.font).text(d.arrowSymbol[a.direction])});p.attr({x:l.headerWidth-d.arrowOffsetX+a.pad.l,y:l.headerHeight/2+d.textOffsetY+a.pad.t}),o.on("click",function(){n.call(C,String(m(n,a)?-1:a._index)),y(e,t,n,r,a)}),o.on("mouseover",function(){o.call(k)}),o.on("mouseout",function(){o.call(A,a)}),i.setTranslate(t,l.lx,l.ly)}function y(e,t,n,o,i){n||(n=t).attr("pointer-events","all");var l=function(e){return-1==+e.attr(d.menuIndexAttrName)}(n)&&"buttons"!==i.type?[]:i.buttons,u="dropdown"===i.type?d.dropdownButtonClassName:d.buttonClassName,c=n.selectAll("g."+u).data(s.filterVisible(l)),f=c.enter().append("g").classed(u,!0),h=c.exit();"dropdown"===i.type?(f.attr("opacity","0").transition().attr("opacity","1"),h.transition().attr("opacity","0").remove()):h.remove();var p=0,m=0,g=i._dims,y=-1!==["up","down"].indexOf(i.direction);"dropdown"===i.type&&(y?m=g.headerHeight+d.gapButtonHeader:p=g.headerWidth+d.gapButtonHeader),"dropdown"===i.type&&"up"===i.direction&&(m=-d.gapButtonHeader+d.gapButton-g.openHeight),"dropdown"===i.type&&"left"===i.direction&&(p=-d.gapButtonHeader+d.gapButton-g.openWidth);var _={x:g.lx+p+i.pad.l,y:g.ly+m+i.pad.t,yPad:d.gapButton,xPad:d.gapButton,index:0},x={l:_.x+i.borderwidth,t:_.y+i.borderwidth};c.each(function(s,l){var u=r.select(this);u.call(b,i,s,e).call(E,i,_),u.on("click",function(){r.event.defaultPrevented||(v(e,i,0,t,n,o,l),s.execute&&a.executeAPICommand(e,s.method,s.args),e.emit("plotly_buttonclicked",{menu:i,button:s,active:i.active}))}),u.on("mouseover",function(){u.call(k)}),u.on("mouseout",function(){u.call(A,i),c.call(w,i)})}),c.call(w,i),y?(x.w=Math.max(g.openWidth,g.headerWidth),x.h=_.y-x.t):(x.w=_.x-x.l,x.h=Math.max(g.openHeight,g.headerHeight)),x.direction=i.direction,o&&(c.size()?function(e,t,n,r,a,o){var i,s,l,u=a.direction,c="up"===u||"down"===u,f=a._dims,h=a.active;if(c)for(s=0,l=0;l<h;l++)s+=f.heights[l]+d.gapButton;else for(i=0,l=0;l<h;l++)i+=f.widths[l]+d.gapButton;r.enable(o,i,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,o,i,x):function(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,n||e.disable()}),n&&e.vbar.transition().attr("opacity","0").each("end",function(){n=!1,t||e.disable()})}(o))}function b(e,t,n,r){e.call(_,t).call(x,t,n,r)}function _(e,t){var n=s.ensureSingle(e,"rect",d.itemRectClassName,function(e){e.attr({rx:d.rx,ry:d.ry,"shape-rendering":"crispEdges"})});n.call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function x(e,t,n,r){var a=s.ensureSingle(e,"text",d.itemTextClassName,function(e){e.classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1})});a.call(i.font,t.font).text(n.label).call(l.convertToTspans,r)}function w(e,t){var n=t.active;e.each(function(e,a){var i=r.select(this);a===n&&t.showactive&&i.select("rect."+d.itemRectClassName).call(o.fill,d.activeColor)})}function k(e){e.select("rect."+d.itemRectClassName).call(o.fill,d.hoverColor)}function A(e,t){e.select("rect."+d.itemRectClassName).call(o.fill,t.bgcolor)}function T(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},o=i.tester.selectAll("g."+d.dropdownButtonClassName).data(s.filterVisible(t.buttons));o.enter().append("g").classed(d.dropdownButtonClassName,!0);var c=-1!==["up","down"].indexOf(t.direction);o.each(function(a,o){var s=r.select(this);s.call(b,t,a,e);var u=s.select("."+d.itemTextClassName),h=u.node()&&i.bBox(u.node()).width,p=Math.max(h+d.textPadX,d.minWidth),m=t.font.size*f,v=l.lineCount(u),g=Math.max(m*v,d.minHeight)+d.textOffsetY;g=Math.ceil(g),p=Math.ceil(p),n.widths[o]=p,n.heights[o]=g,n.height1=Math.max(n.height1,g),n.width1=Math.max(n.width1,p),c?(n.totalWidth=Math.max(n.totalWidth,p),n.openWidth=n.totalWidth,n.totalHeight+=g+d.gapButton,n.openHeight+=g+d.gapButton):(n.totalWidth+=p+d.gapButton,n.openWidth+=p+d.gapButton,n.totalHeight=Math.max(n.totalHeight,g),n.openHeight=n.totalHeight)}),c?n.totalHeight-=d.gapButton:n.totalWidth-=d.gapButton,n.headerWidth=n.width1+d.arrowPadX,n.headerHeight=n.height1,"dropdown"===t.type&&(c?(n.width1+=d.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=d.arrowPadX),o.remove();var h=n.totalWidth+t.pad.l+t.pad.r,p=n.totalHeight+t.pad.t+t.pad.b,m=e._fullLayout._size;n.lx=m.l+m.w*t.x,n.ly=m.t+m.h*(1-t.y);var v="left";u.isRightAnchor(t)&&(n.lx-=h,v="right"),u.isCenterAnchor(t)&&(n.lx-=h/2,v="center");var g="top";u.isBottomAnchor(t)&&(n.ly-=p,g="bottom"),u.isMiddleAnchor(t)&&(n.ly-=p/2,g="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),a.autoMargin(e,M(t),{x:t.x,y:t.y,l:h*({right:1,center:.5}[v]||0),r:h*({left:1,center:.5}[v]||0),b:p*({top:1,middle:.5}[g]||0),t:p*({bottom:1,middle:.5}[g]||0)})}function M(e){return d.autoMarginIdRoot+e._index}function E(e,t,n,r){r=r||{};var a=e.select("."+d.itemRectClassName),o=e.select("."+d.itemTextClassName),s=t.borderwidth,u=n.index,c=t._dims;i.setTranslate(e,s+n.x,s+n.y);var h=-1!==["up","down"].indexOf(t.direction),p=r.height||(h?c.heights[u]:c.height1);a.attr({x:0,y:0,width:r.width||(h?c.width1:c.widths[u]),height:p});var m=t.font.size*f,v=l.lineCount(o),g=(v-1)*m/2;l.positionText(o,d.textOffsetX,p/2-g+d.textOffsetY),h?n.y+=c.heights[u]+n.yPad:n.x+=c.widths[u]+n.xPad,n.index++}function C(e,t){e.attr(d.menuIndexAttrName,t||"-1").selectAll("g."+d.dropdownButtonClassName).remove()}t.exports=function(e){var t=e._fullLayout,n=s.filterVisible(t[d.name]);function o(t){a.autoMargin(e,M(t))}var i=t._menulayer.selectAll("g."+d.containerClassName).data(n.length>0?[0]:[]);if(i.enter().append("g").classed(d.containerClassName,!0).style("cursor","pointer"),i.exit().each(function(){r.select(this).selectAll("g."+d.headerGroupClassName).each(o)}).remove(),0!==n.length){var l=i.selectAll("g."+d.headerGroupClassName).data(n,p);l.enter().append("g").classed(d.headerGroupClassName,!0);for(var u=s.ensureSingle(i,"g",d.dropdownButtonGroupClassName,function(e){e.style("pointer-events","all")}),c=0;c<n.length;c++){var f=n[c];T(e,f)}var b="updatemenus"+t._uid,_=new h(e,u,b);l.enter().size()&&(u.node().parentNode.appendChild(u.node()),u.call(C)),l.exit().each(function(e){u.call(C),o(e)}).remove(),l.each(function(t){var n=r.select(this),o="dropdown"===t.type?u:null;a.manageCommandObserver(e,t,t.buttons,function(r){v(e,t,t.buttons[r.index],n,o,_,r.index,!0)}),"dropdown"===t.type?(g(e,n,u,_,t),m(u,t)&&y(e,n,u,_,t)):y(e,n,null,null,t)})}}},{"../../constants/alignment":416,"../../lib":440,"../../lib/svg_text_utils":465,"../../plot_api/plot_template":478,"../../plots/plots":524,"../color":318,"../drawing":343,"../legend/anchor_utils":370,"./constants":411,"./scrollbox":415,d3:85}],414:[function(e,t,n){arguments[4][408][0].apply(n,arguments)},{"./attributes":410,"./constants":411,"./defaults":412,"./draw":413,dup:408}],415:[function(e,t,n){"use strict";t.exports=s;var r=e("d3"),a=e("../color"),o=e("../drawing"),i=e("../../lib");function s(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(e,t,n){var i=this.gd._fullLayout,l=i.width,u=i.height;this.position=e;var c,f,d,h,p=this.position.l,m=this.position.w,v=this.position.t,g=this.position.h,y=this.position.direction,b="down"===y,_="left"===y,x="right"===y,w="up"===y,k=m,A=g;b||_||x||w||(this.position.direction="down",b=!0);var T=b||w;T?(f=(c=p)+k,b?(d=v,h=Math.min(d+A,u),A=h-d):(h=v+A,d=Math.max(h-A,0),A=h-d)):(h=(d=v)+A,_?(f=p+k,c=Math.max(f-k,0),k=f-c):(c=p,f=Math.min(c+k,l),k=f-c)),this._box={l:c,t:d,w:k,h:A};var M=m>k,E=s.barLength+2*s.barPad,C=s.barWidth+2*s.barPad,S=p,j=v+g;j+C>u&&(j=u-C);var O=this.container.selectAll("rect.scrollbar-horizontal").data(M?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(a.fill,s.barColor),M?(this.hbar=O.attr({rx:s.barRadius,ry:s.barRadius,x:S,y:j,width:E,height:C}),this._hbarXMin=S+E/2,this._hbarTranslateMax=k-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var P=g>A,N=s.barWidth+2*s.barPad,I=s.barLength+2*s.barPad,L=p+m,D=v;L+N>l&&(L=l-N);var R=this.container.selectAll("rect.scrollbar-vertical").data(P?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-vertical",!0).call(a.fill,s.barColor),P?(this.vbar=R.attr({rx:s.barRadius,ry:s.barRadius,x:L,y:D,width:N,height:I}),this._vbarYMin=D+I/2,this._vbarTranslateMax=A-I):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var z=this.id,F=c-.5,B=P?f+N+.5:f+.5,U=d-.5,H=M?h+C+.5:h+.5,q=i._topdefs.selectAll("#"+z).data(M||P?[0]:[]);if(q.exit().remove(),q.enter().append("clipPath").attr("id",z).append("rect"),M||P?(this._clipRect=q.select("rect").attr({x:Math.floor(F),y:Math.floor(U),width:Math.ceil(B)-Math.floor(F),height:Math.ceil(H)-Math.floor(U)}),this.container.call(o.setClipUrl,z),this.bg.attr({x:p,y:v,width:m,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),M||P){var V=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var W=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));M&&this.hbar.on(".drag",null).call(W),P&&this.vbar.on(".drag",null).call(W)}this.setTranslate(t,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},s.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},s.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,a=n+this._hbarTranslateMax,o=i.constrain(r.event.x,n,a),s=(o-n)/(a-n),l=this.position.w-this._box.w;e=s*l}if(this.vbar){var u=t+this._vbarYMin,c=u+this._vbarTranslateMax,f=i.constrain(r.event.y,u,c),d=(f-u)/(c-u),h=this.position.h-this._box.h;t=d*h}this.setTranslate(e,t)},s.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=i.constrain(e||0,0,n),t=i.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(o.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var a=e/n;this.hbar.call(o.setTranslate,e+a*this._hbarTranslateMax,t)}if(this.vbar){var s=t/r;this.vbar.call(o.setTranslate,e,t+s*this._vbarTranslateMax)}}},{"../../lib":440,"../color":318,"../drawing":343,d3:85}],416:[function(e,t,n){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],417:[function(e,t,n){"use strict";t.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],418:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300,DESELECTDIM:.2}},{}],419:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"−"}},{}],420:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],421:[function(e,t,n){"use strict";n.version="1.41.1",e("es6-promise").polyfill(),e("../build/plotcss"),e("./fonts/mathjax_config");for(var r=e("./registry"),a=n.register=r.register,o=e("./plot_api"),i=Object.keys(o),s=0;s<i.length;s++){var l=i[s];n[l]=o[l],a({moduleType:"apiMethod",name:l,fn:o[l]})}a(e("./traces/scatter")),a([e("./components/fx"),e("./components/legend"),e("./components/annotations"),e("./components/annotations3d"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector"),e("./components/grid"),e("./components/errorbars")]),a([e("./locale-en"),e("./locale-en-us")]),n.Icons=e("../build/ploticon"),n.Plots=e("./plots/plots"),n.Fx=e("./components/fx"),n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema"),n.Queue=e("./lib/queue"),n.d3=e("d3")},{"../build/plotcss":1,"../build/ploticon":2,"./components/annotations":311,"./components/annotations3d":316,"./components/errorbars":349,"./components/fx":360,"./components/grid":364,"./components/images":369,"./components/legend":378,"./components/rangeselector":389,"./components/rangeslider":395,"./components/shapes":403,"./components/sliders":408,"./components/updatemenus":414,"./fonts/mathjax_config":422,"./lib/queue":456,"./locale-en":469,"./locale-en-us":468,"./plot_api":473,"./plot_api/plot_schema":477,"./plots/plots":524,"./registry":532,"./snapshot":537,"./traces/scatter":605,d3:85,"es6-promise":139}],422:[function(e,t,n){"use strict";"undefined"!=typeof MathJax?(n.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):n.MathJax=!1},{}],423:[function(e,t,n){"use strict";var r=e("./mod"),a=r.mod,o=r.modHalf,i=Math.PI,s=2*i;function l(e){return Math.abs(e[1]-e[0])>s-1e-15}function u(e,t){return o(t-e,s)}function c(e,t){if(l(t))return!0;var n,r;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),n=a(n,s),r=a(r,s),n>r&&(r+=s);var o=a(e,s),i=o+s;return o>=n&&o<=r||i>=n&&i<=r}function f(e,t,n,r,a,o,u){a=a||0,o=o||0;var c,f,d,h,p,m=l([n,r]);function v(e,t){return[e*Math.cos(t)+a,o-e*Math.sin(t)]}m?(c=0,f=i,d=s):n<r?(c=n,d=r):(c=r,d=n),e<t?(h=e,p=t):(h=t,p=e);var g,y=Math.abs(d-c)<=i?0:1;function b(e,t,n){return"A"+[e,e]+" "+[0,y,n]+" "+v(e,t)}return m?g=null===h?"M"+v(p,c)+b(p,f,0)+b(p,d,0)+"Z":"M"+v(h,c)+b(h,f,0)+b(h,d,0)+"ZM"+v(p,c)+b(p,f,1)+b(p,d,1)+"Z":null===h?(g="M"+v(p,c)+b(p,d,0),u&&(g+="L0,0Z")):g="M"+v(h,c)+"L"+v(p,c)+b(p,d,0)+"L"+v(h,d)+b(h,c,1)+"Z",g}t.exports={deg2rad:function(e){return e/180*i},rad2deg:function(e){return e/i*180},angleDelta:u,angleDist:function(e,t){return Math.abs(u(e,t))},isFullCircle:l,isAngleInsideSector:c,isPtInsideSector:function(e,t,n,r){return!!c(t,r)&&(n[0]<n[1]?(a=n[0],o=n[1]):(a=n[1],o=n[0]),e>=a&&e<=o);var a,o},pathArc:function(e,t,n,r,a){return f(null,e,t,n,r,a,0)},pathSector:function(e,t,n,r,a){return f(null,e,t,n,r,a,1)},pathAnnulus:function(e,t,n,r,a,o){return f(e,t,n,r,a,o,1)}}},{"./mod":448}],424:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"==typeof e&&(e=e.replace(o,"")),r(e)?Number(e):a}},{"../constants/numerical":419,"fast-isnumeric":149}],425:[function(e,t,n){"use strict";t.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},{}],426:[function(e,t,n){"use strict";t.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},{}],427:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("tinycolor2"),o=e("../plots/attributes"),i=e("../components/colorscale/get_scale"),s=(Object.keys(e("../components/colorscale/scales")),e("./nested_property")),l=e("./regex").counter,u=e("../constants/interactions").DESELECTDIM,c=e("./mod").modHalf,f=e("./is_array").isArrayOrTypedArray;function d(e,t){var r=n.valObjectMeta[t.valType];if(t.arrayOk&&f(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var a={},o=a,i={set:function(e){o=e}};return r.coerceFunction(e,i,a,t),o!==a}n.valObjectMeta={data_array:{coerceFunction:function(e,t,n){f(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var a=String(n[r]);if("/"===a.charAt(0)&&"/"===a.charAt(a.length-1)){var o=new RegExp(a.substr(1,a.length-2));if(o.test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,a){!r(e)||void 0!==a.min&&e<a.min||void 0!==a.max&&e>a.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,a){e%1||!r(e)||void 0!==a.min&&e<a.min||void 0!==a.max&&e>a.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){if("string"!=typeof e){var a="number"==typeof e;!0!==r.strict&&a?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){a(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){Array.isArray(e)&&e.length&&e.every(function(e){return a(e).isValid()})?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(i(e,n))}},angle:{coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?t.set(c(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var a=r.regex||l(n);"string"==typeof e&&a.test(e)?t.set(e):t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"==typeof e&&!!l(n).test(e)}},flaglist:{coerceFunction:function(e,t,n,r){if("string"==typeof e)if(-1===(r.extras||[]).indexOf(e)){for(var a=e.split("+"),o=0;o<a.length;){var i=a[o];-1===r.flags.indexOf(i)||a.indexOf(i)<o?a.splice(o,1):o++}a.length?t.set(a.join("+")):t.set(n)}else t.set(e);else t.set(n)}},any:{coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,t,r,a){function o(e,t,r){var a,o={set:function(e){a=e}};return void 0===r&&(r=t.dflt),n.valObjectMeta[t.valType].coerceFunction(e,o,r,t),a}var i=2===a.dimensions||"1-2"===a.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,l,u,c,f,d,h=a.items,p=[],m=Array.isArray(h),v=m&&i&&Array.isArray(h[0]),g=i&&m&&!v,y=m&&!g?h.length:e.length;if(r=Array.isArray(r)?r:[],i)for(s=0;s<y;s++)for(p[s]=[],u=Array.isArray(e[s])?e[s]:[],f=g?h.length:m?h[s].length:u.length,l=0;l<f;l++)c=g?h[l]:m?h[s][l]:h,void 0!==(d=o(u[l],c,(r[s]||[])[l]))&&(p[s][l]=d);else for(s=0;s<y;s++)void 0!==(d=o(e[s],m?h[s]:h,r[s]))&&(p[s]=d);t.set(p)}else t.set(r)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),a=2===t.dimensions;if(!t.freeLength&&e.length!==n.length)return!1;for(var o=0;o<e.length;o++)if(a){if(!Array.isArray(e[o])||!t.freeLength&&e[o].length!==n[o].length)return!1;for(var i=0;i<e[o].length;i++)if(!d(e[o][i],r?n[o][i]:n))return!1}else if(!d(e[o],r?n[o]:n))return!1;return!0}}},n.coerce=function(e,t,r,a,o){var i=s(r,a).get(),l=s(e,a),u=s(t,a),c=l.get(),h=t._template;if(void 0===c&&h&&(c=s(h,a).get(),h=0),void 0===o&&(o=i.dflt),i.arrayOk&&f(c))return u.set(c),c;var p=n.valObjectMeta[i.valType].coerceFunction;p(c,u,o,i);var m=u.get();return h&&m===o&&!d(c,i)&&(c=s(h,a).get(),p(c,u,o,i),m=u.get()),m},n.coerce2=function(e,t,r,a,o){var i=s(e,a),l=n.coerce(e,t,r,a,o),u=i.get();return void 0!==u&&null!==u&&l},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.coerceHoverinfo=function(e,t,r){var a,i=t._module.attributes,s=i.hoverinfo?i:o,l=s.hoverinfo;if(1===r._dataLength){var u="all"===l.dflt?l.flags.slice():l.dflt.split("+");u.splice(u.indexOf("name"),1),a=u.join("+")}return n.coerce(e,t,s,"hoverinfo",a)},n.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n,r,a=e.marker.opacity;void 0!==a&&(f(a)||e.selected||e.unselected||(n=a,r=u*a),t("selected.marker.opacity",n),t("unselected.marker.opacity",r))}},n.validate=d},{"../components/colorscale/get_scale":331,"../components/colorscale/scales":337,"../constants/interactions":418,"../plots/attributes":485,"./is_array":441,"./mod":448,"./nested_property":449,"./regex":457,"fast-isnumeric":149,tinycolor2:283}],428:[function(e,t,n){"use strict";var r,a,o=e("d3"),i=e("fast-isnumeric"),s=e("./loggers"),l=e("./mod").mod,u=e("../constants/numerical"),c=u.BADNUM,f=u.ONEDAY,d=u.ONEHOUR,h=u.ONEMIN,p=u.ONESEC,m=u.EPOCHJD,v=e("../registry"),g=o.time.format.utc,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function x(e){return e&&v.componentsRegistry.calendars&&"string"==typeof e&&"gregorian"!==e}function w(e,t){return String(e+Math.pow(10,t)).substr(1)}n.dateTick0=function(e,t){return x(e)?t?v.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:v.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"},n.dfltRange=function(e){return x(e)?v.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime},n.dateTime2ms=function(e,t){if(n.isJSDate(e)){var o=e.getTimezoneOffset()*h,i=(e.getUTCMinutes()-e.getMinutes())*h+(e.getUTCSeconds()-e.getSeconds())*p+(e.getUTCMilliseconds()-e.getMilliseconds());if(i){var s=3*h;o=o-s/2+l(i-o+s/2,s)}return(e=Number(e)-o)>=r&&e<=a?e:c}if("string"!=typeof e&&"number"!=typeof e)return c;e=String(e);var u=x(t),g=e.charAt(0);!u||"G"!==g&&"g"!==g||(e=e.substr(1),t="");var w=u&&"chinese"===t.substr(0,7),k=e.match(w?b:y);if(!k)return c;var A=k[1],T=k[3]||"1",M=Number(k[5]||1),E=Number(k[7]||0),C=Number(k[9]||0),S=Number(k[11]||0);if(u){if(2===A.length)return c;var j;A=Number(A);try{var O=v.getComponentMethod("calendars","getCal")(t);if(w){var P="i"===T.charAt(T.length-1);T=parseInt(T,10),j=O.newDate(A,O.toMonthIndex(A,T,P),M)}else j=O.newDate(A,Number(T),M)}catch(e){return c}return j?(j.toJD()-m)*f+E*d+C*h+S*p:c}A=2===A.length?(Number(A)+2e3-_)%100+_:Number(A),T-=1;var N=new Date(Date.UTC(2e3,T,M,E,C));return N.setUTCFullYear(A),N.getUTCMonth()!==T?c:N.getUTCDate()!==M?c:N.getTime()+S*p},r=n.MIN_MS=n.dateTime2ms("-9999"),a=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==c};var k=90*f,A=3*d,T=5*h;function M(e,t,n,r,a){if((t||n||r||a)&&(e+=" "+w(t,2)+":"+w(n,2),(r||a)&&(e+=":"+w(r,2),a))){for(var o=4;a%10==0;)o-=1,a/=10;e+="."+w(a,o)}return e}n.ms2DateTime=function(e,t,n){if("number"!=typeof e||!(e>=r&&e<=a))return c;t||(t=0);var o,i,s,u,y,b,_=Math.floor(10*l(e+.05,1)),w=Math.round(e-_/10);if(x(n)){var E=Math.floor(w/f)+m,C=Math.floor(l(e,f));try{o=v.getComponentMethod("calendars","getCal")(n).fromJD(E).formatDate("yyyy-mm-dd")}catch(e){o=g("G%Y-%m-%d")(new Date(w))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;i=t<k?Math.floor(C/d):0,s=t<k?Math.floor(C%d/h):0,u=t<A?Math.floor(C%h/p):0,y=t<T?C%p*10+_:0}else b=new Date(w),o=g("%Y-%m-%d")(b),i=t<k?b.getUTCHours():0,s=t<k?b.getUTCMinutes():0,u=t<A?b.getUTCSeconds():0,y=t<T?10*b.getUTCMilliseconds()+_:0;return M(o,i,s,u,y)},n.ms2DateTimeLocal=function(e){if(!(e>=r+f&&e<=a-f))return c;var t=Math.floor(10*l(e+.05,1)),n=new Date(Math.round(e-t/10)),i=o.time.format("%Y-%m-%d")(n),s=n.getHours(),u=n.getMinutes(),d=n.getSeconds(),h=10*n.getUTCMilliseconds()+t;return M(i,s,u,d,h)},n.cleanDate=function(e,t,r){if(n.isJSDate(e)||"number"==typeof e){if(x(r))return s.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==t)return t}else if(!n.isDateTime(e,r))return s.error("unrecognized date",e),t;return e};var E=/%\d?f/g;function C(e,t,n,r){e=e.replace(E,function(e){var n=Math.min(+e.charAt(1)||6,6),r=(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0";return r});var a=new Date(Math.floor(t+.05));if(x(r))try{e=v.getComponentMethod("calendars","worldCalFmt")(e,t,r)}catch(e){return"Invalid"}return n(e)(a)}var S=[59,59.9,59.99,59.999,59.9999];n.formatDate=function(e,t,n,r,a,o){if(a=x(a)&&a,!t)if("y"===n)t=o.year;else if("m"===n)t=o.month;else{if("d"!==n)return function(e,t){var n=l(e+.05,f),r=w(Math.floor(n/d),2)+":"+w(l(Math.floor(n/h),60),2);if("M"!==t){i(t)||(t=0);var a=Math.min(l(e/p,60),S[t]),o=(100+a).toFixed(t).substr(1);t>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+o}return r}(e,n)+"\n"+C(o.dayMonthYear,e,r,a);t=o.dayMonth+"\n"+o.year}return C(t,e,r,a)};var j=3*f;n.incrementMonth=function(e,t,n){n=x(n)&&n;var r=l(e,f);if(e=Math.round(e-r),n)try{var a=Math.round(e/f)+m,o=v.getComponentMethod("calendars","getCal")(n),i=o.fromJD(a);return t%12?o.add(i,t,"m"):o.add(i,t/12,"y"),(i.toJD()-m)*f+r}catch(t){s.error("invalid ms "+e+" in calendar "+n)}var u=new Date(e+j);return u.setUTCMonth(u.getUTCMonth()+t)+r-j},n.findExactDates=function(e,t){for(var n,r,a=0,o=0,s=0,l=0,u=x(t)&&v.getComponentMethod("calendars","getCal")(t),c=0;c<e.length;c++)if(r=e[c],i(r)){if(!(r%f))if(u)try{1===(n=u.fromJD(r/f+m)).day()?1===n.month()?a++:o++:s++}catch(e){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?a++:o++:s++}else l++;s+=o+=a;var d=e.length-l;return{exactYears:a/d,exactMonths:o/d,exactDays:s/d}}},{"../constants/numerical":419,"../registry":532,"./loggers":445,"./mod":448,d3:85,"fast-isnumeric":149}],429:[function(e,t,n){"use strict";t.exports=function(e,t){return Array.isArray(e)||(e=[]),e.length=t,e}},{}],430:[function(e,t,n){"use strict";var r=e("events").EventEmitter,a={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,a){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,a),t.emit(r,a),n.emit(r,a)},e},triggerHandler:function(e,t,n){var r,a;"undefined"!=typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var o=e._ev;if(!o)return r;var i,s=o._events[t];if(!s)return r;function l(e){return e.listener?(o.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(o,[n]))):e.apply(o,[n])}for(s=Array.isArray(s)?s:[s],i=0;i<s.length-1;i++)l(s[i]);return a=l(s[i]),void 0!==r?r:a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};t.exports=a},{events:50}],431:[function(e,t,n){"use strict";var r=e("./is_plain_object.js"),a=Array.isArray;function o(e,t,n,i){var s,l,u,c,f,d,h=e[0],p=e.length;if(2===p&&a(h)&&a(e[1])&&0===h.length){if(function(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"==typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}(e[1],h))return h;h.splice(0,h.length)}for(var m=1;m<p;m++)for(l in s=e[m])u=h[l],c=s[l],i&&a(c)?h[l]=c:t&&c&&(r(c)||(f=a(c)))?(f?(f=!1,d=u&&a(u)?u:[]):d=u&&r(u)?u:{},h[l]=o([d,c],t,n,i)):(void 0!==c||n)&&(h[l]=c);return h}n.extendFlat=function(){return o(arguments,!1,!1,!1)},n.extendDeep=function(){return o(arguments,!0,!1,!1)},n.extendDeepAll=function(){return o(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":442}],432:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,a=0;a<e.length;a++){var o=e[a];1!==t[o]&&(t[o]=1,n[r++]=o)}return n}},{}],433:[function(e,t,n){"use strict";function r(e){return!0===e.visible}function a(e){return!0===e[0].trace.visible}t.exports=function(e){for(var t=function(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}(e)?a:r,n=[],o=0;o<e.length;o++){var i=e[o];t(i)&&n.push(i)}return n}},{}],434:[function(e,t,n){"use strict";var r,a,o,i=e("./mod").mod;function s(e,t,n,r,a,o,i,s){var l=n-e,u=a-e,c=i-a,f=r-t,d=o-t,h=s-o,p=l*h-c*f;if(0===p)return null;var m=(u*h-c*d)/p,v=(u*f-l*d)/p;return v<0||v>1||m<0||m>1?null:{x:e+l*m,y:t+f*m}}function l(e,t,n,r,a){var o=r*e+a*t;if(o<0)return r*r+a*a;if(o>n){var i=r-e,s=a-t;return i*i+s*s}var l=r*t-a*e;return l*l/n}n.segmentsIntersect=s,n.segmentDistance=function(e,t,n,r,a,o,i,u){if(s(e,t,n,r,a,o,i,u))return 0;var c=n-e,f=r-t,d=i-a,h=u-o,p=c*c+f*f,m=d*d+h*h,v=Math.min(l(c,f,p,a-e,o-t),l(c,f,p,i-e,u-t),l(d,h,m,e-a,t-o),l(d,h,m,n-a,r-o));return Math.sqrt(v)},n.getTextLocation=function(e,t,n,s){if(e===a&&s===o||(r={},a=e,o=s),r[n])return r[n];var l=e.getPointAtLength(i(n-s/2,t)),u=e.getPointAtLength(i(n+s/2,t)),c=Math.atan((u.y-l.y)/(u.x-l.x)),f=e.getPointAtLength(i(n,t)),d=(4*f.x+l.x+u.x)/6,h=(4*f.y+l.y+u.y)/6,p={x:d,y:h,theta:c};return r[n]=p,p},n.clearLocationCache=function(){a=null},n.getVisibleSegment=function(e,t,n){var r,a,o=t.left,i=t.right,s=t.top,l=t.bottom,u=0,c=e.getTotalLength(),f=c;function d(t){var n=e.getPointAtLength(t);0===t?r=n:t===c&&(a=n);var u=n.x<o?o-n.x:n.x>i?n.x-i:0,f=n.y<s?s-n.y:n.y>l?n.y-l:0;return Math.sqrt(u*u+f*f)}for(var h=d(u);h;){if((u+=h+n)>f)return;h=d(u)}for(h=d(f);h;){if(u>(f-=h+n))return;h=d(f)}return{min:u,max:f,len:f-u,total:c,isClosed:0===u&&f===c&&Math.abs(r.x-a.x)<.1&&Math.abs(r.y-a.y)<.1}},n.findPointOnPath=function(e,t,n,r){for(var a,o,i,s=(r=r||{}).pathLength||e.getTotalLength(),l=r.tolerance||.001,u=r.iterationLimit||30,c=e.getPointAtLength(0)[n]>e.getPointAtLength(s)[n]?-1:1,f=0,d=0,h=s;f<u;){if(a=(d+h)/2,o=e.getPointAtLength(a),i=o[n]-t,Math.abs(i)<l)return o;c*i>0?h=a:d=a,f++}return o}},{"./mod":448}],435:[function(e,t,n){"use strict";t.exports=function(e){var t;if("string"==typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null===e||void 0===e)throw new Error("DOM element provided is null or undefined");return e}},{}],436:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("tinycolor2"),o=e("color-normalize"),i=e("../components/colorscale"),s=e("../components/color/attributes").defaultLine,l=e("./is_array").isArrayOrTypedArray,u=o(s),c=1;function f(e,t){var n=e;return n[3]*=t,n}function d(e){if(r(e))return u;var t=o(e);return t.length?t:u}function h(e){return r(e)?e:c}t.exports={formatColor:function(e,t,n){var r,a,s,p,m,v=e.color,g=l(v),y=l(t),b=[];if(r=void 0!==e.colorscale?i.makeColorScaleFunc(i.extractScale(e.colorscale,e.cmin,e.cmax)):d,a=g?function(e,t){return void 0===e[t]?u:o(r(e[t]))}:d,s=y?function(e,t){return void 0===e[t]?c:h(e[t])}:h,g||y)for(var _=0;_<n;_++)p=a(v,_),m=s(t,_),b[_]=f(p,m);else b=f(o(v),t);return b},parseColorScale:function(e,t){return void 0===t&&(t=1),e.map(function(e){var n=e[0],r=a(e[1]),o=r.toRgb();return{index:n,rgb:[o.r,o.g,o.b,t]}})}}},{"../components/color/attributes":317,"../components/colorscale":333,"./is_array":441,"color-normalize":63,"fast-isnumeric":149,tinycolor2:283}],437:[function(e,t,n){"use strict";var r=e("./identity");function a(e){return[e]}t.exports={keyFun:function(e){return e.key},repeat:a,descend:r,wrap:a,unwrap:function(e){return e[0]}}},{"./identity":439}],438:[function(e,t,n){"use strict";var r=e("superscript-text"),a=e("./svg_text_utils").convertEntities;t.exports=function(e){return""+a(function(e){return e.replace(/\<.*\>/g,"")}(function(e){for(var t=0;(t=e.indexOf("<sup>",t))>=0;){var n=e.indexOf("</sup>",t);if(n<t)break;e=e.slice(0,t)+r(e.slice(t+5,n))+e.slice(n+6)}return e}(function(e){return e.replace(/\<br\>/g,"\n")}(e))))}},{"./svg_text_utils":465,"superscript-text":276}],439:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],440:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("../constants/numerical"),i=o.FP_SAFE,s=o.BADNUM,l=t.exports={};l.nestedProperty=e("./nested_property"),l.keyedContainer=e("./keyed_container"),l.relativeAttr=e("./relative_attr"),l.isPlainObject=e("./is_plain_object"),l.toLogRange=e("./to_log_range"),l.relinkPrivateKeys=e("./relink_private"),l.ensureArray=e("./ensure_array");var u=e("./mod");l.mod=u.mod,l.modHalf=u.modHalf;var c=e("./is_array");l.isTypedArray=c.isTypedArray,l.isArrayOrTypedArray=c.isArrayOrTypedArray,l.isArray1D=c.isArray1D;var f=e("./coerce");l.valObjectMeta=f.valObjectMeta,l.coerce=f.coerce,l.coerce2=f.coerce2,l.coerceFont=f.coerceFont,l.coerceHoverinfo=f.coerceHoverinfo,l.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,l.validate=f.validate;var d=e("./dates");l.dateTime2ms=d.dateTime2ms,l.isDateTime=d.isDateTime,l.ms2DateTime=d.ms2DateTime,l.ms2DateTimeLocal=d.ms2DateTimeLocal,l.cleanDate=d.cleanDate,l.isJSDate=d.isJSDate,l.formatDate=d.formatDate,l.incrementMonth=d.incrementMonth,l.dateTick0=d.dateTick0,l.dfltRange=d.dfltRange,l.findExactDates=d.findExactDates,l.MIN_MS=d.MIN_MS,l.MAX_MS=d.MAX_MS;var h=e("./search");l.findBin=h.findBin,l.sorterAsc=h.sorterAsc,l.sorterDes=h.sorterDes,l.distinctVals=h.distinctVals,l.roundUp=h.roundUp,l.sort=h.sort,l.findIndexOfMin=h.findIndexOfMin;var p=e("./stats");l.aggNums=p.aggNums,l.len=p.len,l.mean=p.mean,l.midRange=p.midRange,l.variance=p.variance,l.stdev=p.stdev,l.interp=p.interp;var m=e("./matrix");l.init2dArray=m.init2dArray,l.transposeRagged=m.transposeRagged,l.dot=m.dot,l.translationMatrix=m.translationMatrix,l.rotationMatrix=m.rotationMatrix,l.rotationXYMatrix=m.rotationXYMatrix,l.apply2DTransform=m.apply2DTransform,l.apply2DTransform2=m.apply2DTransform2;var v=e("./angles");l.deg2rad=v.deg2rad,l.rad2deg=v.rad2deg,l.angleDelta=v.angleDelta,l.angleDist=v.angleDist,l.isFullCircle=v.isFullCircle,l.isAngleInsideSector=v.isAngleInsideSector,l.isPtInsideSector=v.isPtInsideSector,l.pathArc=v.pathArc,l.pathSector=v.pathSector,l.pathAnnulus=v.pathAnnulus;var g=e("./geometry2d");l.segmentsIntersect=g.segmentsIntersect,l.segmentDistance=g.segmentDistance,l.getTextLocation=g.getTextLocation,l.clearLocationCache=g.clearLocationCache,l.getVisibleSegment=g.getVisibleSegment,l.findPointOnPath=g.findPointOnPath;var y=e("./extend");l.extendFlat=y.extendFlat,l.extendDeep=y.extendDeep,l.extendDeepAll=y.extendDeepAll,l.extendDeepNoArrays=y.extendDeepNoArrays;var b=e("./loggers");l.log=b.log,l.warn=b.warn,l.error=b.error;var _=e("./regex");l.counterRegex=_.counter;var x=e("./throttle");function w(e){var t={};for(var n in e)for(var r=e[n],a=0;a<r.length;a++)t[r[a]]=+n;return t}l.throttle=x.throttle,l.throttleDone=x.done,l.clearThrottle=x.clear,l.getGraphDiv=e("./get_graph_div"),l.clearResponsive=e("./clear_responsive"),l.makeTraceGroups=e("./make_trace_groups"),l._=e("./localize"),l.notifier=e("./notifier"),l.filterUnique=e("./filter_unique"),l.filterVisible=e("./filter_visible"),l.pushUnique=e("./push_unique"),l.cleanNumber=e("./clean_number"),l.ensureNumber=function(e){return a(e)?(e=Number(e))<-i||e>i?s:a(e)?Number(e):s:s},l.isIndex=function(e,t){return!(void 0!==t&&e>=t)&&a(e)&&e>=0&&e%1==0},l.noop=e("./noop"),l.identity=e("./identity"),l.repeat=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},l.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var a=0;a<t.length;a++){var o=t[a],i=l.nestedProperty(e,o.replace("?",n)),s=l.nestedProperty(e,o.replace("?",r)),u=i.get();i.set(s.get()),s.set(u)}},l.raiseToTop=function(e){e.parentNode.appendChild(e)},l.cancelTransition=function(e){return e.transition().duration(0)},l.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},l.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},l.simpleMap=function(e,t,n,r){for(var a=e.length,o=new Array(a),i=0;i<a;i++)o[i]=t(e[i],n,r);return o},l.randstr=function e(t,n,r,a){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var o,i,s,u=Math.log(Math.pow(2,n))/Math.log(r),c="";for(o=2;u===1/0;o*=2)u=Math.log(Math.pow(2,n/o))/Math.log(r)*o;var f=u-Math.floor(u);for(o=0;o<Math.floor(u);o++)s=Math.floor(Math.random()*r).toString(r),c=s+c;f&&(i=Math.pow(r,f),s=Math.floor(Math.random()*i).toString(r),c=s+c);var d=parseInt(c,r);return t&&t[c]||d!==1/0&&d>=Math.pow(2,n)?a>10?(l.warn("randstr failed uniqueness"),c):e(t,n,r,(a||0)+1):c},l.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={optionList:[],_newoption:function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)}};return n["_"+t]=e,n},l.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,a,o,i=e.length,s=2*i,l=2*t-1,u=new Array(l),c=new Array(i);for(n=0;n<l;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<i;n++){for(o=0,r=0;r<l;r++)(a=n+r+1-t)<-i?a-=s*Math.round(a/s):a>=s&&(a-=s*Math.floor(a/s)),a<0?a=-1-a:a>=i&&(a=s-1-a),o+=e[a]*u[r];c[n]=o}return c},l.syncOrAsync=function(e,t,n){var r,a;function o(){return l.syncOrAsync(e,t,n)}for(;e.length;)if(a=e.splice(0,1)[0],(r=a(t))&&r.then)return r.then(o).then(void 0,l.promiseError);return n&&n(t)},l.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},l.noneOrAll=function(e,t,n){if(e){var r,a,o=!1,i=!0;for(r=0;r<n.length;r++)void 0!==(a=e[n[r]])&&null!==a?o=!0:i=!1;if(o&&!i)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},l.mergeArray=function(e,t,n){if(l.isArrayOrTypedArray(e))for(var r=Math.min(e.length,t.length),a=0;a<r;a++)t[a][n]=e[a]},l.fillArray=function(e,t,n,r){if(r=r||l.identity,l.isArrayOrTypedArray(e))for(var a=0;a<t.length;a++)t[a][n]=r(e[a])},l.castOption=function(e,t,n,r){r=r||l.identity;var a=l.nestedProperty(e,n).get();return l.isArrayOrTypedArray(a)?Array.isArray(t)&&l.isArrayOrTypedArray(a[t[0]])?r(a[t[0]][t[1]]):r(a[t]):a},l.extractOption=function(e,t,n,r){if(n in e)return e[n];var a=l.nestedProperty(t,r).get();return Array.isArray(a)?void 0:a},l.tagSelected=function(e,t,n){var r,a=t.selectedpoints,o=t._indexToPoints;function i(t){return void 0!==t&&t<e.length}o&&(r=w(o));for(var s=0;s<a.length;s++){var u=a[s];if(l.isIndex(u)){var c=r?r[u]:u,f=n?n[c]:c;i(f)&&(e[f].selected=1)}}},l.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=w(n),a=[],o=0;o<t.length;o++){var i=t[o];if(l.isIndex(i)){var s=r[i];l.isIndex(s)&&a.push(s)}}return a}return t},l.getTargetArray=function(e,t){var n=t.target;if("string"==typeof n&&n){var r=l.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},l.minExtend=function(e,t){var n={};"object"!=typeof t&&(t={});var r,a,o,i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],o=e[a],"_"!==a.charAt(0)&&"function"!=typeof o&&("module"===a?n[a]=o:Array.isArray(o)?n[a]=o.slice(0,3):n[a]=o&&"object"==typeof o?l.minExtend(e[a],t[a]):o);for(i=Object.keys(t),r=0;r<i.length;r++)a=i[r],"object"==typeof(o=t[a])&&a in n&&"object"==typeof n[a]||(n[a]=o);return n},l.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},l.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},l.isPlotDiv=function(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},l.removeElement=function(e){var t=e&&e.parentNode;t&&t.removeChild(e)},l.addStyleRule=function(e,t){if(!l.styleSheet){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n),l.styleSheet=n.sheet}var r=l.styleSheet;r.insertRule?r.insertRule(e+"{"+t+"}",0):r.addRule?r.addRule(e,t,0):l.warn("addStyleRule failed")},l.isIE=function(){return void 0!==window.navigator.msSaveBlob},l.isD3Selection=function(e){return e&&"function"==typeof e.classed},l.ensureSingle=function(e,t,n,r){var a=e.select(t+(n?"."+n:""));if(a.size())return a;var o=e.append(t);return n&&o.classed(n,!0),r&&o.call(r),o},l.ensureSingleById=function(e,t,n,r){var a=e.select(t+"#"+n);if(a.size())return a;var o=e.append(t).attr("id",n);return r&&o.call(r),o},l.objectFromPath=function(e,t){for(var n,r=e.split("."),a=n={},o=0;o<r.length;o++){var i=r[o],s=null,l=r[o].match(/(.*)\[([0-9]+)\]/);l?(i=l[1],s=l[2],n=n[i]=[],o===r.length-1?n[s]=t:n[s]={},n=n[s]):(o===r.length-1?n[i]=t:n[i]={},n=n[i])}return a};var k=/^([^\[\.]+)\.(.+)?/,A=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;l.expandObjectPaths=function(e){var t,n,r,a,o,i,s;if("object"==typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(k))?(a=e[n],r=t[1],delete e[n],e[r]=l.extendDeepNoArrays(e[r]||{},l.objectFromPath(n,l.expandObjectPaths(a))[r])):(t=n.match(A))?(a=e[n],r=t[1],o=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(s=t[4],i=e[r][o]=e[r][o]||{},l.extendDeepNoArrays(i,l.objectFromPath(s,l.expandObjectPaths(a)))):e[r][o]=l.expandObjectPaths(a)):e[n]=l.expandObjectPaths(e[n]));return e},l.numSeparate=function(e,t,n){if(n||(n=!1),"string"!=typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"==typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,a=t.charAt(0),o=t.charAt(1),i=e.split("."),s=i[0],l=i.length>1?a+i[1]:"";if(o&&(i.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+o+"$2");return s+l};var T=/%{([^\s%{}]*)}/g,M=/^\w*$/;l.templateString=function(e,t){var n={};return e.replace(T,function(e,r){return M.test(r)?t[r]||"":(n[r]=n[r]||l.nestedProperty(t,r).get,n[r]()||"")})},l.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,a=0,o=0;o<n;o++){var i=e.charCodeAt(o)||0,s=t.charCodeAt(o)||0,l=i>=48&&i<=57,u=s>=48&&s<=57;if(l&&(r=10*r+i-48),u&&(a=10*a+s-48),!l||!u){if(r!==a)return r-a;if(i!==s)return i-s}}return a-r};var E=2e9;l.seedPseudoRandom=function(){E=2e9},l.pseudoRandom=function(){var e=E;return E=(69069*E+1)%4294967296,Math.abs(E-e)<429496729?l.pseudoRandom():E/4294967296}},{"../constants/numerical":419,"./angles":423,"./clean_number":424,"./clear_responsive":426,"./coerce":427,"./dates":428,"./ensure_array":429,"./extend":431,"./filter_unique":432,"./filter_visible":433,"./geometry2d":434,"./get_graph_div":435,"./identity":439,"./is_array":441,"./is_plain_object":442,"./keyed_container":443,"./localize":444,"./loggers":445,"./make_trace_groups":446,"./matrix":447,"./mod":448,"./nested_property":449,"./noop":450,"./notifier":451,"./push_unique":455,"./regex":457,"./relative_attr":458,"./relink_private":459,"./search":460,"./stats":463,"./throttle":466,"./to_log_range":467,d3:85,"fast-isnumeric":149}],441:[function(e,t,n){"use strict";var r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},a="undefined"==typeof DataView?function(){}:DataView;function o(e){return r.isView(e)&&!(e instanceof a)}function i(e){return Array.isArray(e)||o(e)}t.exports={isTypedArray:o,isArrayOrTypedArray:i,isArray1D:function(e){return!i(e[0])}}},{}],442:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},{}],443:[function(e,t,n){"use strict";var r=e("./nested_property"),a=/^\w*$/;t.exports=function(e,t,n,o){var i,s,l;n=n||"name",o=o||"value";var u={};t&&t.length?(l=r(e,t),s=l.get()):s=e,t=t||"";var c={};if(s)for(i=0;i<s.length;i++)c[s[i][n]]=i;var f=a.test(o),d={set:function(e,t){var a=null===t?4:0;if(!s){if(!l||4===a)return;s=[],l.set(s)}var i=c[e];if(void 0===i){if(4===a)return;a|=3,i=s.length,c[e]=i}else t!==(f?s[i][o]:r(s[i],o).get())&&(a|=2);var h=s[i]=s[i]||{};return h[n]=e,f?h[o]=t:r(h,o).set(t),null!==t&&(a&=-5),u[i]=u[i]|a,d},get:function(e){if(s){var t=c[e];return void 0===t?void 0:f?s[t][o]:r(s[t],o).get()}},rename:function(e,t){var r=c[e];return void 0===r?d:(u[r]=1|u[r],c[t]=r,delete c[e],s[r][n]=t,d)},remove:function(e){var t=c[e];if(void 0===t)return d;var a=s[t];if(Object.keys(a).length>2)return u[t]=2|u[t],d.set(e,null);if(f){for(i=t;i<s.length;i++)u[i]=3|u[i];for(i=t;i<s.length;i++)c[s[i][n]]--;s.splice(t,1),delete c[e]}else r(a,o).set(null),u[t]=6|u[t];return d},constructUpdate:function(){for(var e,a,i={},l=Object.keys(u),c=0;c<l.length;c++)a=l[c],e=t+"["+a+"]",s[a]?(1&u[a]&&(i[e+"."+n]=s[a][n]),2&u[a]&&(i[e+"."+o]=f?4&u[a]?null:s[a][o]:4&u[a]?null:r(s[a],o).get())):i[e]=null;return i}};return d}},{"./nested_property":449}],444:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e,t){for(var n=e._context.locale,a=0;a<2;a++){for(var o=e._context.locales,i=0;i<2;i++){var s=(o[n]||{}).dictionary;if(s){var l=s[t];if(l)return l}o=r.localeRegistry}var u=n.split("-")[0];if(u===n)break;n=u}return t}},{"../registry":532}],445:[function(e,t,n){"use strict";var r=e("../plot_api/plot_config"),a=t.exports={};function o(e,t){if(e.apply)e.apply(e,t);else for(var n=0;n<t.length;n++)e(t[n])}a.log=function(){if(r.logging>1){for(var e=["LOG:"],t=0;t<arguments.length;t++)e.push(arguments[t]);o(console.trace||console.log,e)}},a.warn=function(){if(r.logging>0){for(var e=["WARN:"],t=0;t<arguments.length;t++)e.push(arguments[t]);o(console.trace||console.log,e)}},a.error=function(){if(r.logging>0){for(var e=["ERROR:"],t=0;t<arguments.length;t++)e.push(arguments[t]);o(console.error,e)}}},{"../plot_api/plot_config":476}],446:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=e.selectAll("g."+n.replace(/\s/g,".")).data(t,function(e){return e[0].trace.uid});return r.exit().remove(),r.enter().append("g").attr("class",n),r.order(),r}},{}],447:[function(e,t,n){"use strict";n.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,a=e.length;for(t=0;t<a;t++)r=Math.max(r,e[t].length);var o=new Array(r);for(t=0;t<r;t++)for(o[t]=new Array(a),n=0;n<a;n++)o[t][n]=e[n][t];return o},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,a,o=e.length;if(e[0].length)for(r=new Array(o),a=0;a<o;a++)r[a]=n.dot(e[a],t);else if(t[0].length){var i=n.transposeRagged(t);for(r=new Array(i.length),a=0;a<i.length;a++)r[a]=n.dot(e,i[a])}else for(r=0,a=0;a<o;a++)r+=e[a]*t[a];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}}},{}],448:[function(e,t,n){"use strict";t.exports={mod:function(e,t){var n=e%t;return n<0?n+t:n},modHalf:function(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}}},{}],449:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("./is_array").isArrayOrTypedArray;t.exports=function(e,t){if(r(t))t=String(t);else if("string"!=typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,o,i,l=0,u=t.split(".");l<u.length;){if(n=String(u[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])u[l]=n[1];else{if(0!==l)throw"bad property string";u.splice(0,1)}for(o=n[2].substr(1,n[2].length-2).split("]["),i=0;i<o.length;i++)l++,u.splice(l,0,Number(o[i]))}l++}return"object"!=typeof e?function(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}(e,t,u):{set:s(e,u,t),get:function e(t,n){return function(){var r,o,i,s,l,u=t;for(s=0;s<n.length-1;s++){if(-1===(r=n[s])){for(o=!0,i=[],l=0;l<u.length;l++)i[l]=e(u[l],n.slice(s+1))(),i[l]!==i[0]&&(o=!1);return o?i[0]:i}if("number"==typeof r&&!a(u))return;if("object"!=typeof(u=u[r])||null===u)return}if("object"==typeof u&&null!==u&&null!==(i=u[n[s]]))return i}}(e,u),astr:t,parts:u,obj:e}};var o=/(^|\.)args\[/;function i(e,t){return void 0===e||null===e&&!t.match(o)}function s(e,t,n){return function(r){var o,s,f=e,d="",h=[[e,d]],p=i(r,n);for(s=0;s<t.length-1;s++){if("number"==typeof(o=t[s])&&!a(f))throw"array index but container is not an array";if(-1===o){if(p=!u(f,t.slice(s+1),r,n))break;return}if(!c(f,o,t[s+1],p))break;if("object"!=typeof(f=f[o])||null===f)throw"container is not an object";d=l(d,o),h.push([f,d])}if(p){if(s===t.length-1&&(delete f[t[s]],Array.isArray(f)&&+t[s]==f.length-1))for(;f.length&&void 0===f[f.length-1];)f.pop()}else f[t[s]]=r}}function l(e,t){var n=t;return r(t)?n="["+t+"]":e&&(n="."+t),e+n}function u(e,t,n,r){var o,l=a(n),u=!0,f=n,d=r.replace("-1",0),h=!l&&i(n,d),p=t[0];for(o=0;o<e.length;o++)d=r.replace("-1",o),l&&(f=n[o%n.length],h=i(f,d)),h&&(u=!1),c(e,o,p,h)&&s(e[o],t,r.replace("-1",o))(f);return u}function c(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"==typeof n?[]:{}}return!0}},{"./is_array":441,"fast-isnumeric":149}],450:[function(e,t,n){"use strict";t.exports=function(){}},{}],451:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=[];t.exports=function(e,t){if(-1===o.indexOf(e)){o.push(e);var n=1e3;a(t)?n=t:"long"===t&&(n=3e3);var i=r.select("body").selectAll(".plotly-notifier").data([0]);i.enter().append("div").classed("plotly-notifier",!0);var s=i.selectAll(".notifier-note").data(o);s.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(e){var t=r.select(this);t.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){t.transition().call(l)});for(var a=t.append("p"),o=e.split(/<br\s*\/?>/g),i=0;i<o.length;i++)i&&a.append("br"),a.append("span").text(o[i]);t.transition().duration(700).style("opacity",1).transition().delay(n).call(l)})}function l(e){e.duration(700).style("opacity",0).each("end",function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),r.select(this).remove()})}}},{d3:85,"fast-isnumeric":149}],452:[function(e,t,n){"use strict";var r=e("./setcursor"),a="data-savedcursor";t.exports=function(e,t){var n=e.attr(a);if(t){if(!n){for(var o=(e.attr("class")||"").split(" "),i=0;i<o.length;i++){var s=o[i];0===s.indexOf("cursor-")&&e.attr(a,s.substr(7)).classed(s,!1)}e.attr(a)||e.attr(a,"!!")}r(e,t)}else n&&(e.attr(a,null),"!!"===n?r(e):r(e,n))}},{"./setcursor":461}],453:[function(e,t,n){"use strict";var r=e("./matrix").dot,a=e("../constants/numerical").BADNUM,o=t.exports={};o.tester=function(e){var t,n=e.slice(),r=n[0][0],o=r,i=n[0][1],s=i;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),o=Math.max(o,n[t][0]),i=Math.min(i,n[t][1]),s=Math.max(s,n[t][1]);var l,u=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(u=!0,l=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(u=!0,l=function(e){return e[1]===n[0][1]}));var c=!0,f=n[0];for(t=1;t<n.length;t++)if(f[0]!==n[t][0]||f[1]!==n[t][1]){c=!1;break}return{xmin:r,xmax:o,ymin:i,ymax:s,pts:n,contains:u?function(e,t){var n=e[0],u=e[1];return!(n===a||n<r||n>o||u===a||u<i||u>s||t&&l(e))}:function(e,t){var l=e[0],u=e[1];if(l===a||l<r||l>o||u===a||u<i||u>s)return!1;var c,f,d,h,p,m=n.length,v=n[0][0],g=n[0][1],y=0;for(c=1;c<m;c++)if(f=v,d=g,v=n[c][0],g=n[c][1],h=Math.min(f,v),!(l<h||l>Math.max(f,v)||u>Math.max(d,g)))if(u<Math.min(d,g))l!==h&&y++;else{if(u===(p=v===f?u:d+(l-f)*(g-d)/(v-f)))return 1!==c||!t;u<=p&&l!==h&&y++}return y%2==1},isRect:u,degenerate:c}};var i=o.isSegmentBent=function(e,t,n,a){var o,i,s,l=e[t],u=[e[n][0]-l[0],e[n][1]-l[1]],c=r(u,u),f=Math.sqrt(c),d=[-u[1]/f,u[0]/f];for(o=t+1;o<n;o++)if(i=[e[o][0]-l[0],e[o][1]-l[1]],(s=r(i,u))<0||s>c||Math.abs(r(i,d))>a)return!0;return!1};o.filter=function(e,t){var n=[e[0]],r=0,a=0;function o(o){e.push(o);var s=n.length,l=r;n.splice(a+1);for(var u=l+1;u<e.length;u++)(u===e.length-1||i(e,l,u+1,t))&&(n.push(e[u]),n.length<s-2&&(r=u,a=n.length-1),l=u)}if(e.length>1){var s=e.pop();o(s)}return{addPt:o,raw:e,filtered:n}}},{"../constants/numerical":419,"./matrix":447}],454:[function(e,n,r){(function(t){"use strict";var r=e("./show_no_webgl_msg"),a=e("regl");n.exports=function(e,n){var o=e._fullLayout,i=!0;return o._glcanvas.each(function(r){if(!r.regl&&(!r.pick||o._has("parcoords"))){try{r.regl=a({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:e._context.plotGlPixelRatio||t.devicePixelRatio,extensions:n||[]})}catch(e){i=!1}i&&this.addEventListener("webglcontextlost",function(t){e&&e.emit&&e.emit("plotly_webglcontextlost",{event:t,layer:r.key})},!1)}}),i||r({container:o._glcontainer.node()}),i}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./show_no_webgl_msg":462,regl:258}],455:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){var n,r=t.toString();for(n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===r)return e;e.push(t)}else!t&&0!==t||-1!==e.indexOf(t)||e.push(t);return e}},{}],456:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plot_api/plot_config"),o={add:function(e,t,n,r,o){var i,s;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,i),e.undoQueue.index+=1):i=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(t),i.undo.args.unshift(n),i.redo.calls.push(r),i.redo.args.push(o)),e.undoQueue.queue.length>a.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)o.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)o.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,t,n){e.autoplay=!0,n=function(e,t){for(var n,a=[],o=0;o<t.length;o++)n=t[o],a[o]=n===e?n:"object"==typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return a}(e,n),t.apply(null,n)}};t.exports=o},{"../lib":440,"../plot_api/plot_config":476}],457:[function(e,t,n){"use strict";n.counter=function(e,t,n){var r=(t||"")+(n?"":"$");return"xy"===e?new RegExp("^x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+r):new RegExp("^"+e+"([2-9]|[1-9][0-9]+)?"+r)}},{}],458:[function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,a=/^[^\.\[\]]+$/;t.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(a))throw new Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},{}],459:[function(e,t,n){"use strict";var r=e("./is_array").isArrayOrTypedArray,a=e("./is_plain_object");t.exports=function e(t,n){for(var o in n){var i=n[o],s=t[o];if(s!==i)if("_"===o.charAt(0)||"function"==typeof i){if(o in t)continue;t[o]=i}else if(r(i)&&r(s)&&a(i[0])){if("customdata"===o||"ids"===o)continue;for(var l=Math.min(i.length,s.length),u=0;u<l;u++)s[u]!==i[u]&&a(i[u])&&a(s[u])&&e(s[u],i[u])}else a(i)&&a(s)&&(e(s,i),Object.keys(s).length||delete t[o])}}},{"./is_array":441,"./is_plain_object":442}],460:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("./loggers"),o=e("./identity");function i(e,t){return e<t}function s(e,t){return e<=t}function l(e,t){return e>t}function u(e,t){return e>=t}n.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-1e-9)-1:Math.floor((e-t.start)/t.size+1e-9);var o,c,f=0,d=t.length,h=0,p=d>1?(t[d-1]-t[0])/(d-1):1;for(c=p>=0?n?i:s:n?u:l,e+=1e-9*p*(n?-1:1)*(p>=0?1:-1);f<d&&h++<100;)o=Math.floor((f+d)/2),c(t[o],e)?f=o+1:d=o;return h>90&&a.log("Long binary search..."),f-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e){var t=e.slice();t.sort(n.sorterAsc);for(var r=t.length-1,a=t[r]-t[0]||1,o=a/(r||1)/1e4,i=[t[0]],s=0;s<r;s++)t[s+1]>t[s]+o&&(a=Math.min(a,t[s+1]-t[s]),i.push(t[s+1]));return{vals:i,minDiff:a}},n.roundUp=function(e,t,n){for(var r,a=0,o=t.length-1,i=0,s=n?0:1,l=n?1:0,u=n?Math.ceil:Math.floor;a<o&&i++<100;)r=u((a+o)/2),t[r]<=e?a=r+s:o=r-l;return t[a]},n.sort=function(e,t){for(var n=0,r=0,a=1;a<e.length;a++){var o=t(e[a],e[a-1]);if(o<0?n=1:o>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},n.findIndexOfMin=function(e,t){t=t||o;for(var n,r=1/0,a=0;a<e.length;a++){var i=t(e[a]);i<r&&(r=i,n=a)}return n}},{"./identity":439,"./loggers":445,"fast-isnumeric":149}],461:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},{}],462:[function(e,t,n){"use strict";var r=e("../components/color"),a=function(){};t.exports=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=a);e.destroy=function(){e.container.parentNode.removeChild(e.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=r.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=r.lightLine,n.style["z-index"]=30;var o=document.createElement("p");return o.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",o.style.position="relative",o.style.top="50%",o.style.left="50%",o.style.height="30%",o.style.width="50%",o.style.margin="-15% 0 0 -25%",n.appendChild(o),e.container.appendChild(n),e.container.style.background="#FFFFFF",e.container.onclick=function(){window.open("https://get.webgl.org")},!1}},{"../components/color":318}],463:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("./is_array").isArrayOrTypedArray;n.aggNums=function(e,t,o,i){var s,l;if((!i||i>o.length)&&(i=o.length),r(t)||(t=!1),a(o[0])){for(l=new Array(i),s=0;s<i;s++)l[s]=n.aggNums(e,t,o[s]);o=l}for(s=0;s<i;s++)r(t)?r(o[s])&&(t=e(+t,+o[s])):t=o[s];return t},n.len=function(e){return n.aggNums(function(e){return e+1},0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums(function(e,t){return e+t},0,e)/t},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,t,a){return t||(t=n.len(e)),r(a)||(a=n.mean(e,t)),n.aggNums(function(e,t){return e+Math.pow(t-a,2)},0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"./is_array":441,"fast-isnumeric":149}],464:[function(e,t,n){"use strict";var r=e("color-normalize");t.exports=function(e){return e?r(e):[0,0,0,1]}},{"color-normalize":63}],465:[function(e,t,n){"use strict";var r=e("d3"),a=e("../lib"),o=e("../constants/xmlns_namespaces"),i=e("../constants/alignment").LINE_SPACING;function s(e,t){return e.node().getBoundingClientRect()[t]}var l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,t,v){var E=e.text(),C=!e.attr("data-notex")&&"undefined"!=typeof MathJax&&E.match(l),j=r.select(e.node().parentNode);if(!j.empty()){var O=e.attr("class")?e.attr("class").split(" ")[0]:"text";return O+="-math",j.selectAll("svg."+O).remove(),j.selectAll("g."+O+"-group").remove(),e.style("display",null).attr({"data-unformatted":E,"data-math":"N"}),C?(t&&t._promises||[]).push(new Promise(function(t){e.style("display","none");var n=parseInt(e.node().style.fontSize,10),o={fontSize:n};!function(e,t,n){var o="math-output-"+a.randstr({},64),i=r.select("body").append("div").attr({id:o}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(function(e){return e.replace(u,"\\lt ").replace(c,"\\gt ")}(e));MathJax.Hub.Queue(["Typeset",MathJax.Hub,i.node()],function(){var t=r.select("body").select("#MathJax_SVG_glyphs");if(i.select(".MathJax_SVG").empty()||!i.select("svg").node())a.log("There was an error in the tex syntax.",e),n();else{var o=i.select("svg").node().getBoundingClientRect();n(i.select(".MathJax_SVG"),t,o)}i.remove()})}(C[2],o,function(r,a,o){j.selectAll("svg."+O).remove(),j.selectAll("g."+O+"-group").remove();var i=r&&r.select("svg");if(!i||!i.node())return P(),void t();var l=j.append("g").classed(O+"-group",!0).attr({"pointer-events":"none","data-unformatted":E,"data-math":"Y"});l.node().appendChild(i.node()),a&&a.node()&&i.node().insertBefore(a.node().cloneNode(!0),i.node().firstChild),i.attr({class:O,height:o.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=e.node().style.fill||"black";i.select("g").attr({fill:u,stroke:u});var c=s(i,"width"),f=s(i,"height"),d=+e.attr("x")-c*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],h=n||s(e,"height"),p=-h/4;"y"===O[0]?(l.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+") translate("+[-c/2,p-f/2]+")"}),i.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===O[0]?i.attr({x:e.attr("x"),y:p-f/2}):"a"===O[0]?i.attr({x:0,y:p}):i.attr({x:d,y:+e.attr("y")+p-f/2}),v&&v.call(e,l),t(l)})})):P(),e}function P(){j.empty()||(O=e.attr("class")+"-math",j.select("svg."+O).remove()),e.text("").style("white-space","pre");var t=function(e,t){t=t.replace(g," ");var n,s=!1,l=[],u=-1;function c(){u++;var t=document.createElementNS(o.svg,"tspan");r.select(t).attr({class:"line",dy:u*i+"em"}),e.appendChild(t),n=t;var a=l;if(l=[{node:t}],a.length>1)for(var s=1;s<a.length;s++)v(a[s])}function v(e){var t,a=e.type,i={};if("a"===a){t="a";var s=e.target,u=e.href,c=e.popup;u&&(i={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":u},c&&(i.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+c+'");return false;'))}else t="tspan";e.style&&(i.style=e.style);var f=document.createElementNS(o.svg,t);if("sup"===a||"sub"===a){E(n,p),n.appendChild(f);var m=document.createElementNS(o.svg,"tspan");E(m,p),r.select(m).attr("dy",h[a]),i.dy=d[a],n.appendChild(f),n.appendChild(m)}else n.appendChild(f);r.select(f).attr(i),n=e.node=f,l.push(e)}function E(e,t){e.appendChild(document.createTextNode(t))}function C(e){if(1!==l.length){var r=l.pop();e!==r.type&&a.log("Start tag <"+r.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),n=l[l.length-1].node}else a.log("Ignoring unexpected end tag </"+e+">.",t)}_.test(t)?c():(n=e,l=[{node:e}]);for(var j=t.split(y),O=0;O<j.length;O++){var P=j[O],N=P.match(b),I=N&&N[2].toLowerCase(),L=f[I];if("br"===I)c();else if(void 0===L)E(n,S(P));else if(N[1])C(I);else{var D=N[4],R={type:I},z=T(D,x);if(z?(z=z.replace(M,"$1 fill:"),L&&(z+=";"+L)):L&&(z=L),z&&(R.style=z),"a"===I){s=!0;var F=T(D,w);if(F){var B=document.createElement("a");B.href=F,-1!==m.indexOf(B.protocol)&&(R.href=encodeURI(decodeURI(F)),R.target=T(D,k)||"_blank",R.popup=T(D,A))}}v(R)}}return s}(e.node(),E);t&&e.style("pointer-events","all"),n.positionText(e),v&&v.call(e)}};var u=/(<|&lt;|&#60;)/g,c=/(>|&gt;|&#62;)/g,f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},p="​",m=["http:","https:","mailto:","",void 0,":"],v=new RegExp("</?("+Object.keys(f).join("|")+")( [^>]*)?/?>","g"),g=/(\r\n?|\n)/g,y=/(<[^<>]*>)/,b=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i,x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,A=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function T(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&S(r)}var M=/(^|;)\s*color:/;n.plainText=function(e){return(e||"").replace(v," ")};var E={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function S(e){return e.replace(C,function(e,t){return("#"===t.charAt(0)?function(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n(55232+(e>>10),e%1024+56320)}}("x"===t.charAt(1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):E[t])||e})}function j(e,t,n){var r,a,o,i=n.horizontalAlign,s=n.verticalAlign||"top",l=e.node().getBoundingClientRect(),u=t.node().getBoundingClientRect();return a="bottom"===s?function(){return l.bottom-r.height}:"middle"===s?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},o="right"===i?function(){return l.right-r.width}:"center"===i?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:a()-u.top+"px",left:o()-u.left+"px","z-index":1e3}),this}}n.convertEntities=S,n.lineCount=function(e){return e.selectAll("tspan.line").size()||1},n.positionText=function(e,t,n){return e.each(function(){var e=r.select(this);function a(t,n){return void 0===n?null===(n=e.attr(t))&&(e.attr(t,0),n=0):e.attr(t,n),n}var o=a("x",t),i=a("y",n);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:o,y:i})})},n.makeEditable=function(e,t){var n=t.gd,a=t.delegate,o=r.dispatch("edit","input","cancel"),i=a||e;if(e.style({"pointer-events":a?"none":"all"}),1!==e.size())throw new Error("boo");function s(){!function(){var a=r.select(n).select(".svg-container"),i=a.append("div"),s=e.node().style,u=parseFloat(s.fontSize||12),c=t.text;void 0===c&&(c=e.attr("data-unformatted")),i.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":u,color:t.fill||s.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-u/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c).call(j(e,a,t)).on("blur",function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t,a=r.select(this).attr("class");(t=a?"."+a.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0});var i=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),o.edit.call(e,i)}).on("focus",function(){var e=this;n._editing=!0,r.select(document).on("mouseup",function(){if(r.event.target===e)return!1;document.activeElement===i.node()&&i.node().blur()})}).on("keyup",function(){27===r.event.which?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),o.cancel.call(e,this.textContent)):(o.input.call(e,this.textContent),r.select(this).call(j(e,a,t)))}).on("keydown",function(){13===r.event.which&&this.blur()}).call(l)}(),e.style({opacity:0});var a,s=i.attr("class");(a=s?"."+s.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(a).style({opacity:0})}function l(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}return t.immediate?s():i.on("click",s),r.rebind(e,o,"on")}},{"../constants/alignment":416,"../constants/xmlns_namespaces":420,"../lib":440,d3:85}],466:[function(e,t,n){"use strict";var r={};function a(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function(e,t,n){var o=r[e],i=Date.now();if(!o){for(var s in r)r[s].ts<i-6e4&&delete r[s];o=r[e]={ts:0,timer:null}}function l(){n(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}a(o),i>o.ts+t?l():o.timer=setTimeout(function(){l(),o.timer=null},t)},n.done=function(e){var t=r[e];return t&&t.timer?new Promise(function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}}):Promise.resolve()},n.clear=function(e){if(e)a(r[e]),delete r[e];else for(var t in r)n.clear(t)}},{}],467:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":149}],468:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],469:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],470:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,a=r.layoutArrayContainers,o=r.layoutArrayRegexes,i=e.split("[")[0],s=0;s<o.length;s++)if((n=e.match(o[s]))&&0===n.index){t=n[0];break}if(t||(t=a[a.indexOf(i)]),!t)return!1;var l=e.substr(t.length);return l?!!(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},{"../registry":532}],471:[function(e,t,n){"use strict";var r=e("../lib"),a=r.extendFlat,o=r.isPlainObject,i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","colorbars"]},s={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw"]},l=i.flags.slice().concat(["fullReplot"]),u=s.flags.slice().concat("layoutReplot");function c(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function f(e,t,n){var r=a({},e);for(var i in r){var s=r[i];o(s)&&(r[i]=d(s,t,0,i))}return"from-root"===n&&(r.editType=t),r}function d(e,t,n,r){if(e.valType){var o=a({},e);if(o.editType=t,Array.isArray(e.items)){o.items=new Array(e.items.length);for(var i=0;i<e.items.length;i++)o.items[i]=d(e.items[i],t)}return o}return f(e,t,"_"===r.charAt(0)?"nested":"from-root")}t.exports={traces:i,layout:s,traceFlags:function(){return c(l)},layoutFlags:function(){return c(u)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),a=0;a<r.length;a++)e[r[a]]=!0},overrideAll:f}},{"../lib":440}],472:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("gl-mat4/fromQuat"),o=e("../registry"),i=e("../lib"),s=e("../plots/plots"),l=e("../plots/cartesian/axis_ids"),u=l.cleanId,c=l.getFromTrace,f=e("../components/color");function d(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=u(n,r))}function h(e){if(!i.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function p(e,t,n,r){if(n&&!r)return e;if(r&&!n)return t;if(!e.trim())return t;if(!t.trim())return e;var a,o=Math.min(e.length,t.length);for(a=0;a<o&&e.charAt(a)===t.charAt(a);a++);var i=e.substr(0,a);return i.trim()}function m(e){var t="middle",n="center";return-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right"),t+" "+n}function v(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&i.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var t,n;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var r=(s.subplotsRegistry.cartesian||{}).attrRegex,o=(s.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(e);for(t=0;t<l.length;t++){var c=l[t];if(r&&r.test(c)){var h=e[c];h.anchor&&"free"!==h.anchor&&(h.anchor=u(h.anchor)),h.overlaying&&(h.overlaying=u(h.overlaying)),h.type||(h.isdate?h.type="date":h.islog?h.type="log":!1===h.isdate&&!1===h.islog&&(h.type="linear")),"withzero"!==h.autorange&&"tozero"!==h.autorange||(h.autorange=!0,h.rangemode="tozero"),delete h.islog,delete h.isdate,delete h.categories,v(h,"domain")&&delete h.domain,void 0!==h.autotick&&(void 0===h.tickmode&&(h.tickmode=h.autotick?"auto":"linear"),delete h.autotick)}else if(o&&o.test(c)){var p=e[c],m=p.cameraposition;if(Array.isArray(m)&&4===m[0].length){var g=m[0],y=m[1],b=m[2],_=a([],g),x=[];for(n=0;n<3;++n)x[n]=y[n]+b*_[2+4*n];p.camera={eye:{x:x[0],y:x[1],z:x[2]},center:{x:y[0],y:y[1],z:y[2]},up:{x:_[1],y:_[5],z:_[9]}},delete p.cameraposition}}}var w=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<w;t++){var k=e.annotations[t];i.isPlainObject(k)&&(k.ref&&("paper"===k.ref?(k.xref="paper",k.yref="paper"):"data"===k.ref&&(k.xref="x",k.yref="y"),delete k.ref),d(k,"xref"),d(k,"yref"))}var A=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<A;t++){var T=e.shapes[t];i.isPlainObject(T)&&(d(T,"xref"),d(T,"yref"))}var M=e.legend;return M&&(M.x>3?(M.x=1.02,M.xanchor="left"):M.x<-2&&(M.x=-.02,M.xanchor="right"),M.y>3?(M.y=1.02,M.yanchor="bottom"):M.y<-2&&(M.y=-.02,M.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),f.clean(e),e},n.cleanData=function(e){for(var t=0;t<e.length;t++){var r,a=e[t];if("histogramy"===a.type&&"xbins"in a&&!("ybins"in a)&&(a.ybins=a.xbins,delete a.xbins),a.error_y&&"opacity"in a.error_y){var l=f.defaults,c=a.error_y.color||(o.traceIs(a,"bar")?f.defaultLine:l[t%l.length]);a.error_y.color=f.addOpacity(f.rgb(c),f.opacity(c)*a.error_y.opacity),delete a.error_y.opacity}if("bardir"in a&&("h"!==a.bardir||!o.traceIs(a,"bar")&&"histogram"!==a.type.substr(0,9)||(a.orientation="h",n.swapXYData(a)),delete a.bardir),"histogramy"===a.type&&n.swapXYData(a),"histogramx"!==a.type&&"histogramy"!==a.type||(a.type="histogram"),"scl"in a&&(a.colorscale=a.scl,delete a.scl),"reversescl"in a&&(a.reversescale=a.reversescl,delete a.reversescl),a.xaxis&&(a.xaxis=u(a.xaxis,"x")),a.yaxis&&(a.yaxis=u(a.yaxis,"y")),o.traceIs(a,"gl3d")&&a.scene&&(a.scene=s.subplotsRegistry.gl3d.cleanId(a.scene)),!o.traceIs(a,"pie")&&!o.traceIs(a,"bar"))if(Array.isArray(a.textposition))for(r=0;r<a.textposition.length;r++)a.textposition[r]=m(a.textposition[r]);else a.textposition&&(a.textposition=m(a.textposition));var d=o.getModule(a);if(d&&d.colorbar){var g=d.colorbar.container,y=g?a[g]:a;y&&y.colorscale&&("YIGnBu"===y.colorscale&&(y.colorscale="YlGnBu"),"YIOrRd"===y.colorscale&&(y.colorscale="YlOrRd"))}if("surface"===a.type&&i.isPlainObject(a.contours)){var b=["x","y","z"];for(r=0;r<b.length;r++){var _=a.contours[b[r]];i.isPlainObject(_)&&(_.highlightColor&&(_.highlightcolor=_.highlightColor,delete _.highlightColor),_.highlightWidth&&(_.highlightwidth=_.highlightWidth,delete _.highlightWidth))}}if("candlestick"===a.type||"ohlc"===a.type){var x=!1!==(a.increasing||{}).showlegend,w=!1!==(a.decreasing||{}).showlegend,k=h(a.increasing),A=h(a.decreasing);if(!1!==k&&!1!==A){var T=p(k,A,x,w);T&&(a.name=T)}else!k&&!A||a.name||(a.name=k||A)}if(Array.isArray(a.transforms)){var M=a.transforms;for(r=0;r<M.length;r++){var E=M[r];if(i.isPlainObject(E))switch(E.type){case"filter":E.filtersrc&&(E.target=E.filtersrc,delete E.filtersrc),E.calendar&&(E.valuecalendar||(E.valuecalendar=E.calendar),delete E.calendar);break;case"groupby":if(E.styles=E.styles||E.style,E.styles&&!Array.isArray(E.styles)){var C=E.styles,S=Object.keys(C);E.styles=[];for(var j=0;j<S.length;j++)E.styles.push({target:S[j],value:C[S[j]]})}}}}v(a,"line")&&delete a.line,"marker"in a&&(v(a.marker,"line")&&delete a.marker.line,v(a,"marker")&&delete a.marker),f.clean(a)}},n.swapXYData=function(e){var t;if(i.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);i.swapAttrs(e,["error_?.copy_ystyle"]),r&&i.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var a=e.hoverinfo.split("+");for(t=0;t<a.length;t++)"x"===a[t]?a[t]="y":"y"===a[t]&&(a[t]="x");e.hoverinfo=a.join("+")}},n.coerceTraceIndices=function(e,t){return r(t)?[t]:Array.isArray(t)&&t.length?t:e.data.map(function(e,t){return t})},n.manageArrayContainers=function(e,t,n){var a=e.obj,o=e.parts,s=o.length,l=o[s-1],u=r(l);if(u&&null===t){var c=o.slice(0,s-1).join("."),f=i.nestedProperty(a,c).get();f.splice(l,1)}else u&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var g=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function y(e){var t=e.search(g);if(t>0)return e.substr(0,t)}n.hasParent=function(e,t){for(var n=y(t);n;){if(n in e)return!0;n=y(n)}return!1};var b=["x","y","z"];n.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var a=e._fullData[r],o=0;o<3;o++){var s=c(e,a,b[o]);if(s&&"log"!==s.type){var l=s._name,u=s._id.substr(1);if("scene"===u.substr(0,5)){if(void 0!==n[u])continue;l=u+"."+l}var f=l+".type";void 0===n[l]&&void 0===n[f]&&i.nestedProperty(e.layout,f).set(null)}}}},{"../components/color":318,"../lib":440,"../plots/cartesian/axis_ids":491,"../plots/plots":524,"../registry":532,"fast-isnumeric":149,"gl-mat4/fromQuat":167}],473:[function(e,t,n){"use strict";var r=e("./plot_api");n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=e("./to_image"),n.validate=e("./validate"),n.downloadImage=e("../snapshot/download");var a=e("./template_api");n.makeTemplate=a.makeTemplate,n.validateTemplate=a.validateTemplate},{"../snapshot/download":534,"./plot_api":475,"./template_api":480,"./to_image":481,"./validate":482}],474:[function(e,t,n){"use strict";var r=e("../lib/nested_property"),a=e("../lib/is_plain_object"),o=e("../lib/noop"),i=e("../lib/loggers"),s=e("../lib/search").sorterAsc,l=e("../registry");n.containerArrayMatch=e("./container_array_match");var u=n.isAddVal=function(e){return"add"===e||a(e)},c=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,a){var f=t.astr,d=l.getComponentMethod(f,"supplyLayoutDefaults"),h=l.getComponentMethod(f,"draw"),p=l.getComponentMethod(f,"drawOne"),m=a.replot||a.recalc||d===o||h===o,v=e.layout,g=e._fullLayout;if(n[""]){Object.keys(n).length>1&&i.warn("Full array edits are incompatible with other edits",f);var y=n[""][""];if(c(y))t.set(null);else{if(!Array.isArray(y))return i.warn("Unrecognized full array edit value",f,y),!0;t.set(y)}return!m&&(d(v,g),h(e),!0)}var b,_,x,w,k,A,T,M=Object.keys(n).map(Number).sort(s),E=t.get(),C=E||[],S=r(g,f).get(),j=[],O=-1,P=C.length;for(b=0;b<M.length;b++)if(x=M[b],w=n[x],k=Object.keys(w),A=w[""],T=u(A),x<0||x>C.length-(T?0:1))i.warn("index out of range",f,x);else if(void 0!==A)k.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",f,x),c(A)?j.push(x):T?("add"===A&&(A={}),C.splice(x,0,A),S&&S.splice(x,0,{})):i.warn("Unrecognized full object edit value",f,x,A),-1===O&&(O=x);else for(_=0;_<k.length;_++)r(C[x],k[_]).set(w[k[_]]);for(b=j.length-1;b>=0;b--)C.splice(j[b],1),S&&S.splice(j[b],1);if(C.length?E||t.set(C):t.set(null),m)return!1;if(d(v,g),p!==o){var N;if(-1===O)N=M;else{for(P=Math.max(C.length,P),N=[],b=0;b<M.length&&!((x=M[b])>=O);b++)N.push(x);for(b=O;b<P;b++)N.push(b)}for(b=0;b<N.length;b++)p(e,N[b])}else h(e);return!0}},{"../lib/is_plain_object":442,"../lib/loggers":445,"../lib/nested_property":449,"../lib/noop":450,"../lib/search":460,"../registry":532,"./container_array_match":470}],475:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("has-hover"),i=e("../lib"),s=e("../lib/events"),l=e("../lib/queue"),u=e("../registry"),c=e("./plot_schema"),f=e("../plots/plots"),d=e("../plots/polar/legacy"),h=e("../plots/cartesian/axes"),p=e("../components/drawing"),m=e("../components/color"),v=e("../components/colorbar/connect"),g=e("../plots/cartesian/graph_interact").initInteractions,y=e("../constants/xmlns_namespaces"),b=e("../lib/svg_text_utils"),_=e("./plot_config"),x=e("./manage_arrays"),w=e("./helpers"),k=e("./subroutines"),A=e("./edit_types"),T=e("../plots/cartesian/constants").AX_NAME_PATTERN,M=0;function E(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function C(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){i.error(e)}}function S(e,t){var n=m.combine(t,"white");C(e,n)}function j(e,t){e._context||(e._context=i.extendDeep({},_));var n,r,a,s=e._context;if(t){for(r=Object.keys(t),n=0;n<r.length;n++)"editable"!==(a=r[n])&&"edits"!==a&&a in s&&("setBackground"===a&&"opaque"===t[a]?s[a]=S:s[a]=t[a]);t.plot3dPixelRatio&&!s.plotGlPixelRatio&&(s.plotGlPixelRatio=s.plot3dPixelRatio);var l=t.editable;if(void 0!==l)for(s.editable=l,r=Object.keys(s.edits),n=0;n<r.length;n++)s.edits[r[n]]=l;if(t.edits)for(r=Object.keys(t.edits),n=0;n<r.length;n++)(a=r[n])in s.edits&&(s.edits[a]=t.edits[a])}s.staticPlot&&(s.editable=!1,s.edits={},s.autosizable=!1,s.scrollZoom=!1,s.doubleClick=!1,s.showTips=!1,s.showLink=!1,s.displayModeBar=!1),"hover"!==s.displayModeBar||o||(s.displayModeBar=!0),"transparent"!==s.setBackground&&"function"==typeof s.setBackground||(s.setBackground=C)}function O(e,t){var n,r,a=t+1,o=[];for(n=0;n<e.length;n++)(r=e[n])<0?o.push(a+r):o.push(r);return o}function P(e,t,n){var r,a;for(r=0;r<t.length;r++){if((a=t[r])!==parseInt(a,10))throw new Error("all values in "+n+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(a,r+1)>-1||a>=0&&t.indexOf(-e.data.length+a)>-1||a<0&&t.indexOf(e.data.length+a)>-1)throw new Error("each index in "+n+" must be unique.")}}function N(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),P(e,t,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&P(e,n,"newIndices"),void 0!==n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function I(e,t,n,r,o){!function(e,t,n,r){var a=i.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!i.isPlainObject(t))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");for(var o in P(e,n,"indices"),t){if(!Array.isArray(t[o])||t[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==t[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,n,r);for(var s=function(e,t,n,r){var o,s,l,u,c,f=i.isPlainObject(r),d=[];for(var h in Array.isArray(n)||(n=[n]),n=O(n,e.data.length-1),t)for(var p=0;p<n.length;p++){if(o=e.data[n[p]],l=i.nestedProperty(o,h),s=l.get(),u=t[h][p],!i.isArrayOrTypedArray(u))throw new Error("attribute: "+h+" index: "+p+" must be an array");if(!i.isArrayOrTypedArray(s))throw new Error("cannot extend missing or non-array attribute: "+h);if(s.constructor!==u.constructor)throw new Error("cannot extend array with an array of a different type: "+h);c=f?r[h][p]:r,a(c)||(c=-1),d.push({prop:l,target:s,insert:u,maxp:Math.floor(c)})}return d}(e,t,n,r),l={},u={},c=0;c<s.length;c++){var f=s[c].prop,d=s[c].maxp,h=o(s[c].target,s[c].insert,d);f.set(h[0]),Array.isArray(l[f.astr])||(l[f.astr]=[]),l[f.astr].push(h[1]),Array.isArray(u[f.astr])||(u[f.astr]=[]),u[f.astr].push(s[c].target.length)}return{update:l,maxPoints:u}}function L(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function D(e){return void 0===e?null:e}function R(e,t,n){var r,a,o=e._fullLayout,s=e._fullData,l=e.data,d=A.traceFlags(),p={},m={};function v(){return n.map(function(){})}function g(e){var t=h.id2name(e);-1===a.indexOf(t)&&a.push(t)}function y(e){return"LAYOUT"+e+".autorange"}function b(e){return"LAYOUT"+e+".range"}function _(r,a,o){var s;Array.isArray(r)?r.forEach(function(e){_(e,a,o)}):r in t||w.hasParent(t,r)||(s="LAYOUT"===r.substr(0,6)?i.nestedProperty(e.layout,r.replace("LAYOUT","")):i.nestedProperty(l[n[o]],r),r in m||(m[r]=v()),void 0===m[r][o]&&(m[r][o]=D(s.get())),void 0!==a&&s.set(a))}for(var x in t){if(w.hasParent(t,x))throw new Error("cannot set "+x+"and a parent attribute simultaneously");var k,T,M,E,C,S,j=t[x];if(p[x]=j,"LAYOUT"!==x.substr(0,6)){for(m[x]=v(),r=0;r<n.length;r++)if(k=l[n[r]],T=s[n[r]],M=i.nestedProperty(k,x),E=M.get(),void 0!==(C=Array.isArray(j)?j[r%j.length]:j)){var O=M.parts[M.parts.length-1],P=x.substr(0,x.length-O.length-1),N=P?P+".":"",I=P?i.nestedProperty(T,P).get():T;if((S=c.getTraceValObject(T,M.parts))&&S.impliedEdits&&null!==C)for(var L in S.impliedEdits)_(i.relativeAttr(x,L),S.impliedEdits[L],r);else if("thicknessmode"!==O&&"lenmode"!==O||E===C||"fraction"!==C&&"pixels"!==C||!I){if("type"===x&&"pie"===C!=("pie"===E)){var R="x",z="y";"bar"!==C&&"bar"!==E||"h"!==k.orientation||(R="y",z="x"),i.swapAttrs(k,["?","?src"],"labels",R),i.swapAttrs(k,["d?","?0"],"label",R),i.swapAttrs(k,["?","?src"],"values",z),"pie"===E?(i.nestedProperty(k,"marker.color").set(i.nestedProperty(k,"marker.colors").get()),o._pielayer.selectAll("g.trace").remove()):u.traceIs(k,"cartesian")&&i.nestedProperty(k,"marker.colors").set(i.nestedProperty(k,"marker.color").get())}}else{var F=o._size,B=I.orient,U="top"===B||"bottom"===B;if("thicknessmode"===O){var H=U?F.h:F.w;_(N+"thickness",I.thickness*("fraction"===C?1/H:H),r)}else{var q=U?F.w:F.h;_(N+"len",I.len*("fraction"===C?1/q:q),r)}}if(m[x][r]=D(E),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(x)){if("orientation"===x){M.set(C);var V=k.x&&!k.y?"h":"v";if((M.get()||V)===T.orientation)continue}else"orientationaxes"===x&&(k.orientation={v:"h",h:"v"}[T.orientation]);w.swapXYData(k),d.calc=d.clearAxisTypes=!0}else-1!==f.dataArrayContainers.indexOf(M.parts[0])?(w.manageArrayContainers(M,C,m),d.calc=!0):(S?S.arrayOk&&(i.isArrayOrTypedArray(C)||i.isArrayOrTypedArray(E))?d.calc=!0:A.update(d,S):d.calc=!0,M.set(C))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(x)&&h.swap(e,n),"orientationaxes"===x){var W=i.nestedProperty(e.layout,"hovermode");"x"===W.get()?W.set("y"):"y"===W.get()&&W.set("x")}if(-1!==["orientation","type"].indexOf(x)){for(a=[],r=0;r<n.length;r++){var G=l[n[r]];u.traceIs(G,"cartesian")&&(g(G.xaxis||"x"),g(G.yaxis||"y"),"type"===x&&_(["autobinx","autobiny"],!0,r))}_(a.map(y),!0,0),_(a.map(b),[0,1],0)}}else M=i.nestedProperty(e.layout,x.replace("LAYOUT","")),m[x]=[D(M.get())],M.set(Array.isArray(j)?j[0]:j),d.calc=!0}return(d.calc||d.plot)&&(d.fullReplot=!0),{flags:d,undoit:m,redoit:p,traces:n,eventData:i.extendDeepNoArrays([],[p,n])}}function z(e,t){var n=t?function(e){return k.doTicksRelayout(e,t)}:k.doTicksRelayout;e.push(k.doAutoRangeAndConstraints,n,k.drawData,k.finalDraw)}n.plot=function(e,t,a,o){var l;if(e=i.getGraphDiv(e),s.init(e),i.isPlainObject(t)){var c=t;t=c.data,a=c.layout,o=c.config,l=c.frames}var m=s.triggerHandler(e,"plotly_beforeplot",[t,a,o]);if(!1===m)return Promise.reject();t||a||i.isPlotDiv(e)||i.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),j(e,o),a||(a={}),r.select(e).classed("js-plotly-plot",!0),p.makeTester(),delete p.baseUrl,Array.isArray(e._promises)||(e._promises=[]);var y=0===(e.data||[]).length&&Array.isArray(t);if(Array.isArray(t)&&(w.cleanData(t),y?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!y||(e.layout=w.cleanLayout(a)),e._dragging&&!e._transitioning)return e._replotPending=!0,Promise.reject();e._replotPending=!1,f.supplyDefaults(e);var _=e._fullLayout,x=_._has("cartesian");if(!_._has("polar")&&t&&t[0]&&t[0].r)return i.log("Legacy polar charts are deprecated!"),function(e,t,n){var a=r.select(e).selectAll(".plot-container").data([0]);a.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=a.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),t&&(e.data=t),n&&(e.layout=n),d.manager.fillLayout(e),o.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=d.manager.framework(e),e.framework({data:e.data,layout:e.layout},o.node()),e.framework.setUndoPoint();var s=e.framework.svg(),l=1,u=e._fullLayout.title;""!==u&&u||(l=0);var c=function(){this.call(b.convertToTspans,e)},h=s.select(".title-group text").call(c);if(e._context.edits.titleText){var p=i._(e,"Click to enter Plot title");u&&u!==p||(l=.2,h.attr({"data-unformatted":p}).text(p).style({opacity:l}).on("mouseover.opacity",function(){r.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(1e3).style("opacity",0)}));var m=function(){this.call(b.makeEditable,{gd:e}).on("edit",function(t){e.framework({layout:{title:t}}),this.text(t).call(c),this.call(m)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(c)})};h.call(m)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),f.addLinks(e),Promise.resolve()}(e,t,a);_._replotting=!0,y&&W(e),e.framework!==W&&(e.framework=W,W(e)),p.initGradients(e),y&&h.saveShowSpikeInitial(e);var A=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;A&&f.doCalcdata(e);for(var T=0;T<e.calcdata.length;T++)e.calcdata[T][0].trace=e._fullData[T];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){f.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):i.clearResponsive(e);var M=JSON.stringify(_._size),C=0;function S(){var t,n,r,a=e.calcdata;for(f.clearAutoMarginIds(e),k.drawMarginPushers(e),h.allowAutoMargin(e),t=0;t<a.length;t++){n=a[t];var o=(r=n[0].trace)._module.colorbar;!0===r.visible&&o?v(e,n,o):f.autoMargin(e,"cb"+r.uid)}return f.doAutoMargin(e),f.previousPromises(e)}function O(){e._transitioning||(k.doAutoRangeAndConstraints(e),y&&h.saveRangeInitial(e))}var P=[f.previousPromises,function(){if(l)return n.addFrames(e,l)},function t(){for(var n=_._basePlotModules,r=0;r<n.length;r++)n[r].drawFramework&&n[r].drawFramework(e);if(!_._glcanvas&&_._has("gl")&&(_._glcanvas=_._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(e){return e.key}),_._glcanvas.enter().append("canvas").attr("class",function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"visible","pointer-events":"none"})),_._glcanvas){_._glcanvas.attr("width",_.width).attr("height",_.height);var a=_._glcanvas.data()[0].regl;if(a&&(_.width!==a._gl.drawingBufferWidth||_.height!==a._gl.drawingBufferHeight)){var o="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!C)return i.log(o+" Clearing graph and plotting again."),f.cleanPlot([],{},e._fullData,_,e.calcdata),f.supplyDefaults(e),_=e._fullLayout,f.doCalcdata(e),C++,t();i.error(o)}}return f.previousPromises(e)},S,function(){if(JSON.stringify(_._size)!==M)return i.syncOrAsync([S,k.layoutStyles],e)}];x&&P.push(function(){if(A)return i.syncOrAsync([u.getComponentMethod("shapes","calcAutorange"),u.getComponentMethod("annotations","calcAutorange"),O,u.getComponentMethod("rangeslider","calcAutorange")],e);O()}),P.push(k.layoutStyles),x&&P.push(function(){return h.doTicks(e,y?"":"redraw")}),P.push(k.drawData,k.finalDraw,g,f.addLinks,f.rehover,f.doAutoMargin,f.previousPromises);var N=i.syncOrAsync(P,e);return N&&N.then||(N=Promise.resolve()),N.then(function(){return E(e),e})},n.setPlotConfig=function(e){return i.extendFlat(_,e)},n.redraw=function(e){if(e=i.getGraphDiv(e),!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return w.cleanData(e.data),w.cleanLayout(e.layout),e.calcdata=void 0,n.plot(e).then(function(){return e.emit("plotly_redraw"),e})},n.newPlot=function(e,t,r,a){return e=i.getGraphDiv(e),f.cleanPlot([],{},e._fullData||[],e._fullLayout||{},e.calcdata||[]),f.purge(e),n.plot(e,t,r,a)},n.extendTraces=function e(t,r,a,o){var s=I(t=i.getGraphDiv(t),r,a,o,function(e,t,n){var r,a;if(i.isTypedArray(e))if(n<0){var o=new e.constructor(0),s=L(e,t);n<0?(r=s,a=o):(r=o,a=s)}else if(r=new e.constructor(n),a=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),a.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(l)),a.set(e),a.set(t.subarray(0,l),e.length)}else{var u=n-t.length,c=e.length-u;r.set(e.subarray(c)),r.set(t,u),a.set(e.subarray(0,c))}else r=e.concat(t),a=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,a]}),u=n.redraw(t),c=[t,s.update,a,s.maxPoints];return l.add(t,n.prependTraces,c,e,arguments),u},n.prependTraces=function e(t,r,a,o){var s=I(t=i.getGraphDiv(t),r,a,o,function(e,t,n){var r,a;if(i.isTypedArray(e))if(n<=0){var o=new e.constructor(0),s=L(t,e);n<0?(r=s,a=o):(r=o,a=s)}else if(r=new e.constructor(n),a=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),a.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(0,l)),a.set(t.subarray(l)),a.set(e,l)}else{var u=n-t.length;r.set(t),r.set(e.subarray(0,u),t.length),a.set(e.subarray(u))}else r=t.concat(e),a=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,a]}),u=n.redraw(t),c=[t,s.update,a,s.maxPoints];return l.add(t,n.extendTraces,c,e,arguments),u},n.addTraces=function e(t,r,a){t=i.getGraphDiv(t);var o,s,u=[],c=n.deleteTraces,f=e,d=[t,u],h=[t,r];for(function(e,t,n){var r,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!=typeof(a=t[r])||Array.isArray(a)||null===a)throw new Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(t,r,a),Array.isArray(r)||(r=[r]),r=r.map(function(e){return i.extendFlat({},e)}),w.cleanData(r),o=0;o<r.length;o++)t.data.push(r[o]);for(o=0;o<r.length;o++)u.push(-r.length+o);if(void 0===a)return s=n.redraw(t),l.add(t,c,d,f,h),s;Array.isArray(a)||(a=[a]);try{N(t,u,a)}catch(e){throw t.data.splice(t.data.length-r.length,r.length),e}return l.startSequence(t),l.add(t,c,d,f,h),s=n.moveTraces(t,u,a),l.stopSequence(t),s},n.deleteTraces=function e(t,r){t=i.getGraphDiv(t);var a,o,s=[],u=n.addTraces,c=e,f=[t,s,r],d=[t,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),P(t,r,"indices"),(r=O(r,t.data.length-1)).sort(i.sorterDes),a=0;a<r.length;a+=1)o=t.data.splice(r[a],1)[0],s.push(o);var h=n.redraw(t);return l.add(t,u,f,c,d),h},n.moveTraces=function e(t,r,a){t=i.getGraphDiv(t);var o,s=[],u=[],c=e,f=e,d=[t,a,r],h=[t,r,a];if(N(t,r,a),r=Array.isArray(r)?r:[r],void 0===a)for(a=[],o=0;o<r.length;o++)a.push(-r.length+o);for(a=Array.isArray(a)?a:[a],r=O(r,t.data.length-1),a=O(a,t.data.length-1),o=0;o<t.data.length;o++)-1===r.indexOf(o)&&s.push(t.data[o]);for(o=0;o<r.length;o++)u.push({newIndex:a[o],trace:t.data[r[o]]});for(u.sort(function(e,t){return e.newIndex-t.newIndex}),o=0;o<u.length;o+=1)s.splice(u[o].newIndex,0,u[o].trace);t.data=s;var p=n.redraw(t);return l.add(t,c,d,f,h),p},n.restyle=function e(t,r,a,o){t=i.getGraphDiv(t),w.clearPromiseQueue(t);var s={};if("string"==typeof r)s[r]=a;else{if(!i.isPlainObject(r))return i.warn("Restyle fail.",r,a,o),Promise.reject();s=i.extendFlat({},r),void 0===o&&(o=a)}Object.keys(s).length&&(t.changed=!0);var u=w.coerceTraceIndices(t,o),c=R(t,s,u),d=c.flags;d.calc&&(t.calcdata=void 0),d.clearAxisTypes&&w.clearAxisTypes(t,u,{});var h=[];d.fullReplot?h.push(n.plot):(h.push(f.previousPromises),f.supplyDefaults(t),d.style&&h.push(k.doTraceStyle),d.colorbars&&h.push(k.doColorBars),h.push(E)),h.push(f.rehover),l.add(t,e,[t,c.undoit,c.traces],e,[t,c.redoit,c.traces]);var p=i.syncOrAsync(h,t);return p&&p.then||(p=Promise.resolve()),p.then(function(){return t.emit("plotly_restyle",c.eventData),t})},n.relayout=function e(t,n,r){if(t=i.getGraphDiv(t),w.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);var a={};if("string"==typeof n)a[n]=r;else{if(!i.isPlainObject(n))return i.warn("Relayout fail.",n,r),Promise.reject();a=i.extendFlat({},n)}Object.keys(a).length&&(t.changed=!0);var o=H(t,a),s=o.flags;s.calc&&(t.calcdata=void 0);var u=[f.previousPromises];s.layoutReplot?u.push(k.layoutReplot):Object.keys(a).length&&(f.supplyDefaults(t),s.legend&&u.push(k.doLegend),s.layoutstyle&&u.push(k.layoutStyles),s.axrange&&z(u,o.rangesAltered),s.ticks&&u.push(k.doTicksRelayout),s.modebar&&u.push(k.doModeBar),s.camera&&u.push(k.doCamera),u.push(E)),u.push(f.rehover),l.add(t,e,[t,o.undoit],e,[t,o.redoit]);var c=i.syncOrAsync(u,t);return c&&c.then||(c=Promise.resolve(t)),c.then(function(){return t.emit("plotly_relayout",o.eventData),t})};var F=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,B=/^[xyz]axis[0-9]*\.autorange$/,U=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function H(e,t){var n,r,a,o=e.layout,s=e._fullLayout,l=Object.keys(t),f=h.list(e),d={};for(r=0;r<l.length;r++)if(0===l[r].indexOf("allaxes")){for(a=0;a<f.length;a++){var p=f[a]._id.substr(1),m=-1!==p.indexOf("scene")?p+".":"",v=l[r].replace("allaxes",m+f[a]._name);t[v]||(t[v]=t[l[r]])}delete t[l[r]]}var g=A.layoutFlags(),y={},b={};function _(e,n){if(Array.isArray(e))e.forEach(function(e){_(e,n)});else if(!(e in t||w.hasParent(t,e))){var r=i.nestedProperty(o,e);e in b||(b[e]=D(r.get())),void 0!==n&&r.set(n)}}var k,M={};function E(e){var t=h.name2id(e.split(".")[0]);return M[t]=1,t}for(var C in t){if(w.hasParent(t,C))throw new Error("cannot set "+C+"and a parent attribute simultaneously");for(var S=i.nestedProperty(o,C),j=t[C],O=S.parts.length,P=O-1;P>0&&"string"!=typeof S.parts[P];)P--;var N=S.parts[P],I=S.parts[P-1]+"."+N,L=S.parts.slice(0,P).join("."),R=i.nestedProperty(e.layout,L).get(),z=i.nestedProperty(s,L).get(),H=S.get();if(void 0!==j){y[C]=j,b[C]="reverse"===N?j:D(H);var V=c.getLayoutValObject(s,S.parts);if(V&&V.impliedEdits&&null!==j)for(var W in V.impliedEdits)_(i.relativeAttr(C,W),V.impliedEdits[W]);if(-1!==["width","height"].indexOf(C)&&null===j)s[C]=e._initialAutoSize[C];else if(I.match(F))E(I),i.nestedProperty(s,L+"._inputRange").set(null);else if(I.match(B)){E(I),i.nestedProperty(s,L+"._inputRange").set(null);var G=i.nestedProperty(s,L).get();G._inputDomain&&(G._input.domain=G._inputDomain.slice())}else I.match(U)&&i.nestedProperty(s,L+"._inputDomain").set(null);if("type"===N){var X=R,Y="linear"===z.type&&"log"===j,K="log"===z.type&&"linear"===j;if(Y||K){if(X&&X.range)if(z.autorange)Y&&(X.range=X.range[1]>X.range[0]?[1,2]:[2,1]);else{var Z=X.range[0],J=X.range[1];Y?(Z<=0&&J<=0&&_(L+".autorange",!0),Z<=0?Z=J/1e6:J<=0&&(J=Z/1e6),_(L+".range[0]",Math.log(Z)/Math.LN10),_(L+".range[1]",Math.log(J)/Math.LN10)):(_(L+".range[0]",Math.pow(10,Z)),_(L+".range[1]",Math.pow(10,J)))}else _(L+".autorange",!0);Array.isArray(s._subplots.polar)&&s._subplots.polar.length&&s[S.parts[0]]&&"radialaxis"===S.parts[1]&&delete s[S.parts[0]]._subplot.viewInitial["radialaxis.range"],u.getComponentMethod("annotations","convertCoords")(e,z,j,_),u.getComponentMethod("images","convertCoords")(e,z,j,_)}else _(L+".autorange",!0),_(L+".range",null);i.nestedProperty(s,L+"._inputRange").set(null)}else if(N.match(T)){var Q=i.nestedProperty(s,C).get(),$=(j||{}).type;$&&"-"!==$||($="linear"),u.getComponentMethod("annotations","convertCoords")(e,Q,$,_),u.getComponentMethod("images","convertCoords")(e,Q,$,_)}var ee=x.containerArrayMatch(C);if(ee){n=ee.array,r=ee.index;var te=ee.property,ne=i.nestedProperty(o,n),re=(ne||[])[r]||{},ae=V||{editType:"calc"};""===te&&(x.isAddVal(j)?b[C]=null:x.isRemoveVal(j)?b[C]=re:i.warn("unrecognized full object value",t)),A.update(g,ae),d[n]||(d[n]={});var oe=d[n][r];oe||(oe=d[n][r]={}),oe[te]=j,delete t[C]}else"reverse"===N?(R.range?R.range.reverse():(_(L+".autorange",!0),R.range=[1,0]),z.autorange?g.calc=!0:g.plot=!0):(s._has("scatter-like")&&s._has("regl")&&"dragmode"===C&&("lasso"===j||"select"===j)&&"lasso"!==H&&"select"!==H?g.plot=!0:V?A.update(g,V):g.calc=!0,S.set(j))}}for(n in d){var ie=x.applyContainerArrayChanges(e,i.nestedProperty(o,n),d[n],g);ie||(g.plot=!0)}var se=s._axisConstraintGroups||[];for(k in M)for(r=0;r<se.length;r++){var le=se[r];if(le[k])for(var ue in g.calc=!0,le)M[ue]||(h.getFromId(e,ue)._constraintShrinkable=!0)}return(q(e)||t.height||t.width)&&(g.plot=!0),(g.plot||g.calc)&&(g.layoutReplot=!0),{flags:g,rangesAltered:M,undoit:b,redoit:y,eventData:i.extendDeep({},y)}}function q(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&f.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function V(e,t,n,r){var a,o,s=r.getValObject,l=r.flags,u=r.immutable,c=r.inArray,f=r.arrayIndex;function d(){var e=a.editType;c&&-1!==e.indexOf("arraydraw")?i.pushUnique(l.arrays[c],f):A.update(l,a)}function h(e){return"data_array"===e.valType||e.arrayOk}for(o in e){if(l.calc)return;var p=e[o],m=t[o];if("_"!==o.charAt(0)&&"function"!=typeof p&&p!==m){if(("tick0"===o||"dtick"===o)&&"geo"!==n[0]){var v=t.tickmode;if("auto"===v||"array"===v||!v)continue}if(("range"!==o||!t.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==t.type)){var g=n.concat(o);if((a=s(g))&&(!a._compareAsJSON||JSON.stringify(p)!==JSON.stringify(m))){var y,b=a.valType,_=h(a),x=Array.isArray(p),w=Array.isArray(m);if(x&&w){var k="_input_"+o,T=e[k],M=t[k];if(Array.isArray(T)&&T===M)continue}if(void 0===m)_&&x?l.calc=!0:d();else if(a._isLinkedToArray){var E=[],C=!1;c||(l.arrays[o]=E);var S=Math.min(p.length,m.length),j=Math.max(p.length,m.length);if(S!==j){if("arraydraw"!==a.editType){d();continue}C=!0}for(y=0;y<S;y++)V(p[y],m[y],g.concat(y),i.extendFlat({inArray:o,arrayIndex:y},r));if(C)for(y=S;y<j;y++)E.push(y)}else!b&&i.isPlainObject(p)?V(p,m,g,r):_?x&&w?u&&(l.calc=!0):x!==w?l.calc=!0:d():x&&w&&p.length===m.length&&String(p)===String(m)||d()}}}}for(o in t)if(!(o in e||"_"===o.charAt(0)||"function"==typeof t[o])){if(h(a=s(n.concat(o)))&&Array.isArray(t[o]))return void(l.calc=!0);d()}}function W(e){var t=r.select(e),n=e._fullLayout;if(n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var a={};r.selectAll("defs").each(function(){this.id&&(a[this.id.split("-")[1]]=1)}),n._uid=i.randstr(a)}n._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var o=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=o.append("g").classed("imagelayer",!0),n._shapeLowerLayer=o.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var s=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),e.emit("plotly_framework")}n.update=function e(t,r,a,o){if(t=i.getGraphDiv(t),w.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);i.isPlainObject(r)||(r={}),i.isPlainObject(a)||(a={}),Object.keys(r).length&&(t.changed=!0),Object.keys(a).length&&(t.changed=!0);var s=w.coerceTraceIndices(t,o),u=R(t,i.extendFlat({},r),s),c=u.flags,d=H(t,i.extendFlat({},a)),h=d.flags;(c.calc||h.calc)&&(t.calcdata=void 0),c.clearAxisTypes&&w.clearAxisTypes(t,s,a);var p=[];if(c.fullReplot&&h.layoutReplot){var m=t.data,v=t.layout;t.data=void 0,t.layout=void 0,p.push(function(){return n.plot(t,m,v)})}else c.fullReplot?p.push(n.plot):h.layoutReplot?p.push(k.layoutReplot):(p.push(f.previousPromises),f.supplyDefaults(t),c.style&&p.push(k.doTraceStyle),c.colorbars&&p.push(k.doColorBars),h.legend&&p.push(k.doLegend),h.layoutstyle&&p.push(k.layoutStyles),h.axrange&&z(p,d.rangesAltered),h.ticks&&p.push(k.doTicksRelayout),h.modebar&&p.push(k.doModeBar),h.camera&&p.push(k.doCamera),p.push(E));p.push(f.rehover),l.add(t,e,[t,u.undoit,d.undoit,u.traces],e,[t,u.redoit,d.redoit,u.traces]);var g=i.syncOrAsync(p,t);return g&&g.then||(g=Promise.resolve(t)),g.then(function(){return t.emit("plotly_update",{data:u.eventData,layout:d.eventData}),t})},n.react=function(e,t,r,a){var o,s,l=(e=i.getGraphDiv(e))._fullData,d=e._fullLayout;if(i.isPlotDiv(e)&&l&&d){if(i.isPlainObject(t)){var h=t;t=h.data,r=h.layout,a=h.config,o=h.frames}var p=!1;if(a){var m=i.extendDeep({},e._context);e._context=void 0,j(e,a),p=function e(t,n){var r;for(r in t){var a=t[r],o=n[r];if(a!==o)if(i.isPlainObject(a)&&i.isPlainObject(o)){if(e(a,o))return!0}else{if(!Array.isArray(a)||!Array.isArray(o))return!0;if(a.length!==o.length)return!0;for(var s=0;s<a.length;s++)if(a[s]!==o[s]){if(!i.isPlainObject(a[s])||!i.isPlainObject(o[s]))return!0;if(e(a[s],o[s]))return!0}}}}(m,e._context)}e.data=t||[],w.cleanData(e.data),e.layout=r||{},w.cleanLayout(e.layout),f.supplyDefaults(e,{skipUpdateCalc:!0});var v=e._fullData,g=e._fullLayout,y=void 0===g.datarevision,b=function(e,t,n,r){if(t.length!==n.length)return{fullReplot:!0,calc:!0};var a,o,i=A.traceFlags();i.arrays={};var s={getValObject:function(e){return c.getTraceValObject(o,e)},flags:i,immutable:r,gd:e},l={};for(a=0;a<t.length;a++)o=n[a]._fullInput,f.hasMakesDataTransform(o)&&(o=n[a]),l[o.uid]||(l[o.uid]=1,V(t[a]._fullInput,o,[],s));return(i.calc||i.plot)&&(i.fullReplot=!0),i}(e,l,v,y),_=function(e,t,n,r){var a=A.layoutFlags();return a.arrays={},V(t,n,[],{getValObject:function(e){return c.getLayoutValObject(n,e)},flags:a,immutable:r,gd:e}),(a.plot||a.calc)&&(a.layoutReplot=!0),a}(e,d,g,y);q(e)&&(_.layoutReplot=!0),b.calc||_.calc?e.calcdata=void 0:f.supplyDefaultsUpdateCalc(e.calcdata,v);var x=[];if(o&&(e._transitionData={},f.createTransitionData(e),x.push(function(){return n.addFrames(e,o)})),b.fullReplot||_.layoutReplot||p)e._fullLayout._skipDefaults=!0,x.push(n.plot);else{for(var T in _.arrays){var M=_.arrays[T];if(M.length){var C=u.getComponentMethod(T,"drawOne");if(C!==i.noop)for(var S=0;S<M.length;S++)C(e,M[S]);else{var O=u.getComponentMethod(T,"draw");if(O===i.noop)throw new Error("cannot draw components: "+T);O(e)}}}x.push(f.previousPromises),b.style&&x.push(k.doTraceStyle),b.colorbars&&x.push(k.doColorBars),_.legend&&x.push(k.doLegend),_.layoutstyle&&x.push(k.layoutStyles),_.axrange&&z(x),_.ticks&&x.push(k.doTicksRelayout),_.modebar&&x.push(k.doModeBar),_.camera&&x.push(k.doCamera),x.push(E)}x.push(f.rehover),(s=i.syncOrAsync(x,e))&&s.then||(s=Promise.resolve(e))}else s=n.newPlot(e,t,r,a);return s.then(function(){return e.emit("plotly_react",{data:t,layout:r}),e})},n.animate=function(e,t,n){if(e=i.getGraphDiv(e),!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var a=(n=f.supplyAnimationDefaults(n)).transition,o=n.frame;function s(e){return Array.isArray(a)?e>=a.length?a[0]:a[e]:a}function l(e){return Array.isArray(o)?e>=o.length?o[0]:o[e]:o}function u(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise(function(o,c){function d(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,f.transition(e,t.frame.data,t.frame.layout,w.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function h(){e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;var t=function(){r._animationRaf=window.requestAnimationFrame(t),Date.now()-r._lastFrameAt>r._timeToNext&&d()};t()}var p,m,v=0;function g(e){return Array.isArray(a)?v>=a.length?e.transitionOpts=a[v]:e.transitionOpts=a[0]:e.transitionOpts=a,v++,e}var y=[],b=void 0===t||null===t,_=Array.isArray(t),x=!b&&!_&&i.isPlainObject(t);if(x)y.push({type:"object",data:g(i.extendFlat({},t))});else if(b||-1!==["string","number"].indexOf(typeof t))for(p=0;p<r._frames.length;p++)(m=r._frames[p])&&(b||String(m.group)===String(t))&&y.push({type:"byname",name:String(m.name),data:g({name:m.name})});else if(_)for(p=0;p<t.length;p++){var k=t[p];-1!==["number","string"].indexOf(typeof k)?(k=String(k),y.push({type:"byname",name:k,data:g({name:k})})):i.isPlainObject(k)&&y.push({type:"object",data:g(i.extendFlat({},k))})}for(p=0;p<y.length;p++)if("byname"===(m=y[p]).type&&!r._frameHash[m.data.name])return i.warn('animate failure: frame not found: "'+m.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&y.reverse();var A=e._fullLayout._currentFrame;if(A&&n.fromcurrent){var T=-1;for(p=0;p<y.length;p++)if("byname"===(m=y[p]).type&&m.name===A){T=p;break}if(T>0&&T<y.length-1){var M=[];for(p=0;p<y.length;p++)m=y[p],("byname"!==y[p].type||p>T)&&M.push(m);y=M}}y.length>0?function(t){if(0!==t.length){for(var a=0;a<t.length;a++){var i;i="byname"===t[a].type?f.computeFrame(e,t[a].name):t[a].data;var d=l(a),p=s(a);p.duration=Math.min(p.duration,d.duration);var m={frame:i,name:t[a].name,frameOpts:d,transitionOpts:p};a===t.length-1&&(m.onComplete=u(o,2),m.onInterrupt=c),r._frameQueue.push(m)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||h()}}(y):(e.emit("plotly_animated"),o())})},n.addFrames=function(e,t,n){if(e=i.getGraphDiv(e),null===t||void 0===t)return Promise.resolve();if(!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var r,a,o,s,u=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var d=u.length+2*t.length,h=[],p={};for(r=t.length-1;r>=0;r--)if(i.isPlainObject(t[r])){var m=t[r].name,v=(c[m]||p[m]||{}).name,g=t[r].name,y=c[v]||p[v];v&&g&&"number"==typeof g&&y&&M<5&&(M++,i.warn('addFrames: overwriting frame "'+(c[v]||p[v]).name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===M&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[m]={name:m},h.push({frame:f.supplyFrameDefaults(t[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:d+r})}h.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var b=[],_=[],x=u.length;for(r=h.length-1;r>=0;r--){if("number"==typeof(a=h[r].frame).name&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;c[a.name="frame "+e._transitionData._counter++];);if(c[a.name]){for(o=0;o<u.length&&(u[o]||{}).name!==a.name;o++);b.push({type:"replace",index:o,value:a}),_.unshift({type:"replace",index:o,value:u[o]})}else s=Math.max(0,Math.min(h[r].index,x)),b.push({type:"insert",index:s,value:a}),_.unshift({type:"delete",index:s}),x++}var w=f.modifyFrames,k=f.modifyFrames,A=[e,_],T=[e,b];return l&&l.add(e,w,A,k,T),f.modifyFrames(e,b)},n.deleteFrames=function(e,t){if(e=i.getGraphDiv(e),!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,a=e._transitionData._frames,o=[],s=[];if(!t)for(t=[],n=0;n<a.length;n++)t.push(n);for((t=t.slice(0)).sort(),n=t.length-1;n>=0;n--)r=t[n],o.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:a[r]});var u=f.modifyFrames,c=f.modifyFrames,d=[e,s],h=[e,o];return l&&l.add(e,u,d,c,h),f.modifyFrames(e,o)},n.purge=function(e){var t=(e=i.getGraphDiv(e))._fullLayout||{},n=e._fullData||[],r=e.calcdata||[];return f.cleanPlot([],{},n,t,r),f.purge(e),s.purge(e),t._container&&t._container.remove(),delete e._context,e}},{"../components/color":318,"../components/colorbar/connect":320,"../components/drawing":343,"../constants/xmlns_namespaces":420,"../lib":440,"../lib/events":430,"../lib/queue":456,"../lib/svg_text_utils":465,"../plots/cartesian/axes":488,"../plots/cartesian/constants":493,"../plots/cartesian/graph_interact":497,"../plots/plots":524,"../plots/polar/legacy":527,"../registry":532,"./edit_types":471,"./helpers":472,"./manage_arrays":474,"./plot_config":476,"./plot_schema":477,"./subroutines":479,d3:85,"fast-isnumeric":149,"has-hover":200}],476:[function(e,t,n){"use strict";t.exports={staticPlot:!1,plotlyServerURL:"https://plot.ly",editable:!1,edits:{annotationPosition:!1,annotationTail:!1,annotationText:!1,axisTitleText:!1,colorbarPosition:!1,colorbarTitleText:!1,legendPosition:!1,legendText:!1,shapePosition:!1,titleText:!1},autosizable:!1,responsive:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,toImageButtonOptions:{},displaylogo:!0,plotGlPixelRatio:2,setBackground:"transparent",topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:1,globalTransforms:[],locale:"en-US",locales:{}}},{}],477:[function(e,t,n){"use strict";var r=e("../registry"),a=e("../lib"),o=e("../plots/attributes"),i=e("../plots/layout_attributes"),s=e("../plots/frame_attributes"),l=e("../plots/animation_attributes"),u=e("../plots/polar/legacy/area_attributes"),c=e("../plots/polar/legacy/axis_attributes"),f=e("./edit_types"),d=a.extendFlat,h=a.extendDeepAll,p=a.isPlainObject,m="_isSubplotObj",v="_isLinkedToArray",g=[m,v,"_arrayAttrRegexps","_deprecated"];function y(e,t,n){if(!e)return!1;if(e._isLinkedToArray)if(b(t[n]))n++;else if(n<t.length)return!1;for(;n<t.length;n++){var r=e[t[n]];if(!p(r))break;if(e=r,n===t.length-1)break;if(e._isLinkedToArray){if(!b(t[++n]))return!1}else if("info_array"===e.valType){var a=t[++n];if(!b(a))return!1;var o=e.items;if(Array.isArray(o)){if(a>=o.length)return!1;if(2===e.dimensions){if(n++,t.length===n)return e;var i=t[n];if(!b(i))return!1;e=o[a][i]}else e=o[a]}else e=o}}return e}function b(e){return e===Math.round(e)&&e>=0}function _(e){return function(e){n.crawl(e,function(e,t,r){n.isValObject(e)?"data_array"===e.valType?(e.role="data",r[t+"src"]={valType:"string",editType:"none"}):!0===e.arrayOk&&(r[t+"src"]={valType:"string",editType:"none"}):p(e)&&(e.role="object")})}(e),function(e){n.crawl(e,function(e,t,n){if(e){var r=e[v];r&&(delete e[v],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}})}(e),function(e){!function e(t){for(var n in t)if(p(t[n]))e(t[n]);else if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)e(t[n][r]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}(e)}(e),e}function x(e,t,n){var r=a.nestedProperty(e,n),o=h({},t.layoutAttributes);o[m]=!0,r.set(o)}function w(e,t,n){var r=a.nestedProperty(e,n);r.set(h(r.get()||{},t))}n.IS_SUBPLOT_OBJ=m,n.IS_LINKED_TO_ARRAY=v,n.DEPRECATED="_deprecated",n.UNDERSCORE_ATTRS=g,n.get=function(){var e={};r.allTypes.concat("area").forEach(function(t){e[t]=function(e){var t,n;"area"===e?(t={attributes:u},n={}):(t=r.modules[e]._module,n=t.basePlotModule);var a={type:null};h(a,o),h(a,t.attributes),n.attributes&&h(a,n.attributes),a.type=e;var i={meta:t.meta||{},attributes:_(a)};if(t.layoutAttributes){var s={};h(s,t.layoutAttributes),i.layoutAttributes=_(s)}return i}(t)});var t={};return Object.keys(r.transformsRegistry).forEach(function(e){t[e]=function(e){var t=r.transformsRegistry[e],n=h({},t.attributes);return Object.keys(r.componentsRegistry).forEach(function(t){var a=r.componentsRegistry[t];a.schema&&a.schema.transforms&&a.schema.transforms[e]&&Object.keys(a.schema.transforms[e]).forEach(function(t){w(n,a.schema.transforms[e][t],t)})}),{attributes:_(n)}}(e)}),{defs:{valObjects:a.valObjectMeta,metaKeys:g.concat(["description","role","editType","impliedEdits"]),editType:{traces:f.traces,layout:f.layout},impliedEdits:{}},traces:e,layout:function(){var e,t,n={};for(e in h(n,i),r.subplotsRegistry)if((t=r.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(t.attr))for(var a=0;a<t.attr.length;a++)x(n,t,t.attr[a]);else{var o="subplot"===t.attr?t.name:t.attr;x(n,t,o)}for(e in n=function(e){return d(e,{radialaxis:c.radialaxis,angularaxis:c.angularaxis}),d(e,c.layout),e}(n),r.componentsRegistry){var s=(t=r.componentsRegistry[e]).schema;if(s&&(s.subplots||s.layout)){var l=s.subplots;if(l&&l.xaxis&&!l.yaxis)for(var u in l.xaxis)delete n.yaxis[u]}else t.layoutAttributes&&w(n,t.layoutAttributes,t.name)}return{layoutAttributes:_(n)}}(),transforms:t,frames:function(){var e={frames:a.extendDeepAll({},s)};return _(e),e.frames}(),animation:_(l)}},n.crawl=function(e,t,r,a){var o=r||0;a=a||"",Object.keys(e).forEach(function(r){var i=e[r];if(-1===g.indexOf(r)){var s=(a?a+".":"")+r;t(i,r,e,o,s),n.isValObject(i)||p(i)&&"impliedEdits"!==r&&n.crawl(i,t,o+1,s)}})},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var t,r,i=[],s=[],l=[];function u(e,n,o,u){s=s.slice(0,u).concat([n]),l=l.slice(0,u).concat([e&&e._isLinkedToArray]);var c=e&&("data_array"===e.valType||!0===e.arrayOk)&&!("colorbar"===s[u-1]&&("ticktext"===n||"tickvals"===n));c&&function e(t,n,o){var u=t[s[n]],c=o+s[n];if(n===s.length-1)a.isArrayOrTypedArray(u)&&i.push(r+c);else if(l[n]){if(Array.isArray(u))for(var f=0;f<u.length;f++)a.isPlainObject(u[f])&&e(u[f],n+1,c+"["+f+"].")}else a.isPlainObject(u)&&e(u,n+1,c+".")}(t,0,"")}t=e,r="",n.crawl(o,u),e._module&&e._module.attributes&&n.crawl(e._module.attributes,u);var c=e.transforms;if(c)for(var f=0;f<c.length;f++){var d=c[f],h=d._module;h&&(r="transforms["+f+"].",t=d,n.crawl(h.attributes,u))}return i},n.getTraceValObject=function(e,t){var n,a,i=t[0],s=1;if("transforms"===i){if(1===t.length)return o.transforms;var l=e.transforms;if(!Array.isArray(l)||!l.length)return!1;var c=t[1];if(!b(c)||c>=l.length)return!1;n=(r.transformsRegistry[l[c].type]||{}).attributes,a=n&&n[t[2]],s=3}else if("area"===e.type)a=u[i];else{var f=e._module;if(f||(f=(r.modules[e.type||o.type.dflt]||{})._module),!f)return!1;if(n=f.attributes,!(a=n&&n[i])){var d=f.basePlotModule;d&&d.attributes&&(a=d.attributes[i])}a||(a=o[i])}return y(a,t,s)},n.getLayoutValObject=function(e,t){var n=function(e,t){var n,a,o,s,l=e._basePlotModules;if(l){var u;for(n=0;n<l.length;n++){if((o=l[n]).attrRegex&&o.attrRegex.test(t)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!u&&o.layoutAttributes&&(u=o.layoutAttributes)}var f=o.baseLayoutAttrOverrides;if(f&&t in f)return f[t]}if(u)return u}var d=e._modules;if(d)for(n=0;n<d.length;n++)if((s=d[n].layoutAttributes)&&t in s)return s[t];for(a in r.componentsRegistry)if(!(o=r.componentsRegistry[a]).schema&&t===o.name)return o.layoutAttributes;return t in i?i[t]:"radialaxis"===t||"angularaxis"===t?c[t]:c.layout[t]||!1}(e,t[0]);return y(n,t,1)}},{"../lib":440,"../plots/animation_attributes":483,"../plots/attributes":485,"../plots/frame_attributes":515,"../plots/layout_attributes":522,"../plots/polar/legacy/area_attributes":525,"../plots/polar/legacy/axis_attributes":526,"../registry":532,"./edit_types":471}],478:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plots/attributes"),o="templateitemname",i={name:{valType:"string",editType:"none"}};function s(e){return e&&"string"==typeof e}function l(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}i[o]={valType:"string",editType:"calc"},n.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=i.name,t[o]=i[o],t},n.traceTemplater=function(e){var t,n,o={};for(t in e)n=e[t],Array.isArray(n)&&n.length&&(o[t]=0);return{newTrace:function(i){var s={type:t=r.coerce(i,{},a,"type"),_template:null};if(t in o){n=e[t];var l=o[t]%n.length;o[t]++,s._template=n[l]}return s}}},n.newContainer=function(e,t,n){var a=e._template,o=a&&(a[t]||n&&a[n]);r.isPlainObject(o)||(o=null);var i=e[t]={_template:o};return i},n.arrayTemplater=function(e,t,n){var r=e._template,a=r&&r[l(t)],i=r&&r[t];Array.isArray(i)&&i.length||(i=[]);var u={};return{newItem:function(e){var t={name:e.name,_input:e},r=t[o]=e[o];if(!s(r))return t._template=a,t;for(var l=0;l<i.length;l++){var c=i[l];if(c.name===r)return u[r]=1,t._template=c,t}return t[n]=e[n]||!1,t._template=!1,t},defaultItems:function(){for(var e=[],t=0;t<i.length;t++){var n=i[t],r=n.name;if(s(r)&&!u[r]){var a={_template:n,name:r,_input:{_templateitemname:r}};a[o]=n[o],e.push(a),u[r]=1}}return e}}},n.arrayDefaultKey=l,n.arrayEditor=function(e,t,n){var a=(r.nestedProperty(e,t).get()||[]).length,i=n._index,s=i>=a&&(n._input||{})._templateitemname;s&&(i=a);var l,u=t+"["+i+"]";function c(){l={},s&&(l[u]={},l[u][o]=s)}function f(e,t){s?r.nestedProperty(l[u],e).set(t):l[u+"."+e]=t}function d(){var e=l;return c(),e}return c(),{modifyBase:function(e,t){l[e]=t},modifyItem:f,getUpdateObj:d,applyUpdate:function(t,n){t&&f(t,n);var a=d();for(var o in a)r.nestedProperty(e,o).set(a[o])}}}},{"../lib":440,"../plots/attributes":485}],479:[function(e,t,n){"use strict";var r=e("d3"),a=e("../registry"),o=e("../plots/plots"),i=e("../lib"),s=e("../lib/clear_gl_canvases"),l=e("../components/color"),u=e("../components/drawing"),c=e("../components/titles"),f=e("../components/modebar"),d=e("../plots/cartesian/axes"),h=e("../constants/alignment"),p=e("../plots/cartesian/constraints"),m=p.enforce,v=p.clean,g=e("../plots/cartesian/autorange").doAutoRange;function y(e){var t,a=e._fullLayout,o=a._size,s=o.p,c=d.list(e,"",!0),p=a._has("cartesian");function m(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-s-r:t._offset+t._length+s+r:o.t+o.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+s+r:t._offset-s-r:o.l+o.w*(e.position||0)+r%1}for(t=0;t<c.length;t++){var v=c[t];v.setScale();var g=v._anchorAxis;v._linepositions={},v._lw=u.crispRound(e,v.linewidth,1),v._mainLinePosition=m(v,g,v.side),v._mainMirrorPosition=v.mirror&&g?m(v,g,h.OPPOSITE_SIDE[v.side]):null,v._mainSubplot=b(v,a)}a._paperdiv.style({width:a.width+"px",height:a.height+"px"}).selectAll(".main-svg").call(u.setSize,a.width,a.height),e._context.setBackground(e,a.paper_bgcolor);var y=a._paper.selectAll("g.subplot"),x=[],k=[];y.each(function(e){var t=e[0],n=a._plots[t];if(n.mainplot)return n.bg&&n.bg.remove(),void(n.bg=void 0);var r=n.xaxis.domain,o=n.yaxis.domain,s=n.plotgroup;if(function(e,t,n){for(var r=0;r<n.length;r++){var a=n[r][0],o=n[r][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&o[0]<t[1]&&o[1]>t[0])return!0}return!1}(r,o,k)){var l=s.node(),u=n.bg=i.ensureSingle(s,"rect","bg");l.insertBefore(u.node(),l.childNodes[0])}else s.select("rect.bg").remove(),x.push(t),k.push([r,o])});var A=a._bgLayer.selectAll(".bg").data(x);return A.enter().append("rect").classed("bg",!0),A.exit().remove(),A.each(function(e){a._plots[e].bg=r.select(this)}),y.each(function(e){var t=e[0],n=a._plots[t],r=n.xaxis,o=n.yaxis;n.bg&&p&&n.bg.call(u.setRect,r._offset-s,o._offset-s,r._length+2*s,o._length+2*s).call(l.fill,a.plot_bgcolor).style("stroke-width",0);var f,d,h=n.clipId="clip"+a._uid+t+"plot",v=i.ensureSingleById(a._clips,"clipPath",h,function(e){e.classed("plotclip",!0).append("rect")});if(n.clipRect=v.select("rect").attr({width:r._length,height:o._length}),u.setTranslate(n.plot,r._offset,o._offset),n._hasClipOnAxisFalse?(f=null,d=h):(f=h,d=null),u.setClipUrl(n.plot,f),n.layerClipId=d,p){var g,y,b,x,k,A,T,M,E,C,S,j,O,P="M0,0";_(r,t)&&(k=w(r,"left",o,c),g=r._offset-(k?s+k:0),A=w(r,"right",o,c),y=r._offset+r._length+(A?s+A:0),b=m(r,o,"bottom"),x=m(r,o,"top"),!(O=!r._anchorAxis||t!==r._mainSubplot)||"allticks"!==r.mirror&&"all"!==r.mirror||(r._linepositions[t]=[b,x]),P=D(r,I,function(e){return"M"+r._offset+","+e+"h"+r._length}),O&&r.showline&&("all"===r.mirror||"allticks"===r.mirror)&&(P+=I(b)+I(x)),n.xlines.style("stroke-width",r._lw+"px").call(l.stroke,r.showline?r.linecolor:"rgba(0,0,0,0)")),n.xlines.attr("d",P);var N="M0,0";_(o,t)&&(S=w(o,"bottom",r,c),T=o._offset+o._length+(S?s:0),j=w(o,"top",r,c),M=o._offset-(j?s:0),E=m(o,r,"left"),C=m(o,r,"right"),!(O=!o._anchorAxis||t!==o._mainSubplot)||"allticks"!==o.mirror&&"all"!==o.mirror||(o._linepositions[t]=[E,C]),N=D(o,L,function(e){return"M"+e+","+o._offset+"v"+o._length}),O&&o.showline&&("all"===o.mirror||"allticks"===o.mirror)&&(N+=L(E)+L(C)),n.ylines.style("stroke-width",o._lw+"px").call(l.stroke,o.showline?o.linecolor:"rgba(0,0,0,0)")),n.ylines.attr("d",N)}function I(e){return"M"+g+","+e+"H"+y}function L(e){return"M"+e+","+M+"V"+T}function D(e,n,r){if(!e.showline||t!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var a=n(e._mainLinePosition);return e.mirror&&(a+=n(e._mainMirrorPosition)),a}}),d.makeClipPaths(e),n.drawMainTitle(e),f.manage(e),e._promises.length&&Promise.all(e._promises)}function b(e,t){var n=t._subplots,r=n.cartesian.concat(n.gl2d||[]),a={_fullLayout:t},o="x"===e._id.charAt(0),i=e._mainAxis._anchorAxis,s="",l="",u="";if(i&&(u=i._mainAxis._id,s=o?e._id+u:u+e._id),!s||!t._plots[s]){s="";for(var c=0;c<r.length;c++){var f=r[c],h=f.indexOf("y"),p=o?f.substr(0,h):f.substr(h),m=o?f.substr(h):f.substr(0,h);if(p===e._id){l||(l=f);var v=d.getFromId(a,m);if(u&&v.overlaying===u){s=f;break}}}}return s||l}function _(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function x(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var a=h.FROM_BL[t];return n.side===t?r.domain[a]===e.domain[a]:n.mirror&&r.domain[1-a]===e.domain[1-a]}function w(e,t,n,r){if(x(e,t,n))return n._lw;for(var a=0;a<r.length;a++){var o=r[a];if(o._mainAxis===n._mainAxis&&x(e,t,o))return o._lw}return 0}n.layoutStyles=function(e){return i.syncOrAsync([o.doAutoMargin,y],e)},n.drawMainTitle=function(e){var t=e._fullLayout;c.draw(e,"gtitle",{propContainer:t,propName:"title",placeholder:t._dfltTitle.plot,attributes:{x:t.width/2,y:t._size.t/2,"text-anchor":"middle"}})},n.doTraceStyle=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t],r=((n[0]||{}).trace||{})._module||{},i=r.arraysToCalcdata;i&&i(n,n[0].trace)}return o.style(e),a.getComponentMethod("legend","draw")(e),o.previousPromises(e)},n.doColorBars=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t][0];if((n.t||{}).cb){var r=n.trace,i=n.t.cb;a.traceIs(r,"contour")&&i.line({width:!1!==r.contours.showlines?r.line.width:0,dash:r.line.dash,color:"line"===r.contours.coloring?i._opts.line.color:r.line.color});var s=r._module.colorbar,l=s.container,u=(l?r[l]:r).colorbar;i.options(u)()}}return o.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,a.call("plot",e,"",t)},n.doLegend=function(e){return a.getComponentMethod("legend","draw")(e),o.previousPromises(e)},n.doTicksRelayout=function(e,t){return t?d.doTicks(e,Object.keys(t),!0):d.doTicks(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(s(e),a.subplotsRegistry.splom.plot(e)),n.drawMainTitle(e),o.previousPromises(e)},n.doModeBar=function(e){var t=e._fullLayout;f.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return o.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var a=t[n[r]],o=a._scene;o.setCamera(a.camera)}},n.drawData=function(e){var t,n=e._fullLayout,r=e.calcdata;for(t=0;t<r.length;t++){var i=r[t][0].trace;!0===i.visible&&i._module.colorbar||n._infolayer.select(".cb"+i.uid).remove()}s(e);var l=n._basePlotModules;for(t=0;t<l.length;t++)l[t].plot(e);return o.style(e),a.getComponentMethod("shapes","draw")(e),a.getComponentMethod("annotations","draw")(e),n._replotting=!1,o.previousPromises(e)},n.doAutoRangeAndConstraints=function(e){for(var t=d.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];v(e,r),g(e,r)}m(e)},n.finalDraw=function(e){a.getComponentMethod("shapes","draw")(e),a.getComponentMethod("images","draw")(e),a.getComponentMethod("annotations","draw")(e),a.getComponentMethod("rangeslider","draw")(e),a.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){a.getComponentMethod("legend","draw")(e),a.getComponentMethod("rangeselector","draw")(e),a.getComponentMethod("sliders","draw")(e),a.getComponentMethod("updatemenus","draw")(e)}},{"../components/color":318,"../components/drawing":343,"../components/modebar":381,"../components/titles":409,"../constants/alignment":416,"../lib":440,"../lib/clear_gl_canvases":425,"../plots/cartesian/autorange":487,"../plots/cartesian/axes":488,"../plots/cartesian/constraints":495,"../plots/plots":524,"../registry":532,d3:85}],480:[function(e,t,n){"use strict";var r=e("../lib"),a=r.isPlainObject,o=e("./plot_schema"),i=e("../plots/plots"),s=e("../plots/attributes"),l=e("./plot_template"),u=e("./plot_config");function c(e,t){e=r.extendDeep({},e);var n,o,i=Object.keys(e).sort();function s(t,n,r){if(a(n)&&a(t))c(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var i=l.arrayTemplater({_template:e},r);for(o=0;o<n.length;o++){var s=n[o],u=i.newItem(s)._template;u&&c(u,s)}var f=i.defaultItems();for(o=0;o<f.length;o++)n.push(f[o]._template);for(o=0;o<n.length;o++)delete n[o].templateitemname}}for(n=0;n<i.length;n++){var u=i[n],d=e[u];if(u in t?s(d,t[u],u):t[u]=d,f(u)===u)for(var h in t){var p=f(h);h===p||p!==u||h in e||s(d,t[h],u)}}}function f(e){return e.replace(/[0-9]+$/,"")}function d(e,t,n,o,i){var s=i&&n(i);for(var u in e){var c=e[u],p=h(e,u,o),m=h(e,u,i),v=n(m);if(!v){var g=f(u);g!==u&&(m=h(e,g,i),v=n(m))}if(!(s&&s===v||!v||v._noTemplating||"data_array"===v.valType||v.arrayOk&&Array.isArray(c)))if(!v.valType&&a(c))d(c,t,n,p,m);else if(v._isLinkedToArray&&Array.isArray(c))for(var y=!1,b=0,_={},x=0;x<c.length;x++){var w=c[x];if(a(w)){var k=w.name;if(k)_[k]||(d(w,t,n,h(c,b,p),h(c,b,m)),b++,_[k]=1);else if(!y){var A=l.arrayDefaultKey(u),T=h(e,A,o),M=h(c,b,p);d(w,t,n,M,h(c,b,m));var E=r.nestedProperty(t,M),C=r.nestedProperty(t,T);C.set(E.get()),E.set(null),y=!0}}}else{var S=r.nestedProperty(t,p);S.set(c)}}}function h(e,t,n){return n?Array.isArray(e)?n+"["+t+"]":n+"."+t:t}function p(e){for(var t=0;t<e.length;t++)if(a(e[t]))return!0}function m(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}n.makeTemplate=function(e){e=r.extendDeep({_context:u},e),i.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var l={data:{},layout:{}};t.forEach(function(e){var t={};d(e,t,function(e,t){return o.getTraceValObject(e,r.nestedProperty({},t).parts)}.bind(null,e));var n=r.coerce(e,{},s,"type"),a=l.data[n];a||(a=l.data[n]=[]),a.push(t)}),d(n,l.layout,function(e,t){return o.getLayoutValObject(e,r.nestedProperty({},t).parts)}.bind(null,n)),delete l.layout.template;var f=n.template;if(a(f)){var h,p,m,v,g,y,b=f.layout;a(b)&&c(b,l.layout);var _=f.data;if(a(_)){for(p in l.data)if(m=_[p],Array.isArray(m)){for(g=l.data[p],y=g.length,v=m.length,h=0;h<y;h++)c(m[h%v],g[h]);for(h=y;h<v;h++)g.push(r.extendDeep({},m[h]))}for(p in _)p in l.data||(l.data[p]=r.extendDeep([],_[p]))}}return l},n.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:u,data:e.data,layout:e.layout}),o=n.layout||{};a(t)||(t=o.template||{});var s=t.layout,l=t.data,c=[];n.layout=o,n.layout.template=t,i.supplyDefaults(n);var d=n._fullLayout,v=n._fullData,g={};if(a(s)?(function e(t,n){for(var r in t)if("_"!==r.charAt(0)&&a(t[r])){var o,i=f(r),s=[];for(o=0;o<n.length;o++)s.push(h(t,r,n[o])),i!==r&&s.push(h(t,i,n[o]));for(o=0;o<s.length;o++)g[s[o]]=1;e(t[r],s)}}(d,["layout"]),function e(t,n){for(var r in t)if(-1===r.indexOf("defaults")&&a(t[r])){var o=h(t,r,n);g[o]?e(t[r],o):c.push({code:"unused",path:o})}}(s,"layout")):c.push({code:"layout"}),a(l)){for(var y,b={},_=0;_<v.length;_++){var x=v[_];y=x.type,b[y]=(b[y]||0)+1,x._fullInput._template||c.push({code:"missing",index:x._fullInput.index,traceType:y})}for(y in l){var w=l[y].length,k=b[y]||0;w>k?c.push({code:"unused",traceType:y,templateCount:w,dataCount:k}):k>w&&c.push({code:"reused",traceType:y,templateCount:w,dataCount:k})}}else c.push({code:"data"});if(function e(t,n){for(var r in t)if("_"!==r.charAt(0)){var o=t[r],i=h(t,r,n);a(o)?(Array.isArray(t)&&!1===o._template&&o.templateitemname&&c.push({code:"missing",path:i,templateitemname:o.templateitemname}),e(o,i)):Array.isArray(o)&&p(o)&&e(o,i)}}({data:v,layout:d},""),c.length)return c.map(m)}},{"../lib":440,"../plots/attributes":485,"../plots/plots":524,"./plot_config":476,"./plot_schema":477,"./plot_template":478}],481:[function(e,t,n){"use strict";var r=e("./plot_api"),a=e("../lib"),o=e("../snapshot/helpers"),i=e("../snapshot/tosvg"),s=e("../snapshot/svgtoimg"),l={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}},u=/^data:image\/\w+;base64,/;t.exports=function(e,t){var n,c,f;function d(e){return!(e in t)||a.validate(t[e],l[e])}if(t=t||{},a.isPlainObject(e)?(n=e.data||[],c=e.layout||{},f=e.config||{}):(e=a.getGraphDiv(e),n=a.extendDeep([],e.data),c=a.extendDeep({},e.layout),f=e._context),!d("width")||!d("height"))throw new Error("Height and width should be pixel values.");if(!d("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var h={};function p(e,n){return a.coerce(t,h,l,e,n)}var m=p("format"),v=p("width"),g=p("height"),y=p("scale"),b=p("setBackground"),_=p("imageDataOnly"),x=document.createElement("div");x.style.position="absolute",x.style.left="-5000px",document.body.appendChild(x);var w=a.extendFlat({},c);v&&(w.width=v),g&&(w.height=g);var k=a.extendFlat({},f,{staticPlot:!0,setBackground:b}),A=o.getRedrawFunc(x);function T(){return new Promise(function(e){setTimeout(e,o.getDelay(x._fullLayout))})}function M(){return new Promise(function(e,t){var n=i(x,m,y),o=x._fullLayout.width,l=x._fullLayout.height;if(r.purge(x),document.body.removeChild(x),"svg"===m)return e(_?n:"data:image/svg+xml,"+encodeURIComponent(n));var u=document.createElement("canvas");u.id=a.randstr(),s({format:m,width:o,height:l,scale:y,canvas:u,svg:n,promise:!0}).then(e).catch(t)})}return new Promise(function(e,t){r.plot(x,n,w,k).then(A).then(T).then(M).then(function(t){e(function(e){return _?e.replace(u,""):e}(t))}).catch(function(e){t(e)})})}},{"../lib":440,"../snapshot/helpers":536,"../snapshot/svgtoimg":538,"../snapshot/tosvg":540,"./plot_api":475}],482:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plots/plots"),o=e("./plot_schema"),i=e("./plot_config"),s=r.isPlainObject,l=Array.isArray,u=r.isArrayOrTypedArray;function c(e,t,n,a,o,i){i=i||[];for(var f=Object.keys(e),d=0;d<f.length;d++){var v=f[d];if("transforms"!==v){var g=i.slice();g.push(v);var y=e[v],b=t[v],_=m(n,v),x="info_array"===(_||{}).valType,w="colorscale"===(_||{}).valType,k=(_||{}).items;if(p(n,v))if(s(y)&&s(b))c(y,b,_,a,o,g);else if(x&&l(y)){y.length>b.length&&a.push(h("unused",o,g.concat(b.length)));var A,T,M,E,C,S=b.length,j=Array.isArray(k);if(j&&(S=Math.min(S,k.length)),2===_.dimensions)for(T=0;T<S;T++)if(l(y[T])){y[T].length>b[T].length&&a.push(h("unused",o,g.concat(T,b[T].length)));var O=b[T].length;for(A=0;A<(j?Math.min(O,k[T].length):O);A++)M=j?k[T][A]:k,E=y[T][A],C=b[T][A],r.validate(E,M)?C!==E&&C!==+E&&a.push(h("dynamic",o,g.concat(T,A),E,C)):a.push(h("value",o,g.concat(T,A),E))}else a.push(h("array",o,g.concat(T),y[T]));else for(T=0;T<S;T++)M=j?k[T]:k,E=y[T],C=b[T],r.validate(E,M)?C!==E&&C!==+E&&a.push(h("dynamic",o,g.concat(T),E,C)):a.push(h("value",o,g.concat(T),E))}else if(_.items&&!x&&l(y)){var P,N,I=k[Object.keys(k)[0]],L=[];for(P=0;P<b.length;P++){var D=b[P]._index||P;if((N=g.slice()).push(D),s(y[D])&&s(b[P])){L.push(D);var R=y[D],z=b[P];s(R)&&!1!==R.visible&&!1===z.visible?a.push(h("invisible",o,N)):c(R,z,I,a,o,N)}}for(P=0;P<y.length;P++)(N=g.slice()).push(P),s(y[P])?-1===L.indexOf(P)&&a.push(h("unused",o,N)):a.push(h("object",o,N,y[P]))}else!s(y)&&s(b)?a.push(h("object",o,g,y)):u(y)||!u(b)||x||w?v in t?r.validate(y,_)?"enumerated"===_.valType&&(_.coerceNumber&&y!==+b||y!==b)&&a.push(h("dynamic",o,g,y,b)):a.push(h("value",o,g,y)):a.push(h("unused",o,g,y)):a.push(h("array",o,g,y));else a.push(h("schema",o,g))}}return a}t.exports=function(e,t){var n,u,f=o.get(),d=[],p={_context:r.extendFlat({},i)};l(e)?(p.data=r.extendDeep([],e),n=e):(p.data=[],n=[],d.push(h("array","data"))),s(t)?(p.layout=r.extendDeep({},t),u=t):(p.layout={},u={},arguments.length>1&&d.push(h("object","layout"))),a.supplyDefaults(p);for(var m=p._fullData,v=n.length,g=0;g<v;g++){var y=n[g],b=["data",g];if(s(y)){var _=m[g],x=_.type,w=f.traces[x].attributes;w.type={valType:"enumerated",values:[x]},!1===_.visible&&!1!==y.visible&&d.push(h("invisible",b)),c(y,_,w,d,b);var k=y.transforms,A=_.transforms;if(k){l(k)||d.push(h("array",b,["transforms"])),b.push("transforms");for(var T=0;T<k.length;T++){var M=["transforms",T],E=k[T].type;if(s(k[T])){var C=f.transforms[E]?f.transforms[E].attributes:{};C.type={valType:"enumerated",values:Object.keys(f.transforms)},c(k[T],A[T],C,d,b,M)}else d.push(h("object",b,M))}}}else d.push(h("object",b))}var S=p._fullLayout,j=function(e,t){for(var n=0;n<t.length;n++){var a=t[n].type,o=e.traces[a].layoutAttributes;o&&r.extendFlat(e.layout.layoutAttributes,o)}return e.layout.layoutAttributes}(f,m);return c(u,S,j,d,"layout"),0===d.length?void 0:d};var f={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":d(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":d(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return d(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=s(n)?"container":"key";return d(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[d(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?d(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,n){return[d(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}};function d(e){return l(e)?"In data trace "+e[1]+", ":"In "+e+", "}function h(e,t,n,a,o){var i,s;n=n||"",l(t)?(i=t[0],s=t[1]):(i=t,s=null);var u=function(e){if(!l(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"==typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}(n),c=f[e](t,u,a,o);return r.log(c),{code:e,container:i,trace:s,path:n,astr:u,msg:c}}function p(e,t){var n=g(t),r=n.keyMinusId,a=n.id;return!!(r in e&&e[r]._isSubplotObj&&a)||t in e}function m(e,t){if(t in e)return e[t];var n=g(t);return e[n.keyMinusId]}var v=r.counterRegex("([a-z]+)");function g(e){var t=e.match(v);return{keyMinusId:t&&t[1],id:t&&t[2]}}},{"../lib":440,"../plots/plots":524,"./plot_config":476,"./plot_schema":477}],483:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"]}}}},{}],484:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plot_api/plot_template");t.exports=function(e,t,n){var o,i,s=n.name,l=n.inclusionAttr||"visible",u=t[s],c=r.isArrayOrTypedArray(e[s])?e[s]:[],f=t[s]=[],d=a.arrayTemplater(t,s,l);for(o=0;o<c.length;o++){var h=c[o];r.isPlainObject(h)?i=d.newItem(h):(i=d.newItem({}))[l]=!1,i._index=o,!1!==i[l]&&n.handleItemDefaults(h,i,t,n),f.push(i)}var p=d.defaultItems();for(o=0;o<p.length;o++)(i=p[o])._index=f.length,n.handleItemDefaults({},i,t,n,{}),f.push(i);if(r.isArrayOrTypedArray(u)){var m=Math.min(u.length,f.length);for(o=0;o<m;o++)r.relinkPrivateKeys(f[o],u[o])}return f}},{"../lib":440,"../plot_api/plot_template":478}],485:[function(e,t,n){"use strict";var r=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot"},ids:{valType:"data_array",editType:"calc"},customdata:{valType:"data_array",editType:"calc"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"}}},{"../components/fx/attributes":352}],486:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],487:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),o=e("../../constants/numerical").FP_SAFE;function i(e,t){var n,r,o=[],i=s(t),u=l(e,t),c=u.min,f=u.max;if(0===c.length||0===f.length)return a.simpleMap(t.range,t.r2l);var d=c[0].val,h=f[0].val;for(n=1;n<c.length&&d===h;n++)d=Math.min(d,c[n].val);for(n=1;n<f.length&&d===h;n++)h=Math.max(h,f[n].val);var p=!1;if(t.range){var m=a.simpleMap(t.range,t.r2l);p=m[1]<m[0]}"reversed"===t.autorange&&(p=!0,t.autorange=!0);var v,g,y,b,_,x,w=t.rangemode,k="tozero"===w,A="nonnegative"===w,T=t._length,M=T/10,E=0;for(n=0;n<c.length;n++)for(v=c[n],r=0;r<f.length;r++)g=f[r],(x=g.val-v.val)>0&&((_=T-i(v)-i(g))>M?x/_>E&&(y=v,b=g,E=x/_):x/T>E&&(y={val:v.val,pad:0},b={val:g.val,pad:0},E=x/T));if(d===h){var C=d-1,S=d+1;if(k)if(0===d)o=[0,1];else{var j=(d>0?f:c).reduce(function(e,t){return Math.max(e,i(t))},0),O=d/(1-Math.min(.5,j/T));o=d>0?[0,O]:[O,0]}else o=A?[Math.max(0,C),Math.max(1,S)]:[C,S]}else k?(y.val>=0&&(y={val:0,pad:0}),b.val<=0&&(b={val:0,pad:0})):A&&(y.val-E*i(y)<0&&(y={val:0,pad:0}),b.val<=0&&(b={val:1,pad:0})),E=(b.val-y.val)/(T-i(y)-i(b)),o=[y.val-E*i(y),b.val+E*i(b)];return p&&o.reverse(),a.simpleMap(o,t.l2r||Number)}function s(e){var t=e._length/20;return"domain"===e.constrain&&e._inputDomain&&(t*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(e){return e.pad+(e.extrapad?t:0)}}function l(e,t){var n,r,a,o=t._id,i=e._fullData,s=e._fullLayout,l=[],f=[];function d(e,t){for(n=0;n<t.length;n++){var i=e[t[n]],s=(i._extremes||{})[o];if(!0===i.visible&&s){for(r=0;r<s.min.length;r++)a=s.min[r],u(l,a.val,a.pad,{extrapad:a.extrapad});for(r=0;r<s.max.length;r++)a=s.max[r],c(f,a.val,a.pad,{extrapad:a.extrapad})}}}return d(i,t._traceIndices),d(s.annotations||[],t._annIndices||[]),d(s.shapes||[],t._shapeIndices||[]),{min:l,max:f}}function u(e,t,n,r){f(e,t,n,r,h)}function c(e,t,n,r){f(e,t,n,r,p)}function f(e,t,n,r,a){for(var o=r.tozero,i=r.extrapad,s=!0,l=0;l<e.length&&s;l++){var u=e[l];if(a(u.val,t)&&u.pad>=n&&(u.extrapad||!i)){s=!1;break}a(t,u.val)&&u.pad<=n&&(i||!u.extrapad)&&(e.splice(l,1),l--)}if(s){var c=o&&0===t;e.push({val:t,pad:c?0:n,extrapad:!c&&i})}}function d(e){return r(e)&&Math.abs(e)<o}function h(e,t){return e<=t}function p(e,t){return e>=t}t.exports={getAutoRange:i,makePadFn:s,doAutoRange:function(e,t){var n;if(t._length||t.setScale(),t.autorange&&(t.range=i(e,t),t._r=t.range.slice(),t._rl=a.simpleMap(t._r,t.r2l),(n=t._input).range=t.range.slice(),n.autorange=t.autorange),t._anchorAxis&&t._anchorAxis.rangeslider){var r=t._anchorAxis.rangeslider[t._name];r&&"auto"===r.rangemode&&(r.range=i(e,t)),(n=t._anchorAxis._input).rangeslider[t._name]=a.extendFlat({},r)}},findExtremes:function(e,t,n){n||(n={}),e._m||e.setScale();var a,i,s,l,f,h,p,m,v,g=[],y=[],b=t.length,_=n.padded||!1,x=n.tozero&&("linear"===e.type||"-"===e.type),w="log"===e.type,k=!1;function A(e){if(Array.isArray(e))return k=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var T=A((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),M=A((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),E=A(n.vpadplus||n.vpad),C=A(n.vpadminus||n.vpad);if(!k){if(m=1/0,v=-1/0,w)for(a=0;a<b;a++)(i=t[a])<m&&i>0&&(m=i),i>v&&i<o&&(v=i);else for(a=0;a<b;a++)(i=t[a])<m&&i>-o&&(m=i),i>v&&i<o&&(v=i);t=[m,v],b=2}var S={tozero:x,extrapad:_};function j(n){s=t[n],r(s)&&(h=T(n),p=M(n),m=s-C(n),v=s+E(n),w&&m<v/10&&(m=v/10),l=e.c2l(m),f=e.c2l(v),x&&(l=Math.min(0,l),f=Math.max(0,f)),d(l)&&u(g,l,p,S),d(f)&&c(y,f,h,S))}var O=Math.min(6,b);for(a=0;a<O;a++)j(a);for(a=b-1;a>=O;a--)j(a);return{min:g,max:y}},concatExtremes:l}},{"../../constants/numerical":419,"../../lib":440,"fast-isnumeric":149}],488:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("../../plots/plots"),i=e("../../registry"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../components/titles"),c=e("../../components/color"),f=e("../../components/drawing"),d=e("./layout_attributes"),h=e("../../constants/numerical"),p=h.ONEAVGYEAR,m=h.ONEAVGMONTH,v=h.ONEDAY,g=h.ONEHOUR,y=h.ONEMIN,b=h.ONESEC,_=h.MINUS_SIGN,x=h.BADNUM,w=e("../../constants/alignment").MID_SHIFT,k=e("../../constants/alignment").LINE_SPACING,A=t.exports={};A.setConvert=e("./set_convert");var T=e("./axis_autotype"),M=e("./axis_ids");A.id2name=M.id2name,A.name2id=M.name2id,A.cleanId=M.cleanId,A.list=M.list,A.listIds=M.listIds,A.getFromId=M.getFromId,A.getFromTrace=M.getFromTrace;var E=e("./autorange");A.getAutoRange=E.getAutoRange,A.findExtremes=E.findExtremes,A.coerceRef=function(e,t,n,r,a,o){var i=r.charAt(r.length-1),l=n._fullLayout._subplots[i+"axis"],u=r+"ref",c={};return a||(a=l[0]||o),o||(o=a),c[u]={valType:"enumerated",values:l.concat(o?[o]:[]),dflt:a},s.coerce(e,t,c,u)},A.coercePosition=function(e,t,n,r,a,o){var i,l;if("paper"===r||"pixel"===r)i=s.ensureNumber,l=n(a,o);else{var u=A.getFromId(t,r);o=u.fraction2r(o),l=n(a,o),i=u.cleanPos}e[a]=i(l)},A.cleanPosition=function(e,t,n){var r="paper"===n||"pixel"===n?s.ensureNumber:A.getFromId(t,n).cleanPos;return r(e)};var C=A.getDataConversions=function(e,t,n,r){var a,o="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(o)){if(a={type:T(r),_categories:[]},A.setConvert(a),"category"===a.type)for(var i=0;i<r.length;i++)a.d2c(r[i])}else a=A.getFromTrace(e,t,o);return a?{d2c:a.d2c,c2d:a.c2d}:"ids"===o?{d2c:j,c2d:j}:{d2c:S,c2d:S}};function S(e){return+e}function j(e){return String(e)}A.getDataToCoordFunc=function(e,t,n,r){return C(e,t,n,r).d2c},A.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},A.minDtick=function(e,t,n,r){-1===["log","category"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},A.saveRangeInitial=function(e,t){for(var n=A.list(e,"",!0),r=!1,a=0;a<n.length;a++){var o=n[a],i=void 0===o._rangeInitial,s=i||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(i&&!1===o.autorange||t&&s)&&(o._rangeInitial=o.range.slice(),r=!0)}return r},A.saveShowSpikeInitial=function(e,t){for(var n=A.list(e,"",!0),r=!1,a="on",o=0;o<n.length;o++){var i=n[o],s=void 0===i._showSpikeInitial,l=s||!(i.showspikes===i._showspikes);(s||t&&l)&&(i._showSpikeInitial=i.showspikes,r=!0),"on"!==a||i.showspikes||(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,r},A.autoBin=function(e,t,n,r,o){var i,l,u=s.aggNums(Math.min,null,e),c=s.aggNums(Math.max,null,e);if(o||(o=t.calendar),"category"===t.type)return{start:u-.5,end:c+.5,size:1,_dataSpan:c-u};if(n)i=(c-u)/n;else{var f=s.distinctVals(e),d=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),h=d*s.roundUp(f.minDiff/d,[.9,1.9,4.9,9.9],!0);i=Math.max(h,2*s.stdev(e)/Math.pow(e.length,r?.25:.4)),a(i)||(i=1)}l="log"===t.type?{type:"linear",range:[u,c]}:{type:t.type,range:s.simpleMap([u,c],t.c2r,0,o),calendar:o},A.setConvert(l),A.autoTicks(l,i);var p,m,g=A.tickIncrement(A.tickFirst(l),l.dtick,"reverse",o);if("number"==typeof l.dtick)g=function(e,t,n,r,o){var i=0,s=0,l=0,u=0;function c(t){return(1+100*(t-e)/n.dtick)%100<2}for(var f=0;f<t.length;f++)t[f]%1==0?l++:a(t[f])||u++,c(t[f])&&i++,c(t[f]+n.dtick/2)&&s++;var d=t.length-u;if(l===d&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(s<.1*d&&(i>.3*d||c(r)||c(o))){var h=n.dtick/2;e+=e+h<r?h:-h}return e}(g,e,l,u,c),m=1+Math.floor((c-g)/l.dtick),p=g+m*l.dtick;else for("M"===l.dtick.charAt(0)&&(g=function(e,t,n,r,a){var o=s.findExactDates(t,a);if(o.exactDays>.8){var i=Number(n.substr(1));o.exactYears>.8&&i%12==0?e=A.tickIncrement(e,"M6","reverse")+1.5*v:o.exactMonths>.8?e=A.tickIncrement(e,"M1","reverse")+15.5*v:e-=v/2;var l=A.tickIncrement(e,n);if(l<=r)return l}return e}(g,e,l.dtick,u,o)),p=g,m=0;p<=c;)p=A.tickIncrement(p,l.dtick,!1,o),m++;return{start:t.c2r(g,0,o),end:t.c2r(p,0,o),size:l.dtick,_dataSpan:c-u}},A.prepTicks=function(e){var t=s.simpleMap(e.range,e.r2l);if("auto"===e.tickmode||!e.dtick){var n,r=e.nticks;r||("category"===e.type?(n=e.tickfont?1.2*(e.tickfont.size||12):15,r=e._length/n):(n="y"===e._id.charAt(0)?40:80,r=s.constrain(e._length/n,4,9)+1),"radialaxis"===e._name&&(r*=2)),"array"===e.tickmode&&(r*=100),A.autoTicks(e,Math.abs(t[1]-t[0])/r),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),F(e)},A.calcTicks=function(e){A.prepTicks(e);var t=s.simpleMap(e.range,e.r2l);if("array"===e.tickmode)return function(e){var t,n,r=e.tickvals,a=e.ticktext,o=new Array(r.length),i=s.simpleMap(e.range,e.r2l),l=1.0001*i[0]-1e-4*i[1],u=1.0001*i[1]-1e-4*i[0],c=Math.min(l,u),f=Math.max(l,u),d=0;Array.isArray(a)||(a=[]);var h="category"===e.type?e.d2l_noadd:e.d2l;for("log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1)),n=0;n<r.length;n++)(t=h(r[n]))>c&&t<f&&(void 0===a[n]?o[d]=A.tickText(e,t):o[d]=B(e,t,String(a[n])),d++);return d<r.length&&o.splice(d,r.length-d),o}(e);e._tmin=A.tickFirst(e);var n=1.0001*t[0]-1e-4*t[1],r=1.0001*t[1]-1e-4*t[0],a=t[1]<t[0];if(e._tmin<n!==a)return[];var o=[];"category"===e.type&&(r=a?Math.max(-.5,r):Math.min(e._categories.length-.5,r));for(var i=null,l=Math.max(1e3,e._length||0),u=e._tmin;(a?u>=r:u<=r)&&!(o.length>l||u===i);u=A.tickIncrement(u,e.dtick,a,e.calendar))i=u,o.push(u);K(e)&&360===Math.abs(t[1]-t[0])&&o.pop(),e._tmax=o[o.length-1],e._prevDateHead="",e._inCalcTicks=!0;for(var c=new Array(o.length),f=0;f<o.length;f++)c[f]=A.tickText(e,o[f]);return e._inCalcTicks=!1,c};var O=[2,5,10],P=[1,2,3,6,12],N=[1,2,5,10,15,30],I=[1,2,3,7,14],L=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],D=[-.301,0,.301,.699,1],R=[15,30,45,90,180];function z(e,t,n){return t*s.roundUp(e/t,n)}function F(e){var t=e.dtick;if(e._tickexponent=0,a(t)||"string"==typeof t||(t=1),"category"===e.type&&(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),o=r.length;if("M"===String(t).charAt(0))o>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12==0?"y":"m";else if(t>=v&&o<=10||t>=15*v)e._tickround="d";else if(t>=y&&o<=16||t>=g)e._tickround="M";else if(t>=b&&o<=19||t>=y)e._tickround="S";else{var i=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(o,i)-20,e._tickround<0&&(e._tickround=4)}}else if(a(t)||"L"===t.charAt(0)){var s=e.range.map(e.r2d||Number);a(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),u=Math.floor(Math.log(l)/Math.LN10+.01);Math.abs(u)>3&&(H(e.exponentformat)&&!q(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}function B(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}A.autoTicks=function(e,t){var n;function r(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if("date"===e.type){e.tick0=s.dateTick0(e.calendar);var o=2*t;o>p?(t/=p,n=r(10),e.dtick="M"+12*z(t,n,O)):o>m?(t/=m,e.dtick="M"+z(t,1,P)):o>v?(e.dtick=z(t,v,I),e.tick0=s.dateTick0(e.calendar,!0)):o>g?e.dtick=z(t,g,P):o>y?e.dtick=z(t,y,N):o>b?e.dtick=z(t,b,N):(n=r(10),e.dtick=z(t,n,O))}else if("log"===e.type){e.tick0=0;var i=s.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(i[1]-i[0])<1){var l=1.5*Math.abs((i[1]-i[0])/t);t=Math.abs(Math.pow(10,i[1])-Math.pow(10,i[0]))/l,n=r(10),e.dtick="L"+z(t,n,O)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):K(e)?(e.tick0=0,n=1,e.dtick=z(t,n,R)):(e.tick0=0,n=r(10),e.dtick=z(t,n,O));if(0===e.dtick&&(e.dtick=1),!a(e.dtick)&&"string"!=typeof e.dtick){var u=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(u)}},A.tickIncrement=function(e,t,n,o){var i=n?-1:1;if(a(t))return e+i*t;var l=t.charAt(0),u=i*Number(t.substr(1));if("M"===l)return s.incrementMonth(e,u,o);if("L"===l)return Math.log(Math.pow(10,e)+u)/Math.LN10;if("D"===l){var c="D2"===t?D:L,f=e+.01*i,d=s.roundUp(s.mod(f,1),c,n);return Math.floor(f)+Math.log(r.round(Math.pow(10,d),1))/Math.LN10}throw"unrecognized dtick "+String(t)},A.tickFirst=function(e){var t=e.r2l||Number,n=s.simpleMap(e.range,t),o=n[1]<n[0],i=o?Math.floor:Math.ceil,l=1.0001*n[0]-1e-4*n[1],u=e.dtick,c=t(e.tick0);if(a(u)){var f=i((l-c)/u)*u+c;return"category"===e.type&&(f=s.constrain(f,0,e._categories.length-1)),f}var d=u.charAt(0),h=Number(u.substr(1));if("M"===d){for(var p,m,v,g=0,y=c;g<10;){if(((p=A.tickIncrement(y,u,o,e.calendar))-l)*(y-l)<=0)return o?Math.min(y,p):Math.max(y,p);m=(l-(y+p)/2)/(p-y),v=d+(Math.abs(Math.round(m))||1)*h,y=A.tickIncrement(y,v,m<0?!o:o,e.calendar),g++}return s.error("tickFirst did not converge",e),y}if("L"===d)return Math.log(i((Math.pow(10,l)-c)/h)*h+c)/Math.LN10;if("D"===d){var b="D2"===u?D:L,_=s.roundUp(s.mod(l,1),b,o);return Math.floor(l)+Math.log(r.round(Math.pow(10,_),1))/Math.LN10}throw"unrecognized dtick "+String(u)},A.tickText=function(e,t,n){var r,o,i=B(e,t),l="array"===e.tickmode,u=n||l,c="category"===e.type?e.d2l_noadd:e.d2l;if(l&&Array.isArray(e.ticktext)){var f=s.simpleMap(e.range,e.r2l),d=Math.abs(f[1]-f[0])/1e4;for(o=0;o<e.ticktext.length&&!(Math.abs(t-c(e.tickvals[o]))<d);o++);if(o<e.ticktext.length)return i.text=String(e.ticktext[o]),i}function h(r){var a;return void 0===r||(n?"none"===r:(a={first:e._tmin,last:e._tmax}[r],"all"!==r&&t!==a))}return r=n?"never":"none"!==e.exponentformat&&h(e.showexponent)?"hide":"","date"===e.type?function(e,t,n,r){var o=e._tickround,i=n&&e.hoverformat||A.getTickFormat(e);r&&(o=a(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var l,u=s.formatDate(t.x,i,o,e._dateFormat,e.calendar,e._extraFormat),c=u.indexOf("\n");-1!==c&&(l=u.substr(c+1),u=u.substr(0,c)),r&&("00:00:00"===u||"00:00"===u?(u=l,l=""):8===u.length&&(u=u.replace(/:00$/,""))),l&&(n?"d"===o?u+=", "+l:u=l+(u?", "+u:""):e._inCalcTicks&&l===e._prevDateHead||(u+="<br>"+l,e._prevDateHead=l)),t.text=u}(e,i,n,u):"log"===e.type?function(e,t,n,r,o){var i=e.dtick,l=t.x,u=e.tickformat,c="string"==typeof i&&i.charAt(0);if("never"===o&&(o=""),r&&"L"!==c&&(i="L3",c="L"),u||"L"===c)t.text=V(Math.pow(10,l),e,o,r);else if(a(i)||"D"===c&&s.mod(l+.01,1)<.1){var f=Math.round(l),d=Math.abs(f),h=e.exponentformat;"power"===h||H(h)&&q(f)?(t.text=0===f?1:1===f?"10":"10<sup>"+(f>1?"":_)+d+"</sup>",t.fontSize*=1.25):("e"===h||"E"===h)&&d>2?t.text="1"+h+(f>0?"+":_)+d:(t.text=V(Math.pow(10,l),e,"","fakehover"),"D1"===i&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==c)throw"unrecognized dtick "+String(i);t.text=String(Math.round(Math.pow(10,s.mod(l,1)))),t.fontSize*=.75}if("D1"===e.dtick){var p=String(t.text).charAt(0);"0"!==p&&"1"!==p||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(l<0?.5:.25)))}}(e,i,0,u,r):"category"===e.type?function(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}(e,i):K(e)?function(e,t,n,r,a){if("radians"!==e.thetaunit||n)t.text=V(t.x,e,a,r);else{var o=t.x/180;if(0===o)t.text="0";else{var i=function(e){function t(e,t){return Math.abs(e-t)<=1e-6}var n=function(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}(e),r=e*n,a=Math.abs(function e(n,r){return t(r,0)?n:e(r,n%r)}(r,n));return[Math.round(r/a),Math.round(n/a)]}(o);if(i[1]>=100)t.text=V(s.deg2rad(t.x),e,a,r);else{var l=t.x<0;1===i[1]?1===i[0]?t.text="π":t.text=i[0]+"π":t.text=["<sup>",i[0],"</sup>","⁄","<sub>",i[1],"</sub>","π"].join(""),l&&(t.text=_+t.text)}}}}(e,i,n,u,r):function(e,t,n,r,a){"never"===a?a="":"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(a="hide"),t.text=V(t.x,e,a,r)}(e,i,0,u,r),e.tickprefix&&!h(e.showtickprefix)&&(i.text=e.tickprefix+i.text),e.ticksuffix&&!h(e.showticksuffix)&&(i.text+=e.ticksuffix),i},A.hoverLabelText=function(e,t,n){if(n!==x&&n!==t)return A.hoverLabelText(e,t)+" - "+A.hoverLabelText(e,n);var r="log"===e.type&&t<=0,a=A.tickText(e,e.c2l(r?-t:t),"hover").text;return r?0===t?"0":_+a:a};var U=["f","p","n","μ","m","","k","M","G","T"];function H(e){return"SI"===e||"B"===e}function q(e){return e>14||e<-15}function V(e,t,n,r){var o=e<0,i=t._tickround,l=n||t.exponentformat||"B",u=t._tickexponent,c=A.getTickFormat(t),f=t.separatethousands;if(r){var d={exponentformat:l,dtick:"none"===t.showexponent?t.dtick:a(e)&&Math.abs(e)||1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};F(d),i=(Number(d._tickround)||0)+4,u=d._tickexponent,t.hoverformat&&(c=t.hoverformat)}if(c)return t._numFormat(c)(e).replace(/-/g,_);var h,p=Math.pow(10,-i)/2;if("none"===l&&(u=0),(e=Math.abs(e))<p)e="0",o=!1;else{if(e+=p,u&&(e*=Math.pow(10,-u),i+=u),0===i)e=String(Math.floor(e));else if(i<0){e=(e=String(Math.round(e))).substr(0,e.length+i);for(var m=i;m<0;m++)e+="0"}else{var v=(e=String(e)).indexOf(".")+1;v&&(e=e.substr(0,v+i).replace(/\.?0+$/,""))}e=s.numSeparate(e,t._separators,f)}return u&&"hide"!==l&&(H(l)&&q(u)&&(l="power"),h=u<0?_+-u:"power"!==l?"+"+u:String(u),"e"===l||"E"===l?e+=l+h:"power"===l?e+="×10<sup>"+h+"</sup>":"B"===l&&9===u?e+="B":H(l)&&(e+=U[u/3+5])),o?_+e:e}function W(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function G(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function X(e,t,n){var r,a,o=[],i=[],l=e.layout;for(r=0;r<t.length;r++)o.push(A.getFromId(e,t[r]));for(r=0;r<n.length;r++)i.push(A.getFromId(e,n[r]));var u=Object.keys(d),c=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(r=0;r<u.length;r++){var h=u[r],p=o[0][h],m=i[0][h],v=!0,g=!1,y=!1;if("_"!==h.charAt(0)&&"function"!=typeof p&&-1===c.indexOf(h)){for(a=1;a<o.length&&v;a++){var b=o[a][h];"type"===h&&-1!==f.indexOf(p)&&-1!==f.indexOf(b)&&p!==b?g=!0:b!==p&&(v=!1)}for(a=1;a<i.length&&v;a++){var _=i[a][h];"type"===h&&-1!==f.indexOf(m)&&-1!==f.indexOf(_)&&m!==_?y=!0:i[a][h]!==m&&(v=!1)}v&&(g&&(l[o[0]._name].type="linear"),y&&(l[i[0]._name].type="linear"),Y(l,h,o,i,e._fullLayout._dfltTitle))}}for(r=0;r<e._fullLayout.annotations.length;r++){var x=e._fullLayout.annotations[r];-1!==t.indexOf(x.xref)&&-1!==n.indexOf(x.yref)&&s.swapAttrs(l.annotations[r],["?"])}}function Y(e,t,n,r,a){var o,i=s.nestedProperty,l=i(e[n[0]._name],t).get(),u=i(e[r[0]._name],t).get();for("title"===t&&(l===a.x&&(l=a.y),u===a.y&&(u=a.x)),o=0;o<n.length;o++)i(e,n[o]._name+"."+t).set(u);for(o=0;o<r.length;o++)i(e,r[o]._name+"."+t).set(l)}function K(e){return"angularaxis"===e._id}A.getTickFormat=function(e){var t,n,r;function a(e){return"string"!=typeof e?e:Number(e.replace("M",""))*m}function o(e,t){var n=["L","D"];if(typeof e==typeof t){if("number"==typeof e)return e-t;var r=n.indexOf(e.charAt(0)),a=n.indexOf(t.charAt(0));return r===a?Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,"")):r-a}return"number"==typeof e?1:-1}function i(e,t,n){var r=n||function(e){return e},a=t[0],o=t[1];return(!a&&"number"!=typeof a||r(a)<=r(e))&&(!o&&"number"!=typeof o||r(o)>=r(e))}function s(e,t){var n=null===t[0],r=null===t[1],a=o(e,t[0])>=0,i=o(e,t[1])<=0;return(n||a)&&(r||i)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&i(e.dtick,r.dtickrange,a)){n=r;break}break;case"log":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&s(e.dtick,r.dtickrange)){n=r;break}}return n?n.value:e.tickformat},A.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),a=t?A.findSubplotsWithAxis(r,t):r;return a.sort(function(e,t){var n=e.substr(1).split("y"),r=t.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]}),a},A.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],a=0;a<e.length;a++){var o=e[a];n.test(o)&&r.push(o)}return r},A.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n,a,o={_offset:0,_length:t.width,_id:""},i={_offset:0,_length:t.height,_id:""},s=A.list(e,"x",!0),l=A.list(e,"y",!0),u=[];for(n=0;n<s.length;n++)for(u.push({x:s[n],y:i}),a=0;a<l.length;a++)0===n&&u.push({x:o,y:l[a]}),u.push({x:s[n],y:l[a]});var c=t._clips.selectAll(".axesclip").data(u,function(e){return e.x._id+e.y._id});c.enter().append("clipPath").classed("axesclip",!0).attr("id",function(e){return"clip"+t._uid+e.x._id+e.y._id}).append("rect"),c.exit().remove(),c.each(function(e){r.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})}},A.doTicks=function(e,t,n){var r=e._fullLayout;"redraw"===t&&r._paper.selectAll("g.subplot").each(function(e){var t=e[0],n=r._plots[t],a=n.xaxis,o=n.yaxis;n.xaxislayer.selectAll("."+a._id+"tick").remove(),n.yaxislayer.selectAll("."+o._id+"tick").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+a._id+"title").remove(),r._infolayer.select(".g-"+o._id+"title").remove()});var a=t&&"redraw"!==t?t:A.listIds(e);s.syncOrAsync(a.map(function(t){return function(){if(t){var r=A.doTicksSingle(e,t,n),a=A.getFromId(e,t);return a._r=a.range.slice(),a._rl=s.simpleMap(a._r,a.r2l),r}}}))},A.doTicksSingle=function(e,t,n){var i,d=e._fullLayout,h=!1;s.isPlainObject(t)?(i=t,h=!0):i=A.getFromId(e,t),i.setScale();var p,m,v,g,y,b,_=i._id,x=_.charAt(0),T=A.counterLetter(_),E=i._vals=A.calcTicks(i),C=function(e){return[e.text,e.x,i.mirror,e.font,e.fontSize,e.fontColor].join("_")},S=_+"tick",j=_+"grid",O=_+"zl",P=(i.linewidth||1)/2,N="outside"===i.ticks?i.ticklen:0,I=0,L=f.crispRound(e,i.gridwidth,1),D=f.crispRound(e,i.zerolinewidth,L),R=f.crispRound(e,i.tickwidth,1);if(i._counterangle&&"outside"===i.ticks){var z=i._counterangle*Math.PI/180;N=i.ticklen*Math.cos(z)+1,I=i.ticklen*Math.sin(z)}if(i.showticklabels&&("outside"===i.ticks||i.showline)&&(N+=.2*i.tickfont.size),"x"===x)p=["bottom","top"],m=i._transfn||function(e){return"translate("+(i._offset+i.l2p(e.x))+",0)"},v=function(e,t){if(i._counterangle){var n=i._counterangle*Math.PI/180;return"M0,"+e+"l"+Math.sin(n)*t+","+Math.cos(n)*t}return"M0,"+e+"v"+t};else if("y"===x)p=["left","right"],m=i._transfn||function(e){return"translate(0,"+(i._offset+i.l2p(e.x))+")"},v=function(e,t){if(i._counterangle){var n=i._counterangle*Math.PI/180;return"M"+e+",0l"+Math.cos(n)*t+","+-Math.sin(n)*t}return"M"+e+",0h"+t};else{if(!K(i))return void s.warn("Unrecognized doTicks axis:",_);p=["left","right"],m=i._transfn,v=function(e,t){return"M"+e+",0h"+t}}var F=i.side||p[0],B=[-1,1,F===p[1]?1:-1];if("inside"!==i.ticks==("x"===x)&&(B=B.map(function(e){return-e})),i.visible){i._tickFilter&&(E=E.filter(i._tickFilter));var U=i._valsClipped=K(i)?E:E.filter(function(e){return W(i,e.x)});if(h){if(Q(i._axislayer,v(i._pos+P*B[2],B[2]*i.ticklen)),i._counteraxis){var H={gridlayer:i._gridlayer,zerolinelayer:i._zerolinelayer};te(H,i._counteraxis)}return $(i._axislayer,i._pos)}if(d._has("cartesian")){var q={};(g=A.getSubplots(e,i)).map(function(e){var t=d._plots[e],n=t[T+"axis"],r=n._mainAxis._id;q[r]||(q[r]=1,te(t,n))});var V=i._mainSubplot,G=d._plots[V],X=[];if(i.ticks){var Y=B[2],Z=v(i._mainLinePosition+P*Y,Y*i.ticklen);i._anchorAxis&&i.mirror&&!0!==i.mirror&&(Z+=v(i._mainMirrorPosition-P*Y,-Y*i.ticklen)),Q(G[x+"axislayer"],Z),X=Object.keys(i._linepositions||{})}X.map(function(e){var t=d._plots[e],n=t[x+"axislayer"],r=i._linepositions[e]||[];function a(e){var t=B[e];return v(r[e]+P*t,t*i.ticklen)}Q(n,a(0)+a(1))});var J=G[x+"axislayer"];return $(J,i._mainLinePosition)}}function Q(e,t){var n=e.selectAll("path."+S).data("inside"===i.ticks?U:E,C);t&&i.ticks?(n.enter().append("path").classed(S,1).classed("ticks",1).classed("crisp",1).call(c.stroke,i.tickcolor).style("stroke-width",R+"px").attr("d",t),n.attr("transform",m),n.exit().remove()):n.remove()}function $(t,n){if(y=t.selectAll("g."+S).data(E,C),!a(n))return y.remove(),void ee();if(!i.showticklabels)return y.remove(),ee(),void O();var u,c,h,p,v;"x"===x?(u=function(e){return e.dx+I*v},p=n+(N+P)*(v="bottom"===F?1:-1),c=function(e){return e.dy+p+e.fontSize*("bottom"===F?1:-.2)},h=function(e){return a(e)&&0!==e&&180!==e?e*v<0?"end":"start":"middle"}):"y"===x?(v="right"===F?1:-1,c=function(e){return e.dy+e.fontSize*w-I*v},u=function(e){return e.dx+n+(N+P+(90===Math.abs(i.tickangle)?e.fontSize/2:0))*v},h=function(e){return a(e)&&90===Math.abs(e)?"middle":"right"===F?"start":"end"}):K(i)&&(i._labelShift=I,i._labelStandoff=N,i._pad=P,u=i._labelx,c=i._labely,h=i._labelanchor);var A=0,T=0,M=[];function j(e,t){e.each(function(e){var n=h(t,e),o=r.select(this),i=o.select(".text-math-group"),s=m.call(o.node(),e)+(a(t)&&0!=+t?" rotate("+t+","+u(e)+","+(c(e)-e.fontSize/2)+")":""),d=function(e,t,n){var r=(e-1)*t;if("x"===x){if(n<-60||60<n)return-.5*r;if("top"===F)return-r}else{if((n*="left"===F?1:-1)<-30)return-r;if(n<30)return-.5*r}return 0}(l.lineCount(o),k*e.fontSize,a(t)?+t:0);if(d&&(s+=" translate(0, "+d+")"),i.empty())o.select("text").attr({transform:s,"text-anchor":n});else{var p=f.bBox(i.node()).width*{end:-.5,start:.5}[n];i.attr("transform",s+(p?"translate("+p+",0)":""))}})}function O(){if(i.showticklabels){var n=e.getBoundingClientRect(),r=t.node().getBoundingClientRect();i._boundingBox={width:r.width,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,bottom:r.bottom-n.top}}else{var a,o=d._size;"x"===x?(a="free"===i.anchor?o.t+o.h*(1-i.position):o.t+o.h*(1-i._anchorAxis.domain[{bottom:0,top:1}[i.side]]),i._boundingBox={top:a,bottom:a,left:i._offset,right:i._offset+i._length,width:i._length,height:0}):(a="free"===i.anchor?o.l+o.w*i.position:o.l+o.w*i._anchorAxis.domain[{left:0,right:1}[i.side]],i._boundingBox={left:a,right:a,bottom:i._offset+i._length,top:i._offset,height:i._length,width:0})}if(g){var s=i._counterSpan=[1/0,-1/0];for(b=0;b<g.length;b++){var l=d._plots[g[b]],u=l["x"===x?"yaxis":"xaxis"];c(s,[u._offset,u._offset+u._length])}"free"===i.anchor&&c(s,"x"===x?[i._boundingBox.bottom,i._boundingBox.top]:[i._boundingBox.right,i._boundingBox.left])}function c(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.max(e[1],t[1])}}y.enter().append("g").classed(S,1).append("text").attr("text-anchor","middle").each(function(t){var n=r.select(this),a=e._promises.length;n.call(l.positionText,u(t),c(t)).call(f.font,t.font,t.fontSize,t.fontColor).text(t.text).call(l.convertToTspans,e),(a=e._promises[a])?M.push(e._promises.pop().then(function(){j(n,i.tickangle)})):j(n,i.tickangle)}),y.exit().remove(),y.each(function(e){A=Math.max(A,e.fontSize)}),K(i)&&y.each(function(e){r.select(this).select("text").call(l.positionText,u(e),c(e))}),j(y,i._lastangle||i.tickangle);var L=s.syncOrAsync([function(){return M.length&&Promise.all(M)},function(){if(j(y,i.tickangle),"x"===x&&!a(i.tickangle)&&("log"!==i.type||"D"!==String(i.dtick).charAt(0))){var e=[];for(y.each(function(t){var n=r.select(this),a=n.select(".text-math-group"),o=i.l2p(t.x);a.empty()&&(a=n.select("text"));var s=f.bBox(a.node());e.push({top:0,bottom:10,height:10,left:o-s.width/2,right:o+s.width/2+2,width:s.width+2})}),b=0;b<e.length-1;b++)if(s.bBoxIntersect(e[b],e[b+1])){T=30;break}if(T){var t=Math.abs((E[E.length-1].x-E[0].x)*i._m)/(E.length-1);t<2.5*A&&(T=90),j(y,T)}i._lastangle=T}return ee(),_+" done"},O,function(){var t=i._name+".automargin";if("x"===x||"y"===x)if(i.automargin){var n=i.side[0],r={x:0,y:0,r:0,l:0,t:0,b:0};"x"===x?(r.y="free"===i.anchor?i.position:i._anchorAxis.domain["t"===n?1:0],r[n]+=i._boundingBox.height):(r.x="free"===i.anchor?i.position:i._anchorAxis.domain["r"===n?1:0],r[n]+=i._boundingBox.width),i.title!==d._dfltTitle[x]&&(r[n]+=i.titlefont.size),o.autoMargin(e,t,r)}else o.autoMargin(e,t)}]);return L&&L.then&&e._promises.push(L),L}function ee(){if(!(n||i.rangeslider&&i.rangeslider.visible&&i._boundingBox&&"bottom"===i.side)){var t,r,a,o,s={selection:y,side:i.side},l=_.charAt(0),c=e._fullLayout._size,h=i.titlefont.size;if(y.size()){var p=f.getTranslate(y.node().parentNode);s.offsetLeft=p.x,s.offsetTop=p.y}var m=10+1.5*h+(i.linewidth?i.linewidth-1:0);"x"===l?(r="free"===i.anchor?{_offset:c.t+(1-(i.position||0))*c.h,_length:0}:M.getFromId(e,i.anchor),a=i._offset+i._length/2,o="top"===i.side?-m-h*(i.showticklabels?1:0):r._length+m+h*(i.showticklabels?1.5:.5),o+=r._offset,s.side||(s.side="bottom")):(r="free"===i.anchor?{_offset:c.l+(i.position||0)*c.w,_length:0}:M.getFromId(e,i.anchor),o=i._offset+i._length/2,a="right"===i.side?r._length+m+h*(i.showticklabels?1:.5):-m-h*(i.showticklabels?.5:0),a+=r._offset,t={rotate:"-90",offset:0},s.side||(s.side="left")),u.draw(e,_+"title",{propContainer:i,propName:i._name+".title",placeholder:d._dfltTitle[l],avoid:s,transform:t,attributes:{x:a,y:o,"text-anchor":"middle"}})}}function te(t,n){if(!d._hasOnlyLargeSploms){var a=t.gridlayer.selectAll("."+_),o=t.zerolinelayer,s=i._gridpath||("x"===x?"M0,"+n._offset+"v":"M"+n._offset+",0h")+n._length,l=a.selectAll("path."+j).data(!1===i.showgrid?[]:U,C);if(l.enter().append("path").classed(j,1).classed("crisp",1).attr("d",s).each(function(e){i.zeroline&&("linear"===i.type||"-"===i.type)&&Math.abs(e.x)<i.dtick/100&&r.select(this).remove()}),l.attr("transform",m).call(c.stroke,i.gridcolor||"#ddd").style("stroke-width",L+"px"),"function"==typeof s&&l.attr("d",s),l.exit().remove(),o){var u={x:0,id:_},f=A.shouldShowZeroLine(e,i,n),h=o.selectAll("path."+O).data(f?[u]:[]);h.enter().append("path").classed(O,1).classed("zl",1).classed("crisp",1).attr("d",s).each(function(){o.selectAll("path").sort(function(e,t){return M.idSort(e.id,t.id)})}),h.attr("transform",m).call(c.stroke,i.zerolinecolor||c.defaultLine).style("stroke-width",D+"px"),h.exit().remove()}}}},A.shouldShowZeroLine=function(e,t,n){var r=s.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&("linear"===t.type||"-"===t.type)&&t._valsClipped.length&&(W(t,0)||!function(e,t,n,r){var a=n._mainAxis;if(a){var o=e._fullLayout,i=t._id.charAt(0),s=A.counterLetter(t._id),l=t._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===i)?0:t._length),u=o._plots[n._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return h(n);for(var c=A.list(e,s),f=0;f<c.length;f++){var d=c[f];if(d._mainAxis===a&&h(d))return!0}}function h(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return"number"==typeof e&&Math.abs(e-l)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var a=e._linepositions||{};for(var o in a)if(r(a[o][0])||r(a[o][1]))return!0}}(e,t,n,r)||function(e,t){for(var n=e._fullData,r=t._mainSubplot,a=t._id.charAt(0),o=0;o<n.length;o++){var s=n[o];if(!0===s.visible&&s.xaxis+s.yaxis===r&&(i.traceIs(s,"bar")&&s.orientation==={x:"h",y:"v"}[a]||s.fill&&s.fill.charAt(s.fill.length-1)===a))return!0}return!1}(e,t))},A.allowAutoMargin=function(e){for(var t=A.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&o.allowAutoMargin(e,r._name+".automargin"),r.rangeslider&&r.rangeslider.visible&&o.allowAutoMargin(e,"rangeslider"+r._id)}},A.swap=function(e,t){for(var n=function(e,t){var n,r,a=[];for(n=0;n<t.length;n++){var o=[],i=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(i&&s){for(r=0;r<a.length;r++)-1===a[r].x.indexOf(i)&&-1===a[r].y.indexOf(s)||o.push(r);if(o.length){var l,u=a[o[0]];if(o.length>1)for(r=1;r<o.length;r++)l=a[o[r]],G(u.x,l.x),G(u.y,l.y);G(u.x,[i]),G(u.y,[s])}else a.push({x:[i],y:[s]})}}return a}(e,t),r=0;r<n.length;r++)X(e,n[r].x,n[r].y)}},{"../../components/color":318,"../../components/drawing":343,"../../components/titles":409,"../../constants/alignment":416,"../../constants/numerical":419,"../../lib":440,"../../lib/svg_text_utils":465,"../../plots/plots":524,"../../registry":532,"./autorange":487,"./axis_autotype":489,"./axis_ids":491,"./layout_attributes":500,"./set_convert":506,d3:85,"fast-isnumeric":149}],489:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),o=e("../../constants/numerical").BADNUM;t.exports=function(e,t){return function(e,t){for(var n,o=0,i=0,s=Math.max(1,(e.length-1)/1e3),l=0;l<e.length;l+=s)n=e[Math.round(l)],a.isDateTime(n,t)&&(o+=1),r(n)&&(i+=1);return o>2*i}(e,t)?"date":function(e){for(var t,n=Math.max(1,(e.length-1)/1e3),r=0,i=0,s=0;s<e.length;s+=n)t=e[Math.round(s)],a.cleanNumber(t)!==o?r++:"string"==typeof t&&""!==t&&"None"!==t&&i++;return i>2*r}(e)?"category":function(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(r(e[t]))return!0;return!1}(e)?"linear":"-"}},{"../../constants/numerical":419,"../../lib":440,"fast-isnumeric":149}],490:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),o=e("./layout_attributes"),i=e("./tick_value_defaults"),s=e("./tick_mark_defaults"),l=e("./tick_label_defaults"),u=e("./category_order_defaults"),c=e("./line_grid_defaults"),f=e("./set_convert");t.exports=function(e,t,n,d,h){var p=d.letter,m=d.font||{},v=d.splomStash||{},g=n("visible",!d.cheateronly),y=t.type;if("date"===y){var b=r.getComponentMethod("calendars","handleDefaults");b(e,t,"calendar",d.calendar)}f(t,h);var _=n("autorange",!t.isValidRange(e.range));if(!_||"linear"!==y&&"-"!==y||n("rangemode"),n("range"),t.cleanRange(),u(e,t,n,d),"category"===y||d.noHover||n("hoverformat"),!g)return t;var x=n("color"),w=x!==o.color.dflt?x:m.color,k=v.label||h._dfltTitle[p];return n("title",k),a.coerceFont(n,"titlefont",{family:m.family,size:Math.round(1.2*m.size),color:w}),i(e,t,n,y),l(e,t,n,y,d),s(e,t,n,d),c(e,t,n,{dfltColor:x,bgColor:d.bgColor,showGrid:d.showGrid,attributes:o}),(t.showline||t.ticks)&&n("mirror"),d.automargin&&n("automargin"),t}},{"../../lib":440,"../../registry":532,"./category_order_defaults":492,"./layout_attributes":500,"./line_grid_defaults":502,"./set_convert":506,"./tick_label_defaults":507,"./tick_mark_defaults":508,"./tick_value_defaults":509}],491:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("./constants");n.id2name=function(e){if("string"==typeof e&&e.match(a.AX_ID_PATTERN)){var t=e.substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(a.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t){if(e.match(a.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)){var n=e.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),e.charAt(0)+n}},n.list=function(e,t,r){var a=e._fullLayout;if(!a)return[];var o,i=n.listIds(e,t),s=new Array(i.length);for(o=0;o<i.length;o++){var l=i[o];s[o]=a[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var u=a._subplots.gl3d||[];for(o=0;o<u.length;o++){var c=a[u[o]];t?s.push(c[t+"axis"]):s.push(c.xaxis,c.yaxis,c.zaxis)}}return s},n.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(e,t,r){var a=e._fullLayout;return"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),a[n.id2name(t)]},n.getFromTrace=function(e,t,a){var o=e._fullLayout,i=null;if(r.traceIs(t,"gl3d")){var s=t.scene;"scene"===s.substr(0,5)&&(i=o[s][a+"axis"])}else i=n.getFromId(e,t[a+"axis"]||a);return i},n.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n!==r?n>r?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)}},{"../../registry":532,"./constants":493}],492:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){if("category"===t.type){var a,o=e.categoryarray,i=Array.isArray(o)&&o.length>0;i&&(a="array");var s,l=n("categoryorder",a);"array"===l&&(s=n("categoryarray")),i||"array"!==l||(l=t.categoryorder="trace"),"trace"===l?t._initialCategories=[]:"array"===l?t._initialCategories=s.slice():(s=function(e,t){var n,r,a,o=t.dataAttr||e._id.charAt(0),i={};if(t.axData)n=t.axData;else for(n=[],r=0;r<t.data.length;r++){var s=t.data[r];s[o+"axis"]===e._id&&n.push(s)}for(r=0;r<n.length;r++){var l=n[r][o];for(a=0;a<l.length;a++){var u=l[a];null!==u&&void 0!==u&&(i[u]=1)}}return Object.keys(i)}(t,r).sort(),"category ascending"===l?t._initialCategories=s:"category descending"===l&&(t._initialCategories=s.reverse()))}}},{}],493:[function(e,t,n){"use strict";var r=e("../../lib/regex").counter;t.exports={idRegex:{x:r("x"),y:r("y")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["heatmaplayer","contourcarpetlayer","contourlayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":457}],494:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./axis_ids").id2name;t.exports=function(e,t,n,o,i){var s=i._axisConstraintGroups,l=t._id,u=l.charAt(0);if(!t.fixedrange&&(n("constrain"),r.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===u?["left","center","right"]:["bottom","middle","top"],dflt:"x"===u?"center":"middle"}},"constraintoward"),e.scaleanchor)){var c=function(e,t,n,r){var o,i,s,l,u=r[a(t)].type,c=[];for(i=0;i<n.length;i++)(s=n[i])!==t&&((l=r[a(s)]).type!==u||l.fixedrange||c.push(s));for(o=0;o<e.length;o++)if(e[o][t]){var f=e[o],d=[];for(i=0;i<c.length;i++)s=c[i],f[s]||d.push(s);return{linkableAxes:d,thisGroup:f}}return{linkableAxes:c,thisGroup:null}}(s,l,o,i),f=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:c.linkableAxes}},"scaleanchor");if(f){var d=n("scaleratio");d||(d=t.scaleratio=1),function(e,t,n,r,a){var o,i,s,l,u;null===t?((t={})[n]=1,u=e.length,e.push(t)):u=e.indexOf(t);var c=Object.keys(t);for(o=0;o<e.length;o++)if(s=e[o],o!==u&&s[r]){var f=s[r];for(i=0;i<c.length;i++)l=c[i],s[l]=f*a*t[l];return void e.splice(u,1)}if(1!==a)for(i=0;i<c.length;i++)t[c[i]]*=a;t[r]=1}(s,c.thisGroup,l,f,d)}else-1!==o.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},{"../../lib":440,"./axis_ids":491}],495:[function(e,t,n){"use strict";var r=e("./axis_ids").id2name,a=e("./scale_zoom"),o=e("./autorange").makePadFn,i=e("./autorange").concatExtremes,s=e("../../constants/numerical").ALMOST_EQUAL,l=e("../../constants/alignment").FROM_BL;function u(e,t){var n=e._inputDomain,r=l[e.constraintoward],a=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[a+(n[0]-a)/t,a+(n[1]-a)/t]}n.enforce=function(e){var t,n,l,c,f,d,h,p=e._fullLayout,m=p._axisConstraintGroups||[];for(t=0;t<m.length;t++){var v=m[t],g=Object.keys(v),y=1/0,b=0,_=1/0,x={},w={},k=!1;for(n=0;n<g.length;n++)l=g[n],w[l]=c=p[r(l)],c._inputDomain?c.domain=c._inputDomain.slice():c._inputDomain=c.domain.slice(),c._inputRange||(c._inputRange=c.range.slice()),c.setScale(),x[l]=f=Math.abs(c._m)/v[l],y=Math.min(y,f),"domain"!==c.constrain&&c._constraintShrinkable||(_=Math.min(_,f)),delete c._constraintShrinkable,b=Math.max(b,f),"domain"===c.constrain&&(k=!0);if(!(y>s*b)||k)for(n=0;n<g.length;n++)if(l=g[n],f=x[l],c=w[l],d=c.constrain,f!==_||"domain"===d)if(h=f/_,"range"===d)a(c,h);else{var A=c._inputDomain,T=(c.domain[1]-c.domain[0])/(A[1]-A[0]),M=(c.r2l(c.range[1])-c.r2l(c.range[0]))/(c.r2l(c._inputRange[1])-c.r2l(c._inputRange[0]));if((h/=T)*M<1){c.domain=c._input.domain=A.slice(),a(c,h);continue}if(M<1&&(c.range=c._input.range=c._inputRange.slice(),h*=M),c.autorange){var E=c.r2l(c.range[0]),C=c.r2l(c.range[1]),S=(E+C)/2,j=S,O=S,P=Math.abs(C-S),N=S-P*h*1.0001,I=S+P*h*1.0001,L=o(c);u(c,h),c.setScale();var D,R,z=Math.abs(c._m),F=i(e,c),B=F.min,U=F.max;for(R=0;R<B.length;R++)(D=B[R].val-L(B[R])/z)>N&&D<j&&(j=D);for(R=0;R<U.length;R++)(D=U[R].val+L(U[R])/z)<I&&D>O&&(O=D);var H=(O-j)/(2*P);h/=H,j=c.l2r(j),O=c.l2r(O),c.range=c._input.range=E<C?[j,O]:[O,j]}u(c,h)}}},n.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,a=e._fullLayout._axisConstraintGroups,o=0;o<a.length;o++)if(a[o][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},{"../../constants/alignment":416,"../../constants/numerical":419,"./autorange":487,"./axis_ids":491,"./scale_zoom":504}],496:[function(e,t,n){"use strict";var r=e("d3"),a=e("tinycolor2"),o=e("has-passive-events"),i=e("../../registry"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../lib/clear_gl_canvases"),c=e("../../components/color"),f=e("../../components/drawing"),d=e("../../components/fx"),h=e("../../lib/setcursor"),p=e("../../components/dragelement"),m=e("../../constants/alignment").FROM_TL,v=e("../plots"),g=e("./axes").doTicksSingle,y=e("./axis_ids").getFromId,b=e("./select").prepSelect,_=e("./select").clearSelect,x=e("./select").selectOnClick,w=e("./scale_zoom"),k=e("./constants"),A=k.MINDRAG,T=k.MINZOOM,M=!0;function E(e,t,n,r){var a=s.ensureSingle(e.draglayer,t,n,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(h,r),a.node()}function C(e,t,n,a,o,i,s){var l=E(e,"rect",t,n);return r.select(l).call(f.setRect,a,o,i,s),l}function S(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function j(e,t,n,r,a){var o,i,s,l;for(o=0;o<e.length;o++)(i=e[o]).fixedrange||(s=i._rl[0],l=i._rl[1]-s,i.range=[i.l2r(s+l*t),i.l2r(s+l*n)],r[i._name+".range[0]"]=i.range[0],r[i._name+".range[1]"]=i.range[1]);if(a&&a.length){var u=(t+(1-n))/2;j(a,u,1-u,r)}}function O(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.fixedrange||(r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)])}}function P(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function N(e,t,n,r,a){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",a+"Z")}function I(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+n+")").attr("d","M0,0Z")}function L(e,t,n,r,a,o){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),D(e,t,a,o)}function D(e,t,n,r){n||(e.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function R(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function z(e){M&&e.data&&e._context.showTips&&(s.notifier(s._(e,"Double-click to zoom back out"),"long"),M=!1)}function F(e){return"lasso"===e||"select"===e}function B(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,T)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function U(e,t){if(o){var n=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel&&(e.onmousewheel=t)}function H(e){var t=[];for(var n in e)t.push(e[n]);return t}t.exports={makeDragBox:function(e,t,n,o,c,h,M,E){var D,q,V,W,G,X,Y,K,Z,J,Q,$,ee,te,ne,re,ae,oe,ie,se,le,ue=e._fullLayout._zoomlayer,ce=M+E==="nsew",fe=1===(M+E).length;function de(){if(D=t.xaxis,q=t.yaxis,Z=D._length,J=q._length,Y=D._offset,K=q._offset,(V={})[D._id]=D,(W={})[q._id]=q,M&&E)for(var n=t.overlays,r=0;r<n.length;r++){var a=n[r].xaxis;V[a._id]=a;var o=n[r].yaxis;W[o._id]=o}G=H(V),X=H(W),$=S(G,E),ee=S(X,M),te=!ee&&!$,Q=function(e,t,n){for(var r,a,o,i,l=e._fullLayout._axisConstraintGroups,u=!1,c={},f={},d=0;d<l.length;d++){var h=l[d];for(r in t)if(h[r]){for(o in h)("x"===o.charAt(0)?t:n)[o]||(c[o]=1);for(a in n)h[a]&&(u=!0)}for(a in n)if(h[a])for(i in h)("x"===i.charAt(0)?t:n)[i]||(f[i]=1)}u&&(s.extendFlat(c,f),f={});var p={},m=[];for(o in c){var v=y(e,o);m.push(v),p[v._id]=v}var g={},b=[];for(i in f){var _=y(e,i);b.push(_),g[_._id]=_}return{xaHash:p,yaHash:g,xaxes:m,yaxes:b,isSubplotConstrained:u}}(e,V,W),ne=Q.isSubplotConstrained,re=E||ne,ae=M||ne;var i=e._fullLayout;oe=i._has("scattergl"),ie=i._hasOnlyLargeSploms,se=ie||i._has("splom"),le=i._has("svg")}de();var he=function(e,t,n){return e?"nsew"===e?n?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(ee+$,e._fullLayout.dragmode,ce),pe=C(t,M+E+"drag",he,n,o,c,h);if(te&&!ce)return pe.onmousedown=null,pe.style.pointerEvents="none",pe;var me,ve,ge,ye,be,_e,xe,we,ke,Ae,Te={element:pe,gd:e,plotinfo:t};function Me(){Te.plotinfo.selection=!1,_(ue)}function Ee(n,a){var o=e._fullLayout.clickmode;if(R(e),2!==n||fe||function(){if(!e._transitioningWithDuration){var t,n,r,a=e._context.doubleClick,o=($?G:[]).concat(ee?X:[]),s={};if("reset+autosize"===a)for(a="autosize",n=0;n<o.length;n++)if((t=o[n])._rangeInitial&&(t.range[0]!==t._rangeInitial[0]||t.range[1]!==t._rangeInitial[1])||!t._rangeInitial&&!t.autorange){a="reset";break}if("autosize"===a)for(n=0;n<o.length;n++)(t=o[n]).fixedrange||(s[t._name+".autorange"]=!0);else if("reset"===a)for(($||ne)&&(o=o.concat(Q.xaxes)),ee&&!ne&&(o=o.concat(Q.yaxes)),ne&&($?ee||(o=o.concat(X)):o=o.concat(G)),n=0;n<o.length;n++)(t=o[n])._rangeInitial?(r=t._rangeInitial,s[t._name+".range[0]"]=r[0],s[t._name+".range[1]"]=r[1]):s[t._name+".autorange"]=!0;e.emit("plotly_doubleclick",null),i.call("relayout",e,s)}}(),ce)o.indexOf("select")>-1&&x(a,e,G,X,t.id,Te),o.indexOf("event")>-1&&d.click(e,a,t.id);else if(1===n&&fe){var s=M?q:D,u="s"===M||"w"===E?0:1,c=s._name+".range["+u+"]",f=function(e,t){var n,a=e.range[t],o=Math.abs(a-e.range[1-t]);return"date"===e.type?a:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,r.format("."+n+"g")(Math.pow(10,a))):(n=Math.floor(Math.log(Math.abs(a))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,r.format("."+String(n)+"g")(a))}(s,u),h="left",p="middle";if(s.fixedrange)return;M?(p="n"===M?"top":"bottom","right"===s.side&&(h="right")):"e"===E&&(h="right"),e._context.showAxisRangeEntryBoxes&&r.select(pe).call(l.makeEditable,{gd:e,immediate:!0,background:e._fullLayout.paper_bgcolor,text:String(f),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:h,verticalAlign:p}).on("edit",function(t){var n=s.d2r(t);void 0!==n&&i.call("relayout",e,c,n)})}}Te.prepFn=function(t,n,r){var o=Te.dragmode,i=e._fullLayout.dragmode;i!==o&&(Te.dragmode=i),de(),te||(ce?t.shiftKey?"pan"===i?i="zoom":F(i)||(i="pan"):t.ctrlKey&&(i="pan"):i="pan"),Te.minDrag="lasso"===i?1:void 0,F(i)?(Te.xaxes=G,Te.yaxes=X,b(t,n,r,Te,i)):(Te.clickFn=Ee,F(o)&&Me(),te||("zoom"===i?(Te.moveFn=Se,Te.doneFn=je,Te.minDrag=1,function(t,n,r){var o=pe.getBoundingClientRect();me=n-o.left,ve=r-o.top,ge={l:me,r:me,w:0,t:ve,b:ve,h:0},ye=e._hmpixcount?e._hmlumcount/e._hmpixcount:a(e._fullLayout.plot_bgcolor).getLuminance(),_e=!1,xe="xy",Ae=!1,we=N(ue,ye,Y,K,be="M0,0H"+Z+"V"+J+"H0V0"),ke=I(ue,Y,K)}(0,n,r)):"pan"===i&&(Te.moveFn=Re,Te.doneFn=Fe)))},p.init(Te);var Ce={};function Se(t,n){if(e._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(Z,t+me)),a=Math.max(0,Math.min(J,n+ve)),o=Math.abs(r-me),i=Math.abs(a-ve);function s(){xe="",ge.r=ge.l,ge.t=ge.b,ke.attr("d","M0,0Z")}ge.l=Math.min(me,r),ge.r=Math.max(me,r),ge.t=Math.min(ve,a),ge.b=Math.max(ve,a),ne?o>T||i>T?(xe="xy",o/Z>i/J?(i=o*J/Z,ve>a?ge.t=ve-i:ge.b=ve+i):(o=i*Z/J,me>r?ge.l=me-o:ge.r=me+o),ke.attr("d",B(ge))):s():!ee||i<Math.min(Math.max(.6*o,A),T)?o<A||!$?s():(ge.t=0,ge.b=J,xe="x",ke.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-T-.5)+"h-3v"+(2*T+1)+"h3ZM"+(e.r+.5)+","+(t-T-.5)+"h3v"+(2*T+1)+"h-3Z"}(ge,ve))):!$||o<Math.min(.6*i,T)?(ge.l=0,ge.r=Z,xe="y",ke.attr("d",function(e,t){return"M"+(t-T-.5)+","+(e.t-.5)+"v-3h"+(2*T+1)+"v3ZM"+(t-T-.5)+","+(e.b+.5)+"v3h"+(2*T+1)+"v-3Z"}(ge,me))):(xe="xy",ke.attr("d",B(ge))),ge.w=ge.r-ge.l,ge.h=ge.b-ge.t,xe&&(Ae=!0),e._dragged=Ae,L(we,ke,ge,be,_e,ye),_e=!0}function je(){if(Math.min(ge.h,ge.w)<2*A)return R(e);"xy"!==xe&&"x"!==xe||j(G,ge.l/Z,ge.r/Z,Ce,Q.xaxes),"xy"!==xe&&"y"!==xe||j(X,(J-ge.b)/J,(J-ge.t)/J,Ce,Q.yaxes),R(e),Fe(),z(e)}var Oe,Pe,Ne=[0,0,Z,J],Ie=null,Le=k.REDRAWDELAY,De=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function Re(t,n){if(!e._transitioningWithDuration){if("ew"===$||"ns"===ee)return $&&O(G,t),ee&&O(X,n),Be([$?-t:0,ee?-n:0,Z,J]),void ze(ee,$);if(ne&&$&&ee){var r="w"===$==("n"===ee)?1:-1,a=(t/Z+r*n/J)/2;t=a*Z,n=r*a*J}"w"===$?t=l(G,0,t):"e"===$?t=l(G,1,-t):$||(t=0),"n"===ee?n=l(X,1,n):"s"===ee?n=l(X,0,-n):ee||(n=0);var o="w"===$?t:0,i="n"===ee?n:0;if(ne){var s;if(!$&&1===ee.length){for(s=0;s<G.length;s++)G[s].range=G[s]._r.slice(),w(G[s],1-n/J);o=(t=n*Z/J)/2}if(!ee&&1===$.length){for(s=0;s<X.length;s++)X[s].range=X[s]._r.slice(),w(X[s],1-t/Z);i=(n=t*J/Z)/2}}Be([o,i,Z-t,J-n]),ze(ee,$)}function l(e,t,n){for(var r,a,o=1-t,i=0;i<e.length;i++){var s=e[i];if(!s.fixedrange){r=s,a=s._rl[o]+(s._rl[t]-s._rl[o])/P(n/s._length);var l=s.l2r(a);!1!==l&&void 0!==l&&(s.range[t]=l)}}return r._length*(r._rl[t]-a)/(r._rl[t]-r._rl[o])}}function ze(t,n){var r,a=[];function o(e){for(r=0;r<e.length;r++)e[r].fixedrange||a.push(e[r]._id)}for(re&&(o(G),o(Q.xaxes)),ae&&(o(X),o(Q.yaxes)),Ce={},r=0;r<a.length;r++){var s=a[r];g(e,s,!0);var l=y(e,s);Ce[l._name+".range[0]"]=l.range[0],Ce[l._name+".range[1]"]=l.range[1]}function u(o,i,s){for(r=0;r<o.length;r++){var l=o[r];if((n&&-1!==a.indexOf(l.xref)||t&&-1!==a.indexOf(l.yref))&&(i(e,r),s))return}}u(e._fullLayout.annotations||[],i.getComponentMethod("annotations","drawOne")),u(e._fullLayout.shapes||[],i.getComponentMethod("shapes","drawOne")),u(e._fullLayout.images||[],i.getComponentMethod("images","draw"),!0)}function Fe(){Be([0,0,Z,J]),s.syncOrAsync([v.previousPromises,function(){i.call("relayout",e,Ce)}],e)}function Be(t){var n,r,a,o,l=e._fullLayout,c=l._plots,d=l._subplots.cartesian;if((se||oe)&&u(e),!se||(i.subplotsRegistry.splom.drag(e),!ie)){if(oe)for(n=0;n<d.length;n++){r=c[d[n]],a=r.xaxis,o=r.yaxis;var h=r._scene;if(h){var p=s.simpleMap(a.range,a.r2l),m=s.simpleMap(o.range,o.r2l);h.update({range:[p[0],m[0],p[1],m[1]]})}}if(le){var v=t[2]/D._length,g=t[3]/q._length;for(n=0;n<d.length;n++){r=c[d[n]],a=r.xaxis,o=r.yaxis;var y,b,_,x,w=re&&!a.fixedrange&&V[a._id],k=ae&&!o.fixedrange&&W[o._id];if(w?(y=v,_=E?t[0]:qe(a,y)):(y=Ue(a,v,g),_=He(a,y)),k?(b=g,x=M?t[1]:qe(o,b)):(b=Ue(o,v,g),x=He(o,b)),y||b){y||(y=1),b||(b=1);var A=a._offset-_/y,T=o._offset-x/b;r.clipRect.call(f.setTranslate,_,x).call(f.setScale,y,b),r.plot.call(f.setTranslate,A,T).call(f.setScale,1/y,1/b),y===Oe&&b===Pe||(f.setPointGroupScale(r.zoomScalePts,y,b),f.setTextPointsScale(r.zoomScaleTxt,y,b)),f.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),Oe=y,Pe=b}}}}}function Ue(e,t,n){return e.fixedrange?0:re&&Q.xaHash[e._id]?t:ae&&(ne?Q.xaHash:Q.yaHash)[e._id]?n:0}function He(e,t){return t?(e.range=e._r.slice(),w(e,t),qe(e,t)):0}function qe(e,t){return e._length*(1-t)*m[e.constraintoward||"middle"]}return M.length*E.length!=1&&U(pe,function(t){if(e._context.scrollZoom||e._fullLayout._enablescrollzoom){if(Me(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();var n=e.querySelector(".plotly");if(de(),!(n.scrollHeight-n.clientHeight>10||n.scrollWidth-n.clientWidth>10)){clearTimeout(Ie);var r=-t.deltaY;if(isFinite(r)||(r=t.wheelDelta/10),isFinite(r)){var a,o=Math.exp(-Math.min(Math.max(r,-20),20)/200),i=De.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(t.clientX-i.left)/i.width,u=(i.bottom-t.clientY)/i.height;if(re){for(E||(l=.5),a=0;a<G.length;a++)c(G[a],l,o);Ne[2]*=o,Ne[0]+=Ne[2]*l*(1/o-1)}if(ae){for(M||(u=.5),a=0;a<X.length;a++)c(X[a],u,o);Ne[3]*=o,Ne[1]+=Ne[3]*(1-u)*(1/o-1)}return Be(Ne),ze(M,E),Ie=setTimeout(function(){Ne=[0,0,Z,J],Fe()},Le),void t.preventDefault()}s.log("Did not find wheel motion attributes: ",t)}}function c(e,t,n){if(!e.fixedrange){var r=s.simpleMap(e.range,e.r2l),a=r[0]+(r[1]-r[0])*t;e.range=r.map(function(t){return e.l2r(a+(t-a)*n)})}}}),pe},makeDragger:E,makeRectDragger:C,makeZoombox:N,makeCorners:I,updateZoombox:L,xyCorners:B,transitionZoombox:D,removeZoombox:R,showDoubleClickNotifier:z,attachWheelEventHandler:U}},{"../../components/color":318,"../../components/dragelement":340,"../../components/drawing":343,"../../components/fx":360,"../../constants/alignment":416,"../../lib":440,"../../lib/clear_gl_canvases":425,"../../lib/setcursor":461,"../../lib/svg_text_utils":465,"../../registry":532,"../plots":524,"./axes":488,"./axis_ids":491,"./constants":493,"./scale_zoom":504,"./select":505,d3:85,"has-passive-events":201,tinycolor2:283}],497:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../components/fx"),o=e("../../components/dragelement"),i=e("../../lib/setcursor"),s=e("./dragbox").makeDragBox,l=e("./constants").DRAGGERSIZE;n.initInteractions=function(e){var t=e._fullLayout;if(e._context.staticPlot)r.select(e).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){var i=Object.keys(t._plots||{}).sort(function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),a=n.split("y");return r[0]===a[0]?Number(r[1]||1)-Number(a[1]||1):Number(r[0]||1)-Number(a[0]||1)}return t._plots[e].mainplot?1:-1});i.forEach(function(n){var r=t._plots[n],i=r.xaxis,u=r.yaxis;if(!r.mainplot){var c=s(e,r,i._offset,u._offset,i._length,u._length,"ns","ew");c.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&a.hover(e,t,n)},a.hover(e,t,n),e._fullLayout._lasthover=c,e._fullLayout._hoversubplot=n},c.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,o.unhover(e,t))},e._context.showAxisDragHandles&&(s(e,r,i._offset-l,u._offset-l,l,l,"n","w"),s(e,r,i._offset+i._length,u._offset-l,l,l,"n","e"),s(e,r,i._offset-l,u._offset+u._length,l,l,"s","w"),s(e,r,i._offset+i._length,u._offset+u._length,l,l,"s","e"))}if(e._context.showAxisDragHandles){if(n===i._mainSubplot){var f=i._mainLinePosition;"top"===i.side&&(f-=l),s(e,r,i._offset+.1*i._length,f,.8*i._length,l,"","ew"),s(e,r,i._offset,f,.1*i._length,l,"","w"),s(e,r,i._offset+.9*i._length,f,.1*i._length,l,"","e")}if(n===u._mainSubplot){var d=u._mainLinePosition;"right"!==u.side&&(d-=l),s(e,r,d,u._offset+.1*u._length,l,.8*u._length,"ns",""),s(e,r,d,u._offset+.9*u._length,l,.1*u._length,"s",""),s(e,r,d,u._offset,l,.1*u._length,"n","")}}});var u=t._hoverlayer.node();u.onmousemove=function(n){n.target=e._fullLayout._lasthover,a.hover(e,n,t._hoversubplot)},u.onclick=function(t){t.target=e._fullLayout._lasthover,a.click(e,t)},u.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},n.updateFx(e)}},n.updateFx=function(e){var t=e._fullLayout,n="pan"===t.dragmode?"move":"crosshair";i(t._draggers,n)}},{"../../components/dragelement":340,"../../components/fx":360,"../../lib/setcursor":461,"./constants":493,"./dragbox":496,d3:85}],498:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib");t.exports=function(e){return function(t,n){var o=t[e];if(Array.isArray(o))for(var i=r.subplotsRegistry.cartesian,s=i.idRegex,l=n._subplots,u=l.xaxis,c=l.yaxis,f=l.cartesian,d=n._has("cartesian")||n._has("gl2d"),h=0;h<o.length;h++){var p=o[h];if(a.isPlainObject(p)){var m=p.xref,v=p.yref,g=s.x.test(m),y=s.y.test(v);if(g||y){d||a.pushUnique(n._basePlotModules,i);var b=!1;g&&-1===u.indexOf(m)&&(u.push(m),b=!0),y&&-1===c.indexOf(v)&&(c.push(v),b=!0),b&&g&&y&&f.push(m+v)}}}}}},{"../../lib":440,"../../registry":532}],499:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),o=e("../../lib"),i=e("../plots"),s=e("../../components/drawing"),l=e("../get_data").getModuleCalcData,u=e("./axis_ids"),c=e("./constants"),f=e("../../constants/xmlns_namespaces"),d=o.ensureSingle;function h(e,t,n){return o.ensureSingle(e,t,n,function(e){e.datum(n)})}function p(e,t,n,o,i){for(var u,f,d,h=c.traceLayerClasses,p=e._fullLayout,m=p._modules,v=[],g=[],y=0;y<m.length;y++){var b=(u=m[y]).name,_=a.modules[b].categories;if(_.svg){var x=u.layerName||b+"layer",w=u.plot;f=l(n,w),d=f[0],n=f[1],d.length&&v.push({i:h.indexOf(x),className:x,plotMethod:w,cdModule:d}),_.zoomScale&&g.push("."+x)}}v.sort(function(e,t){return e.i-t.i});var k=t.plot.selectAll("g.mlayer").data(v,function(e){return e.className});if(k.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0),k.exit().remove(),k.order(),k.each(function(n){var a=r.select(this),l=n.className;n.plotMethod(e,t,n.cdModule,a,o,i),"scatterlayer"!==l&&"barlayer"!==l&&s.setClipUrl(a,t.layerClipId)}),p._has("scattergl")&&(u=a.getModule("scattergl"),d=l(n,u)[0],u.plot(e,t,d)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(".scatterlayer, .barlayer").selectAll(".trace")),g.length)){var A=t.plot.selectAll(g.join(",")).selectAll(".trace");t.zoomScalePts=A.selectAll("path.point"),t.zoomScaleTxt=A.selectAll(".textpoint")}}function m(e,t){var n=t.plotgroup,r=t.id,a=c.layerValue2layerClass[t.xaxis.layer],o=c.layerValue2layerClass[t.yaxis.layer],i=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var s=t.mainplotinfo,l=s.plotgroup,f=r+"-x",p=r+"-y";t.gridlayer=s.gridlayer,t.zerolinelayer=s.zerolinelayer,d(s.overlinesBelow,"path",f),d(s.overlinesBelow,"path",p),d(s.overaxesBelow,"g",f),d(s.overaxesBelow,"g",p),t.plot=d(s.overplot,"g",r),d(s.overlinesAbove,"path",f),d(s.overlinesAbove,"path",p),d(s.overaxesAbove,"g",f),d(s.overaxesAbove,"g",p),t.xlines=l.select(".overlines-"+a).select("."+f),t.ylines=l.select(".overlines-"+o).select("."+p),t.xaxislayer=l.select(".overaxes-"+a).select("."+f),t.yaxislayer=l.select(".overaxes-"+o).select("."+p)}else if(i)t.plot=d(n,"g","plot"),t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.xaxislayer=d(n,"g","xaxislayer-above"),t.yaxislayer=d(n,"g","yaxislayer-above");else{var m=d(n,"g","layer-subplot");t.shapelayer=d(m,"g","shapelayer"),t.imagelayer=d(m,"g","imagelayer"),t.gridlayer=d(n,"g","gridlayer"),t.zerolinelayer=d(n,"g","zerolinelayer"),d(n,"path","xlines-below"),d(n,"path","ylines-below"),t.overlinesBelow=d(n,"g","overlines-below"),d(n,"g","xaxislayer-below"),d(n,"g","yaxislayer-below"),t.overaxesBelow=d(n,"g","overaxes-below"),t.plot=d(n,"g","plot"),t.overplot=d(n,"g","overplot"),t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.overlinesAbove=d(n,"g","overlines-above"),d(n,"g","xaxislayer-above"),d(n,"g","yaxislayer-above"),t.overaxesAbove=d(n,"g","overaxes-above"),t.xlines=n.select(".xlines-"+a),t.ylines=n.select(".ylines-"+o),t.xaxislayer=n.select(".xaxislayer-"+a),t.yaxislayer=n.select(".yaxislayer-"+o)}i||(h(t.gridlayer,"g",t.xaxis._id),h(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(u.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function v(e,t){if(e){var n={};for(var a in e.each(function(e){var a=e[0],o=r.select(this);o.remove(),g(a,t),n[a]=!0}),t._plots)for(var o=t._plots[a],i=o.overlays||[],s=0;s<i.length;s++){var l=i[s];n[l.id]&&l.plot.selectAll(".trace").remove()}}}function g(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=c.idRegex,n.attrRegex=c.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.transitionAxes=e("./transition_axes"),n.finalizeSubplots=function(e,t){var n,r,a,i=t._subplots,s=i.xaxis,l=i.yaxis,f=i.cartesian,d=f.concat(i.gl2d||[]),h={},p={};for(n=0;n<d.length;n++){var m=d[n].split("y");h[m[0]]=1,p["y"+m[1]]=1}for(n=0;n<s.length;n++)r=s[n],h[r]||(a=(e[u.id2name(r)]||{}).anchor,c.idRegex.y.test(a)||(a="y"),f.push(r+a),d.push(r+a),p[a]||(p[a]=1,o.pushUnique(l,a)));for(n=0;n<l.length;n++)a=l[n],p[a]||(r=(e[u.id2name(a)]||{}).anchor,c.idRegex.x.test(r)||(r="x"),f.push(r+a),d.push(r+a),h[r]||(h[r]=1,o.pushUnique(s,r)));if(!d.length){for(var v in r="",a="",e)if(c.attrRegex.test(v)){var g=v.charAt(0);"x"===g?(!r||+v.substr(5)<+r.substr(5))&&(r=v):(!a||+v.substr(5)<+a.substr(5))&&(a=v)}r=r?u.name2id(r):"x",a=a?u.name2id(a):"y",s.push(r),l.push(a),f.push(r+a)}},n.plot=function(e,t,n,r){var a,o=e._fullLayout,i=o._subplots.cartesian,s=e.calcdata;if(null!==t){if(!Array.isArray(t))for(t=[],a=0;a<s.length;a++)t.push(a);for(a=0;a<i.length;a++){for(var l,u=i[a],c=o._plots[u],f=[],d=0;d<s.length;d++){var h=s[d],m=h[0].trace;m.xaxis+m.yaxis===u&&((-1!==t.indexOf(m.index)||m.carpet)&&(l&&l[0].trace.xaxis+l[0].trace.yaxis===u&&-1!==["tonextx","tonexty","tonext"].indexOf(m.fill)&&-1===f.indexOf(l)&&f.push(l),f.push(h)),l=h)}p(e,c,f,n,r)}}},n.clean=function(e,t,n,r){var a,o,i,s=r._plots||{},l=t._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(i in s)(a=s[i]).plotgroup&&a.plotgroup.remove();var f=r._has&&r._has("gl"),d=t._has&&t._has("gl");if(f&&!d)for(i in s)(a=s[i])._scene&&a._scene.destroy();if(c.xaxis&&c.yaxis){var h=u.listIds({_fullLayout:r});for(o=0;o<h.length;o++){var p=h[o];t[u.id2name(p)]||r._infolayer.selectAll(".g-"+p+"title").remove()}}var m=r._has&&r._has("cartesian"),y=t._has&&t._has("cartesian");if(m&&!y)v(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups;else if(c.cartesian)for(o=0;o<c.cartesian.length;o++){var b=c.cartesian[o];if(!l[b]){var _="."+b+",."+b+"-x,."+b+"-y";r._cartesianlayer.selectAll(_).remove(),g(b,r)}}},n.drawFramework=function(e){var t=e._fullLayout,n=function(e){var t,n,r,a,o,i,s=e._fullLayout,l=s._subplots.cartesian,u=l.length,c=[],f=[];for(t=0;t<u;t++){r=l[t],a=s._plots[r],o=a.xaxis,i=a.yaxis;var d=o._mainAxis,h=i._mainAxis,p=d._id+h._id,m=s._plots[p];a.overlays=[],p!==r&&m?(a.mainplot=p,a.mainplotinfo=m,f.push(r)):(a.mainplot=void 0,a.mainPlotinfo=void 0,c.push(r))}for(t=0;t<f.length;t++)r=f[t],(a=s._plots[r]).mainplotinfo.overlays.push(a);var v=c.concat(f),g=new Array(u);for(t=0;t<u;t++){r=v[t],a=s._plots[r],o=a.xaxis,i=a.yaxis;var y=[r,o.layer,i.layer,o.overlaying||"",i.overlaying||""];for(n=0;n<a.overlays.length;n++)y.push(a.overlays[n].id);g[t]=y}return g}(e),a=t._cartesianlayer.selectAll(".subplot").data(n,String);a.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),a.order(),a.exit().call(v,t),a.each(function(n){var a=n[0],o=t._plots[a];o.plotgroup=r.select(this),m(e,o),o.draglayer=d(t._draggers,"g",a)})},n.rangePlot=function(e,t,n){m(e,t),p(e,t,n),i.style(e)},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container"),a=n.filter(function(e,t){return t===n.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");a.each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:f.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},n.updateFx=e("./graph_interact").updateFx},{"../../components/drawing":343,"../../constants/xmlns_namespaces":420,"../../lib":440,"../../registry":532,"../get_data":516,"../plots":524,"./attributes":486,"./axis_ids":491,"./constants":493,"./graph_interact":497,"./layout_attributes":500,"./layout_defaults":501,"./transition_axes":510,d3:85}],500:[function(e,t,n){"use strict";var r=e("../font_attributes"),a=e("../../components/color/attributes"),o=e("../../components/drawing/attributes").dash,i=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray,l=e("./constants");t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:a.defaultLine,editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",editType:"calc",_noTemplating:!0},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1}}],editType:"axrange",impliedEdits:{autorange:!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:i({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor"],dflt:"data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:a.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:a.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"}}}},{"../../components/color/attributes":317,"../../components/drawing/attributes":342,"../../lib/extend":431,"../../plot_api/plot_template":478,"../font_attributes":514,"./constants":493}],501:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/color"),o=e("../../plot_api/plot_template"),i=e("../layout_attributes"),s=e("./layout_attributes"),l=e("./type_defaults"),u=e("./axis_defaults"),c=e("./constraint_defaults"),f=e("./position_defaults"),d=e("./axis_ids"),h=d.id2name,p=d.name2id,m=e("../../registry"),v=m.traceIs,g=m.getComponentMethod;function y(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}t.exports=function(e,t,n){var d,m,b={},_={},x={},w={},k={};for(d=0;d<n.length;d++){var A=n[d];if(v(A,"cartesian")||v(A,"gl2d")){var T,M;if(A.xaxis)T=h(A.xaxis),y(b,T,A);else if(A.xaxes)for(m=0;m<A.xaxes.length;m++)y(b,h(A.xaxes[m]),A);if(A.yaxis)M=h(A.yaxis),y(b,M,A);else if(A.yaxes)for(m=0;m<A.yaxes.length;m++)y(b,h(A.yaxes[m]),A);if(v(A,"carpet")&&("carpet"!==A.type||A._cheater)||T&&(x[T]=1),"carpet"===A.type&&A._cheater&&T&&(_[T]=1),v(A,"2dMap")&&(w[T]=1,w[M]=1),v(A,"oriented")){var E="h"===A.orientation?M:T;k[E]=1}}}var C=t._subplots,S=C.xaxis,j=C.yaxis,O=r.simpleMap(S,h),P=r.simpleMap(j,h),N=O.concat(P),I=a.background;S.length&&j.length&&(I=r.coerce(e,t,i,"plot_bgcolor"));var L,D,R,z,F=a.combine(I,t.paper_bgcolor);function B(e,t){return r.coerce(R,z,s,e,t)}function U(e,t){return r.coerce2(R,z,s,e,t)}function H(e){return"x"===e?j:S}var q={x:H("x"),y:H("y")};function V(t,n){for(var r="x"===t?O:P,a=[],o=0;o<r.length;o++){var i=r[o];i===n||(e[i]||{}).overlaying||a.push(p(i))}return a}for(d=0;d<N.length;d++){L=N[d],D=L.charAt(0),r.isPlainObject(e[L])||(e[L]={}),R=e[L],z=o.newContainer(t,L,D+"axis");var W=b[L]||[];z._traceIndices=W.map(function(e){return e._expandedIndex}),z._annIndices=[],z._shapeIndices=[],z._name=L;var G=z._id=p(L),X=V(D,L),Y={letter:D,font:t.font,outerTicks:w[L],showGrid:!k[L],data:W,bgColor:F,calendar:t.calendar,automargin:!0,cheateronly:"x"===D&&_[L]&&!x[L],splomStash:((t._splomAxes||{})[D]||{})[G]};l(R,z,B,Y),u(R,z,B,Y,t);var K=U("spikecolor"),Z=U("spikethickness"),J=U("spikedash"),Q=U("spikemode"),$=U("spikesnap"),ee=B("showspikes",!!(K||Z||J||Q||$));ee||(delete z.spikecolor,delete z.spikethickness,delete z.spikedash,delete z.spikemode,delete z.spikesnap);var te={letter:D,counterAxes:q[D],overlayableAxes:X,grid:t.grid};f(R,z,B,te),z._input=R}var ne=g("rangeslider","handleDefaults"),re=g("rangeselector","handleDefaults");for(d=0;d<O.length;d++)L=O[d],R=e[L],z=t[L],ne(e,t,L),"date"===z.type&&re(R,z,t,P,z.calendar),B("fixedrange");for(d=0;d<P.length;d++){L=P[d],R=e[L],z=t[L];var ae=t[h(z.anchor)],oe=ae&&ae.rangeslider&&ae.rangeslider.visible;B("fixedrange",oe)}t._axisConstraintGroups=[];var ie=q.x.concat(q.y);for(d=0;d<N.length;d++)L=N[d],D=L.charAt(0),R=e[L],z=t[L],c(R,z,B,ie,t)}},{"../../components/color":318,"../../lib":440,"../../plot_api/plot_template":478,"../../registry":532,"../layout_attributes":522,"./axis_defaults":490,"./axis_ids":491,"./constraint_defaults":494,"./layout_attributes":500,"./position_defaults":503,"./type_defaults":511}],502:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,a=e("../../components/color/attributes").lightFraction,o=e("../../lib");t.exports=function(e,t,n,i){var s=(i=i||{}).dfltColor;function l(n,r){return o.coerce2(e,t,i.attributes,n,r)}var u=l("linecolor",s),c=l("linewidth"),f=n("showline",i.showLine||!!u||!!c);f||(delete t.linecolor,delete t.linewidth);var d=r(s,i.bgColor,i.blend||a).toRgbString(),h=l("gridcolor",d),p=l("gridwidth"),m=n("showgrid",i.showGrid||!!h||!!p);if(m||(delete t.gridcolor,delete t.gridwidth),!i.noZeroLine){var v=l("zerolinecolor",s),g=l("zerolinewidth"),y=n("zeroline",i.showGrid||!!v||!!g);y||(delete t.zerolinecolor,delete t.zerolinewidth)}}},{"../../components/color/attributes":317,"../../lib":440,tinycolor2:283}],503:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib");t.exports=function(e,t,n,o){var i,s,l,u,c=o.counterAxes||[],f=o.overlayableAxes||[],d=o.letter,h=o.grid;h&&(s=h._domains[d][h._axisMap[t._id]],i=h._anchors[t._id],s&&(l=h[d+"side"].split(" ")[0],u=h.domain[d]["right"===l||"top"===l?1:0])),s=s||[0,1],i=i||(r(e.position)?"free":c[0]||"free"),l=l||("x"===d?"bottom":"left"),u=u||0;var p=a.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:i}},"anchor");"free"===p&&n("position",u),a.coerce(e,t,{side:{valType:"enumerated",values:"x"===d?["bottom","top"]:["left","right"],dflt:l}},"side");var m=!1;if(f.length&&(m=a.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!m){var v=n("domain",s);v[0]>v[1]-.01&&(t.domain=s),a.noneOrAll(e.domain,t.domain,s)}return n("layer"),t}},{"../../lib":440,"fast-isnumeric":149}],504:[function(e,t,n){"use strict";var r=e("../../constants/alignment").FROM_BL;t.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var a=[e.r2l(e.range[0]),e.r2l(e.range[1])],o=a[0]+(a[1]-a[0])*n;e.range=e._input.range=[e.l2r(o+(a[0]-o)*t),e.l2r(o+(a[1]-o)*t)]}},{"../../constants/alignment":416}],505:[function(e,t,n){"use strict";var r=e("polybooljs"),a=e("../../registry"),o=e("../../components/color"),i=e("../../components/fx"),s=e("../../lib/polygon"),l=e("../../lib/throttle"),u=e("../../components/fx/helpers").makeEventData,c=e("./axis_ids").getFromId,f=e("../sort_modules").sortModules,d=e("./constants"),h=d.MINSELECT,p=s.filter,m=s.tester;function v(e){return e._id}function g(e,t,n,r,a,o,i){var s,l,u,c,f,d,h,p,m,v,g=t._hoverdata,y=t._fullLayout.clickmode,b=y.indexOf("event")>-1,C=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(g)){x(e,t,o),s=k(t,n,r,a);var S=function(e,t){var n,r,a=e[0],o=-1,i=[];for(r=0;r<t.length;r++)if(n=t[r],a.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===a.hoverOnBox)break;void 0!==a.pointNumber?o=a.pointNumber:void 0!==a.binNumber&&(o=a.binNumber,i=a.pointNumbers);break}return{pointNumber:o,pointNumbers:i,searchInfo:n}}(g,s),j=S.pointNumbers.length>0;if(j?function(e,t){var n,r,a,o=[];for(a=0;a<e.length;a++)(n=e[a]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&o.push(n);if(1===o.length&&o[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(a=0;a<t.pointNumbers.length;a++)if(r.selectedpoints.indexOf(t.pointNumbers[a])<0)return!1;return!0}return!1}(s,S):function(e){var t,n,r,a=0;for(r=0;r<e.length;r++)if(t=e[r],(n=t.cd[0].trace).selectedpoints){if(n.selectedpoints.length>1)return!1;if((a+=n.selectedpoints.length)>1)return!1}return 1===a}(s)&&(h=T(S))){for(i&&i.remove(),v=0;v<s.length;v++)(l=s[v])._module.selectPoints(l,!1);M(t,s),w(o),b&&t.emit("plotly_deselect",null)}else{p=e.shiftKey&&(void 0!==h?h:T(S)),u=function(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}(S.pointNumber,S.searchInfo,p);var O=o.selectionDefs.concat([u]);for(c=_(O),v=0;v<s.length;v++)if(f=s[v]._module.selectPoints(s[v],c),d=E(f,s[v]),C.length)for(var P=0;P<d.length;P++)C.push(d[P]);else C=d;M(t,s,m={points:C}),u&&o&&o.selectionDefs.push(u),i&&A(o.mergedPolygons,i),b&&t.emit("plotly_selected",m)}}}function y(e){return"pointNumber"in e&&"searchInfo"in e}function b(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,a){var o=e.searchInfo.cd[0].trace._expandedIndex,i=a.cd[0].trace._expandedIndex;return i===o&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function _(e){for(var t=[],n=y(e[0])?0:e[0][0][0],r=n,a=y(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(y(e[i]))t.push(b(e[i]));else{var l=s.tester(e[i]);l.subtract=e[i].subtract,t.push(l),n=Math.min(n,l.xmin),r=Math.max(r,l.xmax),a=Math.min(a,l.ymin),o=Math.max(o,l.ymax)}return{xmin:n,xmax:r,ymin:a,ymax:o,pts:[],contains:function(e,n,r,a){for(var o=!1,i=0;i<t.length;i++)t[i].contains(e,n,r,a)&&(o=!1===t[i].subtract);return o},isRect:!1,degenerate:!1}}function x(e,t,n){var r=t._fullLayout,a=r._zoomlayer,o=n.plotinfo,i=r._lastSelectedSubplot&&r._lastSelectedSubplot===o.id,s=e.shiftKey||e.altKey;i&&s&&o.selection&&o.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=o.selection.selectionDefs,n.mergedPolygons=o.selection.mergedPolygons):s&&o.selection||w(n),i||(C(a),r._lastSelectedSubplot=o.id)}function w(e){var t=e.plotinfo;t.selection={},t.selection.selectionDefs=e.selectionDefs=[],t.selection.mergedPolygons=e.mergedPolygons=[]}function k(e,t,n,r){var a,o,i,s=[],l=t.map(v),u=n.map(v);for(i=0;i<e.calcdata.length;i++)if(a=e.calcdata[i],!0===(o=a[0].trace).visible&&o._module&&o._module.selectPoints)if(!r||o.subplot!==r&&o.geo!==r)if("splom"===o.type&&o._xaxes[l[0]]&&o._yaxes[u[0]])s.push(f(o._module,a,t[0],n[0]));else{if(-1===l.indexOf(o.xaxis))continue;if(-1===u.indexOf(o.yaxis))continue;s.push(f(o._module,a,c(e,o.xaxis),c(e,o.yaxis)))}else s.push(f(o._module,a,t[0],n[0]));return s;function f(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function A(e,t){var n,r,a=[];for(n=0;n<e.length;n++){var o=e[n];a.push(o.join("L")+"L"+o[0])}r=e.length>0?"M"+a.join("M")+"Z":"M0,0Z",t.attr("d",r)}function T(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,a=r.length>0,o=a?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(o)>-1}function M(e,t,n){var r,o,i,s;if(n){var l=n.points||[];for(r=0;r<t.length;r++)(s=t[r].cd[0].trace).selectedpoints=[],s._input.selectedpoints=[];for(r=0;r<l.length;r++){var u=l[r],c=u.data,d=u.fullData;u.pointIndices?([].push.apply(c.selectedpoints,u.pointIndices),[].push.apply(d.selectedpoints,u.pointIndices)):(c.selectedpoints.push(u.pointIndex),d.selectedpoints.push(u.pointIndex))}}else for(r=0;r<t.length;r++)delete(s=t[r].cd[0].trace).selectedpoints,delete s._input.selectedpoints;var h={};for(r=0;r<t.length;r++){var p=(i=t[r])._module.name;h[p]?h[p].push(i):h[p]=[i]}var m=Object.keys(h).sort(f);for(r=0;r<m.length;r++){var v=h[m[r]],g=v.length,y=v[0],b=y.cd[0].trace,_=y._module,x=_.styleOnSelect||_.style;if(a.traceIs(b,"regl")){var w=new Array(g);for(o=0;o<g;o++)w[o]=v[o].cd;x(e,w)}else for(o=0;o<g;o++)x(e,v[o].cd)}}function E(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,a=0;a<e.length;a++)e[a]=u(e[a],r,n);return e}function C(e){e.selectAll(".select-outline").remove()}t.exports={prepSelect:function(e,t,n,a,s){var u,c,f,v,y,b,T,C=a.gd,S=C._fullLayout,j=S._zoomlayer,O=a.element.getBoundingClientRect(),P=a.plotinfo,N=P.xaxis._offset,I=P.yaxis._offset,L=t-O.left,D=n-O.top,R=L,z=D,F="M"+L+","+D,B=a.xaxes[0]._length,U=a.yaxes[0]._length,H=a.xaxes.concat(a.yaxes),q=e.altKey;x(e,C,a),"lasso"===s&&(u=p([[L,D]],d.BENDPX));var V=j.selectAll("path.select-outline-"+P.id).data([1,2]);V.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+P.id}).attr("transform","translate("+N+", "+I+")").attr("d",F+"Z");var W,G=j.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform","translate("+N+", "+I+")").attr("d","M0,0Z"),X=S._uid+d.SELECTID,Y=[],K=k(C,a.xaxes,a.yaxes,a.subplot);function Z(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return e.p2d(n[t])}}function J(e,t){return e-t}W=P.fillRangeItems?P.fillRangeItems:"select"===s?function(e,t){var n=e.range={};for(y=0;y<H.length;y++){var r=H[y],a=r._id.charAt(0);n[r._id]=[r.p2d(t[a+"min"]),r.p2d(t[a+"max"])].sort(J)}}:function(e,t,n){var r=e.lassoPoints={};for(y=0;y<H.length;y++){var a=H[y];r[a._id]=n.filtered.map(Z(a))}},a.moveFn=function(e,t){R=Math.max(0,Math.min(B,e+L)),z=Math.max(0,Math.min(U,t+D));var n=Math.abs(R-L),o=Math.abs(z-D);if("select"===s){var i=S.selectdirection;"h"===(i="any"===S.selectdirection?o<Math.min(.6*n,h)?"h":n<Math.min(.6*o,h)?"v":"d":S.selectdirection)?((v=[[L,0],[L,U],[R,U],[R,0]]).xmin=Math.min(L,R),v.xmax=Math.max(L,R),v.ymin=Math.min(0,U),v.ymax=Math.max(0,U),G.attr("d","M"+v.xmin+","+(D-h)+"h-4v"+2*h+"h4ZM"+(v.xmax-1)+","+(D-h)+"h4v"+2*h+"h-4Z")):"v"===i?((v=[[0,D],[0,z],[B,z],[B,D]]).xmin=Math.min(0,B),v.xmax=Math.max(0,B),v.ymin=Math.min(D,z),v.ymax=Math.max(D,z),G.attr("d","M"+(L-h)+","+v.ymin+"v-4h"+2*h+"v4ZM"+(L-h)+","+(v.ymax-1)+"v4h"+2*h+"v-4Z")):"d"===i&&((v=[[L,D],[L,z],[R,z],[R,D]]).xmin=Math.min(L,R),v.xmax=Math.max(L,R),v.ymin=Math.min(D,z),v.ymax=Math.max(D,z),G.attr("d","M0,0Z"))}else"lasso"===s&&(u.addPt([R,z]),v=u.filtered);a.selectionDefs&&a.selectionDefs.length?(f=function(e,t,n){return n?r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(a.mergedPolygons,v,q),v.subtract=q,c=_(a.selectionDefs.concat([v]))):(f=[v],c=m(v)),A(f,V),l.throttle(X,d.SELECTDELAY,function(){Y=[];var e,t,n=[];for(y=0;y<K.length;y++)if(b=K[y],t=b._module.selectPoints(b,c),n.push(t),e=E(t,b),Y.length)for(var r=0;r<e.length;r++)Y.push(e[r]);else Y=e;M(C,K,T={points:Y}),W(T,v,u),a.gd.emit("plotly_selecting",T)})},a.clickFn=function(e,t){var n=S.clickmode;G.remove(),l.done(X).then(function(){if(l.clear(X),2===e){for(V.remove(),y=0;y<K.length;y++)(b=K[y])._module.selectPoints(b,!1);M(C,K),w(a),C.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&g(t,C,a.xaxes,a.yaxes,a.subplot,a,V),"event"===n&&C.emit("plotly_selected",void 0);i.click(C,t)})},a.doneFn=function(){G.remove(),l.done(X).then(function(){l.clear(X),a.gd.emit("plotly_selected",T),v&&a.selectionDefs&&(v.subtract=q,a.selectionDefs.push(v),a.mergedPolygons.length=0,[].push.apply(a.mergedPolygons,f))})}},clearSelect:C,selectOnClick:g}},{"../../components/color":318,"../../components/fx":360,"../../components/fx/helpers":357,"../../lib/polygon":453,"../../lib/throttle":466,"../../registry":532,"../sort_modules":531,"./axis_ids":491,"./constants":493,polybooljs:239}],506:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("../../lib"),i=o.cleanNumber,s=o.ms2DateTime,l=o.dateTime2ms,u=o.ensureNumber,c=e("../../constants/numerical"),f=c.FP_SAFE,d=c.BADNUM,h=c.LOG_CLIP,p=e("./constants"),m=e("./axis_ids");function v(e){return Math.pow(10,e)}t.exports=function(e,t){t=t||{};var n=(e._id||"x").charAt(0);function c(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],a=e.range[1];return.5*(r+a-2*h*Math.abs(r-a))}return d}function g(t,n,r){var i=l(t,r||e.calendar);if(i===d){if(!a(t))return d;t=+t;var s=Math.floor(10*o.mod(t+.05,1)),u=Math.round(t-s/10);i=l(new Date(u))+s/10}return i}function y(t,n,r){return s(t,n,r||e.calendar)}function b(t){return e._categories[Math.round(t)]}function _(t){if(e._categoriesMap){var n=e._categoriesMap[t];if(void 0!==n)return n}if(a(t))return+t}function x(t){return a(t)?r.round(e._b+e._m*t,2):d}function w(t){return(t-e._b)/e._m}e.c2l="log"===e.type?c:u,e.l2c="log"===e.type?v:u,e.l2p=x,e.p2l=w,e.c2p="log"===e.type?function(e,t){return x(c(e,t))}:x,e.p2c="log"===e.type?function(e){return v(w(e))}:w,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=i,e.c2d=e.c2r=e.l2d=e.l2r=u,e.d2p=e.r2p=function(t){return e.l2p(i(t))},e.p2d=e.p2r=w,e.cleanPos=u):"log"===e.type?(e.d2r=e.d2l=function(e,t){return c(i(e),t)},e.r2d=e.r2c=function(e){return v(i(e))},e.d2c=e.r2l=i,e.c2d=e.l2r=u,e.c2r=c,e.l2d=v,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return v(w(e))},e.r2p=function(t){return e.l2p(i(t))},e.p2r=w,e.cleanPos=u):"date"===e.type?(e.d2r=e.r2d=o.identity,e.d2c=e.r2c=e.d2l=e.r2l=g,e.c2d=e.c2r=e.l2d=e.l2r=y,e.d2p=e.r2p=function(t,n,r){return e.l2p(g(t,0,r))},e.p2d=e.p2r=function(e,t,n){return y(w(e),t,n)},e.cleanPos=function(t){return o.cleanDate(t,d,e.calendar)}):"category"===e.type&&(e.d2c=e.d2l=function(t){if(null!==t&&void 0!==t){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push(t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return d},e.r2d=e.c2d=e.l2d=b,e.d2r=e.d2l_noadd=_,e.r2c=function(t){var n=_(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=u,e.r2l=_,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return b(w(e))},e.r2p=e.d2p,e.p2r=w,e.cleanPos=function(e){return"string"==typeof e&&""!==e?e:u(e)}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,r){r||(r={}),t||(t="range");var i,s,l=o.nestedProperty(e,t).get();if(s=(s="date"===e.type?o.dfltRange(e.calendar):"y"===n?p.DFLTRANGEY:r.dfltRange||p.DFLTRANGEX).slice(),l&&2===l.length)for("date"===e.type&&(l[0]=o.cleanDate(l[0],d,e.calendar),l[1]=o.cleanDate(l[1],d,e.calendar)),i=0;i<2;i++)if("date"===e.type){if(!o.isDateTime(l[i],e.calendar)){e[t]=s;break}if(e.r2l(l[0])===e.r2l(l[1])){var u=o.constrain(e.r2l(l[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);l[0]=e.l2r(u-1e3),l[1]=e.l2r(u+1e3);break}}else{if(!a(l[i])){if(!a(l[1-i])){e[t]=s;break}l[i]=l[1-i]*(i?10:.1)}if(l[i]<-f?l[i]=-f:l[i]>f&&(l[i]=f),l[0]===l[1]){var c=Math.max(1,Math.abs(1e-6*l[0]));l[0]-=c,l[1]+=c}}else o.nestedProperty(e,t).set(s)},e.setScale=function(r){var a=t._size;if(e._categories||(e._categories=[]),e._categoriesMap||(e._categoriesMap={}),e.overlaying){var o=m.getFromId({_fullLayout:t},e.overlaying);e.domain=o.domain}var i=r&&e._r?"_r":"range",s=e.calendar;e.cleanRange(i);var l=e.r2l(e[i][0],s),u=e.r2l(e[i][1],s);if("y"===n?(e._offset=a.t+(1-e.domain[1])*a.h,e._length=a.h*(e.domain[1]-e.domain[0]),e._m=e._length/(l-u),e._b=-e._m*u):(e._offset=a.l+e.domain[0]*a.w,e._length=a.w*(e.domain[1]-e.domain[0]),e._m=e._length/(u-l),e._b=-e._m*l),!isFinite(e._m)||!isFinite(e._b))throw t._replotting=!1,new Error("Something went wrong with axis scaling")},e.makeCalcdata=function(t,n){var r,a,i,s,l=e.type,u="date"===l&&t[n+"calendar"];if(n in t){if(r=t[n],s=t._length||r.length,o.isTypedArray(r)&&("linear"===l||"log"===l)){if(s===r.length)return r;if(r.subarray)return r.subarray(0,s)}for(a=new Array(s),i=0;i<s;i++)a[i]=e.d2c(r[i],0,u)}else{var c=n+"0"in t?e.d2c(t[n+"0"],0,u):0,f=t["d"+n]?Number(t["d"+n]):1;for(r=t[{x:"y",y:"x"}[n]],s=t._length||r.length,a=new Array(s),i=0;i<s;i++)a[i]=c+i*f}return a},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&a(e.r2l(t[0]))&&a(e.r2l(t[1]))},e.isPtWithinRange=function(t,r){var a=e.c2l(t[n],null,r),o=e.r2l(e.range[0]),i=e.r2l(e.range[1]);return o<i?o<=a&&a<=i:i<=a&&a<=o},e.clearCalc=function(){e._categories=(e._initialCategories||[]).slice(),e._categoriesMap={};for(var t=0;t<e._categories.length;t++)e._categoriesMap[e._categories[t]]=t};var k=t._d3locale;"date"===e.type&&(e._dateFormat=k?k.timeFormat.utc:r.time.format.utc,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=k?k.numberFormat:r.format,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":419,"../../lib":440,"./axis_ids":491,"./constants":493,d3:85,"fast-isnumeric":149}],507:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./layout_attributes"),o=e("../array_container_defaults");function i(e,t){function n(n,o){return r.coerce(e,t,a.tickformatstops,n,o)}var o=n("enabled");o&&(n("dtickrange"),n("value"))}t.exports=function(e,t,n,s,l){var u=function(e){var t=["showexponent","showtickprefix","showticksuffix"].filter(function(t){return void 0!==e[t]});if(t.every(function(n){return e[n]===e[t[0]]})||1===t.length)return e[t[0]]}(e),c=n("tickprefix");c&&n("showtickprefix",u);var f=n("ticksuffix",l.tickSuffixDflt);f&&n("showticksuffix",u);var d=n("showticklabels");if(d){var h=l.font||{},p=t.color,m=p&&p!==a.color.dflt?p:h.color;if(r.coerceFont(n,"tickfont",{family:h.family,size:h.size,color:m}),n("tickangle"),"category"!==s){var v=n("tickformat"),g=e.tickformatstops;Array.isArray(g)&&g.length&&o(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:i}),v||"date"===s||(n("showexponent",u),n("exponentformat"),n("separatethousands"))}}}},{"../../lib":440,"../array_container_defaults":484,"./layout_attributes":500}],508:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t,n,o){var i=r.coerce2(e,t,a,"ticklen"),s=r.coerce2(e,t,a,"tickwidth"),l=r.coerce2(e,t,a,"tickcolor",t.color),u=n("ticks",o.outerTicks||i||s||l?"outside":"");u||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":440,"./layout_attributes":500}],509:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),o=e("../../constants/numerical").ONEDAY;t.exports=function(e,t,n,i){var s;if("array"!==e.tickmode||"log"!==i&&"date"!==i){var l=Array.isArray(e.tickvals)?"array":e.dtick?"linear":"auto";s=n("tickmode",l)}else s=t.tickmode="auto";if("auto"===s)n("nticks");else if("linear"===s){var u="date"===i?o:1,c=n("dtick",u);if(r(c))t.dtick=c>0?Number(c):u;else if("string"!=typeof c)t.dtick=u;else{var f=c.charAt(0),d=c.substr(1);((d=r(d)?Number(d):0)<=0||!("date"===i&&"M"===f&&d===Math.round(d)||"log"===i&&"L"===f||"log"===i&&"D"===f&&(1===d||2===d)))&&(t.dtick=u)}var h="date"===i?a.dateTick0(t.calendar):0,p=n("tick0",h);"date"===i?t.tick0=a.cleanDate(p,h):r(p)&&"D1"!==c&&"D2"!==c?t.tick0=Number(p):t.tick0=h}else{var m=n("tickvals");void 0===m?t.tickmode="auto":n("ticktext")}}},{"../../constants/numerical":419,"../../lib":440,"fast-isnumeric":149}],510:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),o=e("../../components/drawing"),i=e("./axes"),s=e("./constants").attrRegex;t.exports=function(e,t,n,l){var u,c,f,d,h=e._fullLayout,p=[],m=function(e){var t,n,r,a,o={};for(t in e)if((n=t.split("."))[0].match(s)){var i=t.charAt(0),l=n[0];if(r=h[l],a={},Array.isArray(e[t])?a.to=e[t].slice(0):Array.isArray(e[t].range)&&(a.to=e[t].range.slice(0)),!a.to)continue;a.axisName=l,a.length=r._length,p.push(i),o[i]=a}return o}(t),v=Object.keys(m),g=function(e,t,n){var r,a,o,i=e._plots,s=[];for(r in i){var l=i[r];if(-1===s.indexOf(l)){var u=l.xaxis._id,c=l.yaxis._id,f=l.xaxis.range,d=l.yaxis.range;l.xaxis._r=l.xaxis.range.slice(),l.yaxis._r=l.yaxis.range.slice(),a=n[u]?n[u].to:f,o=n[c]?n[c].to:d,f[0]===a[0]&&f[1]===a[1]&&d[0]===o[0]&&d[1]===o[1]||-1===t.indexOf(u)&&-1===t.indexOf(c)||s.push(l)}}return s}(h,v,m);if(!g.length)return function(){function t(t,n,r){for(var a=0;a<t.length;a++)if(n(e,a),r)return}t(h.annotations||[],a.getComponentMethod("annotations","drawOne")),t(h.shapes||[],a.getComponentMethod("shapes","drawOne")),t(h.images||[],a.getComponentMethod("images","draw"),!0)}(),!1;function y(e){var t=e.xaxis,n=e.yaxis;h._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,n._offset).call(o.setScale,1,1);var r=e.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(o.setPointGroupScale,1,1),r.selectAll(".textpoint").call(o.setTextPointsScale,1,1),r.call(o.hideOutsideRangePoints,e)}function b(t,n){var r,s,l,u=m[t.xaxis._id],c=m[t.yaxis._id],f=[];if(u){r=e._fullLayout[u.axisName],s=r._r,l=u.to,f[0]=(s[0]*(1-n)+n*l[0]-s[0])/(s[1]-s[0])*t.xaxis._length;var d=s[1]-s[0],p=l[1]-l[0];r.range[0]=s[0]*(1-n)+n*l[0],r.range[1]=s[1]*(1-n)+n*l[1],f[2]=t.xaxis._length*(1-n+n*p/d)}else f[0]=0,f[2]=t.xaxis._length;if(c){r=e._fullLayout[c.axisName],s=r._r,l=c.to,f[1]=(s[1]*(1-n)+n*l[1]-s[1])/(s[0]-s[1])*t.yaxis._length;var v=s[1]-s[0],g=l[1]-l[0];r.range[0]=s[0]*(1-n)+n*l[0],r.range[1]=s[1]*(1-n)+n*l[1],f[3]=t.yaxis._length*(1-n+n*g/v)}else f[1]=0,f[3]=t.yaxis._length;!function(t,n){var r,o=[];for(o=[t._id,n._id],r=0;r<o.length;r++)i.doTicksSingle(e,o[r],!0);function s(t,n,a){for(r=0;r<t.length;r++){var i=t[r];if(-1===o.indexOf(i.xref)&&-1===o.indexOf(i.yref)||n(e,r),a)return}}s(h.annotations||[],a.getComponentMethod("annotations","drawOne")),s(h.shapes||[],a.getComponentMethod("shapes","drawOne")),s(h.images||[],a.getComponentMethod("images","draw"),!0)}(t.xaxis,t.yaxis);var y=t.xaxis,b=t.yaxis,_=!!u,x=!!c,w=_?y._length/f[2]:1,k=x?b._length/f[3]:1,A=_?f[0]:0,T=x?f[1]:0,M=_?f[0]/f[2]*y._length:0,E=x?f[1]/f[3]*b._length:0,C=y._offset-M,S=b._offset-E;t.clipRect.call(o.setTranslate,A,T).call(o.setScale,1/w,1/k),t.plot.call(o.setTranslate,C,S).call(o.setScale,w,k),o.setPointGroupScale(t.zoomScalePts,1/w,1/k),o.setTextPointsScale(t.zoomScaleTxt,1/w,1/k)}l&&(u=l());var _=r.ease(n.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(d),d=null,function(){for(var t={},n=0;n<v.length;n++){var r=e._fullLayout[v[n]+"axis"];t[r._name+".range[0]"]=r.range[0],t[r._name+".range[1]"]=r.range[1],r.range=r._r.slice()}return a.call("relayout",e,t).then(function(){for(var e=0;e<g.length;e++)y(g[e])})}()}),c=Date.now(),d=window.requestAnimationFrame(function t(){f=Date.now();for(var r=Math.min(1,(f-c)/n.duration),o=_(r),i=0;i<g.length;i++)b(g[i],o);f-c>n.duration?(function(){for(var t={},n=0;n<v.length;n++){var r=e._fullLayout[m[v[n]].axisName],o=m[v[n]].to;t[r._name+".range[0]"]=o[0],t[r._name+".range[1]"]=o[1],r.range=o.slice()}u&&u(),a.call("relayout",e,t).then(function(){for(var e=0;e<g.length;e++)y(g[e])})}(),d=window.cancelAnimationFrame(t)):d=window.requestAnimationFrame(t)}),Promise.resolve()}},{"../../components/drawing":343,"../../registry":532,"./axes":488,"./constants":493,d3:85}],511:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("./axis_autotype");function o(e){return{v:"x",h:"y"}[e.orientation||"v"]}function i(e,t){var n=o(e),a=r.traceIs(e,"box-violin"),i=r.traceIs(e._fullInput||{},"candlestick");return a&&!i&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}t.exports=function(e,t,n,s){var l=n("type",(s.splomStash||{}).type);"-"===l&&(function(e,t){if("-"===e.type){var n=e._id,s=n.charAt(0);-1!==n.indexOf("scene")&&(n=s);var l=function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if("splom"===a.type&&a._length>0&&(a["_"+n+"axes"]||{})[t])return a;if((a[n+"axis"]||n)===t){if(i(a,n))return a;if((a[n]||[]).length||a[n+"0"])return a}}}(t,n,s);if(l)if("histogram"!==l.type||s!=={v:"y",h:"x"}[l.orientation||"v"]){var u,c=s+"calendar",f=l[c];if(i(l,s)){var d=o(l),h=[];for(u=0;u<t.length;u++){var p=t[u];r.traceIs(p,"box-violin")&&(p[s+"axis"]||s)===n&&(void 0!==p[d]?h.push(p[d][0]):void 0!==p.name?h.push(p.name):h.push("text"),p[c]!==f&&(f=void 0))}e.type=a(h,f)}else if("splom"===l.type){var m=l.dimensions,v=l._diag;for(u=0;u<m.length;u++){var g=m[u];if(g.visible&&(v[u][0]===n||v[u][1]===n)){e.type=a(g.values,f);break}}}else e.type=a(l[s]||[l[s+"0"]],f)}else e.type="linear"}}(t,s.data),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":532,"./axis_autotype":489}],512:[function(e,t,n){"use strict";var r=e("../registry"),a=e("../lib");function o(e,t,n){var r,o,i,s=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return o=a.nestedProperty(r,t.prop).get(),(i=n[t.type]=n[t.type]||{}).hasOwnProperty(t.prop)&&i[t.prop]!==o&&(s=!0),i[t.prop]=o,{changed:s,value:o}}function i(e,t){var n=[],r=t[0],o={};if("string"==typeof r)o[r]=t[1];else{if(!a.isPlainObject(r))return n;o=r}return l(o,function(e,t,r){n.push({type:"layout",prop:e,value:r})},"",0),n}function s(e,t){var n,r,o,i,s=[];if(r=t[0],o=t[1],n=t[2],i={},"string"==typeof r)i[r]=o;else{if(!a.isPlainObject(r))return s;i=r,void 0===n&&(n=o)}return void 0===n&&(n=null),l(i,function(t,r,a){var o;if(Array.isArray(a)){var i=Math.min(a.length,e.data.length);n&&(i=Math.min(i,n.length)),o=[];for(var l=0;l<i;l++)o[l]=n?n[l]:l}else o=n?n.slice(0):null;if(null===o)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(o)){if(!Array.isArray(a)){var u=a;a=[];for(var c=0;c<o.length;c++)a[c]=u}a.length=Math.min(o.length,a.length)}s.push({type:"data",prop:t,traces:o,value:a})},"",0),s}function l(e,t,n,r){Object.keys(e).forEach(function(o){var i=e[o];if("_"!==o[0]){var s=n+(r>0?".":"")+o;a.isPlainObject(i)?l(i,t,s,r+1):t(s,o,i)}})}n.manageCommandObserver=function(e,t,r,i){var s={},l=!0;t&&t._commandObserver&&(s=t._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=n.hasSimpleAPICommandBindings(e,r,s.lookupTable);if(t&&t._commandObserver){if(u)return s;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,s}if(u){o(e,u,s.cache),s.check=function(){if(l){var t=o(e,u,s.cache);return t.changed&&i&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(i({value:t.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<c.length;f++)e._internalOn(c[f],s.check);s.remove=function(){for(var t=0;t<c.length;t++)e._removeInternalListener(c[t],s.check)}}else a.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},t&&(t._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(e,t,r){var a,o,i=t.length;for(a=0;a<i;a++){var s,l=t[a],u=l.method,c=l.args;if(Array.isArray(c)||(c=[]),!u)return!1;var f=n.computeAPICommandBindings(e,u,c);if(1!==f.length)return!1;if(o){if((s=f[0]).type!==o.type)return!1;if(s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var d=0;d<o.traces.length;d++)if(o.traces[d]!==s.traces[d])return!1}else if(s.prop!==o.prop)return!1}else o=f[0],Array.isArray(o.traces)&&o.traces.sort();var h=(s=f[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}r&&(r[h]=a)}return o},n.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var o=r.apiMethodRegistry[t],i=[e];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)i.push(n[s]);return o.apply(null,i).catch(function(e){return a.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)})},n.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=s(e,n);break;case"relayout":r=i(0,n);break;case"update":r=s(e,[n[0],n[2]]).concat(i(0,[n[1]]));break;case"animate":r=function(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}(0,n);break;default:r=[]}return r}},{"../lib":440,"../registry":532}],513:[function(e,t,n){"use strict";var r=e("../lib/extend").extendFlat;n.attributes=function(e,t){e=e||{},t=t||{};var n={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},a=(e.name&&e.name,e.trace,t.description&&t.description,{x:r({},n,{}),y:r({},n,{}),editType:e.editType});return e.noGridCell||(a.row={valType:"integer",min:0,dflt:0,editType:e.editType},a.column={valType:"integer",min:0,dflt:0,editType:e.editType}),a},n.defaults=function(e,t,n,r){var a=r&&r.x||[0,1],o=r&&r.y||[0,1],i=t.grid;if(i){var s=n("domain.column");void 0!==s&&(s<i.columns?a=i._domains.x[s]:delete e.domain.column);var l=n("domain.row");void 0!==l&&(l<i.rows?o=i._domains.y[l]:delete e.domain.row)}n("domain.x",a),n("domain.y",o)}},{"../lib/extend":431}],514:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},editType:t};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],515:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],516:[function(e,t,n){"use strict";var r=e("../registry"),a=e("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,t,n){var a=r.subplotsRegistry[t];if(!a)return[];for(var o=a.attr,i=[],s=0;s<e.length;s++){var l=e[s],u=l[0].trace;u[o]===n&&i.push(l)}return i},n.getModuleCalcData=function(e,t){var n,a=[],o=[];if(!(n="string"==typeof t?r.getModule(t).plot:"function"==typeof t?t:t.plot))return[a,e];for(var i=0;i<e.length;i++){var s=e[i],l=s[0].trace;!0===l.visible&&(l._module.plot===n?a.push(s):o.push(s))}return[a,o]},n.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var o,i,s,l=r.subplotsRegistry[t].attr,u=[];if("gl2d"===t){var c=n.match(a);i="x"+c[1],s="y"+c[2]}for(var f=0;f<e.length;f++)o=e[f],"gl2d"===t&&r.traceIs(o,"gl2d")?o[l[0]]===i&&o[l[1]]===s&&u.push(o):o[l]===n&&u.push(o);return u}},{"../registry":532,"./cartesian/constants":493}],517:[function(e,t,n){"use strict";var r=e("mouse-change"),a=e("mouse-wheel"),o=e("mouse-event-offset"),i=e("../cartesian/constants"),s=e("has-passive-events");t.exports=function(e){var t=e.mouseContainer,n=e.glplot,l=new function(e,t){this.element=e,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}(t,n);function u(){e.xaxis.autorange=!1,e.yaxis.autorange=!1}function c(t,r,a){var o,s,c=e.calcDataBox(),f=n.viewBox,d=l.lastPos[0],h=l.lastPos[1],p=i.MINDRAG*n.pixelRatio,m=i.MINZOOM*n.pixelRatio;function v(t,n,r){var a=Math.min(n,r),o=Math.max(n,r);a!==o?(c[t]=a,c[t+2]=o,l.dataBox=c,e.setRanges(c)):(e.selectBox.selectBox=[0,0,1,1],e.glplot.setDirty())}switch(r*=n.pixelRatio,a*=n.pixelRatio,a=f[3]-f[1]-a,e.fullLayout.dragmode){case"zoom":if(t){var g=r/(f[2]-f[0])*(c[2]-c[0])+c[0],y=a/(f[3]-f[1])*(c[3]-c[1])+c[1];l.boxInited||(l.boxStart[0]=g,l.boxStart[1]=y,l.dragStart[0]=r,l.dragStart[1]=a),l.boxEnd[0]=g,l.boxEnd[1]=y,l.boxInited=!0,l.boxEnabled||l.boxStart[0]===l.boxEnd[0]&&l.boxStart[1]===l.boxEnd[1]||(l.boxEnabled=!0);var b=Math.abs(l.dragStart[0]-r)<m,_=Math.abs(l.dragStart[1]-a)<m;if(!function(){for(var t=e.graphDiv._fullLayout._axisConstraintGroups,n=e.xaxis._id,r=e.yaxis._id,a=0;a<t.length;a++)if(-1!==t[a][n]){if(-1!==t[a][r])return!0;break}return!1}()||b&&_)b&&(l.boxEnd[0]=l.boxStart[0]),_&&(l.boxEnd[1]=l.boxStart[1]);else{o=l.boxEnd[0]-l.boxStart[0],s=l.boxEnd[1]-l.boxStart[1];var x=(c[3]-c[1])/(c[2]-c[0]);Math.abs(o*x)>Math.abs(s)?(l.boxEnd[1]=l.boxStart[1]+Math.abs(o)*x*(s>=0?1:-1),l.boxEnd[1]<c[1]?(l.boxEnd[1]=c[1],l.boxEnd[0]=l.boxStart[0]+(c[1]-l.boxStart[1])/Math.abs(x)):l.boxEnd[1]>c[3]&&(l.boxEnd[1]=c[3],l.boxEnd[0]=l.boxStart[0]+(c[3]-l.boxStart[1])/Math.abs(x))):(l.boxEnd[0]=l.boxStart[0]+Math.abs(s)/x*(o>=0?1:-1),l.boxEnd[0]<c[0]?(l.boxEnd[0]=c[0],l.boxEnd[1]=l.boxStart[1]+(c[0]-l.boxStart[0])*Math.abs(x)):l.boxEnd[0]>c[2]&&(l.boxEnd[0]=c[2],l.boxEnd[1]=l.boxStart[1]+(c[2]-l.boxStart[0])*Math.abs(x)))}}else l.boxEnabled?(o=l.boxStart[0]!==l.boxEnd[0],s=l.boxStart[1]!==l.boxEnd[1],o||s?(o&&(v(0,l.boxStart[0],l.boxEnd[0]),e.xaxis.autorange=!1),s&&(v(1,l.boxStart[1],l.boxEnd[1]),e.yaxis.autorange=!1),e.relayoutCallback()):e.glplot.setDirty(),l.boxEnabled=!1,l.boxInited=!1):l.boxInited&&(l.boxInited=!1);break;case"pan":l.boxEnabled=!1,l.boxInited=!1,t?(l.panning||(l.dragStart[0]=r,l.dragStart[1]=a),Math.abs(l.dragStart[0]-r)<p&&(r=l.dragStart[0]),Math.abs(l.dragStart[1]-a)<p&&(a=l.dragStart[1]),o=(d-r)*(c[2]-c[0])/(n.viewBox[2]-n.viewBox[0]),s=(h-a)*(c[3]-c[1])/(n.viewBox[3]-n.viewBox[1]),c[0]+=o,c[2]+=o,c[1]+=s,c[3]+=s,e.setRanges(c),l.panning=!0,l.lastInputTime=Date.now(),u(),e.cameraChanged(),e.handleAnnotations()):l.panning&&(l.panning=!1,e.relayoutCallback())}l.lastPos[0]=r,l.lastPos[1]=a}return l.mouseListener=r(t,c),t.addEventListener("touchstart",function(e){var n=o(e.changedTouches[0],t);c(0,n[0],n[1]),c(1,n[0],n[1]),e.preventDefault()},!!s&&{passive:!1}),t.addEventListener("touchmove",function(e){e.preventDefault();var n=o(e.changedTouches[0],t);c(1,n[0],n[1]),e.preventDefault()},!!s&&{passive:!1}),t.addEventListener("touchend",function(e){c(0,l.lastPos[0],l.lastPos[1]),e.preventDefault()},!!s&&{passive:!1}),l.wheelListener=a(t,function(t,r){if(!e.scrollZoom)return!1;var a=e.calcDataBox(),o=n.viewBox,i=l.lastPos[0],s=l.lastPos[1],c=Math.exp(5*r/(o[3]-o[1])),f=i/(o[2]-o[0])*(a[2]-a[0])+a[0],d=s/(o[3]-o[1])*(a[3]-a[1])+a[1];return a[0]=(a[0]-f)*c+f,a[2]=(a[2]-f)*c+f,a[1]=(a[1]-d)*c+d,a[3]=(a[3]-d)*c+d,e.setRanges(a),l.lastInputTime=Date.now(),u(),e.cameraChanged(),e.handleAnnotations(),e.relayoutCallback(),!0},!0),l}},{"../cartesian/constants":493,"has-passive-events":201,"mouse-change":213,"mouse-event-offset":214,"mouse-wheel":216}],518:[function(e,t,n){"use strict";var r=e("../cartesian/axes"),a=e("../../lib/html2unicode"),o=e("../../lib/str2rgbarray");function i(e){this.scene=e,this.gl=e.gl,this.pixelRatio=e.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=!1,this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var s=i.prototype,l=["xaxis","yaxis"];s.merge=function(e){var t,n,r,i,s,u,c,f,d,h,p;for(this.titleEnable=!1,this.backgroundColor=o(e.plot_bgcolor),h=0;h<2;++h){var m=(t=l[h]).charAt(0);for(n=e[this.scene[t]._name],r=n.title===this.scene.fullLayout._dfltTitle[m]?"":n.title,p=0;p<=2;p+=2)this.labelEnable[h+p]=!1,this.labels[h+p]=a(r),this.labelColor[h+p]=o(n.titlefont.color),this.labelFont[h+p]=n.titlefont.family,this.labelSize[h+p]=n.titlefont.size,this.labelPad[h+p]=this.getLabelPad(t,n),this.tickEnable[h+p]=!1,this.tickColor[h+p]=o((n.tickfont||{}).color),this.tickAngle[h+p]="auto"===n.tickangle?0:Math.PI*-n.tickangle/180,this.tickPad[h+p]=this.getTickPad(n),this.tickMarkLength[h+p]=0,this.tickMarkWidth[h+p]=n.tickwidth||0,this.tickMarkColor[h+p]=o(n.tickcolor),this.borderLineEnable[h+p]=!1,this.borderLineColor[h+p]=o(n.linecolor),this.borderLineWidth[h+p]=n.linewidth||0;c=this.hasSharedAxis(n),s=this.hasAxisInDfltPos(t,n)&&!c,u=this.hasAxisInAltrPos(t,n)&&!c,i=n.mirror||!1,f=c?-1!==String(i).indexOf("all"):!!i,d=c?"allticks"===i:-1!==String(i).indexOf("ticks"),s?this.labelEnable[h]=!0:u&&(this.labelEnable[h+2]=!0),s?this.tickEnable[h]=n.showticklabels:u&&(this.tickEnable[h+2]=n.showticklabels),(s||f)&&(this.borderLineEnable[h]=n.showline),(u||f)&&(this.borderLineEnable[h+2]=n.showline),(s||d)&&(this.tickMarkLength[h]=this.getTickMarkLength(n)),(u||d)&&(this.tickMarkLength[h+2]=this.getTickMarkLength(n)),this.gridLineEnable[h]=n.showgrid,this.gridLineColor[h]=o(n.gridcolor),this.gridLineWidth[h]=n.gridwidth,this.zeroLineEnable[h]=n.zeroline,this.zeroLineColor[h]=o(n.zerolinecolor),this.zeroLineWidth[h]=n.zerolinewidth}},s.hasSharedAxis=function(e){var t=this.scene,n=t.fullLayout._subplots.gl2d,a=r.findSubplotsWithAxis(n,e);return 0!==a.indexOf(t.id)},s.hasAxisInDfltPos=function(e,t){var n=t.side;return"xaxis"===e?"bottom"===n:"yaxis"===e?"left"===n:void 0},s.hasAxisInAltrPos=function(e,t){var n=t.side;return"xaxis"===e?"top"===n:"yaxis"===e?"right"===n:void 0},s.getLabelPad=function(e,t){var n=t.titlefont.size,r=t.showticklabels;return"xaxis"===e?"top"===t.side?n*(1.5+(r?1:0))-10:n*(1.5+(r?.5:0))-10:"yaxis"===e?"right"===t.side?10+n*(1.5+(r?1:.5)):10+n*(1.5+(r?.5:0)):void 0},s.getTickPad=function(e){return"outside"===e.ticks?10+e.ticklen:15},s.getTickMarkLength=function(e){if(!e.ticks)return 0;var t=e.ticklen;return"inside"===e.ticks?-t:t},t.exports=function(e){return new i(e)}},{"../../lib/html2unicode":438,"../../lib/str2rgbarray":464,"../cartesian/axes":488}],519:[function(e,t,n){"use strict";var r=e("../../plot_api/edit_types").overrideAll,a=e("./scene2d"),o=e("../layout_attributes"),i=e("../../constants/xmlns_namespaces"),s=e("../cartesian/constants"),l=e("../cartesian"),u=e("../../components/fx/layout_attributes"),c=e("../get_data").getSubplotData;n.name="gl2d",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=s.idRegex,n.attrRegex=s.attrRegex,n.attributes=e("../cartesian/attributes"),n.supplyLayoutDefaults=function(e,t,n){t._has("cartesian")||l.supplyLayoutDefaults(e,t,n)},n.layoutAttrOverrides=r(l.layoutAttributes,"plot","from-root"),n.baseLayoutAttrOverrides=r({plot_bgcolor:o.plot_bgcolor,hoverlabel:u.hoverlabel},"plot","nested"),n.plot=function(e){for(var t=e._fullLayout,n=e._fullData,r=t._subplots.gl2d,o=0;o<r.length;o++){var i=r[o],s=t._plots[i],l=c(n,"gl2d",i),u=s._scene2d;void 0===u&&(u=new a({id:i,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio},t),s._scene2d=u),u.plot(l,e.calcdata,t,e.layout)}},n.clean=function(e,t,n,r){for(var a=r._subplots.gl2d||[],o=0;o<a.length;o++){var i=a[o],s=r._plots[i];if(s._scene2d){var u=c(e,"gl2d",i);0===u.length&&(s._scene2d.destroy(),delete r._plots[i])}}l.clean.apply(this,arguments)},n.drawFramework=function(e){e._context.staticPlot||l.drawFramework(e)},n.toSVG=function(e){for(var t=e._fullLayout,n=t._subplots.gl2d,r=0;r<n.length;r++){var a=t._plots[n[r]],o=a._scene2d,s=o.toImage("png"),l=t._glimages.append("svg:image");l.attr({xmlns:i.svg,"xlink:href":s,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),o.destroy()}},n.updateFx=function(e){for(var t=e._fullLayout,n=t._subplots.gl2d,r=0;r<n.length;r++){var a=t._plots[n[r]]._scene2d;a.updateFx(t.dragmode)}}},{"../../components/fx/layout_attributes":361,"../../constants/xmlns_namespaces":420,"../../plot_api/edit_types":471,"../cartesian":499,"../cartesian/attributes":486,"../cartesian/constants":493,"../get_data":516,"../layout_attributes":522,"./scene2d":520}],520:[function(e,t,n){"use strict";var r,a,o=e("../../registry"),i=e("../../plots/cartesian/axes"),s=e("../../components/fx"),l=e("gl-plot2d"),u=e("gl-spikes2d"),c=e("gl-select-box"),f=e("webgl-context"),d=e("./convert"),h=e("./camera"),p=e("../../lib/html2unicode"),m=e("../../lib/show_no_webgl_msg"),v=e("../cartesian/constraints"),g=v.enforce,y=v.clean,b=e("../cartesian/autorange").doAutoRange,_=["xaxis","yaxis"],x=e("../cartesian/constants").SUBPLOT_PATTERN;function w(e,t){this.container=e.container,this.graphDiv=e.graphDiv,this.pixelRatio=e.plotGlPixelRatio||window.devicePixelRatio,this.id=e.id,this.staticPlot=!!e.staticPlot,this.scrollZoom=this.graphDiv._context.scrollZoom,this.fullData=null,this.updateRefs(t),this.makeFramework(),this.stopped||(this.glplotOptions=d(this),this.glplotOptions.merge(t),this.glplot=l(this.glplotOptions),this.camera=h(this),this.traces={},this.spikes=u(this.glplot),this.selectBox=c(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}t.exports=w;var k=w.prototype;k.makeFramework=function(){if(this.staticPlot){if(!(a||(r=document.createElement("canvas"),a=f({canvas:r,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=r,this.gl=a}else{var e=this.container.querySelector(".gl-canvas-focus"),t=f({canvas:e,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!t)return m(this),void(this.stopped=!0);this.canvas=e,this.gl=t}var n=this.canvas;n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style["pointer-events"]="none",this.updateSize(n),n.className+=" user-select-none";var o=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");o.style.position="absolute",o.style.top=o.style.left="0px",o.style.width=o.style.height="100%",o.style["z-index"]=20,o.style["pointer-events"]="none";var i=this.mouseContainer=document.createElement("div");i.style.position="absolute",i.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var s=this.container;s.appendChild(o),s.appendChild(i);var l=this;i.addEventListener("mouseout",function(){l.isMouseOver=!1,l.unhover()}),i.addEventListener("mouseover",function(){l.isMouseOver=!0})},k.toImage=function(e){e||(e="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(r),this.updateSize(this.canvas);var t=this.glplot.gl,n=t.drawingBufferWidth,a=t.drawingBufferHeight;t.clearColor(1,1,1,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new Uint8Array(n*a*4);t.readPixels(0,0,n,a,t.RGBA,t.UNSIGNED_BYTE,o);for(var i=0,s=a-1;i<s;++i,--s)for(var l=0;l<n;++l)for(var u=0;u<4;++u){var c=o[4*(n*i+l)+u];o[4*(n*i+l)+u]=o[4*(n*s+l)+u],o[4*(n*s+l)+u]=c}var f=document.createElement("canvas");f.width=n,f.height=a;var d,h=f.getContext("2d"),p=h.createImageData(n,a);switch(p.data.set(o),h.putImageData(p,0,0),e){case"jpeg":d=f.toDataURL("image/jpeg");break;case"webp":d=f.toDataURL("image/webp");break;default:d=f.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(r),d},k.updateSize=function(e){e||(e=this.canvas);var t=this.pixelRatio,n=this.fullLayout,r=n.width,a=n.height,o=0|Math.ceil(t*r),i=0|Math.ceil(t*a);return e.width===o&&e.height===i||(e.width=o,e.height=i),e},k.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var e=[i.calcTicks(this.xaxis),i.calcTicks(this.yaxis)],t=0;t<2;++t)for(var n=0;n<e[t].length;++n)e[t][n].text=p(e[t][n].text+"");return e},k.updateRefs=function(e){this.fullLayout=e;var t=this.id.match(x),n="xaxis"+t[1],r="yaxis"+t[2];this.xaxis=this.fullLayout[n],this.yaxis=this.fullLayout[r]},k.relayoutCallback=function(){var e=this.graphDiv,t=this.xaxis,n=this.yaxis,r=e.layout;r.xaxis.autorange=t.autorange,r.xaxis.range=t.range.slice(0),r.yaxis.autorange=n.autorange,r.yaxis.range=n.range.slice(0);var a={lastInputTime:this.camera.lastInputTime};a[t._name]=t.range.slice(0),a[n._name]=n.range.slice(0),e.emit("plotly_relayout",a)},k.cameraChanged=function(){var e=this.camera;this.glplot.setDataBox(this.calcDataBox());var t=this.computeTickMarks(),n=this.glplotOptions.ticks;(function(e,t){for(var n=0;n<2;++n){var r=e[n],a=t[n];if(r.length!==a.length)return!0;for(var o=0;o<r.length;++o)if(r[o].x!==a[o].x)return!0}return!1})(t,n)&&(this.glplotOptions.ticks=t,this.glplotOptions.dataBox=e.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},k.handleAnnotations=function(){for(var e=this.graphDiv,t=this.fullLayout.annotations,n=0;n<t.length;n++){var r=t[n];r.xref===this.xaxis._id&&r.yref===this.yaxis._id&&o.getComponentMethod("annotations","drawOne")(e,n)}},k.destroy=function(){if(this.glplot){var e=this.traces;e&&Object.keys(e).map(function(t){e[t].dispose(),delete e[t]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},k.plot=function(e,t,n){var r=this.glplot;this.updateRefs(n),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(e,t),this.updateFx(n.dragmode);var a=n.width,o=n.height;this.updateSize(this.canvas);var i=this.glplotOptions;i.merge(n),i.screenBox=[0,0,a,o];var s={_fullLayout:{_axisConstraintGroups:this.graphDiv._fullLayout._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis}};y(s,this.xaxis),y(s,this.yaxis);var l,u,c=n._size,f=this.xaxis.domain,d=this.yaxis.domain;for(i.viewBox=[c.l+f[0]*c.w,c.b+d[0]*c.h,a-c.r-(1-f[1])*c.w,o-c.t-(1-d[1])*c.h],this.mouseContainer.style.width=c.w*(f[1]-f[0])+"px",this.mouseContainer.style.height=c.h*(d[1]-d[0])+"px",this.mouseContainer.height=c.h*(d[1]-d[0]),this.mouseContainer.style.left=c.l+f[0]*c.w+"px",this.mouseContainer.style.top=c.t+(1-d[1])*c.h+"px",u=0;u<2;++u)(l=this[_[u]])._length=i.viewBox[u+2]-i.viewBox[u],b(this.graphDiv,l),l.setScale();g(s),i.ticks=this.computeTickMarks(),i.dataBox=this.calcDataBox(),i.merge(n),r.update(i),this.glplot.draw()},k.calcDataBox=function(){var e=this.xaxis,t=this.yaxis,n=e.range,r=t.range,a=e.r2l,o=t.r2l;return[a(n[0]),o(r[0]),a(n[1]),o(r[1])]},k.setRanges=function(e){var t=this.xaxis,n=this.yaxis,r=t.l2r,a=n.l2r;t.range=[r(e[0]),r(e[2])],n.range=[a(e[1]),a(e[3])]},k.updateTraces=function(e,t){var n,r,a,o=Object.keys(this.traces);this.fullData=e;e:for(n=0;n<o.length;n++){var i=o[n],s=this.traces[i];for(r=0;r<e.length;r++)if((a=e[r]).uid===i&&a.type===s.type)continue e;s.dispose(),delete this.traces[i]}for(n=0;n<e.length;n++){a=e[n];var l=t[n],u=this.traces[a.uid];u?u.update(a,l):(u=a._module.plot(this,a,l),this.traces[a.uid]=u)}this.glplot.objects.sort(function(e,t){return e._trace.index-t._trace.index})},k.updateFx=function(e){"lasso"===e||"select"===e?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===e?"move":"zoom"===e?"crosshair":null},k.emitPointAction=function(e,t){for(var n,r=e.trace.uid,a=e.pointIndex,o=0;o<this.fullData.length;o++)this.fullData[o].uid===r&&(n=this.fullData[o]);var i={x:e.traceCoord[0],y:e.traceCoord[1],curveNumber:n.index,pointNumber:a,data:n._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};s.appendArrayPointValue(i,n,a),this.graphDiv.emit(t,{points:[i]})},k.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var e=this.glplot,t=this.camera,n=t.mouseListener,r=1===this.lastButtonState&&0===n.buttons,a=this.fullLayout;this.lastButtonState=n.buttons,this.cameraChanged();var o,i=n.x*e.pixelRatio,l=this.canvas.height-e.pixelRatio*n.y;if(t.boxEnabled&&"zoom"===a.dragmode){this.selectBox.enabled=!0;for(var u=this.selectBox.selectBox=[Math.min(t.boxStart[0],t.boxEnd[0]),Math.min(t.boxStart[1],t.boxEnd[1]),Math.max(t.boxStart[0],t.boxEnd[0]),Math.max(t.boxStart[1],t.boxEnd[1])],c=0;c<2;c++)t.boxStart[c]===t.boxEnd[c]&&(u[c]=e.dataBox[c],u[c+2]=e.dataBox[c+2]);e.setDirty()}else if(!t.panning&&this.isMouseOver){this.selectBox.enabled=!1;var f=a._size,d=this.xaxis.domain,h=this.yaxis.domain,p=(o=e.pick(i/e.pixelRatio+f.l+d[0]*f.w,l/e.pixelRatio-(f.t+(1-h[1])*f.h)))&&o.object._trace.handlePick(o);if(p&&r&&this.emitPointAction(p,"plotly_click"),o&&"skip"!==o.object._trace.hoverinfo&&a.hovermode&&p&&(!this.lastPickResult||this.lastPickResult.traceUid!==p.trace.uid||this.lastPickResult.dataCoord[0]!==p.dataCoord[0]||this.lastPickResult.dataCoord[1]!==p.dataCoord[1])){var m=p;this.lastPickResult={traceUid:p.trace?p.trace.uid:null,dataCoord:p.dataCoord.slice()},this.spikes.update({center:o.dataCoord}),m.screenCoord=[((e.viewBox[2]-e.viewBox[0])*(o.dataCoord[0]-e.dataBox[0])/(e.dataBox[2]-e.dataBox[0])+e.viewBox[0])/e.pixelRatio,(this.canvas.height-(e.viewBox[3]-e.viewBox[1])*(o.dataCoord[1]-e.dataBox[1])/(e.dataBox[3]-e.dataBox[1])-e.viewBox[1])/e.pixelRatio],this.emitPointAction(p,"plotly_hover");var v=this.fullData[m.trace.index]||{},g=m.pointIndex,y=s.castHoverinfo(v,a,g);if(y&&"all"!==y){var b=y.split("+");-1===b.indexOf("x")&&(m.traceCoord[0]=void 0),-1===b.indexOf("y")&&(m.traceCoord[1]=void 0),-1===b.indexOf("z")&&(m.traceCoord[2]=void 0),-1===b.indexOf("text")&&(m.textLabel=void 0),-1===b.indexOf("name")&&(m.name=void 0)}s.loneHover({x:m.screenCoord[0],y:m.screenCoord[1],xLabel:this.hoverFormatter("xaxis",m.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",m.traceCoord[1]),zLabel:m.traceCoord[2],text:m.textLabel,name:m.name,color:s.castHoverOption(v,g,"bgcolor")||m.color,borderColor:s.castHoverOption(v,g,"bordercolor"),fontFamily:s.castHoverOption(v,g,"font.family"),fontSize:s.castHoverOption(v,g,"font.size"),fontColor:s.castHoverOption(v,g,"font.color")},{container:this.svgContainer,gd:this.graphDiv})}}o||this.unhover(),e.draw()}},k.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),s.loneUnhover(this.svgContainer))},k.hoverFormatter=function(e,t){if(void 0!==t){var n=this[e];return i.tickText(n,n.c2l(t),"hover").text}}},{"../../components/fx":360,"../../lib/html2unicode":438,"../../lib/show_no_webgl_msg":462,"../../plots/cartesian/axes":488,"../../registry":532,"../cartesian/autorange":487,"../cartesian/constants":493,"../cartesian/constraints":495,"./camera":517,"./convert":518,"gl-plot2d":174,"gl-select-box":178,"gl-spikes2d":187,"webgl-context":299}],521:[function(e,t,n){"use strict";function r(e,t){var n,r,a=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)a[r]+=e[4*n+r]*t[n];return a}t.exports=function(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}},{}],522:[function(e,t,n){"use strict";var r=e("./font_attributes"),a=e("../components/color/attributes"),o=r({editType:"calc"});o.family.dflt='"Open Sans", verdana, arial, sans-serif',o.size.dflt=12,o.color.dflt=a.defaultLine,t.exports={font:o,title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"}),autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},template:{valType:"any",editType:"calc"}}},{"../components/color/attributes":317,"./font_attributes":514}],523:[function(e,t,n){"use strict";t.exports={t:{valType:"number",dflt:0,editType:"arraydraw"},r:{valType:"number",dflt:0,editType:"arraydraw"},b:{valType:"number",dflt:0,editType:"arraydraw"},l:{valType:"number",dflt:0,editType:"arraydraw"},editType:"arraydraw"}},{}],524:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),o=e("../registry"),i=e("../plot_api/plot_schema"),s=e("../plot_api/plot_template"),l=e("../lib"),u=e("../components/color"),c=e("../constants/numerical").BADNUM,f=e("../plots/cartesian/axis_ids"),d=e("./sort_modules").sortBasePlotModules,h=e("./animation_attributes"),p=e("./frame_attributes"),m=l.relinkPrivateKeys,v=l._,g=t.exports={};l.extendFlat(g,o),g.attributes=e("./attributes"),g.attributes.type.values=g.allTypes,g.fontAttrs=e("./font_attributes"),g.layoutAttributes=e("./layout_attributes"),g.fontWeight="normal";var y=g.transformsRegistry,b=e("./command");g.executeAPICommand=b.executeAPICommand,g.computeAPICommandBindings=b.computeAPICommandBindings,g.manageCommandObserver=b.manageCommandObserver,g.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,g.redrawText=function(e){if(!((e=l.getGraphDiv(e)).data&&e.data[0]&&e.data[0].r))return new Promise(function(t){setTimeout(function(){o.getComponentMethod("annotations","draw")(e),o.getComponentMethod("legend","draw")(e),(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()}),t(g.previousPromises(e))},300)})},g.resize=function(e){return e=l.getGraphDiv(e),new Promise(function(t,n){function r(e){var t=window.getComputedStyle(e).display;return!t||"none"===t}e&&!r(e)||n(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||r(e))t(e);else{delete e.layout.width,delete e.layout.height;var n=e.changed;e.autoplay=!0,o.call("relayout",e,{autosize:!0}).then(function(){e.changed=n,t(e)})}},100)})},g.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})},g.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=l.ensureSingle(t._paper,"text","js-plot-link-container",function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var e=r.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)})}),a=n.node(),o={y:t._paper.attr("height")-9};document.body.contains(a)&&a.getComputedTextLength()>=t.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=t._paper.attr("width")-7),n.attr(o);var i=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),c=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&function(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",function(){g.sendDataToCloud(e)});else{var r=window.location.pathname.split("/"),a=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+a})}}(e,i),s.text(i.text()&&c.text()?" - ":"")}},g.sendDataToCloud=function(e){e.emit("plotly_beforeexport");var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL,n=r.select(e).append("div").attr("id","hiddenform").style("display","none"),a=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"}),o=a.append("input").attr({type:"text",name:"data"});return o.node().value=g.graphJson(e,!1,"keepdata"),a.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1};var _,x=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],w=["year","month","dayMonth","dayMonthYear"];function k(e,t){var n=e._context.locale,r=!1,a={};function i(e){for(var n=!0,o=0;o<t.length;o++){var i=t[o];a[i]||(e[i]?a[i]=e[i]:n=!1)}n&&(r=!0)}for(var s=0;s<2;s++){for(var l=e._context.locales,u=0;u<2;u++){var c=(l[n]||{}).format;if(c&&(i(c),r))break;l=o.localeRegistry}var f=n.split("-")[0];if(r||f===n)break;n=f}return r||i(o.localeRegistry.en.format),a}function A(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],a=r._module||y[r.type];if(a&&a.makesData)return!0}return!1}function T(e,t,n,r){for(var a=e.transforms,o=[e],i=0;i<a.length;i++){var s=a[i],l=y[s.type];l&&l.transform&&(o=l.transform(o,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:i}))}return o}function M(e){e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}function E(e){for(var t=0;t<e.length;t++)e[t].clearCalc()}g.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,a=e._fullLayout||{};if(a._skipDefaults)delete a._skipDefaults;else{var i,s=e._fullLayout={},u=e.layout||{},c=e._fullData||[],h=e._fullData=[],p=e.data||[],y=e.calcdata||[],b=e._context||{};e._transitionData||g.createTransitionData(e),s._dfltTitle={plot:v(e,"Click to enter Plot title"),x:v(e,"Click to enter X axis title"),y:v(e,"Click to enter Y axis title"),colorbar:v(e,"Click to enter Colorscale title"),annotation:v(e,"new text")},s._traceWord=v(e,"trace");var A=k(e,x);if(s._mapboxAccessToken=b.mapboxAccessToken,a._initialAutoSizeIsDone){var T=a.width,M=a.height;g.supplyLayoutGlobalDefaults(u,s,A),u.width||(s.width=T),u.height||(s.height=M),g.sanitizeMargins(s)}else{g.supplyLayoutGlobalDefaults(u,s,A);var E=!u.width||!u.height,C=s.autosize,S=b.autosizable,j=E&&(C||S);j?g.plotAutoSize(e,u,s):E&&g.sanitizeMargins(s),!C&&E&&(u.width=s.width,u.height=s.height)}s._d3locale=function(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),r.locale(e)}(A,s.separators),s._extraFormat=k(e,w),s._initialAutoSizeIsDone=!0,s._dataLength=p.length,s._modules=[],s._visibleModules=[],s._basePlotModules=[];var O=s._subplots=function(){var e,t,n={};if(!_){_=[];var r=o.subplotsRegistry;for(var a in r){var i=r[a],s=i.attr;if(s&&(_.push(a),Array.isArray(s)))for(t=0;t<s.length;t++)l.pushUnique(_,s[t])}}for(e=0;e<_.length;e++)n[_[e]]=[];return n}(),P=s._splomAxes={x:{},y:{}},N=s._splomSubplots={};s._splomGridDflt={},s._scatterStackOpts={},s._firstScatter={},s._requestRangeslider={},s._traceUids=function(e,t){var n,r,a=t.length,o=[];for(n=0;n<e.length;n++){var i=e[n]._fullInput;i!==r&&o.push(i),r=i}var s=o.length,u=new Array(a),c={};function f(e,t){u[t]=e,c[e]=1}function d(e,t){if(e&&"string"==typeof e&&!c[e])return f(e,t),!0}for(n=0;n<a;n++)d(t[n].uid,n)||n<s&&d(o[n].uid,n)||f(l.randstr(c),n);return u}(c,p),s._globalTransforms=(e._context||{}).globalTransforms,g.supplyDataDefaults(p,h,u,s);var I=Object.keys(P.x),L=Object.keys(P.y);if(I.length>1&&L.length>1){for(o.getComponentMethod("grid","sizeDefaults")(u,s),i=0;i<I.length;i++)l.pushUnique(O.xaxis,I[i]);for(i=0;i<L.length;i++)l.pushUnique(O.yaxis,L[i]);for(var D in N)l.pushUnique(O.cartesian,D)}s._has=g._hasPlotType.bind(s);var R=s._visibleModules;for(i=0;i<R.length;i++){var z=R[i];z.cleanData&&z.cleanData(h)}if(c.length===h.length)for(i=0;i<h.length;i++)m(h[i],c[i]);g.supplyLayoutModuleDefaults(u,s,h,e._transitionData),s._hasOnlyLargeSploms=1===s._basePlotModules.length&&"splom"===s._basePlotModules[0].name&&I.length>15&&L.length>15&&0===s.shapes.length&&0===s.images.length,s._hasCartesian=s._has("cartesian"),s._hasGeo=s._has("geo"),s._hasGL3D=s._has("gl3d"),s._hasGL2D=s._has("gl2d"),s._hasTernary=s._has("ternary"),s._hasPie=s._has("pie"),g.linkSubplots(h,s,c,a),g.cleanPlot(h,s,c,a,y),m(s,a),g.doAutoMargin(e);var F=f.list(e);for(i=0;i<F.length;i++){var B=F[i];B.setScale()}n||y.length!==h.length||g.supplyDefaultsUpdateCalc(y,h),s._basePlotModules.sort(d)}},g.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],a=e[n][0];if(a&&a.trace){var o=a.trace;if(o._hasCalcTransform){var i,s,u,c=o._arrayAttrs;for(i=0;i<c.length;i++)s=c[i],u=l.nestedProperty(o,s).get().slice(),l.nestedProperty(r,s).set(u)}a.trace=r}}},g.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},g._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var a=r[t].name;if(a===e)return!0;var i=o.modules[a];if(i&&i.categories[e])return!0}return!1},g.cleanPlot=function(e,t,n,r,a){var o,i,s=r._basePlotModules||[];for(o=0;o<s.length;o++){var l=s[o];l.clean&&l.clean(e,t,n,r,a)}var u=r._has&&r._has("gl"),c=t._has&&t._has("gl");u&&!c&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var f=!!r._infolayer;e:for(o=0;o<n.length;o++){var d=n[o],h=d.uid;for(i=0;i<e.length;i++){var p=e[i];if(h===p.uid)continue e}f&&r._infolayer.select(".cb"+h).remove()}r._zoomlayer&&r._zoomlayer.selectAll(".select-outline").remove()},g.linkSubplots=function(e,t,n,r){var a,o,i=r._plots||{},s=t._plots={},l=t._subplots,u={_fullData:e,_fullLayout:t},c=l.cartesian.concat(l.gl2d||[]);for(a=0;a<c.length;a++){var d,h=c[a],p=i[h],m=f.getFromId(u,h,"x"),v=f.getFromId(u,h,"y");for(p?d=s[h]=p:(d=s[h]={}).id=h,d.xaxis=m,d.yaxis=v,d._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var g=e[o];if(g.xaxis===d.xaxis._id&&g.yaxis===d.yaxis._id&&!1===g.cliponaxis){d._hasClipOnAxisFalse=!0;break}}}var y=f.list(u,null,!0);for(a=0;a<y.length;a++){var b=y[a],_=null;b.overlaying&&(_=f.getFromId(u,b.overlaying))&&_.overlaying&&(b.overlaying=!1,_=null),b._mainAxis=_||b,_&&(b.domain=_.domain.slice()),b._anchorAxis="free"===b.anchor?null:f.getFromId(u,b.anchor)}},g.clearExpandedTraceDefaultColors=function(e){var t,n,r;for(n=[],(t=e._module._colorAttrs)||(e._module._colorAttrs=t=[],i.crawl(e._module.attributes,function(e,r,a,o){n[o]=r,n.length=o+1,"color"===e.valType&&void 0===e.dflt&&t.push(n.join("."))})),r=0;r<t.length;r++){var a=l.nestedProperty(e,"_input."+t[r]);a.get()||l.nestedProperty(e,t[r]).set(null)}},g.supplyDataDefaults=function(e,t,n,r){var a,i,u,c=r._modules,f=r._visibleModules,d=r._basePlotModules,h=0,p=0;function v(e){t.push(e);var n=e._module;n&&(l.pushUnique(c,n),!0===e.visible&&l.pushUnique(f,n),l.pushUnique(d,e._module.basePlotModule),h++,!1!==e._input.visible&&p++)}r._transformModules=[];var y={},b=[],_=(n.template||{}).data||{},x=s.traceTemplater(_);for(a=0;a<e.length;a++){if(u=e[a],(i=x.newTrace(u)).uid=r._traceUids[a],g.supplyTraceDefaults(u,i,p,r,a),i.index=a,i._input=u,i._expandedIndex=h,i.transforms&&i.transforms.length)for(var w=T(i,t,n,r),k=0;k<w.length;k++){var A=w[k],M={_template:i._template,type:i.type,uid:i.uid+k};g.supplyTraceDefaults(A,M,h,r,a),m(M,A),M.index=a,M._input=u,M._fullInput=i,M._expandedIndex=h,M._expandedInput=A,v(M)}else i._fullInput=i,i._expandedInput=i,v(i);o.traceIs(i,"carpetAxis")&&(y[i.carpet]=i),o.traceIs(i,"carpetDependent")&&b.push(a)}for(a=0;a<b.length;a++)if((i=t[b[a]]).visible){var E=y[i.carpet];i._carpet=E,E&&E.visible?(i.xaxis=E.xaxis,i.yaxis=E.yaxis):i.visible=!1}},g.supplyAnimationDefaults=function(e){var t;e=e||{};var n={};function r(t,r){return l.coerce(e||{},n,h,t,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=g.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=g.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=g.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=g.supplyAnimationTransitionDefaults(e.transition||{});return n},g.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,h.frame,n,r)}return n("duration"),n("redraw"),t},g.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,h.transition,n,r)}return n("duration"),n("easing"),t},g.supplyFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e,t,p,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),t},g.supplyTraceDefaults=function(e,t,n,r,a){var i,s=r.colorway||u.defaults,c=s[n%s.length];function f(n,r){return l.coerce(e,t,g.attributes,n,r)}var d=f("visible");f("type"),f("name",r._traceWord+" "+a);var h=g.getModule(t);if(t._module=h,h){var p=h.basePlotModule,m=p.attr,v=p.attributes;if(m&&v){var y=r._subplots,b="";if("gl2d"!==p.name||d){if(Array.isArray(m))for(i=0;i<m.length;i++){var _=m[i],x=l.coerce(e,t,v,_);y[_]&&l.pushUnique(y[_],x),b+=x}else b=l.coerce(e,t,v,m);y[p.name]&&l.pushUnique(y[p.name],b)}}}return d&&(f("customdata"),f("ids"),o.traceIs(t,"showLegend")?(t._dfltShowLegend=!0,f("showlegend"),f("legendgroup")):t._dfltShowLegend=!1,o.getComponentMethod("fx","supplyDefaults")(e,t,c,r),h&&(h.supplyDefaults(e,t,c,r),l.coerceHoverinfo(e,t,r)),o.traceIs(t,"noOpacity")||f("opacity"),o.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),h&&h.selectPoints&&f("selectedpoints"),g.supplyTransformDefaults(e,t,r)),t},g.hasMakesDataTransform=A,g.supplyTransformDefaults=function(e,t,n){if(t._length||A(e)){var r=n._globalTransforms||[],a=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var o=e.transforms||[],i=r.concat(o),s=t.transforms=[],u=0;u<i.length;u++){var c,f=i[u],d=f.type,h=y[d],p=!(f._module&&f._module===h),m=h&&"function"==typeof h.transform;h||l.warn("Unrecognized transform type "+d+"."),h&&h.supplyDefaults&&(p||m)?((c=h.supplyDefaults(f,t,n,e)).type=d,c._module=h,l.pushUnique(a,h)):c=l.extendFlat({},f),s.push(c)}}},g.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return l.coerce(e,t,g.layoutAttributes,n,r)}var a=e.template;l.isPlainObject(a)&&(t.template=a,t._template=a.layout,t._dataTemplate=a.data);var i=l.coerceFont(r,"font");r("title",t._dfltTitle.plot),l.coerceFont(r,"titlefont",{family:i.family,size:Math.round(1.4*i.size),color:i.color}),r("autosize",!(e.width&&e.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),e.width&&e.height&&g.sanitizeMargins(t),o.getComponentMethod("grid","sizeDefaults")(e,t),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision"),o.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,r)},g.plotAutoSize=function(e,t,n){var r,o,i=e._context||{},s=i.frameMargins,u=l.isPlotDiv(e);if(u&&e.emit("plotly_autosize"),i.fillFrame)r=window.innerWidth,o=window.innerHeight,document.body.style.overflow="hidden";else if(a(s)&&s>0){var c=function(e){var t,n={left:0,right:0,bottom:0,top:0};if(e)for(t in e)e.hasOwnProperty(t)&&(n.left+=e[t].left||0,n.right+=e[t].right||0,n.bottom+=e[t].bottom||0,n.top+=e[t].top||0);return n}(e._boundingBoxMargins),f=c.left+c.right,d=c.bottom+c.top,h=1-2*s,p=n._container&&n._container.node?n._container.node().getBoundingClientRect():{width:n.width,height:n.height};r=Math.round(h*(p.width-f)),o=Math.round(h*(p.height-d))}else{var m=u?window.getComputedStyle(e):{};r=parseFloat(m.width)||n.width,o=parseFloat(m.height)||n.height}var v=g.layoutAttributes.width.min,y=g.layoutAttributes.height.min;r<v&&(r=v),o<y&&(o=y);var b=!t.width&&Math.abs(n.width-r)>1,_=!t.height&&Math.abs(n.height-o)>1;(_||b)&&(b&&(n.width=r),_&&(n.height=o)),e._initialAutoSize||(e._initialAutoSize={width:r,height:o}),g.sanitizeMargins(n)},g.supplyLayoutModuleDefaults=function(e,t,n,r){var a,i,s,u=o.componentsRegistry,c=t._basePlotModules,f=o.subplotsRegistry.cartesian;for(a in u)(s=u[a]).includeBasePlot&&s.includeBasePlot(e,t);for(var d in c.length||c.push(f),t._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(e,t),f.finalizeSubplots(e,t)),t._subplots)t._subplots[d].sort(l.subplotSort);for(i=0;i<c.length;i++)(s=c[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var h=t._visibleModules;for(i=0;i<h.length;i++)(s=h[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var p=t._transformModules;for(i=0;i<p.length;i++)(s=p[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n,r);for(a in u)(s=u[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n)},g.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),void 0!==t._geocontainer&&t._geocontainer.remove(),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),l.clearThrottle(),l.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._replotPending,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},g.style=function(e){var t,n=e._fullLayout._visibleModules,r=[];for(t=0;t<n.length;t++){var a=n[t];a.style&&l.pushUnique(r,a.style)}for(t=0;t<r.length;t++)r[t](e)},g.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,a=e.margin,o=n-(a.l+a.r),i=r-(a.t+a.b);o<0&&(t=(n-1)/(a.l+a.r),a.l=Math.floor(t*a.l),a.r=Math.floor(t*a.r)),i<0&&(t=(r-1)/(a.t+a.b),a.t=Math.floor(t*a.t),a.b=Math.floor(t*a.b))}},g.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},g.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1},g.autoMargin=function(e,t,n){var r=e._fullLayout;M(r);var a=r._pushmargin,o=r._pushmarginIds;if(!1!==r.margin.autoexpand){if(n){var i=n.pad;if(void 0===i){var s=r.margin;i=Math.min(12,s.l,s.r,s.t,s.b)}n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0);var l=void 0!==n.xl?n.xl:n.x,u=void 0!==n.xr?n.xr:n.x,c=void 0!==n.yt?n.yt:n.y,f=void 0!==n.yb?n.yb:n.y;a[t]={l:{val:l,size:n.l+i},r:{val:u,size:n.r+i},b:{val:f,size:n.b+i},t:{val:c,size:n.t+i}},o[t]=1}else delete a[t],delete o[t];r._replotting||g.doAutoMargin(e)}},g.doAutoMargin=function(e){var t=e._fullLayout;t._size||(t._size={}),M(t);var n=t._size,r=JSON.stringify(n),i=Math.max(t.margin.l||0,0),s=Math.max(t.margin.r||0,0),l=Math.max(t.margin.t||0,0),u=Math.max(t.margin.b||0,0),c=t._pushmargin,f=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var d in c)f[d]||delete c[d];for(var h in c.base={l:{val:0,size:i},r:{val:1,size:s},t:{val:1,size:l},b:{val:0,size:u}},c){var p=c[h].l||{},m=c[h].b||{},v=p.val,g=p.size,y=m.val,b=m.size;for(var _ in c){if(a(g)&&c[_].r){var x=c[_].r.val,w=c[_].r.size;if(x>v){var k=(g*x+(w-t.width)*v)/(x-v),A=(w*(1-v)+(g-t.width)*(1-x))/(x-v);k>=0&&A>=0&&k+A>i+s&&(i=k,s=A)}}if(a(b)&&c[_].t){var T=c[_].t.val,E=c[_].t.size;if(T>y){var C=(b*T+(E-t.height)*y)/(T-y),S=(E*(1-y)+(b-t.height)*(1-T))/(T-y);C>=0&&S>=0&&C+S>u+l&&(u=C,l=S)}}}}}if(n.l=Math.round(i),n.r=Math.round(s),n.t=Math.round(l),n.b=Math.round(u),n.p=Math.round(t.margin.pad),n.w=Math.round(t.width)-n.l-n.r,n.h=Math.round(t.height)-n.t-n.b,!t._replotting&&"{}"!==r&&r!==JSON.stringify(t._size))return"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1,o.call("plot",e)},g.graphJson=function(e,t,n,r,a){(a&&t&&!e._fullData||a&&!t&&!e._fullLayout)&&g.supplyDefaults(e);var o=a?e._fullData:e.data,i=a?e._fullLayout:e.layout,s=(e._transitionData||{})._frames;function u(e){if("function"==typeof e)return null;if(l.isPlainObject(e)){var t,r,a={};for(t in e)if("function"!=typeof e[t]&&-1===["_","["].indexOf(t.charAt(0))){if("keepdata"===n){if("src"===t.substr(t.length-3))continue}else if("keepstream"===n){if("string"==typeof(r=e[t+"src"])&&r.indexOf(":")>0&&!l.isPlainObject(e.stream))continue}else if("keepall"!==n&&"string"==typeof(r=e[t+"src"])&&r.indexOf(":")>0)continue;a[t]=u(e[t])}return a}return Array.isArray(e)?e.map(u):l.isTypedArray(e)?l.simpleMap(e,l.identity):l.isJSDate(e)?l.ms2DateTimeLocal(+e):e}var c={data:(o||[]).map(function(e){var n=u(e);return t&&delete n.fit,n})};return t||(c.layout=u(i)),e.framework&&e.framework.isPolar&&(c=e.framework.getConfig()),s&&(c.frames=u(s)),"object"===r?c:JSON.stringify(c)},g.modifyFrames=function(e,t){var n,r,a,o=e._transitionData._frames,i=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch((r=t[n]).type){case"replace":a=r.value;var s=(o[r.index]||{}).name,l=a.name;o[r.index]=i[l]=a,l!==s&&(delete i[s],i[l]=a);break;case"insert":a=r.value,i[a.name]=a,o.splice(r.index,0,a);break;case"delete":a=o[r.index],delete i[a.name],o.splice(r.index,1)}return Promise.resolve()},g.computeFrame=function(e,t){var n,r,a,o,i=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=i[t.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=i[s.baseframe.toString()])&&-1===u.indexOf(s.name);)l.push(s),u.push(s.name);for(var c={};s=l.pop();)if(s.layout&&(c.layout=g.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)void 0!==(a=r[n])&&null!==a&&(-1===(o=c.traces.indexOf(a))&&(o=c.data.length,c.traces[o]=a),c.data[o]=g.extendTrace(c.data[o],s.data[n]))}return c},g.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var a=n[r];a&&a.name&&(t[a.name]=a)}},g.extendObjectWithContainers=function(e,t,n){var r,a,o,i,s,u,c,f,d=l.extendDeepNoArrays({},t||{}),h=l.expandObjectPaths(d),p={};if(n&&n.length)for(o=0;o<n.length;o++)r=l.nestedProperty(h,n[o]),void 0===(a=r.get())?l.nestedProperty(p,n[o]).set(null):(r.set(null),l.nestedProperty(p,n[o]).set(a));if(e=l.extendDeepNoArrays(e||{},h),n&&n.length)for(o=0;o<n.length;o++)if(s=l.nestedProperty(p,n[o]),c=s.get()){for(u=l.nestedProperty(e,n[o]),f=u.get(),Array.isArray(f)||(f=[],u.set(f)),i=0;i<c.length;i++){var m=c[i];f[i]=null===m?null:g.extendObjectWithContainers(f[i],m)}u.set(f)}return e},g.dataArrayContainers=["transforms","dimensions"],g.layoutArrayContainers=o.layoutArrayContainers,g.extendTrace=function(e,t){return g.extendObjectWithContainers(e,t,g.dataArrayContainers)},g.extendLayout=function(e,t){return g.extendObjectWithContainers(e,t,g.layoutArrayContainers)},g.transition=function(e,t,n,r,a,i){var s,u,c=Array.isArray(t)?t.length:0,f=r.slice(0,c),d=[],h=!1;for(s=0;s<f.length;s++){u=f[s];var p=e._fullData[u];p._module}var m=[g.previousPromises,function(){if(e._transitionData)return e._transitioning=!1,function(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}(e._transitionData._interruptCallbacks)},function(){var r;for(r=0;r<f.length;r++){var a=f[r],o=e._fullData[a],i=o._module;i&&(i.animatable&&d.push(a),e.data[f[r]]=g.extendTrace(e.data[f[r]],t[r]))}var s=l.expandObjectPaths(l.extendDeepNoArrays({},n)),u=/^[xy]axis[0-9]*$/;for(var c in s)u.test(c)&&delete s[c].range;return g.extendLayout(e.layout,s),delete e.calcdata,g.supplyDefaults(e),g.doCalcdata(e),Promise.resolve()},g.rehover,function(){return e.emit("plotly_transitioning",[]),new Promise(function(t){e._transitioning=!0,i.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){h=!0}),a.redraw&&e._transitionData._interruptCallbacks.push(function(){return o.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var r,s,u=0,c=0;function f(){return u++,function(){h||++c!==u||function(t){e._transitionData&&(function(e){if(e)for(;e.length;)e.shift()}(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(a.redraw)return o.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(t))}(t)}}var p=e._fullLayout._basePlotModules,m=!1;if(n)for(s=0;s<p.length;s++)if(p[s].transitionAxes){var v=l.expandObjectPaths(n);m=p[s].transitionAxes(e,v,i,f)||m}for(m?((r=l.extendFlat({},i)).duration=0,d=null):r=i,s=0;s<p.length;s++)p[s].plot(e,d,r,f);setTimeout(f())})}],v=l.syncOrAsync(m,e);return v&&v.then||(v=Promise.resolve()),v.then(function(){return e})},g.doCalcdata=function(e,t){var n,r,a,s,u=f.list(e),d=e._fullData,h=e._fullLayout,p=new Array(d.length),m=(e.calcdata||[]).slice(0);for(e.calcdata=p,h._numBoxes=0,h._numViolins=0,h._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,h._piecolormap={},a=0;a<d.length;a++)Array.isArray(t)&&-1===t.indexOf(a)&&(p[a]=m[a]);for(a=0;a<d.length;a++)(n=d[a])._arrayAttrs=i.findArrayAttributes(n),n._extremes={};var v=h._subplots.polar||[];for(a=0;a<v.length;a++)u.push(h[v[a]].radialaxis,h[v[a]].angularaxis);E(u);var g=!1;for(a=0;a<d.length;a++)if(!0===(n=d[a]).visible&&n.transforms){if((r=n._module)&&r.calc){var b=r.calc(e,n);b[0]&&b[0].t&&b[0].t._scene&&delete b[0].t._scene.dirty}for(s=0;s<n.transforms.length;s++){var _=n.transforms[s];(r=y[_.type])&&r.calcTransform&&(n._hasCalcTransform=!0,g=!0,r.calcTransform(e,n,_))}}function x(t,a){if(n=d[t],!!(r=n._module).isContainer===a){var o=[];if(!0===n.visible){delete n._indexToPoints;var i=n.transforms||[];for(s=i.length-1;s>=0;s--)if(i[s].enabled){n._indexToPoints=i[s]._indexToPoints;break}r&&r.calc&&(o=r.calc(e,n))}Array.isArray(o)&&o[0]||(o=[{x:c,y:c}]),o[0].t||(o[0].t={}),o[0].trace=n,p[t]=o}}for(g&&E(u),a=0;a<d.length;a++)x(a,!0);for(a=0;a<d.length;a++)x(a,!1);!function(e){var t,n,r,a=e._fullLayout,o=a._visibleModules,i={};for(n=0;n<o.length;n++){var s=o[n],u=s.crossTraceCalc;if(u){var c=s.basePlotModule.name;i[c]?l.pushUnique(i[c],u):i[c]=[u]}}for(r in i){var f=i[r],d=a._subplots[r];if(Array.isArray(d))for(t=0;t<d.length;t++){var h=d[t],p="cartesian"===r?a._plots[h]:a[h];for(n=0;n<f.length;n++)f[n](e,p,h)}else for(n=0;n<f.length;n++)f[n](e)}}(e),o.getComponentMethod("fx","calc")(e),o.getComponentMethod("errorbars","calc")(e)},g.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},g.generalUpdatePerTraceModule=function(e,t,n,r){var a,o=t.traceHash,i={};for(a=0;a<n.length;a++){var s=n[a],u=s[0].trace;u.visible&&(i[u.type]=i[u.type]||[],i[u.type].push(s))}for(var c in o)if(!i[c]){var f=o[c][0],d=f[0].trace;d.visible=!1,i[c]=[f]}for(var h in i){var p=i[h],m=p[0][0].trace._module;m.plot(e,t,l.filterVisible(p),r)}t.traceHash=i}},{"../components/color":318,"../constants/numerical":419,"../lib":440,"../plot_api/plot_schema":477,"../plot_api/plot_template":478,"../plots/cartesian/axis_ids":491,"../registry":532,"./animation_attributes":483,"./attributes":485,"./command":512,"./font_attributes":514,"./frame_attributes":515,"./layout_attributes":522,"./sort_modules":531,d3:85,"fast-isnumeric":149}],525:[function(e,t,n){"use strict";var r=e("../../../traces/scatter/attributes"),a=r.marker;t.exports={r:r.r,t:r.t,marker:{color:a.color,size:a.size,symbol:a.symbol,opacity:a.opacity,editType:"calc"}}},{"../../../traces/scatter/attributes":593}],526:[function(e,t,n){"use strict";var r=e("../../cartesian/layout_attributes"),a=e("../../../lib/extend").extendFlat,o=e("../../../plot_api/edit_types").overrideAll,i=a({},r.domain,{});function s(e,t){return a({},t,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number"},visible:{valType:"boolean"}})}t.exports=o({radialaxis:s(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:i,orientation:{valType:"number"}}),angularaxis:s(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:i}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../../lib/extend":431,"../../../plot_api/edit_types":471,"../../cartesian/layout_attributes":500}],527:[function(e,t,n){"use strict";var r=t.exports=e("./micropolar");r.manager=e("./micropolar_manager")},{"./micropolar":528,"./micropolar_manager":529}],528:[function(e,t,n){var r=e("d3"),a=e("../../../lib"),o=a.extendDeepAll,i=e("../../../constants/alignment").MID_SHIFT,s=t.exports={version:"0.2.2"};s.Axis=function(){var e,t,n,a,l={data:[],layout:{}},u={},c={},f=r.dispatch("hover"),d={render:function(u){return function(u){t=u||t;var f=l.data,d=l.layout;("string"==typeof t||t.nodeName)&&(t=r.select(t)),t.datum(f).each(function(t,l){var u=t.slice();c={data:s.util.cloneJson(u),layout:s.util.cloneJson(d)};var f=0;u.forEach(function(e,t){e.color||(e.color=d.defaultColorRange[f],f=(f+1)%d.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),c.data[t].color=e.color,c.data[t].strokeColor=e.strokeColor,c.data[t].strokeDash=e.strokeDash,c.data[t].strokeSize=e.strokeSize});var h=u.filter(function(e,t){var n=e.visible;return void 0===n||!0===n}),p=!1,m=h.map(function(e,t){return p=p||void 0!==e.groupId,e});if(p){var v=[],g=r.nest().key(function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"}).entries(m).map(function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,r){e.yStack=[n],v.push(n),n=s.util.sumArrays(e.r,n)}),e.values});h=r.merge(g)}h.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var y=Math.min(d.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2;y=Math.max(10,y);var b,_=[d.margin.left+y,d.margin.top+y];b=p?[0,r.max(s.util.sumArrays(s.util.arrayLast(h).r[0],s.util.arrayLast(v)))]:r.extent(s.util.flattenArray(h.map(function(e,t){return e.r}))),d.radialAxis.domain!=s.DATAEXTENT&&(b[0]=0),n=r.scale.linear().domain(d.radialAxis.domain!=s.DATAEXTENT&&d.radialAxis.domain?d.radialAxis.domain:b).range([0,y]),c.layout.radialAxis.domain=n.domain();var x,w=s.util.flattenArray(h.map(function(e,t){return e.t})),k="string"==typeof w[0];k&&(w=s.util.deduplicate(w),x=w.slice(),w=r.range(w.length),h=h.map(function(e,t){var n=e;return e.t=[w],p&&(n.yStack=e.yStack),n}));var A=h.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===h.length,T=null===d.needsEndSpacing?k||!A:d.needsEndSpacing,M=d.angularAxis.domain&&d.angularAxis.domain!=s.DATAEXTENT&&!k&&d.angularAxis.domain[0]>=0?d.angularAxis.domain:r.extent(w),E=Math.abs(w[1]-w[0]);A&&!k&&(E=0);var C=M.slice();T&&k&&(C[1]+=E);var S=d.angularAxis.ticksCount||4;S>8&&(S=S/(S/8)+S%8),d.angularAxis.ticksStep&&(S=(C[1]-C[0])/S);var j=d.angularAxis.ticksStep||(C[1]-C[0])/(S*(d.minorTicks+1));x&&(j=Math.max(Math.round(j),1)),C[2]||(C[2]=j);var O=r.range.apply(this,C);if(O=O.map(function(e,t){return parseFloat(e.toPrecision(12))}),a=r.scale.linear().domain(C.slice(0,2)).range("clockwise"===d.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=a.domain(),c.layout.angularAxis.endPadding=T?E:0,void 0===(e=r.select(this).select("svg.chart-root"))||e.empty()){var P=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),N=this.appendChild(this.ownerDocument.importNode(P.documentElement,!0));e=r.select(N)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var I,L=e.select(".chart-group"),D={fill:"none",stroke:d.tickColor},R={"font-size":d.font.size,"font-family":d.font.family,fill:d.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+d.font.outlineColor}).join(",")};if(d.showLegend){I=e.select(".legend-group").attr({transform:"translate("+[y,d.margin.top]+")"}).style({display:"block"});var z=h.map(function(e,t){var n=s.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n});s.Legend().config({data:h.map(function(e,t){return e.name||"Element"+t}),legendConfig:o({},s.Legend.defaultConfig().legendConfig,{container:I,elements:z,reverseOrder:d.legend.reverseOrder})})();var F=I.node().getBBox();y=Math.min(d.width-F.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2,y=Math.max(10,y),_=[d.margin.left+y,d.margin.top+y],n.range([0,y]),c.layout.radialAxis.domain=n.domain(),I.attr("transform","translate("+[_[0]+y,_[1]-y]+")")}else I=e.select(".legend-group").style({display:"none"});e.attr({width:d.width,height:d.height}).style({opacity:d.opacity}),L.attr("transform","translate("+_+")").style({cursor:"crosshair"});var B=[(d.width-(d.margin.left+d.margin.right+2*y+(F?F.width:0)))/2,(d.height-(d.margin.top+d.margin.bottom+2*y))/2];if(B[0]=Math.max(0,B[0]),B[1]=Math.max(0,B[1]),e.select(".outer-group").attr("transform","translate("+B+")"),d.title){var U=e.select("g.title-group text").style(R).text(d.title),H=U.node().getBBox();U.attr({x:_[0]-H.width/2,y:_[1]-y-20})}var q=e.select(".radial.axis-group");if(d.radialAxis.gridLinesVisible){var V=q.selectAll("circle.grid-circle").data(n.ticks(5));V.enter().append("circle").attr({class:"grid-circle"}).style(D),V.attr("r",n),V.exit().remove()}q.select("circle.outside-circle").attr({r:y}).style(D);var W=e.select("circle.background-circle").attr({r:y}).style({fill:d.backgroundColor,stroke:d.stroke});function G(e,t){return a(e)%360+d.orientation}if(d.radialAxis.visible){var X=r.svg.axis().scale(n).ticks(5).tickSize(5);q.call(X).attr({transform:"rotate("+d.radialAxis.orientation+")"}),q.selectAll(".domain").style(D),q.selectAll("g>text").text(function(e,t){return this.textContent+d.radialAxis.ticksSuffix}).style(R).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===d.radialAxis.tickOrientation?"rotate("+-d.radialAxis.orientation+") translate("+[0,R["font-size"]]+")":"translate("+[0,R["font-size"]]+")"}}),q.selectAll("g>line").style({stroke:"black"})}var Y=e.select(".angular.axis-group").selectAll("g.angular-tick").data(O),K=Y.enter().append("g").classed("angular-tick",!0);Y.attr({transform:function(e,t){return"rotate("+G(e)+")"}}).style({display:d.angularAxis.visible?"block":"none"}),Y.exit().remove(),K.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(d.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(d.minorTicks+1)==0)}).style(D),K.selectAll(".minor").style({stroke:d.minorTickColor}),Y.select("line.grid-line").attr({x1:d.tickLength?y-d.tickLength:0,x2:y}).style({display:d.angularAxis.gridLinesVisible?"block":"none"}),K.append("text").classed("axis-text",!0).style(R);var Z=Y.select("text.axis-text").attr({x:y+d.labelOffset,dy:i+"em",transform:function(e,t){var n=G(e),r=y+d.labelOffset,a=d.angularAxis.tickOrientation;return"horizontal"==a?"rotate("+-n+" "+r+" 0)":"radial"==a?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:d.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(d.minorTicks+1)!=0?"":x?x[e]+d.angularAxis.ticksSuffix:e+d.angularAxis.ticksSuffix}).style(R);d.angularAxis.rewriteTicks&&Z.text(function(e,t){return t%(d.minorTicks+1)!=0?"":d.angularAxis.rewriteTicks(this.textContent,t)});var J=r.max(L.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));I.attr({transform:"translate("+[y+J,d.margin.top]+")"});var Q=e.select("g.geometry-group").selectAll("g").size()>0,$=e.select("g.geometry-group").selectAll("g.geometry").data(h);if($.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),$.exit().remove(),h[0]||Q){var ee=[];h.forEach(function(e,t){var r={};r.radialScale=n,r.angularScale=a,r.container=$.filter(function(e,n){return n==t}),r.geometry=e.geometry,r.orientation=d.orientation,r.direction=d.direction,r.index=t,ee.push({data:e,geometryConfig:r})});var te=[];r.nest().key(function(e,t){return void 0!==e.data.groupId||"unstacked"}).entries(ee).forEach(function(e,t){"unstacked"===e.key?te=te.concat(e.values.map(function(e,t){return[e]})):te.push(e.values)}),te.forEach(function(e,t){var n;n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map(function(e,t){return o(s[n].defaultConfig(),e)});s[n]().config(r)()})}var ne,re,ae=e.select(".guides-group"),oe=e.select(".tooltips-group"),ie=s.tooltipPanel().config({container:oe,fontSize:8})(),se=s.tooltipPanel().config({container:oe,fontSize:8})(),le=s.tooltipPanel().config({container:oe,hasTick:!0})();if(!k){var ue=ae.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});L.on("mousemove.angular-guide",function(e,t){var n=s.util.getMousePos(W).angle;ue.attr({x2:-y,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-d.orientation)%360;ne=a.invert(r);var o=s.util.convertToCartesian(y+12,n+180);ie.text(s.util.round(ne)).move([o[0]+_[0],o[1]+_[1]])}).on("mouseout.angular-guide",function(e,t){ae.select("line").style({opacity:0})})}var ce=ae.select("circle").style({stroke:"grey",fill:"none"});L.on("mousemove.radial-guide",function(e,t){var r=s.util.getMousePos(W).radius;ce.attr({r:r}).style({opacity:.5}),re=n.invert(s.util.getMousePos(W).radius);var a=s.util.convertToCartesian(r,d.radialAxis.orientation);se.text(s.util.round(re)).move([a[0]+_[0],a[1]+_[1]])}).on("mouseout.radial-guide",function(e,t){ce.style({opacity:0}),le.hide(),ie.hide(),se.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,n){var a=r.select(this),o=this.style.fill,i="black",l=this.style.opacity||1;if(a.attr({"data-opacity":l}),o&&"none"!==o){a.attr({"data-fill":o}),i=r.hsl(o).darker().toString(),a.style({fill:i,opacity:1});var u={t:s.util.round(t[0]),r:s.util.round(t[1])};k&&(u.t=x[t[0]]);var c="t: "+u.t+", r: "+u.r,f=this.getBoundingClientRect(),d=e.node().getBoundingClientRect(),h=[f.left+f.width/2-B[0]-d.left,f.top+f.height/2-B[1]-d.top];le.config({color:i}).text(c),le.move(h)}else o=this.style.stroke||"black",a.attr({"data-stroke":o}),i=r.hsl(o).darker().toString(),a.style({stroke:i,opacity:1})}).on("mousemove.tooltip",function(e,t){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&le.show()}).on("mouseout.tooltip",function(e,t){le.hide();var n=r.select(this),a=n.attr("data-fill");a?n.style({fill:a,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})})}(u),this},config:function(e){if(!arguments.length)return l;var t=s.util.cloneJson(e);return t.data.forEach(function(e,t){l.data[t]||(l.data[t]={}),o(l.data[t],s.Axis.defaultConfig().data[0]),o(l.data[t],e)}),o(l.layout,s.Axis.defaultConfig().layout),o(l.layout,t.layout),this},getLiveConfig:function(){return c},getinputConfig:function(){return u},radialScale:function(e){return n},angularScale:function(e){return a},svg:function(){return e}};return r.rebind(d,f,"on"),d},s.Axis.defaultConfig=function(e,t){var n={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return n},s.util={},s.DATAEXTENT="dataExtent",s.AREA="AreaChart",s.LINE="LinePlot",s.DOT="DotPlot",s.BAR="BarChart",s.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},s.util._extend=function(e,t){for(var n in e)t[n]=e[n]},s.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},s.util.dataFromEquation2=function(e,t){var n=t||6,a=r.range(0,360+n,n).map(function(t,n){var r=t*Math.PI/180,a=e(r);return[t,a]});return a},s.util.dataFromEquation=function(e,t,n){var a=t||6,o=[],i=[];r.range(0,360+a,a).forEach(function(t,n){var r=t*Math.PI/180,a=e(r);o.push(t),i.push(a)});var s={t:o,r:i};return n&&(s.name=n),s},s.util.ensureArray=function(e,t){if(void 0===e)return null;var n=[].concat(e);return r.range(t).map(function(e,t){return n[t]||n[0]})},s.util.fillArrays=function(e,t,n){return t.forEach(function(t,r){e[t]=s.util.ensureArray(e[t],n)}),e},s.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},s.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},s.util.sumArrays=function(e,t){return r.zip(e,t).map(function(e,t){return r.sum(e)})},s.util.arrayLast=function(e){return e[e.length-1]},s.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return-2===n},s.util.flattenArray=function(e){for(var t=[];!s.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},s.util.deduplicate=function(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})},s.util.convertToCartesian=function(e,t){var n=t*Math.PI/180,r=e*Math.cos(n),a=e*Math.sin(n);return[r,a]},s.util.round=function(e,t){var n=t||2,r=Math.pow(10,n);return Math.round(e*r)/r},s.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],a=t[1],o={};return o.x=n,o.y=a,o.pos=t,o.angle=180*(Math.atan2(a,n)+Math.PI)/Math.PI,o.radius=Math.sqrt(n*n+a*a),o},s.util.duplicatesCount=function(e){for(var t,n={},r={},a=0,o=e.length;a<o;a++)(t=e[a])in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},s.util.duplicates=function(e){return Object.keys(s.util.duplicatesCount(e))},s.util.translator=function(e,t,n,r){if(r){var a=n.slice();n=t,t=a}var o=t.reduce(function(e,t){if(void 0!==e)return e[t]},e);void 0!==o&&(t.reduce(function(e,n,r){if(void 0!==e)return r===t.length-1&&delete e[n],e[n]},e),n.reduce(function(e,t,r){return void 0===e[t]&&(e[t]={}),r===n.length-1&&(e[t]=o),e[t]},e))},s.PolyChart=function(){var e=[s.PolyChart.defaultConfig()],t=r.dispatch("hover"),n={solid:"none",dash:[5,2],dot:[2,5]};function a(){var t=e[0].geometryConfig,a=t.container;"string"==typeof a&&(a=r.select(a)),a.datum(e).each(function(e,a){var o=!!e[0].data.yStack,i=e.map(function(e,t){return o?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])}),s=t.angularScale,l=t.radialScale.domain()[0],u={bar:function(n,a,o){var i=e[o].data,l=t.radialScale(n[1])-t.radialScale(0),u=t.radialScale(n[2]||0),c=i.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[l+u,-c/2],[l+u,c/2],[u,c/2],[u,-c/2]].join("L")+"Z",transform:function(e,n){return"rotate("+(t.orientation+s(e[0]))+")"}})},dot:function(n,a,o){var i=n[2]?[n[0],n[1]+n[2]]:n,s=r.svg.symbol().size(e[o].data.dotSize).type(e[o].data.dotType)(n,a);r.select(this).attr({class:"mark dot",d:s,transform:function(e,n){var r=function(e){var t=e.r*Math.cos(e.t),n=e.r*Math.sin(e.t);return{x:t,y:n}}(function(e,n){var r=t.radialScale(e[1]),a=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:r,t:a}}(i));return"translate("+[r.x,r.y]+")"}})}},c=r.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});u.line=function(n,a,o){var s=n[2]?i[o].map(function(e,t){return[e[0],e[1]+e[2]]}):i[o];if(r.select(this).each(u.dot).style({opacity:function(t,n){return+e[o].data.dotVisible},fill:p.stroke(n,a,o)}).attr({class:"mark dot"}),!(a>0)){var l=r.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({class:"line",d:c(s),transform:function(e,n){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return p.fill(n,a,o)},"fill-opacity":0,stroke:function(e,t){return p.stroke(n,a,o)},"stroke-width":function(e,t){return p["stroke-width"](n,a,o)},"stroke-dasharray":function(e,t){return p["stroke-dasharray"](n,a,o)},opacity:function(e,t){return p.opacity(n,a,o)},display:function(e,t){return p.display(n,a,o)}})}};var f=t.angularScale.range(),d=Math.abs(f[1]-f[0])/i[0].length*Math.PI/180,h=r.svg.arc().startAngle(function(e){return-d/2}).endAngle(function(e){return d/2}).innerRadius(function(e){return t.radialScale(l+(e[2]||0))}).outerRadius(function(e){return t.radialScale(l+(e[2]||0))+t.radialScale(e[1])});u.arc=function(e,n,a){r.select(this).attr({class:"mark arc",d:h,transform:function(e,n){return"rotate("+(t.orientation+s(e[0])+90)+")"}})};var p={fill:function(t,n,r){return e[r].data.color},stroke:function(t,n,r){return e[r].data.strokeColor},"stroke-width":function(t,n,r){return e[r].data.strokeSize+"px"},"stroke-dasharray":function(t,r,a){return n[e[a].data.strokeDash]},opacity:function(t,n,r){return e[r].data.opacity},display:function(t,n,r){return void 0===e[r].data.visible||e[r].data.visible?"block":"none"}},m=r.select(this).selectAll("g.layer").data(i);m.enter().append("g").attr({class:"layer"});var v=m.selectAll("path.mark").data(function(e,t){return e});v.enter().append("path").attr({class:"mark"}),v.style(p).each(u[t.geometryType]),v.exit().remove(),m.exit().remove()})}return a.config=function(t){return arguments.length?(t.forEach(function(t,n){e[n]||(e[n]={}),o(e[n],s.PolyChart.defaultConfig()),o(e[n],t)}),this):e},a.getColorScale=function(){},r.rebind(a,t,"on"),a},s.PolyChart.defaultConfig=function(){var e={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}};return e},s.BarChart=function(){return s.PolyChart()},s.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},s.AreaChart=function(){return s.PolyChart()},s.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},s.DotPlot=function(){return s.PolyChart()},s.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},s.LinePlot=function(){return s.PolyChart()},s.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},s.Legend=function(){var e=s.Legend.defaultConfig(),t=r.dispatch("hover");function n(){var t=e.legendConfig,a=e.data.map(function(e,n){return[].concat(e).map(function(e,r){var a=o({},t.elements[n]);return a.name=e,a.color=[].concat(t.elements[n].color)[r],a})}),i=r.merge(a);i=i.filter(function(e,n){return t.elements[n]&&(t.elements[n].visibleInLegend||void 0===t.elements[n].visibleInLegend)}),t.reverseOrder&&(i=i.reverse());var s=t.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=i.map(function(e,t){return e.color}),u=t.fontSize,c=null==t.isContinuous?"number"==typeof i[0]:t.isContinuous,f=c?t.height:u*i.length,d=s.classed("legend-group",!0),h=d.selectAll("svg").data([0]),p=h.enter().append("svg").attr({width:300,height:f+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});p.append("g").classed("legend-axis",!0),p.append("g").classed("legend-marks",!0);var m=r.range(i.length),v=r.scale[c?"linear":"ordinal"]().domain(m).range(l),g=r.scale[c?"linear":"ordinal"]().domain(m)[c?"range":"rangePoints"]([0,f]);if(c){var y=h.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);y.enter().append("stop"),y.attr({offset:function(e,t){return t/(l.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),h.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var b=h.select(".legend-marks").selectAll("path.legend-mark").data(i);b.enter().append("path").classed("legend-mark",!0),b.attr({transform:function(e,t){return"translate("+[u/2,g(t)+u/2]+")"},d:function(e,t){var n=e.symbol;return function(e,t){var n=3*t;return"line"===e?"M"+[[-t/2,-t/12],[t/2,-t/12],[t/2,t/12],[-t/2,t/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(e)?r.svg.symbol().type(e).size(n)():r.svg.symbol().type("square").size(n)()}(n,u)},fill:function(e,t){return v(t)}}),b.exit().remove()}var _=r.svg.axis().scale(g).orient("right"),x=h.select("g.legend-axis").attr({transform:"translate("+[c?t.colorBandWidth:u,u/2]+")"}).call(_);return x.selectAll(".domain").style({fill:"none",stroke:"none"}),x.selectAll("line").style({fill:"none",stroke:c?t.textColor:"none"}),x.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text(function(e,t){return i[t].name}),n}return n.config=function(t){return arguments.length?(o(e,t),this):e},r.rebind(n,t,"on"),n},s.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},s.tooltipPanel=function(){var e,t,n,a={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},i="tooltip-"+s.tooltipPanel.uid++,l=10,u=function(){var r=(e=a.container.selectAll("g."+i).data([0])).enter().append("g").classed(i,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=r.append("text").attr({dx:a.padding+l,dy:.3*+a.fontSize}),u};return u.text=function(o){var i=r.hsl(a.color).l,s=i>=.5?"#aaa":"white",c=i>=.5?"black":"white",f=o||"";t.style({fill:c,"font-size":a.fontSize+"px"}).text(f);var d=a.padding,h=t.node().getBBox(),p={fill:a.color,stroke:s,"stroke-width":"2px"},m=h.width+2*d+l,v=h.height+2*d;return n.attr({d:"M"+[[l,-v/2],[l,-v/4],[a.hasTick?0:l,0],[l,v/4],[l,v/2],[m,v/2],[m,-v/2]].join("L")+"Z"}).style(p),e.attr({transform:"translate("+[l,-v/2+2*d]+")"}),e.style({display:"block"}),u},u.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(e)return e.style({display:"none"}),u},u.show=function(){if(e)return e.style({display:"block"}),u},u.config=function(e){return o(a,e),u},u},s.tooltipPanel.uid=1,s.adapter={},s.adapter.plotly=function(){var e={convert:function(e,t){var n={};if(e.data&&(n.data=e.data.map(function(e,n){var r=o({},e),a=[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]];return a.forEach(function(e,n){s.util.translator.apply(null,e.concat(t))}),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!t&&e.layout&&"stack"===e.layout.barmode)){var a=s.util.duplicates(n.data.map(function(e,t){return e.geometry}));n.data.forEach(function(e,t){var r=a.indexOf(e.geometry);-1!=r&&(n.data[t].groupId=r)})}if(e.layout){var i=o({},e.layout),l=[[i,["plot_bgcolor"],["backgroundColor"]],[i,["showlegend"],["showLegend"]],[i,["radialaxis"],["radialAxis"]],[i,["angularaxis"],["angularAxis"]],[i.angularaxis,["showline"],["gridLinesVisible"]],[i.angularaxis,["showticklabels"],["labelsVisible"]],[i.angularaxis,["nticks"],["ticksCount"]],[i.angularaxis,["tickorientation"],["tickOrientation"]],[i.angularaxis,["ticksuffix"],["ticksSuffix"]],[i.angularaxis,["range"],["domain"]],[i.angularaxis,["endpadding"],["endPadding"]],[i.radialaxis,["showline"],["gridLinesVisible"]],[i.radialaxis,["tickorientation"],["tickOrientation"]],[i.radialaxis,["ticksuffix"],["ticksSuffix"]],[i.radialaxis,["range"],["domain"]],[i.angularAxis,["showline"],["gridLinesVisible"]],[i.angularAxis,["showticklabels"],["labelsVisible"]],[i.angularAxis,["nticks"],["ticksCount"]],[i.angularAxis,["tickorientation"],["tickOrientation"]],[i.angularAxis,["ticksuffix"],["ticksSuffix"]],[i.angularAxis,["range"],["domain"]],[i.angularAxis,["endpadding"],["endPadding"]],[i.radialAxis,["showline"],["gridLinesVisible"]],[i.radialAxis,["tickorientation"],["tickOrientation"]],[i.radialAxis,["ticksuffix"],["ticksSuffix"]],[i.radialAxis,["range"],["domain"]],[i.font,["outlinecolor"],["outlineColor"]],[i.legend,["traceorder"],["reverseOrder"]],[i,["labeloffset"],["labelOffset"]],[i,["defaultcolorrange"],["defaultColorRange"]]];if(l.forEach(function(e,n){s.util.translator.apply(null,e.concat(t))}),t?(void 0!==i.tickLength&&(i.angularaxis.ticklen=i.tickLength,delete i.tickLength),i.tickColor&&(i.angularaxis.tickcolor=i.tickColor,delete i.tickColor)):(i.angularAxis&&void 0!==i.angularAxis.ticklen&&(i.tickLength=i.angularAxis.ticklen),i.angularAxis&&void 0!==i.angularAxis.tickcolor&&(i.tickColor=i.angularAxis.tickcolor)),i.legend&&"boolean"!=typeof i.legend.reverseOrder&&(i.legend.reverseOrder="normal"!=i.legend.reverseOrder),i.legend&&"boolean"==typeof i.legend.traceorder&&(i.legend.traceorder=i.legend.traceorder?"reversed":"normal",delete i.legend.reverseOrder),i.margin&&void 0!==i.margin.t){var u=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],f={};r.entries(i.margin).forEach(function(e,t){f[c[u.indexOf(e.key)]]=e.value}),i.margin=f}t&&(delete i.needsEndSpacing,delete i.minorTickColor,delete i.minorTicks,delete i.angularaxis.ticksCount,delete i.angularaxis.ticksCount,delete i.angularaxis.ticksStep,delete i.angularaxis.rewriteTicks,delete i.angularaxis.nticks,delete i.radialaxis.ticksCount,delete i.radialaxis.ticksCount,delete i.radialaxis.ticksStep,delete i.radialaxis.rewriteTicks,delete i.radialaxis.nticks),n.layout=i}return n}};return e}},{"../../../constants/alignment":416,"../../../lib":440,d3:85}],529:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../../lib"),o=e("../../../components/color"),i=e("./micropolar"),s=e("./undo_manager"),l=a.extendDeepAll,u=t.exports={};u.framework=function(e){var t,n,a,o,c,f=new s;function d(n,s){return s&&(c=s),r.select(r.select(c).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?l(t,n):n,a||(a=i.Axis()),o=i.adapter.plotly().convert(t),a.config(o).render(c),e.data=t.data,e.layout=t.layout,u.fillLayout(e),t}return d.isPolar=!0,d.svg=function(){return a.svg()},d.getConfig=function(){return t},d.getLiveConfig=function(){return i.adapter.plotly().convert(a.getLiveConfig(),!0)},d.getLiveScales=function(){return{t:a.angularScale(),r:a.radialScale()}},d.setUndoPoint=function(){var e=this,r=i.util.cloneJson(t);!function(t,n){f.add({undo:function(){n&&e(n)},redo:function(){e(t)}})}(r,n),n=i.util.cloneJson(r)},d.undo=function(){f.undo()},d.redo=function(){f.redo()},d},u.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),a=e.framework&&e.framework.svg&&e.framework.svg(),i={width:800,height:600,paper_bgcolor:o.background,_container:t,_paperdiv:n,_paper:a};e._fullLayout=l(i,e.layout)}},{"../../../components/color":318,"../../../lib":440,"./micropolar":528,"./undo_manager":530,d3:85}],530:[function(e,t,n){"use strict";t.exports=function(){var e,t=[],n=-1,r=!1;function a(e,t){return e?(r=!0,e[t](),r=!1,this):this}return{add:function(e){return r?this:(t.splice(n+1,t.length-n),t.push(e),n=t.length-1,this)},setCallback:function(t){e=t},undo:function(){var r=t[n];return r?(a(r,"undo"),n-=1,e&&e(r.undo),this):this},redo:function(){var r=t[n+1];return r?(a(r,"redo"),n+=1,e&&e(r.redo),this):this},clear:function(){t=[],n=-1},hasUndo:function(){return-1!==n},hasRedo:function(){return n<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[n-1]},getIndex:function(){return n}}}},{}],531:[function(e,t,n){"use strict";function r(e,t){return"splom"===e?-1:"splom"===t?1:0}t.exports={sortBasePlotModules:function(e,t){return r(e.name,t.name)},sortModules:r}},{}],532:[function(e,t,n){"use strict";var r=e("./lib/loggers"),a=e("./lib/noop"),o=e("./lib/push_unique"),i=e("./lib/is_plain_object"),s=e("./lib/extend"),l=e("./plots/attributes"),u=e("./plots/layout_attributes"),c=s.extendFlat,f=s.extendDeepAll;function d(e){var t=e.name,a=e.categories,o=e.meta;if(n.modules[t])r.log("Type "+t+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||function(e){var t=e.name;if(n.subplotsRegistry[t])r.log("Plot type "+t+" already registered.");else for(var a in v(e),n.subplotsRegistry[t]=e,n.componentsRegistry)b(a,e.name)}(e.basePlotModule);for(var i={},s=0;s<a.length;s++)i[a[s]]=!0,n.allCategories[a[s]]=!0;for(var l in n.modules[t]={_module:e,categories:i},o&&Object.keys(o).length&&(n.modules[t].meta=o),n.allTypes.push(t),n.componentsRegistry)g(l,t);e.layoutAttributes&&c(n.traceLayoutAttributes,e.layoutAttributes)}}function h(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");var t=e.name;for(var r in n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&o(n.layoutArrayContainers,t),v(e)),n.modules)g(t,r);for(var a in n.subplotsRegistry)b(t,a);for(var i in n.transformsRegistry)y(t,i);e.schema&&e.schema.layout&&f(u,e.schema.layout)}function p(e){if("string"!=typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,a="function"==typeof e.transform,o="function"==typeof e.calcTransform;if(!a&&!o)throw new Error(t+" is missing a *transform* or *calcTransform* method.");for(var s in a&&o&&r.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),i(e.attributes)||r.log(t+" registered without an *attributes* object."),"function"!=typeof e.supplyDefaults&&r.log(t+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)y(s,e.name)}function m(e){var t=e.name,r=t.split("-")[0],a=e.dictionary,o=e.format,i=a&&Object.keys(a).length,s=o&&Object.keys(o).length,l=n.localeRegistry,u=l[t];if(u||(l[t]=u={}),r!==t){var c=l[r];c||(l[r]=c={}),i&&c.dictionary===u.dictionary&&(c.dictionary=a),s&&c.format===u.format&&(c.format=o)}i&&(u.dictionary=a),s&&(u.format=o)}function v(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)o(n.layoutArrayRegexes,t[r])}}function g(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.traces){var a=r.traces[t];a&&f(n.modules[t]._module.attributes,a)}}function y(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.transforms){var a=r.transforms[t];a&&f(n.transformsRegistry[t].attributes,a)}}function b(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.subplots){var a=n.subplotsRegistry[t],o=a.layoutAttributes,i="subplot"===a.attr?a.name:a.attr;Array.isArray(i)&&(i=i[0]);var s=r.subplots[i];o&&s&&f(o,s)}}function _(e){return"object"==typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.register=function(e){if(!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":d(r);break;case"transform":p(r);break;case"component":h(r);break;case"locale":m(r);break;case"apiMethod":var a=r.name;n.apiMethodRegistry[a]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var t=n.modules[_(e)];return!!t&&t._module},n.traceIs=function(e,t){if("various"===(e=_(e)))return!1;var a=n.modules[e];return a||(e&&"area"!==e&&r.log("Unrecognized trace type "+e+"."),a=n.modules[l.type.dflt]),!!a.categories[t]},n.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],a=0;a<r.length;a++)r[a].type===t&&n.push(a);return n},n.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r&&r[t]||a},n.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,t)}},{"./lib/extend":431,"./lib/is_plain_object":442,"./lib/loggers":445,"./lib/noop":450,"./lib/push_unique":455,"./plots/attributes":485,"./plots/layout_attributes":522}],533:[function(e,t,n){"use strict";var r=e("../lib"),a=r.extendFlat,o=r.extendDeep;function i(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function s(e){return["xaxis","yaxis","zaxis"].indexOf(e.slice(0,5))>-1}t.exports=function(e,t){var n;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var r=e.data,l=e.layout,u=o([],r),c=o({},l,i(t.tileClass)),f=e._context||{};if(t.width&&(c.width=t.width),t.height&&(c.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){c.annotations=[];var d=Object.keys(c);for(n=0;n<d.length;n++)s(d[n])&&(c[d[n]].title="");for(n=0;n<u.length;n++){var h=u[n];h.showscale=!1,h.marker&&(h.marker.showscale=!1),"pie"===h.type&&(h.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)c.annotations.push(t.annotations[n]);var p=Object.keys(c).filter(function(e){return e.match(/^scene\d*$/)});if(p.length){var m={};for("thumbnail"===t.tileClass&&(m={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<p.length;n++){var v=c[p[n]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),a(v.xaxis,m),a(v.yaxis,m),a(v.zaxis,m),v._scene=null}}var g=document.createElement("div");t.tileClass&&(g.className=t.tileClass);var y={gd:g,td:g,layout:c,data:u,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return"transparent"!==t.setBackground&&(y.config.setBackground=t.setBackground||"opaque"),y.gd.defaultLayout=i(t.tileClass),y}},{"../lib":440}],534:[function(e,t,n){"use strict";var r=e("../plot_api/to_image"),a=e("../lib"),o=e("./filesaver");t.exports=function(e,t){var n;return a.isPlainObject(e)||(n=a.getGraphDiv(e)),(t=t||{}).format=t.format||"png",new Promise(function(i,s){n&&n._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),a.isIE()&&"svg"!==t.format&&s(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),n&&(n._snapshotInProgress=!0);var l=r(e,t),u=t.filename||e.fn||"newplot";u+="."+t.format,l.then(function(e){return n&&(n._snapshotInProgress=!1),o(e,u)}).then(function(e){i(e)}).catch(function(e){n&&(n._snapshotInProgress=!1),s(e)})})}},{"../lib":440,"../plot_api/to_image":481,"./filesaver":535}],535:[function(e,t,n){"use strict";t.exports=function(e,t){var n=document.createElement("a"),r="download"in n,a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(o,i){if("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&i(new Error("IE < 10 unsupported")),a&&(document.location.href="data:application/octet-stream"+e.slice(e.search(/[,;]/)),o(t)),t||(t="download"),r&&(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),o(t)),"undefined"!=typeof navigator&&navigator.msSaveBlob){var s=e.split(/^data:image\/svg\+xml,/)[1],l=decodeURIComponent(s);navigator.msSaveBlob(new Blob([l]),t),o(t)}i(new Error("download error"))})}},{}],536:[function(e,t,n){"use strict";n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){var t=e._fullLayout||{},n=t._has&&t._has("polar"),r=!n&&e.data&&e.data[0]&&e.data[0].r;if(!r)return function(){(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()})}}},{}],537:[function(e,t,n){"use strict";var r=e("./helpers"),a={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=a},{"./cloneplot":533,"./download":534,"./helpers":536,"./svgtoimg":538,"./toimage":539,"./tosvg":540}],538:[function(e,t,n){"use strict";var r=e("../lib"),a=e("events").EventEmitter;t.exports=function(e){var t=e.emitter||new a,n=new Promise(function(a,o){var i=window.Image,s=e.svg,l=e.format||"png";if(r.isIE()&&"svg"!==l){var u=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return o(u),e.promise?n:t.emit("error",u)}var c=e.canvas,f=e.scale||1,d=e.width||300,h=e.height||150,p=f*d,m=f*h,v=c.getContext("2d"),g=new i,y="data:image/svg+xml,"+encodeURIComponent(s);c.width=p,c.height=m,g.onload=function(){var n;switch("svg"!==l&&v.drawImage(g,0,0,p,m),l){case"jpeg":n=c.toDataURL("image/jpeg");break;case"png":n=c.toDataURL("image/png");break;case"webp":n=c.toDataURL("image/webp");break;case"svg":n=y;break;default:var r="Image format is not jpeg, png, svg or webp.";if(o(new Error(r)),!e.promise)return t.emit("error",r)}a(n),e.promise||t.emit("success",n)},g.onerror=function(n){if(o(n),!e.promise)return t.emit("error",n)},g.src=y});return e.promise?n:t}},{"../lib":440,events:50}],539:[function(e,t,n){"use strict";var r=e("events").EventEmitter,a=e("../registry"),o=e("../lib"),i=e("./helpers"),s=e("./cloneplot"),l=e("./tosvg"),u=e("./svgtoimg");t.exports=function(e,t){var n=new r,c=s(e,{format:"png"}),f=c.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var d=i.getRedrawFunc(f);return a.call("plot",f,c.data,c.layout,c.config).then(d).then(function(){var e=i.getDelay(f._fullLayout);setTimeout(function(){var e=l(f),r=document.createElement("canvas");r.id=o.randstr(),(n=u({format:t.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:r,emitter:n,svg:e})).clean=function(){f&&document.body.removeChild(f)}},e)}).catch(function(e){n.emit("error",e)}),n}},{"../lib":440,"../registry":532,"./cloneplot":533,"./helpers":536,"./svgtoimg":538,"./tosvg":540,events:50}],540:[function(e,t,n){"use strict";var r=e("d3"),a=e("../lib"),o=e("../components/drawing"),i=e("../components/color"),s=e("../constants/xmlns_namespaces"),l=/"/g,u=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");t.exports=function(e,t,n){var c,f=e._fullLayout,d=f._paper,h=f._toppaper,p=f.width,m=f.height;d.insert("rect",":first-child").call(o.setRect,0,0,p,m).call(i.fill,f.paper_bgcolor);var v=f._basePlotModules||[];for(c=0;c<v.length;c++){var g=v[c];g.toSVG&&g.toSVG(e)}if(h){var y=h.node().childNodes,b=Array.prototype.slice.call(y);for(c=0;c<b.length;c++){var _=b[c];_.childNodes.length&&d.node().appendChild(_)}}f._draggers&&f._draggers.remove(),d.node().style.background="",d.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var e=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(l,"TOBESTRIPPED"))}else e.remove()}),d.selectAll(".point, .scatterpts, .legendfill>path, .legendlines>path, .cbfill").each(function(){var e=r.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(l,"TOBESTRIPPED"));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&e.style("stroke",n.replace(l,"TOBESTRIPPED"))}),"pdf"!==t&&"eps"!==t||d.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),d.node().setAttributeNS(s.xmlns,"xmlns",s.svg),d.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===t&&n&&(d.attr("width",n*p),d.attr("height",n*m),d.attr("viewBox","0 0 "+p+" "+m));var x=(new window.XMLSerializer).serializeToString(d.node());return x=(x=function(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(x=function(e){var t=r.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()});return t.remove(),n}(x))).replace(u,"'"),a.isIE()&&(x=(x=(x=x.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),x}},{"../components/color":318,"../components/drawing":343,"../constants/xmlns_namespaces":420,"../lib":440,d3:85}],541:[function(e,t,n){"use strict";var r=e("../heatmap/attributes"),a=e("../scatter/attributes"),o=e("../../components/colorscale/attributes"),i=e("../../components/colorbar/attributes"),s=e("../../components/drawing/attributes").dash,l=e("../../plots/font_attributes"),u=e("../../lib/extend").extendFlat,c=e("../../constants/filter_ops"),f=c.COMPARISON_OPS2,d=c.INTERVAL_OPS,h=a.line;t.exports=u({z:r.z,x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,transpose:r.transpose,xtype:r.xtype,ytype:r.ytype,zhoverformat:r.zhoverformat,connectgaps:r.connectgaps,fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:l({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot"},operation:{valType:"enumerated",values:[].concat(f).concat(d),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:u({},h.color,{editType:"style+colorbars"}),width:u({},h.width,{editType:"style+colorbars"}),dash:s,smoothing:u({},h.smoothing,{}),editType:"plot"}},o("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}),{colorbar:i})},{"../../components/colorbar/attributes":319,"../../components/colorscale/attributes":325,"../../components/drawing/attributes":342,"../../constants/filter_ops":417,"../../lib/extend":431,"../../plots/font_attributes":514,"../heatmap/attributes":554,"../scatter/attributes":593}],542:[function(e,t,n){"use strict";var r=e("../heatmap/calc"),a=e("./set_contours");t.exports=function(e,t){var n=r(e,t);return a(t),n}},{"../heatmap/calc":555,"./set_contours":550}],543:[function(e,t,n){"use strict";var r=e("../../components/colorbar/draw"),a=e("./make_color_map"),o=e("./end_plus");t.exports=function(e,t){var n=t[0].trace,i="cb"+n.uid;if(e._fullLayout._infolayer.selectAll("."+i).remove(),n.showscale){var s=t[0].t.cb=r(e,i),l=n.contours,u=n.line,c=l.size||1,f=l.coloring,d=a(n,{isColorbar:!0});s.fillgradient("heatmap"===f?n.colorscale:"").zrange("heatmap"===f?[n.zmin,n.zmax]:"").fillcolor("fill"===f?d:"").line({color:"lines"===f?d:u.color,width:!1!==l.showlines?u.width:0,dash:u.dash}).levels({start:l.start,end:o(l),size:c}).options(n.colorbar)()}}},{"../../components/colorbar/draw":323,"./end_plus":547,"./make_color_map":549}],544:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("./label_defaults"),o=e("../../components/color"),i=o.addOpacity,s=o.opacity,l=e("../../constants/filter_ops"),u=l.CONSTRAINT_REDUCTION,c=l.COMPARISON_OPS2;t.exports=function(e,t,n,o,l,f){var d,h,p,m=t.contours,v=n("contours.operation");if(m._operation=u[v],function(e,t){var n;-1===c.indexOf(t.operation)?(e("contours.value",[0,1]),Array.isArray(t.value)?t.value.length>2?t.value=t.value.slice(2):0===t.length?t.value=[0,1]:t.length<2?(n=parseFloat(t.value[0]),t.value=[n,n+1]):t.value=[parseFloat(t.value[0]),parseFloat(t.value[1])]:r(t.value)&&(n=parseFloat(t.value),t.value=[n,n+1])):(e("contours.value",0),r(t.value)||(Array.isArray(t.value)?t.value=parseFloat(t.value[0]):t.value=0))}(n,m),"="===v?d=m.showlines=!0:(d=n("contours.showlines"),p=n("fillcolor",i((e.line||{}).color||l,.5))),d){var g=p&&s(p)?i(t.fillcolor,1):l;h=n("line.color",g),n("line.width",2),n("line.dash")}n("line.smoothing"),a(n,o,h,f)}},{"../../components/color":318,"../../constants/filter_ops":417,"./label_defaults":548,"fast-isnumeric":149}],545:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var a=r("contours.start"),o=r("contours.end"),i=!1===a||!1===o,s=n("contours.size");!(i?t.autocontour=!0:n("autocontour",!1))&&s||n("ncontours")}},{}],546:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../heatmap/xyz_defaults"),o=e("./constraint_defaults"),i=e("./contours_defaults"),s=e("./style_defaults"),l=e("./attributes");t.exports=function(e,t,n,u){function c(n,a){return r.coerce(e,t,l,n,a)}var f=a(e,t,c,u);if(f){c("text");var d="constraint"===c("contours.type");c("connectgaps",r.isArray1D(t.z)),d?o(e,t,c,u,n):(i(e,t,c,function(n){return r.coerce2(e,t,l,n)}),s(e,t,c,u))}else t.visible=!1}},{"../../lib":440,"../heatmap/xyz_defaults":565,"./attributes":541,"./constraint_defaults":544,"./contours_defaults":545,"./style_defaults":551}],547:[function(e,t,n){"use strict";t.exports=function(e){return e.end+e.size/1e6}},{}],548:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,a){a||(a={});var o=e("contours.showlabels");if(o){var i=t.font;r.coerceFont(e,"contours.labelfont",{family:i.family,size:i.size,color:n}),e("contours.labelformat")}!1!==a.hasHover&&e("zhoverformat")}},{"../../lib":440}],549:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../components/colorscale"),o=e("./end_plus");t.exports=function(e){var t=e.contours,n=t.start,i=o(t),s=t.size||1,l=Math.floor((i-n)/s)+1,u="lines"===t.coloring?0:1;isFinite(s)||(s=1,l=1);var c,f,d=e.colorscale,h=d.length,p=new Array(h),m=new Array(h);if("heatmap"===t.coloring){for(e.zauto&&!1===e.autocontour&&(e.zmin=n-s/2,e.zmax=e.zmin+l*s),f=0;f<h;f++)c=d[f],p[f]=c[0]*(e.zmax-e.zmin)+e.zmin,m[f]=c[1];var v=r.extent([e.zmin,e.zmax,t.start,t.start+s*(l-1)]),g=v[e.zmin<e.zmax?0:1],y=v[e.zmin<e.zmax?1:0];g!==e.zmin&&(p.splice(0,0,g),m.splice(0,0,Range[0])),y!==e.zmax&&(p.push(y),m.push(m[m.length-1]))}else for(f=0;f<h;f++)c=d[f],p[f]=(c[0]*(l+u-1)-u/2)*s+n,m[f]=c[1];return a.makeColorScaleFunc({domain:p,range:m},{noNumericCheck:!0})}},{"../../components/colorscale":333,"./end_plus":547,d3:85}],550:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),a=e("../../lib");function o(e,t,n){var a={type:"linear",range:[e,t]};return r.autoTicks(a,(t-e)/(n||15)),a}t.exports=function(e){var t=e.contours;if(e.autocontour){var n=e.zmin,i=e.zmax;void 0!==n&&void 0!==i||(n=a.aggNums(Math.min,null,e._z),i=a.aggNums(Math.max,null,e._z));var s=o(n,i,e.ncontours);t.size=s.dtick,t.start=r.tickFirst(s),s.range.reverse(),t.end=r.tickFirst(s),t.start===n&&(t.start+=t.size),t.end===i&&(t.end-=t.size),t.start>t.end&&(t.start=t.end=(t.start+t.end)/2),e._input.contours||(e._input.contours={}),a.extendFlat(e._input.contours,{start:t.start,end:t.end,size:t.size}),e._input.autocontour=!0}else if("constraint"!==t.type){var l,u=t.start,c=t.end,f=e._input.contours;u>c&&(t.start=f.start=c,c=t.end=f.end=u,u=t.start),t.size>0||(l=u===c?1:o(u,c,e.ncontours).dtick,f.size=t.size=l)}}},{"../../lib":440,"../../plots/cartesian/axes":488}],551:[function(e,t,n){"use strict";var r=e("../../components/colorscale/defaults"),a=e("./label_defaults");t.exports=function(e,t,n,o,i){var s,l=n("contours.coloring"),u="";"fill"===l&&(s=n("contours.showlines")),!1!==s&&("lines"!==l&&(u=n("line.color","#000")),n("line.width",.5),n("line.dash")),"none"!==l&&(!0!==e.showlegend&&(t.showlegend=!1),t._dfltShowLegend=!1,r(e,t,o,n,{prefix:"",cLetter:"z"})),n("line.smoothing"),a(n,o,u,i)}},{"../../components/colorscale/defaults":328,"./label_defaults":548}],552:[function(e,t,n){"use strict";var r=e("gl-contour2d"),a=e("gl-heatmap2d"),o=e("../../plots/cartesian/axes"),i=e("../contour/make_color_map"),s=e("../../lib/str2rgbarray");function l(e,t){this.scene=e,this.uid=t,this.type="contourgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.contourOptions={z:new Float32Array(0),x:[],y:[],shape:[0,0],levels:[0],levelColors:[0,0,0,1],lineWidth:1},this.contour=r(e.glplot,this.contourOptions),this.contour._trace=this,this.heatmapOptions={z:new Float32Array(0),x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,0]},this.heatmap=a(e.glplot,this.heatmapOptions),this.heatmap._trace=this}var u=l.prototype;function c(e,t){for(var n=e.contours,r=n.start,a=n.end,o=n.size||1,l=t.fill,u=i(e),c=Math.floor((a-r)/o)+(l?2:1),f=new Array(c),d=new Array(4*c),h=0;h<c;h++)for(var p=f[h]=r+o*h-(l?o/2:0),m=s(u(p)),v=0;v<4;v++)d[4*h+v]=m[v];return{levels:f,levelColors:d}}u.handlePick=function(e){var t=this.heatmapOptions,n=t.shape,r=e.pointId,a=r%n[0],o=Math.floor(r/n[0]),i=r;return{trace:this,dataCoord:e.dataCoord,traceCoord:[t.x[a],t.y[o],t.z[i]],textLabel:this.textLabels[r],name:this.name,pointIndex:[o,a],hoverinfo:this.hoverinfo}},u.update=function(e,t){var n=t[0];this.index=e.index,this.name=e.name,this.hoverinfo=e.hoverinfo;var r,a=n.z,i=a[0].length,s=a.length;this.contourOptions.z=function(e,t,n){for(var r=new Float32Array(t*n),a=0,o=0;o<t;o++)for(var i=0;i<n;i++)r[a++]=e[i][o];return r}(a,i,s),this.heatmapOptions.z=[].concat.apply([],a),this.contourOptions.shape=this.heatmapOptions.shape=[i,s],this.contourOptions.x=this.heatmapOptions.x=n.x,this.contourOptions.y=this.heatmapOptions.y=n.y,"fill"===e.contours.coloring?(r=c(e,{fill:!0}),this.contourOptions.levels=r.levels.slice(1),this.contourOptions.fillColors=r.levelColors,this.contourOptions.levelColors=[].concat.apply([],this.contourOptions.levels.map(function(){return[.25,.25,.25,1]}))):(r=c(e,{fill:!1}),this.contourOptions.levels=r.levels,this.contourOptions.levelColors=r.levelColors),this.textLabels=[].concat.apply([],e.text),this.contour.update(this.contourOptions),this.heatmap.update(this.heatmapOptions);var l=this.scene.xaxis,u=this.scene.yaxis;e._extremes[l._id]=o.findExtremes(l,n.x),e._extremes[u._id]=o.findExtremes(u,n.y)},u.dispose=function(){this.contour.dispose(),this.heatmap.dispose()},t.exports=function(e,t,n){var r=new l(e,t.uid);return r.update(t,n),r}},{"../../lib/str2rgbarray":464,"../../plots/cartesian/axes":488,"../contour/make_color_map":549,"gl-contour2d":159,"gl-heatmap2d":164}],553:[function(e,t,n){"use strict";var r=e("../../plot_api/edit_types").overrideAll,a={};a.attributes=r(e("../contour/attributes"),"calc","nested"),a.supplyDefaults=e("../contour/defaults"),a.colorbar=e("../contour/colorbar"),a.calc=e("../contour/calc"),a.plot=e("./convert"),a.moduleType="trace",a.name="contourgl",a.basePlotModule=e("../../plots/gl2d"),a.categories=["gl","gl2d","2dMap"],a.meta={},t.exports=a},{"../../plot_api/edit_types":471,"../../plots/gl2d":519,"../contour/attributes":541,"../contour/calc":542,"../contour/colorbar":543,"../contour/defaults":546,"./convert":552}],554:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),a=e("../../components/colorscale/attributes"),o=e("../../components/colorbar/attributes"),i=e("../../lib/extend").extendFlat;t.exports=i({z:{valType:"data_array",editType:"calc"},x:i({},r.x,{impliedEdits:{xtype:"array"}}),x0:i({},r.x0,{impliedEdits:{xtype:"scaled"}}),dx:i({},r.dx,{impliedEdits:{xtype:"scaled"}}),y:i({},r.y,{impliedEdits:{ytype:"array"}}),y0:i({},r.y0,{impliedEdits:{ytype:"scaled"}}),dy:i({},r.dy,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},zhoverformat:{valType:"string",dflt:"",editType:"none"}},a("",{cLetter:"z",autoColorDflt:!1}),{colorbar:o})},{"../../components/colorbar/attributes":319,"../../components/colorscale/attributes":325,"../../lib/extend":431,"../scatter/attributes":593}],555:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("../histogram2d/calc"),s=e("../../components/colorscale/calc"),l=e("./convert_column_xyz"),u=e("./max_row_length"),c=e("./clean_2d_array"),f=e("./interp2d"),d=e("./find_empties"),h=e("./make_bound_array");t.exports=function(e,t){var n,p,m,v,g,y,b,_,x,w=o.getFromId(e,t.xaxis||"x"),k=o.getFromId(e,t.yaxis||"y"),A=r.traceIs(t,"contour"),T=r.traceIs(t,"histogram"),M=r.traceIs(t,"gl2d"),E=A?"best":t.zsmooth;if(w._minDtick=0,k._minDtick=0,T)x=i(e,t),n=x.x,p=x.x0,m=x.dx,v=x.y,g=x.y0,y=x.dy,b=x.z;else{var C=t.z;a.isArray1D(C)?(l(t,w,k,"x","y",["z"]),n=t._x,v=t._y,C=t._z):(n=t.x?w.makeCalcdata(t,"x"):[],v=t.y?k.makeCalcdata(t,"y"):[]),p=t.x0||0,m=t.dx||1,g=t.y0||0,y=t.dy||1,b=c(C,t.transpose),(A||t.connectgaps)&&(t._emptypoints=d(b),f(b,t._emptypoints))}function S(e){E=t._input.zsmooth=t.zsmooth=!1,a.warn('cannot use zsmooth: "fast": '+e)}if("fast"===E)if("log"===w.type||"log"===k.type)S("log axis found");else if(!T){if(n.length){var j=(n[n.length-1]-n[0])/(n.length-1),O=Math.abs(j/100);for(_=0;_<n.length-1;_++)if(Math.abs(n[_+1]-n[_]-j)>O){S("x scale is not linear");break}}if(v.length&&"fast"===E){var P=(v[v.length-1]-v[0])/(v.length-1),N=Math.abs(P/100);for(_=0;_<v.length-1;_++)if(Math.abs(v[_+1]-v[_]-P)>N){S("y scale is not linear");break}}}var I=u(b),L="scaled"===t.xtype?"":n,D=h(t,L,p,m,I,w),R="scaled"===t.ytype?"":v,z=h(t,R,g,y,b.length,k);M||(t._extremes[w._id]=o.findExtremes(w,D),t._extremes[k._id]=o.findExtremes(k,z));var F={x:D,y:z,z:b,text:t._text||t.text};if(L&&L.length===D.length-1&&(F.xCenter=L),R&&R.length===z.length-1&&(F.yCenter=R),T&&(F.xRanges=x.xRanges,F.yRanges=x.yRanges,F.pts=x.pts),A&&"constraint"===t.contours.type||s(t,b,"","z"),A&&t.contours&&"heatmap"===t.contours.coloring){var B={type:"contour"===t.type?"heatmap":"histogram2d",xcalendar:t.xcalendar,ycalendar:t.ycalendar};F.xfill=h(B,L,p,m,I,w),F.yfill=h(B,R,g,y,b.length,k)}return[F]}},{"../../components/colorscale/calc":326,"../../lib":440,"../../plots/cartesian/axes":488,"../../registry":532,"../histogram2d/calc":574,"./clean_2d_array":556,"./convert_column_xyz":558,"./find_empties":560,"./interp2d":561,"./make_bound_array":562,"./max_row_length":563}],556:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){var n,a,o,i,s,l;function u(e){if(r(e))return+e}if(t){for(n=0,s=0;s<e.length;s++)n=Math.max(n,e[s].length);if(0===n)return!1;o=function(e){return e.length},i=function(e,t,n){return e[n][t]}}else n=e.length,o=function(e,t){return e[t].length},i=function(e,t,n){return e[t][n]};var c=new Array(n);for(s=0;s<n;s++)for(a=o(e,s),c[s]=new Array(a),l=0;l<a;l++)c[s][l]=u(i(e,s,l));return c}},{"fast-isnumeric":149}],557:[function(e,t,n){"use strict";t.exports={min:"zmin",max:"zmax"}},{}],558:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../constants/numerical").BADNUM;t.exports=function(e,t,n,o,i,s){var l,u,c,f,d=e._length,h=e[o].slice(0,d),p=e[i].slice(0,d),m=e.text,v=void 0!==m&&r.isArray1D(m),g=e[o+"calendar"],y=e[i+"calendar"];for(l=0;l<d;l++)h[l]=t.d2c(h[l],0,g),p[l]=n.d2c(p[l],0,y);var b,_,x,w=r.distinctVals(h),k=w.vals,A=r.distinctVals(p),T=A.vals,M=[];for(l=0;l<s.length;l++)M[l]=r.init2dArray(T.length,k.length);for(v&&(x=r.init2dArray(T.length,k.length)),l=0;l<d;l++)if(h[l]!==a&&p[l]!==a){for(b=r.findBin(h[l]+w.minDiff/2,k),_=r.findBin(p[l]+A.minDiff/2,T),u=0;u<s.length;u++)f=s[u],c=e[f],M[u][_][b]=c[l];v&&(x[_][b]=m[l])}for(e["_"+o]=k,e["_"+i]=T,u=0;u<s.length;u++)e["_"+s[u]]=M[u];v&&(e._text=x)}},{"../../constants/numerical":419,"../../lib":440}],559:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./xyz_defaults"),o=e("./style_defaults"),i=e("../../components/colorscale/defaults"),s=e("./attributes");t.exports=function(e,t,n,l){function u(n,a){return r.coerce(e,t,s,n,a)}var c=a(e,t,u,l);c?(u("text"),o(e,t,u,l),u("connectgaps",r.isArray1D(t.z)&&!1!==t.zsmooth),i(e,t,l,u,{prefix:"",cLetter:"z"})):t.visible=!1}},{"../../components/colorscale/defaults":328,"../../lib":440,"./attributes":554,"./style_defaults":564,"./xyz_defaults":565}],560:[function(e,t,n){"use strict";var r=e("./max_row_length");t.exports=function(e){var t,n,a,o,i,s,l,u,c=[],f={},d=[],h=e[0],p=[],m=[0,0,0],v=r(e);for(n=0;n<e.length;n++)for(t=p,p=h,h=e[n+1]||[],a=0;a<v;a++)void 0===p[a]&&((s=(void 0!==p[a-1]?1:0)+(void 0!==p[a+1]?1:0)+(void 0!==t[a]?1:0)+(void 0!==h[a]?1:0))?(0===n&&s++,0===a&&s++,n===e.length-1&&s++,a===p.length-1&&s++,s<4&&(f[[n,a]]=[n,a,s]),c.push([n,a,s])):d.push([n,a]));for(;d.length;){for(l={},u=!1,i=d.length-1;i>=0;i--)o=d[i],n=o[0],a=o[1],(s=((f[[n-1,a]]||m)[2]+(f[[n+1,a]]||m)[2]+(f[[n,a-1]]||m)[2]+(f[[n,a+1]]||m)[2])/20)&&(l[o]=[n,a,s],d.splice(i,1),u=!0);if(!u)throw"findEmpties iterated with no new neighbors";for(o in l)f[o]=l[o],c.push(l[o])}return c.sort(function(e,t){return t[2]-e[2]})}},{"./max_row_length":563}],561:[function(e,t,n){"use strict";var r=e("../../lib"),a=[[-1,0],[1,0],[0,-1],[0,1]];function o(e){return.5-.25*Math.min(1,.5*e)}function i(e,t,n){var r,o,i,s,l,u,c,f,d,h,p,m,v,g=0;for(s=0;s<t.length;s++){for(r=t[s],o=r[0],i=r[1],p=e[o][i],h=0,d=0,l=0;l<4;l++)u=a[l],(c=e[o+u[0]])&&void 0!==(f=c[i+u[1]])&&(0===h?m=v=f:(m=Math.min(m,f),v=Math.max(v,f)),d++,h+=f);if(0===d)throw"iterateInterp2d order is wrong: no defined neighbors";e[o][i]=h/d,void 0===p?d<4&&(g=1):(e[o][i]=(1+n)*e[o][i]-n*p,v>m&&(g=Math.max(g,Math.abs(e[o][i]-p)/(v-m))))}return g}t.exports=function(e,t){var n,a=1;for(i(e,t),n=0;n<t.length&&!(t[n][2]<4);n++);for(t=t.slice(n),n=0;n<100&&a>.01;n++)a=i(e,t,o(a));return a>.01&&r.log("interp2d didn't converge quickly",a),e}},{"../../lib":440}],562:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,o,i,s){var l,u,c,f=[],d=r.traceIs(e,"contour"),h=r.traceIs(e,"histogram"),p=r.traceIs(e,"gl2d"),m=a(t)&&t.length>1;if(m&&!h&&"category"!==s.type){var v=t.length;if(!(v<=i))return d?t.slice(0,i):t.slice(0,i+1);if(d||p)f=t.slice(0,i);else if(1===i)f=[t[0]-.5,t[0]+.5];else{for(f=[1.5*t[0]-.5*t[1]],c=1;c<v;c++)f.push(.5*(t[c-1]+t[c]));f.push(1.5*t[v-1]-.5*t[v-2])}if(v<i){var g=f[f.length-1],y=g-f[f.length-2];for(c=v;c<i;c++)g+=y,f.push(g)}}else{u=o||1;var b=e[s._id.charAt(0)+"calendar"];for(l=h||"category"===s.type?s.r2c(n,0,b)||0:a(t)&&1===t.length?t[0]:void 0===n?0:s.d2c(n,0,b),c=d||p?0:-.5;c<i;c++)f.push(l+u*c)}return f}},{"../../lib":440,"../../registry":532}],563:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0,n=0;n<e.length;n++)t=Math.max(t,e[n].length);return t}},{}],564:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=n("zsmooth");!1===r&&(n("xgap"),n("ygap")),n("zhoverformat")}},{}],565:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),o=e("../../registry");function i(e,t){var n=t(e),r=n?t(e+"type","array"):"scaled";return"scaled"===r&&(t(e+"0"),t("d"+e)),n}t.exports=function(e,t,n,s,l,u){var c,f,d=n("z");if(l=l||"x",u=u||"y",void 0===d||!d.length)return 0;if(a.isArray1D(e.z)){if(c=n(l),f=n(u),!(c&&c.length&&f&&f.length))return 0;t._length=Math.min(c.length,f.length,d.length)}else{if(c=i(l,n),f=i(u,n),!function(e){for(var t,n=!0,o=!1,i=!1,s=0;s<e.length;s++){if(t=e[s],!a.isArrayOrTypedArray(t)){n=!1;break}t.length>0&&(o=!0);for(var l=0;l<t.length;l++)if(r(t[l])){i=!0;break}}return n&&o&&i}(d))return 0;n("transpose"),t._length=null}var h=o.getComponentMethod("calendars","handleTraceDefaults");return h(e,t,[l,u],s),!0}},{"../../lib":440,"../../registry":532,"fast-isnumeric":149}],566:[function(e,t,n){"use strict";for(var r=e("../heatmap/attributes"),a=e("../../components/colorscale/attributes"),o=e("../../components/colorbar/attributes"),i=e("../../lib/extend").extendFlat,s=e("../../plot_api/edit_types").overrideAll,l=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],u={},c=0;c<l.length;c++){var f=l[c];u[f]=r[f]}i(u,a("",{cLetter:"z",autoColorDflt:!1}),{colorbar:o}),t.exports=s(u,"calc","nested")},{"../../components/colorbar/attributes":319,"../../components/colorscale/attributes":325,"../../lib/extend":431,"../../plot_api/edit_types":471,"../heatmap/attributes":554}],567:[function(e,t,n){"use strict";var r=e("gl-heatmap2d"),a=e("../../plots/cartesian/axes"),o=e("../../lib/str2rgbarray");function i(e,t){this.scene=e,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=r(e.glplot,this.options),this.heatmap._trace=this}var s=i.prototype;s.handlePick=function(e){var t=this.options,n=t.shape,r=e.pointId,a=r%n[0],o=Math.floor(r/n[0]),i=r;return{trace:this,dataCoord:e.dataCoord,traceCoord:[t.x[a],t.y[o],t.z[i]],textLabel:this.textLabels[r],name:this.name,pointIndex:[o,a],hoverinfo:this.hoverinfo}},s.update=function(e,t){var n=t[0];this.index=e.index,this.name=e.name,this.hoverinfo=e.hoverinfo;var r=n.z;this.options.z=[].concat.apply([],r);var i=r[0].length,s=r.length;this.options.shape=[i,s],this.options.x=n.x,this.options.y=n.y;var l=function(e){for(var t=e.colorscale,n=e.zmin,r=e.zmax,a=t.length,i=new Array(a),s=new Array(4*a),l=0;l<a;l++){var u=t[l],c=o(u[1]);i[l]=n+u[0]*(r-n);for(var f=0;f<4;f++)s[4*l+f]=c[f]}return{colorLevels:i,colorValues:s}}(e);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],e.text),this.heatmap.update(this.options);var u=this.scene.xaxis,c=this.scene.yaxis;e._extremes[u._id]=a.findExtremes(u,n.x),e._extremes[c._id]=a.findExtremes(c,n.y)},s.dispose=function(){this.heatmap.dispose()},t.exports=function(e,t,n){var r=new i(e,t.uid);return r.update(t,n),r}},{"../../lib/str2rgbarray":464,"../../plots/cartesian/axes":488,"gl-heatmap2d":164}],568:[function(e,t,n){"use strict";var r={};r.attributes=e("./attributes"),r.supplyDefaults=e("../heatmap/defaults"),r.colorbar=e("../heatmap/colorbar"),r.calc=e("../heatmap/calc"),r.plot=e("./convert"),r.moduleType="trace",r.name="heatmapgl",r.basePlotModule=e("../../plots/gl2d"),r.categories=["gl","gl2d","2dMap"],r.meta={},t.exports=r},{"../../plots/gl2d":519,"../heatmap/calc":555,"../heatmap/colorbar":557,"../heatmap/defaults":559,"./attributes":566,"./convert":567}],569:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=e.length,r=0,a=0;a<n;a++)t[a]?(e[a]/=t[a],r+=e[a]):e[a]=null;return r}},{}],570:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports={count:function(e,t,n){return n[e]++,1},sum:function(e,t,n,a){var o=a[t];return r(o)?(o=Number(o),n[e]+=o,o):0},avg:function(e,t,n,a,o){var i=a[t];return r(i)&&(i=Number(i),n[e]+=i,o[e]++),0},min:function(e,t,n,a){var o=a[t];if(r(o)){if(o=Number(o),!r(n[e]))return n[e]=o,o;if(n[e]>o){var i=o-n[e];return n[e]=o,i}}return 0},max:function(e,t,n,a){var o=a[t];if(r(o)){if(o=Number(o),!r(n[e]))return n[e]=o,o;if(n[e]<o){var i=o-n[e];return n[e]=o,i}}return 0}}},{"fast-isnumeric":149}],571:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),a=r.ONEAVGYEAR,o=r.ONEAVGMONTH,i=r.ONEDAY,s=r.ONEHOUR,l=r.ONEMIN,u=r.ONESEC,c=e("../../plots/cartesian/axes").tickIncrement;function f(e,t,n,r){if(e*t<=0)return 1/0;for(var a=Math.abs(t-e),o="date"===n.type,i=d(a,o),s=0;s<10;s++){var l=d(80*i,o);if(i===l)break;if(!h(l,e,t,o,n,r))break;i=l}return i}function d(e,t){return t&&e>u?e>i?e>1.1*a?a:e>1.1*o?o:i:e>s?s:e>l?l:u:Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function h(e,t,n,r,o,s){if(r&&e>i){var l=p(t,o,s),u=p(n,o,s),c=e===a?0:1;return l[c]!==u[c]}return Math.floor(n/e)-Math.floor(t/e)>.1}function p(e,t,n){var r=t.c2d(e,a,n).split("-");return""===r[0]&&(r.unshift(),r[0]="-"+r[0]),r}t.exports=function(e,t,n,r,o){var s,l,u=-1.1*t,d=-.1*t,h=e-d,p=n[0],m=n[1],v=Math.min(f(p+d,p+h,r,o),f(m+d,m+h,r,o)),g=Math.min(f(p+u,p+d,r,o),f(m+u,m+d,r,o));if(v>g&&g<Math.abs(m-p)/4e3?(s=v,l=!1):(s=Math.min(v,g),l=!0),"date"===r.type&&s>i){var y=s===a?1:6,b=s===a?"M12":"M1";return function(t,n){var i=r.c2d(t,a,o),s=i.indexOf("-",y);s>0&&(i=i.substr(0,s));var u=r.d2c(i,0,o);if(u<t){var f=c(u,b,!1,o);(u+f)/2<t+e&&(u=f)}return n&&l?c(u,b,!0,o):u}}return function(t,n){var r=s*Math.round(t/s);return r+s/10<t&&r+.9*s<t+e&&(r+=s),n&&l&&(r-=s),r}}},{"../../constants/numerical":419,"../../plots/cartesian/axes":488}],572:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib").cleanDate,o=e("../../constants/numerical"),i=o.ONEDAY,s=o.BADNUM;t.exports=function(e,t,n){var o=t.type,l=n+"bins",u=e[l];u||(u=e[l]={});var c="date"===o?function(e){return e||0===e?a(e,s,u.calendar):null}:function(e){return r(e)?Number(e):null};u.start=c(u.start),u.end=c(u.end);var f="date"===o?i:1,d=u.size;if(r(d))u.size=d>0?Number(d):f;else if("string"!=typeof d)u.size=f;else{var h=d.charAt(0),p=d.substr(1);((p=r(p)?Number(p):0)<=0||"date"!==o||"M"!==h||p!==Math.round(p))&&(u.size=f)}var m="autobin"+n;"boolean"!=typeof e[m]&&(e[m]=e._fullInput[m]=e._input[m]=!((u.start||0===u.start)&&(u.end||0===u.end))),e[m]||(delete e["nbins"+n],delete e._fullInput["nbins"+n])}},{"../../constants/numerical":419,"../../lib":440,"fast-isnumeric":149}],573:[function(e,t,n){"use strict";t.exports={percent:function(e,t){for(var n=e.length,r=100/t,a=0;a<n;a++)e[a]*=r},probability:function(e,t){for(var n=e.length,r=0;r<n;r++)e[r]/=t},density:function(e,t,n,r){var a=e.length;r=r||1;for(var o=0;o<a;o++)e[o]*=n[o]*r},"probability density":function(e,t,n,r){var a=e.length;r&&(t/=r);for(var o=0;o<a;o++)e[o]*=n[o]/t}}},{}],574:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("../histogram/bin_functions"),i=e("../histogram/norm_functions"),s=e("../histogram/average"),l=e("../histogram/clean_bins"),u=e("../histogram/bin_label_vals");function c(e,t,n,r,o,i,s){var u=t+"bins",c="autobin"+t,f=e[u];l(e,r,t),!e[c]&&f&&null!==f.start&&null!==f.end||(f=a.autoBin(n,r,e["nbins"+t],"2d",s),"histogram2dcontour"===e.type&&(f.start=i(a.tickIncrement(o(f.start),f.size,!0,s)),f.end=i(a.tickIncrement(o(f.end),f.size,!1,s))),e._input[u]=e[u]=f,e._input[c]=e[c])}function f(e,t,n,r){var a,o=new Array(e);if(r)for(a=0;a<e;a++)o[a]=1/(t[a+1]-t[a]);else{var i=1/n;for(a=0;a<e;a++)o[a]=i}return o}function d(e,t){return{start:e(t.start),end:e(t.end),size:t.size}}function h(e,t,n,r,a,o){var i,s=e.length-1,l=new Array(s);if(t)for(i=0;i<s;i++)l[i]=[t[i],t[i]];else{var c=u(n,r,e,a,o);for(i=0;i<s;i++)l[i]=[c(e[i]),c(e[i+1],!0)]}return l}t.exports=function(e,t){var n,l,u,p,m=a.getFromId(e,t.xaxis||"x"),v=t.x?m.makeCalcdata(t,"x"):[],g=a.getFromId(e,t.yaxis||"y"),y=t.y?g.makeCalcdata(t,"y"):[],b=t.xcalendar,_=t.ycalendar,x=function(e){return m.r2c(e,0,b)},w=function(e){return g.r2c(e,0,_)},k=function(e){return m.c2r(e,0,b)},A=function(e){return g.c2r(e,0,_)},T=t._length;v.length>T&&v.splice(T,v.length-T),y.length>T&&y.splice(T,y.length-T),c(t,"x",v,m,x,k,b),c(t,"y",y,g,w,A,_);var M=[],E=[],C=[],S="string"==typeof t.xbins.size,j="string"==typeof t.ybins.size,O=[],P=[],N=S?O:t.xbins,I=j?P:t.ybins,L=0,D=[],R=[],z=t.histnorm,F=t.histfunc,B=-1!==z.indexOf("density"),U="max"===F||"min"===F,H=U?null:0,q=o.count,V=i[z],W=!1,G=[],X=[],Y="z"in t?t.z:"marker"in t&&Array.isArray(t.marker.color)?t.marker.color:"";Y&&"count"!==F&&(W="avg"===F,q=o[F]);var K=t.xbins,Z=x(K.start),J=x(K.end)+(Z-a.tickIncrement(Z,K.size,!1,b))/1e6;for(n=Z;n<J;n=a.tickIncrement(n,K.size,!1,b))E.push(H),O.push(n),W&&C.push(0);O.push(n);var Q=E.length,$=x(t.xbins.start),ee=(n-$)/Q,te=k($+ee/2);for(K=t.ybins,Z=w(K.start),J=w(K.end)+(Z-a.tickIncrement(Z,K.size,!1,_))/1e6,n=Z;n<J;n=a.tickIncrement(n,K.size,!1,_)){M.push(E.slice()),P.push(n);var ne=new Array(Q);for(l=0;l<Q;l++)ne[l]=[];R.push(ne),W&&D.push(C.slice())}P.push(n);var re=M.length,ae=w(t.ybins.start),oe=(n-ae)/re,ie=A(ae+oe/2);B&&(G=f(E.length,N,ee,S),X=f(M.length,I,oe,j)),S||"date"!==m.type||(N=d(x,N)),j||"date"!==g.type||(I=d(w,I));var se=!0,le=!0,ue=new Array(Q),ce=new Array(re),fe=1/0,de=1/0,he=1/0,pe=1/0;for(n=0;n<T;n++){var me=v[n],ve=y[n];u=r.findBin(me,N),p=r.findBin(ve,I),u>=0&&u<Q&&p>=0&&p<re&&(L+=q(u,n,M[p],Y,D[p]),R[p][u].push(n),se&&(void 0===ue[u]?ue[u]=me:ue[u]!==me&&(se=!1)),le&&(void 0===ce[u]?ce[u]=ve:ce[u]!==ve&&(le=!1)),fe=Math.min(fe,me-O[u]),de=Math.min(de,O[u+1]-me),he=Math.min(he,ve-P[p]),pe=Math.min(pe,P[p+1]-ve))}if(W)for(p=0;p<re;p++)L+=s(M[p],D[p]);if(V)for(p=0;p<re;p++)V(M[p],L,G,X[p]);return{x:v,xRanges:h(O,se&&ue,fe,de,m,b),x0:te,dx:ee,y:y,yRanges:h(P,le&&ce,he,pe,g,_),y0:ie,dy:oe,z:M,pts:R}}},{"../../lib":440,"../../plots/cartesian/axes":488,"../histogram/average":569,"../histogram/bin_functions":570,"../histogram/bin_label_vals":571,"../histogram/clean_bins":572,"../histogram/norm_functions":573}],575:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),a=e("../../components/colorbar/attributes"),o=e("../../plots/cartesian/layout_attributes"),i=e("../../plots/font_attributes"),s=e("../../plots/domain").attributes,l=e("../../lib/extend").extendFlat,u=e("../../plot_api/plot_template").templatedArray;t.exports={domain:s({name:"parcoords",trace:!0,editType:"calc"}),labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),rangefont:i({editType:"calc"}),dimensions:u("dimension",{label:{valType:"string",editType:"calc"},tickvals:l({},o.tickvals,{editType:"calc"}),ticktext:l({},o.ticktext,{editType:"calc"}),tickformat:{valType:"string",dflt:"3s",editType:"calc"},visible:{valType:"boolean",dflt:!0,editType:"calc"},range:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},multiselect:{valType:"boolean",dflt:!0,editType:"calc"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:l(r("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"}),{colorbar:a,editType:"calc"})}},{"../../components/colorbar/attributes":319,"../../components/colorscale/attributes":325,"../../lib/extend":431,"../../plot_api/plot_template":478,"../../plots/cartesian/layout_attributes":500,"../../plots/domain":513,"../../plots/font_attributes":514}],576:[function(e,t,n){"use strict";var r=e("./constants"),a=e("d3"),o=e("../../lib/gup").keyFun,i=e("../../lib/gup").repeat,s=e("../../lib").sorterAsc,l=r.bar.snapRatio;function u(e,t){return e*(1-l)+t*l}var c=r.bar.snapClose;function f(e,t){return e*(1-c)+t*c}function d(e,t,n){if(p(t,n))return t;for(var r=e[0],a=r,o=1;o<e.length;o++){var i=e[o];if(t<f(r,i))return u(r,a);if(t<i||o===e.length-1)return u(i,r);a=r,r=i}}function h(e,t,n){if(p(t,n))return t;for(var r=e[e.length-1],a=r,o=e.length-2;o>=0;o--){var i=e[o];if(t>f(r,i))return u(r,a);if(t>i||o===e.length-1)return u(i,r);a=r,r=i}}function p(e,t){for(var n=0;n<t.length;n++)if(e>=t[n][0]&&e<=t[n][1])return!0;return!1}function m(e){e.attr("x",-r.bar.captureWidth/2).attr("width",r.bar.captureWidth)}function v(e){e.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(e){if(!e.brush.filterSpecified)return"0,"+e.height;for(var t,n,r,a=y(e.brush.filter.getConsolidated(),e.height),o=[0],i=a.length?a[0][0]:null,s=0;s<a.length;s++)t=a[s],n=t[1]-t[0],o.push(i),o.push(n),(r=s+1)<a.length&&(i=a[r][0]-t[1]);return o.push(e.height),o}function y(e,t){return e.map(function(e){return e.map(function(e){return e*t}).sort(s)})}function b(){a.select(document.body).style("cursor",null)}function _(e){e.attr("stroke-dasharray",g)}function x(e,t){var n=a.select(e).selectAll(".highlight, .highlight-shadow"),o=t?n.transition().duration(r.bar.snapDuration).each("end",t):n;_(o)}function w(e,t){var n,a=e.brush,o=a.filterSpecified,i=NaN,s={};if(o){var l=e.height,u=a.filter.getConsolidated(),c=y(u,l),f=NaN,d=NaN,h=NaN;for(n=0;n<=c.length;n++){var p=c[n];if(p&&p[0]<=t&&t<=p[1]){f=n;break}if(d=n?n-1:NaN,p&&p[0]>t){h=n;break}}if(i=f,isNaN(i)&&(i=isNaN(d)||isNaN(h)?isNaN(d)?h:d:t-c[d][1]<c[h][0]-t?d:h),!isNaN(i)){var m=c[i],v=function(e,t){var n=r.bar.handleHeight;if(!(t>e[1]+n||t<e[0]-n))return t>=.9*e[1]+.1*e[0]?"n":t<=.9*e[0]+.1*e[1]?"s":"ns"}(m,t);v&&(s.interval=u[i],s.intervalPix=m,s.region=v)}}if(e.ordinal&&!s.region){var g=e.unitTickvals,b=e.unitToPaddedPx.invert(t);for(n=0;n<g.length;n++){var _=[.25*g[Math.max(n-1,0)]+.75*g[n],.25*g[Math.min(n+1,g.length-1)]+.75*g[n]];if(b>=_[0]&&b<=_[1]){s.clickableOrdinalRange=_;break}}}return s}function k(e){e.on("mousemove",function(e){if(a.event.preventDefault(),!e.parent.inBrushDrag){var t=e.height-a.mouse(this)[1]-2*r.verticalPadding,n=w(e,t),o="crosshair";n.clickableOrdinalRange?o="pointer":n.region&&(o=n.region+"-resize"),a.select(document.body).style("cursor",o)}}).on("mouseleave",function(e){e.parent.inBrushDrag||b()}).call(a.behavior.drag().on("dragstart",function(e){a.event.sourceEvent.stopPropagation();var t=e.height-a.mouse(this)[1]-2*r.verticalPadding,n=e.unitToPaddedPx.invert(t),o=e.brush,i=w(e,t),s=i.interval,l=o.svgBrush;if(l.wasDragged=!1,l.grabbingBar="ns"===i.region,l.grabbingBar){var u=s.map(e.unitToPaddedPx);l.grabPoint=t-u[0]-r.verticalPadding,l.barLength=u[1]-u[0]}l.clickableOrdinalRange=i.clickableOrdinalRange,l.stayingIntervals=e.multiselect&&o.filterSpecified?o.filter.getConsolidated():[],s&&(l.stayingIntervals=l.stayingIntervals.filter(function(e){return e[0]!==s[0]&&e[1]!==s[1]})),l.startExtent=i.region?s["s"===i.region?1:0]:n,e.parent.inBrushDrag=!0,l.brushStartCallback()}).on("drag",function(e){a.event.sourceEvent.stopPropagation();var t=e.height-a.mouse(this)[1]-2*r.verticalPadding,n=e.brush.svgBrush;n.wasDragged=!0,n.grabbingBar?n.newExtent=[t-n.grabPoint,t+n.barLength-n.grabPoint].map(e.unitToPaddedPx.invert):n.newExtent=[n.startExtent,e.unitToPaddedPx.invert(t)].sort(s);var o=Math.max(0,-n.newExtent[0]),i=Math.max(0,n.newExtent[1]-1);n.newExtent[0]+=o,n.newExtent[1]-=i,n.grabbingBar&&(n.newExtent[1]+=o,n.newExtent[0]-=i),e.brush.filterSpecified=!0,n.extent=n.stayingIntervals.concat([n.newExtent]),n.brushCallback(e),x(this.parentNode)}).on("dragend",function(e){var t=a.event;t.sourceEvent.stopPropagation();var n=e.brush,r=n.filter,o=n.svgBrush,i=o.grabbingBar;if(o.grabbingBar=!1,o.grabLocation=void 0,e.parent.inBrushDrag=!1,b(),!o.wasDragged)return o.wasDragged=void 0,o.clickableOrdinalRange?n.filterSpecified&&e.multiselect?o.extent.push(o.clickableOrdinalRange):(o.extent=[o.clickableOrdinalRange],n.filterSpecified=!0):i?(o.extent=o.stayingIntervals,0===o.extent.length&&T(n)):T(n),o.brushCallback(e),x(this.parentNode),void o.brushEndCallback(n.filterSpecified?r.getConsolidated():[]);var s=function(){r.set(r.getConsolidated())};if(e.ordinal){var l=e.unitTickvals;l[l.length-1]<l[0]&&l.reverse(),o.newExtent=[d(l,o.newExtent[0],o.stayingIntervals),h(l,o.newExtent[1],o.stayingIntervals)];var u=o.newExtent[1]>o.newExtent[0];o.extent=o.stayingIntervals.concat(u?[o.newExtent]:[]),o.extent.length||T(n),o.brushCallback(e),u?x(this.parentNode,s):(s(),x(this.parentNode))}else s();o.brushEndCallback(n.filterSpecified?r.getConsolidated():[])}))}function A(e,t){return e[0]-t[0]}function T(e){e.filterSpecified=!1,e.svgBrush.extent=[[0,1]]}function M(e){for(var t,n=e.slice(),r=[],a=n.shift();a;){for(t=a.slice();(a=n.shift())&&a[0]<=t[1];)t[1]=Math.max(t[1],a[1]);r.push(t)}return r}t.exports={makeBrush:function(e,t,n,r,a,o){var i=function(){var e,t,n=[];return{set:function(r){n=r.map(function(e){return e.slice().sort(s)}).sort(A),e=M(n),t=n.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0])},get:function(){return n.slice()},getConsolidated:function(){return e},getBounds:function(){return t}}}();return i.set(n),{filter:i,filterSpecified:t,svgBrush:{extent:[],brushStartCallback:r,brushCallback:function(e){return function(t){var n=t.brush,r=function(e){return e.svgBrush.extent.map(function(e){return e.slice()})}(n),a=r.slice();n.filter.set(a),e()}}(a),brushEndCallback:o}}},ensureAxisBrush:function(e){var t=e.selectAll("."+r.cn.axisBrush).data(i,o);t.enter().append("g").classed(r.cn.axisBrush,!0),function(e){var t=e.selectAll(".background").data(i);t.enter().append("rect").classed("background",!0).call(m).call(v).style("pointer-events","auto").attr("transform","translate(0 "+r.verticalPadding+")"),t.call(k).attr("height",function(e){return e.height-r.verticalPadding});var n=e.selectAll(".highlight-shadow").data(i);n.enter().append("line").classed("highlight-shadow",!0).attr("x",-r.bar.width/2).attr("stroke-width",r.bar.width+r.bar.strokeWidth).attr("stroke",r.bar.strokeColor).attr("opacity",r.bar.strokeOpacity).attr("stroke-linecap","butt"),n.attr("y1",function(e){return e.height}).call(_);var a=e.selectAll(".highlight").data(i);a.enter().append("line").classed("highlight",!0).attr("x",-r.bar.width/2).attr("stroke-width",r.bar.width-r.bar.strokeWidth).attr("stroke",r.bar.fillColor).attr("opacity",r.bar.fillOpacity).attr("stroke-linecap","butt"),a.attr("y1",function(e){return e.height}).call(_)}(t)},cleanRanges:function(e,t){if(Array.isArray(e[0])?(e=e.map(function(e){return e.sort(s)}),e=t.multiselect?M(e.sort(A)):[e[0]]):e=[e.sort(s)],t.tickvals){var n=t.tickvals.slice().sort(s);if(!(e=e.map(function(e){var t=[d(n,e[0],[]),h(n,e[1],[])];if(t[1]>t[0])return t}).filter(function(e){return e})).length)return}return e.length>1?e:e[0]}}},{"../../lib":440,"../../lib/gup":437,"./constants":579,d3:85}],577:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../plots/get_data").getModuleCalcData,o=e("./plot"),i=e("../../constants/xmlns_namespaces");n.name="parcoords",n.plot=function(e){var t=a(e.calcdata,"parcoords")[0];t.length&&o(e,t)},n.clean=function(e,t,n,r){var a=r._has&&r._has("parcoords"),o=t._has&&t._has("parcoords");a&&!o&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container"),a=n.filter(function(e,t){return t===n.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");a.each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:i.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})}),window.setTimeout(function(){r.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},{"../../constants/xmlns_namespaces":420,"../../plots/get_data":516,"./plot":585,d3:85}],578:[function(e,t,n){"use strict";var r=e("../../components/colorscale/has_colorscale"),a=e("../../components/colorscale/calc"),o=e("../../lib"),i=e("../../lib/gup").wrap;t.exports=function(e,t){var n=!!t.line.colorscale&&o.isArrayOrTypedArray(t.line.color),s=n?t.line.color:function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=.5;return t}(t._length),l=n?t.line.colorscale:[[0,t.line.color],[1,t.line.color]];return r(t,"line")&&a(t,s,"line","c"),i({lineColor:s,cscale:l})}},{"../../components/colorscale/calc":326,"../../components/colorscale/has_colorscale":332,"../../lib":440,"../../lib/gup":437}],579:[function(e,t,n){"use strict";t.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeColor:"white",strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},{}],580:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/colorscale/has_colorscale"),o=e("../../components/colorscale/defaults"),i=e("../../plots/domain").defaults,s=e("../../plots/array_container_defaults"),l=e("./attributes"),u=e("./axisbrush"),c=e("./constants").maxDimensionCount,f=e("./merge_length");function d(e,t){function n(n,a){return r.coerce(e,t,l.dimensions,n,a)}var a=n("values"),o=n("visible");if(a&&a.length||(o=t.visible=!1),o){n("label"),n("tickvals"),n("ticktext"),n("tickformat"),n("range"),n("multiselect");var i=n("constraintrange");i&&(t.constraintrange=u.cleanRanges(i,t))}}t.exports=function(e,t,n,u){function h(n,a){return r.coerce(e,t,l,n,a)}var p=e.dimensions;Array.isArray(p)&&p.length>c&&(r.log("parcoords traces support up to "+c+" dimensions at the moment"),p.splice(c));var m=s(e,t,{name:"dimensions",handleItemDefaults:d}),v=function(e,t,n,i,s){var l=s("line.color",n);if(a(e,"line")&&r.isArrayOrTypedArray(l)){if(l.length)return s("line.colorscale"),o(e,t,i,s,{prefix:"line.",cLetter:"c"}),l.length;t.line.color=n}return 1/0}(e,t,n,u,h);i(t,u,h),Array.isArray(m)&&m.length||(t.visible=!1),f(t,m,"values",v);var g={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};r.coerceFont(h,"labelfont",g),r.coerceFont(h,"tickfont",g),r.coerceFont(h,"rangefont",g)}},{"../../components/colorscale/defaults":328,"../../components/colorscale/has_colorscale":332,"../../lib":440,"../../plots/array_container_defaults":484,"../../plots/domain":513,"./attributes":575,"./axisbrush":576,"./constants":579,"./merge_length":583}],581:[function(e,t,n){"use strict";var r={};r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.calc=e("./calc"),r.plot=e("./plot"),r.colorbar={container:"line",min:"cmin",max:"cmax"},r.moduleType="trace",r.name="parcoords",r.basePlotModule=e("./base_plot"),r.categories=["gl","regl","noOpacity"],r.meta={},t.exports=r},{"./attributes":575,"./base_plot":577,"./calc":578,"./defaults":580,"./plot":585}],582:[function(e,t,n){"use strict";var r=e("glslify"),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D palette;\nuniform sampler2D mask;\nuniform float maskHeight;\n\nuniform vec2 colorClamp;\n\nvarying vec4 fragColor;\n\nvec4 unit_1 = vec4(1, 1, 1, 1);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit_1, unit_1);\n}\n\nfloat axisY(\n        float x,\n        mat4 d[4],\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D\n    ) {\n\n    float y1 = val(d[0], dim1A) + val(d[1], dim1B) + val(d[2], dim1C) + val(d[3], dim1D);\n    float y2 = val(d[0], dim2A) + val(d[1], dim2B) + val(d[2], dim2C) + val(d[3], dim2D);\n    return y1 * (1.0 - x) + y2 * x;\n}\n\nconst int bitsPerByte = 8;\n\nint mod2(int a) {\n    return a - 2 * (a / 2);\n}\n\nint mod8(int a) {\n    return a - 8 * (a / 8);\n}\n\nvec4 zero = vec4(0, 0, 0, 0);\nvec4 unit_0 = vec4(1, 1, 1, 1);\nvec2 xyProjection = vec2(1, 1);\n\nmat4 mclamp(mat4 m, mat4 lo, mat4 hi) {\n    return mat4(clamp(m[0], lo[0], hi[0]),\n                clamp(m[1], lo[1], hi[1]),\n                clamp(m[2], lo[2], hi[2]),\n                clamp(m[3], lo[3], hi[3]));\n}\n\nbool mshow(mat4 p, mat4 lo, mat4 hi) {\n    return mclamp(p, lo, hi) == p;\n}\n\nbool withinBoundingBox(\n        mat4 d[4],\n        mat4 loA, mat4 hiA, mat4 loB, mat4 hiB, mat4 loC, mat4 hiC, mat4 loD, mat4 hiD\n    ) {\n\n    return mshow(d[0], loA, hiA) &&\n           mshow(d[1], loB, hiB) &&\n           mshow(d[2], loC, hiC) &&\n           mshow(d[3], loD, hiD);\n}\n\nbool withinRasterMask(mat4 d[4], sampler2D mask, float height) {\n    bool result = true;\n    int bitInByteStepper;\n    float valY, valueY, scaleX;\n    int hit, bitmask, valX;\n    for(int i = 0; i < 4; i++) {\n        for(int j = 0; j < 4; j++) {\n            for(int k = 0; k < 4; k++) {\n                bitInByteStepper = mod8(j * 4 + k);\n                valX = i * 2 + j / 2;\n                valY = d[i][j][k];\n                valueY = valY * (height - 1.0) + 0.5;\n                scaleX = (float(valX) + 0.5) / 8.0;\n                hit = int(texture2D(mask, vec2(scaleX, (valueY + 0.5) / height))[3] * 255.0) / int(pow(2.0, float(bitInByteStepper)));\n                result = result && mod2(hit) == 1;\n            }\n        }\n    }\n    return result;\n}\n\nvec4 position(\n        float depth,\n        vec2 resolution, vec2 viewBoxPosition, vec2 viewBoxSize,\n        mat4 dims[4],\n        float signum,\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D,\n        mat4 loA, mat4 hiA, mat4 loB, mat4 hiB, mat4 loC, mat4 hiC, mat4 loD, mat4 hiD,\n        sampler2D mask, float maskHeight\n    ) {\n\n    float x = 0.5 * signum + 0.5;\n    float y = axisY(x, dims, dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D);\n\n    float show = float(\n                            withinBoundingBox(dims, loA, hiA, loB, hiB, loC, hiC, loD, hiD)\n                         && withinRasterMask(dims, mask, maskHeight)\n                      );\n\n    vec2 viewBoxXY = viewBoxPosition + viewBoxSize * vec2(x, y);\n    float depthOrHide = depth + 2.0 * (1.0 - show);\n\n    return vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depthOrHide,\n        1.0\n    );\n}\n\nvoid main() {\n\n    float prominence = abs(pf[3]);\n\n    mat4 p[4];\n    p[0] = mat4(p0, p1, p2, p3);\n    p[1] = mat4(p4, p5, p6, p7);\n    p[2] = mat4(p8, p9, pa, pb);\n    p[3] = mat4(pc, pd, pe, abs(pf));\n\n    gl_Position = position(\n        1.0 - prominence,\n        resolution, viewBoxPosition, viewBoxSize,\n        p,\n        sign(pf[3]),\n        dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n        loA, hiA, loB, hiB, loC, hiC, loD, hiD,\n        mask, maskHeight\n    );\n\n    float clampedColorIndex = clamp((prominence - colorClamp[0]) / (colorClamp[1] - colorClamp[0]), 0.0, 1.0);\n    fragColor = texture2D(palette, vec2((clampedColorIndex * 255.0 + 0.5) / 256.0, 0.5));\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D palette;\n\nuniform vec2 colorClamp;\n\nvarying vec4 fragColor;\n\nvec2 xyProjection = vec2(1, 1);\n\nvec4 unit = vec4(1, 1, 1, 1);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit, unit);\n}\n\nfloat axisY(\n        float x,\n        mat4 d[4],\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D\n    ) {\n\n    float y1 = val(d[0], dim1A) + val(d[1], dim1B) + val(d[2], dim1C) + val(d[3], dim1D);\n    float y2 = val(d[0], dim2A) + val(d[1], dim2B) + val(d[2], dim2C) + val(d[3], dim2D);\n    return y1 * (1.0 - x) + y2 * x;\n}\n\nvec4 position(\n        float depth,\n        vec2 resolution, vec2 viewBoxPosition, vec2 viewBoxSize,\n        mat4 dims[4],\n        float signum,\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D\n    ) {\n\n    float x = 0.5 * signum + 0.5;\n    float y = axisY(x, dims, dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D);\n\n    vec2 viewBoxXY = viewBoxPosition + viewBoxSize * vec2(x, y);\n\n    return vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depth,\n        1.0\n    );\n}\n\nvoid main() {\n\n    float prominence = abs(pf[3]);\n\n    mat4 p[4];\n    p[0] = mat4(p0, p1, p2, p3);\n    p[1] = mat4(p4, p5, p6, p7);\n    p[2] = mat4(p8, p9, pa, pb);\n    p[3] = mat4(pc, pd, pe, abs(pf));\n\n    gl_Position = position(\n        1.0 - prominence,\n        resolution, viewBoxPosition, viewBoxSize,\n        p,\n        sign(pf[3]),\n        dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D\n    );\n\n    float clampedColorIndex = clamp((prominence - colorClamp[0]) / (colorClamp[1] - colorClamp[0]), 0.0, 1.0);\n    fragColor = texture2D(palette, vec2((clampedColorIndex * 255.0 + 0.5) / 256.0, 0.5));\n}\n"]),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 p0, p1, p2, p3,\n               p4, p5, p6, p7,\n               p8, p9, pa, pb,\n               pc, pd, pe;\n\nattribute vec4 pf;\n\nuniform mat4 dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution,\n             viewBoxPosition,\n             viewBoxSize;\n\nuniform sampler2D mask;\nuniform float maskHeight;\n\nuniform vec2 colorClamp;\n\nvarying vec4 fragColor;\n\nvec4 unit_1 = vec4(1, 1, 1, 1);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * unit_1, unit_1);\n}\n\nfloat axisY(\n        float x,\n        mat4 d[4],\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D\n    ) {\n\n    float y1 = val(d[0], dim1A) + val(d[1], dim1B) + val(d[2], dim1C) + val(d[3], dim1D);\n    float y2 = val(d[0], dim2A) + val(d[1], dim2B) + val(d[2], dim2C) + val(d[3], dim2D);\n    return y1 * (1.0 - x) + y2 * x;\n}\n\nconst int bitsPerByte = 8;\n\nint mod2(int a) {\n    return a - 2 * (a / 2);\n}\n\nint mod8(int a) {\n    return a - 8 * (a / 8);\n}\n\nvec4 zero = vec4(0, 0, 0, 0);\nvec4 unit_0 = vec4(1, 1, 1, 1);\nvec2 xyProjection = vec2(1, 1);\n\nmat4 mclamp(mat4 m, mat4 lo, mat4 hi) {\n    return mat4(clamp(m[0], lo[0], hi[0]),\n                clamp(m[1], lo[1], hi[1]),\n                clamp(m[2], lo[2], hi[2]),\n                clamp(m[3], lo[3], hi[3]));\n}\n\nbool mshow(mat4 p, mat4 lo, mat4 hi) {\n    return mclamp(p, lo, hi) == p;\n}\n\nbool withinBoundingBox(\n        mat4 d[4],\n        mat4 loA, mat4 hiA, mat4 loB, mat4 hiB, mat4 loC, mat4 hiC, mat4 loD, mat4 hiD\n    ) {\n\n    return mshow(d[0], loA, hiA) &&\n           mshow(d[1], loB, hiB) &&\n           mshow(d[2], loC, hiC) &&\n           mshow(d[3], loD, hiD);\n}\n\nbool withinRasterMask(mat4 d[4], sampler2D mask, float height) {\n    bool result = true;\n    int bitInByteStepper;\n    float valY, valueY, scaleX;\n    int hit, bitmask, valX;\n    for(int i = 0; i < 4; i++) {\n        for(int j = 0; j < 4; j++) {\n            for(int k = 0; k < 4; k++) {\n                bitInByteStepper = mod8(j * 4 + k);\n                valX = i * 2 + j / 2;\n                valY = d[i][j][k];\n                valueY = valY * (height - 1.0) + 0.5;\n                scaleX = (float(valX) + 0.5) / 8.0;\n                hit = int(texture2D(mask, vec2(scaleX, (valueY + 0.5) / height))[3] * 255.0) / int(pow(2.0, float(bitInByteStepper)));\n                result = result && mod2(hit) == 1;\n            }\n        }\n    }\n    return result;\n}\n\nvec4 position(\n        float depth,\n        vec2 resolution, vec2 viewBoxPosition, vec2 viewBoxSize,\n        mat4 dims[4],\n        float signum,\n        mat4 dim1A, mat4 dim2A, mat4 dim1B, mat4 dim2B, mat4 dim1C, mat4 dim2C, mat4 dim1D, mat4 dim2D,\n        mat4 loA, mat4 hiA, mat4 loB, mat4 hiB, mat4 loC, mat4 hiC, mat4 loD, mat4 hiD,\n        sampler2D mask, float maskHeight\n    ) {\n\n    float x = 0.5 * signum + 0.5;\n    float y = axisY(x, dims, dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D);\n\n    float show = float(\n                            withinBoundingBox(dims, loA, hiA, loB, hiB, loC, hiC, loD, hiD)\n                         && withinRasterMask(dims, mask, maskHeight)\n                      );\n\n    vec2 viewBoxXY = viewBoxPosition + viewBoxSize * vec2(x, y);\n    float depthOrHide = depth + 2.0 * (1.0 - show);\n\n    return vec4(\n        xyProjection * (2.0 * viewBoxXY / resolution - 1.0),\n        depthOrHide,\n        1.0\n    );\n}\n\nvoid main() {\n\n    float prominence = abs(pf[3]);\n\n    mat4 p[4];\n    p[0] = mat4(p0, p1, p2, p3);\n    p[1] = mat4(p4, p5, p6, p7);\n    p[2] = mat4(p8, p9, pa, pb);\n    p[3] = mat4(pc, pd, pe, abs(pf));\n\n    gl_Position = position(\n        1.0 - prominence,\n        resolution, viewBoxPosition, viewBoxSize,\n        p,\n        sign(pf[3]),\n        dim1A, dim2A, dim1B, dim2B, dim1C, dim2C, dim1D, dim2D,\n        loA, hiA, loB, hiB, loC, hiC, loD, hiD,\n        mask, maskHeight\n    );\n\n    fragColor = vec4(pf.rgb, 1.0);\n}\n"]),s=r(["precision lowp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),l=e("../../lib"),u=1e-6,c=1e-7,f=2048,d=64,h=2,p=4,m=8,v=d/m,g=[119,119,119],y=new Uint8Array(4),b=new Uint8Array(4),_={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function x(e,t,n,r,a){var o=e._gl;o.enable(o.SCISSOR_TEST),o.scissor(t,n,r,a),e.clear({color:[0,0,0,0],depth:1})}function w(e,t,n,r,a,o){var i=o.key;n.drawCompleted||(function(e){e.read({x:0,y:0,width:1,height:1,data:y})}(e),n.drawCompleted=!0),function s(l){var u;u=Math.min(r,a-l*r),o.offset=h*l*r,o.count=h*u,0===l&&(window.cancelAnimationFrame(n.currentRafs[i]),delete n.currentRafs[i],x(e,o.scissorX,o.scissorY,o.scissorWidth,o.viewBoxSize[1])),n.clearOnly||(t(o),l*r+u<a&&(n.currentRafs[i]=window.requestAnimationFrame(function(){s(l+1)})),n.drawCompleted=!1)}(0)}function k(e){return Math.max(u,Math.min(1-u,e))}function A(e,t){return(e>>>8*t)%256/255}function T(e,t,n){var r,a,o,i=[];for(a=0;a<e;a++)for(o=0;o<h;o++)for(r=0;r<p;r++)i.push(t[a*d+n*p+r]),n*p+r===d-1&&o%2==0&&(i[i.length-1]*=-1);return i}t.exports=function(e,t){var n,r,u,h,p,y=t.context,M=t.pick,E=t.regl,C={currentRafs:{},drawCompleted:!0,clearOnly:!1},S=function(e){for(var t={},n=0;n<16;n++)t["p"+n.toString(16)]=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return t}(E),j=E.texture(_);P(t);var O=E({profile:!1,blend:{enable:y,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!y,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:M?i:y?o:a,frag:s,primitive:"lines",lineWidth:1,attributes:S,uniforms:{resolution:E.prop("resolution"),viewBoxPosition:E.prop("viewBoxPosition"),viewBoxSize:E.prop("viewBoxSize"),dim1A:E.prop("dim1A"),dim2A:E.prop("dim2A"),dim1B:E.prop("dim1B"),dim2B:E.prop("dim2B"),dim1C:E.prop("dim1C"),dim2C:E.prop("dim2C"),dim1D:E.prop("dim1D"),dim2D:E.prop("dim2D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:j,mask:E.prop("maskTexture"),maskHeight:E.prop("maskHeight"),colorClamp:E.prop("colorClamp")},offset:E.prop("offset"),count:E.prop("count")});function P(e){n=e.model,r=e.viewModel,u=r.dimensions.slice(),h=u[0]?u[0].values.length:0;var t=n.lines,a=M?t.color.map(function(e,n){return n/t.color.length}):t.color,o=Math.max(1/255,Math.pow(1/a.length,1/3)),i=function(e,t,n){for(var r=t.length,a=[],o=0;o<e;o++)for(var i=0;i<d;i++)a.push(i<r?t[i].paddedUnitValues[o]:i===d-1?k(n[o]):i>=d-4?A(o,d-2-i):.5);return a}(h,u,a);!function(e,t,n){for(var r=0;r<16;r++)e["p"+r.toString(16)](T(t,n,r))}(S,h,i),j=E.texture(l.extendFlat({data:function(e,t,n){for(var r=[],a=0;a<256;a++){var o=e(a/255);r.push((t?g:o).concat(n))}return r}(n.unitToColor,y,Math.round(255*(y?o:1)))},_))}var N=[0,1],I=[];function L(e,t,r,a,o,i,s,u,c,f,d){var h,p,m,v,g=[e,t],y=[0,1].map(function(){return[0,1,2,3].map(function(){return new Float32Array(16)})});for(h=0;h<2;h++)for(v=g[h],p=0;p<4;p++)for(m=0;m<16;m++)y[h][p][m]=m+16*p===v?1:0;var b=n.lines.canvasOverdrag,_=n.domain,x=n.canvasWidth,w=n.canvasHeight,k=l.extendFlat({key:s,resolution:[x,w],viewBoxPosition:[r+b,a],viewBoxSize:[o,i],i:e,ii:t,dim1A:y[0][0],dim1B:y[0][1],dim1C:y[0][2],dim1D:y[0][3],dim2A:y[1][0],dim2B:y[1][1],dim2C:y[1][2],dim2D:y[1][3],colorClamp:N,scissorX:(u===c?0:r+b)+(n.pad.l-b)+n.layoutWidth*_.x[0],scissorWidth:(u===f?x-r+b:o+.5)+(u===c?r+b:0),scissorY:a+n.pad.b+n.layoutHeight*_.y[0],scissorHeight:i,viewportX:n.pad.l-b+n.layoutWidth*_.x[0],viewportY:n.pad.b+n.layoutHeight*_.y[0],viewportWidth:x,viewportHeight:w},d);return k}return{setColorDomain:function(e){N[0]=e[0],N[1]=e[1]},render:function(e,t,r){var a,o,i,s=e.length,l=1/0,d=-1/0;for(a=0;a<s;a++)e[a].dim2.canvasX>d&&(d=e[a].dim2.canvasX,i=a),e[a].dim1.canvasX<l&&(l=e[a].dim1.canvasX,o=a);0===s&&x(E,0,0,n.canvasWidth,n.canvasHeight);var g=y?{}:function(){var e,t,n,r=[0,1].map(function(){return[0,1,2,3].map(function(){return new Float32Array(16)})});for(e=0;e<2;e++)for(t=0;t<4;t++)for(n=0;n<16;n++){var a,o=n+16*t;a=o<u.length?u[o].brush.filter.getBounds()[e]:e,r[e][t][n]=a+(2*e-1)*c}function i(e,t){var n=f-1;return[Math.max(0,Math.floor(t[0]*n)),Math.min(n,Math.ceil(t[1]*n))]}for(var s=Array.apply(null,new Array(f*v)).map(function(){return 255}),l=0;l<u.length;l++){var d=l%m,h=(l-d)/m,g=Math.pow(2,d),y=u[l],b=y.brush.filter.get();if(!(b.length<2))for(var _=i(y,b[0])[1],x=1;x<b.length;x++){for(var w=i(y,b[x]),k=_+1;k<w[0];k++)s[k*v+h]&=~g;_=Math.max(_,w[1])}}var A={shape:[v,f],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:s};return p?p(A):p=E.texture(A),{maskTexture:p,maskHeight:f,loA:r[0][0],loB:r[0][1],loC:r[0][2],loD:r[0][3],hiA:r[1][0],hiB:r[1][1],hiC:r[1][2],hiD:r[1][3]}}();for(a=0;a<s;a++){var b=e[a],_=b.dim1,k=_.crossfilterDimensionIndex,A=b.canvasX,T=b.canvasY,M=b.dim2,S=M.crossfilterDimensionIndex,j=b.panelSizeX,P=b.panelSizeY,N=A+j;if(t||!I[k]||I[k][0]!==A||I[k][1]!==N){I[k]=[A,N];var D=L(k,S,A,T,j,P,_.crossfilterDimensionIndex,a,o,i,g);C.clearOnly=r,w(E,O,C,t?n.lines.blockLineCount:h,h,D)}}},readPixel:function(e,t){return E.read({x:e,y:t,width:1,height:1,data:b}),b},readPixels:function(e,t,n,r){var a=new Uint8Array(4*n*r);return E.read({x:e,y:t,width:n,height:r,data:a}),a},destroy:function(){for(var t in e.style["pointer-events"]="none",j.destroy(),p&&p.destroy(),S)S[t].destroy()},update:P}}},{"../../lib":440,glslify:199}],583:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var a,o;for(r||(r=1/0),a=0;a<t.length;a++)(o=t[a]).visible&&(r=Math.min(r,o[n].length));for(r===1/0&&(r=0),e._length=r,a=0;a<t.length;a++)(o=t[a]).visible&&(o._length=r);return r}},{}],584:[function(e,t,n){"use strict";var r=e("./lines"),a=e("./constants"),o=e("../../lib"),i=e("d3"),s=e("../../components/drawing"),l=e("../../lib/gup"),u=l.keyFun,c=l.repeat,f=l.unwrap,d=e("./axisbrush");function h(e){return!("visible"in e)||e.visible}function p(e){var t=e.range?e.range[0]:o.aggNums(Math.min,null,e.values,e._length),n=e.range?e.range[1]:o.aggNums(Math.max,null,e.values,e._length);return!isNaN(t)&&isFinite(t)||(t=0),!isNaN(n)&&isFinite(n)||(n=0),t===n&&(0===t?(t-=1,n+=1):(t*=.9,n*=1.1)),[t,n]}function m(e,t,n,r,a){var o=p(n);return r?i.scale.ordinal().domain(r.map(function(e,t){return t?function(n,r){var a=t[r];return null===a||void 0===a?e(n):a}:e}(i.format(n.tickformat),a))).range(r.map(function(n){var r=(n-o[0])/(o[1]-o[0]);return e-t+r*(2*t-e)})):i.scale.linear().domain(o).range([e-t,t])}function v(e){return e.dimensions.some(function(e){return e.brush.filterSpecified})}function g(e,t,n){var r=f(t),s=r.trace,l=r.lineColor,u=r.cscale,c=s.line,d=s.domain,m=s.dimensions,v=e.width,g=s.labelfont,y=s.tickfont,b=s.rangefont,_=o.extendDeepNoArrays({},c,{color:l.map(i.scale.linear().domain(p({values:l,range:[c.cmin,c.cmax],_length:s._length}))),blockLineCount:a.blockLineCount,canvasOverdrag:a.overdrag*a.canvasPixelRatio}),x=Math.floor(v*(d.x[1]-d.x[0])),w=Math.floor(e.height*(d.y[1]-d.y[0])),k=e.margin||{l:80,r:80,t:100,b:80},A=x,T=w;return{key:n,colCount:m.filter(h).length,dimensions:m,tickDistance:a.tickDistance,unitToColor:function(e){var t=e.map(function(e){return e[0]}),n=e.map(function(e){return i.rgb(e[1])}),r="rgb".split("").map(function(e){return i.scale.linear().clamp(!0).domain(t).range(n.map(function(e){return function(t){return t[e]}}(e)))});return function(e){return r.map(function(t){return t(e)})}}(u),lines:_,labelFont:g,tickFont:y,rangeFont:b,layoutWidth:v,layoutHeight:e.height,domain:d,translateX:d.x[0]*v,translateY:e.height-d.y[1]*e.height,pad:k,canvasWidth:A*a.canvasPixelRatio+2*_.canvasOverdrag,canvasHeight:T*a.canvasPixelRatio,width:A,height:T,canvasPixelRatio:a.canvasPixelRatio}}function y(e,t,n){var r=n.width,s=n.height,l=n.dimensions,u=n.canvasPixelRatio,c=function(e){return r*e/Math.max(1,n.colCount-1)},f=a.verticalPadding/s,g=function(e,t){return i.scale.linear().range([t,e-t])}(s,a.verticalPadding),y={key:n.key,xScale:c,model:n,inBrushDrag:!1},b={};return y.dimensions=l.filter(h).map(function(r,l){var h=function(e,t){return i.scale.linear().domain(p(e)).range([t,1-t])}(r,f),_=b[r.label];b[r.label]=(_||0)+1;var x=r.label+(_?"__"+_:""),w=r.constraintrange,k=w&&w.length;k&&!Array.isArray(w[0])&&(w=[w]);var A=k?w.map(function(e){return e.map(h)}):[[0,1]],T=r.values;T.length>r._length&&(T=T.slice(0,r._length));var M,E=r.tickvals;function C(e,t){return{val:e,text:M[t]}}function S(e,t){return e.val-t.val}if(Array.isArray(E)&&E.length){M=r.ticktext,Array.isArray(M)&&M.length?M.length>E.length?M=M.slice(0,E.length):E.length>M.length&&(E=E.slice(0,M.length)):M=E.map(i.format(r.tickformat));for(var j=1;j<E.length;j++)if(E[j]<E[j-1]){for(var O=E.map(C).sort(S),P=0;P<E.length;P++)E[P]=O[P].val,M[P]=O[P].text;break}}else E=void 0;return{key:x,label:r.label,tickFormat:r.tickformat,tickvals:E,ticktext:M,ordinal:!!E,multiselect:r.multiselect,xIndex:l,crossfilterDimensionIndex:l,visibleIndex:r._index,height:s,values:T,paddedUnitValues:T.map(h),unitTickvals:E&&E.map(h),xScale:c,x:c(l),canvasX:c(l)*u,unitToPaddedPx:g,domainScale:m(s,a.verticalPadding,r,E,M),ordinalScale:function(e){if(e.tickvals){var t=p(e);return i.scale.ordinal().domain(e.tickvals).range(e.tickvals.map(function(e){return(e-t[0])/(t[1]-t[0])}))}}(r),parent:y,model:n,brush:d.makeBrush(e,k,A,function(){e.linePickActive(!1)},function(){var t=y;t.focusLayer&&t.focusLayer.render(t.panels,!0);var n=v(t);!e.contextShown()&&n?(t.contextLayer&&t.contextLayer.render(t.panels,!0),e.contextShown(!0)):e.contextShown()&&!n&&(t.contextLayer&&t.contextLayer.render(t.panels,!0,!0),e.contextShown(!1))},function(n){var a=y;if(a.focusLayer.render(a.panels,!0),a.pickLayer&&a.pickLayer.render(a.panels,!0),e.linePickActive(!0),t&&t.filterChanged){var i=h.invert,s=n.map(function(e){return e.map(i).sort(o.sorterAsc)}).sort(function(e,t){return e[0]-t[0]});t.filterChanged(a.key,r._index,s)}})}}),y}function b(e){e.classed(a.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default").style("user-select","none")}t.exports=function(e,t,n,l,h,p){var m=function(){var e=!0,t=!1;return{linePickActive:function(t){return arguments.length?e=!!t:e},contextShown:function(e){return arguments.length?t=!!e:t}}}(),_=l.filter(function(e){return f(e).trace.visible}).map(g.bind(0,h)).map(y.bind(0,m,p));n.each(function(e,t){return o.extendFlat(e,_[t])});var x=n.selectAll(".gl-canvas").each(function(e){e.viewModel=_[0],e.model=e.viewModel?e.viewModel.model:null}),w=null,k=x.filter(function(e){return e.pick});k.style("pointer-events","auto").on("mousemove",function(e){if(m.linePickActive()&&e.lineLayer&&p&&p.hover){var t=i.event,n=this.width,r=this.height,a=i.mouse(this),o=a[0],s=a[1];if(o<0||s<0||o>=n||s>=r)return;var l=e.lineLayer.readPixel(o,r-1-s),u=0!==l[3],c=u?l[2]+256*(l[1]+256*l[0]):null,f={x:o,y:s,clientX:t.clientX,clientY:t.clientY,dataIndex:e.model.key,curveNumber:c};c!==w&&(u?p.hover(f):p.unhover&&p.unhover(f),w=c)}}),x.style("opacity",function(e){return e.pick?.01:1}),t.style("background","rgba(255, 255, 255, 0)");var A=t.selectAll("."+a.cn.parcoords).data(_,u);A.exit().remove(),A.enter().append("g").classed(a.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),A.attr("transform",function(e){return"translate("+e.model.translateX+","+e.model.translateY+")"});var T=A.selectAll("."+a.cn.parcoordsControlView).data(c,u);T.enter().append("g").classed(a.cn.parcoordsControlView,!0),T.attr("transform",function(e){return"translate("+e.model.pad.l+","+e.model.pad.t+")"});var M=T.selectAll("."+a.cn.yAxis).data(function(e){return e.dimensions},u);function E(e,t){for(var n=t.panels||(t.panels=[]),r=e.data(),a=r.length-1,o=0;o<a;o++){var i=n[o]||(n[o]={}),s=r[o],l=r[o+1];i.dim1=s,i.dim2=l,i.canvasX=s.canvasX,i.panelSizeX=l.canvasX-s.canvasX,i.panelSizeY=t.model.canvasHeight,i.y=0,i.canvasY=0}}M.enter().append("g").classed(a.cn.yAxis,!0),T.each(function(e){E(M,e)}),x.each(function(e){e.viewModel&&(e.lineLayer?e.lineLayer.update(e):e.lineLayer=r(this,e),e.viewModel[e.key]=e.lineLayer,e.lineLayer.render(e.viewModel.panels,!e.context))}),M.attr("transform",function(e){return"translate("+e.xScale(e.xIndex)+", 0)"}),M.call(i.behavior.drag().origin(function(e){return e}).on("drag",function(e){var t=e.parent;m.linePickActive(!1),e.x=Math.max(-a.overdrag,Math.min(e.model.width+a.overdrag,i.event.x)),e.canvasX=e.x*e.model.canvasPixelRatio,M.sort(function(e,t){return e.x-t.x}).each(function(t,n){t.xIndex=n,t.x=e===t?t.x:t.xScale(t.xIndex),t.canvasX=t.x*t.model.canvasPixelRatio}),E(M,t),M.filter(function(t){return 0!==Math.abs(e.xIndex-t.xIndex)}).attr("transform",function(e){return"translate("+e.xScale(e.xIndex)+", 0)"}),i.select(this).attr("transform","translate("+e.x+", 0)"),M.each(function(n,r,a){a===e.parent.key&&(t.dimensions[r]=n)}),t.contextLayer&&t.contextLayer.render(t.panels,!1,!v(t)),t.focusLayer.render&&t.focusLayer.render(t.panels)}).on("dragend",function(e){var t=e.parent;e.x=e.xScale(e.xIndex),e.canvasX=e.x*e.model.canvasPixelRatio,E(M,t),i.select(this).attr("transform",function(e){return"translate("+e.x+", 0)"}),t.contextLayer&&t.contextLayer.render(t.panels,!1,!v(t)),t.focusLayer&&t.focusLayer.render(t.panels),t.pickLayer&&t.pickLayer.render(t.panels,!0),m.linePickActive(!0),p&&p.axesMoved&&p.axesMoved(t.key,t.dimensions.map(function(e){return e.crossfilterDimensionIndex}))})),M.exit().remove();var C=M.selectAll("."+a.cn.axisOverlays).data(c,u);C.enter().append("g").classed(a.cn.axisOverlays,!0),C.selectAll("."+a.cn.axis).remove();var S=C.selectAll("."+a.cn.axis).data(c,u);S.enter().append("g").classed(a.cn.axis,!0),S.each(function(e){var t=e.model.height/e.model.tickDistance,n=e.domainScale,r=n.domain();i.select(this).call(i.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(t,e.tickFormat).tickValues(e.ordinal?r:null).tickFormat(e.ordinal?function(e){return e}:null).scale(n)),s.font(S.selectAll("text"),e.model.tickFont)}),S.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),S.selectAll("text").style("text-shadow","1px 1px 1px #fff, -1px -1px 1px #fff, 1px -1px 1px #fff, -1px 1px 1px #fff").style("cursor","default").style("user-select","none");var j=C.selectAll("."+a.cn.axisHeading).data(c,u);j.enter().append("g").classed(a.cn.axisHeading,!0);var O=j.selectAll("."+a.cn.axisTitle).data(c,u);O.enter().append("text").classed(a.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("user-select","none").style("pointer-events","auto"),O.attr("transform","translate(0,"+-a.axisTitleOffset+")").text(function(e){return e.label}).each(function(e){s.font(i.select(this),e.model.labelFont)});var P=C.selectAll("."+a.cn.axisExtent).data(c,u);P.enter().append("g").classed(a.cn.axisExtent,!0);var N=P.selectAll("."+a.cn.axisExtentTop).data(c,u);N.enter().append("g").classed(a.cn.axisExtentTop,!0),N.attr("transform","translate(0,"+-a.axisExtentOffset+")");var I=N.selectAll("."+a.cn.axisExtentTopText).data(c,u);function L(e,t){if(e.ordinal)return"";var n=e.domainScale.domain();return i.format(e.tickFormat)(n[t?n.length-1:0])}I.enter().append("text").classed(a.cn.axisExtentTopText,!0).call(b),I.text(function(e){return L(e,!0)}).each(function(e){s.font(i.select(this),e.model.rangeFont)});var D=P.selectAll("."+a.cn.axisExtentBottom).data(c,u);D.enter().append("g").classed(a.cn.axisExtentBottom,!0),D.attr("transform",function(e){return"translate(0,"+(e.model.height+a.axisExtentOffset)+")"});var R=D.selectAll("."+a.cn.axisExtentBottomText).data(c,u);R.enter().append("text").classed(a.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(b),R.text(function(e){return L(e)}).each(function(e){s.font(i.select(this),e.model.rangeFont)}),d.ensureAxisBrush(C)}},{"../../components/drawing":343,"../../lib":440,"../../lib/gup":437,"./axisbrush":576,"./constants":579,"./lines":582,d3:85}],585:[function(e,t,n){"use strict";var r=e("./parcoords"),a=e("../../lib/prepare_regl");t.exports=function(e,t){var n=e._fullLayout,o=n._toppaper,i=n._paperdiv,s=n._glcontainer,l=a(e);if(l){var u={},c={},f=n._size;t.forEach(function(t,n){u[n]=e.data[n].dimensions,c[n]=e.data[n].dimensions.slice()}),r(i,o,s,t,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{filterChanged:function(t,n,r){var a=c[t][n],o=r.map(function(e){return e.slice()});o.length?(1===o.length&&(o=o[0]),a.constraintrange=o,o=[o]):(delete a.constraintrange,o=null);var i={};i["dimensions["+n+"].constraintrange"]=o,e.emit("plotly_restyle",[i,[t]])},hover:function(t){e.emit("plotly_hover",t)},unhover:function(t){e.emit("plotly_unhover",t)},axesMoved:function(t,n){function r(e){return!("visible"in e)||e.visible}function a(e,t,n){var r=t.indexOf(n),a=e.indexOf(r);return-1===a&&(a+=t.length),a}var o=function(e){return function(t,r){var o=a(n,e,t),i=a(n,e,r);return o-i}}(c[t].filter(r));u[t].sort(o),c[t].filter(function(e){return!r(e)}).sort(function(e){return c[t].indexOf(e)}).forEach(function(e){u[t].splice(u[t].indexOf(e),1),u[t].splice(c[t].indexOf(e),0,e)}),e.emit("plotly_restyle")}})}}},{"../../lib/prepare_regl":454,"./parcoords":584}],586:[function(e,t,n){"use strict";var r=e("../../lib");n.formatPiePercent=function(e,t){var n=(100*e).toPrecision(3);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=e.toPrecision(10);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)},n.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r)return r}},n.castOption=function(e,t){return Array.isArray(e)?n.getFirstFilled(e,t):e||void 0}},{"../../lib":440}],587:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("./helpers").castOption;t.exports=function(e,t,n){var o=n.marker.line,i=a(o.color,t.pts)||r.defaultLine,s=a(o.width,t.pts)||0;e.style({"stroke-width":s}).call(r.fill,t.color).call(r.stroke,i)}},{"../../components/color":318,"./helpers":586}],588:[function(e,t,n){"use strict";var r=e("../scatter/attributes");t.exports={x:r.x,y:r.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:r.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"}}},{"../scatter/attributes":593}],589:[function(e,t,n){"use strict";var r=e("gl-pointcloud2d"),a=e("../../lib/str2rgbarray"),o=e("../../plots/cartesian/autorange").findExtremes,i=e("../scatter/get_trace_color");function s(e,t){this.scene=e,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=r(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var l=s.prototype;l.handlePick=function(e){var t=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},l.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=i(e,{})},l.updateFast=function(e){var t,n,r,i,s,l,u=this.xData=this.pickXData=e.x,c=this.yData=this.pickYData=e.y,f=this.pickXYData=e.xy,d=e.xbounds&&e.ybounds,h=e.indices,p=this.bounds;if(f){if(r=f,t=f.length>>>1,d)p[0]=e.xbounds[0],p[2]=e.xbounds[1],p[1]=e.ybounds[0],p[3]=e.ybounds[1];else for(l=0;l<t;l++)i=r[2*l],s=r[2*l+1],i<p[0]&&(p[0]=i),i>p[2]&&(p[2]=i),s<p[1]&&(p[1]=s),s>p[3]&&(p[3]=s);if(h)n=h;else for(n=new Int32Array(t),l=0;l<t;l++)n[l]=l}else for(t=u.length,r=new Float32Array(2*t),n=new Int32Array(t),l=0;l<t;l++)i=u[l],s=c[l],n[l]=l,r[2*l]=i,r[2*l+1]=s,i<p[0]&&(p[0]=i),i>p[2]&&(p[2]=i),s<p[1]&&(p[1]=s),s>p[3]&&(p[3]=s);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var m=a(e.marker.color),v=a(e.marker.border.color),g=e.opacity*e.marker.opacity;m[3]*=g,this.pointcloudOptions.color=m;var y=e.marker.blend;null===y&&(y=u.length<100||c.length<100),this.pointcloudOptions.blend=y,v[3]*=g,this.pointcloudOptions.borderColor=v;var b=e.marker.sizemin,_=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=_,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var x=this.scene.xaxis,w=this.scene.yaxis,k=_/2||.5;e._extremes[x._id]=o(x,[p[0],p[2]],{ppad:k}),e._extremes[w._id]=o(w,[p[1],p[3]],{ppad:k})},l.dispose=function(){this.pointcloud.dispose()},t.exports=function(e,t){var n=new s(e,t.uid);return n.update(t),n}},{"../../lib/str2rgbarray":464,"../../plots/cartesian/autorange":487,"../scatter/get_trace_color":603,"gl-pointcloud2d":176}],590:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes");t.exports=function(e,t,n){function o(n,o){return r.coerce(e,t,a,n,o)}o("x"),o("y"),o("xbounds"),o("ybounds"),e.xy&&e.xy instanceof Float32Array&&(t.xy=e.xy),e.indices&&e.indices instanceof Int32Array&&(t.indices=e.indices),o("text"),o("marker.color",n),o("marker.opacity"),o("marker.blend"),o("marker.sizemin"),o("marker.sizemax"),o("marker.border.color",n),o("marker.border.arearatio"),t._length=null}},{"../../lib":440,"./attributes":588}],591:[function(e,t,n){"use strict";var r={};r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.calc=e("../scatter3d/calc"),r.plot=e("./convert"),r.moduleType="trace",r.name="pointcloud",r.basePlotModule=e("../../plots/gl2d"),r.categories=["gl","gl2d","showLegend"],r.meta={},t.exports=r},{"../../plots/gl2d":519,"../scatter3d/calc":620,"./attributes":588,"./convert":589,"./defaults":590}],592:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArray(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var a=t.marker;if(a){r.mergeArray(a.size,e,"ms"),r.mergeArray(a.opacity,e,"mo"),r.mergeArray(a.symbol,e,"mx"),r.mergeArray(a.color,e,"mc");var o=a.line;a.line&&(r.mergeArray(o.color,e,"mlc"),r.mergeArray(o.width,e,"mlw"));var i=a.gradient;i&&"none"!==i.type&&(r.mergeArray(i.type,e,"mgt"),r.mergeArray(i.color,e,"mgc"))}}},{"../../lib":440}],593:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),a=e("../../components/colorbar/attributes"),o=e("../../plots/font_attributes"),i=e("../../components/drawing/attributes").dash,s=e("../../components/drawing"),l=(e("./constants"),e("../../lib/extend").extendFlat);t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dy:{valType:"number",dflt:1,editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},i,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style"},marker:l({symbol:{valType:"enumerated",values:s.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style"},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc"},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},colorbar:a,line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style"},editType:"calc"},r("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},r("marker")),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:o({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},{"../../components/colorbar/attributes":319,"../../components/colorscale/attributes":325,"../../components/drawing":343,"../../components/drawing/attributes":342,"../../lib/extend":431,"../../plots/font_attributes":514,"./constants":598}],594:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),o=e("../../plots/cartesian/axes"),i=e("../../constants/numerical").BADNUM,s=e("./subtypes"),l=e("./colorscale_calc"),u=e("./arrays_to_calcdata"),c=e("./calc_selection");function f(e,t,n,r,a,i,l){var u=t._length,c=e._fullLayout,f=n._id,d=r._id,h=c._firstScatter[p(t)]===t.uid,v=(m(t,c,n,r)||{}).orientation,g=t.fill;n._minDtick=0,r._minDtick=0;var y={padded:!0},b={padded:!0};l&&(y.ppad=b.ppad=l);var _=u<2||a[0]!==a[u-1]||i[0]!==i[u-1];_&&("tozerox"===g||"tonextx"===g&&(h||"h"===v))?y.tozero=!0:(t.error_y||{}).visible||"tonexty"!==g&&"tozeroy"!==g&&(s.hasMarkers(t)||s.hasText(t))||(y.padded=!1,y.ppad=0),_&&("tozeroy"===g||"tonexty"===g&&(h||"v"===v))?b.tozero=!0:"tonextx"!==g&&"tozerox"!==g||(b.padded=!1),f&&(t._extremes[f]=o.findExtremes(n,a,y)),d&&(t._extremes[d]=o.findExtremes(r,i,b))}function d(e,t){if(s.hasMarkers(e)){var n,r=e.marker,i=1.6*(e.marker.sizeref||1);if(n="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/i),3)}:function(e){return Math.max((e||0)/i,3)},a.isArrayOrTypedArray(r.size)){var l={type:"linear"};o.setConvert(l);for(var u=l.makeCalcdata(e.marker,"size"),c=new Array(t),f=0;f<t;f++)c[f]=n(u[f]);return c}return n(r.size)}}function h(e,t){var n=p(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function p(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function m(e,t,n,r){var a=e.stackgroup;if(a){var o=t._scatterStackOpts[n._id+r._id][a],i="v"===o.orientation?r:n;return"linear"===i.type||"log"===i.type?o:void 0}}t.exports={calc:function(e,t){var n,s,p,v,g,y,b=e._fullLayout,_=o.getFromId(e,t.xaxis||"x"),x=o.getFromId(e,t.yaxis||"y"),w=_.makeCalcdata(t,"x"),k=x.makeCalcdata(t,"y"),A=t._length,T=new Array(A),M=t.ids,E=m(t,b,_,x),C=!1;h(b,t);var S,j="x",O="y";if(E)E.traceIndices.push(t.index),(n="v"===E.orientation)?(O="s",S="x"):(j="s",S="y"),g="interpolate"===E.stackgaps;else{var P=d(t,A);f(e,t,_,x,w,k,P)}for(s=0;s<A;s++){var N=T[s]={},I=r(w[s]),L=r(k[s]);I&&L?(N[j]=w[s],N[O]=k[s]):E&&(n?I:L)?(N[S]=n?w[s]:k[s],N.gap=!0,g?(N.s=i,C=!0):N.s=0):N[j]=N[O]=i,M&&(N.id=String(M[s]))}if(u(T,t),l(t),c(T,t),E){for(s=0;s<T.length;)T[s][S]===i?T.splice(s,1):s++;if(a.sort(T,function(e,t){return e[S]-t[S]||e.i-t.i}),C){for(s=0;s<T.length-1&&T[s].gap;)s++;for((y=T[s].s)||(y=T[s].s=0),p=0;p<s;p++)T[p].s=y;for(v=T.length-1;v>s&&T[v].gap;)v--;for(y=T[v].s,p=T.length-1;p>v;p--)T[p].s=y;for(;s<v;)if(T[++s].gap){for(p=s+1;T[p].gap;)p++;for(var D=T[s-1][S],R=T[s-1].s,z=(T[p].s-R)/(T[p][S]-D);s<p;)T[s].s=R+(T[s][S]-D)*z,s++}}}return T},calcMarkerSize:d,calcAxisExpansion:f,setFirstScatter:h,getStackOpts:m}},{"../../constants/numerical":419,"../../lib":440,"../../plots/cartesian/axes":488,"./arrays_to_calcdata":592,"./calc_selection":595,"./colorscale_calc":597,"./subtypes":617,"fast-isnumeric":149}],595:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}},{"../../lib":440}],596:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var a=t-1;a>=0;a--){var o=e[a];if("scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},{}],597:[function(e,t,n){"use strict";var r=e("../../components/colorscale/has_colorscale"),a=e("../../components/colorscale/calc"),o=e("./subtypes");t.exports=function(e){o.hasLines(e)&&r(e,"line")&&a(e,e.line.color,"line","c"),o.hasMarkers(e)&&(r(e,"marker")&&a(e,e.marker.color,"marker","c"),r(e,"marker.line")&&a(e,e.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":326,"../../components/colorscale/has_colorscale":332,"./subtypes":617}],598:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20}},{}],599:[function(e,t,n){"use strict";var r=e("./calc");function a(e,t,n,r,a,o,i){a[r]=!0;var s={i:null,gap:!0,s:0};if(s[i]=n,e.splice(t,0,s),t&&n===e[t-1][i]){var l=e[t-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else o&&(s.s=function(e,t,n,r){var a=e[t-1],o=e[t+1];return o?a?a.s+(o.s-a.s)*(n-a[r])/(o[r]-a[r]):o.s:a.s}(e,t,n,i));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}t.exports=function(e,t){var n=t.xaxis,o=t.yaxis,i=n._id+o._id,s=e._fullLayout._scatterStackOpts[i];if(s){var l,u,c,f,d,h,p,m,v,g,y,b,_,x,w,k=e.calcdata;for(var A in s){var T=(g=s[A]).traceIndices;if(T.length){for(y="interpolate"===g.stackgaps,b=g.groupnorm,"v"===g.orientation?(_="x",x="y"):(_="y",x="x"),w=new Array(T.length),l=0;l<w.length;l++)w[l]=!1;h=k[T[0]];var M=new Array(h.length);for(l=0;l<h.length;l++)M[l]=h[l][_];for(l=1;l<T.length;l++){for(d=k[T[l]],u=c=0;u<d.length;u++){for(p=d[u][_];p>M[c]&&c<M.length;c++)a(d,u,M[c],l,w,y,_),u++;if(p!==M[c]){for(f=0;f<l;f++)a(k[T[f]],c,p,f,w,y,_);M.splice(c,0,p)}c++}for(;c<M.length;c++)a(d,u,M[c],l,w,y,_),u++}var E=M.length;for(u=0;u<h.length;u++){for(m=h[u][x]=h[u].s,l=1;l<T.length;l++)(d=k[T[l]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=E,m+=d[u].s,d[u][x]=m;if(b)for(v=("fraction"===b?m:m/100)||1,l=0;l<T.length;l++){var C=k[T[l]][u];C[x]/=v,C.sNorm=C.s/v}}for(l=0;l<T.length;l++){var S=(d=k[T[l]])[0].trace,j=r.calcMarkerSize(S,S._rawLength),O=Array.isArray(j);if(j&&w[l]||O){var P=j;for(j=new Array(E),u=0;u<E;u++)j[u]=d[u].gap?0:O?P[d[u].i]:P}var N=new Array(E),I=new Array(E);for(u=0;u<E;u++)N[u]=d[u].x,I[u]=d[u].y;r.calcAxisExpansion(e,S,n,o,N,I,j),d[0].t.orientation=g.orientation}}}}}},{"./calc":594}],600:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry"),o=e("./attributes"),i=e("./constants"),s=e("./subtypes"),l=e("./xy_defaults"),u=e("./stack_defaults"),c=e("./marker_defaults"),f=e("./line_defaults"),d=e("./line_shape_defaults"),h=e("./text_defaults"),p=e("./fillcolor_defaults");t.exports=function(e,t,n,m){function v(n,a){return r.coerce(e,t,o,n,a)}var g=l(e,t,m,v);if(g||(t.visible=!1),t.visible){var y=u(e,t,m,v),b=!y&&g<i.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",b),s.hasLines(t)&&(f(e,t,n,m,v),d(e,t,v),v("connectgaps"),v("line.simplify")),s.hasMarkers(t)&&c(e,t,n,m,v,{gradient:!0}),s.hasText(t)&&h(e,t,m,v);var _=[];(s.hasMarkers(t)||s.hasText(t))&&(v("cliponaxis"),v("marker.maxdisplayed"),_.push("points")),v("fill",y?y.fillDflt:"none"),"none"!==t.fill&&(p(e,t,n,v),s.hasLines(t)||d(e,t,v)),"tonext"!==t.fill&&"toself"!==t.fill||_.push("fills"),v("hoveron",_.join("+")||"points");var x=a.getComponentMethod("errorbars","supplyDefaults");x(e,t,n,{axis:"y"}),x(e,t,n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,v)}}},{"../../lib":440,"../../registry":532,"./attributes":593,"./constants":598,"./fillcolor_defaults":602,"./line_defaults":606,"./line_shape_defaults":608,"./marker_defaults":612,"./stack_defaults":615,"./subtypes":617,"./text_defaults":618,"./xy_defaults":619}],601:[function(e,t,n){"use strict";var r=e("../../lib");function a(e){return e||0===e}t.exports=function(e,t,n){var o=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},i=r.extractOption(e,t,"htx","hovertext");if(a(i))return o(i);var s=r.extractOption(e,t,"tx","text");return a(s)?o(s):void 0}},{"../../lib":440}],602:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,o){var i=!1;if(t.marker){var s=t.marker.color,l=(t.marker.line||{}).color;s&&!a(s)?i=s:l&&!a(l)&&(i=l)}o("fillcolor",r.addOpacity((t.line||{}).color||i||n,.5))}},{"../../components/color":318,"../../lib":440}],603:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("./subtypes");t.exports=function(e,t){var n,o;if("lines"===e.mode)return(n=e.line.color)&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var i=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return(o=i&&r.opacity(i)?i:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"")?r.opacity(o)<.3?r.addOpacity(o,.3):o:(n=(e.line||{}).color)&&r.opacity(n)&&a.hasLines(e)&&e.line.width?n:e.fillcolor}},{"../../components/color":318,"./subtypes":617}],604:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/fx"),o=e("../../registry"),i=e("./get_trace_color"),s=e("../../components/color"),l=e("./fill_hover_text");t.exports=function(e,t,n,u){var c=e.cd,f=c[0].trace,d=e.xa,h=e.ya,p=d.c2p(t),m=h.c2p(n),v=[p,m],g=f.hoveron||"",y=-1!==f.mode.indexOf("markers")?3:.5;if(-1!==g.indexOf("points")){var b=function(e){var t=Math.max(y,e.mrc||0),n=d.c2p(e.x)-p,r=h.c2p(e.y)-m;return Math.max(Math.sqrt(n*n+r*r)-t,1-y/t)},_=a.getDistanceFunction(u,function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(d.c2p(e.x)-p);return r<t?n*r/t:r-t+n},function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(h.c2p(e.y)-m);return r<t?n*r/t:r-t+n},b);if(a.getClosest(c,_,e),!1!==e.index){var x=c[e.index],w=d.c2p(x.x,!0),k=h.c2p(x.y,!0),A=x.mrc||1;e.index=x.i;var T=c[0].t.orientation,M=T&&(x.sNorm||x.s),E="h"===T?M:x.x,C="v"===T?M:x.y;return r.extendFlat(e,{color:i(f,x),x0:w-A,x1:w+A,xLabelVal:E,y0:k-A,y1:k+A,yLabelVal:C,spikeDistance:b(x)}),l(x,f,e),o.getComponentMethod("errorbars","hoverInfo")(x,f,e),[e]}}if(-1!==g.indexOf("fills")&&f._polygons){var S,j,O,P,N,I,L,D,R,z=f._polygons,F=[],B=!1,U=1/0,H=-1/0,q=1/0,V=-1/0;for(S=0;S<z.length;S++)(O=z[S]).contains(v)&&(B=!B,F.push(O),q=Math.min(q,O.ymin),V=Math.max(V,O.ymax));if(B){q=Math.max(q,0),V=Math.min(V,h._length);var W=(q+V)/2;for(S=0;S<F.length;S++)for(P=F[S].pts,j=1;j<P.length;j++)D=P[j-1][1],R=P[j][1],D>W!=R>=W&&(I=P[j-1][0],L=P[j][0],R-D&&(N=I+(L-I)*(W-D)/(R-D),U=Math.min(U,N),H=Math.max(H,N)));U=Math.max(U,0),H=Math.min(H,d._length);var G=s.defaultLine;return s.opacity(f.fillcolor)?G=f.fillcolor:s.opacity((f.line||{}).color)&&(G=f.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:U,x1:H,y0:W,y1:W,color:G}),delete e.index,f.text&&!Array.isArray(f.text)?e.text=String(f.text):e.text=f.name,[e]}}}},{"../../components/color":318,"../../components/fx":360,"../../lib":440,"../../registry":532,"./fill_hover_text":601,"./get_trace_color":603}],605:[function(e,t,n){"use strict";var r={},a=e("./subtypes");r.hasLines=a.hasLines,r.hasMarkers=a.hasMarkers,r.hasText=a.hasText,r.isBubble=a.isBubble,r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.cleanData=e("./clean_data"),r.calc=e("./calc").calc,r.crossTraceCalc=e("./cross_trace_calc"),r.arraysToCalcdata=e("./arrays_to_calcdata"),r.plot=e("./plot"),r.colorbar=e("./marker_colorbar"),r.style=e("./style").style,r.styleOnSelect=e("./style").styleOnSelect,r.hoverPoints=e("./hover"),r.selectPoints=e("./select"),r.animatable=!0,r.moduleType="trace",r.name="scatter",r.basePlotModule=e("../../plots/cartesian"),r.categories=["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],r.meta={},t.exports=r},{"../../plots/cartesian":499,"./arrays_to_calcdata":592,"./attributes":593,"./calc":594,"./clean_data":596,"./cross_trace_calc":599,"./defaults":600,"./hover":604,"./marker_colorbar":611,"./plot":613,"./select":614,"./style":616,"./subtypes":617}],606:[function(e,t,n){"use strict";var r=e("../../lib").isArrayOrTypedArray,a=e("../../components/colorscale/has_colorscale"),o=e("../../components/colorscale/defaults");t.exports=function(e,t,n,i,s,l){var u=(e.marker||{}).color;if(s("line.color",n),a(e,"line"))o(e,t,i,s,{prefix:"line.",cLetter:"c",noScale:!0});else{var c=!r(u)&&u||n;s("line.color",c)}s("line.width"),(l||{}).noDash||s("line.dash")}},{"../../components/colorscale/defaults":328,"../../components/colorscale/has_colorscale":332,"../../lib":440}],607:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),a=r.BADNUM,o=r.LOG_CLIP,i=o+.5,s=o-.5,l=e("../../lib"),u=l.segmentsIntersect,c=l.constrain,f=e("./constants");t.exports=function(e,t){var n,r,o,d,h,p,m,v,g,y,b,_,x,w,k,A,T,M,E=t.xaxis,C=t.yaxis,S="log"===E.type,j="log"===C.type,O=E._length,P=C._length,N=t.connectGaps,I=t.baseTolerance,L=t.shape,D="linear"===L,R=[],z=f.minTolerance,F=new Array(e.length),B=0;function U(t){var n=e[t];if(!n)return!1;var r=E.c2p(n.x),o=C.c2p(n.y);if(r===a){if(S&&(r=E.c2p(n.x,!0)),r===a)return!1;j&&o===a&&(r*=Math.abs(E._m*P*(E._m>0?i:s)/(C._m*O*(C._m>0?i:s)))),r*=1e3}if(o===a){if(j&&(o=C.c2p(n.y,!0)),o===a)return!1;o*=1e3}return[r,o]}function H(e,t,n,r){var a=n-e,o=r-t,i=.5-e,s=.5-t,l=a*a+o*o,u=a*i+o*s;if(u>0&&u<l){var c=i*o-s*a;if(c*c<l)return!0}}function q(e,t){var n=e[0]/O,r=e[1]/P,a=Math.max(0,-n,n-1,-r,r-1);return a&&void 0!==T&&H(n,r,T,M)&&(a=0),a&&t&&H(n,r,t[0]/O,t[1]/P)&&(a=0),(1+f.toleranceGrowth*a)*I}function V(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var W,G,X,Y,K,Z,J,Q=f.maxScreensAway,$=-O*Q,ee=O*(1+Q),te=-P*Q,ne=P*(1+Q),re=[[$,te,ee,te],[ee,te,ee,ne],[ee,ne,$,ne],[$,ne,$,te]];function ae(e){if(e[0]<$||e[0]>ee||e[1]<te||e[1]>ne)return[c(e[0],$,ee),c(e[1],te,ne)]}function oe(e,t){return e[0]===t[0]&&(e[0]===$||e[0]===ee)||e[1]===t[1]&&(e[1]===te||e[1]===ne)||void 0}function ie(e,t,n){return function(r,a){var o=ae(r),i=ae(a),s=[];if(o&&i&&oe(o,i))return s;o&&s.push(o),i&&s.push(i);var u=2*l.constrain((r[e]+a[e])/2,t,n)-((o||r)[e]+(i||a)[e]);return u&&((o&&i?u>0==o[e]>i[e]?o:i:o||i)[e]+=u),s}}function se(e){var t=e[0],n=e[1],r=t===F[B-1][0],a=n===F[B-1][1];if(!r||!a)if(B>1){var o=t===F[B-2][0],i=n===F[B-2][1];r&&(t===$||t===ee)&&o?i?B--:F[B-1]=e:a&&(n===te||n===ne)&&i?o?B--:F[B-1]=e:F[B++]=e}else F[B++]=e}function le(e){F[B-1][0]!==e[0]&&F[B-1][1]!==e[1]&&se([X,Y]),se(e),K=null,X=Y=0}function ue(e){if(T=e[0]/O,M=e[1]/P,W=e[0]<$?$:e[0]>ee?ee:0,G=e[1]<te?te:e[1]>ne?ne:0,W||G){if(B)if(K){var t=J(K,e);t.length>1&&(le(t[0]),F[B++]=t[1])}else Z=J(F[B-1],e)[0],F[B++]=Z;else F[B++]=[W||e[0],G||e[1]];var n=F[B-1];W&&G&&(n[0]!==W||n[1]!==G)?(K&&(X!==W&&Y!==G?se(X&&Y?function(e,t){var n=t[0]-e[0],r=(t[1]-e[1])/n;return(e[1]*t[0]-t[1]*e[0])/n>0?[r>0?$:ee,ne]:[r>0?ee:$,te]}(K,e):[X||W,Y||G]):X&&Y&&se([X,Y])),se([W,G])):X-W&&Y-G&&se([W||X,G||Y]),K=e,X=W,Y=G}else K&&le(J(K,e)[0]),F[B++]=e}for("linear"===L||"spline"===L?J=function(e,t){for(var n=[],r=0,a=0;a<4;a++){var o=re[a],i=u(e[0],e[1],t[0],t[1],o[0],o[1],o[2],o[3]);i&&(!r||Math.abs(i.x-n[0][0])>1||Math.abs(i.y-n[0][1])>1)&&(i=[i.x,i.y],r&&V(i,e)<V(n[0],e)?n.unshift(i):n.push(i),r++)}return n}:"hv"===L||"vh"===L?J=function(e,t){var n=[],r=ae(e),a=ae(t);return r&&a&&oe(r,a)?n:(r&&n.push(r),a&&n.push(a),n)}:"hvh"===L?J=ie(0,$,ee):"vhv"===L&&(J=ie(1,te,ne)),n=0;n<e.length;n++)if(r=U(n)){for(B=0,K=null,ue(r),n++;n<e.length;n++){if(!(d=U(n))){if(N)continue;break}if(D&&t.simplify){var ce=U(n+1);if(!((y=V(d,r))<q(d,ce)*z)){for(v=[(d[0]-r[0])/y,(d[1]-r[1])/y],h=r,b=y,_=w=k=0,m=!1,o=d,n++;n<e.length;n++){if(p=ce,ce=U(n+1),!p){if(N)continue;break}if(g=[p[0]-r[0],p[1]-r[1]],A=g[0]*v[1]-g[1]*v[0],w=Math.min(w,A),(k=Math.max(k,A))-w>q(p,ce))break;o=p,(x=g[0]*v[0]+g[1]*v[1])>b?(b=x,d=p,m=!1):x<_&&(_=x,h=p,m=!0)}if(m?(ue(d),o!==h&&ue(h)):(h!==r&&ue(h),o!==d&&ue(d)),ue(o),n>=e.length||!p)break;ue(p),r=p}}else ue(d)}K&&se([X||K[0],Y||K[1]]),R.push(F.slice(0,B))}return R}},{"../../constants/numerical":419,"../../lib":440,"./constants":598}],608:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=n("line.shape");"spline"===r&&n("line.smoothing")}},{}],609:[function(e,t,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(e,t,n){var a,o,i,s,l,u={},c=!1,f=-1,d=0,h=-1;for(o=0;o<n.length;o++)a=n[o][0].trace,(i=a.stackgroup||"")?i in u?l=u[i]:(l=u[i]=d,d++):a.fill in r&&h>=0?l=h:(l=h=d,d++),l<f&&(c=!0),a._groupIndex=f=l;var p=n.slice();c&&p.sort(function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index});var m={};for(o=0;o<p.length;o++)a=p[o][0].trace,i=a.stackgroup||"",!0===a.visible?(a._nexttrace=null,a.fill in r&&(s=m[i],a._prevtrace=s||null,s&&(s._nexttrace=a)),m[i]=a):a._prevtrace=a._nexttrace=null;return p}},{}],610:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,a=t.sizemin||0,o="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=o(e/2);return r(t)&&t>0?Math.max(t,a):0}}},{"fast-isnumeric":149}],611:[function(e,t,n){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},{}],612:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("../../components/colorscale/has_colorscale"),o=e("../../components/colorscale/defaults"),i=e("./subtypes");t.exports=function(e,t,n,s,l,u){var c,f=i.isBubble(e),d=(e.line||{}).color;if(u=u||{},d&&(n=d),l("marker.symbol"),l("marker.opacity",f?.7:1),l("marker.size"),l("marker.color",n),a(e,"marker")&&o(e,t,s,l,{prefix:"marker.",cLetter:"c"}),u.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),u.noLine||(c=d&&!Array.isArray(d)&&t.marker.color!==d?d:f?r.background:r.defaultLine,l("marker.line.color",c),a(e,"marker.line")&&o(e,t,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",f?1:0)),f&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),u.gradient){var h=l("marker.gradient.type");"none"!==h&&l("marker.gradient.color")}}},{"../../components/color":318,"../../components/colorscale/defaults":328,"../../components/colorscale/has_colorscale":332,"./subtypes":617}],613:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),o=e("../../lib"),i=o.ensureSingle,s=o.identity,l=e("../../components/drawing"),u=e("./subtypes"),c=e("./line_points"),f=e("./link_traces"),d=e("../../lib/polygon").tester;function h(e,t,n,f,h,p,m){var v;!function(e,t,n,a,i){var s=n.xaxis,l=n.yaxis,c=r.extent(o.simpleMap(s.range,s.r2c)),f=r.extent(o.simpleMap(l.range,l.r2c)),d=a[0].trace;if(u.hasMarkers(d)){var h=d.marker.maxdisplayed;if(0!==h){var p=a.filter(function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=f[0]&&e.y<=f[1]}),m=Math.ceil(p.length/h),v=0;i.forEach(function(e,n){var r=e[0].trace;u.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&v++});var g=Math.round(v*m/3+Math.floor(v/3)*m/7.1);a.forEach(function(e){delete e.vis}),p.forEach(function(e,t){0===Math.round((t+g)%m)&&(e.vis=!0)})}}}(0,t,n,f,h);var g=!!m&&m.duration>0;function y(e){return g?e.transition():e}var b=n.xaxis,_=n.yaxis,x=f[0].trace,w=x.line,k=r.select(p),A=i(k,"g","errorbars"),T=i(k,"g","lines"),M=i(k,"g","points"),E=i(k,"g","text");if(a.getComponentMethod("errorbars","plot")(A,n,m),!0===x.visible){var C,S;y(k).style("opacity",x.opacity);var j=x.fill.charAt(x.fill.length-1);"x"!==j&&"y"!==j&&(j=""),n.isRangePlot||(f[0].node3=k);var O="",P=[],N=x._prevtrace;N&&(O=N._prevRevpath||"",S=N._nextFill,P=N._polygons);var I,L,D,R,z,F,B,U,H,q="",V="",W=[],G=o.noop;if(C=x._ownFill,u.hasLines(x)||"none"!==x.fill){for(S&&S.datum(f),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(D=l.steps(w.shape),R=l.steps(w.shape.split("").reverse().join(""))):D=R="spline"===w.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?l.smoothclosed(e.slice(1),w.smoothing):l.smoothopen(e,w.smoothing)}:function(e){return"M"+e.join("L")},z=function(e){return R(e.reverse())},W=c(f,{xaxis:b,yaxis:_,connectGaps:x.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify}),H=x._polygons=new Array(W.length),v=0;v<W.length;v++)x._polygons[v]=d(W[v]);W.length&&(F=W[0][0],B=W[W.length-1],U=B[B.length-1]),G=function(e){return function(t){if(I=D(t),L=z(t),q?j?(q+="L"+I.substr(1),V=L+"L"+V.substr(1)):(q+="Z"+I,V=L+"Z"+V):(q=I,V=L),u.hasLines(x)&&t.length>1){var n=r.select(this);if(n.datum(f),e)y(n.style("opacity",0).attr("d",I).call(l.lineGroupStyle)).style("opacity",1);else{var a=y(n);a.attr("d",I),l.singleLineStyle(f,a)}}}}}var X=T.selectAll(".js-line").data(W);y(X.exit()).style("opacity",0).remove(),X.each(G(!1)),X.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(G(!0)),l.setClipUrl(X,n.layerClipId),W.length?(C?(C.datum(f),F&&U&&(j?("y"===j?F[1]=U[1]=_.c2p(0,!0):"x"===j&&(F[0]=U[0]=b.c2p(0,!0)),y(C).attr("d","M"+U+"L"+F+"L"+q.substr(1)).call(l.singleFillStyle)):y(C).attr("d",q+"Z").call(l.singleFillStyle))):S&&("tonext"===x.fill.substr(0,6)&&q&&O?("tonext"===x.fill?y(S).attr("d",q+"Z"+O+"Z").call(l.singleFillStyle):y(S).attr("d",q+"L"+O.substr(1)+"Z").call(l.singleFillStyle),x._polygons=x._polygons.concat(P)):(Z(S),x._polygons=null)),x._prevRevpath=V,x._prevPolygons=H):(C?Z(C):S&&Z(S),x._polygons=x._prevRevpath=x._prevPolygons=null),M.datum(f),E.datum(f),function(t,a,o){var i,c,f=o[0].trace,d=u.hasMarkers(f),h=u.hasText(f),p=te(f),m=ne,v=ne;if(d||h){var x=s,w=f.stackgroup,k=w&&"infer zero"===e._fullLayout._scatterStackOpts[b._id+_._id][w].stackgaps;f.marker.maxdisplayed||f._needsCull?x=k?Q:J:w&&!k&&(x=$),d&&(m=x),h&&(v=x)}c=t.selectAll("path.point");var A,T=(i=c.data(m,p)).enter().append("path").classed("point",!0);g&&T.call(l.pointStyle,f,e).call(l.translatePoints,b,_).style("opacity",0).transition().style("opacity",1),i.order(),d&&(A=l.makePointStyleFns(f)),i.each(function(t){var a=r.select(this),o=y(a);l.translatePoint(t,o,b,_)?(l.singlePointStyle(t,o,f,A,e),n.layerClipId&&l.hideOutsideRangePoint(t,o,b,_,f.xcalendar,f.ycalendar),f.customdata&&a.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):o.remove()}),g?i.exit().transition().style("opacity",0).remove():i.exit().remove(),c=a.selectAll("g"),(i=c.data(v,p)).enter().append("g").classed("textpoint",!0).append("text"),i.order(),i.each(function(e){var t=r.select(this),a=y(t.select("text"));l.translatePoint(e,a,b,_)?n.layerClipId&&l.hideOutsideRangePoint(e,t,b,_,f.xcalendar,f.ycalendar):t.remove()}),i.selectAll("text").call(l.textPointStyle,f,e).each(function(e){var t=b.c2p(e.x),n=_.c2p(e.y);r.select(this).selectAll("tspan.line").each(function(){y(r.select(this)).attr({x:t,y:n})})}),i.exit().remove()}(M,E,f);var Y=!1===x.cliponaxis,K=Y?null:n.layerClipId;l.setClipUrl(M,K),l.setClipUrl(E,K)}function Z(e){y(e).attr("d","M0,0Z")}function J(e){return e.filter(function(e){return!e.gap&&e.vis})}function Q(e){return e.filter(function(e){return e.vis})}function $(e){return e.filter(function(e){return!e.gap})}function ee(e){return e.id}function te(e){if(e.ids)return ee}function ne(){return!1}}t.exports=function(e,t,n,a,o,u){var c,d,p=!o,m=!!o&&o.duration>0,v=f(e,t,n);if((c=a.selectAll("g.trace").data(v,function(e){return e[0].trace.uid})).enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),c.order(),function(e,t,n){t.each(function(e){var t=i(r.select(this),"g","fills");l.setClipUrl(t,n.layerClipId);var a=e[0].trace,o=[];a.fill&&("tozero"===a.fill.substr(0,6)||"toself"===a.fill||"to"===a.fill.substr(0,2)&&!a._prevtrace)&&(o=["_ownFill"]),a._nexttrace&&o.push("_nextFill");var u=t.selectAll("g").data(o,s);u.enter().append("g"),u.exit().each(function(e){a[e]=null}).remove(),u.order().each(function(e){a[e]=i(r.select(this),"path","js-fill")})})}(0,c,t),m){u&&(d=u());var g=r.transition().duration(o.duration).ease(o.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()});g.each(function(){a.selectAll("g.trace").each(function(n,r){h(e,r,t,n,v,this,o)})})}else c.each(function(n,r){h(e,r,t,n,v,this,o)});p&&c.exit().remove(),a.selectAll("path:not([d])").remove()}},{"../../components/drawing":343,"../../lib":440,"../../lib/polygon":453,"../../registry":532,"./line_points":607,"./link_traces":609,"./subtypes":617,d3:85}],614:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports=function(e,t){var n,a,o,i,s=e.cd,l=e.xaxis,u=e.yaxis,c=[],f=s[0].trace,d=!r.hasMarkers(f)&&!r.hasText(f);if(d)return[];if(!1===t)for(n=0;n<s.length;n++)s[n].selected=0;else for(n=0;n<s.length;n++)a=s[n],o=l.c2p(a.x),i=u.c2p(a.y),null!==a.i&&t.contains([o,i],!1,n,e)?(c.push({pointNumber:a.i,x:l.c2d(a.x),y:u.c2d(a.y)}),a.selected=1):a.selected=0;return c}},{"./subtypes":617}],615:[function(e,t,n){"use strict";var r=["orientation","groupnorm","stackgaps"];t.exports=function(e,t,n,a){var o=n._scatterStackOpts,i=a("stackgroup");if(i){var s=t.xaxis+t.yaxis,l=o[s];l||(l=o[s]={});var u=l[i],c=!1;u?u.traces.push(t):(u=l[i]={traceIndices:[],traces:[t]},c=!0);for(var f={orientation:t.x&&!t.y?"h":"v"},d=0;d<r.length;d++){var h=r[d],p=h+"Found";if(!u[p]){var m=void 0!==e[h],v="orientation"===h;if((m||c)&&(u[h]=a(h,f[h]),v&&(u.fillDflt="h"===u[h]?"tonextx":"tonexty"),m&&(u[p]=!0,!c&&(delete u.traces[0][h],v))))for(var g=0;g<u.traces.length-1;g++){var y=u.traces[g];y._input.fill!==y.fill&&(y.fill=u.fillDflt)}}}return u}}},{}],616:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../components/drawing"),o=e("../../registry");function i(e,t,n){a.pointStyle(e.selectAll("path.point"),t,n)}function s(e,t,n){a.textPointStyle(e.selectAll("text"),t,n)}t.exports={style:function(e,t){var n=t?t[0].node3:r.select(e).selectAll("g.trace.scatter");n.style("opacity",function(e){return e[0].trace.opacity}),n.selectAll("g.points").each(function(t){var n=r.select(this),a=t.trace||t[0].trace;i(n,a,e)}),n.selectAll("g.text").each(function(t){var n=r.select(this),a=t.trace||t[0].trace;s(n,a,e)}),n.selectAll("g.trace path.js-line").call(a.lineGroupStyle),n.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),o.getComponentMethod("errorbars","style")(n)},stylePoints:i,styleText:s,styleOnSelect:function(e,t){var n=t[0].node3,r=t[0].trace;r.selectedpoints?(a.selectedPointStyle(n.selectAll("path.point"),r),a.selectedTextStyle(n.selectAll("text"),r)):(i(n,r,e),s(n,r,e))}}},{"../../components/drawing":343,"../../registry":532,d3:85}],617:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}},{"../../lib":440}],618:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,a,o){o=o||{},a("textposition"),r.coerceFont(a,"textfont",n.font),o.noSelect||(a("selected.textfont.color"),a("unselected.textfont.color"))}},{"../../lib":440}],619:[function(e,t,n){"use strict";var r=e("../../registry");t.exports=function(e,t,n,a){var o,i=a("x"),s=a("y"),l=r.getComponentMethod("calendars","handleTraceDefaults");if(l(e,t,["x","y"],n),i)s?o=Math.min(i.length,s.length):(o=i.length,a("y0"),a("dy"));else{if(!s)return 0;o=t.y.length,a("x0"),a("dx")}return t._length=o,o}},{"../../registry":532}],620:[function(e,t,n){"use strict";var r=e("../scatter/arrays_to_calcdata"),a=e("../scatter/colorscale_calc");t.exports=function(e,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return r(n,t),a(t),n}},{"../scatter/arrays_to_calcdata":592,"../scatter/colorscale_calc":597}],621:[function(e,t,n){"use strict";var r=e("../../plots/attributes"),a=e("../scatter/attributes"),o=e("../../components/colorscale/attributes"),i=e("../../lib/extend").extendFlat,s=e("../../plot_api/edit_types").overrideAll,l=e("./constants").DASHES,u=a.line,c=a.marker,f=c.line,d=t.exports=s({x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,text:i({},a.text,{}),hovertext:a.hovertext,textposition:a.textposition,textfont:a.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:u.color,width:u.width,dash:{valType:"enumerated",values:Object.keys(l),dflt:"solid"}},marker:i({},o("marker"),{symbol:c.symbol,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:c.opacity,colorbar:c.colorbar,line:i({},o("marker.line"),{width:f.width})}),connectgaps:a.connectgaps,fill:i({},a.fill,{dflt:"none"}),fillcolor:a.fillcolor,selected:{marker:a.selected.marker,textfont:a.selected.textfont},unselected:{marker:a.unselected.marker,textfont:a.unselected.textfont},opacity:r.opacity},"calc","nested");d.x.editType=d.y.editType=d.x0.editType=d.y0.editType="calc+clearAxisTypes"},{"../../components/colorscale/attributes":325,"../../lib/extend":431,"../../plot_api/edit_types":471,"../../plots/attributes":485,"../scatter/attributes":593,"./constants":622}],622:[function(e,t,n){"use strict";t.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},{}],623:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("svg-path-sdf"),o=e("color-normalize"),i=e("../../registry"),s=e("../../lib"),l=e("../../components/drawing"),u=e("../../plots/cartesian/axis_ids"),c=e("../../lib/gl_format_color").formatColor,f=e("../scatter/subtypes"),d=e("../scatter/make_bubble_size_func"),h=e("./constants"),p=e("../../constants/interactions").DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1};function v(e){var t,n=e._length,a=e.textfont,o=e.textposition,i=Array.isArray(o)?o:[o],s=a.color,l=a.size,u=a.family,c={};for(c.text=e.text,c.opacity=e.opacity,c.font={},c.align=[],c.baseline=[],t=0;t<i.length;t++){var f=i[t].split(/\s+/);switch(f[1]){case"left":c.align.push("right");break;case"right":c.align.push("left");break;default:c.align.push(f[1])}switch(f[0]){case"top":c.baseline.push("bottom");break;case"bottom":c.baseline.push("top");break;default:c.baseline.push(f[0])}}if(Array.isArray(s))for(c.color=new Array(n),t=0;t<n;t++)c.color[t]=s[t];else c.color=s;if(Array.isArray(l)||Array.isArray(u))for(c.font=new Array(n),t=0;t<n;t++){var d=c.font[t]={};d.size=Array.isArray(l)?r(l[t])?l[t]:0:l,d.family=Array.isArray(u)?u[t]:u}else c.font={size:l,family:u};return c}function g(e){var t,n,r=e._length,a=e.marker,i={},l=Array.isArray(a.symbol),u=s.isArrayOrTypedArray(a.color),f=s.isArrayOrTypedArray(a.line.color),p=s.isArrayOrTypedArray(a.opacity),m=s.isArrayOrTypedArray(a.size),v=s.isArrayOrTypedArray(a.line.width);if(l||(n=h.OPEN_RE.test(a.symbol)),l||u||f||p){i.colors=new Array(r),i.borderColors=new Array(r);var g=c(a,a.opacity,r),y=c(a.line,a.opacity,r);if(!Array.isArray(y[0])){var b=y;for(y=Array(r),t=0;t<r;t++)y[t]=b}if(!Array.isArray(g[0])){var _=g;for(g=Array(r),t=0;t<r;t++)g[t]=_}for(i.colors=g,i.borderColors=y,t=0;t<r;t++){if(l){var x=a.symbol[t];n=h.OPEN_RE.test(x)}n&&(y[t]=g[t].slice(),g[t]=g[t].slice(),g[t][3]=0)}i.opacity=e.opacity}else n?(i.color=o(a.color,"uint8"),i.color[3]=0,i.borderColor=o(a.color,"uint8")):(i.color=o(a.color,"uint8"),i.borderColor=o(a.line.color,"uint8")),i.opacity=e.opacity*a.opacity;if(l)for(i.markers=new Array(r),t=0;t<r;t++)i.markers[t]=M(a.symbol[t]);else i.marker=M(a.symbol);var w,k=d(e);if(m||v){var A,T=i.sizes=new Array(r),E=i.borderSizes=new Array(r),C=0;if(m){for(t=0;t<r;t++)T[t]=k(a.size[t]),C+=T[t];A=C/r}else for(w=k(a.size),t=0;t<r;t++)T[t]=w;if(v)for(t=0;t<r;t++)E[t]=a.line.width[t]/2;else for(w=a.line.width/2,t=0;t<r;t++)E[t]=w;i.sizeAvg=A}else i.size=k(a&&a.size||10),i.borderSizes=k(a.line.width);return i}function y(e,t){var n=e.marker,r={};return t?(t.marker&&t.marker.symbol?r=g(s.extendFlat({},n,t.marker)):t.marker&&(t.marker.size&&(r.size=t.marker.size/2),t.marker.color&&(r.colors=t.marker.color),void 0!==t.marker.opacity&&(r.opacity=t.marker.opacity)),r):r}function b(e,t){var n={};if(!t)return n;if(t.textfont){var r={opacity:1,text:e.text,textposition:e.textposition,textfont:s.extendFlat({},e.textfont)};t.textfont&&s.extendFlat(r.textfont,t.textfont),n=v(r)}return n}function _(e,t){var n={capSize:2*t.width,lineWidth:t.thickness,color:t.color};return t.copy_ystyle&&(n=e.error_y),n}var x=h.SYMBOL_SDF_SIZE,w=h.SYMBOL_SIZE,k=h.SYMBOL_STROKE,A={},T=l.symbolFuncs[0](.05*w);function M(e){if("circle"===e)return null;var t,n,r=l.symbolNumber(e),o=l.symbolFuncs[r%100],i=!!l.symbolNoDot[r%100],s=!!l.symbolNoFill[r%100],u=h.DOT_RE.test(e);return A[e]?A[e]:(t=u&&!i?o(1.1*w)+T:o(w),n=a(t,{w:x,h:x,viewBox:[-w,-w,w,w],stroke:s?k:-k}),A[e]=n,n||null)}t.exports={style:function(e,t){var n,r={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0};if(!0!==t.visible)return r;if(f.hasText(t)&&(r.text=v(t),r.textSel=b(t,t.selected),r.textUnsel=b(t,t.unselected)),f.hasMarkers(t)&&(r.marker=g(t),r.markerSel=y(t,t.selected),r.markerUnsel=y(t,t.unselected),!t.unselected&&Array.isArray(t.marker.opacity))){var a=t.marker.opacity;for(r.markerUnsel.opacity=new Array(a.length),n=0;n<a.length;n++)r.markerUnsel.opacity[n]=p*a[n]}if(f.hasLines(t)){r.line={overlay:!0,thickness:t.line.width,color:t.line.color,opacity:t.opacity};var o=(h.DASHES[t.line.dash]||[1]).slice();for(n=0;n<o.length;++n)o[n]*=t.line.width;r.line.dashes=o}return t.error_x&&t.error_x.visible&&(r.errorX=_(t,t.error_x)),t.error_y&&t.error_y.visible&&(r.errorY=_(t,t.error_y)),t.fill&&"none"!==t.fill&&(r.fill={closed:!0,fill:t.fillcolor,thickness:0}),r},markerStyle:g,markerSelection:y,linePositions:function(e,t,n){var r,a,o=n.length/2;if(f.hasLines(t)&&o)if("hv"===t.line.shape){for(r=[],a=0;a<o-1;a++)isNaN(n[2*a])||isNaN(n[2*a+1])?(r.push(NaN),r.push(NaN),r.push(NaN),r.push(NaN)):(r.push(n[2*a]),r.push(n[2*a+1]),r.push(n[2*a+2]),r.push(n[2*a+1]));r.push(n[n.length-2]),r.push(n[n.length-1])}else if("vh"===t.line.shape){for(r=[],a=0;a<o-1;a++)isNaN(n[2*a])||isNaN(n[2*a+1])?(r.push(NaN),r.push(NaN),r.push(NaN),r.push(NaN)):(r.push(n[2*a]),r.push(n[2*a+1]),r.push(n[2*a]),r.push(n[2*a+3]));r.push(n[n.length-2]),r.push(n[n.length-1])}else r=n;var i=!1;for(a=0;a<r.length;a++)if(isNaN(r[a])){i=!0;break}var s=i||r.length>h.TOO_MANY_POINTS?"rect":f.hasMarkers(t)?"rect":"round";if(i&&t.connectgaps){var l=r[0],u=r[1];for(a=0;a<r.length;a+=2)isNaN(r[a])||isNaN(r[a+1])?(r[a]=l,r[a+1]=u):(l=r[a],u=r[a+1])}return{join:s,positions:r}},errorBarPositions:function(e,t,n,a,o){var s=i.getComponentMethod("errorbars","makeComputeError"),l=u.getFromId(e,t.xaxis),c=u.getFromId(e,t.yaxis),f=n.length/2,d={};function h(e,a){var o=a._id.charAt(0),i=t["error_"+o];if(i&&i.visible&&("linear"===a.type||"log"===a.type)){for(var l=s(i),u={x:0,y:1}[o],c={x:[0,1,2,3],y:[2,3,0,1]}[o],h=new Float64Array(4*f),p=1/0,m=-1/0,v=0,g=0;v<f;v++,g+=4){var y=e[v];if(r(y)){var b=n[2*v+u],_=l(y,v),x=_[0],w=_[1];if(r(x)&&r(w)){var k=y-x,A=y+w;h[g+c[0]]=b-a.c2l(k),h[g+c[1]]=a.c2l(A)-b,h[g+c[2]]=0,h[g+c[3]]=0,p=Math.min(p,y-x),m=Math.max(m,y+w)}}}d[o]={positions:n,errors:h,_bnds:[p,m]}}}return h(a,l),h(o,c),d},textPosition:function(e,t,n,r){var a,o=t._length,i={};if(f.hasMarkers(t)){var s=n.font,l=n.align,u=n.baseline;for(i.offset=new Array(o),a=0;a<o;a++){var c=r.sizes?r.sizes[a]:r.size,d=Array.isArray(s)?s[a].size:s.size,h=Array.isArray(l)?l.length>1?l[a]:l[0]:l,p=Array.isArray(u)?u.length>1?u[a]:u[0]:u,v=m[h],g=m[p],y=c?c/.8+1:0,b=-g*y-.5*g;i.offset[a]=[v*y/d,b/d]}}return i}}},{"../../components/drawing":343,"../../constants/interactions":418,"../../lib":440,"../../lib/gl_format_color":436,"../../plots/cartesian/axis_ids":491,"../../registry":532,"../scatter/make_bubble_size_func":610,"../scatter/subtypes":617,"./constants":622,"color-normalize":63,"fast-isnumeric":149,"svg-path-sdf":281}],624:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry"),o=e("./attributes"),i=e("../scatter/constants"),s=e("../scatter/subtypes"),l=e("../scatter/xy_defaults"),u=e("../scatter/marker_defaults"),c=e("../scatter/line_defaults"),f=e("../scatter/fillcolor_defaults"),d=e("../scatter/text_defaults");t.exports=function(e,t,n,h){function p(n,a){return r.coerce(e,t,o,n,a)}var m=!!e.marker&&/-open/.test(e.marker.symbol),v=s.isBubble(e),g=l(e,t,h,p);if(g){var y=g<i.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",y),s.hasLines(t)&&(p("connectgaps"),c(e,t,n,h,p)),s.hasMarkers(t)&&(u(e,t,n,h,p),p("marker.line.width",m||v?1:0)),s.hasText(t)&&d(e,t,h,p),p("fill"),"none"!==t.fill&&f(e,t,n,p);var b=a.getComponentMethod("errorbars","supplyDefaults");b(e,t,n,{axis:"y"}),b(e,t,n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,p)}else t.visible=!1}},{"../../lib":440,"../../registry":532,"../scatter/constants":598,"../scatter/fillcolor_defaults":602,"../scatter/line_defaults":606,"../scatter/marker_defaults":612,"../scatter/subtypes":617,"../scatter/text_defaults":618,"../scatter/xy_defaults":619,"./attributes":621}],625:[function(e,t,n){"use strict";var r=e("regl-scatter2d"),a=e("regl-line2d"),o=e("regl-error2d"),i=e("point-cluster"),s=e("array-range"),l=e("gl-text"),u=e("../../registry"),c=e("../../lib"),f=e("../../lib/prepare_regl"),d=e("../../plots/cartesian/axis_ids"),h=e("../../plots/cartesian/autorange").findExtremes,p=e("../../components/color"),m=e("../scatter/subtypes"),v=e("../scatter/calc"),g=v.calcMarkerSize,y=v.calcAxisExpansion,b=v.setFirstScatter,_=e("../scatter/colorscale_calc"),x=e("../scatter/link_traces"),w=e("../scatter/get_trace_color"),k=e("../scatter/fill_hover_text"),A=e("./convert"),T=e("../../constants/numerical").BADNUM,M=e("./constants").TOO_MANY_POINTS,E=e("../../constants/interactions").DESELECTDIM;function C(e,t,n){var r=e._extremes[t._id],a=h(t,n._bnds,{padded:!0});r.min=r.min.concat(a.min),r.max=r.max.concat(a.max)}function S(e,t,n,r,a,o){var i=A.style(e,n);if(i.marker&&(i.marker.positions=r),i.line&&r.length>1&&c.extendFlat(i.line,A.linePositions(e,n,r)),i.errorX||i.errorY){var s=A.errorBarPositions(e,n,r,a,o);i.errorX&&c.extendFlat(i.errorX,s.x),i.errorY&&c.extendFlat(i.errorY,s.y)}return i.text&&(c.extendFlat(i.text,{positions:r},A.textPosition(e,n,i.text,i.marker)),c.extendFlat(i.textSel,{positions:r},A.textPosition(e,n,i.text,i.markerSel)),c.extendFlat(i.textUnsel,{positions:r},A.textPosition(e,n,i.text,i.markerUnsel))),i}function j(e,t){var n=t._scene,r={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[]},a={selectBatch:null,unselectBatch:null,fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:null};return t._scene||((n=t._scene={}).init=function(){c.extendFlat(n,a,r)},n.init(),n.update=function(e){var t=c.repeat(e,n.count);if(n.fill2d&&n.fill2d.update(t),n.scatter2d&&n.scatter2d.update(t),n.line2d&&n.line2d.update(t),n.error2d&&n.error2d.update(t.concat(t)),n.select2d&&n.select2d.update(t),n.glText)for(var r=0;r<n.count;r++)n.glText[r].update(e);n.draw()},n.draw=function(){var e;for(e=0;e<n.count;e++)n.fill2d&&n.fillOptions[e]&&n.fill2d.draw(e);for(e=0;e<n.count;e++)n.line2d&&n.lineOptions[e]&&n.line2d.draw(e),n.error2d&&n.errorXOptions[e]&&n.error2d.draw(e),n.error2d&&n.errorYOptions[e]&&n.error2d.draw(e+n.count),!n.scatter2d||!n.markerOptions[e]||n.selectBatch&&n.selectBatch[e]||n.scatter2d.draw(e);for(n.scatter2d&&n.select2d&&n.selectBatch&&(n.select2d.draw(n.selectBatch),n.scatter2d.draw(n.unselectBatch)),e=0;e<n.count;e++)n.glText[e]&&n.textOptions[e]&&n.glText[e].render();n.dirty=!1},n.clear=function(){var r=O(e._fullLayout,t.xaxis,t.yaxis);n.select2d&&P(n.select2d,r);var a=n.scatter2d||n.line2d||(n.glText||[])[0]||n.fill2d||n.error2d;a&&P(a,r)},n.destroy=function(){n.fill2d&&n.fill2d.destroy(),n.scatter2d&&n.scatter2d.destroy(),n.error2d&&n.error2d.destroy(),n.line2d&&n.line2d.destroy(),n.select2d&&n.select2d.destroy(),n.glText&&n.glText.forEach(function(e){e.destroy()}),n.lineOptions=null,n.fillOptions=null,n.markerOptions=null,n.markerSelectedOptions=null,n.markerUnselectedOptions=null,n.errorXOptions=null,n.errorYOptions=null,n.textOptions=null,n.textSelectedOptions=null,n.textUnselectedOptions=null,n.selectBatch=null,n.unselectBatch=null,t._scene=null}),n.dirty||c.extendFlat(n,r),n}function O(e,t,n){var r=e._size,a=e.width,o=e.height;return[r.l+t.domain[0]*r.w,r.b+n.domain[0]*r.h,a-r.r-(1-t.domain[1])*r.w,o-r.t-(1-n.domain[1])*r.h]}function P(e,t){var n=e.regl._gl;n.enable(n.SCISSOR_TEST),n.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)}function N(e,t,n,r){var a=e.xa,o=e.ya,i=e.distance,s=e.dxy,l=e.index,f={pointNumber:l,x:t[l],y:n[l]};f.tx=Array.isArray(r.text)?r.text[l]:r.text,f.htx=Array.isArray(r.hovertext)?r.hovertext[l]:r.hovertext,f.data=Array.isArray(r.customdata)?r.customdata[l]:r.customdata,f.tp=Array.isArray(r.textposition)?r.textposition[l]:r.textposition;var d=r.textfont;d&&(f.ts=Array.isArray(d.size)?d.size[l]:d.size,f.tc=Array.isArray(d.color)?d.color[l]:d.color,f.tf=Array.isArray(d.family)?d.family[l]:d.family);var h=r.marker;h&&(f.ms=c.isArrayOrTypedArray(h.size)?h.size[l]:h.size,f.mo=c.isArrayOrTypedArray(h.opacity)?h.opacity[l]:h.opacity,f.mx=Array.isArray(h.symbol)?h.symbol[l]:h.symbol,f.mc=c.isArrayOrTypedArray(h.color)?h.color[l]:h.color);var p=h&&h.line;p&&(f.mlc=Array.isArray(p.color)?p.color[l]:p.color,f.mlw=c.isArrayOrTypedArray(p.width)?p.width[l]:p.width);var m=h&&h.gradient;m&&"none"!==m.type&&(f.mgt=Array.isArray(m.type)?m.type[l]:m.type,f.mgc=Array.isArray(m.color)?m.color[l]:m.color);var v=a.c2p(f.x,!0),g=o.c2p(f.y,!0),y=f.mrc||1,b=r.hoverlabel;b&&(f.hbg=Array.isArray(b.bgcolor)?b.bgcolor[l]:b.bgcolor,f.hbc=Array.isArray(b.bordercolor)?b.bordercolor[l]:b.bordercolor,f.hts=Array.isArray(b.font.size)?b.font.size[l]:b.font.size,f.htc=Array.isArray(b.font.color)?b.font.color[l]:b.font.color,f.htf=Array.isArray(b.font.family)?b.font.family[l]:b.font.family,f.hnl=Array.isArray(b.namelength)?b.namelength[l]:b.namelength);var _=r.hoverinfo;_&&(f.hi=Array.isArray(_)?_[l]:_);var x={};return x[e.index]=f,c.extendFlat(e,{color:w(r,f),x0:v-y,x1:v+y,xLabelVal:f.x,y0:g-y,y1:g+y,yLabelVal:f.y,cd:x,distance:i,spikeDistance:s}),f.htx?e.text=f.htx:f.tx?e.text=f.tx:r.text&&(e.text=r.text),k(f,r,e),u.getComponentMethod("errorbars","hoverInfo")(f,r,e),e}function I(e){var t,n,r=e[0],a=r.t,o=a._scene,i=a.index,s=o.selectBatch[i],l=o.unselectBatch[i],u=o.textOptions[i],f=o.textSelectedOptions[i]||{},d=o.textUnselectedOptions[i]||{},h=c.extendFlat({},u);if(s&&l){var m=f.color,v=d.color,g=u.color,y=Array.isArray(g);for(h.color=new Array(a.count),t=0;t<s.length;t++)n=s[t],h.color[n]=m||(y?g[n]:g);for(t=0;t<l.length;t++){n=l[t];var b=y?g[n]:g;h.color[n]=v||(m?b:p.addOpacity(b,E))}}o.glText[i].update(h)}t.exports={moduleType:"trace",name:"scattergl",basePlotModule:e("../../plots/cartesian"),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e("./attributes"),supplyDefaults:e("./defaults"),cleanData:e("../scatter/clean_data"),colorbar:e("../scatter/marker_colorbar"),calc:function(e,t){var n,r,a,o=e._fullLayout,s=d.getFromId(e,t.xaxis),l=d.getFromId(e,t.yaxis),u=o._plots[t.xaxis+t.yaxis],c=t._length,f=2*c,h={},p=s.makeCalcdata(t,"x"),m=l.makeCalcdata(t,"y"),v=new Array(f);for(n=0;n<c;n++)r=p[n],a=m[n],v[2*n]=r===T?NaN:r,v[2*n+1]=a===T?NaN:a;if("log"===s.type)for(n=0;n<f;n+=2)v[n]=s.c2l(v[n]);if("log"===l.type)for(n=1;n<f;n+=2)v[n]=l.c2l(v[n]);if("log"!==s.type&&"log"!==l.type)h.tree=i(v);else{var x=h.ids=new Array(c);for(n=0;n<c;n++)x[n]=n}_(t);var w,k=S(e,0,t,v,p,m),A=j(e,u);return b(o,t),c<M?w=g(t,c):k.marker&&(w=2*(k.marker.sizeAvg||Math.max(k.marker.size,3))),y(e,t,s,l,p,m,w),k.errorX&&C(t,s,k.errorX),k.errorY&&C(t,l,k.errorY),k.fill&&!A.fill2d&&(A.fill2d=!0),k.marker&&!A.scatter2d&&(A.scatter2d=!0),k.line&&!A.line2d&&(A.line2d=!0),!k.errorX&&!k.errorY||A.error2d||(A.error2d=!0),k.text&&!A.glText&&(A.glText=!0),k.marker&&c>=M&&(k.marker.cluster=h.tree),A.lineOptions.push(k.line),A.errorXOptions.push(k.errorX),A.errorYOptions.push(k.errorY),A.fillOptions.push(k.fill),A.markerOptions.push(k.marker),A.markerSelectedOptions.push(k.markerSel),A.markerUnselectedOptions.push(k.markerUnsel),A.textOptions.push(k.text),A.textSelectedOptions.push(k.textSel),A.textUnselectedOptions.push(k.textUnsel),h._scene=A,h.index=A.count,h.x=p,h.y=m,h.positions=v,h.count=c,A.count++,[{x:!1,y:!1,t:h,trace:t}]},plot:function(e,t,n){if(n.length){var i,s,u=e._fullLayout,d=t._scene,h=t.xaxis,p=t.yaxis;if(d)if(f(e,["ANGLE_instanced_arrays","OES_element_index_uint"])){var m=u._glcanvas.data()[0].regl;if(x(e,t,n),d.dirty){if(!0===d.error2d&&(d.error2d=o(m)),!0===d.line2d&&(d.line2d=a(m)),!0===d.scatter2d&&(d.scatter2d=r(m)),!0===d.fill2d&&(d.fill2d=a(m)),!0===d.glText)for(d.glText=new Array(d.count),i=0;i<d.count;i++)d.glText[i]=new l(m);if(d.glText)for(i=0;i<d.count;i++)d.glText[i].update(d.textOptions[i]);if(d.line2d&&d.line2d.update(d.lineOptions),d.error2d){var v=(d.errorXOptions||[]).concat(d.errorYOptions||[]);d.error2d.update(v)}d.scatter2d&&d.scatter2d.update(d.markerOptions),d.fill2d&&(d.fillOptions=d.fillOptions.map(function(e,t){var r=n[t];if(e&&r&&r[0]&&r[0].trace){var a,o,i=r[0],s=i.trace,l=i.t,u=d.lineOptions[t],c=[],f=u&&u.positions||l.positions;if("tozeroy"===s.fill)(c=(c=[f[0],0]).concat(f)).push(f[f.length-2]),c.push(0);else if("tozerox"===s.fill)(c=(c=[0,f[1]]).concat(f)).push(0),c.push(f[f.length-1]);else if("toself"===s.fill||"tonext"===s.fill){for(c=[],a=0,o=0;o<f.length;o+=2)(isNaN(f[o])||isNaN(f[o+1]))&&((c=c.concat(f.slice(a,o))).push(f[a],f[a+1]),a=o+2);c=c.concat(f.slice(a)),a&&c.push(f[a],f[a+1])}else{var h=s._nexttrace;if(h){var p=d.lineOptions[t+1];if(p){var m=p.positions;if("tonexty"===s.fill){for(c=f.slice(),t=Math.floor(m.length/2);t--;){var v=m[2*t],g=m[2*t+1];isNaN(v)||isNaN(g)||(c.push(v),c.push(g))}e.fill=h.fillcolor}}}}if(s._prevtrace&&"tonext"===s._prevtrace.fill){var y=d.lineOptions[t-1].positions,b=c.length/2,_=[a=b];for(o=0;o<y.length;o+=2)(isNaN(y[o])||isNaN(y[o+1]))&&(_.push(o/2+b+1),a=o+2);c=c.concat(y),e.hole=_}return e.opacity=s.opacity,e.positions=c,e}}),d.fill2d.update(d.fillOptions))}d.selectBatch=null,d.unselectBatch=null;var g=u.dragmode,y="lasso"===g||"select"===g,b=u.clickmode.indexOf("select")>-1;for(i=0;i<n.length;i++){var _=n[i][0],w=_.trace,k=_.t,A=k.index,T=k.x,M=k.y;if(w.selectedpoints||y||b){if(y||(y=!0),d.selectBatch||(d.selectBatch=[],d.unselectBatch=[]),w.selectedpoints){var E=d.selectBatch[A]=c.selIndices2selPoints(w),C={};for(s=0;s<E.length;s++)C[E[s]]=1;var S=[];for(s=0;s<k.count;s++)C[s]||S.push(s);d.unselectBatch[A]=S}var j=k.xpx=new Array(k.count),P=k.ypx=new Array(k.count);for(s=0;s<k.count;s++)j[s]=h.c2p(T[s]),P[s]=p.c2p(M[s])}else k.xpx=k.ypx=null}y?(d.select2d||(d.select2d=r(u._glcanvas.data()[1].regl)),d.scatter2d&&d.selectBatch&&d.selectBatch.length&&d.scatter2d.update(d.markerUnselectedOptions.map(function(e,t){return d.selectBatch[t]?e:null})),d.select2d&&(d.select2d.update(d.markerOptions),d.select2d.update(d.markerSelectedOptions)),d.glText&&n.forEach(function(e){e&&e[0]&&e[0].trace&&I(e)})):d.scatter2d&&d.scatter2d.update(d.markerOptions);var N={viewport:O(u,h,p),range:[(h._rl||h.range)[0],(p._rl||p.range)[0],(h._rl||h.range)[1],(p._rl||p.range)[1]]},L=c.repeat(N,d.count);d.fill2d&&d.fill2d.update(L),d.line2d&&d.line2d.update(L),d.error2d&&d.error2d.update(L.concat(L)),d.scatter2d&&d.scatter2d.update(L),d.select2d&&d.select2d.update(L),d.glText&&d.glText.forEach(function(e){e.update(N)}),d.draw()}else d.init()}},hoverPoints:function(e,t,n,r){var a,o,i,s,l,u,c,f,d,h=e.cd,p=h[0].t,m=h[0].trace,v=e.xa,g=e.ya,y=p.x,b=p.y,_=v.c2p(t),x=g.c2p(n),w=e.distance;if(p.tree){var k=v.p2c(_-w),A=v.p2c(_+w),T=g.p2c(x-w),M=g.p2c(x+w);a="x"===r?p.tree.range(Math.min(k,A),Math.min(g._rl[0],g._rl[1]),Math.max(k,A),Math.max(g._rl[0],g._rl[1])):p.tree.range(Math.min(k,A),Math.min(T,M),Math.max(k,A),Math.max(T,M))}else{if(!p.ids)return[e];a=p.ids}var E=w;if("x"===r)for(l=0;l<a.length;l++)i=y[a[l]],(u=Math.abs(v.c2p(i)-_))<E&&(E=u,c=g.c2p(b[a[l]])-x,d=Math.sqrt(u*u+c*c),o=a[l]);else for(l=0;l<a.length;l++)i=y[a[l]],s=b[a[l]],u=v.c2p(i)-_,c=g.c2p(s)-x,(f=Math.sqrt(u*u+c*c))<E&&(E=d=f,o=a[l]);return e.index=o,e.distance=E,e.dxy=d,void 0===o?[e]:(N(e,y,b,m),[e])},style:function(e,t){if(t){var n=t[0][0].t._scene;e._fullLayout._has("splom")||n.clear(),n.draw()}},selectPoints:function(e,t){var n=e.cd,r=[],a=n[0].trace,o=n[0].t,i=o.x,l=o.y,u=o._scene;if(!u)return r;var c=m.hasText(a),f=m.hasMarkers(a),d=!f&&!c;if(!0!==a.visible||d)return r;var h,p=null,v=null;if(!1===t||t.degenerate)v=s(o.count);else for(p=[],v=[],h=0;h<o.count;h++)t.contains([o.xpx[h],o.ypx[h]],!1,h,e)?(p.push(h),r.push({pointNumber:h,x:i[h],y:l[h]})):v.push(h);if(u.selectBatch||(u.selectBatch=[],u.unselectBatch=[]),!u.selectBatch[o.index]){for(h=0;h<u.count;h++)u.selectBatch[h]=[],u.unselectBatch[h]=[];f&&u.scatter2d.update(u.markerUnselectedOptions)}return u.selectBatch[o.index]=p,u.unselectBatch[o.index]=v,c&&I(n),r},sceneOptions:S,sceneUpdate:j,calcHover:N,meta:{}}},{"../../components/color":318,"../../constants/interactions":418,"../../constants/numerical":419,"../../lib":440,"../../lib/prepare_regl":454,"../../plots/cartesian":499,"../../plots/cartesian/autorange":487,"../../plots/cartesian/axis_ids":491,"../../registry":532,"../scatter/calc":594,"../scatter/clean_data":596,"../scatter/colorscale_calc":597,"../scatter/fill_hover_text":601,"../scatter/get_trace_color":603,"../scatter/link_traces":609,"../scatter/marker_colorbar":611,"../scatter/subtypes":617,"./attributes":621,"./constants":622,"./convert":623,"./defaults":624,"array-range":15,"gl-text":188,"point-cluster":235,"regl-error2d":253,"regl-line2d":254,"regl-scatter2d":255}],626:[function(e,t,n){"use strict";var r=e("../scattergl/attributes"),a=e("../../plots/cartesian/constants").idRegex,o=e("../../plot_api/plot_template").templatedArray;function i(e){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:a[e],editType:"plot"}}}t.exports={dimensions:o("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r.text,marker:r.marker,xaxes:i("x"),yaxes:i("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:r.selected.marker,editType:"calc"},unselected:{marker:r.unselected.marker,editType:"calc"},opacity:r.opacity}},{"../../plot_api/plot_template":478,"../../plots/cartesian/constants":493,"../scattergl/attributes":621}],627:[function(e,t,n){"use strict";var r=e("regl-line2d"),a=e("../../registry"),o=e("../../lib/prepare_regl"),i=e("../../plots/get_data").getModuleCalcData,s=e("../../plots/cartesian"),l=e("../../plots/cartesian/axis_ids").getFromId,u=e("../../plots/cartesian/axes").shouldShowZeroLine,c="splom";function f(e,t,n,r){for(var a=r.matrixOptions.data.length,o=n.visibleDims,i=new Array(a),s=0;s<o.length;s++){var u=o[s],c=i[s]=new Array(4),f=l(e,t._diag[u][0]);f&&(c[0]=f.r2l(f.range[0]),c[2]=f.r2l(f.range[1]));var d=l(e,t._diag[u][1]);d&&(c[1]=d.r2l(d.range[0]),c[3]=d.r2l(d.range[1]))}r.selectBatch?(r.matrix.update({ranges:i},{ranges:i}),r.matrix.draw(r.unselectBatch,r.selectBatch)):(r.matrix.update({ranges:i}),r.matrix.draw())}function d(e){var t=e._fullLayout,n=t._glcanvas.data()[0].regl,a=t._splomGrid;a||(a=t._splomGrid=r(n)),a.update(function(e){var t,n=e._fullLayout,r=n._size,a=[0,0,n.width,n.height],o={};function i(e,t,n,r,i,s){var l=t[e+"color"],u=t[e+"width"],c=String(l+u);c in o?o[c].data.push(NaN,NaN,n,r,i,s):o[c]={data:[n,r,i,s],join:"rect",thickness:u,color:l,viewport:a,range:a,overlay:!1}}for(t in n._splomSubplots){var s,l,c=n._plots[t],f=c.xaxis,d=c.yaxis,h=f._vals,p=d._vals,m=r.b+d.domain[0]*r.h,v=-d._m,g=-v*d.r2l(d.range[0],d.calendar);if(f.showgrid)for(t=0;t<h.length;t++)s=f._offset+f.l2p(h[t].x),i("grid",f,s,m,s,m+d._length);if(d.showgrid)for(t=0;t<p.length;t++)l=m+g+v*p[t].x,i("grid",d,f._offset,l,f._offset+f._length,l);u(e,f,d)&&(s=f._offset+f.l2p(0),i("zeroline",f,s,m,s,m+d._length)),u(e,d,f)&&(l=m+g+0,i("zeroline",d,f._offset,l,f._offset+f._length,l))}var y=[];for(t in o)y.push(o[t]);return y}(e)),a.draw()}t.exports={name:c,attr:s.attr,attrRegex:s.attrRegex,layoutAttributes:s.layoutAttributes,supplyLayoutDefaults:s.supplyLayoutDefaults,drawFramework:s.drawFramework,plot:function(e){var t=e._fullLayout,n=a.getModule(c),r=i(e.calcdata,n)[0];o(e,["ANGLE_instanced_arrays","OES_element_index_uint"])&&(t._hasOnlyLargeSploms&&d(e),n.plot(e,{},r))},drag:function(e){var t=e.calcdata;e._fullLayout._hasOnlyLargeSploms&&d(e);for(var n=0;n<t.length;n++){var r=t[n][0],a=r.trace,o=r.t,i=o._scene;"splom"===a.type&&i&&i.matrix&&f(e,a,o,i)}},clean:function(e,t,n,r,a){var o,i,l,u=r._modules||[],c=t._modules||[];for(l=0;l<u.length;l++)if("splom"===u[l].name){o=!0;break}for(l=0;l<c.length;l++)if("splom"===c[l].name){i=!0;break}if(o&&!i)for(l=0;l<a.length;l++){var f=a[l][0],d=f.trace,h=f.t._scene;"splom"===d.type&&h&&h.matrix&&h.matrix.destroy&&(h.matrix.destroy(),f.t._scene=null)}r._splomGrid&&!t._hasOnlyLargeSploms&&r._hasOnlyLargeSploms&&(r._splomGrid.destroy(),r._splomGrid=null),s.clean(e,t,n,r)},updateFx:function(e){s.updateFx(e);var t=e._fullLayout.dragmode;if("zoom"===t||"pan"===t)for(var n=e.calcdata,r=0;r<n.length;r++){var a=n[r][0],o=a.trace;if("splom"===o.type){var i=a.t._scene;null===i.selectBatch&&i.matrix.update(i.matrixOptions,null)}}},toSVG:s.toSVG}},{"../../lib/prepare_regl":454,"../../plots/cartesian":499,"../../plots/cartesian/axes":488,"../../plots/cartesian/axis_ids":491,"../../plots/get_data":516,"../../registry":532,"regl-line2d":254}],628:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/array_container_defaults"),o=e("./attributes"),i=e("../scatter/subtypes"),s=e("../scatter/marker_defaults"),l=e("../parcoords/merge_length"),u=/-open/;function c(e,t){function n(n,a){return r.coerce(e,t,o.dimensions,n,a)}n("label");var a=n("values");a&&a.length?n("visible"):t.visible=!1,n("axis.type")}function f(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e+(r?r+1:"");return n}function d(e,t,n){if(t){var r=t.charAt(0),a=e._splomAxes[r];if(!(t in a)){var o=a[t]={};n&&(o.label=n.label||"",n.visible&&n.axis&&(o.type=n.axis.type))}}}function h(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t}t.exports=function(e,t,n,p){function m(n,a){return r.coerce(e,t,o,n,a)}var v=a(e,t,{name:"dimensions",handleItemDefaults:c}),g=m("diagonal.visible"),y=m("showupperhalf"),b=m("showlowerhalf"),_=l(t,v,"values");if(_&&(g||y||b)){m("text"),s(e,t,n,p,m);var x=u.test(t.marker.symbol),w=i.isBubble(t);m("marker.line.width",x||w?1:0),function(e,t,n,r){var a,o,i=t.dimensions,s=i.length,l=t.showupperhalf,u=t.showlowerhalf,c=t.diagonal.visible,p=c||l&&u?s:s-1,m=r("xaxes",f("x",p)),v=r("yaxes",f("y",p));t._xaxes=h(m),t._yaxes=h(v);var g=Math.min(p,m.length,v.length);for(a=0;a<g;a++)for(o=0;o<g;o++){var y=m[a]+v[o];a>o&&l?n._splomSubplots[y]=1:a<o&&u?n._splomSubplots[y]=1:a!==o||!c&&u&&l||(n._splomSubplots[y]=1)}var b=t._diag=new Array(s),_=c||u?0:-1,x=c||l?0:-1;for(a=0;a<s;a++){var w=i[a],k=m[a+_],A=v[a+x];d(n,k,w),d(n,A,w),b[a]=[k,A]}u||(n._splomGridDflt.xside="bottom",n._splomGridDflt.yside="left")}(0,t,p,m),r.coerceSelectionMarkerOpacity(t,m)}else t.visible=!1}},{"../../lib":440,"../../plots/array_container_defaults":484,"../parcoords/merge_length":583,"../scatter/marker_defaults":612,"../scatter/subtypes":617,"./attributes":626}],629:[function(e,t,n){"use strict";var r=e("regl-splom"),a=e("array-range"),o=e("../../registry"),i=e("../../components/grid"),s=e("../../lib"),l=e("../../plots/cartesian/axis_ids"),u=e("../scatter/subtypes"),c=e("../scatter/calc").calcMarkerSize,f=e("../scatter/calc").calcAxisExpansion,d=e("../scatter/colorscale_calc"),h=e("../scattergl/convert").markerSelection,p=e("../scattergl/convert").markerStyle,m=e("../scattergl").calcHover,v=e("../../constants/numerical").BADNUM,g=e("../scattergl/constants").TOO_MANY_POINTS;function y(e,t){var n,a,o,i,s,u=e._fullLayout,c=u._size,f=t.trace,d=t.t,h=d._scene,p=h.matrixOptions,m=p.cdata,v=u._glcanvas.data()[0].regl,g=u.dragmode;if(0!==m.length){p.lower=f.showupperhalf,p.upper=f.showlowerhalf,p.diagonal=f.diagonal.visible;var y=d.visibleDims,b=m.length,_={};for(_.ranges=new Array(b),_.domains=new Array(b),s=0;s<y.length;s++){o=y[s];var x=_.ranges[s]=new Array(4),w=_.domains[s]=new Array(4);(n=l.getFromId(e,f._diag[o][0]))&&(x[0]=n._rl[0],x[2]=n._rl[1],w[0]=n.domain[0],w[2]=n.domain[1]),(a=l.getFromId(e,f._diag[o][1]))&&(x[1]=a._rl[0],x[3]=a._rl[1],w[1]=a.domain[0],w[3]=a.domain[1])}_.viewport=[c.l,c.b,c.w+c.l,c.h+c.b],!0===h.matrix&&(h.matrix=r(v));var k=u.clickmode.indexOf("select")>-1,A="lasso"===g||"select"===g||!!f.selectedpoints||k;if(h.selectBatch=null,h.unselectBatch=null,A){var T=f._length;if(h.selectBatch||(h.selectBatch=[],h.unselectBatch=[]),f.selectedpoints){h.selectBatch=f.selectedpoints;var M=f.selectedpoints,E={};for(o=0;o<M.length;o++)E[M[o]]=!0;var C=[];for(o=0;o<T;o++)E[o]||C.push(o);h.unselectBatch=C}var S=d.xpx=new Array(b),j=d.ypx=new Array(b);for(s=0;s<y.length;s++){if(o=y[s],n=l.getFromId(e,f._diag[o][0]))for(S[s]=new Array(T),i=0;i<T;i++)S[s][i]=n.c2p(m[s][i]);if(a=l.getFromId(e,f._diag[o][1]))for(j[s]=new Array(T),i=0;i<T;i++)j[s][i]=a.c2p(m[s][i])}h.selectBatch?(h.matrix.update(p,p),h.matrix.update(h.unselectedOptions,h.selectedOptions),h.matrix.update(_,_)):h.matrix.update(_,null)}else h.matrix.update(p,null),h.matrix.update(_,null),d.xpx=d.ypx=null;h.draw()}}function b(e,t,n){for(var r=n._id,a=r.charAt(0),o={x:0,y:1}[a],i=t.visibleDims,s=0;s<i.length;s++){var l=i[s];if(e._diag[l][o]===r)return s}return!1}t.exports={moduleType:"trace",name:"splom",basePlotModule:e("./base_plot"),categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e("./attributes"),supplyDefaults:e("./defaults"),colorbar:e("../scatter/marker_colorbar"),calc:function(e,t){var n,r,a,o,i,u=t.dimensions,m=t._length,y={},b={},_=b.cdata=[],x=b.data=[],w=y.visibleDims=[];function k(e,n){for(var r=e.makeCalcdata({v:n.values,vcalendar:t.calendar},"v"),a=0;a<r.length;a++)r[a]=r[a]===v?NaN:r[a];_.push(r),x.push("log"===e.type?s.simpleMap(r,e.c2l):r)}for(n=0;n<u.length;n++)if((a=u[n]).visible){if(o=l.getFromId(e,t._diag[n][0]),i=l.getFromId(e,t._diag[n][1]),o&&i&&o.type!==i.type){s.log("Skipping splom dimension "+n+" with conflicting axis types");continue}o?(k(o,a),i&&"category"===i.type&&(i._categories=o._categories.slice())):k(i,a),w.push(n)}d(t),s.extendFlat(b,p(t));var A=_.length*m>g;for(r=0;r<w.length;r++){var T;n=w[r],a=u[n],o=l.getFromId(e,t._diag[n][0])||{},i=l.getFromId(e,t._diag[n][1])||{},T=A?2*(b.sizeAvg||Math.max(b.size,3)):c(t,m),f(e,t,o,i,_[r],_[r],T)}var M=y._scene=function(e,t){var n=t._scene,r={dirty:!0};return n||((n=t._scene=s.extendFlat({},r,{selectBatch:null,unselectBatch:null,matrix:!1,select:null})).draw=function(){n.matrix&&n.selectBatch?n.matrix.draw(n.unselectBatch,n.selectBatch):n.matrix&&n.matrix.draw(),n.dirty=!1},n.destroy=function(){n.matrix&&n.matrix.destroy(),n.matrixOptions=null,n.selectBatch=null,n.unselectBatch=null,t._scene=null}),n.dirty||s.extendFlat(n,r),n}(0,y);return M.matrix||(M.matrix=!0),M.matrixOptions=b,M.selectedOptions=h(t,t.selected),M.unselectedOptions=h(t,t.unselected),[{x:!1,y:!1,t:y,trace:t}]},plot:function(e,t,n){if(n.length)for(var r=0;r<n.length;r++)y(e,n[r][0])},hoverPoints:function(e,t,n){var r=e.cd,a=r[0].trace,o=r[0].t,i=o._scene.matrixOptions.cdata,s=e.xa,l=e.ya,u=s.c2p(t),c=l.c2p(n),f=e.distance,d=b(a,o,s),h=b(a,o,l);if(!1===d||!1===h)return[e];for(var p,v,g=i[d],y=i[h],_=f,x=0;x<g.length;x++){var w=g[x],k=y[x],A=s.c2p(w)-u,T=l.c2p(k)-c,M=Math.sqrt(A*A+T*T);M<_&&(_=v=M,p=x)}return e.index=p,e.distance=_,e.dxy=v,void 0===p?[e]:(m(e,g,y,a),[e])},selectPoints:function(e,t){var n,r=e.cd,o=r[0].trace,i=r[0].t,s=i._scene,l=s.matrixOptions.cdata,c=e.xaxis,f=e.yaxis,d=[];if(!s)return d;var h=!u.hasMarkers(o)&&!u.hasText(o);if(!0!==o.visible||h)return d;var p=b(o,i,c),m=b(o,i,f);if(!1===p||!1===m)return d;var v=i.xpx[p],g=i.ypx[m],y=l[p],_=l[m],x=null,w=null;if(!1===t||t.degenerate)w=a(i.count);else for(x=[],w=[],n=0;n<y.length;n++)t.contains([v[n],g[n]],null,n,e)?(x.push(n),d.push({pointNumber:n,x:y[n],y:_[n]})):w.push(n);if(s.selectBatch||(s.selectBatch=[],s.unselectBatch=[]),!s.selectBatch){for(n=0;n<s.count;n++)s.selectBatch=[],s.unselectBatch=[];s.matrix.update(s.unselectedOptions,s.selectedOptions)}return s.selectBatch=x,s.unselectBatch=w,d},style:function(e,t){if(t){var n=e._fullLayout;t[0][0].t._scene.matrix.regl.clear({color:!0,depth:!0}),n._splomGrid&&n._splomGrid.draw();for(var r=0;r<t.length;r++){var a=t[r][0].t._scene;a.draw()}if(n._has("cartesian"))for(var o in n._plots){var i=n._plots[o];i._scene&&i._scene.draw()}}},meta:{}},o.register(i)},{"../../components/grid":364,"../../constants/numerical":419,"../../lib":440,"../../plots/cartesian/axis_ids":491,"../../registry":532,"../scatter/calc":594,"../scatter/colorscale_calc":597,"../scatter/marker_colorbar":611,"../scatter/subtypes":617,"../scattergl":625,"../scattergl/constants":622,"../scattergl/convert":623,"./attributes":626,"./base_plot":627,"./defaults":628,"array-range":15,"regl-splom":257}]},{},[6])(6)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function a(){}e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},"./node_modules/prop-types/index.js":function(e,t,n){e.exports=n("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/react-dom/cjs/react-dom.production.min.js":function(e,t,n){"use strict";
/** @license React v16.5.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("./node_modules/react/index.js"),a=n("./node_modules/object-assign/index.js"),o=n("./node_modules/schedule/index.js");function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,o,i,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,i,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||i("227");var s=!1,l=null,u=!1,c=null,f={onError:function(e){s=!0,l=e}};function d(e,t,n,r,a,o,i,u,c){s=!1,l=null,function(e,t,n,r,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(f,arguments)}var h=null,p={};function m(){if(h)for(var e in p){var t=p[e],n=h.indexOf(e);if(-1<n||i("96",e),!g[n])for(var r in t.extractEvents||i("97",e),g[n]=t,n=t.eventTypes){var a=void 0,o=n[r],s=t,l=r;y.hasOwnProperty(l)&&i("99",l),y[l]=o;var u=o.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&v(u[a],s,l);a=!0}else o.registrationName?(v(o.registrationName,s,l),a=!0):a=!1;a||i("98",r,e)}}}function v(e,t,n){b[e]&&i("100",e),b[e]=t,_[e]=t.eventTypes[n].dependencies}var g=[],y={},b={},_={},x=null,w=null,k=null;function A(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=k(r),function(e,t,n,r,a,o,f,h,p){if(d.apply(this,arguments),s){if(s){var m=l;s=!1,l=null}else i("198"),m=void 0;u||(u=!0,c=m)}}(t,n,void 0,e),e.currentTarget=null}function T(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function M(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var E=null;function C(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var a=0;a<n.length&&!e.isPropagationStopped();a++)A(e,t,n[a],r[a]);else n&&A(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function S(e){return C(e,!0)}function j(e){return C(e,!1)}var O={injectEventPluginOrder:function(e){h&&i("101"),h=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];p.hasOwnProperty(t)&&p[t]===r||(p[t]&&i("102",t),p[t]=r,n=!0)}n&&m()}};function P(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&i("231",t,typeof n),n)}function N(e,t){if(null!==e&&(E=T(E,e)),e=E,E=null,e&&(M(e,t?S:j),E&&i("95"),u))throw t=c,u=!1,c=null,t}var I=Math.random().toString(36).slice(2),L="__reactInternalInstance$"+I,D="__reactEventHandlers$"+I;function R(e){if(e[L])return e[L];for(;!e[L];){if(!e.parentNode)return null;e=e.parentNode}return 7===(e=e[L]).tag||8===e.tag?e:null}function z(e){return!(e=e[L])||7!==e.tag&&8!==e.tag?null:e}function F(e){if(7===e.tag||8===e.tag)return e.stateNode;i("33")}function B(e){return e[D]||null}function U(e){do{e=e.return}while(e&&7!==e.tag);return e||null}function H(e,t,n){(t=P(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function q(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=U(t);for(t=n.length;0<t--;)H(n[t],"captured",e);for(t=0;t<n.length;t++)H(n[t],"bubbled",e)}}function V(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=P(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function W(e){e&&e.dispatchConfig.registrationName&&V(e._targetInst,null,e)}function G(e){M(e,q)}var X=!("undefined"==typeof window||!window.document||!window.document.createElement);function Y(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var K={animationend:Y("Animation","AnimationEnd"),animationiteration:Y("Animation","AnimationIteration"),animationstart:Y("Animation","AnimationStart"),transitionend:Y("Transition","TransitionEnd")},Z={},J={};function Q(e){if(Z[e])return Z[e];if(!K[e])return e;var t,n=K[e];for(t in n)if(n.hasOwnProperty(t)&&t in J)return Z[e]=n[t];return e}X&&(J=document.createElement("div").style,"AnimationEvent"in window||(delete K.animationend.animation,delete K.animationiteration.animation,delete K.animationstart.animation),"TransitionEvent"in window||delete K.transitionend.transition);var $=Q("animationend"),ee=Q("animationiteration"),te=Q("animationstart"),ne=Q("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ae=null,oe=null,ie=null;function se(){if(ie)return ie;var e,t,n=oe,r=n.length,a="value"in ae?ae.value:ae.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return ie=a.slice(e,1<t?1-t:void 0)}function le(){return!0}function ue(){return!1}function ce(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?le:ue,this.isPropagationStopped=ue,this}function fe(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function de(e){e instanceof this||i("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function he(e){e.eventPool=[],e.getPooled=fe,e.release=de}a(ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=le)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=le)},persist:function(){this.isPersistent=le},isPersistent:ue,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ue,this._dispatchInstances=this._dispatchListeners=null}}),ce.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ce.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return a(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,he(n),n},he(ce);var pe=ce.extend({data:null}),me=ce.extend({data:null}),ve=[9,13,27,32],ge=X&&"CompositionEvent"in window,ye=null;X&&"documentMode"in document&&(ye=document.documentMode);var be=X&&"TextEvent"in window&&!ye,_e=X&&(!ge||ye&&8<ye&&11>=ye),xe=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ke=!1;function Ae(e,t){switch(e){case"keyup":return-1!==ve.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Te(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Me=!1;var Ee={eventTypes:we,extractEvents:function(e,t,n,r){var a=void 0,o=void 0;if(ge)e:{switch(e){case"compositionstart":a=we.compositionStart;break e;case"compositionend":a=we.compositionEnd;break e;case"compositionupdate":a=we.compositionUpdate;break e}a=void 0}else Me?Ae(e,n)&&(a=we.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=we.compositionStart);return a?(_e&&"ko"!==n.locale&&(Me||a!==we.compositionStart?a===we.compositionEnd&&Me&&(o=se()):(oe="value"in(ae=r)?ae.value:ae.textContent,Me=!0)),a=pe.getPooled(a,t,n,r),o?a.data=o:null!==(o=Te(n))&&(a.data=o),G(a),o=a):o=null,(e=be?function(e,t){switch(e){case"compositionend":return Te(t);case"keypress":return 32!==t.which?null:(ke=!0,xe);case"textInput":return(e=t.data)===xe&&ke?null:e;default:return null}}(e,n):function(e,t){if(Me)return"compositionend"===e||!ge&&Ae(e,t)?(e=se(),ie=oe=ae=null,Me=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _e&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=me.getPooled(we.beforeInput,t,n,r)).data=e,G(t)):t=null,null===o?t:null===t?o:[o,t]}},Ce=null,Se=null,je=null;function Oe(e){if(e=w(e)){"function"!=typeof Ce&&i("280");var t=x(e.stateNode);Ce(e.stateNode,e.type,t)}}function Pe(e){Se?je?je.push(e):je=[e]:Se=e}function Ne(){if(Se){var e=Se,t=je;if(je=Se=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ie(e,t){return e(t)}function Le(e,t,n){return e(t,n)}function De(){}var Re=!1;function ze(e,t){if(Re)return e(t);Re=!0;try{return Ie(e,t)}finally{Re=!1,(null!==Se||null!==je)&&(De(),Ne())}}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fe[e.type]:"textarea"===t}function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function He(e){if(!X)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function qe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=qe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ge=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=/^(.*)[\\\/]/,Ye="function"==typeof Symbol&&Symbol.for,Ke=Ye?Symbol.for("react.element"):60103,Ze=Ye?Symbol.for("react.portal"):60106,Je=Ye?Symbol.for("react.fragment"):60107,Qe=Ye?Symbol.for("react.strict_mode"):60108,$e=Ye?Symbol.for("react.profiler"):60114,et=Ye?Symbol.for("react.provider"):60109,tt=Ye?Symbol.for("react.context"):60110,nt=Ye?Symbol.for("react.async_mode"):60111,rt=Ye?Symbol.for("react.forward_ref"):60112,at=Ye?Symbol.for("react.placeholder"):60113,ot="function"==typeof Symbol&&Symbol.iterator;function it(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case nt:return"AsyncMode";case Je:return"Fragment";case Ze:return"Portal";case $e:return"Profiler";case Qe:return"StrictMode";case at:return"Placeholder"}if("object"==typeof e){switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef")}if("function"==typeof e.then&&(e=1===e._reactStatus?e._reactResult:null))return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 4:case 0:case 1:case 2:case 3:case 7:case 10:var n=e._debugOwner,r=e._debugSource,a=st(e.type),o=null;n&&(o=st(n.type)),n=a,a="",r?a=" (at "+r.fileName.replace(Xe,"")+":"+r.lineNumber+")":o&&(a=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+a;break e;default:o=""}t+=o,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,ft={},dt={};function ht(e,t,n,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){pt[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){pt[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){pt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function gt(e,t,n,r){var a=pt.hasOwnProperty(t)?pt[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!ct.call(dt,e)||!ct.call(ft,e)&&(ut.test(e)?dt[e]=!0:(ft[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _t(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&gt(e,"checked",t,!1)}function wt(e,t){xt(e,t);var n=yt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?At(e,t.type,n):t.hasOwnProperty("defaultValue")&&At(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function kt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function At(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,vt);pt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,vt);pt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,vt);pt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),pt.tabIndex=new ht("tabIndex",1,!1,"tabindex",null);var Tt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Mt(e,t,n){return(e=ce.getPooled(Tt.change,e,t,n)).type="change",Pe(n),G(e),e}var Et=null,Ct=null;function St(e){N(e,!1)}function jt(e){if(We(F(e)))return e}function Ot(e,t){if("change"===e)return t}var Pt=!1;function Nt(){Et&&(Et.detachEvent("onpropertychange",It),Ct=Et=null)}function It(e){"value"===e.propertyName&&jt(Ct)&&ze(St,e=Mt(Ct,e,Ue(e)))}function Lt(e,t,n){"focus"===e?(Nt(),Ct=n,(Et=t).attachEvent("onpropertychange",It)):"blur"===e&&Nt()}function Dt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jt(Ct)}function Rt(e,t){if("click"===e)return jt(t)}function zt(e,t){if("input"===e||"change"===e)return jt(t)}X&&(Pt=He("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:Tt,_isInputEventSupported:Pt,extractEvents:function(e,t,n,r){var a=t?F(t):window,o=void 0,i=void 0,s=a.nodeName&&a.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===a.type?o=Ot:Be(a)?Pt?o=zt:(o=Dt,i=Lt):(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(o=Rt),o&&(o=o(e,t)))return Mt(o,n,r);i&&i(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&At(a,"number",a.value)}},Bt=ce.extend({view:null,detail:null}),Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ht(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ut[e])&&!!t[e]}function qt(){return Ht}var Vt=0,Wt=0,Gt=!1,Xt=!1,Yt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Vt;return Vt=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Wt;return Wt=e.screenY,Xt?"mousemove"===e.type?e.screenY-t:0:(Xt=!0,0)}}),Kt=Yt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Jt={eventTypes:Zt,extractEvents:function(e,t,n,r){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?R(t):null):o=null,o===t)return null;var i=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(i=Yt,s=Zt.mouseLeave,l=Zt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(i=Kt,s=Zt.pointerLeave,l=Zt.pointerEnter,u="pointer");var c=null==o?a:F(o);if(a=null==t?a:F(t),(e=i.getPooled(s,o,n,r)).type=u+"leave",e.target=c,e.relatedTarget=a,(n=i.getPooled(l,t,n,r)).type=u+"enter",n.target=a,n.relatedTarget=c,r=t,o&&r)e:{for(a=r,u=0,i=t=o;i;i=U(i))u++;for(i=0,l=a;l;l=U(l))i++;for(;0<u-i;)t=U(t),u--;for(;0<i-u;)a=U(a),i--;for(;u--;){if(t===a||t===a.alternate)break e;t=U(t),a=U(a)}t=null}else t=null;for(a=t,t=[];o&&o!==a&&(null===(u=o.alternate)||u!==a);)t.push(o),o=U(o);for(o=[];r&&r!==a&&(null===(u=r.alternate)||u!==a);)o.push(r),r=U(r);for(r=0;r<t.length;r++)V(t[r],"bubbled",e);for(r=o.length;0<r--;)V(o[r],"captured",n);return[e,n]}},Qt=Object.prototype.hasOwnProperty;function $t(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function en(e,t){if($t(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qt.call(t,n[r])||!$t(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 5===t.tag?2:3}function nn(e){2!==tn(e)&&i("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&i("188"),1===t?null:e;for(var n=e,r=t;;){var a=n.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var s=a.child;s;){if(s===n)return nn(a),e;if(s===r)return nn(a),t;s=s.sibling}i("188")}if(n.return!==r.return)n=a,r=o;else{s=!1;for(var l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}s||i("189")}}n.alternate!==r&&i("190")}return 5!==n.tag&&i("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(7===t.tag||8===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),on=ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Bt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=Bt.extend({key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),dn=Yt.extend({dataTransfer:null}),hn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qt}),pn=ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Yt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[$,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],gn={},yn={};function bn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},gn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),vn.forEach(function(e){bn(e,!1)});var _n={eventTypes:gn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var a=yn[e];if(!a)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=fn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Yt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=hn;break;case $:case ee:case te:e=an;break;case ne:e=pn;break;case"scroll":e=Bt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Kt;break;default:e=ce}return G(t=e.getPooled(a,t,n,r)),t}},xn=_n.isInteractiveTopLevelEventType,wn=[];function kn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=5!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=R(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=Ue(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,i=null,s=0;s<g.length;s++){var l=g[s];l&&(l=l.extractEvents(r,t,o,a))&&(i=T(i,l))}N(i,!1)}}var An=!0;function Tn(e,t){if(!t)return null;var n=(xn(e)?En:Cn).bind(null,e);t.addEventListener(e,n,!1)}function Mn(e,t){if(!t)return null;var n=(xn(e)?En:Cn).bind(null,e);t.addEventListener(e,n,!0)}function En(e,t){Le(Cn,e,t)}function Cn(e,t){if(An){var n=Ue(t);if(null===(n=R(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),wn.length){var r=wn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{ze(kn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wn.length&&wn.push(e)}}}var Sn={},jn=0,On="_reactListenersID"+(""+Math.random()).slice(2);function Pn(e){return Object.prototype.hasOwnProperty.call(e,On)||(e[On]=jn++,Sn[e[On]]={}),Sn[e[On]]}function Nn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function In(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ln(e,t){var n,r=In(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=In(r)}}function Dn(){for(var e=window,t=Nn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Nn(e.document)}return t}function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var zn=X&&"documentMode"in document&&11>=document.documentMode,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bn=null,Un=null,Hn=null,qn=!1;function Vn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qn||null==Bn||Bn!==Nn(n)?null:("selectionStart"in(n=Bn)&&Rn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hn&&en(Hn,n)?null:(Hn=n,(e=ce.getPooled(Fn.select,Un,e,t)).type="select",e.target=Bn,G(e),e))}var Wn={eventTypes:Fn,extractEvents:function(e,t,n,r){var a,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!o)){e:{o=Pn(o),a=_.onSelect;for(var i=0;i<a.length;i++){var s=a[i];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}a=!o}if(a)return null;switch(o=t?F(t):window,e){case"focus":(Be(o)||"true"===o.contentEditable)&&(Bn=o,Un=t,Hn=null);break;case"blur":Hn=Un=Bn=null;break;case"mousedown":qn=!0;break;case"contextmenu":case"mouseup":case"dragend":return qn=!1,Vn(n,r);case"selectionchange":if(zn)break;case"keydown":case"keyup":return Vn(n,r)}return null}};function Gn(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Yn(e,t){return null!=t.dangerouslySetInnerHTML&&i("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&i("92"),Array.isArray(t)&&(1>=t.length||i("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Zn(e,t){var n=yt(t.value);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=""+yt(t.defaultValue))}function Jn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=B,w=z,k=F,O.injectEventPluginsByName({SimpleEventPlugin:_n,EnterLeaveEventPlugin:Jt,ChangeEventPlugin:Ft,SelectEventPlugin:Wn,BeforeInputEventPlugin:Ee});var Qn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function $n(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?$n(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tr=void 0,nr=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Qn.svg||"innerHTML"in e)e.innerHTML=t;else{for((tr=tr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},or=["Webkit","ms","Moz","O"];function ir(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=n,o=t[n];a=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||ar.hasOwnProperty(a)&&ar[a]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(ar).forEach(function(e){or.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});var sr=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(e,t){t&&(sr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&i("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&i("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||i("61")),null!=t.style&&"object"!=typeof t.style&&i("62",""))}function ur(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function cr(e,t){var n=Pn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var r=0;r<t.length;r++){var a=t[r];if(!n.hasOwnProperty(a)||!n[a]){switch(a){case"scroll":Mn("scroll",e);break;case"focus":case"blur":Mn("focus",e),Mn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":He(a)&&Mn(a,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(a)&&Tn(a,e)}n[a]=!0}}}function fr(){}var dr=null,hr=null;function pr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function mr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function vr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function gr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var yr=[],br=-1;function _r(e){0>br||(e.current=yr[br],yr[br]=null,br--)}function xr(e,t){yr[++br]=e.current,e.current=t}var wr={},kr={current:wr},Ar={current:!1},Tr=wr;function Mr(e,t){var n=e.type.contextTypes;if(!n)return wr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Er(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Cr(e){_r(Ar),_r(kr)}function Sr(e){_r(Ar),_r(kr)}function jr(e,t,n){kr.current!==wr&&i("168"),xr(kr,t),xr(Ar,n)}function Or(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||i("108",st(t)||"Unknown",o);return a({},n,r)}function Pr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||wr,Tr=kr.current,xr(kr,t),xr(Ar,Ar.current),!0}function Nr(e,t,n){var r=e.stateNode;r||i("169"),n?(t=Or(e,t,Tr),r.__reactInternalMemoizedMergedChildContext=t,_r(Ar),_r(kr),xr(kr,t)):_r(Ar),xr(Ar,n)}var Ir=null,Lr=null;function Dr(e){return function(t){try{return e(t)}catch(e){}}}function Rr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t,n){var r=e.alternate;return null===r?((r=new Rr(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=t!==e.pendingProps?n:e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.firstContextDependency=e.firstContextDependency,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Br(e,t,n){var r=e.type,a=e.key;e=e.props;var o=void 0;if("function"==typeof r)o=zr(r)?2:4;else if("string"==typeof r)o=7;else e:switch(r){case Je:return Ur(e.children,t,n,a);case nt:o=10,t|=3;break;case Qe:o=10,t|=2;break;case $e:return(r=new Rr(15,e,a,4|t)).type=$e,r.expirationTime=n,r;case at:o=16;break;default:if("object"==typeof r&&null!==r)switch(r.$$typeof){case et:o=12;break e;case tt:o=11;break e;case rt:o=13;break e;default:if("function"==typeof r.then){o=4;break e}}i("130",null==r?r:typeof r,"")}return(t=new Rr(o,e,a,t)).type=r,t.expirationTime=n,t}function Ur(e,t,n,r){return(e=new Rr(9,e,r,t)).expirationTime=n,e}function Hr(e,t,n){return(e=new Rr(8,e,null,t)).expirationTime=n,e}function qr(e,t,n){return(t=new Rr(6,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n>t?e.earliestPendingTime=t:e.latestPendingTime<t&&(e.latestPendingTime=t),Wr(t,e)}function Wr(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,a=t.earliestPendingTime,o=t.latestPingedTime;0===(a=0!==a?a:o)&&(0===e||r>e)&&(a=r),0!==(e=a)&&0!==n&&n<e&&(e=n),t.nextExpirationTimeToWorkOn=a,t.expirationTime=e}var Gr=!1;function Xr(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yr(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Kr(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Zr(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Jr(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,a=null;null===r&&(r=e.updateQueue=Xr(e.memoizedState))}else r=e.updateQueue,a=n.updateQueue,null===r?null===a?(r=e.updateQueue=Xr(e.memoizedState),a=n.updateQueue=Xr(n.memoizedState)):r=e.updateQueue=Yr(a):null===a&&(a=n.updateQueue=Yr(r));null===a||r===a?Zr(r,t):null===r.lastUpdate||null===a.lastUpdate?(Zr(r,t),Zr(a,t)):(Zr(r,t),a.lastUpdate=t)}function Qr(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Xr(e.memoizedState):$r(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function $r(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Yr(t)),t}function ea(e,t,n,r,o,i){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(i,r,o):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null===(o="function"==typeof(e=n.payload)?e.call(i,r,o):e)||void 0===o)break;return a({},r,o);case 2:Gr=!0}return r}function ta(e,t,n,r,a){Gr=!1;for(var o=(t=$r(e,t)).baseState,i=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c>a?(null===i&&(i=l,o=u),(0===s||s>c)&&(s=c)):(u=ea(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var f=l.expirationTime;f>a?(null===c&&(c=l,null===i&&(o=u)),(0===s||s>f)&&(s=f)):(u=ea(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===i&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===i&&null===c&&(o=u),t.baseState=o,t.firstUpdate=i,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function na(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ra(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ra(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ra(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&i("191",n),n.call(r)}e=e.nextEffect}}function aa(e,t){return{value:e,source:t,stack:lt(t)}}var oa={current:null},ia=null,sa=null,la=null;function ua(e,t){var n=e.type._context;xr(oa,n._currentValue),n._currentValue=t}function ca(e){var t=oa.current;_r(oa),e.type._context._currentValue=t}function fa(e){ia=e,la=sa=null,e.firstContextDependency=null}function da(e,t){return la!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(la=e,t=1073741823),t={context:e,observedBits:t,next:null},null===sa?(null===ia&&i("277"),ia.firstContextDependency=sa=t):sa=sa.next=t),e._currentValue}var ha={},pa={current:ha},ma={current:ha},va={current:ha};function ga(e){return e===ha&&i("174"),e}function ya(e,t){xr(va,t),xr(ma,e),xr(pa,ha);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:er(null,"");break;default:t=er(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}_r(pa),xr(pa,t)}function ba(e){_r(pa),_r(ma),_r(va)}function _a(e){ga(va.current);var t=ga(pa.current),n=er(t,e.type);t!==n&&(xr(ma,e),xr(pa,n))}function xa(e){ma.current===e&&(_r(pa),_r(ma))}var wa=(new r.Component).refs;function ka(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Aa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ii(),a=Kr(r=Po(r,e));a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Jr(e,a),No(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ii(),a=Kr(r=Po(r,e));a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Jr(e,a),No(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ii(),r=Kr(n=Po(n,e));r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Jr(e,r),No(e,n)}};function Ta(e,t,n,r,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(a,o))}function Ma(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function Ea(e,t,n,r){var a=e.stateNode,o=Er(t)?Tr:kr.current;a.props=n,a.state=e.memoizedState,a.refs=wa,a.context=Mr(e,o),null!==(o=e.updateQueue)&&(ta(e,o,n,a,r),a.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(ka(e,t,o,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Aa.enqueueReplaceState(a,a.state,null),null!==(o=e.updateQueue)&&(ta(e,o,n,a,r),a.state=e.memoizedState)),"function"==typeof a.componentDidMount&&(e.effectTag|=4)}var Ca=Array.isArray;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&3!==n.tag&&i("110"),r=n.stateNode),r||i("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===wa&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}"string"!=typeof e&&i("284"),n._owner||i("254",e)}return e}function ja(e,t){"textarea"!==e.type&&i("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Oa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=Fr(e,t,n)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||8!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n,r)).return=e,t)}function u(e,t,n,r){return null!==t&&t.type===n.type?((r=a(t,n.props,r)).ref=Sa(e,t,n),r.return=e,r):((r=Br(n,e.mode,r)).ref=Sa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||6!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[],r)).return=e,t)}function f(e,t,n,r,o){return null===t||9!==t.tag?((t=Ur(n,e.mode,r,o)).return=e,t):((t=a(t,n,r)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ke:return(n=Br(t,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case Ze:return(t=qr(t,e.mode,n)).return=e,t}if(Ca(t)||it(t))return(t=Ur(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ke:return n.key===a?n.type===Je?f(e,t,n.props.children,r,a):u(e,t,n,r):null;case Ze:return n.key===a?c(e,t,n,r):null}if(Ca(n)||it(n))return null!==a?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ke:return e=e.get(null===r.key?n:r.key)||null,r.type===Je?f(t,e,r.props.children,a,r.key):u(t,e,r,a);case Ze:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Ca(r)||it(r))return f(t,e=e.get(n)||null,r,a,null);ja(t,r)}return null}function m(a,i,s,l){for(var u=null,c=null,f=i,m=i=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(a,f,s[m],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(a,f),i=o(g,i,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(a,f),u;if(null===f){for(;m<s.length;m++)(f=d(a,s[m],l))&&(i=o(f,i,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(a,f);m<s.length;m++)(v=p(f,a,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),i=o(v,i,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(a,e)}),u}function v(a,s,l,u){var c=it(l);"function"!=typeof c&&i("150"),null==(l=c.call(l))&&i("151");for(var f=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(a,m,y.value,u);if(null===b){m||(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,v),null===f?c=b:f.sibling=b,f=b,m=g}if(y.done)return n(a,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=d(a,y.value,u))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(a,m);!y.done;v++,y=l.next())null!==(y=p(m,a,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach(function(e){return t(a,e)}),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===Je&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case Ke:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(9===u.tag?o.type===Je:u.type===o.type){n(e,u.sibling),(r=a(u,o.type===Je?o.props.children:o.props,l)).ref=Sa(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Je?((r=Ur(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Br(o,e.mode,l)).ref=Sa(e,r,o),l.return=e,e=l)}return s(e);case Ze:e:{for(u=o.key;null!==r;){if(r.key===u){if(6===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=a(r,o.children||[],l)).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=qr(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&8===r.tag?(n(e,r.sibling),(r=a(r,o,l)).return=e,e=r):(n(e,r),(r=Hr(o,e.mode,l)).return=e,e=r),s(e);if(Ca(o))return m(e,r,o,l);if(it(o))return v(e,r,o,l);if(c&&ja(e,o),void 0===o&&!u)switch(e.tag){case 2:case 3:case 0:i("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var Pa=Oa(!0),Na=Oa(!1),Ia=null,La=null,Da=!1;function Ra(e,t){var n=new Rr(7,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 7:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 8:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Fa(e){if(Da){var t=La;if(t){var n=t;if(!za(e,t)){if(!(t=vr(n))||!za(e,t))return e.effectTag|=2,Da=!1,void(Ia=e);Ra(Ia,n)}Ia=e,La=gr(t)}else e.effectTag|=2,Da=!1,Ia=e}}function Ba(e){for(e=e.return;null!==e&&7!==e.tag&&5!==e.tag;)e=e.return;Ia=e}function Ua(e){if(e!==Ia)return!1;if(!Da)return Ba(e),Da=!0,!1;var t=e.type;if(7!==e.tag||"head"!==t&&"body"!==t&&!mr(t,e.memoizedProps))for(t=La;t;)Ra(e,t),t=vr(t);return Ba(e),La=Ia?vr(e.stateNode):null,!0}function Ha(){La=Ia=null,Da=!1}var qa=Ge.ReactCurrentOwner;function Va(e,t,n,r){t.child=null===e?Na(t,null,n,r):Pa(t,e.child,n,r)}function Wa(e,t,n,r,a){n=n.render;var o=t.ref;return Ar.current||t.memoizedProps!==r||o!==(null!==e?e.ref:null)?(Va(e,t,n=n(r,o),a),t.memoizedProps=r,t.child):Qa(e,t,a)}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Xa(e,t,n,r,a){var o=Er(n)?Tr:kr.current;return o=Mr(t,o),fa(t),n=n(r,o),t.effectTag|=1,Va(e,t,n,a),t.memoizedProps=r,t.child}function Ya(e,t,n,r,a){if(Er(n)){var o=!0;Pr(t)}else o=!1;if(fa(t),null===e)if(null===t.stateNode){var i=Er(n)?Tr:kr.current,s=n.contextTypes,l=null!==s&&void 0!==s,u=new n(r,s=l?Mr(t,i):wr);t.memoizedState=null!==u.state&&void 0!==u.state?u.state:null,u.updater=Aa,t.stateNode=u,u._reactInternalFiber=t,l&&((l=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,l.__reactInternalMemoizedMaskedChildContext=s),Ea(t,n,r,a),r=!0}else{i=t.stateNode,s=t.memoizedProps,i.props=s;var c=i.context;l=Mr(t,l=Er(n)?Tr:kr.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||c!==l)&&Ma(t,i,r,l),Gr=!1;var d=t.memoizedState;c=i.state=d;var h=t.updateQueue;null!==h&&(ta(t,h,r,i,a),c=t.memoizedState),s!==r||d!==c||Ar.current||Gr?("function"==typeof f&&(ka(t,n,f,r),c=t.memoizedState),(s=Gr||Ta(t,n,s,r,d,c,l))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.effectTag|=4),r=!1)}else i=t.stateNode,s=t.memoizedProps,i.props=s,c=i.context,l=Mr(t,l=Er(n)?Tr:kr.current),(u="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||c!==l)&&Ma(t,i,r,l),Gr=!1,c=t.memoizedState,d=i.state=c,null!==(h=t.updateQueue)&&(ta(t,h,r,i,a),d=t.memoizedState),s!==r||c!==d||Ar.current||Gr?("function"==typeof f&&(ka(t,n,f,r),d=t.memoizedState),(f=Gr||Ta(t,n,s,r,c,d,l))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,d,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=l,r=f):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Ka(e,t,n,r,o,a)}function Ka(e,t,n,r,a,o){Ga(e,t);var i=0!=(64&t.effectTag);if(!r&&!i)return a&&Nr(t,n,!1),Qa(e,t,o);r=t.stateNode,qa.current=t;var s=i?null:r.render();return t.effectTag|=1,null!==e&&i&&(Va(e,t,null,o),t.child=null),Va(e,t,s,o),t.memoizedState=r.state,t.memoizedProps=r.props,a&&Nr(t,n,!0),t.child}function Za(e){var t=e.stateNode;t.pendingContext?jr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jr(0,t.context,!1),ya(e,t.containerInfo)}function Ja(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function Qa(e,t,n){null!==e&&(t.firstContextDependency=e.firstContextDependency);var r=t.childExpirationTime;if(0===r||r>n)return null;if(null!==e&&t.child!==e.child&&i("153"),null!==t.child){for(n=Fr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function $a(e,t,n){var r=t.expirationTime;if(!Ar.current&&(0===r||r>n)){switch(t.tag){case 5:Za(t),Ha();break;case 7:_a(t);break;case 2:Er(t.type)&&Pr(t);break;case 3:Er(t.type._reactResult)&&Pr(t);break;case 6:ya(t,t.stateNode.containerInfo);break;case 12:ua(t,t.memoizedProps.value)}return Qa(e,t,n)}switch(t.expirationTime=0,t.tag){case 4:return function(e,t,n,r){null!==e&&i("155");var a=t.pendingProps;if("object"==typeof n&&null!==n&&"function"==typeof n.then){var o=n=function(e){switch(e._reactStatus){case 1:return e._reactResult;case 2:throw e._reactResult;case 0:throw e;default:throw e._reactStatus=0,e.then(function(t){if(0===e._reactStatus){if(e._reactStatus=1,"object"==typeof t&&null!==t){var n=t.default;t=void 0!==n&&null!==n?n:t}e._reactResult=t}},function(t){0===e._reactStatus&&(e._reactStatus=2,e._reactResult=t)}),e}}(n);o="function"==typeof o?zr(o)?3:1:void 0!==o&&null!==o&&o.$$typeof?14:4,o=t.tag=o;var s=Ja(n,a);switch(o){case 1:return Xa(e,t,n,s,r);case 3:return Ya(e,t,n,s,r);case 14:return Wa(e,t,n,s,r);default:i("283",n)}}if(o=Mr(t,kr.current),fa(t),o=n(a,o),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){t.tag=2,Er(n)?(s=!0,Pr(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var l=n.getDerivedStateFromProps;return"function"==typeof l&&ka(t,n,l,a),o.updater=Aa,t.stateNode=o,o._reactInternalFiber=t,Ea(t,n,a,r),Ka(e,t,n,!0,s,r)}return t.tag=0,Va(e,t,o,r),t.memoizedProps=a,t.child}(e,t,t.type,n);case 0:return Xa(e,t,t.type,t.pendingProps,n);case 1:var a=t.type._reactResult;return e=Xa(e,t,a,Ja(a,r=t.pendingProps),n),t.memoizedProps=r,e;case 2:return Ya(e,t,t.type,t.pendingProps,n);case 3:return e=Ya(e,t,a=t.type._reactResult,Ja(a,r=t.pendingProps),n),t.memoizedProps=r,e;case 5:return Za(t),null===(r=t.updateQueue)&&i("282"),a=null!==(a=t.memoizedState)?a.element:null,ta(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===a?(Ha(),t=Qa(e,t,n)):(a=t.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(La=gr(t.stateNode.containerInfo),Ia=t,a=Da=!0),a?(t.effectTag|=2,t.child=Na(t,null,r,n)):(Va(e,t,r,n),Ha()),t=t.child),t;case 7:_a(t),null===e&&Fa(t),r=t.type,a=t.pendingProps;var o=null!==e?e.memoizedProps:null,s=a.children;return mr(r,a)?s=null:null!==o&&mr(r,o)&&(t.effectTag|=16),Ga(e,t),1073741823!==n&&1&t.mode&&a.hidden?(t.expirationTime=1073741823,t.memoizedProps=a,t=null):(Va(e,t,s,n),t.memoizedProps=a,t=t.child),t;case 8:return null===e&&Fa(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 6:return ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Pa(t,null,r,n):Va(e,t,r,n),t.memoizedProps=r,t.child;case 13:return Wa(e,t,t.type,t.pendingProps,n);case 14:return e=Wa(e,t,a=t.type._reactResult,Ja(a,r=t.pendingProps),n),t.memoizedProps=r,e;case 9:return Va(e,t,r=t.pendingProps,n),t.memoizedProps=r,t.child;case 10:return Va(e,t,r=t.pendingProps.children,n),t.memoizedProps=r,t.child;case 15:return Va(e,t,(r=t.pendingProps).children,n),t.memoizedProps=r,t.child;case 12:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,t.memoizedProps=a,ua(t,o),null!==s){var l=s.value;if(0===(o=l===o&&(0!==l||1/l==1/o)||l!=l&&o!=o?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===a.children&&!Ar.current){t=Qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){if(null!==(l=s.firstContextDependency))do{if(l.context===r&&0!=(l.observedBits&o)){if(2===s.tag||3===s.tag){var u=Kr(n);u.tag=2,Jr(s,u)}(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n),null!==(u=s.alternate)&&(0===u.expirationTime||u.expirationTime>n)&&(u.expirationTime=n);for(var c=s.return;null!==c;){if(u=c.alternate,0===c.childExpirationTime||c.childExpirationTime>n)c.childExpirationTime=n,null!==u&&(0===u.childExpirationTime||u.childExpirationTime>n)&&(u.childExpirationTime=n);else{if(null===u||!(0===u.childExpirationTime||u.childExpirationTime>n))break;u.childExpirationTime=n}c=c.return}}u=s.child,l=l.next}while(null!==l);else u=12===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}}Va(e,t,a.children,n),t=t.child}return t;case 11:return o=t.type,a=(r=t.pendingProps).children,fa(t),a=a(o=da(o,r.unstable_observedBits)),t.effectTag|=1,Va(e,t,a,n),t.memoizedProps=r,t.child;default:i("156")}}function eo(e){e.effectTag|=4}var to=void 0,no=void 0,ro=void 0;function ao(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&2===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function oo(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Oo(e,t)}else t.current=null}function io(e){switch("function"==typeof Lr&&Lr(e),e.tag){case 2:case 3:oo(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Oo(e,t)}break;case 7:oo(e);break;case 6:uo(e)}}function so(e){return 7===e.tag||5===e.tag||6===e.tag}function lo(e){e:{for(var t=e.return;null!==t;){if(so(t)){var n=t;break e}t=t.return}i("160"),n=void 0}var r=t=void 0;switch(n.tag){case 7:t=n.stateNode,r=!1;break;case 5:case 6:t=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(rr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||so(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;7!==n.tag&&8!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||6===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(7===a.tag||8===a.tag)if(n)if(r){var o=t,s=a.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(s,l):o.insertBefore(s,l)}else t.insertBefore(a.stateNode,n);else r?(o=t,s=a.stateNode,8===o.nodeType?(l=o.parentNode).insertBefore(s,o):(l=o).appendChild(s),null===l.onclick&&(l.onclick=fr)):t.appendChild(a.stateNode);else if(6!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function uo(e){for(var t=e,n=!1,r=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&i("160"),n.tag){case 7:r=n.stateNode,a=!1;break e;case 5:case 6:r=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(7===t.tag||8===t.tag){e:for(var o=t,s=o;;)if(io(s),null!==s.child&&6!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a?(o=r,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(t.stateNode)}else if(6===t.tag?(r=t.stateNode.containerInfo,a=!0):io(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;6===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function co(e,t){switch(t.tag){case 2:case 3:break;case 7:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,a=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[D]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xt(n,r),ur(e,a),t=ur(e,r),a=0;a<o.length;a+=2){var s=o[a],l=o[a+1];"style"===s?ir(n,l):"dangerouslySetInnerHTML"===s?nr(n,l):"children"===s?rr(n,l):gt(n,s,l,t)}switch(e){case"input":wt(n,r);break;case"textarea":Zn(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?Xn(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?Xn(n,!!r.multiple,r.defaultValue,!0):Xn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 8:null===t.stateNode&&i("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 5:case 15:case 16:break;default:i("163")}}function fo(e,t,n){(n=Kr(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hi(r),ao(e,t)},n}function ho(e,t,n){(n=Kr(n)).tag=3;var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){null===Mo?Mo=new Set([this]):Mo.add(this);var n=t.value,r=t.stack;ao(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function po(e){switch(e.tag){case 2:Er(e.type)&&Cr();var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return Er(e.type._reactResult)&&Cr(),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return ba(),Sr(),0!=(64&(t=e.effectTag))&&i("285"),e.effectTag=-1025&t|64,e;case 7:return xa(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 6:return ba(),null;case 12:return ca(e),null;default:return null}}to=function(){},no=function(e,t,n,r,o){var i=e.memoizedProps;if(i!==r){var s=t.stateNode;switch(ga(pa.current),e=null,n){case"input":i=bt(s,i),r=bt(s,r),e=[];break;case"option":i=Gn(s,i),r=Gn(s,r),e=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":i=Yn(s,i),r=Yn(s,r),e=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(s.onclick=fr)}lr(n,r),s=n=void 0;var l=null;for(n in i)if(!r.hasOwnProperty(n)&&i.hasOwnProperty(n)&&null!=i[n])if("style"===n){var u=i[n];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=i?i[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(e||(e=[]),e.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=c&&cr(o,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}l&&(e=e||[]).push("style",l),o=e,(t.updateQueue=o)&&eo(t)}},ro=function(e,t,n,r){n!==r&&eo(t)};var mo={readContext:da},vo=Ge.ReactCurrentOwner,go=0,yo=0,bo=!1,_o=null,xo=null,wo=0,ko=!1,Ao=null,To=!1,Mo=null;function Eo(){if(null!==_o)for(var e=_o.return;null!==e;){var t=e;switch(t.tag){case 2:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Cr();break;case 3:null!==(n=t.type._reactResult.childContextTypes)&&void 0!==n&&Cr();break;case 5:ba(),Sr();break;case 7:xa(t);break;case 6:ba();break;case 12:ca(t)}e=e.return}xo=null,wo=0,ko=!1,_o=null}function Co(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){var o=t,s=(t=e).pendingProps;switch(t.tag){case 0:case 1:break;case 2:Er(t.type)&&Cr();break;case 3:Er(t.type._reactResult)&&Cr();break;case 5:ba(),Sr(),(s=t.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==o&&null!==o.child||(Ua(t),t.effectTag&=-3),to(t);break;case 7:xa(t);var l=ga(va.current),u=t.type;if(null!==o&&null!=t.stateNode)no(o,t,u,s,l),o.ref!==t.ref&&(t.effectTag|=128);else if(s){var c=ga(pa.current);if(Ua(t)){o=(s=t).stateNode;var f=s.type,d=s.memoizedProps,h=l;switch(o[L]=s,o[D]=d,u=void 0,l=f){case"iframe":case"object":Tn("load",o);break;case"video":case"audio":for(f=0;f<re.length;f++)Tn(re[f],o);break;case"source":Tn("error",o);break;case"img":case"image":case"link":Tn("error",o),Tn("load",o);break;case"form":Tn("reset",o),Tn("submit",o);break;case"details":Tn("toggle",o);break;case"input":_t(o,d),Tn("invalid",o),cr(h,"onChange");break;case"select":o._wrapperState={wasMultiple:!!d.multiple},Tn("invalid",o),cr(h,"onChange");break;case"textarea":Kn(o,d),Tn("invalid",o),cr(h,"onChange")}for(u in lr(l,d),f=null,d)d.hasOwnProperty(u)&&(c=d[u],"children"===u?"string"==typeof c?o.textContent!==c&&(f=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(f=["children",""+c]):b.hasOwnProperty(u)&&null!=c&&cr(h,u));switch(l){case"input":Ve(o),kt(o,d,!0);break;case"textarea":Ve(o),Jn(o);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(o.onclick=fr)}u=f,s.updateQueue=u,(s=null!==u)&&eo(t)}else{d=t,o=u,h=s,f=9===l.nodeType?l:l.ownerDocument,c===Qn.html&&(c=$n(o)),c===Qn.html?"script"===o?((o=f.createElement("div")).innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"==typeof h.is?f=f.createElement(o,{is:h.is}):(f=f.createElement(o),"select"===o&&h.multiple&&(f.multiple=!0)):f=f.createElementNS(c,o),(o=f)[L]=d,o[D]=s;e:for(d=o,h=t,f=h.child;null!==f;){if(7===f.tag||8===f.tag)d.appendChild(f.stateNode);else if(6!==f.tag&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===h)break;for(;null===f.sibling;){if(null===f.return||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}h=o;var p=l,m=ur(f=u,d=s);switch(f){case"iframe":case"object":Tn("load",h),l=d;break;case"video":case"audio":for(l=0;l<re.length;l++)Tn(re[l],h);l=d;break;case"source":Tn("error",h),l=d;break;case"img":case"image":case"link":Tn("error",h),Tn("load",h),l=d;break;case"form":Tn("reset",h),Tn("submit",h),l=d;break;case"details":Tn("toggle",h),l=d;break;case"input":_t(h,d),l=bt(h,d),Tn("invalid",h),cr(p,"onChange");break;case"option":l=Gn(h,d);break;case"select":h._wrapperState={wasMultiple:!!d.multiple},l=a({},d,{value:void 0}),Tn("invalid",h),cr(p,"onChange");break;case"textarea":Kn(h,d),l=Yn(h,d),Tn("invalid",h),cr(p,"onChange");break;default:l=d}lr(f,l),c=void 0;var v=f,g=h,y=l;for(c in y)if(y.hasOwnProperty(c)){var _=y[c];"style"===c?ir(g,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&nr(g,_):"children"===c?"string"==typeof _?("textarea"!==v||""!==_)&&rr(g,_):"number"==typeof _&&rr(g,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=_&&cr(p,c):null!=_&&gt(g,c,_,m))}switch(f){case"input":Ve(h),kt(h,d,!1);break;case"textarea":Ve(h),Jn(h);break;case"option":null!=d.value&&h.setAttribute("value",""+yt(d.value));break;case"select":(l=h).multiple=!!d.multiple,null!=(h=d.value)?Xn(l,!!d.multiple,h,!1):null!=d.defaultValue&&Xn(l,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof l.onClick&&(h.onclick=fr)}(s=pr(u,s))&&eo(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&i("166");break;case 8:o&&null!=t.stateNode?ro(o,t,o.memoizedProps,s):("string"!=typeof s&&(null===t.stateNode&&i("166")),o=ga(va.current),ga(pa.current),Ua(t)?(u=(s=t).stateNode,o=s.memoizedProps,u[L]=s,(s=u.nodeValue!==o)&&eo(t)):(u=t,(s=(9===o.nodeType?o:o.ownerDocument).createTextNode(s))[L]=u,t.stateNode=s));break;case 13:case 14:case 16:case 9:case 10:case 15:break;case 6:ba(),to(t);break;case 12:ca(t);break;case 11:break;case 4:i("167");default:i("156")}if(t=_o=null,s=e,1073741823===wo||1073741823!==s.childExpirationTime){for(u=0,o=s.child;null!==o;)l=o.expirationTime,d=o.childExpirationTime,(0===u||0!==l&&l<u)&&(u=l),(0===u||0!==d&&d<u)&&(u=d),o=o.sibling;s.childExpirationTime=u}if(null!==t)return t;null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=po(e)))return e.effectTag&=511,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==r)return r;if(null===n)break;e=n}return null}function So(e){var t=$a(e.alternate,e,wo);return null===t&&(t=Co(e)),vo.current=null,t}function jo(e,t,n){bo&&i("243"),bo=!0,vo.currentDispatcher=mo;var r=e.nextExpirationTimeToWorkOn;r===wo&&e===xo&&null!==_o||(Eo(),wo=r,_o=Fr((xo=e).current,null,wo),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(t)for(;null!==_o&&!di();)_o=So(_o);else for(;null!==_o;)_o=So(_o)}catch(e){if(null===_o)a=!0,hi(e);else{null===_o&&i("271");var o=_o,s=o.return;if(null!==s){e:{var l=s,u=o,c=e;s=wo,u.effectTag|=512,u.firstEffect=u.lastEffect=null,ko=!0,c=aa(c,u);do{switch(l.tag){case 5:l.effectTag|=1024,l.expirationTime=s,Qr(l,s=fo(l,c,s));break e;case 2:case 3:u=c;var f=l.stateNode;if(0==(64&l.effectTag)&&null!==f&&"function"==typeof f.componentDidCatch&&(null===Mo||!Mo.has(f))){l.effectTag|=1024,l.expirationTime=s,Qr(l,s=ho(l,u,s));break e}}l=l.return}while(null!==l)}_o=Co(o);continue}a=!0,hi(e)}}break}if(bo=!1,la=sa=ia=vo.currentDispatcher=null,a)xo=null,e.finishedWork=null;else if(null!==_o)e.finishedWork=null;else{if(null===(t=e.current.alternate)&&i("281"),xo=null,ko){if(a=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==a&&a>r||0!==o&&o>r||0!==s&&s>r)return e.didError=!1,0!==(n=e.latestPingedTime)&&n<=r&&(e.latestPingedTime=0),n=e.earliestPendingTime,t=e.latestPendingTime,n===r?e.earliestPendingTime=t===r?e.latestPendingTime=0:t:t===r&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,t=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=r:n>r?e.earliestSuspendedTime=r:t<r&&(e.latestSuspendedTime=r),Wr(r,e),void(e.expirationTime=e.expirationTime);if(!e.didError&&!n)return e.didError=!0,e.nextExpirationTimeToWorkOn=r,r=e.expirationTime=1,void(e.expirationTime=r)}e.pendingCommitExpirationTime=r,e.finishedWork=t}}function Oo(e,t){var n;e:{for(bo&&!To&&i("263"),n=e.return;null!==n;){switch(n.tag){case 2:case 3:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof r.componentDidCatch&&(null===Mo||!Mo.has(r))){Jr(n,e=ho(n,e=aa(t,e),1)),No(n,1),n=void 0;break e}break;case 5:Jr(n,e=fo(n,e=aa(t,e),1)),No(n,1),n=void 0;break e}n=n.return}5===e.tag&&(Jr(e,n=fo(e,n=aa(t,e),1)),No(e,1)),n=void 0}return n}function Po(e,t){return 0!==yo?e=yo:bo?e=To?1:wo:1&t.mode?(e=Ko?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)),null!==xo&&e===wo&&(e+=1)):e=1,Ko&&(0===Ho||e>Ho)&&(Ho=e),e}function No(e,t){e:{(0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t);var n=e.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>t)&&(n.expirationTime=t);var r=e.return;if(null===r&&5===e.tag)e=e.stateNode;else{for(;null!==r;){if(n=r.alternate,(0===r.childExpirationTime||r.childExpirationTime>t)&&(r.childExpirationTime=t),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>t)&&(n.childExpirationTime=t),null===r.return&&5===r.tag){e=r.stateNode;break e}r=r.return}e=null}}null!==e&&(!bo&&0!==wo&&t<wo&&Eo(),Vr(e,t),bo&&!To&&xo===e||(t=e,e=e.expirationTime,null===t.nextScheduledRoot?(t.expirationTime=e,null===Do?(Lo=Do=t,t.nextScheduledRoot=t):(Do=Do.nextScheduledRoot=t).nextScheduledRoot=Lo):(0===(n=t.expirationTime)||e<n)&&(t.expirationTime=e),Fo||(Xo?Yo&&(Bo=t,Uo=1,ci(t,1,!0)):1===e?ui(1,null):oi(t,e))),ti>ei&&(ti=0,i("185")))}function Io(e,t,n,r,a){var o=yo;yo=1;try{return e(t,n,r,a)}finally{yo=o}}var Lo=null,Do=null,Ro=0,zo=void 0,Fo=!1,Bo=null,Uo=0,Ho=0,qo=!1,Vo=!1,Wo=null,Go=null,Xo=!1,Yo=!1,Ko=!1,Zo=null,Jo=o.unstable_now(),Qo=2+(Jo/10|0),$o=Qo,ei=50,ti=0,ni=null,ri=1;function ai(){Qo=2+((o.unstable_now()-Jo)/10|0)}function oi(e,t){if(0!==Ro){if(t>Ro)return;null!==zo&&o.unstable_cancelScheduledWork(zo)}Ro=t,e=o.unstable_now()-Jo,zo=o.unstable_scheduleWork(li,{timeout:10*(t-2)-e})}function ii(){return Fo?$o:(si(),0!==Uo&&1073741823!==Uo||(ai(),$o=Qo),$o)}function si(){var e=0,t=null;if(null!==Do)for(var n=Do,r=Lo;null!==r;){var a=r.expirationTime;if(0===a){if((null===n||null===Do)&&i("244"),r===r.nextScheduledRoot){Lo=Do=r.nextScheduledRoot=null;break}if(r===Lo)Lo=a=r.nextScheduledRoot,Do.nextScheduledRoot=a,r.nextScheduledRoot=null;else{if(r===Do){(Do=n).nextScheduledRoot=Lo,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||a<e)&&(e=a,t=r),r===Do)break;if(1===e)break;n=r,r=r.nextScheduledRoot}}Bo=t,Uo=e}function li(e){if(e.didTimeout&&null!==Lo){ai();var t=Lo;do{var n=t.expirationTime;0!==n&&Qo>=n&&(t.nextExpirationTimeToWorkOn=Qo),t=t.nextScheduledRoot}while(t!==Lo)}ui(0,e)}function ui(e,t){if(Go=t,si(),null!==Go)for(ai(),$o=Qo;null!==Bo&&0!==Uo&&(0===e||e>=Uo)&&(!qo||Qo>=Uo);)ci(Bo,Uo,Qo>=Uo),si(),ai(),$o=Qo;else for(;null!==Bo&&0!==Uo&&(0===e||e>=Uo);)ci(Bo,Uo,!0),si();if(null!==Go&&(Ro=0,zo=null),0!==Uo&&oi(Bo,Uo),Go=null,qo=!1,ti=0,ni=null,null!==Zo)for(e=Zo,Zo=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Vo||(Vo=!0,Wo=e)}}if(Vo)throw e=Wo,Wo=null,Vo=!1,e}function ci(e,t,n){if(Fo&&i("245"),Fo=!0,null===Go||n){var r=e.finishedWork;null!==r?fi(e,r,t):(e.finishedWork=null,jo(e,!1,n),null!==(r=e.finishedWork)&&fi(e,r,t))}else null!==(r=e.finishedWork)?fi(e,r,t):(e.finishedWork=null,jo(e,!0,n),null!==(r=e.finishedWork)&&(di()?e.finishedWork=r:fi(e,r,t)));Fo=!1}function fi(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Zo?Zo=[r]:Zo.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ni?ti++:(ni=e,ti=0),To=bo=!0,e.current===t&&i("177"),0===(n=e.pendingCommitExpirationTime)&&i("261"),e.pendingCommitExpirationTime=0,r=t.expirationTime;var a=t.childExpirationTime;if(r=0===r||0!==a&&a<r?a:r,e.didError=!1,0===r?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(0!==(a=e.latestPendingTime)&&(a<r?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime<r&&(e.earliestPendingTime=e.latestPendingTime)),0===(a=e.earliestSuspendedTime)?Vr(e,r):r>e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Vr(e,r)):r<a&&Vr(e,r)),Wr(0,e),vo.current=null,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,dr=An,Rn(a=Dn())){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{var s=(o=(o=a.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(s&&0!==s.rangeCount){o=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{o.nodeType,u.nodeType}catch(e){o=null;break e}var c=0,f=-1,d=-1,h=0,p=0,m=a,v=null;t:for(;;){for(var g;m!==o||0!==l&&3!==m.nodeType||(f=c+l),m!==u||0!==s&&3!==m.nodeType||(d=c+s),3===m.nodeType&&(c+=m.nodeValue.length),null!==(g=m.firstChild);)v=m,m=g;for(;;){if(m===a)break t;if(v===o&&++h===l&&(f=c),v===u&&++p===s&&(d=c),null!==(g=m.nextSibling))break;v=(m=v).parentNode}m=g}o=-1===f||-1===d?null:{start:f,end:d}}else o=null}o=o||{start:0,end:0}}else o=null;for(hr={focusedElem:a,selectionRange:o},An=!1,Ao=r;null!==Ao;){a=!1,o=void 0;try{for(;null!==Ao;){if(256&Ao.effectTag){var y=Ao.alternate;e:switch(l=Ao,l.tag){case 2:case 3:if(256&l.effectTag&&null!==y){var b=y.memoizedProps,_=y.memoizedState,x=l.stateNode;x.props=l.memoizedProps,x.state=l.memoizedState;var w=x.getSnapshotBeforeUpdate(b,_);x.__reactInternalSnapshotBeforeUpdate=w}break e;case 5:case 7:case 8:case 6:break e;default:i("163")}}Ao=Ao.nextEffect}}catch(e){a=!0,o=e}a&&(null===Ao&&i("178"),Oo(Ao,o),null!==Ao&&(Ao=Ao.nextEffect))}for(Ao=r;null!==Ao;){y=!1,b=void 0;try{for(;null!==Ao;){var k=Ao.effectTag;if(16&k&&rr(Ao.stateNode,""),128&k){var A=Ao.alternate;if(null!==A){var T=A.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(14&k){case 2:lo(Ao),Ao.effectTag&=-3;break;case 6:lo(Ao),Ao.effectTag&=-3,co(Ao.alternate,Ao);break;case 4:co(Ao.alternate,Ao);break;case 8:uo(_=Ao),_.return=null,_.child=null,_.alternate&&(_.alternate.child=null,_.alternate.return=null)}Ao=Ao.nextEffect}}catch(e){y=!0,b=e}y&&(null===Ao&&i("178"),Oo(Ao,b),null!==Ao&&(Ao=Ao.nextEffect))}if(T=hr,A=Dn(),k=T.focusedElem,b=T.selectionRange,A!==k&&k&&k.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(k.ownerDocument.documentElement,k)){null!==b&&Rn(k)&&(A=b.start,void 0===(T=b.end)&&(T=A),"selectionStart"in k?(k.selectionStart=A,k.selectionEnd=Math.min(T,k.value.length)):(A=((y=k.ownerDocument||document)?y.defaultView:window).getSelection(),_=k.textContent.length,T=Math.min(b.start,_),b=void 0===b.end?T:Math.min(b.end,_),!A.extend&&T>b&&(_=b,b=T,T=_),_=Ln(k,T),x=Ln(k,b),_&&x&&(1!==A.rangeCount||A.anchorNode!==_.node||A.anchorOffset!==_.offset||A.focusNode!==x.node||A.focusOffset!==x.offset)&&((y=y.createRange()).setStart(_.node,_.offset),A.removeAllRanges(),T>b?(A.addRange(y),A.extend(x.node,x.offset)):(y.setEnd(x.node,x.offset),A.addRange(y))))),A=[];for(T=k;T=T.parentNode;)1===T.nodeType&&A.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof k.focus&&k.focus(),k=0;k<A.length;k++)(T=A[k]).element.scrollLeft=T.left,T.element.scrollTop=T.top}for(hr=null,An=!!dr,dr=null,e.current=t,Ao=r;null!==Ao;){r=!1,k=void 0;try{for(A=n;null!==Ao;){var M=Ao.effectTag;if(36&M){var E=Ao.alternate;switch(y=A,(T=Ao).tag){case 2:case 3:var C=T.stateNode;if(4&T.effectTag)if(null===E)C.props=T.memoizedProps,C.state=T.memoizedState,C.componentDidMount();else{var S=E.memoizedProps,j=E.memoizedState;C.props=T.memoizedProps,C.state=T.memoizedState,C.componentDidUpdate(S,j,C.__reactInternalSnapshotBeforeUpdate)}var O=T.updateQueue;null!==O&&(C.props=T.memoizedProps,C.state=T.memoizedState,na(0,O,C));break;case 5:var P=T.updateQueue;if(null!==P){if(b=null,null!==T.child)switch(T.child.tag){case 7:b=T.child.stateNode;break;case 2:case 3:b=T.child.stateNode}na(0,P,b)}break;case 7:var N=T.stateNode;null===E&&4&T.effectTag&&pr(T.type,T.memoizedProps)&&N.focus();break;case 8:case 6:case 15:case 16:break;default:i("163")}}if(128&M){var I=Ao.ref;if(null!==I){var L=Ao.stateNode;switch(Ao.tag){case 7:var D=L;break;default:D=L}"function"==typeof I?I(D):I.current=D}}var R=Ao.nextEffect;Ao.nextEffect=null,Ao=R}}catch(e){r=!0,k=e}r&&(null===Ao&&i("178"),Oo(Ao,k),null!==Ao&&(Ao=Ao.nextEffect))}bo=To=!1,"function"==typeof Ir&&Ir(t.stateNode),M=t.expirationTime,t=t.childExpirationTime,0===(t=0===M||0!==t&&t<M?t:M)&&(Mo=null),e.expirationTime=t,e.finishedWork=null}function di(){return!!qo||!(null===Go||Go.timeRemaining()>ri)&&(qo=!0)}function hi(e){null===Bo&&i("246"),Bo.expirationTime=0,Vo||(Vo=!0,Wo=e)}function pi(e,t){var n=Xo;Xo=!0;try{return e(t)}finally{(Xo=n)||Fo||ui(1,null)}}function mi(e,t){if(Xo&&!Yo){Yo=!0;try{return e(t)}finally{Yo=!1}}return e(t)}function vi(e,t,n){if(Ko)return e(t,n);Xo||Fo||0===Ho||(ui(Ho,null),Ho=0);var r=Ko,a=Xo;Xo=Ko=!0;try{return e(t,n)}finally{Ko=r,(Xo=a)||Fo||ui(1,null)}}function gi(e,t,n,r,a){var o=t.current;return n=function(e){if(!e)return wr;e=e._reactInternalFiber;e:{(2!==tn(e)||2!==e.tag&&3!==e.tag)&&i("170");var t=e;do{switch(t.tag){case 5:t=t.stateNode.context;break e;case 2:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}break;case 3:if(Er(t.type._reactResult)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);i("171"),t=void 0}if(2===e.tag){var n=e.type;if(Er(n))return Or(e,n,t)}else if(3===e.tag&&Er(n=e.type._reactResult))return Or(e,n,t);return t}(n),null===t.context?t.context=n:t.pendingContext=n,t=a,(a=Kr(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(a.callback=t),Jr(o,a),No(o,r),r}function yi(e,t,n,r){var a=t.current;return gi(e,t,n,a=Po(ii(),a),r)}function bi(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 7:default:return e.child.stateNode}}function _i(e){var t=2+25*(1+((ii()-2+500)/25|0));t<=go&&(t=go+1),this._expirationTime=go=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function xi(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function wi(e,t,n){e={current:t=new Rr(5,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function ki(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ai(e,t,n,r,a){ki(n)||i("200");var o=n._reactRootContainer;if(o){if("function"==typeof a){var s=a;a=function(){var e=bi(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,a):o.render(t,a)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new wi(e,!1,t)}(n,r),"function"==typeof a){var l=a;a=function(){var e=bi(o._internalRoot);l.call(e)}}mi(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,a):o.render(t,a)})}return bi(o._internalRoot)}function Ti(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ki(t)||i("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ze,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ce=function(e,t,n){switch(t){case"input":if(wt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=B(r);a||i("90"),We(r),wt(r,a)}}}break;case"textarea":Zn(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},_i.prototype.render=function(e){this._defer||i("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new xi;return gi(e,t,null,n,r._onCommit),r},_i.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},_i.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||i("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,a=t;a!==this;)r=a,a=a._next;null===r&&i("251"),r._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,t=n,Fo&&i("253"),Bo=e,Uo=t,ci(e,t,!0),ui(1,null),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},_i.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},xi.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},xi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&i("191",n),n()}}},wi.prototype.render=function(e,t){var n=this._internalRoot,r=new xi;return null!==(t=void 0===t?null:t)&&r.then(t),yi(e,n,null,r._onCommit),r},wi.prototype.unmount=function(e){var t=this._internalRoot,n=new xi;return null!==(e=void 0===e?null:e)&&n.then(e),yi(null,t,null,n._onCommit),n},wi.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,a=new xi;return null!==(n=void 0===n?null:n)&&a.then(n),yi(t,r,e,a._onCommit),a},wi.prototype.createBatch=function(){var e=new _i(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ie=pi,Le=vi,De=function(){Fo||0===Ho||(ui(Ho,null),Ho=0)};var Mi={createPortal:Ti,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?i("188"):i("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Ai(null,e,t,!0,n)},render:function(e,t,n){return Ai(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&i("38"),Ai(e,t,n,!1,r)},unmountComponentAtNode:function(e){return ki(e)||i("40"),!!e._reactRootContainer&&(mi(function(){Ai(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ti.apply(void 0,arguments)},unstable_batchedUpdates:pi,unstable_interactiveUpdates:vi,flushSync:function(e,t){Fo&&i("187");var n=Xo;Xo=!0;try{return Io(e,t)}finally{Xo=n,ui(1,null)}},unstable_flushControlled:function(e){var t=Xo;Xo=!0;try{Io(e)}finally{(Xo=t)||Fo||ui(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[z,F,B,O.injectEventPluginsByName,y,G,function(e){M(e,W)},Pe,Ne,Cn,N]},unstable_createRoot:function(e,t){return ki(e)||i("278"),new wi(e,!0,null!=t&&!0===t.hydrate)}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ir=Dr(function(e){return t.onCommitFiberRoot(n,e)}),Lr=Dr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(a({},e,{findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:R,bundleType:0,version:"16.5.1",rendererPackageName:"react-dom"});var Ei={default:Mi},Ci=Ei&&Mi||Ei;e.exports=Ci.default||Ci},"./node_modules/react-dom/index.js":function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n("./node_modules/react-dom/cjs/react-dom.production.min.js")},"./node_modules/react/cjs/react.production.min.js":function(e,t,n){"use strict";
/** @license React v16.5.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("./node_modules/object-assign/index.js"),a="function"==typeof Symbol&&Symbol.for,o=a?Symbol.for("react.element"):60103,i=a?Symbol.for("react.portal"):60106,s=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,c=a?Symbol.for("react.provider"):60109,f=a?Symbol.for("react.context"):60110,d=a?Symbol.for("react.async_mode"):60111,h=a?Symbol.for("react.forward_ref"):60112;a&&Symbol.for("react.placeholder");var p="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,o,i,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,i,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&m("85"),this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=_.prototype=new b;x.constructor=_,r(x,y.prototype),x.isPureReactComponent=!0;var w={current:null,currentDispatcher:null},k=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r=void 0,a={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&!A.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:o,type:e,key:i,ref:s,props:a,_owner:w.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var E=/\/+/g,C=[];function S(e,t,n,r){if(C.length){var a=C.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function O(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case i:l=!0}}if(l)return r(a,t,""===n?"."+P(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+P(s=t[u],u);l+=e(s,c,r,a)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=p&&t[p]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+P(s,u++),r,a);else"object"===s&&m("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function I(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,function(e){return e}):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(E,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,a){var o="";null!=n&&(o=(""+n).replace(E,"$&/")+"/"),O(e,I,t=S(t,o,r,a)),j(t)}var D={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;O(e,N,t=S(null,null,t,n)),j(t)},count:function(e){return O(e,function(){return null},null)},toArray:function(e){var t=[];return L(e,t,null,function(e){return e}),t},only:function(e){return M(e)||m("143"),e}},createRef:function(){return{current:null}},Component:y,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,Provider:null,Consumer:null,unstable_read:null}).Provider={$$typeof:c,_context:e},e.Consumer=e,e.unstable_read=function(e,t){var n=w.currentDispatcher;return null===n&&m("277"),n.readContext(e,t)}.bind(null,e),e},forwardRef:function(e){return{$$typeof:h,render:e}},Fragment:s,StrictMode:l,unstable_AsyncMode:d,unstable_Profiler:u,createElement:T,cloneElement:function(e,t,n){(null===e||void 0===e)&&m("267",e);var a=void 0,i=r({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=w.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(a in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)k.call(t,a)&&!A.hasOwnProperty(a)&&(i[a]=void 0===t[a]&&void 0!==c?c[a]:t[a])}if(1===(a=arguments.length-2))i.children=n;else if(1<a){c=Array(a);for(var f=0;f<a;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:s,ref:l,props:i,_owner:u}},createFactory:function(e){var t=T.bind(null,e);return t.type=e,t},isValidElement:M,version:"16.5.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:r}},R={default:D},z=R&&D||R;e.exports=z.default||z},"./node_modules/react/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react/cjs/react.production.min.js")},"./node_modules/schedule/cjs/schedule.production.min.js":function(e,t,n){"use strict";
/** @license React v16.5.1
 * schedule.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=!("undefined"==typeof window||!window.document||!window.document.createElement),a=Date,o="function"==typeof setTimeout?setTimeout:void 0,i="function"==typeof clearTimeout?clearTimeout:void 0,s="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,l="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0,u="object"==typeof performance&&"function"==typeof performance.now;if(t.unstable_now=void 0,u){var c=performance;t.unstable_now=function(){return c.now()}}else t.unstable_now=function(){return a.now()};if(t.unstable_scheduleWork=void 0,t.unstable_cancelScheduledWork=void 0,r){var f=null,d=null,h=-1,p=!1,m=!1,v=void 0,g=void 0,y=function(e){v=s(function(t){i(g),e(t)}),g=o(function(){l(v),e(t.unstable_now())},100)},b=0,_=33,x=33,w={didTimeout:!1,timeRemaining:function(){var e=b-t.unstable_now();return 0<e?e:0}},k=function(e,n){var r=e.scheduledCallback,a=!1;try{r(n),a=!0}finally{t.unstable_cancelScheduledWork(e),a||(p=!0,window.postMessage(A,"*"))}},A="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===A&&(p=!1,null!==f)){if(null!==f){var n=t.unstable_now();if(!(-1===h||h>n)){e=-1;for(var r=[],a=f;null!==a;){var o=a.timeoutTime;-1!==o&&o<=n?r.push(a):-1!==o&&(-1===e||o<e)&&(e=o),a=a.next}if(0<r.length)for(w.didTimeout=!0,n=0,a=r.length;n<a;n++)k(r[n],w);h=e}}for(e=t.unstable_now();0<b-e&&null!==f;)e=f,w.didTimeout=!1,k(e,w),e=t.unstable_now();null===f||m||(m=!0,y(T))}},!1);var T=function(e){m=!1;var t=e-b+x;t<x&&_<x?(8>t&&(t=8),x=t<_?_:t):_=t,b=e+x,p||(p=!0,window.postMessage(A,"*"))};t.unstable_scheduleWork=function(e,n){var r=-1;return null!=n&&"number"==typeof n.timeout&&(r=t.unstable_now()+n.timeout),(-1===h||-1!==r&&r<h)&&(h=r),e={scheduledCallback:e,timeoutTime:r,prev:null,next:null},null===f?f=e:null!==(n=e.prev=d)&&(n.next=e),d=e,m||(m=!0,y(T)),e},t.unstable_cancelScheduledWork=function(e){if(null!==e.prev||f===e){var t=e.next,n=e.prev;e.next=null,e.prev=null,null!==t?null!==n?(n.next=t,t.prev=n):(t.prev=null,f=t):null!==n?(n.next=null,d=n):d=f=null}}}else{var M=new Map;t.unstable_scheduleWork=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=o(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return M.set(e,n),t},t.unstable_cancelScheduledWork=function(e){var t=M.get(e.scheduledCallback);M.delete(e),i(t)}}},"./node_modules/schedule/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/schedule/cjs/schedule.production.min.js")},"./node_modules/semantic-ui-react/dist/es/index.js":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"someByType",function(){return z}),n.d(r,"findByType",function(){return F}),n.d(r,"isNil",function(){return B});var a={};n.r(a),n.d(a,"COLORS",function(){return J}),n.d(a,"FLOATS",function(){return Q}),n.d(a,"SIZES",function(){return $}),n.d(a,"TEXT_ALIGNMENTS",function(){return ee}),n.d(a,"VERTICAL_ALIGNMENTS",function(){return te}),n.d(a,"VISIBILITY",function(){return ne}),n.d(a,"WIDTHS",function(){return re}),n.d(a,"DIRECTIONAL_TRANSITIONS",function(){return ae}),n.d(a,"STATIC_TRANSITIONS",function(){return oe}),n.d(a,"TRANSITIONS",function(){return ie}),n.d(a,"ACCESSIBILITY",function(){return se}),n.d(a,"ARROWS",function(){return le}),n.d(a,"AUDIO_VIDEO",function(){return ue}),n.d(a,"BUSINESS",function(){return ce}),n.d(a,"CHESS",function(){return fe}),n.d(a,"CODE",function(){return de}),n.d(a,"COMMUNICATION",function(){return he}),n.d(a,"COMPUTERS",function(){return pe}),n.d(a,"CURRENCY",function(){return me}),n.d(a,"DATE_TIME",function(){return ve}),n.d(a,"DESIGN",function(){return ge}),n.d(a,"EDITORS",function(){return ye}),n.d(a,"FILES",function(){return be}),n.d(a,"GENDERS",function(){return _e}),n.d(a,"HANDS_GESTURES",function(){return xe}),n.d(a,"HEALTH",function(){return we}),n.d(a,"IMAGES",function(){return ke}),n.d(a,"INTERFACES",function(){return Ae}),n.d(a,"LOGISTICS",function(){return Te}),n.d(a,"MAPS",function(){return Me}),n.d(a,"MEDICAL",function(){return Ee}),n.d(a,"OBJECTS",function(){return Ce}),n.d(a,"PAYMENTS_SHOPPING",function(){return Se}),n.d(a,"SHAPES",function(){return je}),n.d(a,"SPINNERS",function(){return Oe}),n.d(a,"SPORTS",function(){return Pe}),n.d(a,"STATUS",function(){return Ne}),n.d(a,"USERS_PEOPLE",function(){return Ie}),n.d(a,"VEHICLES",function(){return Le}),n.d(a,"WRITING",function(){return De}),n.d(a,"BRANDS",function(){return Re}),n.d(a,"ICONS",function(){return ze}),n.d(a,"ICON_ALIASES",function(){return Fe}),n.d(a,"ICONS_AND_ALIASES",function(){return Be}),n.d(a,"COMPONENT_CONTEXT_SPECIFIC_ICONS",function(){return Ue}),n.d(a,"ALL_ICONS_IN_ALL_CONTEXTS",function(){return He});var o=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(o),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),l=n.n(s),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(u),f=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(f),h=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(h),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),v=n.n(m),g=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),y=n.n(g),b=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),_=n.n(b),x=n("./node_modules/lodash/has.js"),w=n.n(x),k=n("./node_modules/lodash/invoke.js"),A=n.n(k),T=(n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js")),M=n.n(T),E=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce(function(e,n){return"childKey"===n?e:(-1===r.indexOf(n)&&(e[n]=t[n]),e)},{})},C=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),S=n.n(C),j=n("./node_modules/lodash/isNil.js"),O=n.n(j),P=n("./node_modules/classnames/index.js"),N=n.n(P),I=n("./node_modules/lodash/find.js"),L=n.n(I),D=n("./node_modules/lodash/some.js"),R=n.n(D),z=function(e,t){return R()(T.Children.toArray(e),{type:t})},F=function(e,t){return L()(T.Children.toArray(e),{type:t})},B=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length},U=n("./node_modules/lodash/uniq.js"),H=n.n(U),q=n("./node_modules/lodash/values.js"),V=n.n(q),W=n("./node_modules/lodash/keys.js"),G=n.n(W),X=n("./node_modules/@babel/runtime/helpers/typeof.js"),Y=n.n(X),K={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function Z(e){var t=Y()(e);return"string"===t||"number"===t?K[e]||e:""}var J=["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey","black"],Q=["left","right"],$=["mini","tiny","small","medium","large","big","huge","massive"],ee=["left","center","right","justified"],te=["bottom","middle","top"],ne=["mobile","tablet","computer","large screen","widescreen"],re=S()(G()(K)).concat(S()(G()(K).map(Number)),S()(V()(K))),ae=["browse","browse right","drop","fade","fade up","fade down","fade left","fade right","fly up","fly down","fly left","fly right","horizontal flip","vertical flip","scale","slide up","slide down","slide left","slide right","swing up","swing down","swing left","swing right","zoom"],oe=["jiggle","flash","shake","pulse","tada","bounce","glow"],ie=ae.concat(oe),se=["american sign language interpreting","assistive listening systems","audio description","blind","braille","closed captioning","closed captioning outline","deaf","low vision","phone volume","question circle","question circle outline","sign language","tty","universal access","wheelchair"],le=["angle double down","angle double left","angle double right","angle double up","angle down","angle left","angle right","angle up","arrow alternate circle down","arrow alternate circle down outline","arrow alternate circle left","arrow alternate circle left outline","arrow alternate circle right","arrow alternate circle right outline","arrow alternate circle up","arrow alternate circle up outline","arrow circle down","arrow circle left","arrow circle right","arrow circle up","arrow down","arrow left","arrow right","arrow up","arrows alternate","arrows alternate horizontal","arrows alternate vertical","caret down","caret left","caret right","caret square down","caret square down outline","caret square left","caret square left outline","caret square right","caret square right outline","caret square up","caret square up outline","caret up","cart arrow down","chart line","chevron circle down","chevron circle left","chevron circle right","chevron circle up","chevron down","chevron left","chevron right","chevron up","cloud download","cloud upload","download","exchange","expand arrows alternate","external alternate","external square alternate","hand point down","hand point down outline","hand point left","hand point left outline","hand point right","hand point right outline","hand point up","hand point up outline","hand pointer","hand pointer outline","history","level down alternate","level up alternate","location arrow","long arrow alternate down","long arrow alternate left","long arrow alternate right","long arrow alternate up","mouse pointer","play","random","recycle","redo","redo alternate","reply","reply all","retweet","share","share square","share square outline","sign-in","sign-out","sign-in alternate","sign-out alternate","sort","sort alphabet down","sort alphabet up","sort amount down","sort amount up","sort down","sort numeric down","sort numeric up","sort up","sync","sync alternate","text height","text width","undo","undo alternate","upload","zoom-in","zoom-out"],ue=["audio description","backward","circle","circle outline","closed captioning","closed captioning outline","compress","eject","expand","expand arrows alternate","fast backward","fast forward","file audio","file audio outline","file video","file video outline","film","forward","headphones","microphone","microphone slash","music","pause","pause circle","pause circle outline","phone volume","play","play circle","play circle outline","podcast","random","redo","redo alternate","rss","rss square","step backward","step forward","stop","stop circle","stop circle outline","sync","sync alternate","undo","undo alternate","video","volume down","volume off","volume up"],ce=["address book","address book outline","address card","address card outline","archive","balance scale","birthday cake","book","briefcase","building","building outline","bullhorn","bullseye","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","certificate","chart area","chart bar","chart bar outline","chart line","chart pie","clipboard","clipboard outline","coffee","columns","compass","compass outline","copy","copy outline","copyright","copyright outline","cut","edit","edit outline","envelope","envelope outline","envelope open","envelope open outline","envelope square","eraser","fax","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","globe","industry","paperclip","paste","pen square","pencil alternate","percent","phone","phone square","phone volume","registered","registered outline","save","save outline","sitemap","sticky note","sticky note outline","suitcase","table","tag","tags","tasks","thumbtack","trademark"],fe=["chess","chess bishop","chess board","chess king","chess knight","chess pawn","chess queen","chess rook","square full"],de=["archive","barcode","bath","bug","code","code branch","coffee","file","file outline","file alternate","file alternate outline","file code","file code outline","filter","fire extinguisher","folder","folder outline","folder open","folder open outline","keyboard","keyboard outline","microchip","qrcode","shield alternate","sitemap","terminal","user secret","window close","window close outline","window maximize","window maximize outline","window minimize","window minimize outline","window restore","window restore outline"],he=["address book","address book outline","address card","address card outline","american sign language interpreting","assistive listening systems","at","bell","bell outline","bell slash","bell slash outline","bullhorn","comment","comment outline","comment alternate","comment alternate outline","comments","comments outline","envelope","envelope outline","envelope open","envelope open outline","envelope square","fax","inbox","language","microphone","microphone slash","mobile","mobile alternate","paper plane","paper plane outline","phone","phone square","phone volume","rss","rss square","tty","wifi"],pe=["desktop","download","hdd","hdd outline","headphones","keyboard","keyboard outline","laptop","microchip","mobile","mobile alternate","plug","power off","print","save","save outline","server","tablet","tablet alternate","tv","upload"],me=["dollar sign","euro sign","lira sign","money bill alternate","money bill alternate outline","pound sign","ruble sign","rupee sign","shekel sign","won sign","yen sign"],ve=["bell","bell outline","bell slash","bell slash outline","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","clock","clock outline","hourglass","hourglass outline","hourglass end","hourglass half","hourglass start","stopwatch"],ge=["adjust","clone","clone outline","copy","copy outline","crop","crosshairs","cut","edit","edit outline","eraser","eye","eye dropper","eye slash","eye slash outline","object group","object group outline","object ungroup","object ungroup outline","paint brush","paste","pencil alternate","save","save outline","tint"],ye=["align center","align justify","align left","align right","bold","clipboard","clipboard outline","clone","clone outline","columns","copy","copy outline","cut","edit","edit outline","eraser","file","file outline","file alternate","file alternate outline","font","heading","i cursor","indent","italic","linkify","list","list alternate","list alternate outline","list ol","list ul","outdent","paper plane","paper plane outline","paperclip","paragraph","paste","pencil alternate","print","quote left","quote right","redo","redo alternate","reply","reply all","share","strikethrough","subscript","superscript","sync","sync alternate","table","tasks","text height","text width","th","th large","th list","trash","trash alternate","trash alternate outline","underline","undo","undo alternate","unlink"],be=["archive","clone","clone outline","copy","copy outline","cut","file","file outline","file alternate","file alternate outline","file archive","file archive outline","file audio","file audio outline","file code","file code outline","file excel","file excel outline","file image","file image outline","file pdf","file pdf outline","file powerpoint","file powerpoint outline","file video","file video outline","file word","file word outline","folder","folder outline","folder open","folder open outline","paste","save","save outline","sticky note","sticky note outline"],_e=["genderless","mars","mars double","mars stroke","mars stroke horizontal","mars stroke vertical","mercury","neuter","transgender","transgender alternate","venus","venus double","venus mars"],xe=["hand lizard","hand lizard outline","hand paper","hand paper outline","hand peace","hand peace outline","hand point down","hand point down outline","hand point left","hand point left outline","hand point right","hand point right outline","hand point up","hand point up outline","hand pointer","hand pointer outline","hand rock","hand rock outline","hand scissors","hand scissors outline","hand spock","hand spock outline","handshake","handshake outline","thumbs down","thumbs down outline","thumbs up","thumbs up outline"],we=["ambulance","h square","heart","heart outline","heartbeat","hospital","hospital outline","medkit","plus square","plus square outline","stethoscope","user md","wheelchair"],ke=["adjust","bolt","camera","camera retro","clone","clone outline","compress","expand","eye","eye dropper","eye slash","eye slash outline","file image","file image outline","film","id badge","id badge outline","id card","id card outline","image","image outline","images","images outline","sliders horizontal","tint"],Ae=["ban","barcode","bars","beer","bell","bell outline","bell slash","bell slash outline","bug","bullhorn","bullseye","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","certificate","check","check circle","check circle outline","check square","check square outline","circle","circle outline","clipboard","clipboard outline","clone","clone outline","cloud","cloud download","cloud upload","coffee","cog","cogs","copy","copy outline","cut","database","dot circle","dot circle outline","download","edit","edit outline","ellipsis horizontal","ellipsis vertical","envelope","envelope outline","envelope open","envelope open outline","eraser","exclamation","exclamation circle","exclamation triangle","external alternate","external square alternate","eye","eye slash","eye slash outline","file","file outline","file alternate","file alternate outline","filter","flag","flag outline","flag checkered","folder","folder outline","folder open","folder open outline","frown","frown outline","hashtag","heart","heart outline","history","home","i cursor","info","info circle","language","magic","meh","meh outline","microphone","microphone slash","minus","minus circle","minus square","minus square outline","paste","pencil alternate","plus","plus circle","plus square","plus square outline","qrcode","question","question circle","question circle outline","quote left","quote right","redo","redo alternate","reply","reply all","rss","rss square","save","save outline","search","search minus","search plus","share","share alternate","share alternate square","share square","share square outline","shield alternate","sign-in","sign-out","signal","sitemap","sliders horizontal","smile","smile outline","sort","sort alphabet down","sort alphabet up","sort amount down","sort amount up","sort down","sort numeric down","sort numeric up","sort up","star","star outline","star half","star half outline","sync","sync alternate","thumbs down","thumbs down outline","thumbs up","thumbs up outline","times","times circle","times circle outline","toggle off","toggle on","trash","trash alternate","trash alternate outline","trophy","undo","undo alternate","upload","user","user outline","user circle","user circle outline","wifi"],Te=["box","boxes","clipboard check","clipboard list","dolly","dolly flatbed","pallet","shipping fast","truck","warehouse"],Me=["ambulance","anchor","balance scale","bath","bed","beer","bell","bell outline","bell slash","bell slash outline","bicycle","binoculars","birthday cake","blind","bomb","book","bookmark","bookmark outline","briefcase","building","building outline","car","coffee","crosshairs","dollar sign","eye","eye slash","eye slash outline","fighter jet","fire","fire extinguisher","flag","flag outline","flag checkered","flask","gamepad","gavel","gift","glass martini","globe","graduation cap","h square","heart","heart outline","heartbeat","home","hospital","hospital outline","image","image outline","images","images outline","industry","info","info circle","key","leaf","lemon","lemon outline","life ring","life ring outline","lightbulb","lightbulb outline","location arrow","low vision","magnet","male","map","map outline","map marker","map marker alternate","map pin","map signs","medkit","money bill alternate","money bill alternate outline","motorcycle","music","newspaper","newspaper outline","paw","phone","phone square","phone volume","plane","plug","plus","plus square","plus square outline","print","recycle","road","rocket","search","search minus","search plus","ship","shopping bag","shopping basket","shopping cart","shower","street view","subway","suitcase","tag","tags","taxi","thumbtack","ticket alternate","tint","train","tree","trophy","truck","tty","umbrella","university","utensil spoon","utensils","wheelchair","wifi","wrench"],Ee=["ambulance","band aid","dna","first aid","heart","heart outline","heartbeat","hospital","hospital outline","hospital symbol","pills","plus","stethoscope","syringe","thermometer","user md","weight"],Ce=["ambulance","anchor","archive","balance scale","bath","bed","beer","bell","bell outline","bicycle","binoculars","birthday cake","bomb","book","bookmark","bookmark outline","briefcase","bug","building","building outline","bullhorn","bullseye","bus","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","camera","camera retro","car","clipboard","clipboard outline","cloud","coffee","cog","cogs","compass","compass outline","copy","copy outline","cube","cubes","cut","envelope","envelope outline","envelope open","envelope open outline","eraser","eye","eye dropper","fax","fighter jet","file","file outline","file alternate","file alternate outline","film","fire","fire extinguisher","flag","flag outline","flag checkered","flask","futbol","futbol outline","gamepad","gavel","gem","gem outline","gift","glass martini","globe","graduation cap","hdd","hdd outline","headphones","heart","heart outline","home","hospital","hospital outline","hourglass","hourglass outline","image","image outline","images","images outline","industry","key","keyboard","keyboard outline","laptop","leaf","lemon","lemon outline","life ring","life ring outline","lightbulb","lightbulb outline","lock","lock open","magic","magnet","map","map outline","map marker","map marker alternate","map pin","map signs","medkit","microchip","microphone","mobile","mobile alternate","money bill alternate","money bill alternate outline","moon","moon outline","motorcycle","newspaper","newspaper outline","paint brush","paper plane","paper plane outline","paperclip","paste","paw","pencil alternate","phone","plane","plug","print","puzzle piece","road","rocket","save","save outline","search","shield alternate","shopping bag","shopping basket","shopping cart","shower","snowflake","snowflake outline","space shuttle","star","star outline","sticky note","sticky note outline","stopwatch","subway","suitcase","sun","sun outline","tablet","tablet alternate","tachometer alternate","tag","tags","taxi","thumbtack","ticket alternate","train","trash","trash alternate","trash alternate outline","tree","trophy","truck","tv","umbrella","university","unlock","unlock alternate","utensil spoon","utensils","wheelchair","wrench"],Se=["bell","bell outline","bookmark","bookmark outline","bullhorn","camera","camera retro","cart arrow down","cart plus","certificate","credit card","credit card outline","gem","gem outline","gift","handshake","handshake outline","heart","heart outline","key","shopping bag","shopping basket","shopping cart","star","star outline","tag","tags","thumbs down","thumbs down outline","thumbs up","thumbs up outline","trophy"],je=["bookmark","bookmark outline","calendar","calendar outline","certificate","circle","circle outline","cloud","comment","comment outline","file","file outline","folder","folder outline","heart","heart outline","map marker","play","square","square outline","star","star outline"],Oe=["asterisk","certificate","circle notch","cog","compass","compass outline","crosshairs","life ring","life ring outline","snowflake","snowflake outline","spinner","sun","sun outline","sync"],Pe=["baseball ball","basketball ball","bowling ball","football ball","futbol","futbol outline","golf ball","hockey puck","quidditch","table tennis","volleyball ball"],Ne=["ban","battery empty","battery full","battery half","battery quarter","battery three quarters","bell","bell outline","bell slash","bell slash outline","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","cart arrow down","cart plus","exclamation","exclamation circle","exclamation triangle","eye","eye slash","eye slash outline","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","info","info circle","lock","lock open","minus","minus circle","minus square","minus square outline","plus","plus circle","plus square","plus square outline","question","question circle","question circle outline","shield alternate","shopping cart","sign in alternate","sign out alternate","thermometer empty","thermometer full","thermometer half","thermometer quarter","thermometer three quarters","thumbs down","thumbs down outline","thumbs up","thumbs up outline","toggle off","toggle on","unlock","unlock alternate"],Ie=["address book","address book outline","address card","address card outline","bed","blind","child","female","frown","frown outline","id badge","id badge outline","id card","id card outline","male","meh","meh outline","power off","smile","smile outline","street view","user","user outline","user circle","user circle outline","user md","user plus","user secret","user times","users","wheelchair"],Le=["ambulance","bicycle","bus","car","fighter jet","motorcycle","paper plane","paper plane outline","plane","rocket","ship","shopping cart","space shuttle","subway","taxi","train","truck","wheelchair"],De=["archive","book","bookmark","bookmark outline","edit","edit outline","envelope","envelope outline","envelope open","envelope open outline","eraser","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","keyboard","keyboard outline","newspaper","newspaper outline","paper plane","paper plane outline","paperclip","paragraph","pen square","pencil alternate","quote left","quote right","sticky note","sticky note outline","thumbtack"],Re=["500px","accessible","accusoft","adn","adversal","affiliatetheme","algolia","amazon","amazon pay","amilia","android","angellist","angrycreative","angular","app store","app store ios","apper","apple","apple pay","asymmetrik","audible","autoprefixer","avianex","aviato","aws","bandcamp","behance","behance square","bimobject","bitbucket","bitcoin","bity","black tie","blackberry","blogger","blogger b","bluetooth","bluetooth b","btc","buromobelexperte","buysellads","cc amazon pay","cc amex","cc apple pay","cc diners club","cc discover","cc jcb","cc mastercard","cc paypal","cc stripe","cc visa","centercode","chrome","cloudscale","cloudsmith","cloudversify","codepen","codiepie","connectdevelop","contao","cpanel","creative commons","css3","css3 alternate","cuttlefish","d and d","dashcube","delicious","deploydog","deskpro","deviantart","digg","digital ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble square","dropbox","drupal","dyalog","earlybirds","edge","elementor","ember","empire","envira","erlang","ethereum","etsy","expeditedssl","facebook","facebook f","facebook messenger","facebook square","firefox","first order","firstdraft","flickr","flipboard","fly","font awesome","font awesome alternate","font awesome flag","fonticons","fonticons fi","fort awesome","fort awesome alternate","forumbee","foursquare","free code camp","freebsd","get pocket","gg","gg circle","git","git square","github","github alternate","github square","gitkraken","gitlab","gitter","glide","glide g","gofore","goodreads","goodreads g","google","google drive","google play","google plus","google plus g","google plus square","google wallet","gratipay","grav","gripfire","grunt","gulp","hacker news","hacker news square","hips","hire a helper","hooli","hotjar","houzz","html5","hubspot","imdb","instagram","internet explorer","ioxhost","itunes","itunes note","jenkins","joget","joomla","js","js square","jsfiddle","keycdn","kickstarter","kickstarter k","korvue","laravel","lastfm","lastfm square","leanpub","less","linechat","linkedin","linkedin alternate","linode","linux","lyft","magento","maxcdn","medapps","medium","medium m","medrt","meetup","microsoft","mix","mixcloud","mizuni","modx","monero","napster","nintendo switch","node","node js","npm","ns8","nutritionix","odnoklassniki","odnoklassniki square","opencart","openid","opera","optin monster","osi","page4","pagelines","palfed","patreon","paypal","periscope","phabricator","phoenix framework","php","pied piper","pied piper alternate","pied piper pp","pinterest","pinterest p","pinterest square","playstation","product hunt","pushed","python","qq","quinscape","quora","ravelry","react","rebel","redriver","reddit","reddit alien","reddit square","rendact","renren","replyd","resolving","rocketchat","rockrms","safari","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","simplybuilt","sistrix","skyatlas","skype","slack","slack hash","slideshare","snapchat","snapchat ghost","snapchat square","soundcloud","speakap","spotify","stack exchange","stack overflow","staylinked","steam","steam square","steam symbol","sticker mule","strava","stripe","stripe s","studiovinari","stumbleupon","stumbleupon circle","superpowers","supple","telegram","telegram plane","tencent weibo","themeisle","trello","tripadvisor","tumblr","tumblr square","twitch","twitter","twitter square","typo3","uber","uikit","uniregistry","untappd","usb","ussunnah","vaadin","viacoin","viadeo","viadeo square","viber","vimeo","vimeo square","vimeo v","vine","vk","vnv","vuejs","wechat","weibo","weixin","whatsapp","whatsapp square","whmcs","wikipedia w","windows","wordpress","wordpress simple","wpbeginner","wpexplorer","wpforms","xbox","xing","xing square","y combinator","yahoo","yandex","yandex international","yelp","yoast","youtube","youtube square"],ze=H()(se.concat(le,ue,ce,fe,de,he,pe,me,ve,ge,ye,be,_e,xe,we,ke,Ae,Te,Me,Ee,Ce,Se,je,Oe,Pe,Ne,Ie,Le,De,Re)),Fe=["chess rock","ordered list","unordered list","user doctor","shield","puzzle","add circle","add square","add to calendar","add to cart","add user","add","alarm mute","alarm","ald","als","announcement","area chart","area graph","arrow down cart","asexual","asl interpreting","asl","assistive listening devices","attach","attention","balance","bar","bathtub","battery four","battery high","battery low","battery one","battery three","battery two","battery zero","birthday","block layout","bluetooth alternative","broken chain","browser","call square","call","cancel","cart","cc","chain","chat","checked calendar","checkmark","circle notched","close","cny","cocktail","commenting","computer","configure","content","deafness","delete calendar","delete","detective","discussions","doctor","dollar","dont","drivers license","dropdown","emergency","envira gallery","erase","eur","euro","eyedropper","factory","favorite","feed","female homosexual","file text","file text outline","find","first aid","fork","game","gay","gbp","google plus circle","google plus official","grab","graduation","grid layout","group","h","hand victory","handicap","hard of hearing","header","help circle","help","heterosexual","hide","hotel","hourglass four","hourglass full","hourglass one","hourglass three","hourglass two","idea","ils","in cart","inr","intergender","intersex","jpy","krw","lab","law","legal","lesbian","lightning","like","line graph","linkedin square","linkify","lira","list layout","magnify","mail forward","mail square","mail","male homosexual","man","marker","mars alternate","mars horizontal","mars vertical","microsoft edge","military","ms edge","mute","new pied piper","non binary transgender","numbered list","options","other gender horizontal","other gender vertical","other gender","payment","paypal card","pencil square","photo","picture","pie chart","pie graph","pied piper hat","pin","plus cart","point","pointing down","pointing left","pointing right","pointing up","pound","power cord","power","privacy","r circle","rain","record","refresh","remove circle","remove from calendar","remove user","remove","repeat","rmb","rouble","rub","ruble","rupee","s15","selected radio","send","setting","settings","shekel","sheqel","shipping","shop","shuffle","shutdown","sidebar","signing","signup","sliders","soccer","sort alphabet ascending","sort alphabet descending","sort ascending","sort content ascending","sort content descending","sort descending","sort numeric ascending","sort numeric descending","sound","spy","stripe card","student","talk","target","teletype","television","text cursor","text telephone","theme","thermometer","thumb tack","time","tm","toggle down","toggle left","toggle right","toggle up","translate","travel","treatment","triangle down","triangle left","triangle right","triangle up","try","unhide","unlinkify","unmute","usd","user cancel","user close","user delete","user x","vcard","video camera","video play","volume control phone","wait","warning circle","warning sign","warning","wi-fi","winner","wizard","woman","won","wordpress beginner","wordpress forms","world","write square","x","yen","zip","zoom in","zoom out","zoom","bitbucket square","checkmark box","circle thin","cloud download","cloud upload","compose","conversation","credit card alternative","currency","dashboard","diamond","disk","exchange","external share","external square","external","facebook official","food","hourglass zero","level down","level up","log out","meanpath","money","move","pencil","protect","radio","remove bookmark","resize horizontal","resize vertical","sign in","sign out","spoon","star half empty","star half full","ticket","times rectangle","write","youtube play"],Be=H()(S()(ze).concat(Fe)),Ue=["left dropdown"],He=H()(S()(Be).concat(Ue)),qe=function(e,t){return e&&t},Ve=function(e,t){return e&&!0!==e&&"".concat(e," ").concat(t)},We=function(e,t){return e&&(!0===e?t:"".concat(e," ").concat(t))},Ge=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(e){return"".concat(e.replace("-"," ")," ").concat(t)}).join(" "):null},Xe=function(e){return"justified"===e?"justified":Ve(e,"aligned")},Ye=function(e){return Ve(e,"aligned")},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&"equal"===e)return"equal width";var n=Y()(e);return"string"!==n&&"number"!==n||!t?Z(e):"".concat(Z(e)," ").concat(t)};var Ze=function(e,t,n){var r=e.defaultProps,a=void 0===r?{}:r;if(t.as&&t.as!==a.as)return t.as;if(n){var o=n();if(o)return o}return t.href?"a":a.as||"div"},Je=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),Qe=n.n(Je),$e=n("./node_modules/lodash/isArray.js"),et=n.n($e),tt=n("./node_modules/lodash/isPlainObject.js"),nt=n.n(tt),rt=n("./node_modules/lodash/isFunction.js"),at=n.n(rt),ot=n("./node_modules/lodash/isNumber.js"),it=n.n(ot),st=n("./node_modules/lodash/isString.js"),lt=n.n(st),ut=n("./node_modules/lodash/isBoolean.js"),ct=n.n(ut);function ft(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!=typeof e&&"string"!=typeof e)throw new Error("createShorthand() Component must be a string or function.");if(O()(n)||ct()(n))return null;var a=lt()(n),o=it()(n),i=at()(n),s=Object(T.isValidElement)(n),l=nt()(n),u=a||o||et()(n);if(!(i||s||l||u))return null;var c=r.defaultProps,f=void 0===c?{}:c,d=s&&n.props||l&&n||u&&t(n),h=r.overrideProps,p=void 0===h?{}:h;p=at()(p)?p(Qe()({},f,d)):p;var m=Qe()({},f,d,p);if(f.className||p.className||d.className){var v=N()(f.className,p.className,d.className);m.className=H()(v.split(" ")).join(" ")}if((f.style||p.style||d.style)&&(m.style=Qe()({},f.style,d.style,p.style)),O()(m.key)){var g=m.childKey,y=r.autoGenerateKey,b=void 0===y||y;O()(g)?b&&(a||o)&&(m.key=n):(m.key="function"==typeof g?g(m):g,delete m.childKey)}return s?Object(T.cloneElement)(n,m):u||l?M.a.createElement(e,m):i?n(e,m,m.children):void 0}function dt(e,t){if("function"!=typeof e&&"string"!=typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return ft(e,t,n,r)}}ft.handledProps=[];var ht=dt("div",function(e){return{children:e}}),pt=dt("iframe",function(e){return{src:e}}),mt=dt("img",function(e){return{src:e}}),vt=dt("input",function(e){return{type:e}}),gt=dt("label",function(e){return{children:e}}),yt=dt("p",function(e){return{children:e}}),bt=n("./node_modules/lodash/without.js"),_t=n.n(bt);function xt(e){var t=e.children,n=e.className,a=e.content,o=e.size,s=N()(o,"icons",n),l=E(xt,e),u=Ze(xt,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?a:t)}xt.handledProps=["as","children","className","content","size"],xt.propTypes={},xt.defaultProps={as:"i"};var wt=xt,kt=function(e){function t(){return l()(this,t),d()(this,p()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"getIconAriaOptions",value:function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return O()(n)?e["aria-hidden"]="true":e["aria-label"]=n,O()(r)||(e["aria-hidden"]=r),e}},{key:"render",value:function(){var e=this.props,n=e.bordered,r=e.circular,a=e.className,o=e.color,s=e.corner,l=e.disabled,u=e.fitted,c=e.flipped,f=e.inverted,d=e.link,h=e.loading,p=e.name,m=e.rotated,v=e.size,g=N()(o,p,v,qe(n,"bordered"),qe(r,"circular"),qe(s,"corner"),qe(l,"disabled"),qe(u,"fitted"),qe(f,"inverted"),qe(d,"link"),qe(h,"loading"),Ve(c,"flipped"),Ve(m,"rotated"),"icon",a),y=E(t,this.props),b=Ze(t,this.props),_=this.getIconAriaOptions();return M.a.createElement(b,i()({},y,_,{className:g}))}}]),t}(T.PureComponent);_()(kt,"defaultProps",{as:"i"}),_()(kt,"Group",wt),_()(kt,"handledProps",["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"]),kt.propTypes={},kt.create=dt(kt,function(e){return{name:e}});var At=kt,Tt=n("./node_modules/lodash/isUndefined.js"),Mt=n.n(Tt),Et=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Ct=n.n(Et),St=n("./node_modules/lodash/includes.js"),jt=n.n(St),Ot=n("./node_modules/lodash/forEach.js"),Pt=n.n(Ot),Nt=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],It=Nt.concat(["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),Lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.htmlProps,r=void 0===n?It:n,a=t.includeAria,o=void 0===a||a,i={},s={};return Pt()(e,function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(jt()(r,t)||n?i:s)[t]=e}),[i,s]},Dt="object"===("undefined"==typeof document?"undefined":Y()(document))&&null!==document,Rt="object"===("undefined"==typeof window?"undefined":Y()(window))&&null!==window&&window.self===window,zt=function e(){return O()(e.override)?Dt&&Rt:e.override},Ft=n("./node_modules/keyboard-key/src/keyboardKey.js"),Bt=n.n(Ft),Ut=n("./node_modules/lodash/inRange.js"),Ht=n.n(Ut),qt=n("./node_modules/lodash/first.js"),Vt=n.n(qt),Wt=function(e,t){if(R()([t,e],O.a))return!1;if(t.target&&(A()(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return A()(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(R()([n,r],O.a))return!1;var a=e.getClientRects();if(!(e.offsetWidth&&e.offsetHeight&&a&&a.length))return!1;var o=Vt()(a),i=o.top,s=o.bottom,l=o.left,u=o.right;return!R()([i,s,l,u],O.a)&&Ht()(r,i,s+.001)&&Ht()(n,l,u+.001)},Gt=n("./node_modules/@semantic-ui-react/event-stack/lib/index.js").instance,Xt=n("./node_modules/lodash/difference.js"),Yt=n.n(Xt),Kt=(n("./node_modules/lodash/startsWith.js"),n("./node_modules/lodash/filter.js")),Zt=n.n(Kt),Jt=n("./node_modules/lodash/isEmpty.js"),Qt=n.n(Jt),$t=(n("./node_modules/lodash/intersection.js"),n("./node_modules/lodash/each.js")),en=n.n($t),tn=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t[e];if(void 0!==a)return a;if(r){var o=t[function(e){return"default".concat(e[0].toUpperCase()+e.slice(1))}(e)];if(void 0!==o)return o;if(n){var i=n[e];if(void 0!==i)return i}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)},nn=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"trySetState",function(e,t){var r=n.constructor.autoControlledProps,a=Object.keys(e).reduce(function(t,a){return void 0!==n.props[a]?t:-1===r.indexOf(a)?t:(t[a]=e[a],t)},{});t&&(a=Qe()({},a,t)),Object.keys(a).length>0&&n.setState(a)});var i=n.constructor.autoControlledProps,s=A()(y()(y()(n)),"getInitialAutoControlledState",n.props)||{},u=i.reduce(function(e,t){return e[t]=tn(t,n.props,s,!0),e},{});return n.state=Qe()({},s,u),n}return v()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.constructor.autoControlledProps.reduce(function(n,r){var a=Mt()(e[r]),o=!Mt()(t.props[r])&&a;return a?o&&(n[r]=tn(r,e)):n[r]=e[r],n},{});Object.keys(n).length>0&&this.setState(n)}}]),t}(T.Component),rn=n("./node_modules/react-dom/index.js"),an=function(e){function t(){return l()(this,t),d()(this,p()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.innerRef;e&&e(Object(rn.findDOMNode)(this))}},{key:"render",value:function(){var e=this.props.children;return T.Children.only(e)}}]),t}(T.Component);_()(an,"handledProps",["children","innerRef"]),an.propTypes={};var on=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){A()(this.props,"onMount",null,Qe()({},this.props,{node:this.ref}))}},{key:"componentWillUnmount",value:function(){A()(this.props,"onUnmount",null,Qe()({},this.props,{node:this.ref}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?zt()?document.body:null:n;return Object(rn.createPortal)(M.a.createElement(an,{innerRef:this.handleRef},t),r)}}]),t}(T.Component);_()(on,"handledProps",["children","mountNode","onMount","onUnmount"]),on.propTypes={};var sn=on,ln=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleDocumentClick",function(e){var t=n.props.closeOnDocumentClick;!n.portalNode||Wt(n.triggerNode,e)||Wt(n.portalNode,e)||t&&n.close(e)}),_()(y()(y()(n)),"handleEscape",function(e){n.props.closeOnEscape&&Bt.a.getCode(e)===Bt.a.Escape&&n.close(e)}),_()(y()(y()(n)),"handlePortalMouseLeave",function(e){var t=n.props,r=t.closeOnPortalMouseLeave,a=t.mouseLeaveDelay;r&&(n.mouseLeaveTimer=n.closeWithTimeout(e,a))}),_()(y()(y()(n)),"handlePortalMouseEnter",function(){n.props.closeOnPortalMouseLeave&&clearTimeout(n.mouseLeaveTimer)}),_()(y()(y()(n)),"handleTriggerBlur",function(e){for(var t=n.props,r=t.trigger,a=t.closeOnTriggerBlur,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];A.a.apply(void 0,[r,"props.onBlur",e].concat(i));var l=A()(y()(y()(n)),"portalNode.contains",e.relatedTarget);a&&!l&&n.close(e)}),_()(y()(y()(n)),"handleTriggerClick",function(e){for(var t=n.props,r=t.trigger,a=t.closeOnTriggerClick,o=t.openOnTriggerClick,i=n.state.open,s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];A.a.apply(void 0,[r,"props.onClick",e].concat(l)),i&&a?n.close(e):!i&&o&&n.open(e)}),_()(y()(y()(n)),"handleTriggerFocus",function(e){for(var t=n.props,r=t.trigger,a=t.openOnTriggerFocus,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];A.a.apply(void 0,[r,"props.onFocus",e].concat(i)),a&&n.open(e)}),_()(y()(y()(n)),"handleTriggerMouseLeave",function(e){clearTimeout(n.mouseEnterTimer);for(var t=n.props,r=t.trigger,a=t.closeOnTriggerMouseLeave,o=t.mouseLeaveDelay,i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];A.a.apply(void 0,[r,"props.onMouseLeave",e].concat(s)),a&&(n.mouseLeaveTimer=n.closeWithTimeout(e,o))}),_()(y()(y()(n)),"handleTriggerMouseEnter",function(e){clearTimeout(n.mouseLeaveTimer);for(var t=n.props,r=t.trigger,a=t.mouseEnterDelay,o=t.openOnTriggerMouseEnter,i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];A.a.apply(void 0,[r,"props.onMouseEnter",e].concat(s)),o&&(n.mouseEnterTimer=n.openWithTimeout(e,a))}),_()(y()(y()(n)),"open",function(e){var t=n.props.onOpen;t&&t(e,n.props),n.trySetState({open:!0})}),_()(y()(y()(n)),"openWithTimeout",function(e,t){var r=Qe()({},e);return setTimeout(function(){return n.open(r)},t||0)}),_()(y()(y()(n)),"close",function(e){var t=n.props.onClose;t&&t(e,n.props),n.trySetState({open:!1})}),_()(y()(y()(n)),"closeWithTimeout",function(e,t){var r=Qe()({},e);return setTimeout(function(){return n.close(r)},t||0)}),_()(y()(y()(n)),"handleMount",function(e,t){var r=t.node,a=n.props.eventPool;n.portalNode=r,Gt.sub("mouseleave",n.handlePortalMouseLeave,{pool:a,target:r}),Gt.sub("mouseenter",n.handlePortalMouseEnter,{pool:a,target:r}),Gt.sub("click",n.handleDocumentClick,{pool:a}),Gt.sub("keydown",n.handleEscape,{pool:a}),A()(n.props,"onMount",null,n.props)}),_()(y()(y()(n)),"handleUnmount",function(e,t){var r=t.node,a=n.props.eventPool;n.portalNode=null,Gt.unsub("mouseleave",n.handlePortalMouseLeave,{pool:a,target:r}),Gt.unsub("mouseenter",n.handlePortalMouseEnter,{pool:a,target:r}),Gt.unsub("click",n.handleDocumentClick,{pool:a}),Gt.unsub("keydown",n.handleEscape,{pool:a}),A()(n.props,"onUnmount",null,n.props)}),_()(y()(y()(n)),"handleTriggerRef",function(e){n.triggerNode=e,A()(n.props,"triggerRef",e)}),n}return v()(t,e),c()(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.mountNode,r=e.trigger;return[this.state.open?M.a.createElement(sn,{key:"inner",mountNode:n,onMount:this.handleMount,onUnmount:this.handleUnmount},t):null,r?M.a.createElement(an,{innerRef:this.handleTriggerRef,key:"trigger"},Object(T.cloneElement)(r,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})):null]}}]),t}(nn);_()(ln,"defaultProps",{closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0}),_()(ln,"autoControlledProps",["open"]),_()(ln,"Inner",sn),_()(ln,"handledProps",["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"]),ln.propTypes={};var un=ln;function cn(e){var t=e.blurring,n=e.className,a=e.children,o=e.content,s=e.dimmed,l=N()(qe(t,"blurring"),qe(s,"dimmed"),"dimmable",n),u=E(cn,e),c=Ze(cn,e);return M.a.createElement(c,i()({},u,{className:l}),r.isNil(a)?o:a)}cn.handledProps=["as","blurring","children","className","content","dimmed"],cn.propTypes={};var fn=cn,dn=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){A()(n.props,"onClick",e,n.props),n.contentRef&&n.contentRef!==e.target&&Wt(n.contentRef,e)||A()(n.props,"onClickOutside",e,n.props)}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"handleContentRef",function(e){return n.contentRef=e}),n}return v()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.active;this.props.active!==t&&this.toggleStyles(t)}},{key:"componentDidMount",value:function(){var e=this.props.active;this.toggleStyles(e)}},{key:"toggleStyles",value:function(e){this.ref&&(e?this.ref.style.setProperty("display","flex","important"):this.ref.style.removeProperty("display"))}},{key:"render",value:function(){var e=this.props,n=e.active,a=e.children,o=e.className,s=e.content,l=e.disabled,u=e.inverted,c=e.page,f=e.simple,d=e.verticalAlign,h=N()("ui",qe(n,"active transition visible"),qe(l,"disabled"),qe(u,"inverted"),qe(c,"page"),qe(f,"simple"),Ye(d),"dimmer",o),p=E(t,this.props),m=Ze(t,this.props),v=r.isNil(a)?s:a;return M.a.createElement(m,i()({},p,{className:h,onClick:this.handleClick,ref:this.handleRef}),v&&M.a.createElement("div",{className:"content",ref:this.handleContentRef},v))}}]),t}(T.Component);_()(dn,"handledProps",["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"]),dn.propTypes={};var hn=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handlePortalMount",function(){zt()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))}),_()(y()(y()(n)),"handlePortalUnmount",function(){zt()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.page,a=E(t,this.props);return r?M.a.createElement(un,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},M.a.createElement(dn,i()({},a,{active:n,page:r}))):M.a.createElement(dn,i()({},a,{active:n,page:r}))}}]),t}(T.Component);function pn(e){var t=e.children,n=e.className,a=e.content,o=e.size,s=N()("ui",o,n,"images"),l=E(pn,e),u=Ze(pn,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?a:t)}_()(hn,"Dimmable",fn),_()(hn,"Inner",dn),_()(hn,"handledProps",["active","page"]),hn.propTypes={},hn.create=dt(hn,function(e){return{content:e}}),pn.handledProps=["as","children","className","content","size"],pn.propTypes={};var mn=pn,vn=["alt","height","src","srcSet","width"];function gn(e){var t=e.avatar,n=e.bordered,a=e.centered,o=e.children,s=e.circular,l=e.className,u=e.content,c=e.dimmer,f=e.disabled,d=e.floated,h=e.fluid,p=e.hidden,m=e.href,v=e.inline,g=e.label,y=e.rounded,b=e.size,_=e.spaced,x=e.verticalAlign,w=e.wrapped,k=e.ui,A=N()(qe(k,"ui"),b,qe(t,"avatar"),qe(n,"bordered"),qe(s,"circular"),qe(a,"centered"),qe(f,"disabled"),qe(h,"fluid"),qe(p,"hidden"),qe(v,"inline"),qe(y,"rounded"),We(_,"spaced"),Ve(d,"floated"),Ye(x,"aligned"),"image",l),T=E(gn,e),C=Lt(T,{htmlProps:vn}),S=Ct()(C,2),j=S[0],P=S[1],I=Ze(gn,e,function(){if(!(O()(c)&&O()(g)&&O()(w)&&r.isNil(o)))return"div"});return r.isNil(o)?r.isNil(u)?"img"===I?M.a.createElement(I,i()({},P,j,{className:A})):M.a.createElement(I,i()({},P,{className:A,href:m}),hn.create(c,{autoGenerateKey:!1}),kn.create(g,{autoGenerateKey:!1}),M.a.createElement("img",j)):M.a.createElement(I,i()({},T,{className:A}),u):M.a.createElement(I,i()({},T,{className:A}),o)}gn.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],gn.Group=mn,gn.propTypes={},gn.defaultProps={as:"img",ui:!0},gn.create=dt(gn,function(e){return{src:e}});var yn=gn;function bn(e){var t=e.children,n=e.className,a=e.content,o=N()("detail",n),s=E(bn,e),l=Ze(bn,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}bn.handledProps=["as","children","className","content"],bn.propTypes={},bn.create=dt(bn,function(e){return{content:e}});var _n=bn;function xn(e){var t=e.children,n=e.circular,a=e.className,o=e.color,s=e.content,l=e.size,u=e.tag,c=N()("ui",o,l,qe(n,"circular"),qe(u,"tag"),"labels",a),f=E(xn,e),d=Ze(xn,e);return M.a.createElement(d,i()({},f,{className:c}),r.isNil(t)?s:t)}xn.handledProps=["as","children","circular","className","color","content","size","tag"],xn.propTypes={};var wn=xn,kn=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick;t&&t(e,n.props)}),_()(y()(y()(n)),"handleIconOverrides",function(e){return{onClick:function(t){A()(e,"onClick",t),A()(n.props,"onRemove",t,n.props)}}}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.attached,o=e.basic,s=e.children,l=e.circular,u=e.className,c=e.color,f=e.content,d=e.corner,h=e.detail,p=e.empty,m=e.floating,v=e.horizontal,g=e.icon,y=e.image,b=e.onRemove,_=e.pointing,x=e.removeIcon,w=e.ribbon,k=e.size,A=e.tag,T=(!0===_?"pointing":("left"===_||"right"===_)&&"".concat(_," pointing"))||("above"===_||"below"===_)&&"pointing ".concat(_),C=N()("ui",c,T,k,qe(n,"active"),qe(o,"basic"),qe(l,"circular"),qe(p,"empty"),qe(m,"floating"),qe(v,"horizontal"),qe(!0===y,"image"),qe(A,"tag"),We(d,"corner"),We(w,"ribbon"),Ve(a,"attached"),"label",u),S=E(t,this.props),j=Ze(t,this.props);if(!r.isNil(s))return M.a.createElement(j,i()({},S,{className:C,onClick:this.handleClick}),s);var O=Mt()(x)?"delete":x;return M.a.createElement(j,i()({className:C,onClick:this.handleClick},S),At.create(g,{autoGenerateKey:!1}),"boolean"!=typeof y&&yn.create(y,{autoGenerateKey:!1}),f,_n.create(h,{autoGenerateKey:!1}),b&&At.create(O,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))}}]),t}(T.Component);function An(e){var t=e.children,n=e.className,a=e.content,o=e.hidden,s=e.visible,l=N()(qe(s,"visible"),qe(o,"hidden"),"content",n),u=E(An,e),c=Ze(An,e);return M.a.createElement(c,i()({},u,{className:l}),r.isNil(t)?a:t)}_()(kn,"Detail",_n),_()(kn,"Group",wn),_()(kn,"handledProps",["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","removeIcon","ribbon","size","tag"]),kn.propTypes={},kn.create=dt(kn,function(e){return{content:e}}),An.handledProps=["as","children","className","content","hidden","visible"],An.propTypes={};var Tn=An,Mn=n("./node_modules/lodash/map.js"),En=n.n(Mn);function Cn(e){var t=e.attached,n=e.basic,a=e.buttons,o=e.children,s=e.className,l=e.color,u=e.compact,c=e.content,f=e.floated,d=e.fluid,h=e.icon,p=e.inverted,m=e.labeled,v=e.negative,g=e.positive,y=e.primary,b=e.secondary,_=e.size,x=e.toggle,w=e.vertical,k=e.widths,A=N()("ui",l,_,qe(n,"basic"),qe(u,"compact"),qe(d,"fluid"),qe(h,"icon"),qe(p,"inverted"),qe(m,"labeled"),qe(v,"negative"),qe(g,"positive"),qe(y,"primary"),qe(b,"secondary"),qe(x,"toggle"),qe(w,"vertical"),We(t,"attached"),Ve(f,"floated"),Ke(k),"buttons",s),T=E(Cn,e),C=Ze(Cn,e);return O()(a)?M.a.createElement(C,i()({},T,{className:A}),r.isNil(o)?c:o):M.a.createElement(C,i()({},T,{className:A}),En()(a,function(e){return Nn.create(e)}))}Cn.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],Cn.propTypes={};var Sn=Cn;function jn(e){var t=e.className,n=e.text,r=N()("or",t),a=E(jn,e),o=Ze(jn,e);return M.a.createElement(o,i()({},a,{className:r,"data-text":n}))}jn.handledProps=["as","className","text"],jn.propTypes={};var On=jn,Pn=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"computeElementType",function(){var e=n.props,t=e.attached,r=e.label;if(!O()(t)||!O()(r))return"div"}),_()(y()(y()(n)),"computeTabIndex",function(e){var t=n.props,r=t.disabled,a=t.tabIndex;return O()(a)?r?-1:"div"===e?0:void 0:a}),_()(y()(y()(n)),"focus",function(){return A()(n.ref,"focus")}),_()(y()(y()(n)),"handleClick",function(e){n.props.disabled?e.preventDefault():A()(n.props,"onClick",e,n.props)}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"hasIconClass",function(){var e=n.props,t=e.labelPosition,a=e.children,o=e.content,i=e.icon;return!0===i||i&&(t||r.isNil(a)&&O()(o))}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.animated,o=e.attached,s=e.basic,l=e.children,u=e.circular,c=e.className,f=e.color,d=e.compact,h=e.content,p=e.disabled,m=e.floated,v=e.fluid,g=e.icon,y=e.inverted,b=e.label,_=e.labelPosition,x=e.loading,w=e.negative,k=e.positive,A=e.primary,T=e.secondary,C=e.role,S=e.size,j=e.toggle,P=N()(f,S,qe(n,"active"),qe(s,"basic"),qe(u,"circular"),qe(d,"compact"),qe(v,"fluid"),qe(this.hasIconClass(),"icon"),qe(y,"inverted"),qe(x,"loading"),qe(w,"negative"),qe(k,"positive"),qe(A,"primary"),qe(T,"secondary"),qe(j,"toggle"),We(a,"animated"),We(o,"attached")),I=N()(We(_||!!b,"labeled")),L=N()(qe(p,"disabled"),Ve(m,"floated")),D=E(t,this.props),R=Ze(t,this.props,this.computeElementType),z=this.computeTabIndex(R);if(!O()(b)){var F=N()("ui",P,"button",c),B=N()("ui",I,"button",c,L),U=kn.create(b,{defaultProps:{basic:!0,pointing:"left"===_?"right":"left"},autoGenerateKey:!1});return M.a.createElement(R,i()({},D,{className:B,onClick:this.handleClick}),"left"===_&&U,M.a.createElement("button",{className:F,disabled:p,ref:this.handleRef,tabIndex:z},At.create(g,{autoGenerateKey:!1})," ",h),("right"===_||!_)&&U)}var H=N()("ui",P,L,I,"button",c),q=!r.isNil(l);return M.a.createElement(R,i()({},D,{className:H,disabled:p&&"button"===R||void 0,onClick:this.handleClick,ref:this.handleRef,role:C,tabIndex:z}),q&&l,!q&&At.create(g,{autoGenerateKey:!1}),!q&&h)}}]),t}(T.Component);_()(Pn,"defaultProps",{as:"button",role:"button"}),_()(Pn,"Content",Tn),_()(Pn,"Group",Sn),_()(Pn,"Or",On),_()(Pn,"handledProps",["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"]),Pn.propTypes={},Pn.create=dt(Pn,function(e){return{content:e}});var Nn=Pn,In=n("./node_modules/lodash/pick.js"),Ln=n.n(In),Dn=n("./node_modules/lodash/reduce.js"),Rn=n.n(Dn),zn=function(e){var t=e.node;if(zt())return O()(t)?document.body:t},Fn=n("./node_modules/lodash/fp/uniq.js"),Bn=n.n(Fn),Un=n("./node_modules/lodash/fp/identity.js"),Hn=n.n(Un),qn=n("./node_modules/lodash/fp/filter.js"),Vn=n.n(qn),Wn=n("./node_modules/lodash/fp/split.js"),Gn=n.n(Wn),Xn=n("./node_modules/lodash/fp/flatMap.js"),Yn=n.n(Xn),Kn=n("./node_modules/lodash/fp/map.js"),Zn=n.n(Kn),Jn=n("./node_modules/lodash/fp/toArray.js"),Qn=n.n(Jn),$n=n("./node_modules/lodash/fp/flow.js"),er=n.n($n)()(Qn.a,Zn()("props.className"),Yn()(Gn()(/\s+/)),Vn()(Hn.a),Bn.a),tr=function(e,t){return[Yt()(t,e),Yt()(e,t)]},nr=new Map,rr=function(e,t){var n=er(t),r=tr(nr.get(e),n),a=Ct()(r,2),o=a[0],i=a[1];Pt()(o,function(t){return e.classList.add(t)}),Pt()(i,function(t){return e.classList.remove(t)}),nr.set(e,n)},ar=new function e(){var t=this;l()(this,e),_()(this,"add",function(e,n){t.nodes.has(e)?t.nodes.get(e).add(n):t.nodes.set(e,new Set([n]))}),_()(this,"del",function(e,n){if(t.nodes.has(e)){var r=t.nodes.get(e);1!==r.size?r.delete(n):t.nodes.delete(e)}}),_()(this,"emit",function(e,n){n(e,t.nodes.get(e))}),this.nodes=new Map},or=function(e){function t(){return l()(this,t),d()(this,p()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"shouldComponentUpdate",value:function(e){return e.className!==this.props.className}},{key:"componentWillMount",value:function(){var e=zn(this.props);e&&(ar.add(e,this),ar.emit(e,rr))}},{key:"componentDidUpdate",value:function(){var e=zn(this.props);e&&ar.emit(e,rr)}},{key:"componentWillUnmount",value:function(){var e=zn(this.props);e&&(ar.del(e,this),ar.emit(e,rr))}},{key:"render",value:function(){return null}}]),t}(T.Component);function ir(e){var t=e.children,n=e.className,a=e.content,o=N()(n,"header"),s=E(ir,e),l=Ze(ir,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}_()(or,"handledProps",["className","node"]),or.propTypes={},ir.handledProps=["as","children","className","content"],ir.propTypes={},ir.create=dt(ir,function(e){return{content:e}});var sr=ir;function lr(e){var t=e.children,n=e.className,a=e.content,o=e.image,s=e.scrolling,l=N()(n,qe(o,"image"),qe(s,"scrolling"),"content"),u=E(lr,e),c=Ze(lr,e);return M.a.createElement(c,i()({},u,{className:l}),r.isNil(t)?a:t)}lr.handledProps=["as","children","className","content","image","scrolling"],lr.propTypes={},lr.create=dt(lr,function(e){return{content:e}});var ur=lr,cr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleButtonOverrides",function(e){return{onClick:function(t,r){A()(e,"onClick",t,r),A()(n.props,"onActionClick",t,r)}}}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,a=n.actions,o=n.children,s=n.className,l=n.content,u=N()("actions",s),c=E(t,this.props),f=Ze(t,this.props);return r.isNil(o)?r.isNil(l)?M.a.createElement(f,i()({},c,{className:u}),En()(a,function(t){return Nn.create(t,{overrideProps:e.handleButtonOverrides})})):M.a.createElement(f,i()({},c,{className:u}),l):M.a.createElement(f,i()({},c,{className:u}),o)}}]),t}(T.Component);function fr(e){var t=e.children,n=e.className,a=e.content,o=N()("description",n),s=E(fr,e),l=Ze(fr,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}_()(cr,"handledProps",["actions","as","children","className","content","onActionClick"]),cr.propTypes={},cr.create=dt(cr,function(e){return{actions:e}}),fr.handledProps=["as","children","className","content"],fr.propTypes={};var dr=fr,hr=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"getMountNode",function(){return zt()?n.props.mountNode||document.body:null}),_()(y()(y()(n)),"handleActionsOverrides",function(e){return{onActionClick:function(t,r){A()(e,"onActionClick",t,r),A()(n.props,"onActionClick",t,n.props),n.handleClose(t)}}}),_()(y()(y()(n)),"handleClose",function(e){A()(n.props,"onClose",e,n.props),n.trySetState({open:!1})}),_()(y()(y()(n)),"handleDocumentClick",function(e){n.props.closeOnDimmerClick&&!Wt(n.ref,e)&&(A()(n.props,"onClose",e,n.props),n.trySetState({open:!1}))}),_()(y()(y()(n)),"handleIconOverrides",function(e){return{onClick:function(t){A()(e,"onClick",t),n.handleClose(t)}}}),_()(y()(y()(n)),"handleOpen",function(e){A()(n.props,"onOpen",e,n.props),n.trySetState({open:!0})}),_()(y()(y()(n)),"handlePortalMount",function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),Gt.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef}),A()(n.props,"onMount",e,n.props)}),_()(y()(y()(n)),"handlePortalUnmount",function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),Gt.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef}),A()(n.props,"onUnmount",e,n.props)}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"handleDimmerRef",function(e){return n.dimmerRef=e}),_()(y()(y()(n)),"setDimmerNodeStyle",function(){n.dimmerRef&&n.dimmerRef.style.setProperty("display","flex","important")}),_()(y()(y()(n)),"setPositionAndClassNames",function(){var e,t=n.props.dimmer;t&&(e="dimmable dimmed","blurring"===t&&(e+=" blurring"));var r={};if(n.ref){var a=n.ref.getBoundingClientRect().height>window.innerHeight;null!==n.state.marginTop&&(r.marginTop=null),n.state.scrolling!==a&&(r.scrolling=a),a&&(e+=" scrolling")}n.state.mountClasses!==e&&(r.mountClasses=e),Qt()(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames),n.setDimmerNodeStyle()}),_()(y()(y()(n)),"renderContent",function(e){var a=n.props,o=a.actions,s=a.basic,l=a.children,u=a.className,c=a.closeIcon,f=a.content,d=a.header,h=a.mountNode,p=a.size,m=a.style,v=n.state,g=v.marginTop,y=v.mountClasses,b=v.scrolling,_=N()("ui",p,qe(s,"basic"),qe(b,"scrolling"),"modal transition visible active",u),x=Ze(t,n.props),w=!0===c?"close":c,k=At.create(w,{overrideProps:n.handleIconOverrides});return r.isNil(l)?M.a.createElement(an,{innerRef:n.handleRef},M.a.createElement(x,i()({},e,{className:_,style:Qe()({marginTop:g},m)}),M.a.createElement(or,{className:y,node:h}),k,sr.create(d,{autoGenerateKey:!1}),ur.create(f,{autoGenerateKey:!1}),cr.create(o,{overrideProps:n.handleActionsOverrides}))):M.a.createElement(an,{innerRef:n.handleRef},M.a.createElement(x,i()({},e,{className:_,style:Qe()({marginTop:g},m)}),M.a.createElement(or,{className:y,node:h}),k,l))}),n}return v()(t,e),c()(t,[{key:"componentWillUnmount",value:function(){this.handlePortalUnmount()}},{key:"render",value:function(){var e=this.state.open,n=this.props,r=n.centered,a=n.closeOnDocumentClick,o=n.dimmer,s=n.eventPool,l=n.trigger,u=this.getMountNode();if(!zt())return Object(T.isValidElement)(l)?l:null;var c=E(t,this.props),f=un.handledProps,d=Rn()(c,function(e,t,n){return jt()(f,n)||(e[n]=t),e},{}),h=Ln()(c,f),p=N()("ui","inverted"===o&&"inverted",!r&&"top aligned","page modals dimmer transition visible active");return M.a.createElement(un,i()({closeOnDocumentClick:a},h,{trigger:l,eventPool:s,mountNode:u,open:e,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),M.a.createElement("div",{className:p,ref:this.handleDimmerRef},this.renderContent(d)))}}]),t}(nn);_()(hr,"defaultProps",{centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"}),_()(hr,"autoControlledProps",["open"]),_()(hr,"Header",sr),_()(hr,"Content",ur),_()(hr,"Description",dr),_()(hr,"Actions",cr),_()(hr,"handledProps",["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"]),hr.propTypes={};var pr=hr,mr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleCancel",function(e){A()(n.props,"onCancel",e,n.props)}),_()(y()(y()(n)),"handleCancelOverrides",function(e){return{onClick:function(t,r){A()(e,"onClick",t,r),n.handleCancel(t)}}}),_()(y()(y()(n)),"handleConfirmOverrides",function(e){return{onClick:function(t,r){A()(e,"onClick",t,r),A()(n.props,"onConfirm",t,n.props)}}}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.cancelButton,r=e.confirmButton,a=e.content,o=e.header,s=e.open,l=e.size,u=E(t,this.props),c={};return w()(this.props,"open")&&(c.open=s),M.a.createElement(pr,i()({},u,c,{size:l,onClose:this.handleCancel}),pr.Header.create(o,{autoGenerateKey:!1}),pr.Content.create(a,{autoGenerateKey:!1}),M.a.createElement(pr.Actions,null,Nn.create(n,{autoGenerateKey:!1,overrideProps:this.handleCancelOverrides}),Nn.create(r,{autoGenerateKey:!1,defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))}}]),t}(T.Component);_()(mr,"defaultProps",{cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"}),_()(mr,"handledProps",["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"]),mr.propTypes={};var vr=mr,gr=function(e){return{active:!1,type:"ellipsisItem",value:e}},yr=n("./node_modules/lodash/range.js"),br=n.n(yr),_r=function(e,t,n){return En()(br()(e,t+1),n)},xr=function(e,t){var n=e.activePage,r=e.boundaryRange,a=e.siblingRange,o=e.totalPages,i=r,s=_r(1,i,t),l=o+1-r,u=_r(l,o,t),c=Math.min(Math.max(n-a,i+2),l-1-2*a-1),f=c+2*a,d=_r(c,f,t);return S()(s).concat([function(e,t,n){var r=t-1;return(r!==e+1?gr:n)(r)}(i,c,t)],S()(d),[function(e,t,n){var r=e+1;return(r!==t-1?gr:n)(r)}(f,l,t)],S()(u)).filter(Boolean)},wr=function(e){var t=function(e){return{activePage:+e.activePage,boundaryRange:+e.boundaryRange,siblingRange:+e.siblingRange,totalPages:+e.totalPages}}(e),n=t.activePage,r=t.totalPages,a=function(e){return function(t){return{active:e===t,type:"pageItem",value:t}}}(n),o=function(e){var t=e.boundaryRange;return 3+2*e.siblingRange+2*t>=e.totalPages}(t)?_r(1,r,a):xr(t,a);return[{active:!1,type:"firstItem",value:1},function(e){return{active:!1,type:"prevItem",value:Math.max(1,e-1)}}(n)].concat(S()(o),[function(e,t){return{active:!1,type:"nextItem",value:Math.min(e+1,t)}}(n,r),function(e){return{active:!1,type:"lastItem",value:e}}(r)])};function kr(e){var t=e.children,n=e.className,a=e.content,o=N()("header",n),s=E(kr,e),l=Ze(kr,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}kr.handledProps=["as","children","className","content"],kr.propTypes={};var Ar=kr,Tr=n("./node_modules/lodash/startCase.js"),Mr=n.n(Tr),Er=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){n.props.disabled||A()(n.props,"onClick",e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.children,o=e.className,s=e.color,l=e.content,u=e.disabled,c=e.fitted,f=e.header,d=e.icon,h=e.link,p=e.name,m=e.onClick,v=e.position,g=N()(s,v,qe(n,"active"),qe(u,"disabled"),qe(!0===d||d&&!(p||l),"icon"),qe(f,"header"),qe(h,"link"),We(c,"fitted"),"item",o),y=Ze(t,this.props,function(){if(m)return"a"}),b=E(t,this.props);return r.isNil(a)?M.a.createElement(y,i()({},b,{className:g,onClick:this.handleClick}),At.create(d,{autoGenerateKey:!1}),r.isNil(l)?Mr()(p):l):M.a.createElement(y,i()({},b,{className:g,onClick:this.handleClick}),a)}}]),t}(T.Component);function Cr(e){var t=e.children,n=e.className,a=e.content,o=e.position,s=N()(o,"menu",n),l=E(Cr,e),u=Ze(Cr,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?a:t)}_()(Er,"handledProps",["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"]),Er.propTypes={},Er.create=dt(Er,function(e){return{content:e,name:e}}),Cr.handledProps=["as","children","className","content","position"],Cr.propTypes={};var Sr=Cr,jr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleItemOverrides",function(e){return{onClick:function(t,r){var a=r.index;n.trySetState({activeIndex:a}),A()(e,"onClick",t,r),A()(n.props,"onItemClick",t,r)}}}),n}return v()(t,e),c()(t,[{key:"renderItems",value:function(){var e=this,t=this.props.items,n=this.state.activeIndex;return En()(t,function(t,r){return Er.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})})}},{key:"render",value:function(){var e=this.props,n=e.attached,a=e.borderless,o=e.children,s=e.className,l=e.color,u=e.compact,c=e.fixed,f=e.floated,d=e.fluid,h=e.icon,p=e.inverted,m=e.pagination,v=e.pointing,g=e.secondary,y=e.size,b=e.stackable,_=e.tabular,x=e.text,w=e.vertical,k=e.widths,A=N()("ui",l,y,qe(a,"borderless"),qe(u,"compact"),qe(d,"fluid"),qe(p,"inverted"),qe(m,"pagination"),qe(v,"pointing"),qe(g,"secondary"),qe(b,"stackable"),qe(x,"text"),qe(w,"vertical"),We(n,"attached"),We(f,"floated"),We(h,"icon"),We(_,"tabular"),Ve(c,"fixed"),Ke(k,"item"),s,"menu"),T=E(t,this.props),C=Ze(t,this.props);return M.a.createElement(C,i()({},T,{className:A}),r.isNil(o)?this.renderItems():o)}}]),t}(nn);_()(jr,"autoControlledProps",["activeIndex"]),_()(jr,"Header",Ar),_()(jr,"Item",Er),_()(jr,"Menu",Sr),_()(jr,"handledProps",["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"]),jr.propTypes={},jr.create=dt(jr,function(e){return{items:e}});var Or=jr,Pr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){"ellipsisItem"!==n.props.type&&A()(n.props,"onClick",e,n.props)}),_()(y()(y()(n)),"handleKeyDown",function(e){A()(n.props,"onKeyDown",e,n.props),Bt.a.getCode(e)===Bt.a.Enter&&A()(n.props,"onClick",e,n.props)}),_()(y()(y()(n)),"handleOverrides",function(){return{onClick:n.handleClick,onKeyDown:n.handleKeyDown}}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.type,r=this.props.disabled||"ellipsisItem"===n;return Er.create(this.props,{defaultProps:{active:t,disabled:r,"aria-current":t,onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:r?-1:0},overrideProps:this.handleOverrides})}}]),t}(T.Component);_()(Pr,"handledProps",["active","disabled","onClick","onKeyDown","type"]),Pr.propTypes={},Pr.create=dt(Pr,function(e){return{content:e}});var Nr=Pr,Ir=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleItemClick",function(e,t){var r=t.value;+n.state.activePage!=+r&&(n.trySetState({activePage:r}),A()(n.props,"onPageChange",e,Qe()({},n.props,{activePage:r})))}),_()(y()(y()(n)),"handleItemOverrides",function(e,t,r){return function(a){return{active:e,type:t,key:"".concat(t,"-").concat(r),onClick:function(e,t){A()(a,"onClick",e,t),n.handleItemClick(e,t)}}}}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,r=n["aria-label"],a=n.boundaryRange,o=n.siblingRange,s=n.totalPages,l=this.state.activePage,u=wr({activePage:l,boundaryRange:a,siblingRange:o,totalPages:s}),c=E(t,this.props);return M.a.createElement(Or,i()({},c,{"aria-label":r,pagination:!0,role:"navigation"}),En()(u,function(t){var n=t.active,r=t.type,a=t.value;return Nr.create(e.props[r],{defaultProps:{content:a,value:a},overrideProps:e.handleItemOverrides(n,r,a)})}))}}]),t}(nn);_()(Ir,"autoControlledProps",["activePage"]),_()(Ir,"defaultProps",{"aria-label":"Pagination Navigation",boundaryRange:1,ellipsisItem:"...",firstItem:{"aria-label":"First item",content:"«"},lastItem:{"aria-label":"Last item",content:"»"},nextItem:{"aria-label":"Next item",content:"⟩"},pageItem:{},prevItem:{"aria-label":"Previous item",content:"⟨"},siblingRange:1}),_()(Ir,"Item",Nr),_()(Ir,"handledProps",["activePage","aria-label","boundaryRange","defaultActivePage","ellipsisItem","firstItem","lastItem","nextItem","onPageChange","pageItem","prevItem","siblingRange","totalPages"]),Ir.propTypes={};var Lr=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"canToggle",function(){var e=n.props,t=e.disabled,r=e.radio,a=e.readOnly,o=n.state.checked;return!(t||a||r&&o)}),_()(y()(y()(n)),"computeTabIndex",function(){var e=n.props,t=e.disabled,r=e.tabIndex;return O()(r)?t?-1:0:r}),_()(y()(y()(n)),"handleContainerClick",function(e){var t=n.props.id;O()(t)&&n.handleClick(e)}),_()(y()(y()(n)),"handleInputClick",function(e){n.props.id&&n.handleClick(e)}),_()(y()(y()(n)),"handleInputRef",function(e){return n.inputRef=e}),_()(y()(y()(n)),"handleClick",function(e){var t=n.state,r=t.checked,a=t.indeterminate;n.canToggle()&&(A()(n.props,"onClick",e,Qe()({},n.props,{checked:!r,indeterminate:!!a})),A()(n.props,"onChange",e,Qe()({},n.props,{checked:!r,indeterminate:!1})),n.trySetState({checked:!r,indeterminate:!1}))}),_()(y()(y()(n)),"handleMouseDown",function(e){var t=n.state,r=t.checked,a=t.indeterminate;A()(n.props,"onMouseDown",e,Qe()({},n.props,{checked:!!r,indeterminate:!!a})),A()(n.inputRef,"focus"),e.preventDefault()}),_()(y()(y()(n)),"setIndeterminate",function(){var e=n.state.indeterminate;n.inputRef&&(n.inputRef.indeterminate=!!e)}),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.setIndeterminate()}},{key:"componentDidUpdate",value:function(){this.setIndeterminate()}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.disabled,a=e.label,o=e.id,s=e.name,l=e.radio,u=e.readOnly,c=e.slider,f=e.toggle,d=e.type,h=e.value,p=this.state,m=p.checked,v=p.indeterminate,g=N()("ui",qe(m,"checked"),qe(r,"disabled"),qe(v,"indeterminate"),qe(O()(a),"fitted"),qe(l,"radio"),qe(u,"read-only"),qe(c,"slider"),qe(f,"toggle"),"checkbox",n),y=E(t,this.props),b=Ze(t,this.props),_=Lt(y,{htmlProps:Nt}),x=Ct()(_,2),w=x[0],k=x[1];return M.a.createElement(b,i()({},k,{className:g,onClick:this.handleContainerClick,onChange:this.handleContainerClick,onMouseDown:this.handleMouseDown}),M.a.createElement("input",i()({},w,{checked:m,className:"hidden",disabled:r,id:o,name:s,onClick:this.handleInputClick,readOnly:!0,ref:this.handleInputRef,tabIndex:this.computeTabIndex(),type:d,value:h})),gt(a,{defaultProps:{htmlFor:o},autoGenerateKey:!1})||M.a.createElement("label",{htmlFor:o}))}}]),t}(nn);function Dr(e){var t=e.slider,n=e.toggle,r=e.type,a=E(Dr,e),o=!(t||n)||void 0;return M.a.createElement(Lr,i()({},a,{type:r,radio:o,slider:t,toggle:n}))}_()(Lr,"defaultProps",{type:"checkbox"}),_()(Lr,"autoControlledProps",["checked","indeterminate"]),_()(Lr,"handledProps",["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","radio","readOnly","slider","tabIndex","toggle","type","value"]),Lr.propTypes={},Dr.handledProps=["slider","toggle","type"],Dr.propTypes={},Dr.defaultProps={type:"radio"};var Rr=Dr,zr=n("./node_modules/shallowequal/index.js"),Fr=n.n(zr).a,Br=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"fitsMaxWidth",function(){var e=n.props.maxWidth,t=n.state.width;return!!O()(e)||t<=e}),_()(y()(y()(n)),"fitsMinWidth",function(){var e=n.props.minWidth,t=n.state.width;return!!O()(e)||t>=e}),_()(y()(y()(n)),"setSafeState",function(){var e;return n.mounted&&(e=n).setState.apply(e,arguments)}),_()(y()(y()(n)),"isVisible",function(){return n.fitsMinWidth()&&n.fitsMaxWidth()}),_()(y()(y()(n)),"handleResize",function(e){n.ticking||(n.ticking=!0,requestAnimationFrame(function(){return n.handleUpdate(e)}))}),_()(y()(y()(n)),"handleUpdate",function(e){n.ticking=!1;var t=A()(n.props,"getWidth");n.setSafeState({width:t}),A()(n.props,"onUpdate",e,Qe()({},n.props,{width:t}))}),n.state={width:A()(n.props,"getWidth")},n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.fireOnMount;this.mounted=!0,Gt.sub("resize",this.handleResize,{target:"window"}),e&&this.handleUpdate()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,Gt.unsub("resize",this.handleResize,{target:"window"})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.width!==t.width||!Fr(this.props,e)}},{key:"render",value:function(){var e=this.props.children,n=Ze(t,this.props),r=E(t,this.props);return this.isVisible()?M.a.createElement(n,r,e):null}}]),t}(T.Component);_()(Br,"defaultProps",{getWidth:function(){return zt()?window.innerWidth:0}}),_()(Br,"onlyMobile",{minWidth:320,maxWidth:767}),_()(Br,"onlyTablet",{minWidth:768,maxWidth:991}),_()(Br,"onlyComputer",{minWidth:992}),_()(Br,"onlyLargeScreen",{minWidth:1200,maxWidth:1919}),_()(Br,"onlyWidescreen",{minWidth:1920}),_()(Br,"handledProps",["as","children","fireOnMount","getWidth","maxWidth","minWidth","onUpdate"]),Br.propTypes={};var Ur=n("./node_modules/@babel/runtime/helpers/get.js"),Hr=n.n(Ur),qr=n("./node_modules/lodash/compact.js"),Vr=n.n(qr),Wr=n("./node_modules/lodash/every.js"),Gr=n.n(Wr),Xr=n("./node_modules/lodash/findIndex.js"),Yr=n.n(Xr),Kr=n("./node_modules/lodash/escapeRegExp.js"),Zr=n.n(Kr),Jr=n("./node_modules/lodash/deburr.js"),Qr=n.n(Jr),$r=n("./node_modules/lodash/dropRight.js"),ea=n.n($r),ta=n("./node_modules/lodash/size.js"),na=n.n(ta),ra=n("./node_modules/lodash/union.js"),aa=n.n(ra),oa=n("./node_modules/lodash/get.js"),ia=n.n(oa),sa=n("./node_modules/lodash/isEqual.js"),la=n.n(sa);function ua(e){var t=e.className,n=N()("divider",t),r=E(ua,e),a=Ze(ua,e);return M.a.createElement(a,i()({},r,{className:n}))}ua.handledProps=["as","className"],ua.propTypes={};var ca=ua,fa=function(e){function t(){return l()(this,t),d()(this,p()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.className,r=e.name,a=N()(r,"flag",n),o=E(t,this.props),s=Ze(t,this.props);return M.a.createElement(s,i()({},o,{className:a}))}}]),t}(T.PureComponent);_()(fa,"defaultProps",{as:"i"}),_()(fa,"handledProps",["as","className","name"]),fa.propTypes={},fa.create=dt(fa,function(e){return{name:e}});var da=fa,ha=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick;t&&t(e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.children,o=e.className,s=e.content,l=e.disabled,u=e.description,c=e.flag,f=e.icon,d=e.image,h=e.label,p=e.selected,m=e.text,v=N()(qe(n,"active"),qe(l,"disabled"),qe(p,"selected"),"item",o),g=O()(f)?r.someByType(a,"DropdownMenu")&&"dropdown":f,y=E(t,this.props),b=Ze(t,this.props),_={role:"option","aria-disabled":l,"aria-checked":n,"aria-selected":p};if(!r.isNil(a))return M.a.createElement(b,i()({},y,_,{className:v,onClick:this.handleClick}),a);var x=da.create(c,{autoGenerateKey:!1}),w=At.create(g,{autoGenerateKey:!1}),k=yn.create(d,{autoGenerateKey:!1}),A=kn.create(h,{autoGenerateKey:!1}),T=ft("span",function(e){return{children:e}},u,{defaultProps:{className:"description"},autoGenerateKey:!1}),C=ft("span",function(e){return{children:e}},r.isNil(s)?m:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return M.a.createElement(b,i()({},y,_,{className:v,onClick:this.handleClick}),k,w,x,A,T,C)}}]),t}(T.Component);_()(ha,"handledProps",["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"]),ha.propTypes={},ha.create=dt(ha,function(e){return e});var pa=ha;function ma(e){var t=e.children,n=e.className,a=e.content,o=e.icon,s=N()("header",n),l=E(ma,e),u=Ze(ma,e);return r.isNil(t)?M.a.createElement(u,i()({},l,{className:s}),At.create(o,{autoGenerateKey:!1}),a):M.a.createElement(u,i()({},l,{className:s}),t)}ma.handledProps=["as","children","className","content","icon"],ma.propTypes={},ma.create=dt(ma,function(e){return{content:e}});var va=ma;function ga(e){var t=e.children,n=e.className,a=e.content,o=e.direction,s=e.open,l=e.scrolling,u=N()(o,qe(s,"visible"),qe(l,"scrolling"),"menu transition",n),c=E(ga,e),f=Ze(ga,e);return M.a.createElement(f,i()({},c,{className:u}),r.isNil(t)?a:t)}ga.handledProps=["as","children","className","content","direction","open","scrolling"],ga.propTypes={};var ya=ga,ba=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleChange",function(e){var t=ia()(e,"target.value");A()(n.props,"onChange",e,Qe()({},n.props,{value:t}))}),_()(y()(y()(n)),"handleRef",function(e){return A()(n.props,"inputRef",e)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.autoComplete,r=e.className,a=e.tabIndex,o=e.type,s=e.value,l=N()("search",r),u=E(t,this.props);return M.a.createElement("input",i()({},u,{"aria-autocomplete":"list",autoComplete:n,className:l,onChange:this.handleChange,ref:this.handleRef,tabIndex:a,type:o,value:s}))}}]),t}(T.Component);_()(ba,"defaultProps",{autoComplete:"off",type:"text"}),_()(ba,"handledProps",["as","autoComplete","className","inputRef","tabIndex","type","value"]),ba.propTypes={},ba.create=dt(ba,function(e){return{type:e}});var _a=ba,xa=function(e,t){return O()(e)?t:e},wa=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleChange",function(e,t){A()(n.props,"onChange",e,Qe()({},n.props,{value:t}))}),_()(y()(y()(n)),"closeOnChange",function(e){var t=n.props,r=t.closeOnChange,a=t.multiple;(Mt()(r)?!a:r)&&n.close(e)}),_()(y()(y()(n)),"closeOnEscape",function(e){Bt.a.getCode(e)===Bt.a.Escape&&(e.preventDefault(),n.close())}),_()(y()(y()(n)),"moveSelectionOnKeyDown",function(e){var t,r=n.props,a=r.multiple,o=r.selectOnNavigation,i=(t={},_()(t,Bt.a.ArrowDown,1),_()(t,Bt.a.ArrowUp,-1),t)[Bt.a.getCode(e)];void 0!==i&&(e.preventDefault(),n.moveSelectionBy(i),!a&&o&&n.makeSelectedItemActive(e))}),_()(y()(y()(n)),"openOnSpace",function(e){Bt.a.getCode(e)===Bt.a.Spacebar&&(n.state.open||(e.preventDefault(),n.open(e)))}),_()(y()(y()(n)),"openOnArrow",function(e){var t=Bt.a.getCode(e);jt()([Bt.a.ArrowDown,Bt.a.ArrowUp],t)&&(n.state.open||(e.preventDefault(),n.open(e)))}),_()(y()(y()(n)),"makeSelectedItemActive",function(e){var t=n.state.open,r=n.props.multiple,a=n.getSelectedItem(),o=ia()(a,"value");if(!O()(o)&&t){var i=r?aa()(n.state.value,[o]):o;n.setValue(i),n.setSelectedIndex(i),n.handleChange(e,i),a["data-additional"]&&A()(n.props,"onAddItem",e,Qe()({},n.props,{value:o}))}}),_()(y()(y()(n)),"selectItemOnEnter",function(e){var t=n.props.search;if(Bt.a.getCode(e)===Bt.a.Enter){e.preventDefault();var r=na()(n.getMenuOptions());t&&0===r||(n.makeSelectedItemActive(e),n.closeOnChange(e),n.clearSearchQuery(),t&&n.searchRef&&n.searchRef.focus())}}),_()(y()(y()(n)),"removeItemOnBackspace",function(e){var t=n.props,r=t.multiple,a=t.search,o=n.state,i=o.searchQuery,s=o.value;if(Bt.a.getCode(e)===Bt.a.Backspace&&!i&&a&&r&&!Qt()(s)){e.preventDefault();var l=ea()(s);n.setValue(l),n.setSelectedIndex(l),n.handleChange(e,l)}}),_()(y()(y()(n)),"closeOnDocumentClick",function(e){n.props.closeOnBlur&&(n.ref&&Wt(n.ref,e)||n.close())}),_()(y()(y()(n)),"attachHandlersOnOpen",function(){Gt.sub("keydown",[n.closeOnEscape,n.moveSelectionOnKeyDown,n.selectItemOnEnter,n.removeItemOnBackspace]),Gt.sub("click",n.closeOnDocumentClick),Gt.unsub("keydown",[n.openOnArrow,n.openOnSpace])}),_()(y()(y()(n)),"handleMouseDown",function(e){n.isMouseDown=!0,Gt.sub("mouseup",n.handleDocumentMouseUp),A()(n.props,"onMouseDown",e,n.props)}),_()(y()(y()(n)),"handleDocumentMouseUp",function(){n.isMouseDown=!1,Gt.unsub("mouseup",n.handleDocumentMouseUp)}),_()(y()(y()(n)),"handleClick",function(e){var t=n.props,r=t.minCharacters,a=t.search,o=n.state,i=o.open,s=o.searchQuery;if(A()(n.props,"onClick",e,n.props),e.stopPropagation(),!a)return n.toggle(e);i||(s.length>=r||1===r?n.open(e):n.searchRef&&n.searchRef.focus())}),_()(y()(y()(n)),"handleIconClick",function(e){A()(n.props,"onClick",e,n.props),e.stopPropagation(),n.toggle(e)}),_()(y()(y()(n)),"handleItemClick",function(e,t){var r=n.props,a=r.multiple,o=r.search,i=t.value;if(e.stopPropagation(),(a||t.disabled)&&e.nativeEvent.stopImmediatePropagation(),!t.disabled){var s=t["data-additional"],l=a?aa()(n.state.value,[i]):i;n.setValue(l),n.setSelectedIndex(i);var u=na()(n.getMenuOptions());a&&!s&&1!==u||n.clearSearchQuery(),n.handleChange(e,l),n.closeOnChange(e),s&&A()(n.props,"onAddItem",e,Qe()({},n.props,{value:i})),a&&o&&n.searchRef&&n.searchRef.focus()}}),_()(y()(y()(n)),"handleFocus",function(e){n.state.focus||(A()(n.props,"onFocus",e,n.props),n.setState({focus:!0}))}),_()(y()(y()(n)),"handleBlur",function(e){var t=ia()(e,"currentTarget");if(!t||!t.contains(document.activeElement)){var r=n.props,a=r.closeOnBlur,o=r.multiple,i=r.selectOnBlur;n.isMouseDown||(A()(n.props,"onBlur",e,n.props),i&&!o&&(n.makeSelectedItemActive(e),a&&n.close()),n.setState({focus:!1}),n.clearSearchQuery())}}),_()(y()(y()(n)),"handleSearchChange",function(e,t){var r=t.value;e.stopPropagation();var a=n.props.minCharacters,o=n.state.open,i=r;A()(n.props,"onSearchChange",e,Qe()({},n.props,{searchQuery:i})),n.trySetState({searchQuery:i},{selectedIndex:0}),!o&&i.length>=a?n.open():o&&1!==a&&i.length<a&&n.close()}),_()(y()(y()(n)),"getKeyAndValues",function(e){return e?e.map(function(e){return Ln()(e,["key","value"])}):e}),_()(y()(y()(n)),"getMenuOptions",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.options,r=n.props,a=r.additionLabel,o=r.additionPosition,i=r.allowAdditions,s=r.deburr,l=r.multiple,u=r.search,c=n.state.searchQuery,f=t;if(l&&(f=Zt()(f,function(t){return!jt()(e,t.value)})),u&&c)if(at()(u))f=u(f,c);else{var d=s?Qr()(c):c,h=new RegExp(Zr()(d),"i");f=Zt()(f,function(e){return h.test(s?Qr()(e.text):e.text)})}if(i&&u&&c&&!R()(f,{text:c})){var p={key:"addition",text:[M.a.isValidElement(a)?M.a.cloneElement(a,{key:"addition-label"}):a||"",M.a.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===o?f.unshift(p):f.push(p)}return f}),_()(y()(y()(n)),"getSelectedItem",function(){var e=n.state.selectedIndex,t=n.getMenuOptions();return ia()(t,"[".concat(e,"]"))}),_()(y()(y()(n)),"getEnabledIndices",function(e){var t=e||n.getMenuOptions();return Rn()(t,function(e,t,n){return t.disabled||e.push(n),e},[])}),_()(y()(y()(n)),"getItemByValue",function(e){var t=n.props.options;return L()(t,{value:e})}),_()(y()(y()(n)),"getMenuItemIndexByValue",function(e,t){var r=t||n.getMenuOptions();return Yr()(r,["value",e])}),_()(y()(y()(n)),"getDropdownAriaOptions",function(){var e=n.props,t=e.loading,r=e.disabled,a=e.search,o=e.multiple,i=n.state.open,s={role:a?"combobox":"listbox","aria-busy":t,"aria-disabled":r,"aria-expanded":!!i};return"listbox"===s.role&&(s["aria-multiselectable"]=o),s}),_()(y()(y()(n)),"clearSearchQuery",function(){n.trySetState({searchQuery:""})}),_()(y()(y()(n)),"setValue",function(e){n.trySetState({value:e})}),_()(y()(y()(n)),"setSelectedIndex",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.options,a=n.props.multiple,o=n.state.selectedIndex,i=n.getMenuOptions(t,r),s=n.getEnabledIndices(i);if(!o||o<0){var l=s[0];e=a?l:n.getMenuItemIndexByValue(t,i)||s[0]}else if(a)o>=i.length-1&&(e=s[s.length-1]);else{var u=n.getMenuItemIndexByValue(t,i);e=jt()(s,u)?u:void 0}(!e||e<0)&&(e=s[0]),n.setState({selectedIndex:e})}),_()(y()(y()(n)),"handleLabelClick",function(e,t){e.stopPropagation(),n.setState({selectedLabel:t.value}),A()(n.props,"onLabelClick",e,t)}),_()(y()(y()(n)),"handleLabelRemove",function(e,t){e.stopPropagation();var r=n.state.value,a=_t()(r,t.value);n.setValue(a),n.setSelectedIndex(a),n.handleChange(e,a)}),_()(y()(y()(n)),"moveSelectionBy",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.selectedIndex,r=n.getMenuOptions();if(void 0!==r&&!Gr()(r,"disabled")){var a=r.length-1,o=t+e;!n.props.wrapSelection&&(o>a||o<0)?o=t:o>a?o=0:o<0&&(o=a),r[o].disabled?n.moveSelectionBy(e,o):(n.setState({selectedIndex:o}),n.scrollSelectedItemIntoView())}}),_()(y()(y()(n)),"handleIconOverrides",function(e){return{onClick:function(t){A()(e,"onClick",t,e),n.handleIconClick(t)}}}),_()(y()(y()(n)),"handleSearchRef",function(e){return n.searchRef=e}),_()(y()(y()(n)),"handleSizerRef",function(e){return n.sizerRef=e}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"computeSearchInputTabIndex",function(){var e=n.props,t=e.disabled,r=e.tabIndex;return O()(r)?t?-1:0:r}),_()(y()(y()(n)),"computeSearchInputWidth",function(){var e=n.state.searchQuery;if(n.sizerRef&&e){n.sizerRef.style.display="inline",n.sizerRef.textContent=e;var t=Math.ceil(n.sizerRef.getBoundingClientRect().width);return n.sizerRef.style.removeProperty("display"),t}}),_()(y()(y()(n)),"computeTabIndex",function(){var e=n.props,t=e.disabled,r=e.search,a=e.tabIndex;if(!r)return t?-1:O()(a)?0:a}),_()(y()(y()(n)),"handleSearchInputOverrides",function(e){return{onChange:function(t,r){A()(e,"onChange",t,r),n.handleSearchChange(t,r)}}}),_()(y()(y()(n)),"scrollSelectedItemIntoView",function(){if(n.ref){var e=n.ref.querySelector(".menu.visible");if(e){var t=e.querySelector(".item.selected");if(t){var r=t.offsetTop<e.scrollTop,a=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=t.offsetTop:a&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}}),_()(y()(y()(n)),"setOpenDirection",function(){if(n.ref){var e=n.ref.querySelector(".menu.visible");if(e){var t=n.ref.getBoundingClientRect(),r=e.clientHeight,a=document.documentElement.clientHeight-t.top-t.height-r,o=t.top-r,i=a<0&&o>a;!i!=!n.state.upward&&n.trySetState({upward:i})}}}),_()(y()(y()(n)),"open",function(e){var t=n.props,r=t.disabled,a=(t.open,t.search);r||(a&&n.searchRef&&n.searchRef.focus(),A()(n.props,"onOpen",e,n.props),n.trySetState({open:!0}),n.scrollSelectedItemIntoView())}),_()(y()(y()(n)),"close",function(e){n.state.open&&(A()(n.props,"onClose",e,n.props),n.trySetState({open:!1}))}),_()(y()(y()(n)),"handleClose",function(){var e=document.activeElement===n.searchRef,t=document.activeElement===n.ref,r=e||t;e||n.ref.blur(),n.setState({focus:r})}),_()(y()(y()(n)),"toggle",function(e){return n.state.open?n.close(e):n.open(e)}),_()(y()(y()(n)),"renderText",function(){var e=n.props,t=e.multiple,r=e.placeholder,a=e.search,o=e.text,i=n.state,s=i.searchQuery,l=i.value,u=i.open,c=t?!Qt()(l):!O()(l)&&""!==l,f=N()(r&&!c&&"default","text",a&&s&&"filtered"),d=r;return s?d=null:o?d=o:u&&!t?d=ia()(n.getSelectedItem(),"text"):c&&(d=ia()(n.getItemByValue(l),"text")),M.a.createElement("div",{className:f,role:"alert","aria-live":"polite"},d)}),_()(y()(y()(n)),"renderSearchInput",function(){var e=n.props,t=e.search,r=e.searchInput,a=n.state.searchQuery;return t?_a.create(r,{defaultProps:{inputRef:n.handleSearchRef,style:{width:n.computeSearchInputWidth()},tabIndex:n.computeSearchInputTabIndex(),value:a},overrideProps:n.handleSearchInputOverrides}):null}),_()(y()(y()(n)),"renderSearchSizer",function(){var e=n.props,t=e.search,r=e.multiple;return t&&r?M.a.createElement("span",{className:"sizer",ref:n.handleSizerRef}):null}),_()(y()(y()(n)),"renderLabels",function(){var e=n.props,t=e.multiple,r=e.renderLabel,a=n.state,o=a.selectedLabel,i=a.value;if(t&&!Qt()(i)){var s=En()(i,n.getItemByValue);return En()(Vr()(s),function(e,t){var a={active:e.value===o,as:"a",key:xa(e.key,e.value),onClick:n.handleLabelClick,onRemove:n.handleLabelRemove,value:e.value};return kn.create(r(e,t,a),{defaultProps:a})})}}),_()(y()(y()(n)),"renderOptions",function(){var e=n.props,t=e.lazyLoad,r=e.multiple,a=e.search,o=e.noResultsMessage,i=n.state,s=i.open,l=i.selectedIndex,u=i.value;if(t&&!s)return null;var c=n.getMenuOptions();if(null!==o&&a&&Qt()(c))return M.a.createElement("div",{className:"message"},o);var f=r?function(e){return jt()(u,e)}:function(e){return e===u};return En()(c,function(e,t){return pa.create(Qe()({active:f(e.value),onClick:n.handleItemClick,selected:l===t},e,{key:xa(e.key,e.value),style:Qe()({},e.style,{pointerEvents:"all"})}))})}),_()(y()(y()(n)),"renderMenu",function(){var e=n.props,t=e.children,a=e.direction,o=e.header,s=n.state.open,l=n.getDropdownMenuAriaOptions();if(!r.isNil(t)){var u=T.Children.only(t),c=N()(a,qe(s,"visible"),u.props.className);return Object(T.cloneElement)(u,Qe()({className:c},l))}return M.a.createElement(ya,i()({},l,{direction:a,open:s}),va.create(o,{autoGenerateKey:!1}),n.renderOptions())}),n}return v()(t,e),c()(t,[{key:"getInitialAutoControlledState",value:function(){return{searchQuery:""}}},{key:"componentWillMount",value:function(){var e=this.state,t=e.open,n=e.value;this.setValue(n),this.setSelectedIndex(n),t&&(this.open(),this.attachHandlersOnOpen())}},{key:"componentWillReceiveProps",value:function(e){Hr()(p()(t.prototype),"componentWillReceiveProps",this).call(this,e),Fr(e.value,this.props.value)||(this.setValue(e.value),this.setSelectedIndex(e.value)),la()(this.getKeyAndValues(e.options),this.getKeyAndValues(this.props.options))||this.setSelectedIndex(void 0,e.options)}},{key:"shouldComponentUpdate",value:function(e,t){return!Fr(e,this.props)||!Fr(t,this.state)}},{key:"componentDidUpdate",value:function(e,t){if(!t.focus&&this.state.focus){if(!this.isMouseDown){var n=this.props,r=n.minCharacters,a=n.openOnFocus,o=n.search,i=!o||o&&1===r&&!this.state.open;a&&i&&this.open()}this.state.open?Gt.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter]):Gt.sub("keydown",[this.openOnArrow,this.openOnSpace]),Gt.sub("keydown",this.removeItemOnBackspace)}else if(t.focus&&!this.state.focus){var s=this.props.closeOnBlur;!this.isMouseDown&&s&&this.close(),Gt.unsub("keydown",[this.openOnArrow,this.openOnSpace,this.moveSelectionOnKeyDown,this.selectItemOnEnter,this.removeItemOnBackspace])}!t.open&&this.state.open?(this.attachHandlersOnOpen(),this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&!this.state.open&&(this.handleClose(),Gt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]),Gt.unsub("click",this.closeOnDocumentClick),this.state.focus||Gt.unsub("keydown",this.removeItemOnBackspace))}},{key:"componentWillUnmount",value:function(){Gt.unsub("keydown",[this.openOnArrow,this.openOnSpace,this.moveSelectionOnKeyDown,this.selectItemOnEnter,this.removeItemOnBackspace,this.closeOnEscape]),Gt.unsub("click",this.closeOnDocumentClick)}},{key:"getDropdownMenuAriaOptions",value:function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r}},{key:"render",value:function(){var e=this.props,n=e.basic,r=e.button,a=e.className,o=e.compact,s=e.disabled,l=e.error,u=e.fluid,c=e.floating,f=e.icon,d=e.inline,h=e.item,p=e.labeled,m=e.loading,v=e.multiple,g=e.pointing,y=e.search,b=e.selection,_=e.scrolling,x=e.simple,w=e.trigger,k=this.state,A=k.open,T=k.upward,C=N()("ui",qe(A,"active visible"),qe(s,"disabled"),qe(l,"error"),qe(m,"loading"),qe(n,"basic"),qe(r,"button"),qe(o,"compact"),qe(u,"fluid"),qe(c,"floating"),qe(d,"inline"),qe(p,"labeled"),qe(h,"item"),qe(v,"multiple"),qe(y,"search"),qe(b,"selection"),qe(x,"simple"),qe(_,"scrolling"),qe(T,"upward"),We(g,"pointing"),"dropdown",a),S=E(t,this.props),j=Ze(t,this.props),O=this.getDropdownAriaOptions(j,this.props);return M.a.createElement(j,i()({},S,O,{className:C,onBlur:this.handleBlur,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex(),ref:this.handleRef}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),w||this.renderText(),At.create(f,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu())}}]),t}(nn);function ka(e){return M.a.createElement(wa,i()({},e,{selection:!0}))}_()(wa,"defaultProps",{additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:function(e){return e.text},searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0}),_()(wa,"autoControlledProps",["open","searchQuery","selectedLabel","value","upward"]),_()(wa,"Divider",ca),_()(wa,"Header",va),_()(wa,"Item",pa),_()(wa,"Menu",ya),_()(wa,"SearchInput",_a),_()(wa,"handledProps",["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","closeOnBlur","closeOnChange","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"]),wa.propTypes={},ka.handledProps=["options"],ka.propTypes={},ka.Divider=wa.Divider,ka.Header=wa.Header,ka.Item=wa.Item,ka.Menu=wa.Menu;var Aa=ka,Ta=n("./node_modules/lodash/sum.js"),Ma=n.n(Ta),Ea=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"focus",function(){return n.ref.focus()}),_()(y()(y()(n)),"handleChange",function(e){var t=ia()(e,"target.value");A()(n.props,"onChange",e,Qe()({},n.props,{value:t}))}),_()(y()(y()(n)),"handleInput",function(e){var t=ia()(e,"target.value");A()(n.props,"onInput",e,Qe()({},n.props,{value:t})),n.updateHeight()}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),_()(y()(y()(n)),"removeAutoHeightStyles",function(){n.ref.style.height=null,n.ref.style.resize=null}),_()(y()(y()(n)),"updateHeight",function(){var e=n.props.autoHeight;if(n.ref&&e){var t=window.getComputedStyle(n.ref),r=t.minHeight,a=t.borderBottomWidth,o=t.borderTopWidth,i=Ma()([a,o].map(function(e){return parseFloat(e)}));n.ref.style.height="auto",n.ref.style.overflowY="hidden",n.ref.style.height="".concat(Math.max(parseFloat(r),Math.ceil(n.ref.scrollHeight+i)),"px"),n.ref.style.overflowY=""}}),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.updateHeight()}},{key:"componentDidUpdate",value:function(e){!this.props.autoHeight&&e.autoHeight&&this.removeAutoHeightStyles(),(this.props.autoHeight&&!e.autoHeight||e.value!==this.props.value)&&this.updateHeight()}},{key:"render",value:function(){var e=this.props,n=e.autoHeight,r=e.rows,a=e.style,o=e.value,s=E(t,this.props),l=Ze(t,this.props),u=n?"none":"";return M.a.createElement(l,i()({},s,{onChange:this.handleChange,onInput:this.handleInput,ref:this.handleRef,rows:r,style:Qe()({resize:u},a),value:o}))}}]),t}(T.Component);_()(Ea,"defaultProps",{as:"textarea",rows:3}),_()(Ea,"handledProps",["as","autoHeight","onChange","onInput","rows","style","value"]),Ea.propTypes={};var Ca=Ea,Sa=function(e,t){return"number"==typeof e||"string"==typeof e?e:e[t]},ja=n("./node_modules/lodash/mapValues.js"),Oa=n.n(ja),Pa=n("./node_modules/lodash/keyBy.js"),Na=n.n(Pa),Ia=function(e){return Na()(Zt()(T.Children.toArray(e),T.isValidElement),"key")},La=function(e,t,n){return w()(n,e)?n[e]:t[e]},Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=function(e,t){var n={},r=[];return Pt()(G()(e),function(e){w()(t,e)?r.length&&(n[e]=r,r=[]):r.push(e)}),[n,r]}(e,t),a=Ct()(r,2),o=a[0],i=a[1];return Pt()(G()(t),function(r){w()(o,r)&&Pt()(o[r],function(r){n[r]=La(r,e,t)}),n[r]=La(r,e,t)}),Pt()(i,function(r){n[r]=La(r,e,t)}),n},Ra=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleOnHide",function(e,t){var r=t.reactKey;n.setState(function(e){var t=Qe()({},e.children);return delete t[r],{children:t}})}),_()(y()(y()(n)),"wrapChild",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.props,a=r.animation,o=r.duration,i=e.key,s=t.visible,l=void 0===s||s,u=t.transitionOnMount,c=void 0!==u&&u;return M.a.createElement(Fa,{animation:a,duration:o,key:i,onHide:n.handleOnHide,reactKey:i,transitionOnMount:c,visible:l},e)});var i=n.props.children;return n.state={children:Oa()(Ia(i),function(e){return n.wrapChild(e)})},n}return v()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.state.children,r=Ia(e.children),a=Da(n,r);Pt()(a,function(e,o){var i=w()(n,o),s=w()(r,o),l=n[o],u=!ia()(l,"props.visible");if(!s||i&&!u)if(s||!i||u){var c=l.props,f=c.visible,d=c.transitionOnMount;a[o]=t.wrapChild(e,{transitionOnMount:d,visible:f})}else a[o]=Object(T.cloneElement)(l,{visible:!1});else a[o]=t.wrapChild(e,{transitionOnMount:!0})}),this.setState({children:a})}},{key:"render",value:function(){var e=this.state.children,n=Ze(t,this.props),r=E(t,this.props);return M.a.createElement(n,r,V()(e))}}]),t}(M.a.Component);_()(Ra,"defaultProps",{animation:"fade",duration:500}),_()(Ra,"handledProps",["animation","as","children","duration"]),Ra.propTypes={};var za={ENTERING:"show",EXITING:"hide"},Fa=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=d()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"handleStart",function(){var e=n.props.duration,t=n.nextStatus;n.nextStatus=null,n.setSafeState({status:t,animating:!0},function(){var r=za[t],a=Sa(e,r);A()(n.props,"onStart",null,Qe()({},n.props,{status:t})),setTimeout(n.handleComplete,a)})}),_()(y()(y()(n)),"handleComplete",function(){var e=n.state.status;if(A()(n.props,"onComplete",null,Qe()({},n.props,{status:e})),n.nextStatus)n.handleStart();else{var r=n.computeCompletedStatus(),a=e===t.ENTERING?"onShow":"onHide";n.setSafeState({status:r,animating:!1},function(){A()(n.props,a,null,Qe()({},n.props,{status:r}))})}}),_()(y()(y()(n)),"updateStatus",function(){var e=n.state.animating;n.nextStatus&&(n.nextStatus=n.computeNextStatus(),e||n.handleStart())}),_()(y()(y()(n)),"computeClasses",function(){var e=n.props,r=e.animation,o=e.children,i=n.state,s=i.animating,l=i.status,u=ia()(o,"props.className");return jt()(a.DIRECTIONAL_TRANSITIONS,r)?N()(r,u,qe(s,"animating"),qe(l===t.ENTERING,"in"),qe(l===t.EXITING,"out"),qe(l===t.EXITED,"hidden"),qe(l!==t.EXITED,"visible"),"transition"):N()(r,u,qe(s,"animating transition"))}),_()(y()(y()(n)),"computeCompletedStatus",function(){var e=n.props.unmountOnHide;return n.state.status===t.ENTERING?t.ENTERED:e?t.UNMOUNTED:t.EXITED}),_()(y()(y()(n)),"computeInitialStatuses",function(){var e=n.props,r=e.visible,a=e.mountOnShow,o=e.transitionOnMount,i=e.unmountOnHide;return r?o?{initial:t.EXITED,next:t.ENTERING}:{initial:t.ENTERED}:a||i?{initial:t.UNMOUNTED}:{initial:t.EXITED}}),_()(y()(y()(n)),"computeNextStatus",function(){var e=n.state,r=e.animating,a=e.status;return r?a===t.ENTERING?t.EXITING:t.ENTERING:a===t.ENTERED?t.EXITING:t.ENTERING}),_()(y()(y()(n)),"computeStatuses",function(e){var r=n.state.status;return e.visible?{current:r===t.UNMOUNTED&&t.EXITED,next:r!==t.ENTERING&&r!==t.ENTERED&&t.ENTERING}:{next:(r===t.ENTERING||r===t.ENTERED)&&t.EXITING}}),_()(y()(y()(n)),"computeStyle",function(){var e=n.props,t=e.children,r=e.duration,a=n.state.status,o=ia()(t,"props.style"),i=za[a],s=i&&"".concat(Sa(r,i),"ms");return Qe()({},o,{animationDuration:s})}),_()(y()(y()(n)),"setSafeState",function(){var e;return n.mounted&&(e=n).setState.apply(e,arguments)});var s=n.computeInitialStatuses(),u=s.initial,c=s.next;return n.nextStatus=c,n.state={status:u},n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.updateStatus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.computeStatuses(e),n=t.current,r=t.next;this.nextStatus=r,n&&this.setSafeState({status:n})}},{key:"componentDidUpdate",value:function(){this.updateStatus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props.children;return this.state.status===t.UNMOUNTED?null:Object(T.cloneElement)(e,{className:this.computeClasses(),style:this.computeStyle()})}}]),t}(T.Component);_()(Fa,"defaultProps",{animation:"fade",duration:500,visible:!0,mountOnShow:!0,transitionOnMount:!1,unmountOnHide:!1}),_()(Fa,"ENTERED","ENTERED"),_()(Fa,"ENTERING","ENTERING"),_()(Fa,"EXITED","EXITED"),_()(Fa,"EXITING","EXITING"),_()(Fa,"UNMOUNTED","UNMOUNTED"),_()(Fa,"Group",Ra),_()(Fa,"handledProps",["animation","children","duration","mountOnShow","onComplete","onHide","onShow","onStart","reactKey","transitionOnMount","unmountOnHide","visible"]),Fa.propTypes={};var Ba=function(e){function t(e){var n;return l()(this,t),n=d()(this,p()(t).call(this,e)),_()(y()(y()(n)),"handlePortalClose",function(){n.setState({portalOpen:!1})}),_()(y()(y()(n)),"handlePortalOpen",function(){n.setState({portalOpen:!0})}),_()(y()(y()(n)),"handleTransitionHide",function(e,t){var r=n.state.portalOpen;n.setState({transitionVisible:!1}),A()(n.props,"onClose",null,Qe()({},t,{portalOpen:!1,transitionVisible:!1})),A()(n.props,"onHide",null,Qe()({},t,{portalOpen:r,transitionVisible:!1}))}),_()(y()(y()(n)),"handleTransitionStart",function(e,t){var r=n.state.portalOpen,a=t.status===Fa.ENTERING;A()(n.props,"onStart",null,Qe()({},t,{portalOpen:r,transitionVisible:a})),a&&(n.setState({transitionVisible:a}),A()(n.props,"onOpen",null,Qe()({},t,{transitionVisible:a,portalOpen:!0})))}),n.state={portalOpen:e.open},n}return v()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.open;this.setState({portalOpen:t})}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.transition,a=this.state,o=a.portalOpen,s=a.transitionVisible,l=o||s,u=E(t,this.props);return M.a.createElement(un,i()({},u,{open:l,onOpen:this.handlePortalOpen,onClose:this.handlePortalClose}),M.a.createElement(Fa,i()({},r,{transitionOnMount:!0,onStart:this.handleTransitionStart,onHide:this.handleTransitionHide,visible:o}),n))}}]),t}(T.Component);_()(Ba,"defaultProps",{transition:{animation:"scale",duration:400}}),_()(Ba,"handledProps",["children","onClose","onHide","onOpen","onStart","open","transition"]),Ba.propTypes={};var Ua=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"calculations",{bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1}),_()(y()(y()(n)),"firedCallbacks",[]),_()(y()(y()(n)),"fire",function(e,t){var r=e.callback,a=e.name,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.props,s=i.continuous,l=i.once,u=n.calculations[t]!==o,c=s||n.calculations[t]!==n.oldCalculations[t];u&&c&&n.execute(r,a),l||(n.firedCallbacks=_t()(n.firedCallbacks,a))}),_()(y()(y()(n)),"handleUpdate",function(){n.ticking||(n.ticking=!0,n.frameId=requestAnimationFrame(n.update))}),_()(y()(y()(n)),"update",function(){if(n.mounted){n.ticking=!1,n.oldCalculations=n.calculations,n.calculations=n.computeCalculations(),n.pageYOffset=window.pageYOffset;var e=n.props,t=e.onBottomPassed,r=e.onBottomPassedReverse,a=e.onBottomVisible,o=e.onBottomVisibleReverse,i=e.onPassing,s=e.onPassingReverse,l=e.onTopPassed,u=e.onTopPassedReverse,c=e.onTopVisible,f=e.onTopVisibleReverse,d=e.onOffScreen,h=e.onOnScreen,p=e.updateOn,m={bottomPassed:{callback:t,name:"onBottomPassed"},bottomVisible:{callback:a,name:"onBottomVisible"},passing:{callback:i,name:"onPassing"},offScreen:{callback:d,name:"onOffScreen"},onScreen:{callback:h,name:"onOnScreen"},topPassed:{callback:l,name:"onTopPassed"},topVisible:{callback:c,name:"onTopVisible"}},v={bottomPassed:{callback:r,name:"onBottomPassedReverse"},bottomVisible:{callback:o,name:"onBottomVisibleReverse"},passing:{callback:s,name:"onPassingReverse"},topPassed:{callback:u,name:"onTopPassedReverse"},topVisible:{callback:f,name:"onTopVisibleReverse"}};A()(n.props,"onUpdate",null,Qe()({},n.props,{calculations:n.calculations})),n.fireOnPassed(),Pt()(v,function(e,t){return n.fire(e,t,!0)}),Pt()(m,function(e,t){return n.fire(e,t)}),"repaint"===p&&n.handleUpdate()}}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),n}return v()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.continuous,n=e.once,r=e.context,a=e.updateOn;(t!==this.props.continuous||n!==this.props.once||a!==this.props.updateOn)&&(this.firedCallbacks=[]),r===this.props.context&&a===this.props.updateOn||(this.unattachHandlers(this.props.context),this.attachHandlers(r,a))}},{key:"componentDidMount",value:function(){if(this.mounted=!0,zt()){var e=this.props,t=e.context,n=e.fireOnMount,r=e.updateOn;this.pageYOffset=window.pageYOffset,this.attachHandlers(t,r),n&&this.update()}}},{key:"componentWillUnmount",value:function(){var e=this.props.context;this.unattachHandlers(e),this.mounted=!1}},{key:"attachHandlers",value:function(e,t){"events"!==t?this.handleUpdate():e&&(Gt.sub("resize",this.handleUpdate,{target:e}),Gt.sub("scroll",this.handleUpdate,{target:e}))}},{key:"unattachHandlers",value:function(e){e&&(Gt.unsub("resize",this.handleUpdate,{target:e}),Gt.unsub("scroll",this.handleUpdate,{target:e})),this.frameId&&cancelAnimationFrame(this.frameId)}},{key:"execute",value:function(e,t){var n=this.props.continuous;e&&(!n&&jt()(this.firedCallbacks,t)||(e(null,Qe()({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(t)))}},{key:"fireOnPassed",value:function(){var e=this,t=this.calculations,n=t.percentagePassed,r=t.pixelsPassed,a=this.props.onPassed;Pt()(a,function(t,a){var o=Number(a);if(o&&r>=o)e.execute(t,a);else{var i="".concat(a).match(/^(\d+)%$/);if(i){var s=Number(i[1])/100;n>=s&&e.execute(t,a)}}})}},{key:"computeCalculations",value:function(){var e=this.props.offset,t=this.ref.getBoundingClientRect(),n=t.bottom,r=t.height,a=t.top,o=t.width,i=function(e){return"number"==typeof e||"string"==typeof e?[e,e]:e}(e),s=Ct()(i,2),l=s[0],u=s[1],c=window.pageYOffset>this.pageYOffset?"down":"up",f=a<l,d=n<u,h=d?0:Math.max(-1*a,0),p=h/r,m=n>=u&&n<=window.innerHeight,v=a>=l&&a<=window.innerHeight,g=(v||f)&&!d;return{bottomPassed:d,bottomVisible:m,direction:c,fits:v&&m,height:r,passing:f&&!d,percentagePassed:p,pixelsPassed:h,offScreen:!g,onScreen:g,topPassed:f,topVisible:v,width:o}}},{key:"render",value:function(){var e=this.props.children,n=Ze(t,this.props),r=E(t,this.props);return M.a.createElement(n,i()({},r,{ref:this.handleRef}),e)}}]),t}(T.Component);function Ha(e){var t=e.children,n=e.className,a=e.content,o=e.icon,s=N()("divider",n),l=E(Ha,e),u=Ze(Ha,e);return O()(o)?O()(a)?M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?"/":t):M.a.createElement(u,i()({},l,{className:s}),a):At.create(o,{defaultProps:Qe()({},l,{className:s}),autoGenerateKey:!1})}_()(Ua,"defaultProps",{context:zt()?window:null,continuous:!1,offset:[0,0],once:!0,updateOn:"events"}),_()(Ua,"handledProps",["as","children","context","continuous","fireOnMount","offset","onBottomPassed","onBottomPassedReverse","onBottomVisible","onBottomVisibleReverse","onOffScreen","onOnScreen","onPassed","onPassing","onPassingReverse","onTopPassed","onTopPassedReverse","onTopVisible","onTopVisibleReverse","onUpdate","once","updateOn"]),Ua.propTypes={},Ha.handledProps=["as","children","className","content","icon"],Ha.propTypes={},Ha.create=dt(Ha,function(e){return{icon:e}});var qa=Ha,Va=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"computeElementType",function(){var e=n.props,t=e.link,r=e.onClick;if(t||r)return"a"}),_()(y()(y()(n)),"handleClick",function(e){return A()(n.props,"onClick",e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.children,o=e.className,s=e.content,l=e.href,u=N()(qe(n,"active"),"section",o),c=E(t,this.props),f=Ze(t,this.props,this.computeElementType);return M.a.createElement(f,i()({},c,{className:u,href:l,onClick:this.handleClick}),r.isNil(a)?s:a)}}]),t}(T.Component);function Wa(e){var t=e.children,n=e.className,a=e.divider,o=e.icon,s=e.sections,l=e.size,u=N()("ui",l,"breadcrumb",n),c=E(Wa,e),f=Ze(Wa,e);if(!r.isNil(t))return M.a.createElement(f,i()({},c,{className:u}),t);var d=[];return en()(s,function(e,t){var n=Va.create(e);if(d.push(n),t!==s.length-1){var r="".concat(n.key,"_divider")||JSON.stringify(e);d.push(qa.create({content:a,icon:o,key:r}))}}),M.a.createElement(f,i()({},c,{className:u}),d)}_()(Va,"handledProps",["active","as","children","className","content","href","link","onClick"]),Va.propTypes={},Va.create=dt(Va,function(e){return{content:e,link:!0}}),Wa.handledProps=["as","children","className","divider","icon","sections","size"],Wa.propTypes={},Wa.Divider=qa,Wa.Section=Va;var Ga=Wa;function Xa(e){var t=e.children,n=e.className,a=e.content,o=e.control,s=e.disabled,l=e.error,u=e.inline,c=e.label,f=e.required,d=e.type,h=e.width,p=N()(qe(s,"disabled"),qe(l,"error"),qe(u,"inline"),qe(f,"required"),Ke(h,"wide"),"field",n),m=E(Xa,e),v=Ze(Xa,e);if(O()(o))return O()(c)?M.a.createElement(v,i()({},m,{className:p}),r.isNil(t)?a:t):M.a.createElement(v,i()({},m,{className:p}),gt(c,{autoGenerateKey:!1}));var g=Qe()({},m,{content:a,children:t,disabled:s,required:f,type:d});return"input"!==o||"checkbox"!==d&&"radio"!==d?o===Lr||o===Rr?M.a.createElement(v,{className:p},Object(T.createElement)(o,Qe()({},g,{label:c}))):M.a.createElement(v,{className:p},gt(c,{defaultProps:{htmlFor:ia()(g,"id")},autoGenerateKey:!1}),Object(T.createElement)(o,g)):M.a.createElement(v,{className:p},M.a.createElement("label",null,Object(T.createElement)(o,g)," ",c))}Xa.handledProps=["as","children","className","content","control","disabled","error","inline","label","required","type","width"],Xa.propTypes={};var Ya=Xa;function Ka(e){var t=e.control,n=E(Ka,e),r=Ze(Ka,e);return M.a.createElement(r,i()({},n,{control:t}))}Ka.handledProps=["as","control"],Ka.propTypes={},Ka.defaultProps={as:Ya,control:Nn};var Za=Ka;function Ja(e){var t=e.control,n=E(Ja,e),r=Ze(Ja,e);return M.a.createElement(r,i()({},n,{control:t}))}Ja.handledProps=["as","control"],Ja.propTypes={},Ja.defaultProps={as:Ya,control:Lr};var Qa=Ja;function $a(e){var t=e.control,n=E($a,e),r=Ze($a,e);return M.a.createElement(r,i()({},n,{control:t}))}$a.handledProps=["as","control"],$a.propTypes={},$a.defaultProps={as:Ya,control:wa};var eo=$a;function to(e){var t=e.children,n=e.className,r=e.grouped,a=e.inline,o=e.unstackable,s=e.widths,l=N()(qe(r,"grouped"),qe(a,"inline"),qe(o,"unstackable"),Ke(s,null,!0),"fields",n),u=E(to,e),c=Ze(to,e);return M.a.createElement(c,i()({},u,{className:l}),t)}to.handledProps=["as","children","className","grouped","inline","unstackable","widths"],to.propTypes={};var no=to,ro=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"computeIcon",function(){var e=n.props,t=e.loading,r=e.icon;return O()(r)?t?"spinner":void 0:r}),_()(y()(y()(n)),"computeTabIndex",function(){var e=n.props,t=e.disabled,r=e.tabIndex;return O()(r)?t?-1:void 0:r}),_()(y()(y()(n)),"focus",function(){return n.inputRef.focus()}),_()(y()(y()(n)),"select",function(){return n.inputRef.select()}),_()(y()(y()(n)),"handleChange",function(e){var t=ia()(e,"target.value");A()(n.props,"onChange",e,Qe()({},n.props,{value:t}))}),_()(y()(y()(n)),"handleChildOverrides",function(e,t){return Qe()({},t,e.props,{ref:function(t){A()(e,"ref",t),n.handleInputRef(t)}})}),_()(y()(y()(n)),"handleInputRef",function(e){return n.inputRef=e}),_()(y()(y()(n)),"partitionProps",function(){var e=n.props,r=e.disabled,a=e.type,o=n.computeTabIndex(),i=E(t,n.props),s=Lt(i),l=Ct()(s,2),u=l[0],c=l[1];return[Qe()({},u,{disabled:r,type:a,tabIndex:o,onChange:n.handleChange,ref:n.handleInputRef}),c]}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,a=n.action,o=n.actionPosition,s=n.children,l=n.className,u=n.disabled,c=n.error,f=n.fluid,d=n.focus,h=n.icon,p=n.iconPosition,m=n.input,v=n.inverted,g=n.label,y=n.labelPosition,b=n.loading,_=n.size,x=n.transparent,w=n.type,k=N()("ui",_,qe(u,"disabled"),qe(c,"error"),qe(f,"fluid"),qe(d,"focus"),qe(v,"inverted"),qe(b,"loading"),qe(x,"transparent"),Ve(o,"action")||qe(a,"action"),Ve(p,"icon")||qe(h||b,"icon"),Ve(y,"labeled")||qe(g,"labeled"),"input",l),A=Ze(t,this.props),E=this.partitionProps(),C=Ct()(E,2),S=C[0],j=C[1];if(!r.isNil(s)){var O=En()(T.Children.toArray(s),function(t){return"input"!==t.type?t:Object(T.cloneElement)(t,e.handleChildOverrides(t,S))});return M.a.createElement(A,i()({},j,{className:k}),O)}var P=Nn.create(a,{autoGenerateKey:!1}),I=kn.create(g,{defaultProps:{className:N()("label",jt()(y,"corner")&&y)},autoGenerateKey:!1});return M.a.createElement(A,i()({},j,{className:k}),"left"===o&&P,"right"!==y&&I,vt(m||w,{defaultProps:S,autoGenerateKey:!1}),At.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==o&&P,"right"===y&&I)}}]),t}(T.Component);_()(ro,"defaultProps",{type:"text"}),_()(ro,"handledProps",["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"]),ro.propTypes={},ro.create=dt(ro,function(e){return{type:e}});var ao=ro;function oo(e){var t=e.control,n=E(oo,e),r=Ze(oo,e);return M.a.createElement(r,i()({},n,{control:t}))}oo.handledProps=["as","control"],oo.propTypes={},oo.defaultProps={as:Ya,control:ao};var io=oo;function so(e){var t=e.control,n=E(so,e),r=Ze(so,e);return M.a.createElement(r,i()({},n,{control:t}))}so.handledProps=["as","control"],so.propTypes={},so.defaultProps={as:Ya,control:Rr};var lo=so;function uo(e){var t=e.control,n=e.options,r=E(uo,e),a=Ze(uo,e);return M.a.createElement(a,i()({},r,{control:t,options:n}))}uo.handledProps=["as","control","options"],uo.propTypes={},uo.defaultProps={as:Ya,control:Aa};var co=uo;function fo(e){var t=e.control,n=E(fo,e),r=Ze(fo,e);return M.a.createElement(r,i()({},n,{control:t}))}fo.handledProps=["as","control"],fo.propTypes={},fo.defaultProps={as:Ya,control:Ca};var ho=fo,po=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleSubmit",function(e){"string"!=typeof n.props.action&&A()(e,"preventDefault");for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];A.a.apply(void 0,[n.props,"onSubmit",e,n.props].concat(r))}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.action,r=e.children,a=e.className,o=e.error,s=e.inverted,l=e.loading,u=e.reply,c=e.size,f=e.success,d=e.unstackable,h=e.warning,p=e.widths,m=N()("ui",c,qe(o,"error"),qe(s,"inverted"),qe(l,"loading"),qe(u,"reply"),qe(f,"success"),qe(d,"unstackable"),qe(h,"warning"),Ke(p,null,!0),"form",a),v=E(t,this.props),g=Ze(t,this.props);return M.a.createElement(g,i()({},v,{action:n,className:m,onSubmit:this.handleSubmit}),r)}}]),t}(T.Component);_()(po,"defaultProps",{as:"form"}),_()(po,"Field",Ya),_()(po,"Button",Za),_()(po,"Checkbox",Qa),_()(po,"Dropdown",eo),_()(po,"Group",no),_()(po,"Input",io),_()(po,"Radio",lo),_()(po,"Select",co),_()(po,"TextArea",ho),_()(po,"handledProps",["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"]),po.propTypes={};var mo=po;function vo(e){var t=e.children,n=e.className,r=e.computer,a=e.color,o=e.floated,s=e.largeScreen,l=e.mobile,u=e.only,c=e.stretched,f=e.tablet,d=e.textAlign,h=e.verticalAlign,p=e.widescreen,m=e.width,v=N()(a,qe(c,"stretched"),Ge(u,"only"),Xe(d),Ve(o,"floated"),Ye(h),Ke(r,"wide computer"),Ke(s,"wide large screen"),Ke(l,"wide mobile"),Ke(f,"wide tablet"),Ke(p,"wide widescreen"),Ke(m,"wide"),"column",n),g=E(vo,e),y=Ze(vo,e);return M.a.createElement(y,i()({},g,{className:v}),t)}vo.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],vo.propTypes={},vo.create=dt(vo,function(e){return{children:e}});var go=vo;function yo(e){var t=e.centered,n=e.children,r=e.className,a=e.color,o=e.columns,s=e.divided,l=e.only,u=e.reversed,c=e.stretched,f=e.textAlign,d=e.verticalAlign,h=N()(a,qe(t,"centered"),qe(s,"divided"),qe(c,"stretched"),Ge(l,"only"),Ge(u,"reversed"),Xe(f),Ye(d),Ke(o,"column",!0),"row",r),p=E(yo,e),m=Ze(yo,e);return M.a.createElement(m,i()({},p,{className:h}),n)}yo.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],yo.propTypes={};var bo=yo;function _o(e){var t=e.celled,n=e.centered,r=e.children,a=e.className,o=e.columns,s=e.container,l=e.divided,u=e.doubling,c=e.inverted,f=e.padded,d=e.relaxed,h=e.reversed,p=e.stackable,m=e.stretched,v=e.textAlign,g=e.verticalAlign,y=N()("ui",qe(n,"centered"),qe(s,"container"),qe(u,"doubling"),qe(c,"inverted"),qe(p,"stackable"),qe(m,"stretched"),We(t,"celled"),We(l,"divided"),We(f,"padded"),We(d,"relaxed"),Ge(h,"reversed"),Xe(v),Ye(g),Ke(o,"column",!0),"grid",a),b=E(_o,e),_=Ze(_o,e);return M.a.createElement(_,i()({},b,{className:y}),r)}_o.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],_o.Column=go,_o.Row=bo,_o.propTypes={};var xo=_o;function wo(e){var t=e.children,n=e.className,a=e.content,o=N()("content",n),s=E(wo,e),l=Ze(wo,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}wo.handledProps=["as","children","className","content"],wo.propTypes={};var ko=wo;function Ao(e){var t=e.children,n=e.className,a=e.content,o=N()("header",n),s=E(Ao,e),l=Ze(Ao,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Ao.handledProps=["as","children","className","content"],Ao.propTypes={},Ao.create=dt(Ao,function(e){return{content:e}});var To=Ao;function Mo(e){var t=e.children,n=e.className,a=e.content,o=N()("content",n),s=E(Mo,e),l=Ze(Mo,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Mo.handledProps=["as","children","className","content"],Mo.propTypes={},Mo.defaultProps={as:"li"},Mo.create=dt(Mo,function(e){return{content:e}});var Eo=Mo;function Co(e){var t=e.children,n=e.className,a=e.items,o=N()("list",n),s=E(Co,e),l=Ze(Co,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?En()(a,Eo.create):t)}Co.handledProps=["as","children","className","items"],Co.propTypes={},Co.defaultProps={as:"ul"},Co.create=dt(Co,function(e){return{items:e}});var So=Co,jo=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleDismiss",function(e){var t=n.props.onDismiss;t&&t(e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.attached,a=e.children,o=e.className,s=e.color,l=e.compact,u=e.content,c=e.error,f=e.floating,d=e.header,h=e.hidden,p=e.icon,m=e.info,v=e.list,g=e.negative,y=e.onDismiss,b=e.positive,_=e.size,x=e.success,w=e.visible,k=e.warning,A=N()("ui",s,_,qe(l,"compact"),qe(c,"error"),qe(f,"floating"),qe(h,"hidden"),qe(p,"icon"),qe(m,"info"),qe(g,"negative"),qe(b,"positive"),qe(x,"success"),qe(w,"visible"),qe(k,"warning"),We(n,"attached"),"message",o),T=y&&M.a.createElement(At,{name:"close",onClick:this.handleDismiss}),C=E(t,this.props),S=Ze(t,this.props);return r.isNil(a)?M.a.createElement(S,i()({},C,{className:A}),T,At.create(p,{autoGenerateKey:!1}),(!O()(d)||!O()(u)||!O()(v))&&M.a.createElement(ko,null,To.create(d,{autoGenerateKey:!1}),So.create(v,{autoGenerateKey:!1}),yt(u,{autoGenerateKey:!1}))):M.a.createElement(S,i()({},C,{className:A}),T,a)}}]),t}(T.Component);function Oo(e){var t=e.children,n=e.className,r=N()(n),a=E(Oo,e),o=Ze(Oo,e);return M.a.createElement(o,i()({},a,{className:r}),t)}_()(jo,"Content",ko),_()(jo,"Header",To),_()(jo,"List",So),_()(jo,"Item",Eo),_()(jo,"handledProps",["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"]),jo.propTypes={},Oo.handledProps=["as","children","className"],Oo.defaultProps={as:"tbody"},Oo.propTypes={};var Po=Oo;function No(e){var t=e.active,n=e.children,a=e.className,o=e.collapsing,s=e.content,l=e.disabled,u=e.error,c=e.icon,f=e.negative,d=e.positive,h=e.selectable,p=e.singleLine,m=e.textAlign,v=e.verticalAlign,g=e.warning,y=e.width,b=N()(qe(t,"active"),qe(o,"collapsing"),qe(l,"disabled"),qe(u,"error"),qe(f,"negative"),qe(d,"positive"),qe(h,"selectable"),qe(p,"single line"),qe(g,"warning"),Xe(m),Ye(v),Ke(y,"wide"),a),_=E(No,e),x=Ze(No,e);return r.isNil(n)?M.a.createElement(x,i()({},_,{className:b}),At.create(c),s):M.a.createElement(x,i()({},_,{className:b}),n)}No.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],No.defaultProps={as:"td"},No.propTypes={},No.create=dt(No,function(e){return{content:e}});var Io=No;function Lo(e){var t=e.children,n=e.className,a=e.content,o=e.fullWidth,s=N()(qe(o,"full-width"),n),l=E(Lo,e),u=Ze(Lo,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?a:t)}Lo.handledProps=["as","children","className","content","fullWidth"],Lo.defaultProps={as:"thead"},Lo.propTypes={};var Do=Lo;function Ro(e){var t=e.as,n=E(Ro,e);return M.a.createElement(Do,i()({},n,{as:t}))}Ro.handledProps=["as"],Ro.propTypes={},Ro.defaultProps={as:"tfoot"};var zo=Ro;function Fo(e){var t=e.as,n=e.className,r=e.sorted,a=N()(Ve(r,"sorted"),n),o=E(Fo,e);return M.a.createElement(Io,i()({},o,{as:t,className:a}))}Fo.handledProps=["as","className","sorted"],Fo.propTypes={},Fo.defaultProps={as:"th"};var Bo=Fo;function Uo(e){var t=e.active,n=e.cellAs,a=e.cells,o=e.children,s=e.className,l=e.disabled,u=e.error,c=e.negative,f=e.positive,d=e.textAlign,h=e.verticalAlign,p=e.warning,m=N()(qe(t,"active"),qe(l,"disabled"),qe(u,"error"),qe(c,"negative"),qe(f,"positive"),qe(p,"warning"),Xe(d),Ye(h),s),v=E(Uo,e),g=Ze(Uo,e);return r.isNil(o)?M.a.createElement(g,i()({},v,{className:m}),En()(a,function(e){return Io.create(e,{defaultProps:{as:n}})})):M.a.createElement(g,i()({},v,{className:m}),o)}Uo.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],Uo.defaultProps={as:"tr",cellAs:"td"},Uo.propTypes={},Uo.create=dt(Uo,function(e){return{cells:e}});var Ho=Uo;function qo(e){var t=e.attached,n=e.basic,a=e.celled,o=e.children,s=e.className,l=e.collapsing,u=e.color,c=e.columns,f=e.compact,d=e.definition,h=e.fixed,p=e.footerRow,m=e.headerRow,v=e.inverted,g=e.padded,y=e.renderBodyRow,b=e.selectable,_=e.singleLine,x=e.size,w=e.sortable,k=e.stackable,A=e.striped,T=e.structured,C=e.tableData,S=e.textAlign,j=e.unstackable,O=e.verticalAlign,P=N()("ui",u,x,qe(a,"celled"),qe(l,"collapsing"),qe(d,"definition"),qe(h,"fixed"),qe(v,"inverted"),qe(b,"selectable"),qe(_,"single line"),qe(w,"sortable"),qe(k,"stackable"),qe(A,"striped"),qe(T,"structured"),qe(j,"unstackable"),We(t,"attached"),We(n,"basic"),We(f,"compact"),We(g,"padded"),Xe(S),Ye(O),Ke(c,"column"),"table",s),I=E(qo,e),L=Ze(qo,e);return r.isNil(o)?M.a.createElement(L,i()({},I,{className:P}),m&&M.a.createElement(Do,null,Ho.create(m,{defaultProps:{cellAs:"th"}})),M.a.createElement(Po,null,y&&En()(C,function(e,t){return Ho.create(y(e,t))})),p&&M.a.createElement(zo,null,Ho.create(p))):M.a.createElement(L,i()({},I,{className:P}),o)}qo.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],qo.defaultProps={as:"table"},qo.propTypes={},qo.Body=Po,qo.Cell=Io,qo.Footer=zo,qo.Header=Do,qo.HeaderCell=Bo,qo.Row=Ho;var Vo=qo;function Wo(e){var t=e.children,n=e.className,a=e.content,o=e.fluid,s=e.text,l=e.textAlign,u=N()("ui",qe(s,"text"),qe(o,"fluid"),Xe(l),"container",n),c=E(Wo,e),f=Ze(Wo,e);return M.a.createElement(f,i()({},c,{className:u}),r.isNil(t)?a:t)}Wo.handledProps=["as","children","className","content","fluid","text","textAlign"],Wo.propTypes={};var Go=Wo;function Xo(e){var t=e.children,n=e.className,a=e.clearing,o=e.content,s=e.fitted,l=e.hidden,u=e.horizontal,c=e.inverted,f=e.section,d=e.vertical,h=N()("ui",qe(a,"clearing"),qe(s,"fitted"),qe(l,"hidden"),qe(u,"horizontal"),qe(c,"inverted"),qe(f,"section"),qe(d,"vertical"),"divider",n),p=E(Xo,e),m=Ze(Xo,e);return M.a.createElement(m,i()({},p,{className:h}),r.isNil(t)?o:t)}Xo.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],Xo.propTypes={};var Yo=Xo;function Ko(e){var t=e.children,n=e.className,a=e.content,o=N()("sub header",n),s=E(Ko,e),l=Ze(Ko,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Ko.handledProps=["as","children","className","content"],Ko.propTypes={},Ko.create=dt(Ko,function(e){return{content:e}});var Zo=Ko;function Jo(e){var t=e.children,n=e.className,a=e.content,o=N()("content",n),s=E(Jo,e),l=Ze(Jo,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Jo.handledProps=["as","children","className","content"],Jo.propTypes={};var Qo=Jo;function $o(e){var t=e.attached,n=e.block,a=e.children,o=e.className,s=e.color,l=e.content,u=e.disabled,c=e.dividing,f=e.floated,d=e.icon,h=e.image,p=e.inverted,m=e.size,v=e.sub,g=e.subheader,y=e.textAlign,b=N()("ui",s,m,qe(n,"block"),qe(u,"disabled"),qe(c,"dividing"),Ve(f,"floated"),qe(!0===d,"icon"),qe(!0===h,"image"),qe(p,"inverted"),qe(v,"sub"),We(t,"attached"),Xe(y),"header",o),_=E($o,e),x=Ze($o,e);if(!r.isNil(a))return M.a.createElement(x,i()({},_,{className:b}),a);var w=At.create(d,{autoGenerateKey:!1}),k=yn.create(h,{autoGenerateKey:!1}),A=Zo.create(g,{autoGenerateKey:!1});return w||k?M.a.createElement(x,i()({},_,{className:b}),w||k,(l||A)&&M.a.createElement(Qo,null,l,A)):M.a.createElement(x,i()({},_,{className:b}),l,A)}$o.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],$o.propTypes={},$o.Content=Qo,$o.Subheader=Zo;var ei=$o;function ti(e){var t=e.children,n=e.className,a=e.content,o=N()(n,"description"),s=E(ti,e),l=Ze(ti,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}ti.handledProps=["as","children","className","content"],ti.propTypes={},ti.create=dt(ti,function(e){return{content:e}});var ni=ti;function ri(e){var t=e.children,n=e.className,a=e.content,o=N()("header",n),s=E(ri,e),l=Ze(ri,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}ri.handledProps=["as","children","className","content"],ri.propTypes={},ri.create=dt(ri,function(e){return{content:e}});var ai=ri;function oi(e){var t=e.children,n=e.className,a=e.content,o=e.description,s=e.floated,l=e.header,u=e.verticalAlign,c=N()(Ve(s,"floated"),Ye(u),"content",n),f=E(oi,e),d=Ze(oi,e);return r.isNil(t)?M.a.createElement(d,i()({},f,{className:c}),ai.create(l),ni.create(o),a):M.a.createElement(d,i()({},f,{className:c}),t)}oi.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],oi.propTypes={},oi.create=dt(oi,function(e){return{content:e}});var ii=oi;function si(e){var t=e.className,n=e.verticalAlign,r=N()(Ye(n),t),a=E(si,e);return M.a.createElement(At,i()({},a,{className:r}))}si.handledProps=["className","verticalAlign"],si.propTypes={},si.create=dt(si,function(e){return{name:e}});var li=si,ui=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){n.props.disabled||A()(n.props,"onClick",e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.children,o=e.className,s=e.content,l=e.description,u=e.disabled,c=e.header,f=e.icon,d=e.image,h=e.value,p=Ze(t,this.props),m=N()(qe(n,"active"),qe(u,"disabled"),qe("li"!==p,"item"),o),v=E(t,this.props),g="li"===p?{value:h}:{"data-value":h};if(!r.isNil(a))return M.a.createElement(p,i()({},g,{role:"listitem",className:m,onClick:this.handleClick},v),a);var y=li.create(f,{autoGenerateKey:!1}),b=yn.create(d,{autoGenerateKey:!1});if(!Object(T.isValidElement)(s)&&nt()(s))return M.a.createElement(p,i()({},g,{role:"listitem",className:m,onClick:this.handleClick},v),y||b,ii.create(s,{autoGenerateKey:!1,defaultProps:{header:c,description:l}}));var _=ai.create(c,{autoGenerateKey:!1}),x=ni.create(l,{autoGenerateKey:!1});return y||b?M.a.createElement(p,i()({},g,{role:"listitem",className:m,onClick:this.handleClick},v),y||b,(s||_||x)&&M.a.createElement(ii,null,_,x,s)):M.a.createElement(p,i()({},g,{role:"listitem",className:m,onClick:this.handleClick},v),_,x,s)}}]),t}(T.Component);_()(ui,"handledProps",["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"]),ui.propTypes={},ui.create=dt(ui,function(e){return{content:e}});var ci=ui;function fi(e){var t=e.children,n=e.className,a=e.content,o=E(fi,e),s=Ze(fi,e),l=N()(qe("ul"!==s&&"ol"!==s,"list"),n);return M.a.createElement(s,i()({},o,{className:l}),r.isNil(t)?a:t)}fi.handledProps=["as","children","className","content"],fi.propTypes={};var di=fi,hi=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleItemOverrides",function(e){return{onClick:function(t,r){A()(e,"onClick",t,r),A()(n.props,"onItemClick",t,r)}}}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,a=n.animated,o=n.bulleted,s=n.celled,l=n.children,u=n.className,c=n.content,f=n.divided,d=n.floated,h=n.horizontal,p=n.inverted,m=n.items,v=n.link,g=n.ordered,y=n.relaxed,b=n.selection,_=n.size,x=n.verticalAlign,w=N()("ui",_,qe(a,"animated"),qe(o,"bulleted"),qe(s,"celled"),qe(f,"divided"),qe(h,"horizontal"),qe(p,"inverted"),qe(v,"link"),qe(g,"ordered"),qe(b,"selection"),We(y,"relaxed"),Ve(d,"floated"),Ye(x),"list",u),k=E(t,this.props),A=Ze(t,this.props);return r.isNil(l)?r.isNil(c)?M.a.createElement(A,i()({role:"list",className:w},k),En()(m,function(t){return ci.create(t,{overrideProps:e.handleItemOverrides})})):M.a.createElement(A,i()({role:"list",className:w},k),c):M.a.createElement(A,i()({role:"list",className:w},k),l)}}]),t}(T.Component);_()(hi,"Content",ii),_()(hi,"Description",ni),_()(hi,"Header",ai),_()(hi,"Icon",li),_()(hi,"Item",ci),_()(hi,"List",di),_()(hi,"handledProps",["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"]),hi.propTypes={};var pi=hi;function mi(e){var t=e.active,n=e.children,a=e.className,o=e.content,s=e.disabled,l=e.indeterminate,u=e.inline,c=e.inverted,f=e.size,d=N()("ui",f,qe(t,"active"),qe(s,"disabled"),qe(l,"indeterminate"),qe(c,"inverted"),qe(n||o,"text"),We(u,"inline"),"loader",a),h=E(mi,e),p=Ze(mi,e);return M.a.createElement(p,i()({},h,{className:d}),r.isNil(n)?o:n)}mi.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],mi.propTypes={};var vi=mi;function gi(e){var t=e.attached,n=e.children,a=e.className,o=e.close,s=e.content,l=e.dividing,u=e.internal,c=e.position,f=e.size,d=N()("ui",c,f,qe(t,"attached"),qe(l,"dividing"),qe(u,"internal"),We(o,"close"),"rail",a),h=E(gi,e),p=Ze(gi,e);return M.a.createElement(p,i()({},h,{className:d}),r.isNil(n)?s:n)}gi.handledProps=["as","attached","children","className","close","content","dividing","internal","position","size"],gi.propTypes={};var yi=gi;function bi(e){var t=e.children,n=e.className,a=e.content,o=e.hidden,s=e.visible,l=N()("ui",qe(o,"hidden"),qe(s,"visible"),"content",n),u=E(bi,e),c=Ze(bi,e);return M.a.createElement(c,i()({},u,{className:l}),r.isNil(t)?a:t)}bi.handledProps=["as","children","className","content","hidden","visible"],bi.propTypes={};var _i=bi;function xi(e){var t=e.active,n=e.animated,a=e.children,o=e.className,s=e.content,l=e.disabled,u=e.instant,c=N()("ui",n,qe(t,"active"),qe(l,"disabled"),qe(u,"instant"),"reveal",o),f=E(xi,e),d=Ze(xi,e);return M.a.createElement(d,i()({},f,{className:c}),r.isNil(a)?s:a)}xi.handledProps=["active","animated","as","children","className","content","disabled","instant"],xi.propTypes={},xi.Content=_i;var wi=xi;function ki(e){var t=e.children,n=e.className,a=e.compact,o=e.content,s=e.horizontal,l=e.piled,u=e.raised,c=e.size,f=e.stacked,d=N()("ui",c,qe(a,"compact"),qe(s,"horizontal"),qe(l,"piled"),qe(u,"raised"),qe(f,"stacked"),"segments",n),h=E(ki,e),p=Ze(ki,e);return M.a.createElement(p,i()({},h,{className:d}),r.isNil(t)?o:t)}ki.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],ki.propTypes={};var Ai=ki;function Ti(e){var t=e.attached,n=e.basic,a=e.children,o=e.circular,s=e.className,l=e.clearing,u=e.color,c=e.compact,f=e.content,d=e.disabled,h=e.floated,p=e.inverted,m=e.loading,v=e.padded,g=e.piled,y=e.raised,b=e.secondary,_=e.size,x=e.stacked,w=e.tertiary,k=e.textAlign,A=e.vertical,T=N()("ui",u,_,qe(n,"basic"),qe(o,"circular"),qe(l,"clearing"),qe(c,"compact"),qe(d,"disabled"),qe(p,"inverted"),qe(m,"loading"),qe(g,"piled"),qe(y,"raised"),qe(b,"secondary"),qe(x,"stacked"),qe(w,"tertiary"),qe(A,"vertical"),We(t,"attached"),We(v,"padded"),Xe(k),Ve(h,"floated"),"segment",s),C=E(Ti,e),S=Ze(Ti,e);return M.a.createElement(S,i()({},C,{className:T}),r.isNil(a)?f:a)}Ti.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","raised","secondary","size","stacked","tertiary","textAlign","vertical"],Ti.Group=Ai,Ti.propTypes={};var Mi=Ti;function Ei(e){var t=e.children,n=e.className,a=e.content,o=N()("description",n),s=E(Ei,e),l=Ze(Ei,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Ei.handledProps=["as","children","className","content"],Ei.propTypes={},Ei.create=dt(Ei,function(e){return{content:e}});var Ci=Ei;function Si(e){var t=e.children,n=e.className,a=e.content,o=N()("title",n),s=E(Si,e),l=Ze(Si,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Si.handledProps=["as","children","className","content"],Si.propTypes={},Si.create=dt(Si,function(e){return{content:e}});var ji=Si;function Oi(e){var t=e.children,n=e.className,a=e.content,o=e.description,s=e.title,l=N()("content",n),u=E(Oi,e),c=Ze(Oi,e);return r.isNil(t)?r.isNil(a)?M.a.createElement(c,i()({},u,{className:l}),ji.create(s,{autoGenerateKey:!1}),Ci.create(o,{autoGenerateKey:!1})):M.a.createElement(c,i()({},u,{className:l}),a):M.a.createElement(c,i()({},u,{className:l}),t)}Oi.handledProps=["as","children","className","content","description","title"],Oi.propTypes={},Oi.create=dt(Oi,function(e){return{content:e}});var Pi=Oi;n("./node_modules/lodash/pickBy.js");function Ni(e){var t=e.attached,n=e.children,a=e.className,o=e.content,s=e.fluid,l=e.items,u=e.ordered,c=e.size,f=e.stackable,d=e.unstackable,h=e.vertical,p=e.widths,m=N()("ui",c,qe(s,"fluid"),qe(u,"ordered"),qe(d,"unstackable"),qe(h,"vertical"),We(t,"attached"),Ve(f,"stackable"),Ke(p),"steps",a),v=E(Ni,e),g=Ze(Ni,e);return r.isNil(n)?r.isNil(o)?M.a.createElement(g,i()({},v,{className:m}),En()(l,function(e){return Di.create(e)})):M.a.createElement(g,i()({},v,{className:m}),o):M.a.createElement(g,i()({},v,{className:m}),n)}Ni.handledProps=["as","attached","children","className","content","fluid","items","ordered","size","stackable","unstackable","vertical","widths"],Ni.propTypes={};var Ii=Ni,Li=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"computeElementType",function(){if(n.props.onClick)return"a"}),_()(y()(y()(n)),"handleClick",function(e){n.props.disabled||A()(n.props,"onClick",e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,a=e.children,o=e.className,s=e.completed,l=e.content,u=e.description,c=e.disabled,f=e.href,d=e.icon,h=e.link,p=e.title,m=N()(qe(n,"active"),qe(s,"completed"),qe(c,"disabled"),qe(h,"link"),"step",o),v=E(t,this.props),g=Ze(t,this.props,this.computeElementType);return r.isNil(a)?r.isNil(l)?M.a.createElement(g,i()({},v,{className:m,href:f,onClick:this.handleClick}),At.create(d,{autoGenerateKey:!1}),Pi.create({description:u,title:p},{autoGenerateKey:!1})):M.a.createElement(g,i()({},v,{className:m,href:f,onClick:this.handleClick}),l):M.a.createElement(g,i()({},v,{className:m,href:f,onClick:this.handleClick}),a)}}]),t}(T.Component);_()(Li,"Content",Pi),_()(Li,"Description",Ci),_()(Li,"Group",Ii),_()(Li,"Title",ji),_()(Li,"handledProps",["active","as","children","className","completed","content","description","disabled","href","icon","link","onClick","ordered","title"]),Li.propTypes={},Li.create=dt(Li,function(e){return{content:e}});var Di=Li,Ri=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){return A()(n.props,"onClick",e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.children,a=e.className,o=e.content,s=N()(qe(n,"active"),"title",a),l=E(t,this.props),u=Ze(t,this.props);return O()(o)?M.a.createElement(u,i()({},l,{className:s,onClick:this.handleClick}),r):M.a.createElement(u,i()({},l,{className:s,onClick:this.handleClick}),M.a.createElement(At,{name:"dropdown"}),o)}}]),t}(T.Component);function zi(e){var t=e.active,n=e.children,a=e.className,o=e.content,s=N()("content",qe(t,"active"),a),l=E(zi,e),u=Ze(zi,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(n)?o:n)}_()(Ri,"handledProps",["active","as","children","className","content","index","onClick"]),Ri.propTypes={},Ri.create=dt(Ri,function(e){return{content:e}}),zi.handledProps=["active","as","children","className","content"],zi.propTypes={},zi.create=dt(zi,function(e){return{content:e}});var Fi=zi,Bi=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleTitleOverrides",function(e){return{onClick:function(t,r){A()(e,"onClick",t,r),A()(n.props,"onTitleClick",t,r)}}}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.content,r=e.index,a=e.title;return[Ri.create(a,{autoGenerateKey:!1,defaultProps:{active:t,index:r,key:"title"},overrideProps:this.handleTitleOverrides}),Fi.create(n,{autoGenerateKey:!1,defaultProps:{active:t,key:"content"}})]}}]),t}(T.Component);_()(Bi,"handledProps",["active","content","index","onTitleClick","title"]),Bi.propTypes={},Bi.create=dt(Bi,null);var Ui=Bi,Hi=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"computeNewIndex",function(e){var t=n.props.exclusive,r=n.state.activeIndex;return t?e===r?-1:e:jt()(r,e)?_t()(r,e):S()(r).concat([e])}),_()(y()(y()(n)),"handleTitleClick",function(e,t){var r=t.index;n.trySetState({activeIndex:n.computeNewIndex(r)}),A()(n.props,"onTitleClick",e,t)}),_()(y()(y()(n)),"isIndexActive",function(e){var t=n.props.exclusive,r=n.state.activeIndex;return t?r===e:jt()(r,e)}),n}return v()(t,e),c()(t,[{key:"getInitialAutoControlledState",value:function(e){return{activeIndex:e.exclusive?-1:[]}}},{key:"render",value:function(){var e=this,n=this.props,a=n.className,o=n.children,s=n.panels,l=N()("accordion",a),u=E(t,this.props),c=Ze(t,this.props);return M.a.createElement(c,i()({},u,{className:l}),r.isNil(o)?En()(s,function(t,n){return Ui.create(t,{defaultProps:{active:e.isIndexActive(n),index:n,onTitleClick:e.handleTitleClick}})}):o)}}]),t}(nn);function qi(e){var t=e.className,n=e.fluid,r=e.inverted,a=e.styled,o=N()("ui",qe(n,"fluid"),qe(r,"inverted"),qe(a,"styled"),t),s=E(qi,e);return M.a.createElement(Hi,i()({},s,{className:o}))}_()(Hi,"defaultProps",{exclusive:!0}),_()(Hi,"autoControlledProps",["activeIndex"]),_()(Hi,"handledProps",["activeIndex","as","children","className","defaultActiveIndex","exclusive","onTitleClick","panels"]),Hi.propTypes={},Hi.create=dt(Hi,function(e){return{content:e}}),qi.handledProps=["className","fluid","inverted","styled"],qi.propTypes={},qi.Accordion=Hi,qi.Content=Fi,qi.Panel=Ui,qi.Title=Ri;var Vi=qi,Wi=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick,r=n.state.active;t&&t(e,Qe()({},n.props,{active:!0})),r||n.trySetState({active:!0})}),n}return v()(t,e),c()(t,[{key:"getSrc",value:function(){var e=this.props,t=e.autoplay,n=void 0===t||t,r=e.brandedUI,a=void 0!==r&&r,o=e.color,i=void 0===o?"#444444":o,s=e.hd,l=void 0===s||s,u=e.id,c=e.source,f=e.url;return"youtube"===c?["//www.youtube.com/embed/".concat(u),"?autohide=true","&amp;autoplay=".concat(n),"&amp;color=".concat(encodeURIComponent(i)),"&amp;hq=".concat(l),"&amp;jsapi=false","&amp;modestbranding=".concat(a),"&amp;rel=".concat(a?0:1)].join(""):"vimeo"===c?["//player.vimeo.com/video/".concat(u),"?api=false","&amp;autoplay=".concat(n),"&amp;byline=false","&amp;color=".concat(encodeURIComponent(i)),"&amp;portrait=false","&amp;title=false"].join(""):f}},{key:"render",value:function(){var e=this.props,n=e.aspectRatio,r=e.className,a=e.icon,o=e.placeholder,s=this.state.active,l=N()("ui",n,qe(s,"active"),"embed",r),u=E(t,this.props),c=Ze(t,this.props),f=void 0!==a?a:"video play";return M.a.createElement(c,i()({},u,{className:l,onClick:this.handleClick}),At.create(f,{autoGenerateKey:!1}),o&&M.a.createElement("img",{className:"placeholder",src:o}),this.renderEmbed())}},{key:"renderEmbed",value:function(){var e=this.props,t=e.children,n=e.content,a=e.iframe,o=e.source;return this.state.active?r.isNil(t)?r.isNil(n)?M.a.createElement("div",{className:"embed"},pt(r.isNil(a)?this.getSrc():a,{defaultProps:{allowFullScreen:!1,frameBorder:0,height:"100%",scrolling:"no",src:this.getSrc(),title:"Embedded content from ".concat(o,"."),width:"100%"},autoGenerateKey:!1})):M.a.createElement("div",{className:"embed"},n):M.a.createElement("div",{className:"embed"},t):null}}]),t}(nn);_()(Wi,"autoControlledProps",["active"]),_()(Wi,"handledProps",["active","as","aspectRatio","autoplay","brandedUI","children","className","color","content","defaultActive","hd","icon","id","iframe","onClick","placeholder","source","url"]),Wi.propTypes={};var Gi=n("./node_modules/lodash/assign.js"),Xi=n.n(Gi);function Yi(e){var t=e.children,n=e.className,a=e.content,o=N()("content",n),s=E(Yi,e),l=Ze(Yi,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}function Ki(e){var t=e.children,n=e.className,a=e.content,o=N()("header",n),s=E(Ki,e),l=Ze(Ki,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Yi.handledProps=["as","children","className","content"],Yi.propTypes={},Yi.create=dt(Yi,function(e){return{children:e}}),Ki.handledProps=["as","children","className","content"],Ki.propTypes={},Ki.create=dt(Ki,function(e){return{children:e}});var Zi=["top left","top right","bottom right","bottom left","right center","left center","top center","bottom center"],Ji=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"state",{}),_()(y()(y()(n)),"hideOnScroll",function(e){n.setState({closed:!0}),Gt.unsub("scroll",n.hideOnScroll,{target:window}),setTimeout(function(){n.mounted&&n.setState({closed:!1})},50),n.handleClose(e)}),_()(y()(y()(n)),"handleClose",function(e){A()(n.props,"onClose",e,n.props)}),_()(y()(y()(n)),"handleOpen",function(e){n.coords=n.getContext().getBoundingClientRect(),A()(n.props,"onOpen",e,n.props)}),_()(y()(y()(n)),"handlePortalMount",function(e){n.props.hideOnScroll&&Gt.sub("scroll",n.hideOnScroll,{target:window}),n.getContext()&&n.setPopupStyle(n.props.position),A()(n.props,"onMount",e,n.props)}),_()(y()(y()(n)),"handlePortalUnmount",function(e){n.props.hideOnScroll&&Gt.unsub("scroll",n.hideOnScroll,{target:window}),A()(n.props,"onUnmount",e,n.props)}),_()(y()(y()(n)),"handlePopupRef",function(e){n.popupCoords=e?e.getBoundingClientRect():null,n.setPopupStyle()}),_()(y()(y()(n)),"handleTriggerRef",function(e){n.triggerRef=e}),_()(y()(y()(n)),"getContext",function(){return n.props.context||n.triggerRef}),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.horizontalOffset,r=t.verticalOffset;n===e.horizontalOffset&&r===e.verticalOffset||this.setPopupStyle()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"computePopupStyle",value:function(e){var t={position:"absolute"},n=this.getContext();if(!zt())return t;var r=this.props,a=r.horizontalOffset,o=r.verticalOffset,i=window,s=i.pageYOffset,l=i.pageXOffset,u=document.documentElement,c=u.clientWidth,f=u.clientHeight,d=this.coords||n.getBoundingClientRect();if(jt()(e,"right"))t.right=Math.round(c-(d.right+l)),t.left="auto";else if(jt()(e,"left"))t.left=Math.round(d.left+l),t.right="auto";else{var h=(d.width-this.popupCoords.width)/2;t.left=Math.round(d.left+h+l),t.right="auto"}if(jt()(e,"top"))t.bottom=Math.round(f-(d.top+s)),t.top="auto";else if(jt()(e,"bottom"))t.top=Math.round(d.bottom+s),t.bottom="auto";else{var p=(d.height+this.popupCoords.height)/2;t.top=Math.round(d.bottom+s-p),t.bottom="auto";var m=this.popupCoords.width+8;jt()(e,"right")?t.right-=m:t.left-=m}return a&&(it()(t.right)?t.right-=a:t.left-=a),o&&(it()(t.top)?t.top+=o:t.bottom+=o),t}},{key:"isStyleInViewport",value:function(e){var t=window,n=t.pageYOffset,r=t.pageXOffset,a=document.documentElement,o=a.clientWidth,i=a.clientHeight,s={top:e.top,left:e.left,width:this.popupCoords.width,height:this.popupCoords.height};return it()(e.right)&&(s.left=o-e.right-s.width),it()(e.bottom)&&(s.top=i-e.bottom-s.height),!(s.top<n)&&(!(s.top+s.height>n+i)&&(!(s.left<r)&&!(s.left+s.width>r+o)))}},{key:"setPopupStyle",value:function(){var e=this.getContext();if((this.coords||e)&&this.popupCoords){var t=this.props.position,n=this.computePopupStyle(t);if(this.props.keepInViewPort)for(var r=_t()(Zi,t).concat([t]),a=0;!this.isStyleInViewport(n)&&a<r.length;a+=1)n=this.computePopupStyle(r[a]),t=r[a];n=Oa()(n,function(e){return it()(e)?"".concat(e,"px"):e}),this.setState({style:n,position:t})}}},{key:"getPortalProps",value:function(){var e={},t=this.props,n=t.on,r=t.hoverable,a=et()(n)?n:[n];return r&&(e.closeOnPortalMouseLeave=!0,e.mouseLeaveDelay=300),jt()(a,"click")&&(e.openOnTriggerClick=!0,e.closeOnTriggerClick=!0,e.closeOnDocumentClick=!0),jt()(a,"focus")&&(e.openOnTriggerFocus=!0,e.closeOnTriggerBlur=!0),jt()(a,"hover")&&(e.openOnTriggerMouseEnter=!0,e.closeOnTriggerMouseLeave=!0,e.mouseLeaveDelay=70,e.mouseEnterDelay=50),e}},{key:"render",value:function(){var e=this.props,n=e.basic,a=e.children,o=e.className,s=e.content,l=e.flowing,u=e.header,c=e.inverted,f=e.size,d=e.trigger,h=e.wide,p=this.state,m=p.position,v=p.closed,g=Xi()({},this.state.style,this.props.style),y=N()("ui",m,f,We(h,"wide"),qe(n,"basic"),qe(l,"flowing"),qe(c,"inverted"),"popup transition visible",o);if(v)return d;var b=E(t,this.props),_=un.handledProps,x=Rn()(b,function(e,t,n){return jt()(_,n)||(e[n]=t),e},{}),w=Ln()(b,_),k=Ze(t,this.props),A=M.a.createElement(k,i()({},x,{className:y,style:g,ref:this.handlePopupRef}),a,r.isNil(a)&&Ki.create(u,{autoGenerateKey:!1}),r.isNil(a)&&Yi.create(s,{autoGenerateKey:!1})),T=Qe()({},this.getPortalProps(),w);return M.a.createElement(un,i()({},T,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:d,triggerRef:this.handleTriggerRef}),A)}}]),t}(T.Component);_()(Ji,"defaultProps",{position:"top left",on:"hover",keepInViewPort:!0}),_()(Ji,"Content",Yi),_()(Ji,"Header",Ki),_()(Ji,"handledProps",["as","basic","children","className","content","context","flowing","header","hideOnScroll","horizontalOffset","hoverable","inverted","keepInViewPort","on","onClose","onMount","onOpen","onUnmount","position","size","style","trigger","verticalOffset","wide"]),Ji.propTypes={};var Qi=n("./node_modules/lodash/round.js"),$i=n.n(Qi),es=n("./node_modules/lodash/clamp.js"),ts=n.n(es),ns=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(o))),_()(y()(y()(n)),"calculatePercent",function(){var e=n.props,t=e.percent,r=e.total,a=e.value;return Mt()(t)?Mt()(r)||Mt()(a)?void 0:a/r*100:t}),_()(y()(y()(n)),"computeValueText",function(e){var t=n.props,r=t.progress,a=t.total,o=t.value;return"value"===r?o:"ratio"===r?"".concat(o,"/").concat(a):"".concat(e,"%")}),_()(y()(y()(n)),"getPercent",function(){var e=n.props,t=e.precision,r=e.progress,a=e.total,o=e.value,i=ts()(n.calculatePercent(),0,100);return Mt()(a)||Mt()(o)||"value"!==r?"value"===r?o:Mt()(t)?i:$i()(i,t):o/a*100}),_()(y()(y()(n)),"isAutoSuccess",function(){var e=n.props,t=e.autoSuccess,r=e.percent,a=e.total,o=e.value;return t&&(r>=100||o>=a)}),_()(y()(y()(n)),"renderLabel",function(){var e=n.props,t=e.children,a=e.content,o=e.label;return r.isNil(t)?r.isNil(a)?ht(o,{autoGenerateKey:!1,defaultProps:{className:"label"}}):M.a.createElement("div",{className:"label"},a):M.a.createElement("div",{className:"label"},t)}),_()(y()(y()(n)),"renderProgress",function(e){var t=n.props,r=t.precision;if(t.progress||!Mt()(r))return M.a.createElement("div",{className:"progress"},n.computeValueText(e))}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.attached,a=e.className,o=e.color,s=e.disabled,l=e.error,u=e.indicating,c=e.inverted,f=e.size,d=e.success,h=e.warning,p=N()("ui",o,f,qe(n||u,"active"),qe(s,"disabled"),qe(l,"error"),qe(u,"indicating"),qe(c,"inverted"),qe(d||this.isAutoSuccess(),"success"),qe(h,"warning"),Ve(r,"attached"),"progress",a),m=E(t,this.props),v=Ze(t,this.props),g=this.getPercent()||0;return M.a.createElement(v,i()({},m,{className:p,"data-percent":Math.floor(g)}),M.a.createElement("div",{className:"bar",style:{width:"".concat(g,"%")}},this.renderProgress(g)),this.renderLabel())}}]),t}(T.Component);_()(ns,"handledProps",["active","as","attached","autoSuccess","children","className","color","content","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"]),ns.propTypes={};var rs=ns,as=n("./node_modules/lodash/times.js"),os=n.n(as),is=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){A()(n.props,"onClick",e,n.props)}),_()(y()(y()(n)),"handleKeyUp",function(e){switch(A()(n.props,"onKeyUp",e,n.props),Bt.a.getCode(e)){case Bt.a.Enter:case Bt.a.Spacebar:e.preventDefault(),A()(n.props,"onClick",e,n.props)}}),_()(y()(y()(n)),"handleMouseEnter",function(e){A()(n.props,"onMouseEnter",e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.className,a=e.selected,o=N()(qe(n,"active"),qe(a,"selected"),"icon",r),s=E(t,this.props),l=Ze(t,this.props);return M.a.createElement(l,i()({},s,{className:o,onClick:this.handleClick,onKeyUp:this.handleKeyUp,onMouseEnter:this.handleMouseEnter,tabIndex:0,role:"radio"}))}}]),t}(T.Component);_()(is,"defaultProps",{as:"i"}),_()(is,"handledProps",["active","as","className","index","onClick","onKeyUp","onMouseEnter","selected"]),is.propTypes={};var ss=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleIconClick",function(e,t){var r=t.index,a=n.props,o=a.clearable,i=a.disabled,s=a.maxRating,l=a.onRate,u=n.state.rating;if(!i){var c=r+1;"auto"===o&&1===s?c=+!u:!0===o&&c===u&&(c=0),n.trySetState({rating:c},{isSelecting:!1}),l&&l(e,Qe()({},n.props,{rating:c}))}}),_()(y()(y()(n)),"handleIconMouseEnter",function(e,t){var r=t.index;n.props.disabled||n.setState({selectedIndex:r,isSelecting:!0})}),_()(y()(y()(n)),"handleMouseLeave",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];A.a.apply(void 0,[n.props,"onMouseLeave"].concat(t)),n.props.disabled||n.setState({selectedIndex:-1,isSelecting:!1})}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.className,a=n.disabled,o=n.icon,s=n.maxRating,l=n.size,u=this.state,c=u.rating,f=u.selectedIndex,d=u.isSelecting,h=N()("ui",o,l,qe(a,"disabled"),qe(d&&!a&&f>=0,"selected"),"rating",r),p=E(t,this.props),m=Ze(t,this.props);return M.a.createElement(m,i()({},p,{className:h,role:"radiogroup",onMouseLeave:this.handleMouseLeave}),os()(s,function(t){return M.a.createElement(is,{active:c>=t+1,"aria-checked":c===t+1,"aria-posinset":t+1,"aria-setsize":s,index:t,key:t,onClick:e.handleIconClick,onMouseEnter:e.handleIconMouseEnter,selected:f>=t&&d})}))}}]),t}(nn);_()(ss,"autoControlledProps",["rating"]),_()(ss,"defaultProps",{clearable:"auto",maxRating:1}),_()(ss,"Icon",is),_()(ss,"handledProps",["as","className","clearable","defaultRating","disabled","icon","maxRating","onRate","rating","size"]),ss.propTypes={};var ls=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),us=n.n(ls),cs=n("./node_modules/lodash/partialRight.js"),fs=n.n(cs);function ds(e){var t=e.active,n=e.children,a=e.className,o=e.content,s=e.renderer,l=N()(qe(t,"active"),"category",a),u=E(ds,e),c=Ze(ds,e);return M.a.createElement(c,i()({},u,{className:l}),M.a.createElement("div",{className:"name"},s(e)),M.a.createElement("div",{className:"results"},r.isNil(n)?o:n))}ds.handledProps=["active","as","children","className","content","name","renderer","results"],ds.defaultProps={renderer:function(e){return e.name}},ds.propTypes={};var hs=ds,ps=function(e){var t=e.image,n=e.price,r=e.title,a=e.description;return[t&&M.a.createElement("div",{key:"image",className:"image"},mt(t,{autoGenerateKey:!1})),M.a.createElement("div",{key:"content",className:"content"},n&&M.a.createElement("div",{className:"price"},n),r&&M.a.createElement("div",{className:"title"},r),a&&M.a.createElement("div",{className:"description"},a))]};ps.handledProps=[];var ms=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick;t&&t(e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.active,r=e.className,a=e.renderer,o=N()(qe(n,"active"),"result",r),s=E(t,this.props),l=Ze(t,this.props);return M.a.createElement(l,i()({},s,{className:o,onClick:this.handleClick}),a(this.props))}}]),t}(T.Component);function vs(e){var t=e.children,n=e.className,a=e.content,o=N()("results transition",n),s=E(vs,e),l=Ze(vs,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}_()(ms,"defaultProps",{renderer:ps}),_()(ms,"handledProps",["active","as","className","content","description","id","image","onClick","price","renderer","title"]),ms.propTypes={},vs.handledProps=["as","children","className","content"],vs.propTypes={};var gs=vs,ys=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleResultSelect",function(e,t){A()(n.props,"onResultSelect",e,Qe()({},n.props,{result:t}))}),_()(y()(y()(n)),"handleSelectionChange",function(e){var t=n.getSelectedResult();A()(n.props,"onSelectionChange",e,Qe()({},n.props,{result:t}))}),_()(y()(y()(n)),"closeOnEscape",function(e){Bt.a.getCode(e)===Bt.a.Escape&&(e.preventDefault(),n.close())}),_()(y()(y()(n)),"moveSelectionOnKeyDown",function(e){switch(Bt.a.getCode(e)){case Bt.a.ArrowDown:e.preventDefault(),n.moveSelectionBy(e,1);break;case Bt.a.ArrowUp:e.preventDefault(),n.moveSelectionBy(e,-1)}}),_()(y()(y()(n)),"selectItemOnEnter",function(e){if(Bt.a.getCode(e)===Bt.a.Enter){var t=n.getSelectedResult();t&&(e.preventDefault(),n.setValue(t.title),n.handleResultSelect(e,t),n.close())}}),_()(y()(y()(n)),"closeOnDocumentClick",function(e){n.close()}),_()(y()(y()(n)),"handleMouseDown",function(e){n.isMouseDown=!0,A()(n.props,"onMouseDown",e,n.props),Gt.sub("mouseup",n.handleDocumentMouseUp)}),_()(y()(y()(n)),"handleDocumentMouseUp",function(){n.isMouseDown=!1,Gt.unsub("mouseup",n.handleDocumentMouseUp)}),_()(y()(y()(n)),"handleInputClick",function(e){e.nativeEvent.stopImmediatePropagation(),n.tryOpen()}),_()(y()(y()(n)),"handleItemClick",function(e,t){var r=t.id,a=n.getSelectedResult(r);e.nativeEvent.stopImmediatePropagation(),n.setValue(a.title),n.handleResultSelect(e,a),n.close()}),_()(y()(y()(n)),"handleFocus",function(e){var t=n.props.onFocus;t&&t(e,n.props),n.setState({focus:!0})}),_()(y()(y()(n)),"handleBlur",function(e){var t=n.props.onBlur;t&&t(e,n.props),n.setState({focus:!1})}),_()(y()(y()(n)),"handleSearchChange",function(e){e.stopPropagation();var t=n.props.minCharacters,r=n.state.open,a=e.target.value;A()(n.props,"onSearchChange",e,Qe()({},n.props,{value:a})),a.length<t?n.close():r||n.tryOpen(a),n.setValue(a)}),_()(y()(y()(n)),"getFlattenedResults",function(){var e=n.props,t=e.category,r=e.results;return t?Rn()(r,function(e,t){return e.concat(t.results)},[]):r}),_()(y()(y()(n)),"getSelectedResult",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.selectedIndex,t=n.getFlattenedResults();return ia()(t,e)}),_()(y()(y()(n)),"setValue",function(e){var t=n.props.selectFirstResult;n.trySetState({value:e},{selectedIndex:t?0:-1})}),_()(y()(y()(n)),"moveSelectionBy",function(e,t){var r=n.state.selectedIndex,a=n.getFlattenedResults().length-1,o=r+t;o>a?o=0:o<0&&(o=a),n.setState({selectedIndex:o}),n.scrollSelectedItemIntoView(),n.handleSelectionChange(e)}),_()(y()(y()(n)),"scrollSelectedItemIntoView",function(){if(zt()){var e=document.querySelector(".ui.search.active.visible .results.visible"),t=e.querySelector(".result.active");if(t){var n=t.offsetTop<e.scrollTop,r=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;n?e.scrollTop=t.offsetTop:r&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}),_()(y()(y()(n)),"tryOpen",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.value,t=n.props.minCharacters;e.length<t||n.open()}),_()(y()(y()(n)),"open",function(){n.trySetState({open:!0})}),_()(y()(y()(n)),"close",function(){n.trySetState({open:!1})}),_()(y()(y()(n)),"renderSearchInput",function(e){var t=n.props,r=t.icon,a=t.input,o=n.state.value;return ao.create(a,{autoGenerateKey:!1,defaultProps:Qe()({},e,{icon:r,input:{className:"prompt",tabIndex:"0",autoComplete:"off"},onChange:n.handleSearchChange,onClick:n.handleInputClick,value:o})})}),_()(y()(y()(n)),"renderNoResults",function(){var e=n.props,t=e.noResultsDescription,r=e.noResultsMessage;return M.a.createElement("div",{className:"message empty"},M.a.createElement("div",{className:"header"},r),t&&M.a.createElement("div",{className:"description"},t))}),_()(y()(y()(n)),"renderResult",function(e,t,r){var a=e.childKey,o=us()(e,["childKey"]),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=n.props.resultRenderer,u=n.state.selectedIndex,c=t+s;return M.a.createElement(ms,i()({key:a||o.title,active:u===c,onClick:n.handleItemClick,renderer:l},o,{id:c}))}),_()(y()(y()(n)),"renderResults",function(){var e=n.props.results;return En()(e,n.renderResult)}),_()(y()(y()(n)),"renderCategories",function(){var e=n.props,t=e.categoryRenderer,r=e.results,a=n.state.selectedIndex,o=0;return En()(r,function(e){var r=e.childKey,i=us()(e,["childKey"]),s=Qe()({key:r||i.name,active:Ht()(a,o,o+i.results.length),renderer:t},i),l=fs()(n.renderResult,o);return o+=i.results.length,M.a.createElement(hs,s,i.results.map(l))})}),_()(y()(y()(n)),"renderMenuContent",function(){var e=n.props,t=e.category,r=e.showNoResults,a=e.results;return Qt()(a)?r?n.renderNoResults():null:t?n.renderCategories():n.renderResults()}),_()(y()(y()(n)),"renderResultsMenu",function(){var e=n.state.open?"visible":"",t=n.renderMenuContent();if(t)return M.a.createElement(gs,{className:e},t)}),n}return v()(t,e),c()(t,[{key:"componentWillMount",value:function(){var e=this.state,t=e.open,n=e.value;this.setValue(n),t&&this.open()}},{key:"componentWillReceiveProps",value:function(e){Hr()(p()(t.prototype),"componentWillReceiveProps",this).call(this,e),Fr(e.value,this.props.value)||this.setValue(e.value)}},{key:"shouldComponentUpdate",value:function(e,t){return!Fr(e,this.props)||!Fr(t,this.state)}},{key:"componentDidUpdate",value:function(e,t){!t.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&Gt.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.focus&&!this.state.focus&&(this.isMouseDown||this.close(),Gt.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!t.open&&this.state.open?(this.open(),Gt.sub("click",this.closeOnDocumentClick),Gt.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.open&&!this.state.open&&(this.close(),Gt.unsub("click",this.closeOnDocumentClick),Gt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))}},{key:"componentWillUnmount",value:function(){Gt.unsub("click",this.closeOnDocumentClick),Gt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])}},{key:"render",value:function(){var e=this.state,n=e.searchClasses,r=e.focus,a=e.open,o=this.props,s=o.aligned,l=o.category,u=o.className,c=o.fluid,f=o.loading,d=o.size,h=N()("ui",a&&"active visible",d,n,qe(l,"category"),qe(r,"focus"),qe(c,"fluid"),qe(f,"loading"),Ve(s,"aligned"),"search",u),p=E(t,this.props),m=Ze(t,this.props),v=Lt(p,{htmlProps:Nt}),g=Ct()(v,2),y=g[0],b=g[1];return M.a.createElement(m,i()({},b,{className:h,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(y),this.renderResultsMenu())}}]),t}(nn);function bs(e){var t=e.className,n=e.children,a=e.content,o=N()("pushable",t),s=E(bs,e),l=Ze(bs,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(n)?a:n)}_()(ys,"defaultProps",{icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0}),_()(ys,"autoControlledProps",["open","value"]),_()(ys,"Category",hs),_()(ys,"Result",ms),_()(ys,"Results",gs),_()(ys,"handledProps",["aligned","as","category","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","resultRenderer","results","selectFirstResult","showNoResults","size","value"]),ys.propTypes={},bs.handledProps=["as","children","className","content"],bs.propTypes={};var _s=bs;function xs(e){var t=e.className,n=e.dimmed,a=e.children,o=e.content,s=N()("pusher",qe(n,"dimmed"),t),l=E(xs,e),u=Ze(xs,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(a)?o:a)}xs.handledProps=["as","children","className","content","dimmed"],xs.propTypes={};var ws=xs,ks=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"state",{}),_()(y()(y()(n)),"handleAnimationStart",function(){var e=n.props,t=e.duration,r=e.visible?"onVisible":"onHide";n.setState({animating:!0},function(){clearTimeout(n.animationTimer),n.animationTimer=setTimeout(n.handleAnimationEnd,t),n.skipNextCallback?n.skipNextCallback=!1:A()(n.props,r,null,n.props)})}),_()(y()(y()(n)),"handleAnimationEnd",function(){var e=n.props.visible?"onShow":"onHidden";n.setState({animating:!1}),A()(n.props,e,null,n.props)}),_()(y()(y()(n)),"handleDocumentClick",function(e){Wt(n.ref,e)||(n.skipNextCallback=!0,A()(n.props,"onHide",e,Qe()({},n.props,{visible:!1})))}),_()(y()(y()(n)),"handleRef",function(e){return n.ref=e}),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.visible&&this.addListener()}},{key:"componentWillUnmount",value:function(){this.props.visible&&this.removeListener(),clearTimeout(this.animationTimer)}},{key:"componentDidUpdate",value:function(e){var t=e.visible,n=this.props.visible;t!==n&&(this.handleAnimationStart(),n?this.addListener():this.removeListener())}},{key:"addListener",value:function(){Gt.sub("click",this.handleDocumentClick)}},{key:"removeListener",value:function(){Gt.unsub("click",this.handleDocumentClick)}},{key:"render",value:function(){var e=this.props,n=e.animation,a=e.className,o=e.children,s=e.content,l=e.direction,u=e.visible,c=e.width,f=this.state.animating,d=N()("ui",n,l,c,qe(f,"animating"),qe(u,"visible"),"sidebar",a),h=E(t,this.props),p=Ze(t,this.props);return M.a.createElement(an,{innerRef:this.handleRef},M.a.createElement(p,i()({},h,{className:d}),r.isNil(o)?s:o))}}]),t}(T.Component);_()(ks,"defaultProps",{direction:"left",duration:500}),_()(ks,"autoControlledProps",["visible"]),_()(ks,"Pushable",_s),_()(ks,"Pusher",ws),_()(ks,"handledProps",["animation","as","children","className","content","direction","duration","onHidden","onHide","onShow","onVisible","visible","width"]),ks.propTypes={};var As=ks,Ts=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"state",{sticky:!1}),_()(y()(y()(n)),"addListeners",function(e){var t=e.scrollContext;t&&(Gt.sub("resize",n.handleUpdate,{target:t}),Gt.sub("scroll",n.handleUpdate,{target:t}))}),_()(y()(y()(n)),"removeListeners",function(){var e=n.props.scrollContext;e&&(Gt.unsub("resize",n.handleUpdate,{target:e}),Gt.unsub("scroll",n.handleUpdate,{target:e}))}),_()(y()(y()(n)),"update",function(e){var t=n.state.pushing;if(n.ticking=!1,n.assignRects(),t)return n.didReachStartingPoint()?n.stickToContextTop(e):n.didTouchScreenBottom()?n.stickToScreenBottom(e):n.stickToContextBottom(e);if(n.isOversized()){if(n.contextRect.top>0)return n.stickToContextTop(e);if(n.contextRect.bottom<window.innerHeight)return n.stickToContextBottom(e)}return n.didTouchScreenTop()?n.didReachContextBottom()?n.stickToContextBottom(e):n.stickToScreenTop(e):n.stickToContextTop(e)}),_()(y()(y()(n)),"handleUpdate",function(e){n.ticking||(n.ticking=!0,n.frameId=requestAnimationFrame(function(){return n.update(e)}))}),_()(y()(y()(n)),"assignRects",function(){var e=n.props.context;n.triggerRect=n.triggerRef.getBoundingClientRect(),n.contextRect=(e||document.body).getBoundingClientRect(),n.stickyRect=n.stickyRef.getBoundingClientRect()}),_()(y()(y()(n)),"didReachContextBottom",function(){var e=n.props.offset;return n.stickyRect.height+e>=n.contextRect.bottom}),_()(y()(y()(n)),"didReachStartingPoint",function(){return n.stickyRect.top<=n.triggerRect.top}),_()(y()(y()(n)),"didTouchScreenTop",function(){return n.triggerRect.top<n.props.offset}),_()(y()(y()(n)),"didTouchScreenBottom",function(){var e=n.props.bottomOffset;return n.contextRect.bottom+e>window.innerHeight}),_()(y()(y()(n)),"isOversized",function(){return n.stickyRect.height>window.innerHeight}),_()(y()(y()(n)),"pushing",function(e){n.props.pushing&&n.setState({pushing:e})}),_()(y()(y()(n)),"stick",function(e,t){n.setState({bound:t,sticky:!0}),A()(n.props,"onStick",e,n.props)}),_()(y()(y()(n)),"unstick",function(e,t){n.setState({bound:t,sticky:!1}),A()(n.props,"onUnstick",e,n.props)}),_()(y()(y()(n)),"stickToContextBottom",function(e){A()(n.props,"onBottom",e,n.props),n.stick(e,!0),n.pushing(!0)}),_()(y()(y()(n)),"stickToContextTop",function(e){A()(n.props,"onTop",e,n.props),n.unstick(e,!1),n.pushing(!1)}),_()(y()(y()(n)),"stickToScreenBottom",function(e){var t=n.props.bottomOffset;n.stick(e,!1),n.setState({bottom:t,top:null})}),_()(y()(y()(n)),"stickToScreenTop",function(e){var t=n.props.offset;n.stick(e,!1),n.setState({top:t,bottom:null})}),_()(y()(y()(n)),"handleStickyRef",function(e){return n.stickyRef=e}),_()(y()(y()(n)),"handleTriggerRef",function(e){return n.triggerRef=e}),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){zt()&&(this.props.active&&(this.handleUpdate(),this.addListeners(this.props)))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.active,r=t.scrollContext,a=e.active,o=e.scrollContext;if(n!==a){if(a)return this.handleUpdate(),void this.addListeners(e);this.removeListeners(),this.setState({sticky:!1})}else r!==o&&(this.removeListeners(),this.addListeners(e))}},{key:"componentWillUnmount",value:function(){zt()&&(this.props.active&&(this.removeListeners(),cancelAnimationFrame(this.frameId)))}},{key:"computeStyle",value:function(){var e=this.state,t=e.bottom,n=e.bound,r=e.sticky,a=e.top;return r?{bottom:n?0:t,top:n?void 0:a,width:this.triggerRect.width}:{}}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.className,a=this.state,o=a.bottom,s=a.bound,l=a.sticky,u=E(t,this.props),c=Ze(t,this.props),f=N()(l&&"ui",l&&"stuck-container",l&&(s?"bound-container":"fixed-container"),r),d=N()("ui",l&&(s?"bound bottom":"fixed"),l&&!s&&(null===o?"top":"bottom"),"sticky");return M.a.createElement(c,i()({},u,{className:f}),M.a.createElement("div",{ref:this.handleTriggerRef}),M.a.createElement("div",{className:N()(d),ref:this.handleStickyRef,style:this.computeStyle()},n))}}]),t}(T.Component);function Ms(e){var t=e.active,n=e.children,a=e.className,o=e.content,s=e.loading,l=N()(qe(t,"active"),qe(s,"loading"),"tab",a),u=E(Ms,e),c=Ze(Ms,e),f={};return c===Mi&&(f.attached="bottom"),M.a.createElement(c,i()({},f,u,{className:l}),r.isNil(n)?o:n)}_()(Ts,"defaultProps",{active:!0,bottomOffset:0,offset:0,scrollContext:zt()?window:null}),_()(Ts,"handledProps",["active","as","bottomOffset","children","className","context","offset","onBottom","onStick","onTop","onUnstick","pushing","scrollContext"]),Ts.propTypes={},Ms.handledProps=["active","as","children","className","content","loading"],Ms.defaultProps={as:Mi,active:!0},Ms.propTypes={},Ms.create=dt(Ms,function(e){return{content:e}});var Es=Ms,Cs=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleItemClick",function(e,t){var r=t.index;A()(n.props,"onTabChange",e,Qe()({},n.props,{activeIndex:r})),n.trySetState({activeIndex:r})}),n}return v()(t,e),c()(t,[{key:"getInitialAutoControlledState",value:function(){return{activeIndex:0}}},{key:"renderItems",value:function(){var e=this.props,t=e.panes,n=e.renderActiveOnly,r=this.state.activeIndex;return n?A()(ia()(t,"[".concat(r,"]")),"render",this.props):En()(t,function(e,t){var n=e.pane;return Es.create(n,{overrideProps:{active:t===r}})})}},{key:"renderMenu",value:function(){var e=this.props,t=e.menu,n=e.panes,r=e.menuPosition,a=this.state.activeIndex;return!0===t.tabular&&"right"===r&&(t.tabular="right"),Or.create(t,{autoGenerateKey:!1,overrideProps:{items:En()(n,"menuItem"),onItemClick:this.handleItemClick,activeIndex:a}})}},{key:"renderVertical",value:function(e){var t=this.props,n=t.grid,r=t.menuPosition,a=n.paneWidth,o=n.tabWidth,i=us()(n,["paneWidth","tabWidth"]),s=r||"right"===e.props.tabular&&"right"||"left";return M.a.createElement(xo,i,"left"===s&&go.create({width:o,children:e},{autoGenerateKey:!1}),go.create({width:a,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),"right"===s&&go.create({width:o,children:e},{autoGenerateKey:!1}))}},{key:"render",value:function(){var e=this.renderMenu(),n=E(t,this.props),r=Ze(t,this.props);return e.props.vertical?M.a.createElement(r,n,this.renderVertical(e)):M.a.createElement(r,n,"bottom"!==e.props.attached&&e,this.renderItems(),"bottom"===e.props.attached&&e)}}]),t}(nn);_()(Cs,"autoControlledProps",["activeIndex"]),_()(Cs,"defaultProps",{grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0}),_()(Cs,"Pane",Es),_()(Cs,"handledProps",["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"]),Cs.propTypes={};var Ss=Cs;function js(e){var t=e.centered,n=e.children,a=e.className,o=e.content,s=e.test,l=e.unit,u=N()("ui",l,qe(t,"centered"),qe(s,"test"),"ad",a),c=E(js,e),f=Ze(js,e);return M.a.createElement(f,i()({},c,{className:u,"data-text":s}),r.isNil(n)?o:n)}js.handledProps=["as","centered","children","className","content","test","unit"],js.propTypes={};var Os=js;function Ps(e){var t=e.children,n=e.className,a=e.content,o=e.textAlign,s=N()(Xe(o),"description",n),l=E(Ps,e),u=Ze(Ps,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?a:t)}Ps.handledProps=["as","children","className","content","textAlign"],Ps.propTypes={};var Ns=Ps;function Is(e){var t=e.children,n=e.className,a=e.content,o=e.textAlign,s=N()(Xe(o),"header",n),l=E(Is,e),u=Ze(Is,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?a:t)}Is.handledProps=["as","children","className","content","textAlign"],Is.propTypes={};var Ls=Is;function Ds(e){var t=e.children,n=e.className,a=e.content,o=e.textAlign,s=N()(Xe(o),"meta",n),l=E(Ds,e),u=Ze(Ds,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?a:t)}Ds.handledProps=["as","children","className","content","textAlign"],Ds.propTypes={};var Rs=Ds;function zs(e){var t=e.children,n=e.className,a=e.content,o=e.description,s=e.extra,l=e.header,u=e.meta,c=e.textAlign,f=N()(qe(s,"extra"),Xe(c),"content",n),d=E(zs,e),h=Ze(zs,e);return r.isNil(t)?r.isNil(a)?M.a.createElement(h,i()({},d,{className:f}),ft(Ls,function(e){return{content:e}},l,{autoGenerateKey:!1}),ft(Rs,function(e){return{content:e}},u,{autoGenerateKey:!1}),ft(Ns,function(e){return{content:e}},o,{autoGenerateKey:!1})):M.a.createElement(h,i()({},d,{className:f}),a):M.a.createElement(h,i()({},d,{className:f}),t)}zs.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],zs.propTypes={};var Fs=zs;function Bs(e){var t=e.centered,n=e.children,a=e.className,o=e.content,s=e.doubling,l=e.items,u=e.itemsPerRow,c=e.stackable,f=e.textAlign,d=N()("ui",qe(t,"centered"),qe(s,"doubling"),qe(c,"stackable"),Xe(f),Ke(u),"cards",a),h=E(Bs,e),p=Ze(Bs,e);if(!r.isNil(n))return M.a.createElement(p,i()({},h,{className:d}),n);if(!r.isNil(o))return M.a.createElement(p,i()({},h,{className:d}),o);var m=En()(l,function(e){var t=e.key||[e.header,e.description].join("-");return M.a.createElement(Hs,i()({key:t},e))});return M.a.createElement(p,i()({},h,{className:d}),m)}Bs.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],Bs.propTypes={};var Us=Bs,Hs=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=d()(this,(e=p()(t)).call.apply(e,[this].concat(a))),_()(y()(y()(n)),"handleClick",function(e){var t=n.props.onClick;t&&t(e,n.props)}),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.centered,a=e.children,o=e.className,s=e.color,l=e.content,u=e.description,c=e.extra,f=e.fluid,d=e.header,h=e.href,p=e.image,m=e.link,v=e.meta,g=e.onClick,y=e.raised,b=N()("ui",s,qe(n,"centered"),qe(f,"fluid"),qe(m,"link"),qe(y,"raised"),"card",o),_=E(t,this.props),x=Ze(t,this.props,function(){if(g)return"a"});return r.isNil(a)?r.isNil(l)?M.a.createElement(x,i()({},_,{className:b,href:h,onClick:this.handleClick}),yn.create(p,{autoGenerateKey:!1}),(u||d||v)&&M.a.createElement(Fs,{description:u,header:d,meta:v}),c&&M.a.createElement(Fs,{extra:!0},c)):M.a.createElement(x,i()({},_,{className:b,href:h,onClick:this.handleClick}),l):M.a.createElement(x,i()({},_,{className:b,href:h,onClick:this.handleClick}),a)}}]),t}(T.Component);function qs(e){var t=e.active,n=e.className,a=e.children,o=e.content,s=N()(qe(t,"active"),n),l=E(qs,e),u=Ze(qs,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(a)?o:a)}_()(Hs,"Content",Fs),_()(Hs,"Description",Ns),_()(Hs,"Group",Us),_()(Hs,"Header",Ls),_()(Hs,"Meta",Rs),_()(Hs,"handledProps",["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"]),Hs.propTypes={},qs.handledProps=["active","as","children","className","content"],qs.defaultProps={as:"a"},qs.propTypes={};var Vs=qs;function Ws(e){var t=e.className,n=e.children,a=e.content,o=N()("actions",t),s=E(Ws,e),l=Ze(Ws,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(n)?a:n)}Ws.handledProps=["as","children","className","content"],Ws.propTypes={};var Gs=Ws;function Xs(e){var t=e.className,n=e.children,a=e.content,o=N()("author",t),s=E(Xs,e),l=Ze(Xs,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(n)?a:n)}Xs.handledProps=["as","children","className","content"],Xs.propTypes={};var Ys=Xs;function Ks(e){var t=e.className,n=e.src,r=N()("avatar",t),a=E(Ks,e),o=Ze(Ks,e);return M.a.createElement(o,i()({},a,{className:r}),mt(n,{autoGenerateKey:!1}))}Ks.handledProps=["as","className","src"],Ks.propTypes={};var Zs=Ks;function Js(e){var t=e.className,n=e.children,a=e.content,o=N()(t,"content"),s=E(Js,e),l=Ze(Js,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(n)?a:n)}Js.handledProps=["as","children","className","content"],Js.propTypes={};var Qs=Js;function $s(e){var t=e.className,n=e.children,a=e.collapsed,o=e.content,s=e.minimal,l=e.size,u=e.threaded,c=N()("ui",l,qe(a,"collapsed"),qe(s,"minimal"),qe(u,"threaded"),"comments",t),f=E($s,e),d=Ze($s,e);return M.a.createElement(d,i()({},f,{className:c}),r.isNil(n)?o:n)}$s.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],$s.propTypes={};var el=$s;function tl(e){var t=e.className,n=e.children,a=e.content,o=N()("metadata",t),s=E(tl,e),l=Ze(tl,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(n)?a:n)}tl.handledProps=["as","children","className","content"],tl.propTypes={};var nl=tl;function rl(e){var t=e.className,n=e.children,a=e.content,o=N()(t,"text"),s=E(rl,e),l=Ze(rl,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(n)?a:n)}rl.handledProps=["as","children","className","content"],rl.propTypes={};var al=rl;function ol(e){var t=e.className,n=e.children,a=e.collapsed,o=e.content,s=N()(qe(a,"collapsed"),"comment",t),l=E(ol,e),u=Ze(ol,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(n)?o:n)}ol.handledProps=["as","children","className","collapsed","content"],ol.propTypes={},ol.Author=Ys,ol.Action=Vs,ol.Actions=Gs,ol.Avatar=Zs,ol.Content=Qs,ol.Group=el,ol.Metadata=nl,ol.Text=al;var il=ol;function sl(e){var t=e.children,n=e.className,a=e.content,o=N()("date",n),s=E(sl,e),l=Ze(sl,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}sl.handledProps=["as","children","className","content"],sl.propTypes={};var ll=sl;function ul(e){var t=e.children,n=e.className,a=e.content,o=e.images,s=e.text,l=N()(qe(o,"images"),qe(a||s,"text"),"extra",n),u=E(ul,e),c=Ze(ul,e);if(!r.isNil(t))return M.a.createElement(c,i()({},u,{className:l}),t);var f=En()(o,function(e,t){var n=[t,e].join("-");return mt(e,{key:n})});return M.a.createElement(c,i()({},u,{className:l}),a,f)}ul.handledProps=["as","children","className","content","images","text"],ul.propTypes={};var cl=ul;function fl(e){var t=e.children,n=e.className,a=e.content,o=e.icon,s=N()("like",n),l=E(fl,e),u=Ze(fl,e);return r.isNil(t)?M.a.createElement(u,i()({},l,{className:s}),At.create(o,{autoGenerateKey:!1}),a):M.a.createElement(u,i()({},l,{className:s}),t)}fl.handledProps=["as","children","className","content","icon"],fl.defaultProps={as:"a"},fl.propTypes={};var dl=fl;function hl(e){var t=e.children,n=e.className,a=e.content,o=e.like,s=N()("meta",n),l=E(hl,e),u=Ze(hl,e);return r.isNil(t)?M.a.createElement(u,i()({},l,{className:s}),ft(dl,function(e){return{content:e}},o,{autoGenerateKey:!1}),a):M.a.createElement(u,i()({},l,{className:s}),t)}hl.handledProps=["as","children","className","content","like"],hl.propTypes={};var pl=hl;function ml(e){var t=e.children,n=e.className,a=e.content,o=N()("user",n),s=E(ml,e),l=Ze(ml,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}ml.handledProps=["as","children","className","content"],ml.propTypes={},ml.defaultProps={as:"a"};var vl=ml;function gl(e){var t=e.children,n=e.className,a=e.content,o=e.date,s=e.user,l=N()("summary",n),u=E(gl,e),c=Ze(gl,e);return r.isNil(t)?M.a.createElement(c,i()({},u,{className:l}),ft(vl,function(e){return{content:e}},s,{autoGenerateKey:!1}),a,ft(ll,function(e){return{content:e}},o,{autoGenerateKey:!1})):M.a.createElement(c,i()({},u,{className:l}),t)}gl.handledProps=["as","children","className","content","date","user"],gl.propTypes={};var yl=gl;function bl(e){var t=e.children,n=e.className,a=e.content,o=e.extraImages,s=e.extraText,l=e.date,u=e.meta,c=e.summary,f=N()("content",n),d=E(bl,e),h=Ze(bl,e);return r.isNil(t)?M.a.createElement(h,i()({},d,{className:f}),ft(ll,function(e){return{content:e}},l,{autoGenerateKey:!1}),ft(yl,function(e){return{content:e}},c,{autoGenerateKey:!1}),a,ft(cl,function(e){return{text:!0,content:e}},s,{autoGenerateKey:!1}),ft(cl,function(e){return{images:e}},o,{autoGenerateKey:!1}),ft(pl,function(e){return{content:e}},u,{autoGenerateKey:!1})):M.a.createElement(h,i()({},d,{className:f}),t)}bl.handledProps=["as","children","className","content","date","extraImages","extraText","meta","summary"],bl.propTypes={};var _l=bl;function xl(e){var t=e.children,n=e.className,a=e.content,o=e.icon,s=e.image,l=N()("label",n),u=E(xl,e),c=Ze(xl,e);return r.isNil(t)?M.a.createElement(c,i()({},u,{className:l}),a,At.create(o,{autoGenerateKey:!1}),mt(s)):M.a.createElement(c,i()({},u,{className:l}),t)}xl.handledProps=["as","children","className","content","icon","image"],xl.propTypes={};var wl=xl;function kl(e){var t=e.content,n=e.children,r=e.className,a=e.date,o=e.extraImages,s=e.extraText,l=e.image,u=e.icon,c=e.meta,f=e.summary,d=N()("event",r),h=E(kl,e),p=Ze(kl,e),m=t||a||o||s||c||f,v={content:t,date:a,extraImages:o,extraText:s,meta:c,summary:f};return M.a.createElement(p,i()({},h,{className:d}),ft(wl,function(e){return{icon:e}},u,{autoGenerateKey:!1}),ft(wl,function(e){return{image:e}},l,{autoGenerateKey:!1}),m&&M.a.createElement(_l,v),n)}kl.handledProps=["as","children","className","content","date","extraImages","extraText","icon","image","meta","summary"],kl.propTypes={};var Al=kl;function Tl(e){var t=e.children,n=e.className,a=e.events,o=e.size,s=N()("ui",o,"feed",n),l=E(Tl,e),u=Ze(Tl,e);if(!r.isNil(t))return M.a.createElement(u,i()({},l,{className:s}),t);var c=En()(a,function(e){var t=e.childKey,n=e.date,r=e.meta,a=e.summary,o=us()(e,["childKey","date","meta","summary"]),s=t||[n,r,a].join("-");return M.a.createElement(Al,i()({date:n,key:s,meta:r,summary:a},o))});return M.a.createElement(u,i()({},l,{className:s}),c)}Tl.handledProps=["as","children","className","events","size"],Tl.propTypes={},Tl.Content=_l,Tl.Date=ll,Tl.Event=Al,Tl.Extra=cl,Tl.Label=wl,Tl.Like=dl,Tl.Meta=pl,Tl.Summary=yl,Tl.User=vl;var Ml=Tl;function El(e){var t=e.children,n=e.className,a=e.content,o=N()("header",n),s=E(El,e),l=Ze(El,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}El.handledProps=["as","children","className","content"],El.propTypes={},El.create=dt(El,function(e){return{content:e}});var Cl=El;function Sl(e){var t=e.children,n=e.className,a=e.content,o=N()("description",n),s=E(Sl,e),l=Ze(Sl,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Sl.handledProps=["as","children","className","content"],Sl.propTypes={},Sl.create=dt(Sl,function(e){return{content:e}});var jl=Sl;function Ol(e){var t=e.children,n=e.className,a=e.content,o=N()("extra",n),s=E(Ol,e),l=Ze(Ol,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Ol.handledProps=["as","children","className","content"],Ol.propTypes={},Ol.create=dt(Ol,function(e){return{content:e}});var Pl=Ol;function Nl(e){var t=e.children,n=e.className,a=e.content,o=N()("meta",n),s=E(Nl,e),l=Ze(Nl,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Nl.handledProps=["as","children","className","content"],Nl.propTypes={},Nl.create=dt(Nl,function(e){return{content:e}});var Il=Nl;function Ll(e){var t=e.children,n=e.className,a=e.content,o=e.description,s=e.extra,l=e.header,u=e.meta,c=e.verticalAlign,f=N()(Ye(c),"content",n),d=E(Ll,e),h=Ze(Ll,e);return r.isNil(t)?M.a.createElement(h,i()({},d,{className:f}),Cl.create(l,{autoGenerateKey:!1}),Il.create(u,{autoGenerateKey:!1}),jl.create(o,{autoGenerateKey:!1}),Pl.create(s,{autoGenerateKey:!1}),a):M.a.createElement(h,i()({},d,{className:f}),t)}Ll.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],Ll.propTypes={};var Dl=Ll;function Rl(e){var t=e.children,n=e.className,a=e.content,o=e.divided,s=e.items,l=e.link,u=e.relaxed,c=e.unstackable,f=N()("ui",qe(o,"divided"),qe(l,"link"),qe(c,"unstackable"),We(u,"relaxed"),"items",n),d=E(Rl,e),h=Ze(Rl,e);if(!r.isNil(t))return M.a.createElement(h,i()({},d,{className:f}),t);if(!r.isNil(a))return M.a.createElement(h,i()({},d,{className:f}),a);var p=En()(s,function(e){var t=e.childKey,n=us()(e,["childKey"]),r=t||[n.content,n.description,n.header,n.meta].join("-");return M.a.createElement(Hl,i()({},n,{key:r}))});return M.a.createElement(h,i()({},d,{className:f}),p)}Rl.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],Rl.propTypes={};var zl=Rl;function Fl(e){var t=e.size,n=E(Fl,e);return M.a.createElement(yn,i()({},n,{size:t,ui:!!t,wrapped:!0}))}Fl.handledProps=["size"],Fl.propTypes={},Fl.create=dt(Fl,function(e){return{src:e}});var Bl=Fl;function Ul(e){var t=e.children,n=e.className,a=e.content,o=e.description,s=e.extra,l=e.header,u=e.image,c=e.meta,f=N()("item",n),d=E(Ul,e),h=Ze(Ul,e);return r.isNil(t)?M.a.createElement(h,i()({},d,{className:f}),Bl.create(u,{autoGenerateKey:!1}),M.a.createElement(Dl,{content:a,description:o,extra:s,header:l,meta:c})):M.a.createElement(h,i()({},d,{className:f}),t)}Ul.handledProps=["as","children","className","content","description","extra","header","image","meta"],Ul.Content=Dl,Ul.Description=jl,Ul.Extra=Pl,Ul.Group=zl,Ul.Header=Cl,Ul.Image=Bl,Ul.Meta=Il,Ul.propTypes={};var Hl=Ul;function ql(e){var t=e.children,n=e.className,a=e.color,o=e.content,s=e.horizontal,l=e.inverted,u=e.items,c=e.size,f=e.widths,d=N()("ui",a,c,qe(s,"horizontal"),qe(l,"inverted"),Ke(f),"statistics",n),h=E(ql,e),p=Ze(ql,e);return r.isNil(t)?r.isNil(o)?M.a.createElement(p,i()({},h,{className:d}),En()(u,function(e){return Zl.create(e)})):M.a.createElement(p,i()({},h,{className:d}),o):M.a.createElement(p,i()({},h,{className:d}),t)}ql.handledProps=["as","children","className","color","content","horizontal","inverted","items","size","widths"],ql.propTypes={};var Vl=ql;function Wl(e){var t=e.children,n=e.className,a=e.content,o=N()("label",n),s=E(Wl,e),l=Ze(Wl,e);return M.a.createElement(l,i()({},s,{className:o}),r.isNil(t)?a:t)}Wl.handledProps=["as","children","className","content"],Wl.propTypes={},Wl.create=dt(Wl,function(e){return{content:e}});var Gl=Wl;function Xl(e){var t=e.children,n=e.className,a=e.content,o=e.text,s=N()(qe(o,"text"),"value",n),l=E(Xl,e),u=Ze(Xl,e);return M.a.createElement(u,i()({},l,{className:s}),r.isNil(t)?a:t)}Xl.handledProps=["as","children","className","content","text"],Xl.propTypes={},Xl.create=dt(Xl,function(e){return{content:e}});var Yl=Xl;function Kl(e){var t=e.children,n=e.className,a=e.color,o=e.content,s=e.floated,l=e.horizontal,u=e.inverted,c=e.label,f=e.size,d=e.text,h=e.value,p=N()("ui",a,f,Ve(s,"floated"),qe(l,"horizontal"),qe(u,"inverted"),"statistic",n),m=E(Kl,e),v=Ze(Kl,e);return r.isNil(t)?r.isNil(o)?M.a.createElement(v,i()({},m,{className:p}),Yl.create(h,{defaultProps:{text:d},autoGenerateKey:!1}),Gl.create(c,{autoGenerateKey:!1})):M.a.createElement(v,i()({},m,{className:p}),o):M.a.createElement(v,i()({},m,{className:p}),t)}Kl.handledProps=["as","children","className","color","content","floated","horizontal","inverted","label","size","text","value"],Kl.propTypes={},Kl.Group=Vl,Kl.Label=Gl,Kl.Value=Yl,Kl.create=dt(Kl,function(e){return{content:e}});var Zl=Kl;n.d(t,"Confirm",function(){return vr}),n.d(t,"MountNode",function(){return or}),n.d(t,"Pagination",function(){return Ir}),n.d(t,"PaginationItem",function(){return Nr}),n.d(t,"Portal",function(){return un}),n.d(t,"PortalInner",function(){return sn}),n.d(t,"Radio",function(){return Rr}),n.d(t,"Ref",function(){return an}),n.d(t,"Responsive",function(){return Br}),n.d(t,"Select",function(){return Aa}),n.d(t,"TextArea",function(){return Ca}),n.d(t,"TransitionablePortal",function(){return Ba}),n.d(t,"Visibility",function(){return Ua}),n.d(t,"Breadcrumb",function(){return Ga}),n.d(t,"BreadcrumbDivider",function(){return qa}),n.d(t,"BreadcrumbSection",function(){return Va}),n.d(t,"Form",function(){return mo}),n.d(t,"FormButton",function(){return Za}),n.d(t,"FormCheckbox",function(){return Qa}),n.d(t,"FormDropdown",function(){return eo}),n.d(t,"FormField",function(){return Ya}),n.d(t,"FormGroup",function(){return no}),n.d(t,"FormInput",function(){return io}),n.d(t,"FormRadio",function(){return lo}),n.d(t,"FormSelect",function(){return co}),n.d(t,"FormTextArea",function(){return ho}),n.d(t,"Grid",function(){return xo}),n.d(t,"GridColumn",function(){return go}),n.d(t,"GridRow",function(){return bo}),n.d(t,"Menu",function(){return Or}),n.d(t,"MenuHeader",function(){return Ar}),n.d(t,"MenuItem",function(){return Er}),n.d(t,"MenuMenu",function(){return Sr}),n.d(t,"Message",function(){return jo}),n.d(t,"MessageContent",function(){return ko}),n.d(t,"MessageHeader",function(){return To}),n.d(t,"MessageItem",function(){return Eo}),n.d(t,"MessageList",function(){return So}),n.d(t,"Table",function(){return Vo}),n.d(t,"TableBody",function(){return Po}),n.d(t,"TableCell",function(){return Io}),n.d(t,"TableFooter",function(){return zo}),n.d(t,"TableHeader",function(){return Do}),n.d(t,"TableHeaderCell",function(){return Bo}),n.d(t,"TableRow",function(){return Ho}),n.d(t,"Button",function(){return Nn}),n.d(t,"ButtonContent",function(){return Tn}),n.d(t,"ButtonGroup",function(){return Sn}),n.d(t,"ButtonOr",function(){return On}),n.d(t,"Container",function(){return Go}),n.d(t,"Divider",function(){return Yo}),n.d(t,"Flag",function(){return da}),n.d(t,"Header",function(){return ei}),n.d(t,"HeaderContent",function(){return Qo}),n.d(t,"HeaderSubheader",function(){return Zo}),n.d(t,"Icon",function(){return At}),n.d(t,"IconGroup",function(){return wt}),n.d(t,"Image",function(){return yn}),n.d(t,"ImageGroup",function(){return mn}),n.d(t,"Input",function(){return ao}),n.d(t,"Label",function(){return kn}),n.d(t,"LabelDetail",function(){return _n}),n.d(t,"LabelGroup",function(){return wn}),n.d(t,"List",function(){return pi}),n.d(t,"ListContent",function(){return ii}),n.d(t,"ListDescription",function(){return ni}),n.d(t,"ListHeader",function(){return ai}),n.d(t,"ListIcon",function(){return li}),n.d(t,"ListItem",function(){return ci}),n.d(t,"ListList",function(){return di}),n.d(t,"Loader",function(){return vi}),n.d(t,"Rail",function(){return yi}),n.d(t,"Reveal",function(){return wi}),n.d(t,"RevealContent",function(){return _i}),n.d(t,"Segment",function(){return Mi}),n.d(t,"SegmentGroup",function(){return Ai}),n.d(t,"Step",function(){return Di}),n.d(t,"StepContent",function(){return Pi}),n.d(t,"StepDescription",function(){return Ci}),n.d(t,"StepGroup",function(){return Ii}),n.d(t,"StepTitle",function(){return ji}),n.d(t,"Accordion",function(){return Vi}),n.d(t,"AccordionAccordion",function(){return Hi}),n.d(t,"AccordionContent",function(){return Fi}),n.d(t,"AccordionPanel",function(){return Ui}),n.d(t,"AccordionTitle",function(){return Ri}),n.d(t,"Checkbox",function(){return Lr}),n.d(t,"Dimmer",function(){return hn}),n.d(t,"DimmerDimmable",function(){return fn}),n.d(t,"DimmerInner",function(){return dn}),n.d(t,"Dropdown",function(){return wa}),n.d(t,"DropdownDivider",function(){return ca}),n.d(t,"DropdownHeader",function(){return va}),n.d(t,"DropdownItem",function(){return pa}),n.d(t,"DropdownMenu",function(){return ya}),n.d(t,"DropdownSearchInput",function(){return _a}),n.d(t,"Embed",function(){return Wi}),n.d(t,"Modal",function(){return pr}),n.d(t,"ModalActions",function(){return cr}),n.d(t,"ModalContent",function(){return ur}),n.d(t,"ModalDescription",function(){return dr}),n.d(t,"ModalHeader",function(){return sr}),n.d(t,"Popup",function(){return Ji}),n.d(t,"PopupContent",function(){return Yi}),n.d(t,"PopupHeader",function(){return Ki}),n.d(t,"Progress",function(){return rs}),n.d(t,"Rating",function(){return ss}),n.d(t,"RatingIcon",function(){return is}),n.d(t,"Search",function(){return ys}),n.d(t,"SearchCategory",function(){return hs}),n.d(t,"SearchResult",function(){return ms}),n.d(t,"SearchResults",function(){return gs}),n.d(t,"Sidebar",function(){return As}),n.d(t,"SidebarPushable",function(){return _s}),n.d(t,"SidebarPusher",function(){return ws}),n.d(t,"Sticky",function(){return Ts}),n.d(t,"Tab",function(){return Ss}),n.d(t,"TabPane",function(){return Es}),n.d(t,"Transition",function(){return Fa}),n.d(t,"TransitionGroup",function(){return Ra}),n.d(t,"Advertisement",function(){return Os}),n.d(t,"Card",function(){return Hs}),n.d(t,"CardContent",function(){return Fs}),n.d(t,"CardDescription",function(){return Ns}),n.d(t,"CardGroup",function(){return Us}),n.d(t,"CardHeader",function(){return Ls}),n.d(t,"CardMeta",function(){return Rs}),n.d(t,"Comment",function(){return il}),n.d(t,"CommentAction",function(){return Vs}),n.d(t,"CommentActions",function(){return Gs}),n.d(t,"CommentAuthor",function(){return Ys}),n.d(t,"CommentAvatar",function(){return Zs}),n.d(t,"CommentContent",function(){return Qs}),n.d(t,"CommentGroup",function(){return el}),n.d(t,"CommentMetadata",function(){return nl}),n.d(t,"CommentText",function(){return al}),n.d(t,"Feed",function(){return Ml}),n.d(t,"FeedContent",function(){return _l}),n.d(t,"FeedDate",function(){return ll}),n.d(t,"FeedEvent",function(){return Al}),n.d(t,"FeedExtra",function(){return cl}),n.d(t,"FeedLabel",function(){return wl}),n.d(t,"FeedLike",function(){return dl}),n.d(t,"FeedMeta",function(){return pl}),n.d(t,"FeedSummary",function(){return yl}),n.d(t,"FeedUser",function(){return vl}),n.d(t,"Item",function(){return Hl}),n.d(t,"ItemContent",function(){return Dl}),n.d(t,"ItemDescription",function(){return jl}),n.d(t,"ItemExtra",function(){return Pl}),n.d(t,"ItemGroup",function(){return zl}),n.d(t,"ItemHeader",function(){return Cl}),n.d(t,"ItemImage",function(){return Bl}),n.d(t,"ItemMeta",function(){return Il}),n.d(t,"Statistic",function(){return Zl}),n.d(t,"StatisticGroup",function(){return Vl}),n.d(t,"StatisticLabel",function(){return Gl}),n.d(t,"StatisticValue",function(){return Yl})},"./node_modules/shallowequal/index.js":function(e,t){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],f=t[u];if(!1===(a=n?n.call(r,c,f,u):void 0)||void 0===a&&c!==f)return!1}return!0}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}}]);