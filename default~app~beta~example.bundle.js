(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./node_modules/anatomogram/lib/img sync recursive ^\\.\\/.*selected\\.png$":function(e,t,n){var r={"./brain.selected.png":"./node_modules/anatomogram/lib/img/brain.selected.png","./brain.unselected.png":"./node_modules/anatomogram/lib/img/brain.unselected.png","./female.selected.png":"./node_modules/anatomogram/lib/img/female.selected.png","./female.unselected.png":"./node_modules/anatomogram/lib/img/female.unselected.png","./flower_parts.selected.png":"./node_modules/anatomogram/lib/img/flower_parts.selected.png","./flower_parts.unselected.png":"./node_modules/anatomogram/lib/img/flower_parts.unselected.png","./male.selected.png":"./node_modules/anatomogram/lib/img/male.selected.png","./male.unselected.png":"./node_modules/anatomogram/lib/img/male.unselected.png","./whole_plant.selected.png":"./node_modules/anatomogram/lib/img/whole_plant.selected.png","./whole_plant.unselected.png":"./node_modules/anatomogram/lib/img/whole_plant.unselected.png"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="./node_modules/anatomogram/lib/img sync recursive ^\\.\\/.*selected\\.png$"},"./node_modules/anatomogram/lib/svg sync recursive ^\\.\\/.*\\.svg$":function(e,t,n){var r={"./anolis_carolinensis.svg":"./node_modules/anatomogram/lib/svg/anolis_carolinensis.svg","./arabidopsis_thaliana.svg":"./node_modules/anatomogram/lib/svg/arabidopsis_thaliana.svg","./bos_taurus.svg":"./node_modules/anatomogram/lib/svg/bos_taurus.svg","./brachypodium_distachyon.flower_parts.svg":"./node_modules/anatomogram/lib/svg/brachypodium_distachyon.flower_parts.svg","./brachypodium_distachyon.whole_plant.svg":"./node_modules/anatomogram/lib/svg/brachypodium_distachyon.whole_plant.svg","./gallus_gallus.svg":"./node_modules/anatomogram/lib/svg/gallus_gallus.svg","./homo_sapiens.brain.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.brain.svg","./homo_sapiens.female.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.female.svg","./homo_sapiens.male.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.male.svg","./hordeum_vulgare.flower_parts.svg":"./node_modules/anatomogram/lib/svg/hordeum_vulgare.flower_parts.svg","./hordeum_vulgare.whole_plant.svg":"./node_modules/anatomogram/lib/svg/hordeum_vulgare.whole_plant.svg","./macaca_mulatta.svg":"./node_modules/anatomogram/lib/svg/macaca_mulatta.svg","./monodelphis_domestica.svg":"./node_modules/anatomogram/lib/svg/monodelphis_domestica.svg","./mus_musculus.brain.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.brain.svg","./mus_musculus.female.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.female.svg","./mus_musculus.male.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.male.svg","./oryza_sativa.flower_parts.svg":"./node_modules/anatomogram/lib/svg/oryza_sativa.flower_parts.svg","./oryza_sativa.whole_plant.svg":"./node_modules/anatomogram/lib/svg/oryza_sativa.whole_plant.svg","./papio_anubis.svg":"./node_modules/anatomogram/lib/svg/papio_anubis.svg","./rattus_norvegicus.svg":"./node_modules/anatomogram/lib/svg/rattus_norvegicus.svg","./solanum_lycopersicum.flower_parts.svg":"./node_modules/anatomogram/lib/svg/solanum_lycopersicum.flower_parts.svg","./solanum_lycopersicum.whole_plant.svg":"./node_modules/anatomogram/lib/svg/solanum_lycopersicum.whole_plant.svg","./solanum_tuberosum.svg":"./node_modules/anatomogram/lib/svg/solanum_tuberosum.svg","./sorghum_bicolor.flower_parts.svg":"./node_modules/anatomogram/lib/svg/sorghum_bicolor.flower_parts.svg","./sorghum_bicolor.whole_plant.svg":"./node_modules/anatomogram/lib/svg/sorghum_bicolor.whole_plant.svg","./tetraodon_nigroviridis.svg":"./node_modules/anatomogram/lib/svg/tetraodon_nigroviridis.svg","./triticum_aestivum.flower_parts.svg":"./node_modules/anatomogram/lib/svg/triticum_aestivum.flower_parts.svg","./triticum_aestivum.whole_plant.svg":"./node_modules/anatomogram/lib/svg/triticum_aestivum.whole_plant.svg","./xenopus_tropicalis.svg":"./node_modules/anatomogram/lib/svg/xenopus_tropicalis.svg","./zea_mays.flower_parts.svg":"./node_modules/anatomogram/lib/svg/zea_mays.flower_parts.svg","./zea_mays.whole_plant.svg":"./node_modules/anatomogram/lib/svg/zea_mays.whole_plant.svg"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="./node_modules/anatomogram/lib/svg sync recursive ^\\.\\/.*\\.svg$"},"./src/action/ContainerAction.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/typesafe-actions/dist/index.umd.js");t.createContainerActions=function(e,t){void 0===t&&(t="chell");var n=(t+"/"+e).toUpperCase();return{add:r.createStandardAction(n+"_ADD").map(function(t){return{meta:e,payload:t}}),addMultiple:r.createStandardAction(n+"_ADD_MULTIPLE").map(function(t){return{meta:e,payload:t}}),clear:r.createStandardAction(n+"_CLEAR")(),remove:r.createStandardAction(n+"_REMOVE").map(function(t){return{meta:e,payload:t}}),removeMultiple:r.createStandardAction(n+"_REMOVE_MULTIPLE").map(function(t){return{meta:e,payload:t}}),set:r.createStandardAction(n+"_SET").map(function(t){return{meta:e,payload:t}})}}},"./src/action/DataAction.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/typesafe-actions/dist/index.umd.js");t.createDataActions=function(e,t){void 0===t&&(t="chell");var n=(t+"/"+e).toUpperCase();return i.createAsyncAction(n+"_FETCH_DATA_REQUEST",n+"_FETCH_DATA_SUCCESS",n+"_FETCH_DATA_FAILURE")()},t.fetchDataset=function(e,n,i){return void 0===i&&(i="chell"),function(s){return r(a,void 0,void 0,function(){var r,a,c;return o(this,function(o){switch(o.label){case 0:r=t.createDataActions(e,i),s(r.request()),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n()];case 2:return a=o.sent(),s(r.success(a)),[3,4];case 3:return c=o.sent(),s(r.failure(c)),console.log("An error occurred: "+c),[3,4];case 4:return[2]}})})}}},"./src/action/ObjectAction.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/typesafe-actions/dist/index.umd.js");t.createObjectActions=function(e,t){void 0===t&&(t="chell");var n=(t+"/"+e).toUpperCase();return{add:r.createStandardAction(n+"_ADD").map(function(t){return{meta:e,payload:t}}),clear:r.createStandardAction(n+"_CLEAR")(),remove:r.createStandardAction(n+"_REMOVE").map(function(t){return{meta:e,payload:t}}),removeMultiple:r.createStandardAction(n+"_REMOVE_MULTIPLE").map(function(t){return{meta:e,payload:t}}),set:r.createStandardAction(n+"_SET").map(function(t){return{meta:e,payload:t}}),toggle:r.createStandardAction(n+"_TOGGLE").map(function(t){return{meta:e,payload:t}})}}},"./src/action/ResiduePairAction.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/action/index.ts"),o=n("./src/reducer/index.ts");t.createResiduePairActions=function(e){return void 0===e&&(e="chell"),{candidates:r.createContainerActions(o.RESIDUE_PAIR_DATASET_NAME+"/candidates",e),hovered:r.createContainerActions(o.RESIDUE_PAIR_DATASET_NAME+"/hovered",e),locked:r.createObjectActions(o.RESIDUE_PAIR_DATASET_NAME+"/locked",e)}}},"./src/action/SpringAction.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0});var s=n("./src/action/index.ts");t.fetchSpringGraphData=function(e,t){return void 0===t&&(t="chell"),function(n){return o(i,void 0,void 0,function(){var r,o,i;return a(this,function(a){switch(a.label){case 0:r=s.createDataActions("spring/graphData",t),n(r.request()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e()];case 2:return o=a.sent(),n(r.success(o)),[3,4];case 3:return i=a.sent(),n(r.failure(i)),console.log("An error occurred: "+i),[3,4];case 4:return[2]}})})}},t.createSpringActions=function(e){return void 0===e&&(e="chell"),{category:r({},s.createValueActions("spring/category",e)),graphData:r({},s.createDataActions("spring/graphData",e)),species:r({},s.createValueActions("spring/species",e))}}},"./src/action/ValueAction.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/typesafe-actions/dist/index.umd.js");t.createValueActions=function(e,t){void 0===t&&(t="chell");var n=(t+"/"+e).toUpperCase();return{clear:r.createStandardAction(n+"_CLEAR")(),set:r.createStandardAction(n+"_SET").map(function(t){return{meta:e,payload:t}})}}},"./src/action/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/action/ContainerAction.ts")),r(n("./src/action/DataAction.ts")),r(n("./src/action/ObjectAction.ts")),r(n("./src/action/ValueAction.ts")),r(n("./src/action/SpringAction.ts")),r(n("./src/action/ResiduePairAction.ts"))},"./src/component/ContactMap.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/redux/es/redux.js"),p=n("./src/action/index.ts"),f=n("./src/component/index.ts"),h=n("./src/data/index.ts"),m=n("./src/helper/index.ts"),y=n("./src/selector/index.ts");t.initialContactMapState={pointsToPlot:new Array};var g=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialContactMapState,r.onNodeSizeChange=function(e){return function(t){var n=r.state.pointsToPlot;r.setState({pointsToPlot:s(n.slice(0,e),[a({},n[e],{nodeSize:t})],n.slice(e+1))})}},r.generateNodeSizeSliderConfigs=function(e){return e.map(function(e,t){return{id:"node-size-slider-"+t,name:"Node size for "+e.name,onChange:r.onNodeSizeChange(t),type:h.CONFIGURATION_COMPONENT_TYPE.SLIDER,values:{current:e.nodeSize,max:20,min:1}}})},r.onMouseEnter=function(e){return function(t){var n,o,a,i;if(t.isAxis()){var l=r.props,u=l.addHoveredSecondaryStructure,d=l.hoveredSecondaryStructures,p=l.data;try{for(var f=c(p.secondaryStructures),h=f.next();!h.done;h=f.next()){var m=h.value,y=function(e){e.contains.apply(e,s(t.selectedPoints))&&!d.find(function(t){return t.end===e.end&&t.label===e.label&&t.start===e.start})&&u(e)};try{for(var g=c(m),v=g.next();!v.done;v=g.next()){y(v.value)}}catch(e){a={error:e}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}}else e(t.selectedPoints)}},r.onMouseLeave=function(e){return function(t){var n,o,a,i;if(t.isAxis()){var l=r.props,u=l.data,d=l.hoveredSecondaryStructures,p=l.removeHoveredSecondaryStructure;try{for(var f=c(u.secondaryStructures),h=f.next();!h.done;h=f.next()){var m=h.value,y=function(e){var n=d.find(function(t){return t.end===e.end&&t.label===e.label&&t.start===e.start});e.contains.apply(e,s(t.selectedPoints))&&n&&p(n)};try{for(var g=c(m),v=g.next();!v.done;v=g.next()){y(v.value)}}catch(e){a={error:e}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}}else e&&e(t.selectedPoints)}},r.onMouseClick=function(e){return function(t){var n,o,a,i,l;if(t.isAxis()){var u=r.props,d=u.addSelectedSecondaryStructure,p=u.data,f=u.removeSecondaryStructure,h=u.selectedSecondaryStructures;try{for(var m=c(p.secondaryStructures),y=m.next();!y.done;y=m.next()){var g=y.value;try{for(var v=c(g),_=v.next();!_.done;_=v.next()){var C=_.value;C.contains.apply(C,s(t.selectedPoints))&&(h.includes(C)?f(C):d(C))}}catch(e){a={error:e}}finally{try{_&&!_.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}}}catch(e){n={error:e}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}}else e(((l={})[t.selectedPoints.sort().toString()]=t.selectedPoints,l))}},r.onMouseSelect=function(e){return function(t){e&&e(t.selectedPoints.map(function(e){return e}))}},r}return o(n,e),n.prototype.componentDidMount=function(){this.setupPointsToPlot(this.props.data.couplingScores)},n.prototype.componentDidUpdate=function(e){var t=this.props,n=t.data,r=t.lockedResiduePairs;n===e.data&&r===e.lockedResiduePairs||this.setupPointsToPlot(n.couplingScores)},n.prototype.render=function(){var e=this.props,t=e.configurations,n=e.removeAllLockedResiduePairs,r=this.state.pointsToPlot;return this.renderContactMapChart(r,s([{name:"Clear Selections",onClick:n,type:h.CONFIGURATION_COMPONENT_TYPE.BUTTON}],t,this.generateNodeSizeSliderConfigs(r)))},n.prototype.setupPointsToPlot=function(e){var t=this.props,n=t.data,r=t.lockedResiduePairs,o=t.hoveredResidues,i=t.formattedPoints,c=t.observedColor,l=t.highlightColor,u=this.state.pointsToPlot,d={selected:"Selected Residue Pairs",structure:(n.pdbData?n.pdbData.known?"Known":"Predicted":"Unknown")+" Structure Contact"},p=u.findIndex(function(e){return e.name===d.structure}),h=u.findIndex(function(e){return e.name===d.selected}),m=e.getObservedContacts(),y=new(Array.bind.apply(Array,s([void 0,f.generateChartDataEntry("text",{start:c,end:"rgb(100,177,200)"},d.structure,"(from PDB structure)",p>=0?u[p].nodeSize:4,m,{text:m.map(function(t){var n=e.getCouplingScore(t.i,t.j);return n&&n.A_i&&n.A_j?"("+t.i+n.A_i+", "+t.j+n.A_j+")":"("+t.i+", "+t.j+")"})})],i))),g=new Array;o.length>=1&&g.push({i:o[0],j:1===o.length?o[0]:o[1]}),Object.keys(r).length>=1&&g.push.apply(g,s(Array.from(Object.keys(r)).reduce(function(e,t){var n=r[t];return n&&2===n.length&&e.push({i:n[0],j:n[1],dist:0}),e},new Array))),y.push(f.generateChartDataEntry("none",l,d.selected,"",h>=0?u[h].nodeSize:6,g,{marker:{color:new Array(2*g.length).fill(l),line:{color:l,width:3},symbol:"circle-open"}})),this.setState(a({},this.state,{pointsToPlot:s(y)}))},n.prototype.renderContactMapChart=function(e,t){var n=this.props,r=n.candidateResidues,o=n.data,a=n.onBoxSelection,i=n.selectedSecondaryStructures,s=n.showConfigurations,c=n.addHoveredResidues,u=n.removeHoveredResidues,d=n.toggleLockedResiduePair;return l.createElement(f.ComponentCard,{componentName:"Contact Map"},l.createElement("div",{style:{height:"90%",width:"100%"}},l.createElement(f.ContactMapChart,{candidateResidues:r,configurations:t,contactData:e,onClickCallback:this.onMouseClick(d),onHoverCallback:this.onMouseEnter(c),onSelectedCallback:this.onMouseSelect(a),onUnHoverCallback:this.onMouseLeave(u),range:o.couplingScores.residueIndexRange.max+20,secondaryStructures:o.secondaryStructures?o.secondaryStructures:[],selectedSecondaryStructures:[i],showConfigurations:s})))},n.defaultProps={addHoveredResidues:m.EMPTY_FUNCTION,addHoveredSecondaryStructure:m.EMPTY_FUNCTION,addSelectedSecondaryStructure:m.EMPTY_FUNCTION,candidateResidues:[],configurations:new Array,data:{couplingScores:new h.CouplingContainer,secondaryStructures:new Array},enableSliders:!0,formattedPoints:new Array,height:"100%",highlightColor:"#ff8800",hoveredResidues:[],hoveredSecondaryStructures:[],isDataLoading:!1,lockedResiduePairs:{},observedColor:"#0000ff",removeAllLockedResiduePairs:m.EMPTY_FUNCTION,removeHoveredResidues:m.EMPTY_FUNCTION,removeHoveredSecondaryStructure:m.EMPTY_FUNCTION,removeSecondaryStructure:m.EMPTY_FUNCTION,selectedSecondaryStructures:[],showConfigurations:!0,toggleLockedResiduePair:m.EMPTY_FUNCTION,width:"100%"},n}(l.Component);t.ContactMapClass=g;t.ContactMap=u.connect(function(e){return{candidateResidues:y.getCandidates(e).toArray(),hoveredResidues:y.getHovered(e).toArray(),hoveredSecondaryStructures:y.selectCurrentItems(e,"secondaryStructure/hovered").toArray(),lockedResiduePairs:y.getLocked(e).toJS(),selectedSecondaryStructures:y.selectCurrentItems(e,"secondaryStructure/selected").toArray()}},function(e){return d.bindActionCreators({addHoveredResidues:p.createResiduePairActions().hovered.set,addHoveredSecondaryStructure:p.createContainerActions("secondaryStructure/hovered").add,addSelectedSecondaryStructure:p.createContainerActions("secondaryStructure/selected").add,removeAllLockedResiduePairs:p.createResiduePairActions().locked.clear,removeHoveredResidues:p.createResiduePairActions().hovered.clear,removeHoveredSecondaryStructure:p.createContainerActions("secondaryStructure/hovered").remove,removeSecondaryStructure:p.createContainerActions("secondaryStructure/selected").remove,toggleLockedResiduePair:p.createResiduePairActions().locked.toggle},e)})(g)},"./src/component/FeatureViewer.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/react/index.js"),u=n("./node_modules/immutable/dist/immutable.js"),d=n("./src/component/index.ts"),p=n("./src/data/index.ts"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.onFeatureHover=function(e){for(var t,r,o=n.props,a=o.data,s=o.getTextForHover,c=-1,l=[e.selectedPoints[0],e.selectedPoints[2]],u=0;u<a.length;++u)try{for(var d=i(l),p=d.next();!p.done;p=d.next()){var f=p.value;a[u].contains(f)&&(c=u)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}n.setState({hoverAnnotationText:s&&c>=0?s(a[c].label,c):"",hoveredFeatureIndex:c})},n.onFeatureClick=function(e){var t=n.props,r=t.data,o=t.onClickCallback,a=n.deriveFeatureIndices(r,e.selectedPoints);o&&o(n.deriveSelectedFeatures(r,a.toArray())),n.setState({selectedFeatureIndices:a,selectedRange:new p.Chell1DSection("selection",-1,-1)})},n.onFeatureSelect=function(e){var t=n.props,r=t.data,o=t.onSelectCallback,a=n.deriveFeatureIndices(r,e.selectedPoints),i=e.plotlyEvent,s=n.state.selectedRange;if(i.range){var c={end:(s=new p.Chell1DSection("selection",Math.floor(i.range.x[0]),Math.ceil(i.range.x[1]))).end,featuresSelected:n.deriveSelectedFeatures(r,a.toArray()),length:s.length,start:s.start};o&&o(c)}n.setState({selectedFeatureIndices:a,selectedRange:s})},n.deriveFeatureIndices=function(e,t){for(var n=u.Set(),r=function(r){var o=t[r];e.reduce(function(e,t,n){return t.contains(o)?c(e,[n]):e},new Array).forEach(function(e){n=n.add(e)})},o=0;o<t.length;o+=2)r(o);return n},n.deriveSelectedFeatures=function(e,t){return t.map(function(t){return new p.Chell1DSection(e[t].label,e[t].start,e[t].end)})},n.state={hoverAnnotationText:"",hoveredFeatureIndex:-1,plotlyConfig:{showAxisDragHandles:!1,showAxisRangeEntryBoxes:!1},plotlyData:[],plotlyLayout:{},selectedFeatureIndices:u.Set(),selectedRange:new p.Chell1DSection("selection",-1,-1)},n}return o(t,e),t.getDerivedStateFromProps=function(e,n){var r=e.backgroundBar,o=e.data,a=e.height,i=e.maxLength,s=e.showGrouped,l=e.title,u=e.width,d=n.hoverAnnotationText,f=n.hoveredFeatureIndex,h=n.selectedRange,m=-1,y=o.map(function(e,n){var r=s?n:o.findIndex(function(t){return 0===e.label.localeCompare(t.label)});return m=Math.max(m,r),t.getPlotlyDataObject(e,s,r)}),g=t.getPlotlyBackgroundBarObject(r||new p.TintedChell1DSection("",0,o.reduce(function(e,t){return Math.max(e,t.end)},-1),"#b9bcb6"),s,m/2),v={fill:"toself",hoverinfo:"none",line:{width:0},marker:{color:"#f9f69f",opacity:.5},mode:"lines+markers",showlegend:!1,x:-1!==h.start&&-1!==h.end?[h.start,h.end,h.end,h.start]:[],y:[0,0,m+1,m+1]},_=c([g,v],y);return{plotlyData:_,plotlyLayout:{annotations:t.getAnnotationPlotlyData(f,d,_[f]),dragmode:"select",height:a,hovermode:"closest",margin:{b:30,t:60},showlegend:!1,title:l,width:u,xaxis:o.length>0?{autorange:!1,fixedrange:!0,range:[0,i||o.reduce(function(e,t){return Math.max(e,t.end)},-1)+200],showgrid:!1,tick0:0,tickmode:"auto",ticks:"outside"}:{visible:!1},yaxis:{autorange:!1,fixedrange:!0,range:[-.25,s?2:o.length],visible:!1}}}},t.getBoxForChellSection=function(e){return[e.end-(e.end-e.start)/2,null,e.start,e.start,e.end,e.end,e.start]},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=this.state,o=r.plotlyConfig,a=r.plotlyData,i=r.plotlyLayout;return l.createElement("div",{style:{height:n,width:t}},l.createElement(d.PlotlyChart,{config:o,data:a,layout:i,onClickCallback:this.onFeatureClick,onHoverCallback:this.onFeatureHover,onSelectedCallback:this.onFeatureSelect,showLoader:!1}))},t.defaultProps={data:[],height:200,showGrouped:!1,title:"",width:600},t.getAnnotationPlotlyData=function(e,t,n){return e>=0&&n.x&&n.y?[{align:"left",arrowhead:0,arrowsize:1,arrowwidth:1,ax:0,ay:-25,bgcolor:"#ffffff",bordercolor:"#000000",borderpad:5,showarrow:!0,text:t,x:n.x[0],xref:"x",y:n.y[n.y.length-3],yref:"y"}]:[]},t.getPlotlyBackgroundBarObject=function(e,n,r){return a({},t.getPlotlyDataObject(e,n,r),{y:n?[.25,null,.25,.75,.75,.25,.25]:[r+.5,null,r+1,r,r,r+1,r+1]})},t.getPlotlyDataObject=function(e,n,r){return{fill:"toself",fillcolor:e.color.toString(),hoverinfo:"none",hoveron:"fills",line:{width:0},mode:"text+lines",name:""+e.label,text:[e.label],textfont:{color:["#FFFFFF"]},type:"scatter",x:t.getBoxForChellSection(e),y:n?[.5,null,0,1,1,0,0]:[r+.5,null,r+1,r,r,r+1,r+1]}},t}(l.Component);t.FeatureViewer=f},"./src/component/NGLComponent.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/lodash/lodash.js"),u=n("./node_modules/ngl/dist/ngl.esm.js"),d=n("./node_modules/react/index.js"),p=n("./src/component/index.ts"),f=n("./src/data/index.ts"),h=n("./src/helper/index.ts");t.initialNGLState={activeRepresentations:new Array,stage:void 0};var m=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialNGLState,r.canvas=null,r.getConfigurations=function(){return[{name:"Clear Selections",onClick:r.props.removeAllLockedResiduePairs,type:f.CONFIGURATION_COMPONENT_TYPE.BUTTON},{current:f.CONTACT_DISTANCE_PROXIMITY.CLOSEST,name:"Proximity Metric",onChange:r.measuredProximityHandler,options:Object.values(f.CONTACT_DISTANCE_PROXIMITY).map(h.capitalizeFirstLetter),type:f.CONFIGURATION_COMPONENT_TYPE.RADIO},{current:"default",name:"Structure Representation Type",onChange:function(e){var t=r.state.stage;if(t&&t.compList.length>=1){var n=t.compList[0];n.removeAllRepresentations(),0===e?t.defaultFileRepresentation(n):n.addRepresentation(["default","spacefill","backbone","cartoon","surface","tube"][e]),r.setState({activeRepresentations:r.deriveActiveRepresentations(n)}),t.viewer.requestRender()}},options:Object.values(["Default","Spacefill","Backbone","Cartoon","Surface","Tube"]),type:f.CONFIGURATION_COMPONENT_TYPE.RADIO}]},r.onClick=function(e){var t,n=r.props,o=n.addLockedResiduePair,a=n.addCandidateResidues,i=n.candidateResidues,c=n.hoveredResidues,l=n.removeLockedResiduePair,u=n.removeCandidateResidues,d=n.removeNonLockedResidues,p=r.state.stage;if(r.canvas&&p){var f=p.compList[0];if(e){if(e.picker&&"distance"===e.picker.type)l([e.distance.atom1.resno,e.distance.atom2.resno].sort().toString());else if(e.atom||e.closestBondAtom){var h=e.atom||e.closestBondAtom;if(i.length>=1){var m=s(i,[h.resno]).sort();o(((t={})[m.toString()]=s(i,[h.resno]),t)),u()}else a([h.resno])}}else i.length>=1&&c.length>=1?c.forEach(function(e){var t,n,r=f.stage.mouseObserver,a=r.down,c=r.canvasPosition,l=r.position,p=[a,c,r.prevClickCP,r.prevPosition,l].map(function(t){return function(t,n){for(var r=Number.MAX_SAFE_INTEGER,o=t.atomOffset[e],a=t.atomCount[e],i=0;i<a;++i){var s=f.structure.getAtomProxy(o+i),c=f.stage.viewerControls.getPositionOnCanvas(s.positionToVector3());r=Math.min(r,n.distanceTo(c))}return r}(f.structure.residueStore,t)});if(void 0===n&&(n=100),p.filter(function(e){return e<n}).length>=1){var h=s(i,[e]).sort();o(((t={})[h.toString()]=s(i,[e]),t)),u()}else d()}):d()}},r.measuredProximityHandler=function(e){var t=r.props.onMeasuredProximityChange;t&&t(e)},r.onCanvasLeave=function(){(0,r.props.removeNonLockedResidues)()},r.onResizeHandler=function(e){var t=r.props.onResize,n=r.state.stage;n&&n.handleResize(),t&&t(e)},r.onKeyDown=function(e){e.preventDefault();27!==e.which&&27!==e.keyCode||(0,r.props.removeNonLockedResidues)()},r.generateStage=function(e,t){var n=new u.Stage(e,t);return n.keyBehavior.domElement.focus=function(){},n},r}return o(n,e),n.prototype.componentDidMount=function(e){var t=(void 0===e?this.props:e).backgroundColor,n=this.props.data;if(this.canvas){var r=this.generateStage(this.canvas,{backgroundColor:t});this.initData(r,n.nglStructure),this.setState({stage:r})}window.addEventListener("resize",this.onResizeHandler,!1)},n.prototype.componentWillUnmount=function(){var e=this.state.stage;e&&(e.viewer.renderer.forceContextLoss(),e.dispose(),this.setState({activeRepresentations:[],stage:void 0})),window.removeEventListener("resize",this.onResizeHandler)},n.prototype.componentDidUpdate=function(e,t){var n,r,o=this.props,a=o.candidateResidues,i=o.hoveredResidues,s=o.hoveredSecondaryStructures,l=o.lockedResiduePairs,u=o.data,d=o.measuredProximity,p=o.selectedSecondaryStructures,f=this.state.stage;if(f&&u.nglStructure!==e.data.nglStructure&&this.initData(f,u.nglStructure),f&&f.compList.length>=1){var h=f.compList[0];if(a!==e.candidateResidues||i!==e.hoveredResidues||s!==e.hoveredSecondaryStructures||l!==e.lockedResiduePairs||d!==e.measuredProximity||p!==e.selectedSecondaryStructures){try{for(var m=c(this.state.activeRepresentations),y=m.next();!y.done;y=m.next()){var g=y.value;h.removeRepresentation(g)}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}this.setState({activeRepresentations:this.deriveActiveRepresentations(h)})}f.viewer.requestRender()}},n.prototype.render=function(){var e=this,t=this.props,n=t.height,r=t.style,o=t.width,i=a({},r,{height:n,width:o});return d.createElement(p.ComponentCard,{componentName:"NGL Viewer"},d.createElement("div",{className:"NGLComponent",style:i},d.createElement("div",{className:"NGLCanvas",onKeyDown:this.onKeyDown,onMouseLeave:this.onCanvasLeave,ref:function(t){return e.canvas=t},role:"img",style:{height:"100%",width:"100%"}})))},n.prototype.initData=function(e,t){e.removeAllComponents(),t&&this.addStructureToStage(l.cloneDeep(t),e),e.viewer.requestRender()},n.prototype.deriveActiveRepresentations=function(e){var t=this.props,n=t.candidateResidues,r=t.hoveredResidues,o=t.hoveredSecondaryStructures,a=t.lockedResiduePairs,i=t.selectedSecondaryStructures;return s(this.highlightCandidateResidues(e,s(n,r).filter(function(e,t,n){return n.indexOf(e)===t}).sort()),this.highlightLockedDistancePairs(e,a),this.highlightSecondaryStructures(e,s(o,i)))},n.prototype.addStructureToStage=function(e,t){var n=this,r=t.addComponentFromObject(e);r.stage.mouseControls.add("hoverPick",function(e,t){n.onHover(e,t)}),t.defaultFileRepresentation(r),t.signals.clicked.add(this.onClick);var o=this.deriveActiveRepresentations(r);this.setState({activeRepresentations:o}),t.viewer.requestRender()},n.prototype.onHover=function(e,t){var n=this.props,r=n.addHoveredResidues,o=n.candidateResidues,a=n.hoveredResidues,i=n.removeHoveredResidues,s=this.state.stage;if(s)if(t&&(t.atom||t.closestBondAtom)){var c=t.atom||t.closestBondAtom,l=f.AMINO_ACIDS_BY_THREE_LETTER_CODE[c.resname]?f.AMINO_ACIDS_BY_THREE_LETTER_CODE[c.resname].singleLetterCode:c.resname;s.tooltip.textContent=""+c.resno+l,r([c.resno])}else 0===o.length&&0!==a.length&&i()},n.prototype.getDistanceRepForResidues=function(e,t){var n=this.props,r=n.data;if(n.measuredProximity===f.CONTACT_DISTANCE_PROXIMITY.C_ALPHA)return h.createDistanceRepresentation(e,t.join(".CA, ")+".CA");var o=r.getMinDistBetweenResidues(t[0],t[1]),a=o.atomIndexI,i=o.atomIndexJ;return h.createDistanceRepresentation(e,[a,i])},n.prototype.highlightCandidateResidues=function(e,t){var n=new Array;return t.length>=1&&(n.push(h.createBallStickRepresentation(e,t)),t.length>=2&&n.push(this.getDistanceRepForResidues(e,t))),n},n.prototype.highlightLockedDistancePairs=function(e,t){var n,r,o=new Array;try{for(var a=c(Object.values(t)),i=a.next();!i.done;i=a.next()){var s=i.value;o.push(h.createBallStickRepresentation(e,s)),s.length>=2&&o.push(this.getDistanceRepForResidues(e,s))}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},n.prototype.highlightSecondaryStructures=function(e,t){var n,r,o=new Array;try{for(var a=c(t),i=a.next();!i.done;i=a.next()){var s=i.value;o.push(h.createSecStructRepresentation(e,s))}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},n.defaultProps={addCandidateResidues:h.EMPTY_FUNCTION,addHoveredResidues:h.EMPTY_FUNCTION,addLockedResiduePair:h.EMPTY_FUNCTION,backgroundColor:"#ffffff",candidateResidues:[],data:f.ChellPDB.createEmptyPDB(),dispatchNglFetch:h.EMPTY_FUNCTION,dispatchPdbFetch:h.EMPTY_FUNCTION,height:"90%",hoveredResidues:[],hoveredSecondaryStructures:[],isDataLoading:!1,lockedResiduePairs:{},measuredProximity:f.CONTACT_DISTANCE_PROXIMITY.C_ALPHA,onMeasuredProximityChange:h.EMPTY_FUNCTION,onResize:h.EMPTY_FUNCTION,removeAllLockedResiduePairs:h.EMPTY_FUNCTION,removeCandidateResidues:h.EMPTY_FUNCTION,removeHoveredResidues:h.EMPTY_FUNCTION,removeLockedResiduePair:h.EMPTY_FUNCTION,removeNonLockedResidues:h.EMPTY_FUNCTION,selectedSecondaryStructures:[],showConfigurations:!0,width:"100%"},n}(d.Component);t.NGLComponent=m},"./src/component/PredictedContactMap.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js"),c=n("./src/component/index.ts"),l=n("./src/data/index.ts");t.initialPredictedContactMapState={linearDistFilter:5,numPredictionsToShow:-1,pointsToPlot:[]};var u=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialPredictedContactMapState,r.onLinearDistFilterChange=function(){return function(e){r.setState({linearDistFilter:e})}},r.onNumPredictionsToShowChange=function(){return function(e){r.setState({numPredictionsToShow:e})}},r.getContactMapConfigs=function(){return[{name:"Linear Distance Filter (|i - j|)",onChange:r.onLinearDistFilterChange(),type:l.CONFIGURATION_COMPONENT_TYPE.SLIDER,values:{current:r.state.linearDistFilter,max:10,min:1}},{name:"Top N Predictions to Show",onChange:r.onNumPredictionsToShowChange(),type:l.CONFIGURATION_COMPONENT_TYPE.SLIDER,values:{current:r.state.numPredictionsToShow,max:r.props.data.couplingScores.chainLength,min:1}}]},r}return o(n,e),n.prototype.componentDidMount=function(){this.setupData(!0)},n.prototype.componentDidUpdate=function(e,t){var n=this.props.data,r=this.state,o=r.linearDistFilter,a=r.numPredictionsToShow;(n.couplingScores!==e.data.couplingScores||o!==t.linearDistFilter||a!==t.numPredictionsToShow)&&this.setupData(n.couplingScores!==e.data.couplingScores)},n.prototype.render=function(){var e=this.props,t=e.data,n=e.style,r=i(e,["data","style"]),o=this.state.pointsToPlot;return s.createElement("div",{className:"PredictedContactMapComponent",style:n},s.createElement(c.ContactMap,a({configurations:this.getContactMapConfigs(),data:{couplingScores:t.couplingScores,pdbData:t.pdbData,secondaryStructures:t.pdbData&&t.pdbData.known?t.pdbData.known.secondaryStructureSections:[]},formattedPoints:o},r)))},n.prototype.setupData=function(e){var t=this.props,n=t.correctColor,r=t.data,o=t.incorrectColor,a=this.state,i=a.linearDistFilter,s=a.numPredictionsToShow,u=new l.CouplingContainer,d=r.pdbData;d?d.known?u=d.known.contactInformation:d.predicted&&(u=d.predicted.contactInformation):u=new l.CouplingContainer(r.couplingScores.rankedContacts);var p=u.chainLength,f=u.getPredictedContacts(s,i),h=(f.correct.length/f.predicted.length*100).toFixed(1),m=[c.generateChartDataEntry("text",o,"Predicted Contact","(N="+s+", L="+p+")",4,f.predicted,{text:f.predicted.map(function(e){var t=r.couplingScores.getCouplingScore(e.i,e.j);return t&&t.A_i&&t.A_j?"("+e.i+t.A_i+", "+e.j+t.A_j+")":"("+e.i+", "+e.j+")"})}),c.generateChartDataEntry("text",n,"Correct Prediction","(N="+f.correct.length+", "+h+"%)",6,f.correct,{text:f.correct.map(function(e){var t=r.couplingScores.getCouplingScore(e.i,e.j);return t&&t.A_i&&t.A_j?"("+e.i+t.A_i+", "+e.j+t.A_j+")":"("+e.i+", "+e.j+")"})})];this.setState({numPredictionsToShow:e?Math.floor(p/2):s,pointsToPlot:m})},n.defaultProps={correctColor:"#ff0000",data:{couplingScores:new l.CouplingContainer,secondaryStructures:new Array},height:"100%",incorrectColor:"#000000",isDataLoading:!1,width:"100%"},n}(s.Component);t.PredictedContactMap=u},"./src/component/TensorTComponent.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),s=n("./src/component/index.ts"),c=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){var e=this.props.pointsToPlot;return i.createElement(s.PlotlyChart,{data:e,layout:a({},s.defaultPlotlyLayout,{dragmode:"select",margin:{b:20},xaxis:{autorange:!1,range:[0,1],showline:!0},yaxis:{autorange:!1,range:[0,1],showline:!0}}),onSelectedCallback:this.props.onSelectedCallback})},t.defaultProps={pointsToPlot:[],style:{padding:0}},t}(i.Component);t.TensorTComponent=function(e){return i.createElement(c,a({},e))}},"./src/component/VizSelectorPanel.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),i=n("./node_modules/semantic-ui-react/dist/es/index.js"),s=n("./src/component/index.ts"),c=n("./src/container/index.ts"),l=n("./src/data/index.ts"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.onVizSelect=function(e,t){n.setState({selectedViz:t.value})},n.generateDropdownItems=function(e){return e.map(function(e){return{key:e,text:e,value:e}}).sort(function(e,t){return e.key.localeCompare(t.key)})},n.state={selectedViz:t.initialViz},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.supportedVisualizations,r=e.width;return a.createElement("div",{className:"VizSelectorPanel",style:{width:r}},a.createElement(i.Dropdown,{options:this.generateDropdownItems(n),fluid:!0,onChange:this.onVizSelect,defaultValue:this.props.initialViz}),a.createElement(i.Card,{fluid:!0,raised:!0},this.renderVizContainer(this.state.selectedViz,t)))},t.prototype.renderVizContainer=function(e,t){var n=this.props.padding,r=this.props.height-2*n,o=this.props.width-2*n;switch(e){case l.VIZ_TYPE["T-SNE"]:case l.VIZ_TYPE["TENSOR-T-SNE"]:return t["TENSOR-T-SNE"]&&a.createElement(c.TensorTContainer,{style:{padding:n}});case l.VIZ_TYPE.SPRING:return a.createElement(c.SpringContainer,{padding:n});case l.VIZ_TYPE.NGL:return t.NGL&&a.createElement(s.NGLComponent,{height:r,style:{padding:n},width:o});case l.VIZ_TYPE.CONTACT_MAP:return t["Contact Map"]&&a.createElement(s.PredictedContactMap,{data:t["Contact Map"],height:r,style:{padding:n},width:o});case l.VIZ_TYPE.INFO_PANEL:return a.createElement(c.InfoPanelContainer,{data:t["Contact Map"],height:400,width:400});default:throw new Error("Unknown viz: "+e)}},t.defaultProps={data:new Object,height:450,initialViz:l.VIZ_TYPE["T-SNE"],padding:15,supportedVisualizations:[],width:450},t}(a.Component);t.VizSelectorPanel=u},"./src/component/chart/AuxiliaryAxis.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,n,o,a,i){void 0===t&&(t=2),void 0===n&&(n="black"),void 0===i&&(i=function(){return!1});var s=this;this.sections=e,this.axisIndex=t,this.defaultColor=n,this.colorMap=o,this.dataTransformFn=a,this.filterFn=i,this.axes=new Map,this.highlightedAxes=new Map,this.generateXAxisSegment=function(e){return r({},s.auxiliaryAxisDefaults(e),{orientation:"h",xaxis:"x",yaxis:"y"+s.axisIndex})},this.generateHighlightedXAxisSegment=function(e){return r({},s.highlightedAuxiliaryAxisDefaults(e),{orientation:"h",xaxis:"x",yaxis:"y"+s.axisIndex})},this.generateYAxisSegment=function(e){return r({},s.auxiliaryAxisDefaults(e),{orientation:"v",xaxis:"x"+s.axisIndex,yaxis:"y"})},this.generateHighlightedYAxisSegment=function(e){return r({},s.highlightedAuxiliaryAxisDefaults(e),{orientation:"v",xaxis:"x"+s.axisIndex,yaxis:"y"})},this.auxiliaryAxisDefaults=function(e){return{connectgaps:!1,hoverinfo:"none",line:{color:s.colorMap&&s.colorMap[e]?s.colorMap[e]:s.defaultColor,shape:"spline",smoothing:1.3,width:1.5},marker:{symbol:[]},mode:"lines",name:e,showlegend:!1,type:"scatter",x:[],y:[]}},this.highlightedAuxiliaryAxisDefaults=function(e){return r({},s.auxiliaryAxisDefaults(e),{fill:"toself",line:{color:s.colorMap&&s.colorMap[e]?s.colorMap[e]:s.defaultColor,width:0}})},this.derivePointsInAxis=function(e){for(var t={main:[e.start],opposite:[null]},n=e.start;n<=e.end;++n){var r=s.dataTransformFn&&s.dataTransformFn[e.label]?s.dataTransformFn[e.label](e,n):{main:n,opposite:-1};t.main.push(r.main),t.opposite.push(r.opposite)}return t.main.push(e.end),t.opposite.push(null),t},this.deriveHighlightedPointsInAxis=function(e){var t={main:[e.start],opposite:[null]};return t.main.push(e.start),t.opposite.push(-1),t.main.push(e.start),t.opposite.push(1),t.main.push(e.end),t.opposite.push(1),t.main.push(e.end),t.opposite.push(-1),t.main.push(e.end),t.opposite.push(null),t},this.setupAuxiliaryAxis()}return Object.defineProperty(e.prototype,"axis",{get:function(){return this.axes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xAxes",{get:function(){var e=new Array;return this.axes.forEach(function(t){e.push(t.x)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlightedXAxes",{get:function(){var e=new Array;return this.highlightedAxes.forEach(function(t){e.push(t.x)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxes",{get:function(){var e=new Array;return this.axes.forEach(function(t){e.push(t.y)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlightedYAxes",{get:function(){var e=new Array;return this.highlightedAxes.forEach(function(t){e.push(t.y)}),e},enumerable:!0,configurable:!0}),e.prototype.getAxisById=function(e){return this.axes.get(e)},e.prototype.setupAuxiliaryAxis=function(){var e,t,n,r,a,s,c,l,u,d;try{for(var p=o(this.sections),f=p.next();!f.done;f=p.next()){var h=f.value;if(!this.filterFn(h)){var m=h.label;this.axes.has(m)||this.axes.set(m,{x:this.generateXAxisSegment(m),y:this.generateYAxisSegment(m)}),this.highlightedAxes.has(m)||this.highlightedAxes.set(m,{x:this.generateHighlightedXAxisSegment(m),y:this.generateHighlightedYAxisSegment(m)});var y=this.axes.get(m),g=this.highlightedAxes.get(m);if(y&&g){var v=this.derivePointsInAxis(h);(n=y.x.x).push.apply(n,i(v.main)),(r=y.x.y).push.apply(r,i(v.opposite)),(a=y.y.y).push.apply(a,i(v.main)),(s=y.y.x).push.apply(s,i(v.opposite));var _=this.deriveHighlightedPointsInAxis(h);(c=g.x.x).push.apply(c,i(_.main)),(l=g.x.y).push.apply(l,i(_.opposite)),(u=g.y.y).push.apply(u,i(_.main)),(d=g.y.x).push.apply(d,i(_.opposite))}}}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}},e}();t.AuxiliaryAxis=s},"./src/component/chart/ContactMapChart.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},c=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/react/index.js"),u=(n("./node_modules/semantic-ui-react/dist/es/index.js"),n("./src/component/index.ts")),d=n("./src/helper/index.ts");t.generateChartDataEntry=function(e,t,n,r,o,i,s){return void 0===s&&(s={}),a({hoverinfo:e,marker:"string"==typeof t?{color:new Array(2*i.length).fill(t)}:{colorscale:[[0,"rgb(12,50,102)"],[.1,"rgb(17,83,150)"],[.2,"rgb(40,114,175)"],[.3,"rgb(71,147,193)"],[.4,"rgb(111,175,209)"],[.5,"rgb(160,202,222)"],[.6,"rgb(200,219,237)"],[.7,"rgb(224,235,246)"],[.8,"rgb(247,251,255)"],[.9,"rgb(249,253,255)"],[1,"rgb(255,255,255)"]]},mode:"lines+markers",name:n,nodeSize:o,points:i,subtitle:r},s)};var p=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleLegendVisibility=function(){n.setState({showlegend:!n.state.showlegend})},n.state={numLegends:0,plotlyData:[],showlegend:!1},n}return o(t,e),t.prototype.componentDidMount=function(){this.setupData()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.contactData,r=t.secondaryStructures,o=t.selectedSecondaryStructures;e.contactData===n&&e.secondaryStructures===r&&e.selectedSecondaryStructures===o||this.setupData()},t.prototype.render=function(){var e=this.props,t=(e.configurations,e.contactData,e.legendModifiers),n=e.marginModifiers,r=(e.range,e.showConfigurations,i(e,["configurations","contactData","legendModifiers","marginModifiers","range","showConfigurations"])),o=this.state,s=o.plotlyData,c=o.showlegend;return l.createElement(u.PlotlyChart,a({data:s,layout:{legend:{orientation:"h",y:t.y,yanchor:"bottom"},margin:{b:n.b,l:n.l},showlegend:c,xaxis:{autorange:!0,fixedrange:!0,nticks:10,range:[0,33e3],rangemode:"nonnegative",showline:!0,tickmode:"auto",title:"Residue #"},yaxis:{autorange:"reversed",fixedrange:!0,nticks:10,range:[0,33e3],rangemode:"nonnegative",showline:!0,tickmode:"auto",title:"Residue #"}}},r))},t.prototype.setupData=function(){var e=this.props,t=e.contactData,n=e.dataTransformFn,r=e.secondaryStructures,o=e.selectedSecondaryStructures,a=c(t.map(function(e){return n(e,!0)}));r.forEach(function(e,t){var n=new u.SecondaryStructureAxis(e,3,t+2);a.push.apply(a,c(n.xAxes,n.yAxes))});var i=new Array;o.forEach(function(e,t){var n=new u.AuxiliaryAxis(e,t+2,"orange");i.push.apply(i,c(n.highlightedXAxes,n.highlightedYAxes))}),this.setState({numLegends:new Set(a.filter(function(e){return!1!==e.showlegend&&void 0!==e.name}).map(function(e){return e.name})).size,plotlyData:c(i,a)})},t.defaultProps={candidateResidues:new Array,configurations:new Array,dataTransformFn:d.generateScatterGLData,height:"100%",legendModifiers:{y:-.4},marginModifiers:{b:65,l:65},range:100,secondaryStructures:[],selectedSecondaryStructures:[],selectedSecondaryStructuresColor:"#feb83f",showConfigurations:!0,width:"100%"},t}(l.Component);t.ContactMapChart=p},"./src/component/chart/PlotlyChart.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var d=n("./node_modules/immutable/dist/immutable.js"),p=n("./node_modules/lodash/lodash.js"),f=n("./node_modules/plotly.js-gl2d-dist/plotly-gl2d.js"),h=n("./node_modules/react/index.js"),m=n("./node_modules/semantic-ui-react/dist/es/index.js"),y=n("./src/data/index.ts");t.defaultPlotlyConfig={displayModeBar:!1,doubleClick:"reset",scrollZoom:!0,showAxisDragHandles:!1,staticPlot:!1},t.defaultPlotlyLayout={autosize:!0,dragmode:"zoom",hovermode:"closest",legend:{},margin:{b:10,l:40,r:10,t:10},showlegend:!1,title:""};var g=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.plotlyCanvas=null,n.isDoubleClickInProgress=!1,n.canvasRef=null,n.plotlyFormattedData=[],n.resize=function(){n.plotlyCanvas&&f.Plots.resize(n.plotlyCanvas)},n.draw=function(){return i(n,void 0,void 0,function(){var e,t,n,r,o,a;return s(this,function(i){switch(i.label){case 0:return e=this.props,t=e.config,n=e.layout,this.plotlyCanvas&&this.canvasRef?(r=this.getMergedLayout(n,this.plotlyFormattedData),o=this.getMergedConfig(t),a=this,[4,f.react(this.canvasRef,this.plotlyFormattedData,r,o)]):[3,2];case 1:a.plotlyCanvas=i.sent(),i.label=2;case 2:return[2]}})})},n.deriveChartPiece=function(e,t,n){var r=e,o=t;if(n){var a=n.xaxis&&"x"!==n.xaxis,i=n.yaxis&&"y"!==n.yaxis;if(a||i)return{chartPiece:y.CHELL_CHART_PIECE.AXIS,selectedPoints:a?[o]:[r]}}return{chartPiece:y.CHELL_CHART_PIECE.POINT,selectedPoints:[r,o]}},n.generateExtraPlotlyAxis=function(e){return Array.from(e.values()).filter(function(e){return e.length>=2}).map(function(e){return n.generateExtraPlotlyAxisFromId(e)}).reduce(function(e,t){return a({},e,t)},{})},n.getMergedConfig=function(e){void 0===e&&(e={});var n=d.fromJS(a({},t.defaultPlotlyConfig)),r=d.fromJS(a({},e));return a({},n.mergeDeep(r).toJS())},n.getMergedLayout=function(e,r){void 0===e&&(e={}),void 0===r&&(r=[]);var o=d.fromJS(a({},e)),i=d.fromJS(a({},t.defaultPlotlyLayout,n.deriveAxisParams(r))),s=a({},i.mergeDeep(o).toJS());return n.savedAxisZoom&&s.xaxis&&s.yaxis&&(s.xaxis.range=n.savedAxisZoom.xaxis.range,s.yaxis.range=n.savedAxisZoom.yaxis.range),s},n.onAfterPlot=function(){var e=n.props.onAfterPlotCallback;e&&e(new y.ChellChartEvent(y.CHELL_CHART_EVENT_TYPE.AFTER_PLOT))},n.onClick=function(e){if(!1===n.isDoubleClickInProgress&&void 0!==e.points&&e.points.length>0){var t=n.props.onClickCallback;if(t){var r=e.points[0].x?e.points[0].x:e.points[0].data.x[0],o=e.points[0].y?e.points[0].y:e.points[0].data.y[0],a=n.deriveChartPiece(r,o,e.points[0].data),i=a.chartPiece,s=a.selectedPoints;t(new y.ChellChartEvent(y.CHELL_CHART_EVENT_TYPE.CLICK,i,s))}}},n.onDoubleClick=function(){n.isDoubleClickInProgress=!0;var e=n.props.onDoubleClickCallback;e&&e(new y.ChellChartEvent(y.CHELL_CHART_EVENT_TYPE.DOUBLE_CLICK))},n.onHover=function(e){var t=n.props.onHoverCallback;if(e.points&&e.points[0]&&t){var r=e.points[0].x?e.points[0].x:e.points[0].data.x[0],o=e.points[0].y?e.points[0].y:e.points[0].data.y[0],a=n.deriveChartPiece(r,o,e.points[0].data),i=a.chartPiece,s=a.selectedPoints;t(new y.ChellChartEvent(y.CHELL_CHART_EVENT_TYPE.HOVER,i,s))}},n.onRelayout=function(e){n.isDoubleClickInProgress=!1;var t=["xaxis.range[0]","xaxis.range[1]","yaxis.range[0]","yaxis.range[1]"],r=void 0!==e&&!0===t.reduce(function(t,n){return t&&void 0!==e[n]},!0);n.savedAxisZoom=r?{xaxis:{autorange:!1,range:[e[t[0]],e[t[1]]]},yaxis:{autorange:!1,range:[e[t[2]],e[t[3]]]}}:void 0;var o=n.props.onRelayoutCallback;o&&o(new y.ChellChartEvent(y.CHELL_CHART_EVENT_TYPE.RELAYOUT))},n.onSelect=function(e){return i(n,void 0,void 0,function(){var t,n,r;return s(this,function(o){switch(o.label){case 0:return t=this.props.onSelectedCallback,e&&t&&(n=new Array,e.points.length>=1?n=e.points.reduce(function(e,t){return e.push.apply(e,l([t.x,t.y])),e},n):e.range&&n.push(e.range.x[0],e.range.y[0],e.range.x[1],e.range.y[1]),r=(n.length>0?this.deriveChartPiece(n[0],n[1]):{chartPiece:y.CHELL_CHART_PIECE.POINT}).chartPiece,t(new y.ChellChartEvent(y.CHELL_CHART_EVENT_TYPE.SELECTION,r,n,e))),[4,this.draw()];case 1:return o.sent(),[2]}})})},n.onUnHover=function(e){var t=n.props.onUnHoverCallback;if(e&&t){var r=e.points[0],o=r.data,a=r.x,i=r.y,s=n.deriveChartPiece(a,i,o),c=s.chartPiece,l=s.selectedPoints;t(new y.ChellChartEvent(y.CHELL_CHART_EVENT_TYPE.UNHOVER,c,l))}},n}return o(n,e),n.prototype.attachListeners=function(){this.plotlyCanvas&&(this.plotlyCanvas.on("plotly_afterplot",this.onAfterPlot),this.plotlyCanvas.on("plotly_click",this.onClick),this.plotlyCanvas.on("plotly_doubleclick",this.onDoubleClick),this.plotlyCanvas.on("plotly_hover",this.onHover),this.plotlyCanvas.on("plotly_relayout",this.onRelayout),this.plotlyCanvas.on("plotly_selected",this.onSelect),this.plotlyCanvas.on("plotly_unhover",this.onUnHover)),window.removeEventListener("resize",this.resize),window.addEventListener("resize",this.resize)},n.prototype.componentDidUpdate=function(e){return i(this,void 0,void 0,function(){var t,n,r,o;return s(this,function(a){switch(a.label){case 0:return t=this.props,n=t.data,r=t.layout,o=t.config,p.isEqual(n,e.data)&&p.isEqual(r,e.layout)&&p.isEqual(o,e.config)?[3,2]:(this.plotlyFormattedData=p.isEqual(n,e.data)?this.plotlyFormattedData:d.fromJS(n).toJS(),[4,this.draw()]);case 1:a.sent(),a.label=2;case 2:return[2]}})})},n.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t,n;return s(this,function(r){switch(r.label){case 0:return!this.canvasRef||this.plotlyCanvas?[3,3]:(e=this.props.data,t=d.fromJS(e),this.plotlyFormattedData=t.toJS(),n=this,[4,f.react(this.canvasRef,this.plotlyFormattedData)]);case 1:return n.plotlyCanvas=r.sent(),this.attachListeners(),[4,this.draw()];case 2:r.sent(),r.label=3;case 3:return[2]}})})},n.prototype.componentWillUnmount=function(){this.renderTimeout&&clearTimeout(this.renderTimeout),this.plotlyCanvas&&(f.purge(this.plotlyCanvas),this.plotlyCanvas=null,this.canvasRef=null),window.removeEventListener("resize",this.resize)},n.prototype.render=function(){var e=this,t=this.props,n=t.height,r=t.showLoader,o=t.style,i=t.width;return h.createElement(h.Fragment,null,r&&h.createElement(m.Dimmer,{active:!this.isDataLoaded()},h.createElement(m.Loader,null)),h.createElement("div",{className:"plotly-chart",ref:function(t){return e.canvasRef=t||null},style:a({marginBottom:5},o,{height:n,width:i})}))},n.prototype.generateExtraPlotlyAxisFromId=function(e){var t,n=e.substr(0,1),r=Number.parseInt(e.substr(1),10);return(t={})[n+"axis"+r]={domain:[1-.05*(r-1),1-.05*(r-2)],visible:!1},t},n.prototype.deriveAxisParams=function(e){var t,n,r=new Set,o=new Set;try{for(var i=u(e),s=i.next();!s.done;s=i.next()){var c=s.value,l=c.xaxis,d=c.yaxis;l&&r.add(l),d&&o.add(d)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a({},this.generateExtraPlotlyAxis(r),this.generateExtraPlotlyAxis(o),{xaxis:{domain:[0,1-.05*r.size],range:[30],zeroline:!1},yaxis:{domain:[0,1-.05*r.size],range:[30],zeroline:!1}})},n.prototype.isDataLoaded=function(){return this.props.data.length>0||this.plotlyFormattedData.filter(function(e){return e.x&&e.x.length>=1}).length>0},n.defaultProps={config:{},data:[],height:"100%",layout:{},showLoader:!0,width:"100%"},n}(h.Component);t.PlotlyChart=g},"./src/component/chart/SecondaryStructureAxis.ts":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(n,r,o,a,i,s,c){void 0===r&&(r=3),void 0===o&&(o=2),void 0===a&&(a="black"),void 0===i&&(i={C:"red",E:"green",H:"blue"}),void 0===s&&(s={C:t.centerSectionPositionFn,E:t.centerSectionPositionFn,H:function(e,t){return{main:t,opposite:Math.sin(t)}}}),void 0===c&&(c=function(e){return e.length<=r});var l=e.call(this,n,o,a,i,s,c)||this;return l.sections=n,l.minimumRequiredResidues=r,l.axisIndex=o,l.defaultColor=a,l.colorMap=i,l.dataTransformFn=s,l.filterFn=c,l}return o(t,e),t.prototype.setupAuxiliaryAxis=function(){e.prototype.setupAuxiliaryAxis.call(this);var t=this.getAxisById("E");if(t&&t.x.x&&t.x.y){for(var n={main:new Array(t.x.x.length).fill("line-ne"),opposite:new Array(t.x.x.length).fill("line-ne")},r=1;r<t.x.x.length-1;++r)null===t.x.y[r+1]&&(n.main[r]="triangle-right",n.opposite[r]="triangle-down");t.x=a({},t.x,this.generateBetaSheetStyle(t.x,n.main)),t.y=a({},t.y,this.generateBetaSheetStyle(t.y,n.opposite))}},t.prototype.generateBetaSheetStyle=function(e,t){return{line:a({},e.line,{width:5}),marker:a({},e.marker,{color:this.colorMap.E,size:10,symbol:t}),mode:"lines+markers"}},t.centerSectionPositionFn=function(e,t){return{main:t,opposite:0}},t}(n("./src/component/chart/index.ts").AuxiliaryAxis);t.SecondaryStructureAxis=i},"./src/component/chart/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/component/chart/PlotlyChart.tsx")),r(n("./src/component/chart/AuxiliaryAxis.ts")),r(n("./src/component/chart/ContactMapChart.tsx")),r(n("./src/component/chart/SecondaryStructureAxis.ts"))},"./src/component/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/component/chart/index.ts")),r(n("./src/component/widget/index.ts")),r(n("./src/component/ContactMap.tsx")),r(n("./src/component/FeatureViewer.tsx")),r(n("./src/container/InfoPanelContainer.tsx")),r(n("./src/component/NGLComponent.tsx")),r(n("./src/component/PredictedContactMap.tsx")),r(n("./src/component/TensorTComponent.tsx")),r(n("./src/component/VizSelectorPanel.tsx"))},"./src/component/widget/CategorySelector.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js"),c=n("./node_modules/semantic-ui-react/dist/es/index.js"),l=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){return this.props.categories&&s.createElement(c.Dropdown,{fluid:!0,onChange:this.props.onCategoryChange,options:i(this.props.categories.map(function(e){return{key:e,text:e,value:e}})),placeholder:"Select Category",search:!0})},t.defaultProps={categories:[]},t}(s.Component);t.CategorySelector=l},"./src/component/widget/ChellRadioGroup.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),i=n("./node_modules/semantic-ui-react/dist/es/index.js"),s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChange=function(e){return function(t,r){n.setState({selectedIndex:e}),n.props.onChange&&n.props.onChange(e)}},n.renderOptions=function(e,t,r,o){return a.createElement(i.Grid,{centered:!0,columns:2,padded:!0},t.map(function(t,s){return a.createElement(i.Grid.Column,{key:e+"-"+t},a.createElement(i.Form.Radio,{checked:n.state.selectedIndex===s,disabled:r,label:{children:t,style:o},name:t,onChange:n.handleChange(s),value:s}))}))},n.state={selectedIndex:0},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.id,r=e.options,o=e.style,i=e.title;return a.createElement("div",{style:o},a.createElement("div",{style:{fontStyle:"italic",fontWeight:"bold",textDecoration:"underline"}},i),this.renderOptions(n,r,t,o))},t.defaultProps={disabled:!1,style:{},title:"How to calculate distance between two residues:"},t}(a.Component);t.ChellRadioGroup=s},"./src/component/widget/ChellSlider.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/rc-slider/es/index.js"),c=n("./node_modules/react/index.js");n("./node_modules/rc-slider/assets/index.css");var l=n("./node_modules/semantic-ui-react/dist/es/index.js"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.onAfterChange=function(e){return function(t){e&&e(t),n.setState({value:t})}},n.onChange=function(e){return function(t){e&&e(t),n.setState({value:t})}},n.onReset=function(){n.onChange(n.props.onChange)(n.state.defaultValue)},n.state={defaultValue:t.defaultValue?t.defaultValue:t.value,value:t.value},n}return o(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.defaultValue,r=t.value;r&&r!==e.value&&this.setState({value:r});var o=n||r;-1===this.state.defaultValue&&o!==this.state.defaultValue&&this.setState({defaultValue:o})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.value,r=e.hideLabelValue,o=e.max,u=e.min,d=e.label,p=e.onAfterChange,f=e.onChange,h=e.style,m=i(e,["className","value","hideLabelValue","max","min","label","onAfterChange","onChange","style"]);return c.createElement(l.Grid,{columns:"equal",style:h,textAlign:"left"},c.createElement(l.Grid.Column,{className:t},!r&&c.createElement("p",null,d+": "+this.state.value),c.createElement(s.default,a({max:o,min:u,onAfterChange:this.onAfterChange(p),onChange:this.onChange(f),value:n},m))),c.createElement(l.Grid.Column,{verticalAlign:"middle",width:2},c.createElement(l.Button,{icon:"undo",onClick:this.onReset,size:"small"})))},t}(c.Component);t.ChellSlider=u},"./src/component/widget/ChellTooltip.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),i={backgroundColor:"rgba(0, 244, 0, 0.6)",color:"lightgrey",display:"block",fontFamily:"sans-serif",padding:"0.5em",pointerEvents:"none",position:"absolute",zIndex:10};t.initialTooltipState={show:!0,timer:void 0};var s=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialTooltipState,r}return o(n,e),n.prototype.componentDidUpdate=function(e){var t=this,n=e.timeout,r=void 0===n?0:n;if(!this.state.timer&&r>0){var o=setTimeout(function(){t.setState({show:!1})},r);this.setState({timer:o})}},n.prototype.componentWillUnmount=function(){var e=this.state.timer;e&&clearTimeout(e)},n.prototype.render=function(){var e=this.props,t=e.message,n=e.style,r=void 0===n?i:n;return this.state.show&&a.createElement("div",{style:r,className:"ChellTooltip"},t)},n}(a.Component);t.ChellTooltip=s},"./src/component/widget/ComponentCard.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),s=n("./node_modules/react-dom/index.js"),c=n("./node_modules/semantic-ui-react/dist/es/index.js"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.cardRef=null,n.renderTopMenu=function(e){return i.createElement(c.Menu,{secondary:!0,style:{margin:0,height:e}},i.createElement(c.Menu.Item,{position:"left",fitted:"horizontally",style:{margin:0}},i.createElement("img",{alt:"component icon",src:n.props.iconSrc,style:{height:"32px",padding:"2px",width:"32px"}}),n.props.componentName),i.createElement(c.Menu.Item,{position:"right",fitted:"horizontally",style:{margin:0}},i.createElement(c.Icon,{name:n.state.isFullPage?"compress":"expand arrows alternate",onClick:n.onFullPageToggle}),n.props.showSettings&&i.createElement(c.Icon,{name:"settings"})))},n.onFullPageToggle=function(){n.setState({isFullPage:!n.state.isFullPage})},n.state={framedStyle:{transformOrigin:"top left"},isFullPage:t.isFullPage},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.isFramedComponent&&(window.onresize=function(){e.props.isFramedComponent&&e.resizeFramedComponent()},this.resizeFramedComponent())},t.prototype.componentDidUpdate=function(e,t){var n=this.state.isFullPage;if(n!==t.isFullPage){this.resizeFramedComponent();var r=document.getElementById("chell-dimmed-background");n&&r?r.style.display="block":r&&(r.style.display="none")}},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.headerHeight,o=t.height,s=t.isFramedComponent,l=t.width,u=this.state,d=u.isFullPage,p=u.framedStyle,f=a({maxWidth:"unset",padding:"0 0 5px 5px"},d?a({},{bottom:0,height:"calc(100vmin)",left:0,padding:"5px",position:"fixed",right:0,width:"calc(100vmin)",zIndex:1e4}):{height:o,width:l});return i.createElement(c.Card,{centered:!0,className:"chell-component-card",ref:function(t){return e.cardRef=t},style:f},this.renderTopMenu(r),s?i.createElement("div",{style:p},n):n)},t.prototype.resizeFramedComponent=function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=e.headerHeight,o=this.state,i=o.framedStyle,c=o.isFullPage;if(this.cardRef){var l=s.findDOMNode(this.cardRef),u=l?window.getComputedStyle(l):null;if(u&&u.width&&u.height){document.body.style.overflowY=c?"hidden":"auto";var d=parseInt(u.height,10)-18,p=parseInt(u.width,10)-10;this.setState({framedStyle:a({},i,{transform:"scale(calc("+p+"/"+n+"),calc(("+d+" - "+r+")/"+t+"))"})})}}},t.defaultProps={frameHeight:0,frameWidth:0,headerHeight:32,height:"525px",iconSrc:"assets/icons/spring-icon.png",isFramedComponent:!1,isFullPage:!1,padding:0,showSettings:!1,width:"525px"},t}(i.Component);t.ComponentCard=l},"./src/component/widget/SettingsPanel.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),s=n("./node_modules/semantic-ui-react/dist/es/index.js"),c=n("./src/component/index.ts"),l=n("./src/data/index.ts"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.panel=null,n.onButtonClick=function(e){n.setState({visible:!n.state.visible})},n.renderSettingsButton=function(){return i.createElement(s.Button,{basic:!0,floated:"right",icon:"settings",onClick:n.onButtonClick})},n.state={visible:!1},n}return o(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this,r=this.state.visible;r&&t.visible!==r?window.addEventListener("click",function(e){if(n.panel){var t=n.panel.getBoundingClientRect(),r=e.x,o=e.y;r>=t.left&&r<=t.right&&o>=t.top&&o<=t.bottom||(n.hideSettingsPanel(),window.removeEventListener("click",n.hideSettingsPanel))}}):window.removeEventListener("click",function(e){return n.hideSettingsPanel})},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.configurations,o=t.inverted,a=t.opacity,c=t.showConfigurations,l=t.width,u=this.state.visible;return i.createElement("div",{ref:function(t){return e.panel=t||null}},i.createElement(s.Grid,{columns:1},c&&i.createElement(s.Grid.Column,null,this.renderSettingsButton()),i.createElement(s.Sidebar.Pushable,{style:{height:"100%",width:l}},i.createElement(s.Sidebar,{as:s.Menu,animation:"overlay",inverted:o,style:{opacity:a,width:l},vertical:!0,visible:u},this.renderConfigurations(r)),i.createElement(s.Sidebar.Pusher,null,n))))},t.prototype.renderConfigurations=function(e){var t=this;return i.createElement(s.Grid,{relaxed:!0,centered:!0,columns:1,padded:!0,stretched:!0,style:{height:"100%"}},e.map(function(e,n){var r=e.id?e.id:e.name.toLowerCase().split(" ").join("-")+"-"+n;return i.createElement(s.Grid.Row,{key:r,style:{padding:"10px"}},t.renderConfig(e,r))}))},t.prototype.renderConfig=function(e,t){switch(e.type){case l.CONFIGURATION_COMPONENT_TYPE.BUTTON:return this.renderConfigurationButton(e,t);case l.CONFIGURATION_COMPONENT_TYPE.LABEL:return this.renderConfigurationLabel(e,t);case l.CONFIGURATION_COMPONENT_TYPE.RADIO:return this.renderConfigurationRadioButton(e,t);case l.CONFIGURATION_COMPONENT_TYPE.SLIDER:return this.renderConfigurationSlider(e,t);default:return"configuration for "+t}},t.prototype.renderConfigurationButton=function(e,t){return i.createElement(s.Button,{compact:!0,id:t,onClick:e.onClick,style:a({},e.style,{color:"black"})},e.icon&&i.createElement(s.Icon,{name:e.icon}),e.name)},t.prototype.renderConfigurationLabel=function(e,t){return i.createElement(s.Label,{basic:!0,id:t,style:a({},e.style),color:"orange"},e.name)},t.prototype.renderConfigurationRadioButton=function(e,t){return i.createElement(c.ChellRadioGroup,{id:t,options:e.options,onChange:e.onChange,style:a({color:"white"},e.style),title:e.name})},t.prototype.renderConfigurationSlider=function(e,t){return i.createElement(c.ChellSlider,{className:t,label:e.name,max:e.values.max,min:e.values.min,onAfterChange:e.onAfterChange,onChange:e.onChange,style:a({color:"white",padding:"0 25px",width:"95%"},e.style),value:e.values.current})},t.prototype.hideSettingsPanel=function(){this.setState({visible:!1})},t.defaultProps={configurations:new Array,direction:"left",inverted:!0,opacity:.6,showConfigurations:!0,width:"100%"},t}(i.Component);t.SettingsPanel=u},"./src/component/widget/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/component/widget/CategorySelector.tsx")),r(n("./src/component/widget/ChellRadioGroup.tsx")),r(n("./src/component/widget/ChellSlider.tsx")),r(n("./src/component/widget/ChellTooltip.tsx")),r(n("./src/component/widget/ComponentCard.tsx")),r(n("./src/component/widget/SettingsPanel.tsx"))},"./src/container/AnatomogramContainer.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/anatomogram/lib/index.js"),s=n("./node_modules/immutable/dist/immutable.js"),c=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/redux/es/redux.js"),d=n("./src/action/index.ts"),p=n("./src/component/index.ts"),f=n("./src/container/index.ts"),h=n("./src/data/index.ts"),m=n("./src/helper/index.ts"),y=n("./src/reducer/index.ts"),g=n("./src/selector/index.ts"),v=function(e){function t(t){var n=e.call(this,t)||this;return n.divRef=null,n.svgIntervalTimer=null,n.onClick=function(e){var t=e[0],r=n.props,o=r.addLabel,a=r.removeLabel;r.selectIds.includes(t)?a(t):o(t)},n.deriveIdsFromSpecies=function(e){return Object.keys(h.AnatomogramMapping[e])},n.onMouseOut=function(e){},n.onMouseOver=function(e){},n.parseCategory=function(e){return e.split(/-|_/)[0]},n.resizeSVGElement=function(){if(n.divRef){var e=n.divRef.getElementsByTagName("svg");if(e.length>=1){var t=e[0],r=t.height.baseVal.value>t.width.baseVal.value;t.style.height=r?"calc("+n.divRef.style.height+" - 50px)":"auto",t.style.padding="0",t.style.width=r?"auto":"calc("+n.divRef.style.width+" - 75px)"}}},n.state={ids:n.deriveIdsFromSpecies(t.species)},n}return o(t,e),t.prototype.setupDataServices=function(){var e=this;this.registerDataset("cells",[]),this.registerDataset("labels",[]),y.ChellMiddlewareTransformer.addTransform({fn:function(t){var n=h.AnatomogramMapping[e.props.species],r=s.Set();e.props.selectIds.forEach(function(e){r=e&&n[e]?r.merge(n[e]):r});var o=s.Set(),a=f.ChellVisualization.getActiveChellHooks().springGraphData;a&&a().nodes.forEach(function(e){r.forEach(function(t){t&&Object.values(e.labelForCategory).includes(t)&&(o=o.add(e.number))})});return o},fromState:"chell/labels",toState:"chell/cells"}),y.ChellMiddlewareTransformer.addTransform({fn:function(e){var t,n,r,o,i,c,l=g.selectCurrentItems(e,"cells").toArray(),u=g.getSpring(e),d=u.category,p=u.graphData,f=g.getSpecies(e),m=s.Set();try{for(var y=a(l),v=y.next();!v.done;v=y.next()){var _=v.value,C=p.nodes[_]?p.nodes[_].labelForCategory:{},b=h.AnatomogramMapping[f][C[d]];b&&b.forEach(function(e){return m=m.add(e)});try{for(var S=a(Object.keys(h.AnatomogramMapping[f])),x=S.next();!x.done;x=S.next()){var P=x.value;try{for(var w=a(Object.values(C)),E=w.next();!E.done;E=w.next()){var A=E.value;h.AnatomogramMapping[f][P].includes(A)&&(m=m.add(P))}}catch(e){i={error:e}}finally{try{E&&!E.done&&(c=w.return)&&c.call(w)}finally{if(i)throw i.error}}}}catch(e){r={error:e}}finally{try{x&&!x.done&&(o=S.return)&&o.call(S)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{v&&!v.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}return m},fromState:{stateName:"cells"},toState:{stateName:"labels"}})},t.prototype.componentDidMount=function(){this.svgIntervalTimer=window.setInterval(this.resizeSVGElement,1e3/60)},t.prototype.componentWillUnmount=function(){this.svgIntervalTimer&&(clearInterval(this.svgIntervalTimer),this.svgIntervalTimer=null)},t.prototype.componentDidUpdate=function(e){var t=this.props.species;t!==e.species&&this.setState({ids:this.deriveIdsFromSpecies(t)}),this.resizeSVGElement()},t.prototype.render=function(){var e=this,t=this.props,n=t.species,r=t.selectIds,o=this.state.ids;return c.createElement("div",{className:"anatomogram-container",ref:function(t){t&&(e.divRef=t.getElementsByTagName("div")[0])}},c.createElement(p.ComponentCard,{componentName:"Anatomogram"},c.createElement(i.default,{atlasUrl:"",highlightColour:"yellow",onClick:this.onClick,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver,selectColour:"ffaa00",selectIds:r.toArray(),showIds:o,species:n,selectedView:"mus_musculus"===n?"female":"male"})))},t.defaultProps={addLabel:m.EMPTY_FUNCTION,removeLabel:m.EMPTY_FUNCTION,selectIds:s.Set()},t.displayName="Anatomogram",t}(f.ChellVisualization);t.AnatomogramContainerClass=v;t.AnatomogramContainer=l.connect(function(e){return{selectIds:g.selectCurrentItems(e,"labels"),species:g.getSpecies(e)}},function(e){return u.bindActionCreators({addLabel:d.createContainerActions("labels").add,removeLabel:d.createContainerActions("labels").remove},e)})(v)},"./src/container/ChellVisualization.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/immutable/dist/immutable.js"),s=n("./node_modules/react/index.js"),c=n("./node_modules/util/util.js"),l=n("./src/data/index.ts"),u=n("./src/reducer/index.ts"),d=function(e){function t(n){var r=e.call(this,n)||this;return r.chellHooks={},r.datasets=i.Set(),r.loadingStatus=2,t.activeChellVisualizations=t.activeChellVisualizations.add(r),r.setupDataServices(),r}return o(t,e),t.prototype.componentWillUnmount=function(){this.teardown()},t.prototype.addChellHook=function(e,t){this.chellHooks[e]=t},t.prototype.registerDataset=function(e,t,n){void 0===n&&(n="chell"),this.datasets=this.datasets.add(new l.Dataset(e,n)),this.createReducer(e,t,n)},t.prototype.finishLoading=function(){this.loadingStatus=3},t.prototype.getDatasets=function(){return this.datasets},t.prototype.getComponentChellHooks=function(){return this.chellHooks},t.prototype.getLoadingStatus=function(){return this.loadingStatus},t.prototype.teardown=function(){t.activeChellVisualizations=t.activeChellVisualizations.remove(this)},t.prototype.createReducer=function(e,t,n){void 0===n&&(n="chell"),c.isArray(t)?u.createContainerReducer(e,n):"object"==typeof t?u.createObjectReducer(e,n):void 0===t?u.createDataReducer(e,n):u.createValueReducer(e,n)},t.getActiveChellVisualizations=function(){return t.activeChellVisualizations},t.getActiveChellHooks=function(){var e={};return t.activeChellVisualizations.forEach(function(t){t&&(e=a({},e,t.chellHooks))}),e},t.getActiveDatasets=function(){var e=i.Set();return t.activeChellVisualizations.forEach(function(t){t&&(e=e.merge(t.datasets))}),e},t.activeChellVisualizations=i.Set(),t}(s.Component);t.ChellVisualization=d},"./src/container/InfoPanelContainer.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),s=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/semantic-ui-react/dist/es/index.js"),l=n("./src/data/index.ts"),u=n("./src/selector/index.ts"),d=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.data,r=t.height,o=t.lockedResiduePairs,a=t.selectedSecondaryStructures,s=t.width,l=n.pdbData,u=l&&l.known?this.renderUnassignedResidues(l.known):[i.createElement(c.Label,{key:"unassigned-residues-none"})];return i.createElement("div",{className:"InfoPanel",style:{height:r,width:s}},i.createElement(c.Accordion,{exclusive:!1,panels:[l&&l.known&&l.known.secondaryStructureSections.map(function(t){return{content:e.renderSecondaryStructures(t),key:"all-secondary-structures",title:"All Secondary Structures ("+(l.known?l.known.secondaryStructureSections.length:0)+"):"}}),{content:u,key:"unassigned-residues",title:"Unassigned Residues ("+u.length+"):"},{content:this.renderSecondaryStructures(a),key:"selected-secondary-structures",title:"Selected Secondary Structures ("+a.length+"):"},{content:this.renderLockedResiduePairs(o),key:"selected-residue-pairs",title:"Selected Residue Pairs ("+o.size+"):"}]}))},t.prototype.renderLockedResiduePairs=function(e){return 0===Object.keys(e).length?[i.createElement(c.Label,{key:"locked-residue-pair-none"},"None")]:Array.from(Object.values(e)).map(function(e,t){return i.createElement(c.Label,{key:"locked-residue-pair-"+t},e.join(", "))})},t.prototype.renderSecondaryStructures=function(e){return 0===e.length?[i.createElement(c.Label,{key:"sec-struct-none"},"None")]:e.map(function(e,t){return i.createElement(c.Label,{key:"sec-struct-"+t},"["+e.start+"-"+e.end+"]: "+e.label+" - "+l.SECONDARY_STRUCTURE_CODES[e.label])})},t.prototype.renderUnassignedResidues=function(e){var t=new Array;return e.eachResidue(function(n){var r,o,s,l;if(n.isProtein()){var u=!0;try{for(var d=a(e.secondaryStructureSections),p=d.next();!p.done;p=d.next()){var f=p.value;try{for(var h=a(f),m=h.next();!m.done;m=h.next()){if(m.value.contains(n.resno)){u=!1;break}}}catch(e){s={error:e}}finally{try{m&&!m.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}u&&t.push(i.createElement(c.Label,{key:"unassigned-residue-"+n.resno},"["+n.resno+": isCg? "+n.isCg()+",               isDna? "+n.isDna()+",               isHelix? "+n.isHelix()+",               isNucleic? "+n.isNucleic()+",               isProtein? "+n.isProtein()+",               isPolymer? "+n.isPolymer()+",               isSaccharide? "+n.isSaccharide()+",               isSheet? "+n.isSheet()+",              isTurn? "+n.isTurn(),"}"))}}),t},t.defaultProps={data:{couplingScores:new l.CouplingContainer,pdbData:{},secondaryStructures:new Array},height:400,lockedResiduePairs:{},selectedSecondaryStructures:[],width:400},t}(i.Component);t.InfoPanelContainerClass=d;t.InfoPanelContainer=s.connect(function(e){return{lockedResiduePairs:u.getLocked(e).toJS(),selectedSecondaryStructures:u.selectCurrentItems(e,"secondaryStructure/selected").toArray()}})(d)},"./src/container/NGLContainer.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/redux/es/redux.js"),u=n("./src/action/ResiduePairAction.ts"),d=n("./src/component/index.ts"),p=n("./src/container/index.ts"),f=n("./src/data/index.ts"),h=n("./src/helper/index.ts"),m=n("./src/reducer/index.ts"),y=n("./src/selector/index.ts"),g=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.setupDataServices=function(){m.createContainerReducer("secondaryStructure/hovered"),m.createContainerReducer("secondaryStructure/selected"),m.createDataReducer("pdb"),m.createResiduePairReducer()},t.prototype.render=function(){var e=this.props,t=e.lockedResiduePairs,n=i(e,["lockedResiduePairs"]);return s.createElement(d.NGLComponent,a({lockedResiduePairs:t.toJS()},n))},t.defaultProps={data:f.ChellPDB.createEmptyPDB(),dispatchNglFetch:h.EMPTY_FUNCTION,isDataLoading:!1,measuredProximity:f.CONTACT_DISTANCE_PROXIMITY.C_ALPHA,showConfigurations:!0},t}(p.ChellVisualization);t.NGLContainerClass=g;t.NGLContainer=c.connect(function(e,t){return{candidateResidues:y.getCandidates(e).toArray(),data:y.selectCurrentValue(e,"pdb")?y.selectCurrentValue(e,"pdb"):t.data,hoveredResidues:y.getHovered(e).toArray(),hoveredSecondaryStructures:y.selectCurrentItems(e,"secondaryStructure/hovered").toArray(),lockedResiduePairs:y.getLocked(e),removeNonLockedResidues:function(){var e=u.createResiduePairActions(),t=e.candidates,n=e.hovered;t.clear(),n.clear()},selectedSecondaryStructures:y.selectCurrentItems(e,"secondaryStructure/selected").toArray()}},function(e){return l.bindActionCreators({addCandidateResidues:u.createResiduePairActions().candidates.addMultiple,addHoveredResidues:u.createResiduePairActions().hovered.set,addLockedResiduePair:u.createResiduePairActions().locked.add,removeAllLockedResiduePairs:u.createResiduePairActions().locked.clear,removeCandidateResidues:u.createResiduePairActions().candidates.clear,removeHoveredResidues:u.createResiduePairActions().hovered.clear,removeLockedResiduePair:u.createResiduePairActions().locked.remove},e)})(g)},"./src/container/ProteinFeatureViewer.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js"),c=n("./node_modules/semantic-ui-react/dist/es/index.js"),l=n("./src/component/index.ts"),u=n("./src/data/index.ts"),d=n("./src/helper/index.ts");t.SAMPLE_PROTEIN_IDS={"3Domains":"Q8TDF5","5Domains":"Q96L73",DLL3_HUMAN:"Q9NYJ7",SMAD4_HUMAN:"Q13485"};var p=function(e){function n(t){var n=e.call(this,t)||this;return n.onProteinInputChange=function(e,t){n.setState({proteinId:t.value})},n.onProteinInputSubmit=function(e,t){return a(n,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.deriveProteinData()];case 1:return e.sent(),[2]}})})},n.onShowGroupedChange=function(e,t){n.setState({showGrouped:void 0!==t.checked?t.checked:n.state.showGrouped})},n.renderAnnotationText=function(e,t){var r=n.state,o=r.domainData,a=r.protein,i=a?a.dbReferences.filter(function(e){return"Pfam"===e.type}).filter(function(n){var r=n.properties,o=r?r["entry name"]:null;return o&&(o===e||o.localeCompare(e+"-like "+t))}):[];return i.length>=1?e+": "+e+" domain ("+o[t].start+" - "+o[t].end+')<br /><a href="http://pfam.xfam.org/family/'+i[0].id+'">PFAM</a> <a href="http://mutationaligner.org/domains/'+i[0].id+'">Mutagen Aligner</a>':""},n.state={data:[],domainData:[],proteinId:t.initialProteinId,showGrouped:!0},n}return o(n,e),n.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.deriveProteinData()];case 1:return e.sent(),[2]}})})},n.prototype.render=function(){var e=this.state,t=e.domainData,n=e.protein,r=e.proteinId,o=e.showGrouped;return s.createElement("div",{className:"protein-feature-viewer"},s.createElement(c.GridRow,{centered:!0,stretched:!1},s.createElement(c.GridColumn,null,s.createElement(l.FeatureViewer,{data:t,getTextForHover:this.renderAnnotationText,title:n?n.id:"",showGrouped:o})),s.createElement(c.GridColumn,null,s.createElement(c.Form,{onSubmit:this.onProteinInputSubmit},s.createElement(c.Form.Input,{onChange:this.onProteinInputChange,value:r,fluid:!1,width:"three"}),s.createElement(c.Form.Button,null,"Submit Protein ID"),s.createElement(c.Form.Checkbox,{defaultChecked:!0,label:"Show grouped?",onChange:this.onShowGroupedChange})))))},n.prototype.deriveProteinData=function(){return a(this,void 0,void 0,function(){var e,t,n,r,o,a;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,fetch("https://www.ebi.ac.uk/proteins/api/proteins/"+this.state.proteinId)];case 1:return(e=i.sent())&&e.ok?[4,e.json()]:[3,3];case 2:t=i.sent(),n=t.features.filter(function(e){return"DOMAIN"===e.type}),r=new d.ColorMapper,o=n.map(function(e,t){var n=e.begin,o=e.description,a=void 0===o?"":o,i=e.end,s=a.split("-like")[0];return new u.TintedChell1DSection(s,n?Number.parseInt(n,10):-1,i?Number.parseInt(i,10):-1,r.getColorFor(s))}),this.setState({domainData:o,protein:t}),i.label=3;case 3:return[3,5];case 4:return a=i.sent(),console.error(a),[3,5];case 5:return[2]}})})},n.defaultProps={initialProteinId:t.SAMPLE_PROTEIN_IDS.DLL3_HUMAN},n}(s.Component);t.ProteinFeatureViewer=p},"./src/container/SiteHeader.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),i=n("./node_modules/react-router-dom/es/index.js"),s=n("./node_modules/semantic-ui-react/dist/es/index.js"),c=n("./src/data/index.ts"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.renderNavMenu=function(){return a.createElement(s.Menu,{defaultActiveIndex:-1,secondary:!0},a.createElement(s.Menu.Item,{key:"datasets"},a.createElement(i.Link,{to:"/dataset",style:{color:"black",fontSize:"18px"}},"datasets")),a.createElement(s.Menu.Item,{key:"visualizations"},a.createElement(i.Link,{to:"/visualizations",style:{color:"black",fontSize:"18px"}},"visualizations")),a.createElement(s.Menu.Item,{key:"stories"},a.createElement(i.Link,{to:"/stories",style:{color:"black",fontSize:"18px"}},"stories")))},n.onMouseClick=function(e){},n.renderVisualizationsMenu=function(){return a.createElement(s.Container,{fluid:!0},a.createElement(s.Header,null,"Visualization applications"),a.createElement(s.Divider,null),"dataset",a.createElement(s.Divider,null),a.createElement(s.Search,{defaultValue:"search",icon:!1}),a.createElement(s.Table,{basic:"very"},a.createElement(s.Table.Header,null,a.createElement(s.Table.Row,null,a.createElement(s.Table.HeaderCell,null,"Select"),a.createElement(s.Table.HeaderCell,null,"Name"),a.createElement(s.Table.HeaderCell,null,"Author(s)"),a.createElement(s.Table.HeaderCell,null,"Last updated")),a.createElement(s.Table.Row,{cells:[{key:"Select",content:a.createElement(s.Checkbox,{checked:!0})},{key:"Name",content:"SPRING"},{key:"Author",content:"Weinreb, Wolock, Klein"},{key:"Last Updated",content:"Nov 13, 2018"}]}),a.createElement(s.Table.Row,{cells:[{key:"Select",content:a.createElement(s.Checkbox,{checked:!1})},{key:"Name",content:"tSNE-Tensor"},{key:"Author",content:"??"},{key:"Last Updated",content:"Nov 13, 2018"}],style:{border:"none"}}),a.createElement(s.Table.Row,{cells:[{key:"Select",content:a.createElement(s.Checkbox,{checked:!1})},{key:"Name",content:"Anatomogram"},{key:"Author",content:"??"},{key:"Last Updated",content:"Nov 13, 2018"}],style:{border:"none"}}))))},n.renderDatasetMenu=function(){var e=[];if(n.props.location){var t=new URLSearchParams(n.props.location.search);e=t.getAll("viz").map(function(e){return"viz="+e})}var r=["hpc/full","hpc_sf2/full","tabula_muris/10k","tabula_muris/full","tabula_muris/lung"],o=[{menuItem:"human cell atlas",render:function(){return a.createElement(s.Tab.Pane,null,a.createElement(s.Container,{fluid:!0},a.createElement(s.Table,{basic:"very"},a.createElement(s.Table.Header,null,a.createElement(s.Table.Row,null,a.createElement(s.Table.HeaderCell,null,a.createElement(s.Dropdown,{placeholder:"search",selection:!0})),a.createElement(s.Table.HeaderCell,null,a.createElement(s.Dropdown,{placeholder:"organ",selection:!0})),a.createElement(s.Table.HeaderCell,null,a.createElement(s.Dropdown,{placeholder:"method",selection:!0})))))))}},{menuItem:"HCA Dynamics public",render:function(){return a.createElement(s.List,null,r.map(function(t,r){return n.renderDatasetLinkItem(t,r,e)}))}},{menuItem:"upload from computer",render:function(){return a.createElement(s.Tab.Pane,null,"Coming soon!")}}];return a.createElement(s.Container,{fluid:!0},a.createElement(s.Header,null,"datasets"),a.createElement(s.Divider,null),a.createElement(s.Tab,{defaultActiveIndex:1,menu:{secondary:!0,pointing:!0},panes:o}))},n.renderDatasetLinkItem=function(e,t,r){return a.createElement(s.List.Item,{key:"dataset-link-"+t},a.createElement(i.Link,{onClick:n.closeModal,to:{pathname:"/dataset",search:"?name="+e+"&"+r.join("&")}},e))},n.closeModal=function(){n.setState({isModalOpen:!1})},n.openModal=function(e,t){n.setState({isModalOpen:!0})},n.state={currentPageName:null,isModalOpen:!1},n}return o(t,e),t.prototype.componentDidMount=function(){window.addEventListener("click",this.onMouseClick),this.props.location&&this.handleQueryParams(this.props.location.search)},t.prototype.componentDidUpdate=function(e){this.props.location&&this.props.location!==e.location&&this.handleQueryParams(this.props.location.search)},t.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.onMouseClick)},t.prototype.render=function(){return a.createElement(s.Header,null,a.createElement(s.Menu,{secondary:!0,borderless:!0,fluid:!0,style:{maxHeight:"40px",padding:"20px 0 0 0"}},a.createElement(s.Menu.Item,{fitted:"vertically",position:"left"},a.createElement(i.Link,{to:"/"},a.createElement("img",{alt:"hca-dynamics-icon",src:"assets/icons/bio-blocks-icon-2x.png",style:{height:"32px",width:"32px"}}),a.createElement("span",{style:{color:"black",fontSize:"32px",fontWeight:"bold"}},"HCA Dynamics"))),this.renderNavMenu(),a.createElement(s.Menu.Item,{position:"right"},a.createElement(s.Input,{icon:"search",size:"massive",transparent:!0}))),this.renderNavBreadcrumb(),this.renderCurrentData())},t.prototype.renderCurrentData=function(){var e=this.props.location;if(e){var t=new URLSearchParams(e.search),n=t.getAll("viz"),r=t.get("name");return r&&c.DatasetData[r]&&a.createElement(s.Grid,{centered:!0,padded:!0,textAlign:"center"},a.createElement(s.Grid.Row,{textAlign:"left"},a.createElement("p",null,"Selected visualization(s): ",a.createElement("span",{style:{fontWeight:"normal"}},n.map(function(e){return c.VizData[e].name}).join(", ")),a.createElement("br",null),r&&"Selected dataset: ",a.createElement("span",{style:{fontWeight:"normal"}},c.DatasetData[r].fullName+" ("+r+")"))))}return null},t.prototype.renderNavBreadcrumb=function(){return a.createElement(s.Breadcrumb,{style:{padding:"0 0 0 40px"}},a.createElement(s.Breadcrumb.Section,null,a.createElement(i.Link,{to:"/"},"home")),this.props.location&&this.props.location.pathname.split("/").filter(function(e){return e.length>=1}).map(function(e,t){return a.createElement(a.Fragment,{key:"breadcrumb-"+t},a.createElement(s.Breadcrumb.Divider,{icon:"right angle"}),a.createElement(s.Breadcrumb.Section,null,a.createElement(i.Link,{to:"/"+e},e)))}),this.state.currentPageName&&a.createElement(a.Fragment,null,a.createElement(s.Breadcrumb.Divider,{icon:"right angle"}),a.createElement(s.Breadcrumb.Section,null,this.state.currentPageName)))},t.prototype.handleQueryParams=function(e){var t=new URLSearchParams(e),n=t.getAll("viz"),r=t.get("name");n.length>=1&&!r?this.setState({currentPageName:r,isModalOpen:!0}):this.setState({currentPageName:r,isModalOpen:!1})},t}(a.Component);t.SiteHeader=l},"./src/container/SpringContainer.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/immutable/dist/immutable.js"),i=n("./node_modules/react/index.js"),s=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/redux/es/redux.js"),l=n("./node_modules/react-iframe-comm/dist/IframeComm.js"),u=n("./src/action/index.ts"),d=n("./src/component/index.ts"),p=n("./src/container/index.ts"),f=n("./src/selector/index.ts"),h=function(e){function t(t){var n=e.call(this,t)||this;return n.onReady=function(){},n.onReceiveMessage=function(e){var t=n.props,r=t.currentCells,o=t.setCurrentCategory,a=t.setCurrentCells,i=e.data;switch(i.type){case"selected-category-update":case"selected-cells-update":var s=i.payload,c=s.currentCategory,l=s.indices;o(c||""),a(l);break;case"loaded":n.setState({postMessageData:{payload:{indices:r.toArray()},type:"init"}});break;default:if(e.isTrusted&&1===Object.keys(e).length)return;console.log("Got this msg for ya: "+JSON.stringify(e))}},n.generateSpringURL=function(e){return window.location.origin+"/"+window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/"))+"/springViewer.html?datasets/"+e},n.state={postMessageData:{payload:{},type:"init"},springUrl:n.generateSpringURL(n.props.datasetLocation)},n}return o(t,e),t.prototype.setupDataServices=function(){var e=this;this.registerDataset("spring/category",""),this.registerDataset("spring/graphData"),this.registerDataset("spring/species","mus_musculus"),this.addChellHook("springGraphData",function(){return e.props.springGraphData})},t.prototype.componentDidUpdate=function(e,t){var n=this.props.currentCells;n!==e.currentCells?this.setState({postMessageData:{payload:{indices:n.toArray()},type:"selected-cells-update"}}):e.datasetLocation!==this.props.datasetLocation&&this.setState({springUrl:this.generateSpringURL(this.props.datasetLocation)})},t.prototype.render=function(){var e=this.props,n=e.headerHeight,r=e.isFullPage,o=e.springHeight,a=e.springWidth,s=this.state,c=s.postMessageData,u=s.springUrl,p={allowFullScreen:!0,height:o+n,src:u,width:a},f=u.split("/");return i.createElement(d.ComponentCard,{componentName:t.displayName,isFramedComponent:!0,isFullPage:r,frameHeight:o,frameWidth:a},i.createElement(l.default,{attributes:p,postMessageData:c,handleReady:this.onReady,handleReceiveMessage:this.onReceiveMessage,targetOrigin:f[0]+"//"+f[2]}))},t.defaultProps={categories:a.Set(),currentCells:a.Set(),datasetLocation:"hpc/full",headerHeight:18,isFullPage:!1,padding:0,selectedCategory:"",setCurrentCategory:function(){},setCurrentCells:function(){},springGraphData:{links:new Array,nodes:new Array},springHeight:1150,springWidth:1150},t.displayName="SPRING",t}(p.ChellVisualization);t.SpringContainerClass=h;t.SpringContainer=s.connect(function(e){return{categories:f.getCategories(e,void 0),currentCells:f.selectCurrentItems(e,"cells"),springGraphData:f.getGraphData(e)}},function(e){return c.bindActionCreators({setCurrentCategory:u.createSpringActions().category.set,setCurrentCells:u.createContainerActions("cells").set},e)})(h)},"./src/container/TensorTContainer.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"),c=n("./node_modules/@tensorflow/tfjs-tsne/dist/tsne.js"),l=n("./node_modules/immutable/dist/immutable.js"),u=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/redux/es/redux.js"),f=n("./node_modules/semantic-ui-react/dist/es/index.js"),h=n("./src/action/index.ts"),m=n("./src/component/index.ts"),y=n("./src/container/index.ts"),g=n("./src/data/index.ts"),v=n("./src/helper/index.ts"),_=n("./src/selector/ContainerSelectors.ts"),C=function(e){function t(t){var n=e.call(this,t)||this;return n.canvasContext=null,n.getPlotlyCoordsFromTsne=function(e){var t=n.props,r=t.currentCells;return[{marker:{color:t.pointColor},mode:"markers",type:"scattergl",x:e.map(function(e){return e[0]}),y:e.map(function(e){return e[1]})},{marker:{color:"#ffaa00"},mode:"markers",type:"scattergl",x:r.toArray().map(function(t){return e[t][0]}),y:r.toArray().map(function(t){return e[t][1]})}]},n.getPlotlyCoordsFromSpring=function(e,t){return[{marker:{color:n.props.pointColor},mode:"markers",type:"scattergl",x:e.map(function(e){return e[0]}),y:e.map(function(e){return e[1]})},{marker:{color:"#ffaa00"},mode:"markers",type:"scattergl",x:t.map(function(t){return e[t][0]}),y:t.map(function(t){return e[t][1]})}]},n.getTensorConfigs=function(){return[{name:"Iterate Once",onClick:n.onIterateForward(),type:g.CONFIGURATION_COMPONENT_TYPE.BUTTON},{name:"Iterate Ten Times",onClick:n.onIterateForward(10),type:g.CONFIGURATION_COMPONENT_TYPE.BUTTON},{name:"Iterate Fifty Times",onClick:n.onIterateForward(50),type:g.CONFIGURATION_COMPONENT_TYPE.BUTTON},{name:"Reset",onClick:n.onReset(),type:g.CONFIGURATION_COMPONENT_TYPE.BUTTON},{icon:"hashtag",name:"Total Iterations: "+n.state.numIterations,type:g.CONFIGURATION_COMPONENT_TYPE.LABEL}]},n.handlePointSelection=function(e){for(var t=n.props.setCurrentCells,r=n.state.coordsArray,o=new Array,a=function(t){var n=e.selectedPoints[t],a=e.selectedPoints[t+1],i=r.findIndex(function(e){return e[0]===n&&e[1]===a});i>=0&&o.push(i)},i=0;i<e.selectedPoints.length-1;i+=2)a(i);t(o)},n.renderIterateLabel=function(){return u.createElement("label",null,"iterations: "+n.state.numIterations)},n.renderIterateButton=function(){return u.createElement(f.Radio,{label:u.createElement("label",{style:{fontSize:"14px",fontWeight:"bold"}},"iterate"),onClick:n.onIterationToggle(),toggle:!0})},n.renderResetButton=function(){return u.createElement(f.Icon,{name:"undo",onClick:n.onReset()})},n.onIterateForward=function(e){return void 0===e&&(e=1),function(){return a(n,void 0,void 0,function(){var t,n,r,o,a;return i(this,function(i){switch(i.label){case 0:return t=this.state,n=t.isComputing,!(r=t.tsne)||n?[3,3]:(this.setState({isComputing:!0}),[4,r.iterate(e)]);case 1:return i.sent(),[4,r.coordsArray()];case 2:o=i.sent(),a=this.getPlotlyCoordsFromTsne(o),this.setState({coordsArray:o,isComputing:!1,numIterations:this.state.numIterations+e,plotlyCoords:a}),i.label=3;case 3:return[2]}})})}},n.onIterationToggle=function(){return function(){var e=!n.state.isAnimating;if(e){var t=function(){return a(n,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.onIterateForward(1)()];case 1:return e.sent(),this.state.isAnimating&&this.state.numIterations<500?requestAnimationFrame(t):this.setState({isAnimating:!1}),[2]}})})};requestAnimationFrame(t)}n.setState({isAnimating:e})}},n.onReset=function(){return function(){return a(n,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.computeTensorTsne(0)];case 1:return e.sent(),[2]}})})}},n.state={coordsArray:[],isAnimating:!1,isComputing:!1,numIterations:0,plotlyCoords:[]},n}return o(t,e),t.prototype.setupDataServices=function(){this.registerDataset("cells",[])},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,r,o;return i(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,v.fetchTensorTSneCoordinateData("datasets/"+this.props.datasetLocation)];case 1:return e=a.sent(),t=s.tensor(e),[4,Promise.resolve().then(function(){return n("./node_modules/@tensorflow/tfjs-tsne/dist-es6/index.js")})];case 2:return r=a.sent().tsne(t),this.setState({tsne:r}),[4,this.computeTensorTsne(this.state.numIterations)];case 3:return a.sent(),[3,5];case 4:return o=a.sent(),console.log(o),[3,5];case 5:return[2]}})})},t.prototype.componentDidUpdate=function(e){return a(this,void 0,void 0,function(){var t,n,r,o,a;return i(this,function(i){switch(i.label){case 0:return t=this.props.currentCells,n=this.state.tsne,this.props.datasetLocation===e.datasetLocation?[3,2]:[4,this.setupTensorData()];case 1:return i.sent(),[3,4];case 2:return n?t===e.currentCells?[3,4]:(r=this.setState,o={},a=this.getPlotlyCoordsFromTsne,[4,n.coordsArray()]):[3,4];case 3:r.apply(this,[(o.plotlyCoords=a.apply(this,[i.sent()]),o)]),i.label=4;case 4:return[2]}})})},t.prototype.render=function(){var e=this.props.isFullPage,n=this.state.plotlyCoords;return u.createElement(m.ComponentCard,{componentName:t.displayName,iconSrc:"assets/icons/tfjs-tsne-icon.png",isFullPage:e},u.createElement(f.Grid,{centered:!0,style:{height:"100%",marginLeft:0,width:"100%"}},u.createElement(f.Grid.Row,{columns:"equal",style:{maxHeight:"23px",padding:"7px 0 0 0"}},u.createElement(f.Grid.Column,{floated:"left"},this.renderIterateButton()),u.createElement(f.Grid.Column,null,this.renderIterateLabel()),u.createElement(f.Grid.Column,{floated:"right"},this.renderResetButton())),u.createElement(f.Grid.Row,{stretched:!0,style:{height:"90%",margin:0}},u.createElement(m.TensorTComponent,{onSelectedCallback:this.handlePointSelection,pointsToPlot:n}))))},t.prototype.computeTensorTsne=function(e){return a(this,void 0,void 0,function(){var t,n,r,o,a;return i(this,function(i){switch(i.label){case 0:return t=this.state,n=t.isComputing,!(r=t.tsne)||n?[3,3]:(this.setState({isComputing:!0}),[4,r.compute(e)]);case 1:return i.sent(),[4,r.coordsArray()];case 2:o=i.sent(),a=this.getPlotlyCoordsFromTsne(o),this.setState({coordsArray:o,isComputing:!1,numIterations:e,plotlyCoords:a}),i.label=3;case 3:return[2]}})})},t.prototype.setupTensorData=function(){return a(this,void 0,void 0,function(){var e,t,n,r,o,a,l;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this.setState({isAnimating:!1,isComputing:!0,plotlyCoords:[],tsne:void 0}),[4,v.fetchTensorTSneCoordinateData("datasets/"+this.props.datasetLocation)];case 1:return e=i.sent(),t=s.tensor(e),n=new c.TSNE(t),r=0,[4,n.compute(r)];case 2:return i.sent(),[4,n.coordsArray()];case 3:return o=i.sent(),a=this.getPlotlyCoordsFromTsne(o),this.setState({coordsArray:o,isComputing:!1,numIterations:r,plotlyCoords:a}),[3,5];case 4:return l=i.sent(),console.log(l),[3,5];case 5:return[2]}})})},t.defaultProps={currentCells:l.Set(),datasetLocation:"hpc/full",height:400,isFullPage:!1,pointColor:"#aa0000",style:{padding:0},width:400},t.displayName="tSNE - TensorFlow",t}(y.ChellVisualization);t.TensorTContainerClass=C;t.TensorTContainer=d.connect(function(e){return{currentCells:_.selectCurrentItems(e,"cells")}},function(e){return p.bindActionCreators({setCurrentCells:h.createContainerActions("cells").set},e)})(C)},"./src/container/VizPanelContainer.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var d=n("./node_modules/react/index.js"),p=n("./node_modules/semantic-ui-react/dist/es/index.js"),f=n("./src/component/index.ts"),h=n("./src/data/index.ts"),m=n("./src/helper/index.ts");t.initialVizPanelState={currentDataDir:"",data:new Object};var y=function(e){function n(n){var r=e.call(this,n)||this;return r.state=t.initialVizPanelState,r.renderFileUploadForm=function(){return d.createElement(p.Label,{as:"label",basic:!0,htmlFor:"upload"},d.createElement(p.Button,{icon:"upload",label:{basic:!0,content:"Upload"},labelPosition:"right"}),d.createElement("input",{id:"upload",onChange:r.onDataUpload,hidden:!0,type:"file",multiple:!0,required:!0}))},r.onDataUpload=function(e){return i(r,void 0,void 0,function(){var t,n,r,o,i,c,l,u,d;return s(this,function(s){switch(s.label){case 0:return(t=e.target.files)?(n=Array.from(t),r=n.findIndex(function(e){return e.name.endsWith(".pdb")}),o=n.findIndex(function(e){return 0===e.name.localeCompare("residue_mapping.csv")}),i=n.findIndex(function(e,t){return e.name.endsWith(".csv")&&t!==o}),-1!==r&&-1!==o&&-1!==i?[3,1]:(alert("Incorrect files uploaded! Please upload a file named residue_mapping.csv as well as a .pdb and .csv file!"),[3,5])):[3,5];case 1:return[4,h.ChellPDB.createPDB(n[r])];case 2:return c=s.sent(),[4,m.readFileAsText(n[i])];case 3:return l=s.sent(),[4,m.readFileAsText(n[o])];case 4:u=s.sent(),d={couplingScores:m.getCouplingScoresData(l,m.generateResidueMapping(u)),pdbData:{known:c},secondaryStructures:[]},this.setState({data:a({},this.state.data,{"Contact Map":d,NGL:c.nglStructure})}),s.label=5;case 5:return[2]}})})},r.onDataDirChange=function(e,t){r.setState({currentDataDir:t.value})},r.state=a({},r.state,{currentDataDir:n.dataDirs[0]}),r}return o(n,e),n.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t,n,r,o,i,l,u,d;return s(this,function(s){switch(s.label){case 0:n={},s.label=1;case 1:s.trys.push([1,6,7,8]),r=c(this.props.supportedVisualizations),o=r.next(),s.label=2;case 2:return o.done?[3,5]:(i=o.value,l=n,u=i,[4,m.fetchAppropriateData(i,this.state.currentDataDir)]);case 3:l[u]=s.sent(),s.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return d=s.sent(),e={error:d},[3,8];case 7:try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}return[7];case 8:return this.setState({data:a({},n)}),[2]}})})},n.prototype.componentDidUpdate=function(e,t){return i(this,void 0,void 0,function(){var e,n,r,o,i,l,u,d,p;return s(this,function(s){switch(s.label){case 0:if(t.currentDataDir===this.state.currentDataDir)return[3,9];r={},s.label=1;case 1:s.trys.push([1,6,7,8]),o=c(this.props.supportedVisualizations),i=o.next(),s.label=2;case 2:return i.done?[3,5]:(l=i.value,u=r,d=l,[4,m.fetchAppropriateData(l,this.state.currentDataDir)]);case 3:u[d]=s.sent(),s.label=4;case 4:return i=o.next(),[3,2];case 5:return[3,8];case 6:return p=s.sent(),e={error:p},[3,8];case 7:try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}return[7];case 8:this.setState({data:a({},r)}),s.label=9;case 9:return[2]}})})},n.prototype.render=function(){var e=this.props.allowUploads;return d.createElement(p.Grid,{className:"VizPanelContainer",columns:this.props.numPanels,centered:!0,relaxed:!0},d.createElement(p.GridRow,{columns:1,centered:!0},d.createElement(p.Dropdown,{className:"viz-panel-container-dropdown",onChange:this.onDataDirChange,options:u(this.props.dataDirs.map(function(e){return{key:e,text:e,value:e}})),placeholder:this.props.dataDirs[0],search:!0})),this.renderPanels(this.props.numPanels,this.state.data,this.props.initialVisualizations).map(function(e,t){return d.createElement(p.GridColumn,{key:t},e)}),e&&this.renderFileUploadForm())},n.prototype.renderPanels=function(e,t,n){for(var r=[],o=0;o<e;++o)r.push(d.createElement(f.VizSelectorPanel,{data:t,initialViz:n[o],supportedVisualizations:this.props.supportedVisualizations}));return r},n.defaultProps={allowUploads:!0,initialVisualizations:[],numPanels:1},n}(d.Component);t.VizPanelContainer=y},"./src/container/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/container/ChellVisualization.tsx")),r(n("./src/container/AnatomogramContainer.tsx")),r(n("./src/container/InfoPanelContainer.tsx")),r(n("./src/container/NGLContainer.tsx")),r(n("./src/container/ProteinFeatureViewer.tsx")),r(n("./src/container/SiteHeader.tsx")),r(n("./src/container/SpringContainer.tsx")),r(n("./src/container/TensorTContainer.tsx")),r(n("./src/container/VizPanelContainer.tsx"))},"./src/data/AminoAcid.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={fullName:"Alanine",singleLetterCode:"A",threeLetterCode:"ALA"},o={fullName:"Arginine",singleLetterCode:"R",threeLetterCode:"ARG"},a={fullName:"Asparagine",singleLetterCode:"N",threeLetterCode:"ASN"},i={fullName:"Aspartic Acid",singleLetterCode:"D",threeLetterCode:"ASP"},s={fullName:"Cysteine",singleLetterCode:"C",threeLetterCode:"CYS"},c={fullName:"Glutamine",singleLetterCode:"Q",threeLetterCode:"GLN"},l={fullName:"Glutamic Acid",singleLetterCode:"E",threeLetterCode:"GLU"},u={fullName:"Glycine",singleLetterCode:"G",threeLetterCode:"GLY"},d={fullName:"Histidine",singleLetterCode:"H",threeLetterCode:"HIS"},p={fullName:"Isoleucine",singleLetterCode:"I",threeLetterCode:"ILE"},f={fullName:"Leucine",singleLetterCode:"L",threeLetterCode:"LEU"},h={fullName:"Lysine",singleLetterCode:"K",threeLetterCode:"LYS"},m={fullName:"Methionine",singleLetterCode:"M",threeLetterCode:"MET"},y={fullName:"Phenylalanine",singleLetterCode:"F",threeLetterCode:"PHE"},g={fullName:"Proline",singleLetterCode:"P",threeLetterCode:"PRO"},v={fullName:"Serine",singleLetterCode:"S",threeLetterCode:"SER"},_={fullName:"Threonine",singleLetterCode:"T",threeLetterCode:"THR"},C={fullName:"Tryptophan",singleLetterCode:"W",threeLetterCode:"TRP"},b={fullName:"Tyrosine",singleLetterCode:"Y",threeLetterCode:"TYR"},S={fullName:"Valine",singleLetterCode:"V",threeLetterCode:"VAL"};t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE={A:r,R:o,N:a,D:i,C:s,Q:c,E:l,G:u,H:d,I:p,L:f,K:h,M:m,F:y,P:g,S:v,T:_,W:C,Y:b,V:S},t.AMINO_ACIDS_BY_THREE_LETTER_CODE={ALA:r,ARG:o,ASN:a,ASP:i,CYS:s,GLN:c,GLU:l,GLY:u,HIS:d,ILE:p,LEU:f,LYS:h,MET:m,PHE:y,PRO:g,SER:v,THR:_,TRP:C,TYR:b,VAL:S},t.AMINO_ACIDS=[r,o,a,i,s,c,l,u,d,p,f,h,m,y,g,v,_,C,b,S],t.getPDBAndCouplingMismatch=function(e,n){var r=e.sequence,o=n.sequence,a=t.getSequenceMismatch(r,o);return 0===a.length?e.getResidueNumberingMismatches(n):a},t.getSequenceMismatch=function(e,n){var r=new Array;if(e.length===n.length)for(var o=0;o<e.length;++o){var a=e[o],i=n[o];a!==i&&r.push({couplingAminoAcid:t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[a],pdbAminoAcid:t.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[i],resno:o})}return r}},"./src/data/AnatomogramMapping.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnatomogramMapping={homo_sapiens:{P11A:["UBERON_0000178"],P11B:["UBERON_0001155"],P12A:["UBERON_0000955"],P9A:["UBERON_0000977"],UBERON_0000178:["P11A"],UBERON_0000955:["P12A"],UBERON_0000977:["P9A"],UBERON_0001155:["P11B"]},mus_musculus:{UBERON_0000948:["Heart","Heart_and_Aorta","Heart_and_Aorta-10X_P7_4"],UBERON_0001255:["Bladder","Bladder-10X_P4_3","Bladder-10X_P4_4","Bladder-10X_P7_7"],UBERON_0001723:["Tongue","Tongue-10X_P4_0","Tongue-10X_P4_1","Tongue-10X_P7_10"],UBERON_0001911:["Mammary","Mammary_Gland","Mammary_Gland-10X_P7_12","Mammary_Gland-10X_P7_13"],UBERON_0002048:["Lung","Lung-10X_P7_8","Lung-10X_P7_9","Lung-10X_P8_12","Lung-10X_P8_13"],UBERON_0002106:["Spleen","Spleen-10X_P4_7","Spleen-10X_P7_6"],UBERON_0002107:["Liver","Liver-10X_P4_2","Liver-10X_P7_0","Liver-10X_P7_1"],UBERON_0002113:["Kidney","Kidney-10X_P4_5","Kidney-10X_P4_6","Kidney-10X_P7_5"],UBERON_0002370:["Thymus","Thymus-10X_P7_11"],UBERON_0002371:["Marrow","Marrow-10X_P7_2","Marrow-10X_P7_3"],UBERON_0003126:["Trachea","Trachea-10X_P8_14","Trachea-10X_P8_15"],UBERON_0014892:["Muscle","Limb","Limb_Muscle","Limb_Muscle-10X_P7_14","Limb_Muscle-10X_P7_15"]}}},"./src/data/Chell1DSection.ts":function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){void 0===n&&(n=t),this.label=e,this.sectionEnd=0,this.sectionStart=0,this.sectionEnd=Math.max(n,t),this.sectionStart=Math.min(t,n)}return Object.defineProperty(e.prototype,"end",{get:function(){return this.sectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.sectionEnd-this.sectionStart+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.sectionStart},enumerable:!0,configurable:!0}),e.prototype.contains=function(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var a=r(n),i=a.next();!i.done;i=a.next()){var s=i.value;if(s<this.sectionStart||s>this.sectionEnd||void 0===s)return!1}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return!0},e.prototype.updateStart=function(e){e>this.sectionEnd?(this.sectionStart=this.sectionEnd,this.sectionEnd=e):this.sectionStart=e},e.prototype.updateEnd=function(e){e<this.sectionStart?(this.sectionEnd=this.sectionStart,this.sectionStart=e):this.sectionEnd=e},e}();t.Chell1DSection=o},"./src/data/ChellConfig.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BUTTON="BUTTON",e.LABEL="LABEL",e.RADIO="RADIO",e.SLIDER="SLIDER"}(t.CONFIGURATION_COMPONENT_TYPE||(t.CONFIGURATION_COMPONENT_TYPE={}))},"./src/data/ChellData.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CONTACT_MAP="Contact Map",e.INFO_PANEL="Info Panel",e.NGL="NGL",e.SPRING="Spring",e["TENSOR-T-SNE"]="TENSOR-T-SNE",e["T-SNE"]="T-SNE"}(t.VIZ_TYPE||(t.VIZ_TYPE={})),function(e){e.CLOSEST="CLOSEST",e.C_ALPHA="C-"}(t.CONTACT_DISTANCE_PROXIMITY||(t.CONTACT_DISTANCE_PROXIMITY={})),function(e){e.G="310_HELIX",e.H="ALPHA_HELIX",e.I="PI_HELIX",e.T="HYDROGEN_BONDED_TURN",e.E="BETA_SHEET",e.B="BETA_BRIDGE",e.S="BEND",e.C="COIL"}(t.SECONDARY_STRUCTURE_CODES||(t.SECONDARY_STRUCTURE_CODES={})),function(e){e[e.AFTER_PLOT=0]="AFTER_PLOT",e[e.CLICK=1]="CLICK",e[e.DOUBLE_CLICK=2]="DOUBLE_CLICK",e[e.HOVER=3]="HOVER",e[e.RELAYOUT=4]="RELAYOUT",e[e.SELECTION=5]="SELECTION",e[e.UNHOVER=6]="UNHOVER"}(t.CHELL_CHART_EVENT_TYPE||(t.CHELL_CHART_EVENT_TYPE={})),function(e){e[e.AXIS=0]="AXIS",e[e.POINT=1]="POINT"}(t.CHELL_CHART_PIECE||(t.CHELL_CHART_PIECE={}))},"./src/data/ChellPDB.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/ngl/dist/ngl.esm.js"),i=n("./src/data/index.ts"),s=function(){function e(){this.fileName="",this.nglData=new a.Structure}return e.createEmptyPDB=function(){return new e},e.createPDB=function(t){return void 0===t&&(t=""),r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return n=new e,r=n,[4,a.autoLoad(t)];case 1:return r.nglData=o.sent(),n.fileName="string"==typeof t?t:t.name,[2,n]}})})},e.createPDBFromNGLData=function(t){var n=new e;return n.nglData=t,n.fileName=t.path,n},Object.defineProperty(e.prototype,"contactInformation",{get:function(){var e=this;if(!this.contactInfo){var t=new i.CouplingContainer;this.nglData.eachResidue(function(n){if(n.isProtein()){var r=n.resno;e.nglData.eachResidue(function(n){var o=n.resno;n.isProtein()&&r!==o&&t.addCouplingScore({dist:e.getMinDistBetweenResidues(r,o).dist,i:r,j:o})})}}),this.contactInfo=t}return this.contactInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nglStructure",{get:function(){return this.nglData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryStructure",{get:function(){var e=new Array;return this.nglData.eachResidue(function(t){if(t.isProtein()){var n="C";if(t.isSheet())n="E";else if(t.isHelix())n="H";else if(t.isTurn())return;e.push({resno:t.resno,structId:n})}}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryStructureSections",{get:function(){var e=new Array;return this.nglData.eachResidue(function(t){if(t.isProtein()){for(var n=t.chainIndex;!e[n];)e.push(new Array);var r="C";t.isSheet()?r="E":t.isHelix()&&(r="H"),e[n].length>=1&&e[n][e[n].length-1].label===r?e[n][e[n].length-1].updateEnd(t.resno):e[n].push(new i.Chell1DSection(r,t.resno))}}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var e=this.fileName.split("/"),t=e[e.length-1];return t.slice(0,t.lastIndexOf("."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequence",{get:function(){return this.nglData?this.nglData.getSequence().join(""):""},enumerable:!0,configurable:!0}),e.prototype.eachResidue=function(e){this.nglData.eachResidue(e)},e.prototype.amendPDBWithCouplingScores=function(t,n){var r=this,o=new i.CouplingContainer(t),a=this.nglData.atomMap.dict[e.NGL_C_ALPHA_INDEX],s={};return this.nglData.eachResidue(function(e){r.nglData.eachResidue(function(t){if(e.isProtein()&&t.isProtein())if(n===i.CONTACT_DISTANCE_PROXIMITY.C_ALPHA){var c=r.getCAlphaAtomIndexFromResidue(e.index,a),l=r.getCAlphaAtomIndexFromResidue(t.index,a);o.addCouplingScore({dist:r.nglData.getAtomProxy(c).distanceTo(r.nglData.getAtomProxy(l)),i:e.resno,j:t.resno})}else{var u=Math.min(e.resno,t.resno)+","+Math.max(e.resno,t.resno);s[u]||(s[u]=r.getMinDistBetweenResidueIndices(e.index,t.index).dist),o.addCouplingScore({dist:s[u],i:e.resno,j:t.resno})}})}),this.contactInfo=o,this.contactInfo},e.prototype.getCAlphaAtomIndexFromResidue=function(e,t){for(var n=this.nglData.residueStore,r=n.atomOffset[e],o=n.atomCount[e],a=r;n.residueTypeId[a]!==t&&a<r+o;)a++;return a},e.prototype.getMinDistBetweenResidues=function(e,t){return this.getMinDistBetweenResidueIndices(this.nglData.residueStore.resno.indexOf(e),this.nglData.residueStore.resno.indexOf(t))},e.prototype.getResidueNumberingMismatches=function(e){var t=new Array;return this.eachResidue(function(n){var r=n.resname.toUpperCase(),o=e.getAminoAcidOfContact(n.resno);o&&i.AMINO_ACIDS_BY_THREE_LETTER_CODE[r]!==i.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[o.singleLetterCode]&&t.push({couplingAminoAcid:i.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[o.singleLetterCode],pdbAminoAcid:i.AMINO_ACIDS_BY_THREE_LETTER_CODE[r],resno:n.resno})}),t},e.prototype.getMinDistBetweenResidueIndices=function(e,t){for(var n=this.nglData.residueStore,r=n.atomCount[e],o=n.atomCount[t],a=n.atomOffset[e],i=n.atomOffset[t],s={atomIndexI:-1,atomIndexJ:-1,dist:Number.MAX_SAFE_INTEGER},c=0;c<r;++c)for(var l=0;l<o;++l){var u=a+c,d=i+l,p=this.nglData.getAtomProxy(u).distanceTo(this.nglData.getAtomProxy(d));p<s.dist&&(s={atomIndexI:u,atomIndexJ:d,dist:p})}return s},e.NGL_C_ALPHA_INDEX="CA|C",e}();t.ChellPDB=s},"./src/data/CouplingContainer.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/data/index.ts"),i=function(){function e(e){var t,n;void 0===e&&(e=[]);var r=this;this.contacts=new Array,this.totalStoredContacts=0,this.indexRange={max:50,min:1},this.rowCounter=0,this.colCounter=0,this.getCouplingScore=function(e,t){var n=r.contacts[Math.min(e,t)-1];return n?n[Math.max(e,t)-1]:void 0},this.includes=function(e,t){return r.contacts[Math.min(e,t)-1]&&void 0!==r.contacts[Math.min(e,t)-1][Math.max(e,t)-1]};try{for(var a=o(e),i=a.next();!i.done;i=a.next()){var s=i.value;this.addCouplingScore(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}return Object.defineProperty(e.prototype,"allContacts",{get:function(){return this.contacts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chainLength",{get:function(){return this.indexRange.max-this.indexRange.min+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rankedContacts",{get:function(){return Array.from(this).sort(function(e,t){return e.cn&&t.cn?t.cn-e.cn:e.cn&&!t.cn?-1:!e.cn&&t.cn?1:0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"residueIndexRange",{get:function(){return this.indexRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequence",{get:function(){for(var e="",t=this.indexRange.min;t<=this.indexRange.max;++t){var n=this.getAminoAcidOfContact(t);n&&(e+=n.singleLetterCode)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalContacts",{get:function(){return this.totalStoredContacts},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){return this},e.prototype.addCouplingScore=function(e){var t=e.A_i,n=e.A_j,o=e.i,a=e.j,i=Math.min(o,a)-1,s=Math.max(o,a)-1,c=i+1===a;this.contacts[i]||(this.contacts[i]=new Array),this.contacts[i][s]||this.totalStoredContacts++,this.contacts[i][s]=r({},this.contacts[i][s],e),c&&(this.contacts[i][s].i=a,this.contacts[i][s].j=o,t&&n&&(this.contacts[i][s].A_i=n,this.contacts[i][s].A_j=t)),this.indexRange={max:Math.max(this.indexRange.max,s+1),min:Math.min(this.indexRange.min,i+1)}},e.prototype.getAminoAcidOfContact=function(e){var t,n,r,i;if(!(e>this.chainLength+1))try{for(var s=o(this.allContacts),c=s.next();!c.done;c=s.next()){var l=c.value;if(l)try{for(var u=o(l),d=u.next();!d.done;d=u.next()){var p=d.value;if(p&&p.i===e&&p.A_i)return a.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[p.A_i];if(p&&p.j===e&&p.A_j)return a.AMINO_ACIDS_BY_SINGLE_LETTER_CODE[p.A_j]}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.getObservedContacts=function(e,t){var n,r;void 0===e&&(e=5),void 0===t&&(t=5);var a=new Array;try{for(var i=o(this),s=i.next();!s.done;s=i.next()){var c=s.value;c.dist&&c.dist<=e&&Math.abs(c.i-c.j)>=t&&a.push(c)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a},e.prototype.getPredictedContacts=function(e,t,n){var r,a;void 0===t&&(t=5),void 0===n&&(n=5);var i={correct:new Array,predicted:new Array};try{for(var s=o(this.rankedContacts.filter(function(e){return Math.abs(e.i-e.j)>=t}).slice(0,e)),c=s.next();!c.done;c=s.next()){var l=c.value;l.dist&&l.dist<n&&i.correct.push(l),i.predicted.push(l)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return i},e.prototype.next=function(){for(var e=this.rowCounter;e<this.contacts.length;++e)if(this.contacts[e]){for(var t=this.colCounter;t<this.contacts[e].length;++t){var n=this.contacts[e][t];if(n)return this.rowCounter=e,this.colCounter=t+1,{done:!1,value:n}}this.colCounter=0}return this.rowCounter=0,this.colCounter=0,{done:!0,value:null}},e.prototype.updateContact=function(e,t,n){this.addCouplingScore(r({i:e,j:t},n))},e}();t.CouplingContainer=i},"./src/data/Dataset.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===t&&(t="chell"),this.name=e,this.namespace=t}return Object.defineProperty(e.prototype,"fullName",{get:function(){return this.namespace+"/"+this.name},enumerable:!0,configurable:!0}),e}();t.Dataset=r},"./src/data/PlotlyData.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.bar="bar",e.pointcloud="pointcloud",e.scatter="scatter",e.scattergl="scattergl",e.scatter3d="scatter3d"}(t.PLOTLY_CHART_TYPE||(t.PLOTLY_CHART_TYPE={}))},"./src/data/Protein.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DISEASE=0]="DISEASE",e[e.DOMAIN=1]="DOMAIN",e[e.FUNCTION=2]="FUNCTION",e[e.INTERACTION=3]="INTERACTION",e[e.MIM=4]="MIM",e[e.PTM=5]="PTM",e[e.SIMILARITY=6]="SIMILARITY",e[e.SUBCELLULAR_LOCATION=7]="SUBCELLULAR_LOCATION",e[e.SUBUNIT=8]="SUBUNIT",e[e.WEBRESOURCE=9]="WEBRESOURCE"}(t.PROTEIN_COMMENT_TYPE||(t.PROTEIN_COMMENT_TYPE={}))},"./src/data/TintedChell1DSection.ts":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,r,o){void 0===r&&(r=n),void 0===o&&(o="orange");var a=e.call(this,t,n,r)||this;return a.label=t,a.sectionColor="orange",a.sectionColor=o,a}return o(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.sectionColor},enumerable:!0,configurable:!0}),t.prototype.updateColor=function(e){this.sectionColor=e},t}(n("./src/data/index.ts").Chell1DSection);t.TintedChell1DSection=a},"./src/data/VizData.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{icon:"assets/icons/example_hpc_sf2-spring.png",link:"/dataset?name=hpc_sf2/full&viz=spring",name:"HPC (hematopoietic progenitor cells)",summary:"Analysis of 33,473 hematopoietic progenitor cells as they differentiate over 6 days.       Barcodes were introduced at day 0 and cell lineage relationships were traced by       identifying progeny from their barcodes in scRNAseq of aliquots of the same population taken at several timepoints."},{icon:"assets/icons/tabula-muris-thumbnail.png",link:"/dataset?name=tabula_muris/10k&viz=spring",name:"CZI Tabula muris",summary:"Analysis of 10K mouse cells from 20 organs and tissues."},{icon:"assets/icons/example_tabularmuris_spring-tsne-anatomogram.png",link:"/dataset?name=tabula_muris/10k&viz=spring&viz=tfjs-tsne&viz=anatomogram",name:"Tabula Muris - SPRING vs tSNE with Anatomogram",summary:"Example comparison of data reduction techniques SPRING and tSNE    (of top 30 PCA components), on RNAseq profiles from 10000 cells    from the CZI Tabula muris dataset. Also includes anatomogram visualization for selection of tissue types."},{icon:"assets/icons/example_HPC_spring-tsne-anatomogram.png",link:"/dataset?name=hpc/full&viz=spring&viz=tfjs-tsne&viz=anatomogram",name:"HPC - SPRING vs tSNE with Anatomogram",summary:"Example interaction between SPRING, tSNE and Anatomogram visualization on a small dataset."}],o={authors:["Alfonso Muoz-Pomer Fuentes"],citations:[],compatibility:[],detailedSummary:"",examples:[r[2]],listAsOriginal:!0,name:"Anatomogram",relevantData:"scRNA-seq",repo:{lastUpdate:"",link:"https://github.com/ebi-gene-expression-group/anatomogram",version:""},summary:"Interactive anatomical diagram."},a={authors:["Caleb Weinreb","Samuel Wolock","Allon Klein"],citations:[{fullCitation:'Weinreb, Caleb, Samuel Wolock, and Allon M. Klein.      "SPRING: A kinetic interface for visualizing high dimensional single-cell expression data."      Bioinformatics 34.7 (2017): 1246-1248.',link:"https://www.ncbi.nlm.nih.gov/pubmed/29228172"}],compatibility:["live tSNE","UMAP","PCA"],detailedSummary:"SPRING is a tool for uncovering high-dimensional structure in single-cell gene expression data.   SPRING takes a (gene X cell) table of expression measurements and outputs a k-nearest-neighbor graph   rendered using a force directed layout.   Users can overlay prior information, including gene expression values, gene-set scores, cell cluster labels and sample IDs.   Users can also upload custom coordinates that have been generated using an outside program such as tSNE.",examples:r,listAsOriginal:!1,name:"SPRING",relevantData:"scRNA-seq",repo:{lastUpdate:"2018.03.12",link:"https://github.com/AllonKleinLab/SPRING_dev",version:"2.0"},summary:"SPRING is a tool for uncovering high-dimensional structure in single-cell expression data."},i={authors:["Yannick Assogba"],citations:[],compatibility:[],detailedSummary:"",examples:[r[2],r[3]],listAsOriginal:!0,name:"tfjs-tsne",relevantData:"scRNA-seq",repo:{lastUpdate:"",link:"https://github.com/tensorflow/tfjs-tsne",version:""},summary:"Improved tSNE implementation that runs in the browser."};t.VizData={anatomogram:o,spring:a,"tfjs-tsne":i,tfjsTsne:i},t.Stories=[{authors:["Caleb Weinreb","Samuel Wolock","Allon Klein"],description:"Analysis of 33,473 hematopoietic progenitor cells as they differentiate over 6 days.       Barcodes were introduced at day 0 and cell lineage relationships were traced by       identifying progeny from their barcodes in scRNAseq of aliquots of the same population taken at several timepoints.",icon:"assets/icons/example_hpc_sf2-spring.png",link:"/dataset?name=hpc_sf2/full&viz=spring",title:"Trajectory analysis of differentiating HPCs"},{authors:["Drew Diamantoukos","Nicholas Gauthier"],description:"Analysis of single cell transcriptomics of 20 mouse organs    from the tabula muris project.",icon:"assets/icons/example_tabularmuris_spring-tsne-anatomogram.png",link:"/dataset?name=tabula_muris/10k&viz=spring&viz=tfjs-tsne&viz=anatomogram",title:"Dimensionality-reduction analysis of tabula muris"}],t.userDatasets=[{authors:["Caleb Weinreb","Samuel Wolock","Allon klein"],links:{analysis:"",detail:""},name:"Differentiating hematopoietic cells",summary:"Hematopoietic cells were subjected to barcoding andaliquots were subjected to scRNAseq as they underwentdifferentiation."},{authors:["The Tabula Muris Consortium"],links:{analysis:"",detail:""},name:"Tabula muris - scRNAseq of 20 mouse organs",summary:"A compendium of single-cell transcriptomic data from the  model organism Mus musculus that comprises more than  100,000 cells from 20 organs and tissues"}],t.DatasetData={"hpc/full":{description:"Analysis of the RNAseq proles from 4790 hematopoietic progenitor cells",enabled:!0,fullName:"Hematopoietic progenitor cells",serverNeeded:!1},"hpc_sf2/full":{description:"Analysis of 33,473 the transcriptional prole of hematopoietic    progenitor cells as they dierentiate over 6 days",enabled:!0,fullName:"Hematopoietic progenitor cells",serverNeeded:!1},"tabula_muris/10k":{description:"A subset pf 10,000 randomly sampled cells taken from the full  tabula_muris dataset (20 organs and tissues from Mus musculus)",enabled:!0,fullName:"Tabula muris",serverNeeded:!1},"tabula_muris/full":{description:"A compendium of single-cell transcriptomic data from the  model organism Mus musculus that comprises more than  100,000 cells from 20 organs and tissues",enabled:!1,fullName:"Tabula muris",serverNeeded:!0},"tabula_muris/lung":{description:"Analysis of the RNAseq proles from 4790 hematopoietic  progenitor cells",enabled:!1,fullName:"Tabula muris",serverNeeded:!0}}},"./src/data/event/ChellChartEvent.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data/index.ts"),o=function(){function e(e,t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.type=e,this.chartPiece=t,this.selectedPoints=n,this.plotlyEvent=r}return e.prototype.isAxis=function(){return this.chartPiece===r.CHELL_CHART_PIECE.AXIS},e}();t.ChellChartEvent=o},"./src/data/event/index.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./src/data/event/ChellChartEvent.ts"))},"./src/data/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/data/AminoAcid.ts")),r(n("./src/data/AnatomogramMapping.ts")),r(n("./src/data/Chell1DSection.ts")),r(n("./src/data/ChellConfig.ts")),r(n("./src/data/ChellData.ts")),r(n("./src/data/ChellPDB.ts")),r(n("./src/data/CouplingContainer.ts")),r(n("./src/data/Dataset.ts")),r(n("./src/data/PlotlyData.ts")),r(n("./src/data/Protein.ts")),r(n("./src/data/TintedChell1DSection.ts")),r(n("./src/data/VizData.ts")),r(n("./src/data/event/index.ts"))},"./src/helper/ColorMapper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){void 0===t&&(t=e.DEFAULT_COLORS),this.colors=t,this.colorMap=new Map}return e.prototype.getColorFor=function(e){return this.colorMap.has(e)||this.addColorToMapper(e),this.colorMap.get(e)},e.prototype.addEntry=function(e,t,n){void 0===n&&(n=!0),this.colorMap.has(e)||this.addColorToMapper(e,t,n)},e.prototype.addColorToMapper=function(e,t,n){this.colorMap.set(e,t||this.colors[this.colorMap.size%this.colors.length]),t&&n&&!this.colors.includes(t)&&this.colors.push(t)},e.DEFAULT_COLORS=["red","green","blue","orange","purple","teal","pink","yellow","violet","olive","brown"],e}();t.ColorMapper=r},"./src/helper/CouplingMapper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCouplingHeaderIndices=function(e,t){if(t){var n={};return e.filter(function(e){return e.length>=1}).map(function(t){n[t.trim()]=e.indexOf(t)}),n}return function(e){return{A_i:e.length-2,A_j:e.length-1,cn:2,dist:3,i:0,j:1}}(e)}},"./src/helper/DataHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},s=this;Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/ngl/dist/ngl.esm.js"),l=n("./src/data/index.ts"),u=n("./src/helper/index.ts");t.fetchAppropriateData=function(e,n){return o(s,void 0,void 0,function(){return a(this,function(r){switch(e){case l.VIZ_TYPE["T-SNE"]:return[2,t.fetchTSneCoordinateData(n)];case l.VIZ_TYPE["TENSOR-T-SNE"]:return[2,t.fetchTensorTSneCoordinateData(n)];case l.VIZ_TYPE.SPRING:return[2,t.fetchSpringData(n)];case l.VIZ_TYPE.NGL:return[2,t.fetchNGLDataFromDirectory(n)];case l.VIZ_TYPE.CONTACT_MAP:case l.VIZ_TYPE.INFO_PANEL:return[2,t.fetchContactMapData(n)];default:return[2,Promise.reject({error:"Currently no appropriate data getter for "+e})]}return[2]})})},t.fetchAppropriateDataFromFile=function(e,n){return o(s,void 0,void 0,function(){var r,o;return a(this,function(a){switch(a.label){case 0:switch(e){case l.VIZ_TYPE.NGL:return[3,1];case l.VIZ_TYPE.CONTACT_MAP:return[3,2]}return[3,4];case 1:return[2,t.fetchNGLDataFromFile(n)];case 2:return r={},o=t.getCouplingScoresData,[4,u.readFileAsText(n)];case 3:return[2,(r.couplingScores=o.apply(void 0,[a.sent()]),r)];case 4:return[2,Promise.reject({error:"Currently no appropriate data getter for "+e+" files"})]}})})},t.fetchSpringData=function(e){return o(s,void 0,void 0,function(){var t,n,o;return a(this,function(a){switch(a.label){case 0:return[4,d(e+"/categorical_coloring_data.json")];case 1:return t=a.sent(),n=new Array,o=Object.keys(t),t[o[0]].label_list.forEach(function(e,a){n.push({labelForCategory:o.reduce(function(e,n){var o;return r({},e,((o={})[n]=t[n].label_list[a],o))},{}),number:a})}),[2,{nodes:n}]}})})};var d=function(e){return o(s,void 0,void 0,function(){var t,n,r,o,s,c,l,d,p,f,h,m,y,g,v,_;return a(this,function(a){switch(a.label){case 0:return[4,u.fetchJSONFile(e)];case 1:s=a.sent(),c={};try{for(l=i(Object.keys(s)),d=l.next();!d.done;d=l.next()){if(p=d.value,!(f=s[p]).label_colors||!f.label_list)throw new Error("Unable to parse color data - does it have keys named 'label_colors' and 'label_list'");h={label_colors:{},label_list:f.label_list},m=s[Object.keys(s)[0]].label_colors;try{for(y=i(Object.keys(m)),g=y.next();!g.done;g=y.next())v=g.value,"number"==typeof(_=m[v])?h.label_colors[v]=_:"#"===_.charAt(0)?h.label_colors[v]=Number.parseInt("0x"+_.slice(1),16):h.label_colors[v]=Number.parseInt(_,16)}catch(e){r={error:e}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}c[p]=h}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return[2,c]}})})};t.fetchSpringCoordinateData=function(e){return o(s,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return[4,u.fetchCSVFile(e)];case 1:return t=r.sent(),n=[],(t?t.split("\n"):[]).forEach(function(e,t,r){var o=e.split(",");if(o.length>=3){var a=parseFloat(o[1].trim()),i=parseFloat(o[2].trim()),s=parseInt(o[0].trim(),10);n[s]=[a,i]}else if(0!==e.localeCompare(""))throw new Error("Unable to parse coordinate data - Row "+t+" does not have at least 3 columns!")}),[2,n]}})})},t.fetchTSneCoordinateData=function(e){return o(s,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return[4,u.fetchCSVFile(e+"/tsne_output.csv")];case 1:return t=r.sent(),n=[],t.split("\n").forEach(function(e){if(e.length>0){var t=e.split(","),r=[parseFloat(t[0]),parseFloat(t[1])];n.push(r)}}),[2,n]}})})},t.fetchTensorTSneCoordinateDataFromFile=function(e){return o(s,void 0,void 0,function(){var t,n,r,o,s,c,l;return a(this,function(a){switch(a.label){case 0:return[4,u.fetchCSVFile(e)];case 1:r=a.sent(),o=new Array;try{for(s=i(r.split("\n")),c=s.next();!c.done;c=s.next())(l=c.value).length>=1&&o.push(l.split(",").map(parseFloat))}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return[2,o]}})})},t.fetchTensorTSneCoordinateData=function(e){return o(s,void 0,void 0,function(){return a(this,function(n){return[2,t.fetchTensorTSneCoordinateDataFromFile(e+"/tsne_matrix.csv")]})})},t.fetchGraphData=function(e){return o(s,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return[4,u.fetchJSONFile(e)];case 1:if(!(t=n.sent()).nodes||!t.links)throw new Error("Unable to parse graph data - does it have keys named 'nodes' and 'links'");return[2,t]}})})},t.fetchNGLDataFromDirectory=function(e){return o(s,void 0,void 0,function(){var n;return a(this,function(r){return 0===e.length?[2,Promise.reject("Empty path.")]:(n=e+"/protein.pdb",[2,t.fetchNGLDataFromFile(n)])})})},t.fetchNGLDataFromFile=function(e,t){return void 0===t&&(t={}),o(s,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,c.autoLoad(e,t)];case 1:return[2,n.sent()]}})})},t.fetchContactMapData=function(e,n){return void 0===n&&(n="known"),o(s,void 0,void 0,function(){var r,i,s,c,d,p=this;return a(this,function(f){switch(f.label){case 0:return 0===e.length?[2,Promise.reject("Empty path.")]:(i=["coupling_scores.csv","residue_mapping.csv"],[4,Promise.all(i.map(function(t){return o(p,void 0,void 0,function(){return a(this,function(n){return[2,u.fetchCSVFile(e+"/"+t)]})})}))]);case 1:return s=f.sent(),[4,l.ChellPDB.createPDB(e+"/protein.pdb")];case 2:return c=f.sent(),(r={})[n]=c,d=r,[2,{couplingScores:c.amendPDBWithCouplingScores(t.getCouplingScoresData(s[0],u.generateResidueMapping(s[1])).rankedContacts,l.CONTACT_DISTANCE_PROXIMITY.CLOSEST),pdbData:d,secondaryStructures:[]}]}})})},t.getCouplingScoresData=function(e,t){void 0===t&&(t=[]);var n=e.split("\n")[0].split(","),o=p(n),a=u.getCouplingHeaderIndices(n,o),i=new l.CouplingContainer;return e.split("\n").slice(o?1:0).filter(function(e){return e.split(",").length>=2}).map(function(e){var n=e.split(","),o=f(n,a);if(t.length>=1){var s=t.findIndex(function(e){return e.couplingsResno===o.i}),c=t.findIndex(function(e){return e.couplingsResno===o.j});i.addCouplingScore(r({},o,{A_i:t[s].pdbResCode,A_j:t[c].pdbResCode,i:t[s].pdbResno,j:t[c].pdbResno}))}else i.addCouplingScore(o)}),i};var p=function(e){return["cn","dist","i","j"].filter(function(t){return e.includes(t)}).length>=1},f=function(e,t){return Object.entries(t).reduce(function(t,n){var o,a=n[0],i=n[1];return r({},t,((o={})[a]=isNaN(Number(e[i]))?e[i]:Number(e[i]),o))},{i:-1,j:-1})};t.augmentCouplingScoresWithResidueMapping=function(e,t){var n,r;void 0===t&&(t=[]);var o=new l.CouplingContainer,a=function(e){var n=t.findIndex(function(t){return t.couplingsResno===e.i}),r=t.findIndex(function(t){return t.couplingsResno===e.j});o.addCouplingScore({A_i:t[n].pdbResCode,A_j:t[r].pdbResCode,cn:e.cn,dist:e.dist,i:t[n].pdbResno,j:t[r].pdbResno})};try{for(var s=i(e),c=s.next();!c.done;c=s.next()){a(c.value)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},t.getSecondaryStructureData=function(e){return e.split("\n").slice(1).filter(function(e){return e.split(",").length>=3}).map(function(e){var t=e.split(",");return{resno:parseFloat(t[1]),structId:t[2]}})}},"./src/helper/FetchHelper.ts":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCSVFile=function(e){return r(a,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:if((t=n.sent()).ok)return[2,t.text()];throw new Error(i("CSV",t))}})})},t.fetchJSONFile=function(e){return r(a,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:if((t=n.sent()).ok)return[2,t.json()];throw new Error(i("JSON",t))}})})};var i=function(e,t){return"Chell-viz error fetching "+e+" File!\nStatus: "+t.status+"\nMessage: "+t.statusText+"\n"};t.readFileAsText=function(e){return r(a,void 0,void 0,function(){var t;return o(this,function(n){return t=new FileReader,[2,new Promise(function(n,r){t.onerror=function(){t.abort(),r("Problem parsing input file.")},t.onload=function(){n(t.result)},t.readAsText(e)})]})})}},"./src/helper/FunctionHelper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_FUNCTION=function(){}},"./src/helper/NGLHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRepParams={color:"red",labelBackground:!0,labelBackgroundColor:"lightgrey",labelBackgroundMargin:.75,labelBorder:!0,labelBorderColor:"white",labelBorderWidth:.3,labelColor:"black",labelSize:5,labelUnit:"angstrom",labelZOffset:35},t.createDistanceRepresentation=function(e,n,o){return void 0===o&&(o={}),e.addRepresentation("distance",r({},t.defaultRepParams,o,{atomPair:Array.isArray(n)?[n]:[n.split(",")]}))},t.createBallStickRepresentation=function(e,t){return e.addRepresentation("ball+stick",{sele:t.join(", ")})},t.createSecStructRepresentation=function(e,t,n,r){void 0===n&&(n=2),void 0===r&&(r="#feb83f");var o=e.addRepresentation("cartoon",{color:r,radiusScale:n,sele:t.start+"-"+t.end});return o.setParameters({wireframe:!0}),o}},"./src/helper/PlotlyHelper.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/data/index.ts");t.generateScatterGLData=function(e,n){return void 0===n&&(n=!1),r({},t.generateScatterData(e,n),{type:i.PLOTLY_CHART_TYPE.scattergl})},t.generateScatterData=function(e,t){void 0===t&&(t=!1);var n=e.marker,o=e.points,c=e.hoverinfo,l=e.subtitle,u=e.name,d=e.text,p=o.map(function(e){return e.i}),f=o.map(function(e){return e.j}),h=o.map(function(e){return e.dist?e.dist:-1}),m=d?Array.isArray(d)?d:[d]:[];return{hoverinfo:c||"x+y+z",marker:r({color:s(t,h,e),size:e.nodeSize},n),mode:"markers",name:u+" "+l,text:t?a(m,m.map(function(e){return"("+e.substr(1,e.length-2).split(", ").reverse().join(", ")+")"})):m,type:i.PLOTLY_CHART_TYPE.scatter,x:t?a(p,f):p,y:t?a(f,p):f,z:t?a(h,h):h}};var s=function(e,t,n){var r=e?2*t.length:t.length,o=new Array(r);if(n.marker&&"string"==typeof n.marker.color)return o.fill(n.marker.color);var i=t.map(function(e){return e.toString()});return e?a(i,i):i};t.generateFloat32ArrayFromContacts=function(e){var t=new Float32Array(2*e.length);return e.forEach(function(e,n){t[2*n]=e.i,t[2*n+1]=e.j}),t},t.generatePointCloudData=function(e,n){void 0===n&&(n=!1);var o=e.points,s=t.generateFloat32ArrayFromContacts(o);return{marker:r({},e.marker,{sizemax:2*e.nodeSize,sizemin:e.nodeSize}),mode:"markers",type:i.PLOTLY_CHART_TYPE.pointcloud,xy:n?new Float32Array(a(Array.from(s),Array.from(s).slice().reverse())):s}}},"./src/helper/ResidueMapper.ts":function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=["up_index","up_residue","pdb_index","pdb_residue"],a=["id","coord_id","one_letter_code"];t.generateResidueMapping=function(e){var t=/\t|,/,n=e.split("\n")[0].split(t),r=s(n),a=i(n,r),c=r?a.id:a.up_index,l=r?a.coord_id:a.pdb_index,u=r?a.one_letter_code:a.pdb_residue;return e.split("\n").slice(1).reduce(function(e,n){var i=n.split(t);return i.length>=o.length&&e.push({couplingsResCode:r?i[u]:i[a.up_residue],couplingsResno:parseInt(i[c],10),pdbResCode:i[u],pdbResno:parseInt(i[l],10)}),e},new Array)};var i=function(e,t){var n={},r=t?a:o;return e.length>=o.length&&r.map(function(t){if(!e.includes(t))throw new Error("Missing error "+t+" in residue mapping file!");n[t]=e.indexOf(t)}),n},s=function(e){var t,n;try{for(var o=r(a),i=o.next();!i.done;i=o.next()){var s=i.value;if(!e.includes(s))return!1}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0}},"./src/helper/StringHelper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeFirstLetter=function(e){return""+e.substr(0,1).toLocaleUpperCase()+e.substr(1).toLocaleLowerCase()}},"./src/helper/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/helper/ColorMapper.ts")),r(n("./src/helper/CouplingMapper.ts")),r(n("./src/helper/DataHelper.ts")),r(n("./src/helper/FetchHelper.ts")),r(n("./src/helper/FunctionHelper.ts")),r(n("./src/helper/NGLHelper.ts")),r(n("./src/helper/PlotlyHelper.ts")),r(n("./src/helper/ResidueMapper.ts")),r(n("./src/helper/StringHelper.ts"))},"./src/reducer/ChellMiddleware.ts":function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChellMiddleware=function(e){return function(t){return function(n){var a,i,s=t(n);try{for(var c=r(o.transforms.keys()),l=c.next();!l.done;l=c.next()){var u=l.value,d=u.split("-");if(d[0].includes(n.meta)){var p=o.transforms.get(u);if(p){var f=p(e.getState());e.dispatch({payload:f,type:(d[d.length-1]+"_SET").toUpperCase()})}}}}catch(e){a={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return s}}};var o=function(){function e(e){void 0===e&&(e=[]),this.requiredDataSubs=e}return e.addTransform=function(e){var t=e.fromState,n=e.toState,r="string"==typeof t?t:(t.namespace?t.namespace:"chell")+"/"+t.stateName,o="string"==typeof n?n:(n.namespace?n.namespace:"chell")+"/"+n.stateName;this.transforms.set(r+"-"+o,e.fn)},e.transforms=new Map,e}();t.ChellMiddlewareTransformer=o},"./src/reducer/ContainerReducer.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/immutable/dist/immutable.js"),o=n("./node_modules/typesafe-actions/dist/index.umd.js"),a=n("./src/action/index.ts"),i=n("./src/reducer/index.ts");t.ContainerReducer=function(e,t){void 0===t&&(t="chell");var n=a.createContainerActions(e,t),i=r.Set();return function(e,t){switch(void 0===e&&(e=i),t.type){case o.getType(n.add):var a=t.payload;return e.add(a);case o.getType(n.addMultiple):return(a=t.payload).reduce(function(e,t){return e.add(t)},e);case o.getType(n.clear):return r.Set();case o.getType(n.remove):a=t.payload;return e.remove(a);case o.getType(n.removeMultiple):return(a=t.payload).reduce(function(e,t){return e.remove(t)},e);case o.getType(n.set):a=t.payload;return r.Set(a);default:return e}}},t.createContainerReducer=function(e,n){void 0===n&&(n="chell");var r=t.ContainerReducer(e,n),o=n+"/"+e;i.ReducerRegistry.register(o,r)}},"./src/reducer/DataReducer.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/typesafe-actions/dist/index.umd.js"),o=n("./src/action/index.ts"),a=n("./src/reducer/index.ts");t.DataReducer=function(e,t){void 0===t&&(t="chell");var n=o.createDataActions(e,t);return function(e,t){switch(void 0===e&&(e=null),t.type){case r.getType(n.success):return t.payload;case r.getType(n.failure):var o=t.payload;return console.error(o),null;default:return e}}},t.createDataReducer=function(e,n){void 0===n&&(n="chell");var r=t.DataReducer(e,n),o=n+"/"+e;a.ReducerRegistry.register(o,r)}},"./src/reducer/ObjectReducer.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/immutable/dist/immutable.js"),o=n("./node_modules/typesafe-actions/dist/index.umd.js"),a=n("./src/action/index.ts"),i=n("./src/reducer/index.ts");t.ObjectReducer=function(e,t){void 0===t&&(t="chell");var n=a.createObjectActions(e,t),i=r.Map();return function(e,t){switch(void 0===e&&(e=i),t.type){case o.getType(n.add):var a=t.payload;return e.merge(a);case o.getType(n.clear):return r.Map();case o.getType(n.remove):a=t.payload;return e.remove(a);case o.getType(n.removeMultiple):return(a=t.payload).reduce(function(e,t){return e.remove(t)},e);case o.getType(n.set):a=t.payload;return r.Map(a);case o.getType(n.toggle):var s=t.payload,c=e;return Object.keys(s).forEach(function(t){c=e.has(t)?e.remove(t):e.set(t,s[t])}),c;default:return e}}},t.createObjectReducer=function(e,n){void 0===n&&(n="chell");var r=t.ObjectReducer(e,n),o=n+"/"+e;i.ReducerRegistry.register(o,r)}},"./src/reducer/ResiduePairReducer.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/redux/es/redux.js"),o=n("./src/reducer/index.ts");t.RESIDUE_PAIR_DATASET_NAME="residuePair",t.ResiduePairReducer=function(e){return void 0===e&&(e="chell"),r.combineReducers({candidates:o.ContainerReducer(t.RESIDUE_PAIR_DATASET_NAME+"/candidates",e),hovered:o.ContainerReducer(t.RESIDUE_PAIR_DATASET_NAME+"/hovered",e),locked:o.ObjectReducer(t.RESIDUE_PAIR_DATASET_NAME+"/locked",e)})},t.createResiduePairReducer=function(e){void 0===e&&(e="chell");var n=t.ResiduePairReducer(e),r=e+"/"+t.RESIDUE_PAIR_DATASET_NAME;o.ReducerRegistry.register(r,n)}},"./src/reducer/SpringReducer.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/redux/es/redux.js"),o=n("./src/reducer/index.ts");t.SpringReducer=function(e){return void 0===e&&(e="chell"),r.combineReducers({category:o.ValueReducer("spring/category",e),graphData:o.DataReducer("spring/graphData",e),species:o.ValueReducer("spring/species",e)})},t.createSpringReducer=function(e){void 0===e&&(e="chell");var n=t.SpringReducer(e),r=e+"/spring";o.ReducerRegistry.register(r,n)}},"./src/reducer/Store.ts":function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/redux/es/redux.js"),i=(n("./node_modules/redux-logger/dist/redux-logger.js"),n("./node_modules/redux-thunk/es/index.js")),s=n("./src/reducer/index.ts"),c=[i.default];c.push(s.ChellMiddleware);var l={visualizations:new Array},u=function(e){var t=Object.keys(e);return Object.keys(l).forEach(function(n){-1===t.indexOf(n)&&(e[n]=function(e){return void 0===e&&(e=null),e})}),a.combineReducers(e)},d=u(s.ReducerRegistry.getReducers());s.ReducerRegistry.setChangeListener(function(e){t.Store.replaceReducer(u(e))});t.Store=a.createStore(d,l,a.applyMiddleware.apply(void 0,o(c)))},"./src/reducer/ValueReducer.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/typesafe-actions/dist/index.umd.js"),o=n("./src/action/index.ts"),a=n("./src/reducer/index.ts");t.ValueReducer=function(e,t){void 0===t&&(t="chell");var n=o.createValueActions(e,t);return function(e,t){switch(void 0===e&&(e=null),t.type){case r.getType(n.clear):return null;case r.getType(n.set):return t.payload;default:return e}}},t.createValueReducer=function(e,n){void 0===n&&(n="chell");var r=t.ValueReducer(e,n),o=n+"/"+e;a.ReducerRegistry.register(o,r)}},"./src/reducer/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/reducer/registry/index.ts")),r(n("./src/reducer/ChellMiddleware.ts")),r(n("./src/reducer/ContainerReducer.ts")),r(n("./src/reducer/ObjectReducer.ts")),r(n("./src/reducer/DataReducer.ts")),r(n("./src/reducer/ResiduePairReducer.ts")),r(n("./src/reducer/SpringReducer.ts")),r(n("./src/reducer/Store.ts")),r(n("./src/reducer/ValueReducer.ts"))},"./src/reducer/registry/ReducerRegistry.ts":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=new(function(){function e(){this.reducers={},this.emitChange=null}return e.prototype.getReducers=function(){return r({},this.reducers)},e.prototype.register=function(e,t){var n;Object.keys(this.reducers).includes(e)?console.log("Reducer '"+e+" already exists, not replacing"):this.reducers=r({},this.reducers,((n={})[e]=t,n)),this.emitChange&&this.emitChange(this.getReducers())},e.prototype.setChangeListener=function(e){this.emitChange=e},e}());t.ReducerRegistry=o},"./src/reducer/registry/index.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./src/reducer/registry/ReducerRegistry.ts"))},"./src/selector/ContainerSelectors.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/immutable/dist/immutable.js");t.selectCurrentItems=function(e,t,n){return void 0===n&&(n="chell"),e&&e[n+"/"+t]?e[n+"/"+t]:r.Set()}},"./src/selector/ObjectSelectors.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/immutable/dist/immutable.js");t.selectObject=function(e,t,n){return void 0===n&&(n="chell"),e&&e[n+"/"+t]?e[n+"/"+t]:r.Map()}},"./src/selector/ResiduePairSelectors.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/immutable/dist/immutable.js");t.getResiduePairs=function(e,t){return void 0===t&&(t="chell"),void 0!==e&&e[t+"/residuePair"]?e[t+"/residuePair"]:{candidates:r.Set(),hovered:r.Set(),locked:r.Map()}},t.getCandidates=function(e,n){return void 0===n&&(n="chell"),t.getResiduePairs(e,n).candidates},t.getHovered=function(e,n){return void 0===n&&(n="chell"),t.getResiduePairs(e,n).hovered},t.getLocked=function(e,n){return void 0===n&&(n="chell"),t.getResiduePairs(e,n).locked}},"./src/selector/SpringSelectors.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/immutable/dist/immutable.js"),o=n("./node_modules/reselect/es/index.js");t.getSpring=function(e,t){return void 0===t&&(t="chell"),void 0!==e&&e[t+"/spring"]?e[t+"/spring"]:{category:"",graphData:{nodes:[]},species:"mus_musculus"}},t.getSpecies=function(e,n){return void 0===n&&(n="chell"),t.getSpring(e,n).species},t.getGraphData=function(e,n){return void 0===n&&(n="chell"),t.getSpring(e,n).graphData},t.getCategories=o.createSelector([t.getGraphData],function(e){var t=e&&e.nodes?e.nodes:[],n=r.Set(t.length>=1?Object.keys(t[0].labelForCategory):[]),o=new Map;return n.forEach(function(e){if(e){var n=r.Set(Array.from(t.map(function(t){return t.labelForCategory[e]})));o.set(e,n)}}),n}),t.getLabels=o.createSelector([t.getGraphData],function(e){var t=e&&e.nodes?e.nodes:[],n=r.Set(t.length>=1?Object.keys(t[0].labelForCategory):[]),o=r.Set();return n.forEach(function(e){e&&(o=o.merge(r.Set(Array.from(t.map(function(t){return t.labelForCategory[e]})))))}),o})},"./src/selector/ValueSelectors.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectCurrentValue=function(e,t,n,r){return void 0===n&&(n=null),void 0===r&&(r="chell"),e&&e[r+"/"+t]?e[r+"/"+t]:n}},"./src/selector/index.ts":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./src/selector/ContainerSelectors.ts")),r(n("./src/selector/ObjectSelectors.ts")),r(n("./src/selector/ResiduePairSelectors.ts")),r(n("./src/selector/SpringSelectors.ts")),r(n("./src/selector/ValueSelectors.ts"))},0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){}}]);