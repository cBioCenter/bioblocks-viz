!function(t){function e(e){for(var o,i,l=e[0],s=e[1],c=e[2],d=0,f=[];d<l.length;d++)i=l[d],r[i]&&f.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);for(u&&u(e);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={4:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=s;a.push(["./TContainer.tsx",0]),n()}({"./TContainer.tsx":function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/react/index.js"),a=n("./node_modules/react-dom/index.js"),i=n("./src/component/TComponent.tsx"),l={};window.addEventListener("message",function(t){try{var e=JSON.parse(t.data);document.getElementById("tcontainer-root")&&"loaded"===e.type&&(l=o({},l,e.payload),a.render(r.createElement(i.default,o({},l)),document.getElementById("tcontainer-root")))}catch(t){console.log(t)}}),a.render(r.createElement(i.default,o({},l)),document.getElementById("tcontainer-root"))},"./node_modules/memoize-one/dist/memoize-one.esm.js":function(t,e,n){"use strict";n.r(e);var o=function(t,e){return t===e};e.default=function(t,e){var n;void 0===e&&(e=o);var r,a=[],i=!1,l=function(t,n){return e(t,a[n])};return function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i&&n===this&&o.length===a.length&&o.every(l)?r:(r=t.apply(this,o),i=!0,n=this,a=o,r)}}},"./src/component/TComponent.tsx":function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),i=n("./node_modules/react/index.js"),l=n("./src/context/CellContext.tsx"),s=n("./src/component/chart/PlotlyChart.tsx"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.getXs=a.default(function(t){return t.map(function(t){return t[0]})}),n.onMouseSelect=function(t){return function(e){e.selectedPoints&&t(e.selectedPoints.map(function(t){return t}))}},n}return o(e,t),e.prototype.render=function(){var t=this.props,e=t.cellContext,n=t.data,o=t.height,a=t.padding,l=t.pointColor,c=t.width;return i.createElement("div",{id:"TComponent",style:{padding:a}},i.createElement(s.default,{config:r({},s.defaultPlotlyConfig,{modeBarButtons:[["zoomOut2d","zoomIn2d"],["resetScale2d","autoScale2d"],["select2d","pan2d"]]}),data:[{marker:{color:l,opacity:.25,size:4},mode:"markers",type:"scattergl",x:this.getXs(n),xaxis:"x",y:n.map(function(t){return t[1]}),yaxis:"y"},{marker:{color:"#ff0000",size:6},mode:"markers",type:"scatter",x:e.currentCells.map(function(t){return n[t][0]}),xaxis:"x",y:e.currentCells.map(function(t){return n[t][1]}),yaxis:"y"}],layout:r({},s.defaultPlotlyLayout,{height:o,margin:{b:20},width:c,yaxis:{autorange:!0}}),onSelectedCallback:this.onMouseSelect(e.addCells)}))},e.defaultProps={cellContext:r({},l.initialCellContext),data:[[0],[0]],height:400,padding:0,pointColor:"#000000",width:400},e}(i.Component),u=function(t){return i.createElement(l.default.Consumer,null,function(e){return i.createElement(c,r({},t,{cellContext:r({},e,t.cellContext)}))})};e.TComponent=u,e.default=u},"./src/component/chart/PlotlyChart.tsx":function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,a){function i(t){try{s(o.next(t))}catch(t){a(t)}}function l(t){try{s(o.throw(t))}catch(t){a(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(i,l)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var u=n("./node_modules/deep-equal/index.js"),d=n("./node_modules/immutable/dist/immutable.js"),f=n("./node_modules/plotly.js-dist/plotly.js"),p=n("./node_modules/react/index.js"),h=n("./node_modules/semantic-ui-react/dist/es/index.js"),y=n("./src/data/chell-data.ts"),C=n("./src/data/event/ChellChartEvent.ts");!function(t){t.bar="bar",t.pointcloud="pointcloud",t.scatter="scatter",t.scattergl="scattergl",t.scatter3d="scatter3d"}(e.PLOTLY_CHART_TYPE||(e.PLOTLY_CHART_TYPE={})),e.defaultPlotlyConfig={displayModeBar:!1,doubleClick:"reset",scrollZoom:!0,showAxisDragHandles:!1,staticPlot:!1},e.defaultPlotlyLayout={autosize:!0,dragmode:"zoom",height:400,hovermode:"closest",legend:{},margin:{b:10,l:40,r:10,t:10},showlegend:!1,title:"",width:400};var v=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.plotlyCanvas=null,n.isDoubleClickInProgress=!1,n.canvasRef=null,n.plotlyFormattedData=[],n.resize=function(){n.plotlyCanvas&&f.Plots.resize(n.plotlyCanvas)},n.draw=function(){return a(n,void 0,void 0,function(){var t,e,n;return i(this,function(o){return t=this.props,e=t.config,n=t.layout,this.plotlyCanvas&&this.canvasRef&&f.react(this.canvasRef,this.plotlyFormattedData,this.getMergedLayout(n,this.plotlyFormattedData),this.getMergedConfig(e)),[2]})})},n.deriveChartPiece=function(t,e,n){if(n){var o=n.xaxis&&"x"!==n.xaxis,r=n.yaxis&&"y"!==n.yaxis;if(o||r)return{chartPiece:y.CHELL_CHART_PIECE.AXIS,selectedPoints:o?[e]:[t]}}return{chartPiece:y.CHELL_CHART_PIECE.POINT,selectedPoints:[t,e]}},n.generateExtraPlotlyAxis=function(t){return Array.from(t.values()).filter(function(t){return t.length>=2}).map(function(t){var e,n=t.substr(0,1),o=Number.parseInt(t.substr(1),10);return(e={})[n+"axis"+o]={autosize:!1,domain:[1-.05*(o-1),1-.05*(o-2)],dragmode:"select",fixedrange:!0,margin:{autoexpand:!1},visible:!1},e}).reduce(function(t,e){return r({},t,e)},{})},n.getMergedConfig=function(t){return void 0===t&&(t={}),r({},d.fromJS(r({},e.defaultPlotlyConfig)).mergeDeep(d.fromJS(r({},t))).toJS())},n.getMergedLayout=function(t,o){return void 0===t&&(t={}),void 0===o&&(o=[]),r({},d.fromJS(r({},e.defaultPlotlyLayout,n.deriveAxisParams(o))).mergeDeep(d.fromJS(r({},t))).toJS())},n.onClick=function(t){if(!n.isDoubleClickInProgress){var e=n.props.onClickCallback;if(t.points&&t.points.length>0&&e){var o=!t.points[0].data||!t.points[0].data.x&&!t.points[0].data.y?t.points[0]:{x:t.points[0].data.x[0],y:t.points[0].data.y[0]},r=o.x,a=o.y,i=n.deriveChartPiece(r,a,t.points[0].data),l=i.chartPiece,s=i.selectedPoints;e(new C.default(y.CHELL_CHART_EVENT_TYPE.CLICK,l,s))}}},n.onDoubleClick=function(){n.isDoubleClickInProgress=!0;var t=n.props.onDoubleClickCallback;t&&t(new C.default(y.CHELL_CHART_EVENT_TYPE.DOUBLE_CLICK))},n.onHover=function(t){var e=n.props.onHoverCallback;if(t.points&&t.points[0]&&e){var o=t.points[0].data&&t.points[0].data.x&&t.points[0].data.y?{x:t.points[0].data.x[0],y:t.points[0].data.y[0]}:t.points[0],r=o.x,a=o.y,i=n.deriveChartPiece(r,a,t.points[0].data),l=i.chartPiece,s=i.selectedPoints;e(new C.default(y.CHELL_CHART_EVENT_TYPE.HOVER,l,s))}},n.onRelayout=function(t){n.isDoubleClickInProgress=!1;var e=n.props.onRelayoutCallback;e&&e(new C.default(y.CHELL_CHART_EVENT_TYPE.RELAYOUT))},n.onSelect=function(t){return a(n,void 0,void 0,function(){var e,n,o;return i(this,function(r){switch(r.label){case 0:return e=this.props.onSelectedCallback,t&&e&&(n=new Array,t.points.length>=1?n=t.points.reduce(function(t,e){return t.push.apply(t,s([e.x,e.y])),t},n):t.range&&n.push(t.range.x[0],t.range.y[0],t.range.x[1],t.range.y[1]),o=(n.length>0?this.deriveChartPiece(n[0],n[1]):{chartPiece:y.CHELL_CHART_PIECE.POINT}).chartPiece,e(new C.default(y.CHELL_CHART_EVENT_TYPE.SELECTION,o,n))),[4,this.draw()];case 1:return r.sent(),[2]}})})},n.onUnHover=function(t){var e=n.props.onUnHoverCallback;if(t&&e){var o=t.points[0],r=o.data,a=o.x,i=o.y,l=n.deriveChartPiece(a,i,r),s=l.chartPiece,c=l.selectedPoints;e(new C.default(y.CHELL_CHART_EVENT_TYPE.UNHOVER,s,c))}},n}return o(n,t),n.prototype.attachListeners=function(){this.plotlyCanvas&&(this.plotlyCanvas.on("plotly_click",this.onClick),this.plotlyCanvas.on("plotly_doubleclick",this.onDoubleClick),this.plotlyCanvas.on("plotly_hover",this.onHover),this.plotlyCanvas.on("plotly_relayout",this.onRelayout),this.plotlyCanvas.on("plotly_selected",this.onSelect),this.plotlyCanvas.on("plotly_unhover",this.onUnHover)),window.removeEventListener("resize",this.resize),window.addEventListener("resize",this.resize)},n.prototype.componentDidUpdate=function(t){var e=this.props,n=e.data,o=e.layout,r=e.config;JSON.stringify(n)===JSON.stringify(t.data)&&u(o,t.layout)&&u(r,t.config)||(this.plotlyFormattedData=d.fromJS(n).toJS(),this.draw())},n.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var t,e;return i(this,function(n){switch(n.label){case 0:return!this.canvasRef||this.plotlyCanvas?[3,2]:(t=this.props.data,this.plotlyFormattedData=d.fromJS(t).toJS(),e=this,[4,f.react(this.canvasRef,this.plotlyFormattedData)]);case 1:e.plotlyCanvas=n.sent(),this.attachListeners(),this.draw(),n.label=2;case 2:return[2]}})})},n.prototype.componentWillUnmount=function(){this.plotlyCanvas&&(f.purge(this.plotlyCanvas),this.plotlyCanvas=null,this.canvasRef=null),window.removeEventListener("resize",this.resize)},n.prototype.render=function(){var t=this,e=this.props.showLoader;return p.createElement("div",null,e&&p.createElement(h.Dimmer,{active:!this.isDataLoaded()},p.createElement(h.Loader,null)),p.createElement("div",{className:"plotly-chart",ref:function(e){return t.canvasRef=e||null},style:{marginBottom:5}}))},n.prototype.deriveAxisParams=function(t){var e,n,o=new Set,a=new Set;try{for(var i=c(t),l=i.next();!l.done;l=i.next()){var s=l.value,u=s.xaxis,d=s.yaxis;u&&o.add(u),d&&a.add(d)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r({},this.generateExtraPlotlyAxis(o),this.generateExtraPlotlyAxis(a),{xaxis:{domain:[0,1-.05*o.size],range:[30],zeroline:!1},yaxis:{domain:[0,1-.05*o.size],range:[30],zeroline:!1}})},n.prototype.isDataLoaded=function(){return this.props.data.length>0||this.plotlyFormattedData.filter(function(t){return t.x&&t.x.length>=1}).length>0},n.defaultProps={config:{},data:[],layout:{},showLoader:!0},n}(p.Component);e.PlotlyChart=v,e.default=v},"./src/context/CellContext.tsx":function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/react/index.js");e.initialCellContext={addCells:function(t){},currentCells:new Array,removeAllCells:function(){},removeCells:function(t){}};var a=function(t){function e(e){var n=t.call(this,e)||this;return n.onAddCells=function(t){n.setState({currentCells:t})},n.onRemoveAllCells=function(){n.setState({currentCells:[]})},n.onRemoveCells=function(t){var e=n.state.currentCells;n.setState({currentCells:e.filter(function(e){return-1===t.indexOf(e)})})},n.state={addCells:n.onAddCells,currentCells:new Array,removeAllCells:n.onRemoveAllCells,removeCells:n.onRemoveCells},n}return o(e,t),e.prototype.render=function(){return r.createElement(i.Provider,{value:this.state},this.props.children)},e}(r.Component);e.CellContextHandler=a;var i=r.createContext(e.initialCellContext);e.CellContext=i,e.default=i},"./src/data/chell-data.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.CONTACT_MAP="Contact Map",t.INFO_PANEL="Info Panel",t.NGL="NGL",t.SPRING="Spring",t["TENSOR-T-SNE"]="TENSOR-T-SNE",t["T-SNE"]="T-SNE",t["T-SNE-FRAME"]="T-SNE-FRAME"}(e.VIZ_TYPE||(e.VIZ_TYPE={})),function(t){t.CLOSEST="CLOSEST",t.C_ALPHA="C-α"}(e.CONTACT_DISTANCE_PROXIMITY||(e.CONTACT_DISTANCE_PROXIMITY={})),function(t){t.RADIO="RADIO",t.SLIDER="SLIDER"}(e.CONFIGURATION_COMPONENT_TYPE||(e.CONFIGURATION_COMPONENT_TYPE={})),function(t){t.G="310_HELIX",t.H="ALPHA_HELIX",t.I="PI_HELIX",t.T="HYDROGEN_BONDED_TURN",t.E="BETA_SHEET",t.B="BETA_BRIDGE",t.S="BEND",t.C="COIL"}(e.SECONDARY_STRUCTURE_CODES||(e.SECONDARY_STRUCTURE_CODES={})),function(t){t[t.CLICK=0]="CLICK",t[t.DOUBLE_CLICK=1]="DOUBLE_CLICK",t[t.HOVER=2]="HOVER",t[t.RELAYOUT=3]="RELAYOUT",t[t.SELECTION=4]="SELECTION",t[t.UNHOVER=5]="UNHOVER"}(e.CHELL_CHART_EVENT_TYPE||(e.CHELL_CHART_EVENT_TYPE={})),function(t){t[t.AXIS=0]="AXIS",t[t.POINT=1]="POINT"}(e.CHELL_CHART_PIECE||(e.CHELL_CHART_PIECE={}))},"./src/data/event/ChellChartEvent.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("./src/data/chell-data.ts"),r=function(){function t(t,e,n){void 0===n&&(n=[]),this.type=t,this.chartPiece=e,this.selectedPoints=n}return t.prototype.isAxis=function(){return this.chartPiece===o.CHELL_CHART_PIECE.AXIS},t}();e.ChellChartEvent=r,e.default=r}});