(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./node_modules/md5.js/index.js":function(t,r,e){"use strict";var s=e("./node_modules/inherits/inherits_browser.js"),n=e("./node_modules/hash-base/index.js"),i=e("./node_modules/safe-buffer/index.js").Buffer,o=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function h(t,r){return t<<r|t>>>32-r}function u(t,r,e,s,n,i,o){return h(t+(r&e|~r&s)+n+i|0,o)+r|0}function l(t,r,e,s,n,i,o){return h(t+(r&s|e&~s)+n+i|0,o)+r|0}function c(t,r,e,s,n,i,o){return h(t+(r^e^s)+n+i|0,o)+r|0}function m(t,r,e,s,n,i,o){return h(t+(e^(r|~s))+n+i|0,o)+r|0}s(a,n),a.prototype._update=function(){for(var t=o,r=0;r<16;++r)t[r]=this._block.readInt32LE(4*r);var e=this._a,s=this._b,n=this._c,i=this._d;e=u(e,s,n,i,t[0],3614090360,7),i=u(i,e,s,n,t[1],3905402710,12),n=u(n,i,e,s,t[2],606105819,17),s=u(s,n,i,e,t[3],3250441966,22),e=u(e,s,n,i,t[4],4118548399,7),i=u(i,e,s,n,t[5],1200080426,12),n=u(n,i,e,s,t[6],2821735955,17),s=u(s,n,i,e,t[7],4249261313,22),e=u(e,s,n,i,t[8],1770035416,7),i=u(i,e,s,n,t[9],2336552879,12),n=u(n,i,e,s,t[10],4294925233,17),s=u(s,n,i,e,t[11],2304563134,22),e=u(e,s,n,i,t[12],1804603682,7),i=u(i,e,s,n,t[13],4254626195,12),n=u(n,i,e,s,t[14],2792965006,17),e=l(e,s=u(s,n,i,e,t[15],1236535329,22),n,i,t[1],4129170786,5),i=l(i,e,s,n,t[6],3225465664,9),n=l(n,i,e,s,t[11],643717713,14),s=l(s,n,i,e,t[0],3921069994,20),e=l(e,s,n,i,t[5],3593408605,5),i=l(i,e,s,n,t[10],38016083,9),n=l(n,i,e,s,t[15],3634488961,14),s=l(s,n,i,e,t[4],3889429448,20),e=l(e,s,n,i,t[9],568446438,5),i=l(i,e,s,n,t[14],3275163606,9),n=l(n,i,e,s,t[3],4107603335,14),s=l(s,n,i,e,t[8],1163531501,20),e=l(e,s,n,i,t[13],2850285829,5),i=l(i,e,s,n,t[2],4243563512,9),n=l(n,i,e,s,t[7],1735328473,14),e=c(e,s=l(s,n,i,e,t[12],2368359562,20),n,i,t[5],4294588738,4),i=c(i,e,s,n,t[8],2272392833,11),n=c(n,i,e,s,t[11],1839030562,16),s=c(s,n,i,e,t[14],4259657740,23),e=c(e,s,n,i,t[1],2763975236,4),i=c(i,e,s,n,t[4],1272893353,11),n=c(n,i,e,s,t[7],4139469664,16),s=c(s,n,i,e,t[10],3200236656,23),e=c(e,s,n,i,t[13],681279174,4),i=c(i,e,s,n,t[0],3936430074,11),n=c(n,i,e,s,t[3],3572445317,16),s=c(s,n,i,e,t[6],76029189,23),e=c(e,s,n,i,t[9],3654602809,4),i=c(i,e,s,n,t[12],3873151461,11),n=c(n,i,e,s,t[15],530742520,16),e=m(e,s=c(s,n,i,e,t[2],3299628645,23),n,i,t[0],4096336452,6),i=m(i,e,s,n,t[7],1126891415,10),n=m(n,i,e,s,t[14],2878612391,15),s=m(s,n,i,e,t[5],4237533241,21),e=m(e,s,n,i,t[12],1700485571,6),i=m(i,e,s,n,t[3],2399980690,10),n=m(n,i,e,s,t[10],4293915773,15),s=m(s,n,i,e,t[1],2240044497,21),e=m(e,s,n,i,t[8],1873313359,6),i=m(i,e,s,n,t[15],4264355552,10),n=m(n,i,e,s,t[6],2734768916,15),s=m(s,n,i,e,t[13],1309151649,21),e=m(e,s,n,i,t[4],4149444226,6),i=m(i,e,s,n,t[11],3174756917,10),n=m(n,i,e,s,t[2],718787259,15),s=m(s,n,i,e,t[9],3951481745,21),this._a=this._a+e|0,this._b=this._b+s|0,this._c=this._c+n|0,this._d=this._d+i|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},"./node_modules/memoize-one/dist/memoize-one.esm.js":function(t,r,e){"use strict";function s(t,r){if(t.length!==r.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0}r.a=function(t,r){var e;void 0===r&&(r=s);var n,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&e===this&&r(s,i)?n:(n=t.apply(this,s),o=!0,e=this,i=s,n)}}},"./node_modules/memoizerific/memoizerific.js":function(t,r,e){var s;t.exports=function t(r,e,n){function i(a,h){if(!e[a]){if(!r[a]){if(!h&&"function"==typeof s&&s)return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=e[a]={exports:{}};r[a][0].call(l.exports,(function(t){var e=r[a][1][t];return i(e||t)}),l,l.exports,t,r,e,n)}return e[a].exports}for(var o="function"==typeof s&&s,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,r,e){r.exports=function(r){return"function"!=typeof Map||r?new(t("./similar")):new Map}},{"./similar":2}],2:[function(t,r,e){function s(){return this.list=[],this.lastItem=void 0,this.size=0,this}s.prototype.get=function(t){var r;return this.lastItem&&this.isEqual(this.lastItem.key,t)?this.lastItem.val:(r=this.indexOf(t))>=0?(this.lastItem=this.list[r],this.list[r].val):void 0},s.prototype.set=function(t,r){var e;return this.lastItem&&this.isEqual(this.lastItem.key,t)?(this.lastItem.val=r,this):(e=this.indexOf(t))>=0?(this.lastItem=this.list[e],this.list[e].val=r,this):(this.lastItem={key:t,val:r},this.list.push(this.lastItem),this.size++,this)},s.prototype.delete=function(t){var r;if(this.lastItem&&this.isEqual(this.lastItem.key,t)&&(this.lastItem=void 0),(r=this.indexOf(t))>=0)return this.size--,this.list.splice(r,1)[0]},s.prototype.has=function(t){var r;return!(!this.lastItem||!this.isEqual(this.lastItem.key,t))||(r=this.indexOf(t))>=0&&(this.lastItem=this.list[r],!0)},s.prototype.forEach=function(t,r){var e;for(e=0;e<this.size;e++)t.call(r||this,this.list[e].val,this.list[e].key,this)},s.prototype.indexOf=function(t){var r;for(r=0;r<this.size;r++)if(this.isEqual(this.list[r].key,t))return r;return-1},s.prototype.isEqual=function(t,r){return t===r||t!=t&&r!=r},r.exports=s},{}],3:[function(t,r,e){var s=t("map-or-similar");function n(t,r){var e,s,n,i,o,a=t.length,h=r.length;for(s=0;s<a;s++){for(e=!0,n=0;n<h;n++)if(i=t[s][n].arg,o=r[n].arg,i!==o&&(i==i||o==o)){e=!1;break}if(e)break}t.push(t.splice(s,1)[0])}function i(t){var r,e,s=t.length,n=t[s-1];for(n.cacheItem.delete(n.arg),e=s-2;e>=0&&(!(r=(n=t[e]).cacheItem.get(n.arg))||!r.size);e--)n.cacheItem.delete(n.arg)}r.exports=function(t){var r=new s(!1),e=[];return function(o){var a=function(){var h,u,l,c=r,m=arguments.length-1,f=Array(m+1),w=!0;if((a.numArgs||0===a.numArgs)&&a.numArgs!==m+1)throw new Error("Memoizerific functions should always be called with the same number of arguments");for(l=0;l<m;l++)f[l]={cacheItem:c,arg:arguments[l]},c.has(arguments[l])?c=c.get(arguments[l]):(w=!1,h=new s(!1),c.set(arguments[l],h),c=h);return w&&(c.has(arguments[m])?u=c.get(arguments[m]):w=!1),w||(u=o.apply(null,arguments),c.set(arguments[m],u)),t>0&&(f[m]={cacheItem:c,arg:arguments[m]},w?n(e,f):e.push(f),e.length>t&&i(e.shift())),a.wasMemoized=w,a.numArgs=m+1,u};return a.limit=t,a.wasMemoized=!1,a.cache=r,a.lru=e,a}}},{"map-or-similar":1}]},{},[3])(3)},"./node_modules/merge-anything/dist/index.esm.js":function(t,r,e){"use strict";var s=e("./node_modules/is-what/dist/index.esm.js");function n(t,r,e,s){var n=s.propertyIsEnumerable(r)?"enumerable":"nonenumerable";"enumerable"===n&&(t[r]=e),"nonenumerable"===n&&Object.defineProperty(t,r,{value:e,enumerable:!1,writable:!0,configurable:!0})}r.a=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var i=null,o=t;return Object(s.b)(t)&&t.extensions&&1===Object.keys(t).length&&(o={},i=t.extensions),r.reduce((function(t,r){return function t(r,e,i){if(!Object(s.b)(e))return i&&Object(s.a)(i)&&i.forEach((function(t){e=t(r,e)})),e;var o={};if(Object(s.b)(r)){var a=Object.getOwnPropertyNames(r),h=Object.getOwnPropertySymbols(r);o=a.concat(h).reduce((function(t,i){var o=r[i];return(!Object(s.c)(i)&&!Object.getOwnPropertyNames(e).includes(i)||Object(s.c)(i)&&!Object.getOwnPropertySymbols(e).includes(i))&&n(t,i,o,r),t}),{})}var u=Object.getOwnPropertyNames(e),l=Object.getOwnPropertySymbols(e);return u.concat(l).reduce((function(o,a){var h=e[a],u=Object(s.b)(r)?r[a]:void 0;return i&&Object(s.a)(i)&&i.forEach((function(t){h=t(u,h)})),void 0!==u&&Object(s.b)(h)&&(h=t(u,h,i)),n(o,a,h,e),o}),o)}(t,r,i)}),o)}},"./node_modules/miller-rabin/lib/mr.js":function(t,r,e){var s=e("./node_modules/bn.js/lib/bn.js"),n=e("./node_modules/brorand/index.js");function i(t){this.rand=t||new n.Rand}t.exports=i,i.create=function(t){return new i(t)},i.prototype._randbelow=function(t){var r=t.bitLength(),e=Math.ceil(r/8);do{var n=new s(this.rand.generate(e))}while(n.cmp(t)>=0);return n},i.prototype._randrange=function(t,r){var e=r.sub(t);return t.add(this._randbelow(e))},i.prototype.test=function(t,r,e){var n=t.bitLength(),i=s.mont(t),o=new s(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var a=t.subn(1),h=0;!a.testn(h);h++);for(var u=t.shrn(h),l=a.toRed(i);r>0;r--){var c=this._randrange(new s(2),a);e&&e(c);var m=c.toRed(i).redPow(u);if(0!==m.cmp(o)&&0!==m.cmp(l)){for(var f=1;f<h;f++){if(0===(m=m.redSqr()).cmp(o))return!1;if(0===m.cmp(l))break}if(f===h)return!1}}return!0},i.prototype.getDivisor=function(t,r){var e=t.bitLength(),n=s.mont(t),i=new s(1).toRed(n);r||(r=Math.max(1,e/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var h=t.shrn(a),u=o.toRed(n);r>0;r--){var l=this._randrange(new s(2),o),c=t.gcd(l);if(0!==c.cmpn(1))return c;var m=l.toRed(n).redPow(h);if(0!==m.cmp(i)&&0!==m.cmp(u)){for(var f=1;f<a;f++){if(0===(m=m.redSqr()).cmp(i))return m.fromRed().subn(1).gcd(t);if(0===m.cmp(u))break}if(f===a)return(m=m.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},"./node_modules/minimalistic-assert/index.js":function(t,r){function e(t,r){if(!t)throw new Error(r||"Assertion failed")}t.exports=e,e.equal=function(t,r,e){if(t!=r)throw new Error(e||"Assertion failed: "+t+" != "+r)}},"./node_modules/minimalistic-crypto-utils/lib/utils.js":function(t,r,e){"use strict";var s=r;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var r="",e=0;e<t.length;e++)r+=n(t[e].toString(16));return r}s.toArray=function(t,r){if(Array.isArray(t))return t.slice();if(!t)return[];var e=[];if("string"!=typeof t){for(var s=0;s<t.length;s++)e[s]=0|t[s];return e}if("hex"===r){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(s=0;s<t.length;s+=2)e.push(parseInt(t[s]+t[s+1],16))}else for(s=0;s<t.length;s++){var n=t.charCodeAt(s),i=n>>8,o=255&n;i?e.push(i,o):e.push(o)}return e},s.zero2=n,s.toHex=i,s.encode=function(t,r){return"hex"===r?i(t):t}},"./node_modules/ml-levenberg-marquardt/src/index.js":function(t,r,e){"use strict";function s(t,r,e){var s=0;const n=e(r);for(var i=0;i<t.x.length;i++)s+=Math.abs(t.y[i]-n(t.x[i]));return s}e.r(r);var n=e("./node_modules/is-any-array/src/index.js"),i=e.n(n);var o=function(t){if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var r=t[0],e=1;e<t.length;e++)t[e]>r&&(r=t[e]);return r};var a=function(t){if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var r=t[0],e=1;e<t.length;e++)t[e]<r&&(r=t[e]);return r};var h=function(t){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==e.output){if(!i()(e.output))throw new TypeError("output option must be an array if specified");r=e.output}else r=new Array(t.length);var s=a(t),n=o(t);if(s===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var h=e.min,u=void 0===h?e.autoMinMax?s:0:h,l=e.max,c=void 0===l?e.autoMinMax?n:1:l;if(u>=c)throw new RangeError("min option must be smaller than max option");for(var m=(c-u)/(n-s),f=0;f<t.length;f++)r[f]=(t[f]-s)*m+u;return r};class u{constructor(t){var r,e,s,n,i,o,a,h,u,l=(t=z.checkMatrix(t)).clone(),c=l.rows,m=l.columns,f=new Array(c),w=1;for(r=0;r<c;r++)f[r]=r;for(h=new Array(c),e=0;e<m;e++){for(r=0;r<c;r++)h[r]=l.get(r,e);for(r=0;r<c;r++){for(u=Math.min(r,e),i=0,s=0;s<u;s++)i+=l.get(r,s)*h[s];h[r]-=i,l.set(r,e,h[r])}for(n=e,r=e+1;r<c;r++)Math.abs(h[r])>Math.abs(h[n])&&(n=r);if(n!==e){for(s=0;s<m;s++)o=l.get(n,s),l.set(n,s,l.get(e,s)),l.set(e,s,o);a=f[n],f[n]=f[e],f[e]=a,w=-w}if(e<c&&0!==l.get(e,e))for(r=e+1;r<c;r++)l.set(r,e,l.get(r,e)/l.get(e,e))}this.LU=l,this.pivotVector=f,this.pivotSign=w}isSingular(){for(var t=this.LU,r=t.columns,e=0;e<r;e++)if(0===t[e][e])return!0;return!1}solve(t){t=C.checkMatrix(t);var r=this.LU;if(r.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var e,s,n,i=t.columns,o=t.subMatrixRow(this.pivotVector,0,i-1),a=r.columns;for(n=0;n<a;n++)for(e=n+1;e<a;e++)for(s=0;s<i;s++)o[e][s]-=o[n][s]*r[e][n];for(n=a-1;n>=0;n--){for(s=0;s<i;s++)o[n][s]/=r[n][n];for(e=0;e<n;e++)for(s=0;s<i;s++)o[e][s]-=o[n][s]*r[e][n]}return o}get determinant(){var t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");for(var r=this.pivotSign,e=t.columns,s=0;s<e;s++)r*=t[s][s];return r}get lowerTriangularMatrix(){for(var t=this.LU,r=t.rows,e=t.columns,s=new C(r,e),n=0;n<r;n++)for(var i=0;i<e;i++)s[n][i]=n>i?t[n][i]:n===i?1:0;return s}get upperTriangularMatrix(){for(var t=this.LU,r=t.rows,e=t.columns,s=new C(r,e),n=0;n<r;n++)for(var i=0;i<e;i++)s[n][i]=n<=i?t[n][i]:0;return s}get pivotPermutationVector(){return this.pivotVector.slice()}}function l(t,r){var e=0;return Math.abs(t)>Math.abs(r)?(e=r/t,Math.abs(t)*Math.sqrt(1+e*e)):0!==r?(e=t/r,Math.abs(r)*Math.sqrt(1+e*e)):0}function c(t,r,e){for(var s=new Array(t),n=0;n<t;n++){s[n]=new Array(r);for(var i=0;i<r;i++)s[n][i]=e}return s}class m{constructor(t,r={}){var e=(t=z.checkMatrix(t)).rows,s=t.columns;const{computeLeftSingularVectors:n=!0,computeRightSingularVectors:i=!0,autoTranspose:o=!1}=r;var a,h=Boolean(n),u=Boolean(i),m=!1;if(e<s)if(o){e=(a=t.transpose()).rows,s=a.columns,m=!0;var f=h;h=u,u=f}else a=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=t.clone();var w=Math.min(e,s),g=Math.min(e+1,s),v=new Array(g),d=c(e,w,0),p=c(s,s,0),x=new Array(s),b=new Array(e),y=new Array(g);for(let t=0;t<g;t++)y[t]=t;var M=Math.min(e-1,s),E=Math.max(0,Math.min(s-2,e)),R=Math.max(M,E);for(let t=0;t<R;t++){if(t<M){v[t]=0;for(let r=t;r<e;r++)v[t]=l(v[t],a[r][t]);if(0!==v[t]){a[t][t]<0&&(v[t]=-v[t]);for(let r=t;r<e;r++)a[r][t]/=v[t];a[t][t]+=1}v[t]=-v[t]}for(let r=t+1;r<s;r++){if(t<M&&0!==v[t]){let s=0;for(let n=t;n<e;n++)s+=a[n][t]*a[n][r];s=-s/a[t][t];for(let n=t;n<e;n++)a[n][r]+=s*a[n][t]}x[r]=a[t][r]}if(h&&t<M)for(let r=t;r<e;r++)d[r][t]=a[r][t];if(t<E){x[t]=0;for(let r=t+1;r<s;r++)x[t]=l(x[t],x[r]);if(0!==x[t]){x[t+1]<0&&(x[t]=0-x[t]);for(let r=t+1;r<s;r++)x[r]/=x[t];x[t+1]+=1}if(x[t]=-x[t],t+1<e&&0!==x[t]){for(let r=t+1;r<e;r++)b[r]=0;for(let r=t+1;r<e;r++)for(let e=t+1;e<s;e++)b[r]+=x[e]*a[r][e];for(let r=t+1;r<s;r++){let s=-x[r]/x[t+1];for(let n=t+1;n<e;n++)a[n][r]+=s*b[n]}}if(u)for(let r=t+1;r<s;r++)p[r][t]=x[r]}}let S=Math.min(s,e+1);if(M<s&&(v[M]=a[M][M]),e<S&&(v[S-1]=0),E+1<S&&(x[E]=a[E][S-1]),x[S-1]=0,h){for(let t=M;t<w;t++){for(let r=0;r<e;r++)d[r][t]=0;d[t][t]=1}for(let t=M-1;t>=0;t--)if(0!==v[t]){for(let r=t+1;r<w;r++){let s=0;for(let n=t;n<e;n++)s+=d[n][t]*d[n][r];s=-s/d[t][t];for(let n=t;n<e;n++)d[n][r]+=s*d[n][t]}for(let r=t;r<e;r++)d[r][t]=-d[r][t];d[t][t]=1+d[t][t];for(let r=0;r<t-1;r++)d[r][t]=0}else{for(let r=0;r<e;r++)d[r][t]=0;d[t][t]=1}}if(u)for(let t=s-1;t>=0;t--){if(t<E&&0!==x[t])for(let r=t+1;r<s;r++){let e=0;for(let n=t+1;n<s;n++)e+=p[n][t]*p[n][r];e=-e/p[t+1][t];for(let n=t+1;n<s;n++)p[n][r]+=e*p[n][t]}for(let r=0;r<s;r++)p[r][t]=0;p[t][t]=1}for(var A=S-1,j=Number.EPSILON;S>0;){let t,r;for(t=S-2;t>=-1&&-1!==t;t--){const r=Number.MIN_VALUE+j*Math.abs(v[t]+Math.abs(v[t+1]));if(Math.abs(x[t])<=r||Number.isNaN(x[t])){x[t]=0;break}}if(t===S-2)r=4;else{let e;for(e=S-1;e>=t&&e!==t;e--){let r=(e!==S?Math.abs(x[e]):0)+(e!==t+1?Math.abs(x[e-1]):0);if(Math.abs(v[e])<=j*r){v[e]=0;break}}e===t?r=3:e===S-1?r=1:(r=2,t=e)}switch(t++,r){case 1:{let r=x[S-2];x[S-2]=0;for(let e=S-2;e>=t;e--){let n=l(v[e],r),i=v[e]/n,o=r/n;if(v[e]=n,e!==t&&(r=-o*x[e-1],x[e-1]=i*x[e-1]),u)for(let t=0;t<s;t++)n=i*p[t][e]+o*p[t][S-1],p[t][S-1]=-o*p[t][e]+i*p[t][S-1],p[t][e]=n}break}case 2:{let r=x[t-1];x[t-1]=0;for(let s=t;s<S;s++){let n=l(v[s],r),i=v[s]/n,o=r/n;if(v[s]=n,r=-o*x[s],x[s]=i*x[s],h)for(let r=0;r<e;r++)n=i*d[r][s]+o*d[r][t-1],d[r][t-1]=-o*d[r][s]+i*d[r][t-1],d[r][s]=n}break}case 3:{const r=Math.max(Math.abs(v[S-1]),Math.abs(v[S-2]),Math.abs(x[S-2]),Math.abs(v[t]),Math.abs(x[t])),n=v[S-1]/r,i=v[S-2]/r,o=x[S-2]/r,a=v[t]/r,c=x[t]/r,m=((i+n)*(i-n)+o*o)/2,f=n*o*(n*o);let w=0;0===m&&0===f||(w=f/(m+(w=m<0?0-Math.sqrt(m*m+f):Math.sqrt(m*m+f))));let g=(a+n)*(a-n)+w,b=a*c;for(let r=t;r<S-1;r++){let n=l(g,b);0===n&&(n=Number.MIN_VALUE);let i=g/n,o=b/n;if(r!==t&&(x[r-1]=n),g=i*v[r]+o*x[r],x[r]=i*x[r]-o*v[r],b=o*v[r+1],v[r+1]=i*v[r+1],u)for(let t=0;t<s;t++)n=i*p[t][r]+o*p[t][r+1],p[t][r+1]=-o*p[t][r]+i*p[t][r+1],p[t][r]=n;if(0===(n=l(g,b))&&(n=Number.MIN_VALUE),i=g/n,o=b/n,v[r]=n,g=i*x[r]+o*v[r+1],v[r+1]=-o*x[r]+i*v[r+1],b=o*x[r+1],x[r+1]=i*x[r+1],h&&r<e-1)for(let t=0;t<e;t++)n=i*d[t][r]+o*d[t][r+1],d[t][r+1]=-o*d[t][r]+i*d[t][r+1],d[t][r]=n}x[S-2]=g,1;break}case 4:if(v[t]<=0&&(v[t]=v[t]<0?-v[t]:0,u))for(let r=0;r<=A;r++)p[r][t]=-p[r][t];for(;t<A&&!(v[t]>=v[t+1]);){let r=v[t];if(v[t]=v[t+1],v[t+1]=r,u&&t<s-1)for(let e=0;e<s;e++)r=p[e][t+1],p[e][t+1]=p[e][t],p[e][t]=r;if(h&&t<e-1)for(let s=0;s<e;s++)r=d[s][t+1],d[s][t+1]=d[s][t],d[s][t]=r;t++}0,S--}}if(m){var I=p;p=d,d=I}this.m=e,this.n=s,this.s=v,this.U=d,this.V=p}solve(t){var r=t,e=this.threshold,s=this.s.length,n=C.zeros(s,s);for(let t=0;t<s;t++)Math.abs(this.s[t])<=e?n[t][t]=0:n[t][t]=1/this.s[t];var i=this.U,o=this.rightSingularVectors,a=o.mmul(n),h=o.rows,u=i.length,l=C.zeros(h,u);for(let t=0;t<h;t++)for(let r=0;r<u;r++){let e=0;for(let n=0;n<s;n++)e+=a[t][n]*i[r][n];l[t][r]=e}return l.mmul(r)}solveForDiagonal(t){return this.solve(C.diag(t))}inverse(){var t=this.V,r=this.threshold,e=t.length,s=t[0].length,n=new C(e,this.s.length);for(let i=0;i<e;i++)for(let e=0;e<s;e++)Math.abs(this.s[e])>r?n[i][e]=t[i][e]/this.s[e]:n[i][e]=0;var i=this.U,o=i.length,a=i[0].length,h=new C(e,o);for(let t=0;t<e;t++)for(let r=0;r<o;r++){let e=0;for(let s=0;s<a;s++)e+=n[t][s]*i[r][s];h[t][r]=e}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,e=this.s,s=0,n=e.length;s<n;s++)e[s]>t&&r++;return r}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return C.isMatrix(this.U)||(this.U=new C(this.U)),this.U}get rightSingularVectors(){return C.isMatrix(this.V)||(this.V=new C(this.V)),this.V}get diagonalMatrix(){return C.diag(this.s)}}function f(t,r,e){var s=e?t.rows:t.rows-1;if(r<0||r>s)throw new RangeError("Row index out of range")}function w(t,r,e){var s=e?t.columns:t.columns-1;if(r<0||r>s)throw new RangeError("Column index out of range")}function g(t,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function v(t,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function d(t,r,e){return{row:p(t,r),column:x(t,e)}}function p(t,r){if("object"!=typeof r)throw new TypeError("unexpected type for row indices");if(r.some(r=>r<0||r>=t.rows))throw new RangeError("row indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function x(t,r){if("object"!=typeof r)throw new TypeError("unexpected type for column indices");if(r.some(r=>r<0||r>=t.columns))throw new RangeError("column indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function b(t,r,e,s,n){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(y("startRow",r),y("endRow",e),y("startColumn",s),y("endColumn",n),r>e||s>n||r<0||r>=t.rows||e<0||e>=t.rows||s<0||s>=t.columns||n<0||n>=t.columns)throw new RangeError("Submatrix indices are out of range")}function y(t,r){if("number"!=typeof r)throw new TypeError(`${t} must be a number`)}class M extends(O()){constructor(t,r,e){super(),this.matrix=t,this.rows=r,this.columns=e}static get[Symbol.species](){return C}}class E extends M{constructor(t){super(t,t.columns,t.rows)}set(t,r,e){return this.matrix.set(r,t,e),this}get(t,r){return this.matrix.get(r,t)}}class R extends M{constructor(t,r){super(t,1,t.columns),this.row=r}set(t,r,e){return this.matrix.set(this.row,r,e),this}get(t,r){return this.matrix.get(this.row,r)}}class S extends M{constructor(t,r,e,s,n){b(t,r,e,s,n),super(t,e-r+1,n-s+1),this.startRow=r,this.startColumn=s}set(t,r,e){return this.matrix.set(this.startRow+t,this.startColumn+r,e),this}get(t,r){return this.matrix.get(this.startRow+t,this.startColumn+r)}}class A extends M{constructor(t,r,e){var s=d(t,r,e);super(t,s.row.length,s.column.length),this.rowIndices=s.row,this.columnIndices=s.column}set(t,r,e){return this.matrix.set(this.rowIndices[t],this.columnIndices[r],e),this}get(t,r){return this.matrix.get(this.rowIndices[t],this.columnIndices[r])}}class j extends M{constructor(t,r){super(t,(r=p(t,r)).length,t.columns),this.rowIndices=r}set(t,r,e){return this.matrix.set(this.rowIndices[t],r,e),this}get(t,r){return this.matrix.get(this.rowIndices[t],r)}}class I extends M{constructor(t,r){r=x(t,r),super(t,t.rows,r.length),this.columnIndices=r}set(t,r,e){return this.matrix.set(t,this.columnIndices[r],e),this}get(t,r){return this.matrix.get(t,this.columnIndices[r])}}class _ extends M{constructor(t,r){super(t,t.rows,1),this.column=r}set(t,r,e){return this.matrix.set(t,this.column,e),this}get(t){return this.matrix.get(t,this.column)}}class k extends M{constructor(t){super(t,t.rows,t.columns)}set(t,r,e){return this.matrix.set(this.rows-t-1,r,e),this}get(t,r){return this.matrix.get(this.rows-t-1,r)}}class V extends M{constructor(t){super(t,t.rows,t.columns)}set(t,r,e){return this.matrix.set(t,this.columns-r-1,e),this}get(t,r){return this.matrix.get(t,this.columns-r-1)}}function O(t){void 0===t&&(t=Object);class r extends t{static get[Symbol.species](){return this}static from1DArray(t,r,e){if(t*r!==e.length)throw new RangeError("Data length does not match given dimensions");for(var s=new this(t,r),n=0;n<t;n++)for(var i=0;i<r;i++)s.set(n,i,e[n*r+i]);return s}static rowVector(t){for(var r=new this(1,t.length),e=0;e<t.length;e++)r.set(0,e,t[e]);return r}static columnVector(t){for(var r=new this(t.length,1),e=0;e<t.length;e++)r.set(e,0,t[e]);return r}static empty(t,r){return new this(t,r)}static zeros(t,r){return this.empty(t,r).fill(0)}static ones(t,r){return this.empty(t,r).fill(1)}static rand(t,r,e){void 0===e&&(e=Math.random);for(var s=this.empty(t,r),n=0;n<t;n++)for(var i=0;i<r;i++)s.set(n,i,e());return s}static randInt(t,r,e,s){void 0===e&&(e=1e3),void 0===s&&(s=Math.random);for(var n=this.empty(t,r),i=0;i<t;i++)for(var o=0;o<r;o++){var a=Math.floor(s()*e);n.set(i,o,a)}return n}static eye(t,r,e){void 0===r&&(r=t),void 0===e&&(e=1);for(var s=Math.min(t,r),n=this.zeros(t,r),i=0;i<s;i++)n.set(i,i,e);return n}static diag(t,r,e){var s=t.length;void 0===r&&(r=s),void 0===e&&(e=r);for(var n=Math.min(s,r,e),i=this.zeros(r,e),o=0;o<n;o++)i.set(o,o,t[o]);return i}static min(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var e=t.rows,s=t.columns,n=new this(e,s),i=0;i<e;i++)for(var o=0;o<s;o++)n.set(i,o,Math.min(t.get(i,o),r.get(i,o)));return n}static max(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var e=t.rows,s=t.columns,n=new this(e,s),i=0;i<e;i++)for(var o=0;o<s;o++)n.set(i,o,Math.max(t.get(i,o),r.get(i,o)));return n}static checkMatrix(t){return r.isMatrix(t)?t:new this(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(var r=this.rows,e=this.columns,s=0;s<r;s++)for(var n=0;n<e;n++)t.call(this,s,n);return this}to1DArray(){for(var t=new Array(this.size),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t[r*this.columns+e]=this.get(r,e);return t}to2DArray(){for(var t=new Array(this.rows),r=0;r<this.rows;r++){t[r]=new Array(this.columns);for(var e=0;e<this.columns;e++)t[r][e]=this.get(r,e)}return t}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}isEchelonForm(){let t=0,r=0,e=-1,s=!0,n=!1;for(;t<this.rows&&s;){for(r=0,n=!1;r<this.columns&&!1===n;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>e?(n=!0,e=r):(s=!1,n=!0);t++}return s}isReducedEchelonForm(){let t=0,r=0,e=-1,s=!0,n=!1;for(;t<this.rows&&s;){for(r=0,n=!1;r<this.columns&&!1===n;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>e?(n=!0,e=r):(s=!1,n=!0);for(let e=r+1;e<this.rows;e++)0!==this.get(t,e)&&(s=!1);t++}return s}set(t,r,e){throw new Error("set method is unimplemented")}get(t,r){throw new Error("get method is unimplemented")}repeat(t,r){t=t||1,r=r||1;for(var e=new this.constructor[Symbol.species](this.rows*t,this.columns*r),s=0;s<t;s++)for(var n=0;n<r;n++)e.setSubMatrix(this,this.rows*s,this.columns*n);return e}fill(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,t);return this}neg(){return this.mulS(-1)}getRow(t){f(this,t);for(var r=new Array(this.columns),e=0;e<this.columns;e++)r[e]=this.get(t,e);return r}getRowVector(t){return this.constructor.rowVector(this.getRow(t))}setRow(t,r){f(this,t),r=g(this,r);for(var e=0;e<this.columns;e++)this.set(t,e,r[e]);return this}swapRows(t,r){f(this,t),f(this,r);for(var e=0;e<this.columns;e++){var s=this.get(t,e);this.set(t,e,this.get(r,e)),this.set(r,e,s)}return this}getColumn(t){w(this,t);for(var r=new Array(this.rows),e=0;e<this.rows;e++)r[e]=this.get(e,t);return r}getColumnVector(t){return this.constructor.columnVector(this.getColumn(t))}setColumn(t,r){w(this,t),r=v(this,r);for(var e=0;e<this.rows;e++)this.set(e,t,r[e]);return this}swapColumns(t,r){w(this,t),w(this,r);for(var e=0;e<this.rows;e++){var s=this.get(e,t);this.set(e,t,this.get(e,r)),this.set(e,r,s)}return this}addRowVector(t){t=g(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)+t[e]);return this}subRowVector(t){t=g(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)-t[e]);return this}mulRowVector(t){t=g(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)*t[e]);return this}divRowVector(t){t=g(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)/t[e]);return this}addColumnVector(t){t=v(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)+t[r]);return this}subColumnVector(t){t=v(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)-t[r]);return this}mulColumnVector(t){t=v(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)*t[r]);return this}divColumnVector(t){t=v(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)/t[r]);return this}mulRow(t,r){f(this,t);for(var e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)*r);return this}mulColumn(t,r){w(this,t);for(var e=0;e<this.rows;e++)this.set(e,t,this.get(e,t)*r);return this}max(){for(var t=this.get(0,0),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.get(r,e)>t&&(t=this.get(r,e));return t}maxIndex(){for(var t=this.get(0,0),r=[0,0],e=0;e<this.rows;e++)for(var s=0;s<this.columns;s++)this.get(e,s)>t&&(t=this.get(e,s),r[0]=e,r[1]=s);return r}min(){for(var t=this.get(0,0),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.get(r,e)<t&&(t=this.get(r,e));return t}minIndex(){for(var t=this.get(0,0),r=[0,0],e=0;e<this.rows;e++)for(var s=0;s<this.columns;s++)this.get(e,s)<t&&(t=this.get(e,s),r[0]=e,r[1]=s);return r}maxRow(t){f(this,t);for(var r=this.get(t,0),e=1;e<this.columns;e++)this.get(t,e)>r&&(r=this.get(t,e));return r}maxRowIndex(t){f(this,t);for(var r=this.get(t,0),e=[t,0],s=1;s<this.columns;s++)this.get(t,s)>r&&(r=this.get(t,s),e[1]=s);return e}minRow(t){f(this,t);for(var r=this.get(t,0),e=1;e<this.columns;e++)this.get(t,e)<r&&(r=this.get(t,e));return r}minRowIndex(t){f(this,t);for(var r=this.get(t,0),e=[t,0],s=1;s<this.columns;s++)this.get(t,s)<r&&(r=this.get(t,s),e[1]=s);return e}maxColumn(t){w(this,t);for(var r=this.get(0,t),e=1;e<this.rows;e++)this.get(e,t)>r&&(r=this.get(e,t));return r}maxColumnIndex(t){w(this,t);for(var r=this.get(0,t),e=[0,t],s=1;s<this.rows;s++)this.get(s,t)>r&&(r=this.get(s,t),e[0]=s);return e}minColumn(t){w(this,t);for(var r=this.get(0,t),e=1;e<this.rows;e++)this.get(e,t)<r&&(r=this.get(e,t));return r}minColumnIndex(t){w(this,t);for(var r=this.get(0,t),e=[0,t],s=1;s<this.rows;s++)this.get(s,t)<r&&(r=this.get(s,t),e[0]=s);return e}diag(){for(var t=Math.min(this.rows,this.columns),r=new Array(t),e=0;e<t;e++)r[e]=this.get(e,e);return r}sum(t){switch(t){case"row":return function(t){for(var r=C.zeros(t.rows,1),e=0;e<t.rows;++e)for(var s=0;s<t.columns;++s)r.set(e,0,r.get(e,0)+t.get(e,s));return r}(this);case"column":return function(t){for(var r=C.zeros(1,t.columns),e=0;e<t.rows;++e)for(var s=0;s<t.columns;++s)r.set(0,s,r.get(0,s)+t.get(e,s));return r}(this);default:return function(t){for(var r=0,e=0;e<t.rows;e++)for(var s=0;s<t.columns;s++)r+=t.get(e,s);return r}(this)}}mean(){return this.sum()/this.size}prod(){for(var t=1,r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t*=this.get(r,e);return t}norm(t="frobenius"){var r=0;if("max"===t)return this.max();if("frobenius"===t){for(var e=0;e<this.rows;e++)for(var s=0;s<this.columns;s++)r+=this.get(e,s)*this.get(e,s);return Math.sqrt(r)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){for(var t=0,r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t+=this.get(r,e),this.set(r,e,t);return this}dot(t){r.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var s=0,n=0;n<e.length;n++)s+=e[n]*t[n];return s}mmul(t){t=this.constructor.checkMatrix(t),this.columns!==t.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");for(var r=this.rows,e=this.columns,s=t.columns,n=new this.constructor[Symbol.species](r,s),i=new Array(e),o=0;o<s;o++){for(var a=0;a<e;a++)i[a]=t.get(a,o);for(var h=0;h<r;h++){var u=0;for(a=0;a<e;a++)u+=this.get(h,a)*i[a];n.set(h,o,u)}}return n}strassen2x2(t){var r=new this.constructor[Symbol.species](2,2);const e=this.get(0,0),s=t.get(0,0),n=this.get(0,1),i=t.get(0,1),o=this.get(1,0),a=t.get(1,0),h=this.get(1,1),u=t.get(1,1),l=(e+h)*(s+u),c=(o+h)*s,m=e*(i-u),f=h*(a-s),w=(e+n)*u,g=l+f-w+(n-h)*(a+u),v=m+w,d=c+f,p=l-c+m+(o-e)*(s+i);return r.set(0,0,g),r.set(0,1,v),r.set(1,0,d),r.set(1,1,p),r}strassen3x3(t){var r=new this.constructor[Symbol.species](3,3);const e=this.get(0,0),s=this.get(0,1),n=this.get(0,2),i=this.get(1,0),o=this.get(1,1),a=this.get(1,2),h=this.get(2,0),u=this.get(2,1),l=this.get(2,2),c=t.get(0,0),m=t.get(0,1),f=t.get(0,2),w=t.get(1,0),g=t.get(1,1),v=t.get(1,2),d=t.get(2,0),p=t.get(2,1),x=t.get(2,2),b=(e-i)*(-m+g),y=(-e+i+o)*(c-m+g),M=(i+o)*(-c+m),E=e*c,R=(-e+h+u)*(c-f+v),S=(-e+h)*(f-v),A=(h+u)*(-c+f),j=(-n+u+l)*(g+d-p),I=(n-l)*(g-p),_=n*d,k=(u+l)*(-d+p),V=(-n+o+a)*(v+d-x),O=(n-a)*(v-x),C=(o+a)*(-d+x),z=E+_+s*w,N=(e+s+n-i-o-u-l)*g+y+M+E+j+_+k,q=E+R+A+(e+s+n-o-a-h-u)*v+_+V+C,T=b+o*(-c+m+w-g-v-d+x)+y+E+_+V+O,L=b+y+M+E+a*p,U=_+V+O+C+i*f,D=E+R+S+u*(-c+f+w-g-v-d+p)+j+I+_,P=j+I+_+k+h*m,$=E+R+S+A+l*x;return r.set(0,0,z),r.set(0,1,N),r.set(0,2,q),r.set(1,0,T),r.set(1,1,L),r.set(1,2,U),r.set(2,0,D),r.set(2,1,P),r.set(2,2,$),r}mmulStrassen(t){var e=this.clone(),s=e.rows,n=e.columns,i=t.rows,o=t.columns;function a(t,e,s){var n=t.rows,i=t.columns;if(n===e&&i===s)return t;var o=r.zeros(e,s);return o=o.setSubMatrix(t,0,0)}n!==i&&console.warn(`Multiplying ${s} x ${n} and ${i} x ${o} matrix: dimensions do not match.`);var h=Math.max(s,i),u=Math.max(n,o);return function t(e,s,n,i){if(n<=512||i<=512)return e.mmul(s);n%2==1&&i%2==1?(e=a(e,n+1,i+1),s=a(s,n+1,i+1)):n%2==1?(e=a(e,n+1,i),s=a(s,n+1,i)):i%2==1&&(e=a(e,n,i+1),s=a(s,n,i+1));var o=parseInt(e.rows/2,10),h=parseInt(e.columns/2,10),u=e.subMatrix(0,o-1,0,h-1),l=s.subMatrix(0,o-1,0,h-1),c=e.subMatrix(0,o-1,h,e.columns-1),m=s.subMatrix(0,o-1,h,s.columns-1),f=e.subMatrix(o,e.rows-1,0,h-1),w=s.subMatrix(o,s.rows-1,0,h-1),g=e.subMatrix(o,e.rows-1,h,e.columns-1),v=s.subMatrix(o,s.rows-1,h,s.columns-1),d=t(r.add(u,g),r.add(l,v),o,h),p=t(r.add(f,g),l,o,h),x=t(u,r.sub(m,v),o,h),b=t(g,r.sub(w,l),o,h),y=t(r.add(u,c),v,o,h),M=t(r.sub(f,u),r.add(l,m),o,h),E=t(r.sub(c,g),r.add(w,v),o,h),R=r.add(d,b);R.sub(y),R.add(E);var S=r.add(x,y),A=r.add(p,b),j=r.sub(d,p);j.add(x),j.add(M);var I=r.zeros(2*R.rows,2*R.columns);return(I=(I=(I=(I=I.setSubMatrix(R,0,0)).setSubMatrix(S,R.rows,0)).setSubMatrix(A,0,R.columns)).setSubMatrix(j,R.rows,R.columns)).subMatrix(0,n-1,0,i-1)}(e=a(e,h,u),t=a(t,h,u),h,u)}scaleRows(t,r){if((t=void 0===t?0:t)>=(r=void 0===r?1:r))throw new RangeError("min should be strictly smaller than max");for(var e=this.constructor.empty(this.rows,this.columns),s=0;s<this.rows;s++){var n=h(this.getRow(s),{min:t,max:r});e.setRow(s,n)}return e}scaleColumns(t,r){if((t=void 0===t?0:t)>=(r=void 0===r?1:r))throw new RangeError("min should be strictly smaller than max");for(var e=this.constructor.empty(this.rows,this.columns),s=0;s<this.columns;s++){var n=h(this.getColumn(s),{min:t,max:r});e.setColumn(s,n)}return e}kroneckerProduct(t){t=this.constructor.checkMatrix(t);for(var r=this.rows,e=this.columns,s=t.rows,n=t.columns,i=new this.constructor[Symbol.species](r*s,e*n),o=0;o<r;o++)for(var a=0;a<e;a++)for(var h=0;h<s;h++)for(var u=0;u<n;u++)i[s*o+h][n*a+u]=this.get(o,a)*t.get(h,u);return i}transpose(){for(var t=new this.constructor[Symbol.species](this.columns,this.rows),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t.set(e,r,this.get(r,e));return t}sortRows(t){void 0===t&&(t=e);for(var r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(t));return this}sortColumns(t){void 0===t&&(t=e);for(var r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(t));return this}subMatrix(t,r,e,s){b(this,t,r,e,s);for(var n=new this.constructor[Symbol.species](r-t+1,s-e+1),i=t;i<=r;i++)for(var o=e;o<=s;o++)n[i-t][o-e]=this.get(i,o);return n}subMatrixRow(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.columns-1),r>e||r<0||r>=this.columns||e<0||e>=this.columns)throw new RangeError("Argument out of range");for(var s=new this.constructor[Symbol.species](t.length,e-r+1),n=0;n<t.length;n++)for(var i=r;i<=e;i++){if(t[n]<0||t[n]>=this.rows)throw new RangeError(`Row index out of range: ${t[n]}`);s.set(n,i-r,this.get(t[n],i))}return s}subMatrixColumn(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.rows-1),r>e||r<0||r>=this.rows||e<0||e>=this.rows)throw new RangeError("Argument out of range");for(var s=new this.constructor[Symbol.species](e-r+1,t.length),n=0;n<t.length;n++)for(var i=r;i<=e;i++){if(t[n]<0||t[n]>=this.columns)throw new RangeError(`Column index out of range: ${t[n]}`);s.set(i-r,n,this.get(i,t[n]))}return s}setSubMatrix(t,r,e){b(this,r,r+(t=this.constructor.checkMatrix(t)).rows-1,e,e+t.columns-1);for(var s=0;s<t.rows;s++)for(var n=0;n<t.columns;n++)this[r+s][e+n]=t.get(s,n);return this}selection(t,r){for(var e=d(this,t,r),s=new this.constructor[Symbol.species](t.length,r.length),n=0;n<e.row.length;n++)for(var i=e.row[n],o=0;o<e.column.length;o++){var a=e.column[o];s[n][o]=this.get(i,a)}return s}trace(){for(var t=Math.min(this.rows,this.columns),r=0,e=0;e<t;e++)r+=this.get(e,e);return r}transposeView(){return new E(this)}rowView(t){return f(this,t),new R(this,t)}columnView(t){return w(this,t),new _(this,t)}flipRowView(){return new k(this)}flipColumnView(){return new V(this)}subMatrixView(t,r,e,s){return new S(this,t,r,e,s)}selectionView(t,r){return new A(this,t,r)}rowSelectionView(t){return new j(this,t)}columnSelectionView(t){return new I(this,t)}det(){var t,r,e,s,n,i;if(this.isSquare())return 2===this.columns?(t=this.get(0,0),r=this.get(0,1),e=this.get(1,0),t*this.get(1,1)-r*e):3===this.columns?(s=this.selectionView([1,2],[1,2]),n=this.selectionView([1,2],[0,2]),i=this.selectionView([1,2],[0,1]),t=this.get(0,0),r=this.get(0,1),e=this.get(0,2),t*s.det()-r*n.det()+e*i.det()):new u(this).determinant;throw Error("Determinant can only be calculated for a square matrix.")}pseudoInverse(t){void 0===t&&(t=Number.EPSILON);for(var r=new m(this,{autoTranspose:!0}),e=r.leftSingularVectors,s=r.rightSingularVectors,n=r.diagonal,i=0;i<n.length;i++)Math.abs(n[i])>t?n[i]=1/n[i]:n[i]=0;return n=this.constructor[Symbol.species].diag(n),s.mmul(n.mmul(e.transposeView()))}clone(){for(var t=new this.constructor[Symbol.species](this.rows,this.columns),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t.set(r,e,this.get(r,e));return t}}function e(t,r){return t-r}r.prototype.klass="Matrix",r.random=r.rand,r.diagonal=r.diag,r.prototype.diagonal=r.prototype.diag,r.identity=r.eye,r.prototype.negate=r.prototype.neg,r.prototype.tensorProduct=r.prototype.kroneckerProduct,r.prototype.determinant=r.prototype.det;var s,n="\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",i=eval;for(var o of[["+","add"],["-","sub","subtract"],["*","mul","multiply"],["/","div","divide"],["%","mod","modulus"],["&","and"],["|","or"],["^","xor"],["<<","leftShift"],[">>","signPropagatingRightShift"],[">>>","rightShift","zeroFillRightShift"]]){var a=i(F("\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",{name:o[1],op:o[0]})),l=i(F("\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% value);\n        }\n    }\n    return this;\n})\n",{name:`${o[1]}S`,op:o[0]})),c=i(F("\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\n        }\n    }\n    return this;\n})\n",{name:`${o[1]}M`,op:o[0]})),p=i(F("\n(function %name%(matrix, value) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(value);\n})\n",{name:o[1]}));for(s=1;s<o.length;s++)r.prototype[o[s]]=a,r.prototype[`${o[s]}S`]=l,r.prototype[`${o[s]}M`]=c,r[o[s]]=p}var x=[["~","not"]];for(var y of(["abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].forEach((function(t){x.push([`Math.${t}`,t])})),x)){var M=i(F("\n(function %name%() {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j)));\n        }\n    }\n    return this;\n})\n",{name:y[1],method:y[0]})),O=i(F("\n(function %name%(matrix) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%();\n})\n",{name:y[1]}));for(s=1;s<y.length;s++)r.prototype[y[s]]=M,r[y[s]]=O}for(var z of[["Math.pow",1,"pow"]]){var N="arg0";for(s=1;s<z[1];s++)N+=`, arg${s}`;if(1!==z[1]){var q=i(F("\n(function %name%(%args%) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), %args%));\n        }\n    }\n    return this;\n})\n",{name:z[2],method:z[0],args:N})),T=i(F(n,{name:z[2],args:N}));for(s=2;s<z.length;s++)r.prototype[z[s]]=q,r[z[s]]=T}else{var L={name:z[2],args:N,method:z[0]},U=i(F("\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",L)),D=i(F("\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), value));\n        }\n    }\n    return this;\n})\n",L)),P=i(F("\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\n        }\n    }\n    return this;\n})\n",L)),$=i(F("\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",L));for(s=2;s<z.length;s++)r.prototype[z[s]]=U,r.prototype[`${z[s]}M`]=P,r.prototype[`${z[s]}S`]=D,r[z[s]]=$}}function F(t,r){for(var e in r)t=t.replace(new RegExp(`%${e}%`,"g"),r[e]);return t}return r}class C extends(O(Array)){constructor(t,r){var e;if(1===arguments.length&&"number"==typeof t)return new Array(t);if(C.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(super(t),!(Number.isInteger(r)&&r>0))throw new TypeError("nColumns must be a positive integer");for(e=0;e<t;e++)this[e]=new Array(r)}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const s=t;if(t=s.length,"number"!=typeof(r=s[0].length)||0===r)throw new TypeError("Data must be a 2D array with at least one element");for(super(t),e=0;e<t;e++){if(s[e].length!==r)throw new RangeError("Inconsistent array dimensions");this[e]=[].concat(s[e])}}}return this.rows=t,this.columns=r,this}set(t,r,e){return this[t][r]=e,this}get(t,r){return this[t][r]}removeRow(t){if(f(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.splice(t,1),this.rows-=1,this}addRow(t,r){return void 0===r&&(r=t,t=this.rows),f(this,t,!0),r=g(this,r),this.splice(t,0,r),this.rows+=1,this}removeColumn(t){if(w(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var r=0;r<this.rows;r++)this[r].splice(t,1);return this.columns-=1,this}addColumn(t,r){void 0===r&&(r=t,t=this.columns),w(this,t,!0),r=v(this,r);for(var e=0;e<this.rows;e++)this[e].splice(t,0,r[e]);return this.columns+=1,this}}class z extends(O()){constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,r,e){return this.data[t][r]=e,this}get(t,r){return this.data[t][r]}static get[Symbol.species](){return C}}class N{constructor(t){var r,e,s,n,i=(t=z.checkMatrix(t)).clone(),o=t.rows,a=t.columns,h=new Array(a);for(s=0;s<a;s++){var u=0;for(r=s;r<o;r++)u=l(u,i.get(r,s));if(0!==u){for(i.get(s,s)<0&&(u=-u),r=s;r<o;r++)i.set(r,s,i.get(r,s)/u);for(i.set(s,s,i.get(s,s)+1),e=s+1;e<a;e++){for(n=0,r=s;r<o;r++)n+=i.get(r,s)*i.get(r,e);for(n=-n/i.get(s,s),r=s;r<o;r++)i.set(r,e,i.get(r,e)+n*i.get(r,s))}}h[s]=-u}this.QR=i,this.Rdiag=h}solve(t){t=C.checkMatrix(t);var r=this.QR,e=r.rows;if(t.rows!==e)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var s,n,i,o,a=t.columns,h=t.clone(),u=r.columns;for(i=0;i<u;i++)for(n=0;n<a;n++){for(o=0,s=i;s<e;s++)o+=r[s][i]*h[s][n];for(o=-o/r[i][i],s=i;s<e;s++)h[s][n]+=o*r[s][i]}for(i=u-1;i>=0;i--){for(n=0;n<a;n++)h[i][n]/=this.Rdiag[i];for(s=0;s<i;s++)for(n=0;n<a;n++)h[s][n]-=h[i][n]*r[s][i]}return h.subMatrix(0,u-1,0,a-1)}isFullRank(){for(var t=this.QR.columns,r=0;r<t;r++)if(0===this.Rdiag[r])return!1;return!0}get upperTriangularMatrix(){var t,r,e=this.QR,s=e.columns,n=new C(s,s);for(t=0;t<s;t++)for(r=0;r<s;r++)n[t][r]=t<r?e[t][r]:t===r?this.Rdiag[t]:0;return n}get orthogonalMatrix(){var t,r,e,s,n=this.QR,i=n.rows,o=n.columns,a=new C(i,o);for(e=o-1;e>=0;e--){for(t=0;t<i;t++)a[t][e]=0;for(a[e][e]=1,r=e;r<o;r++)if(0!==n[e][e]){for(s=0,t=e;t<i;t++)s+=n[t][e]*a[t][r];for(s=-s/n[e][e],t=e;t<i;t++)a[t][r]+=s*n[t][e]}}return a}}function q(t,r=!1){return t=z.checkMatrix(t),r?new m(t).inverse():function(t,r,e=!1){return t=z.checkMatrix(t),r=z.checkMatrix(r),e?new m(t).solve(r):t.isSquare()?new u(t).solve(r):new N(t).solve(r)}(t,C.eye(t.rows))}function T(t,r,e,s,n){var i=e*s*s,o=C.eye(r.length,r.length,i);const a=n(r);var h=t.x.map(t=>a(t)),u=function(t,r,e,s,n){const i=e.length,o=t.x.length;for(var a=new Array(i),h=0;h<i;h++){a[h]=new Array(o);var u=e.concat();u[h]+=s;for(var l=n(u),c=0;c<o;c++)a[h][c]=r[c]-l(t.x[c])}return new C(a)}(t,h,r,s,n),l=function(t,r){const e=t.x.length;for(var s=new Array(e),n=0;n<e;n++)s[n]=[t.y[n]-r[n]];return new C(s)}(t,h),c=q(o.add(u.mmul(u.transpose())));return(r=(r=new C([r])).sub(c.mmul(u).mmul(l).mul(s).transpose())).to1DArray()}function L(t,r,e={}){let{maxIterations:n=100,gradientDifference:i=.1,damping:o=0,errorTolerance:a=.01,minValues:h,maxValues:u,initialValues:l}=e;if(o<=0)throw new Error("The damping option must be a positive number");if(!t.x||!t.y)throw new Error("The data parameter must have x and y elements");if(!Array.isArray(t.x)||t.x.length<2||!Array.isArray(t.y)||t.y.length<2)throw new Error("The data parameter elements must be an array with more than 2 points");if(t.x.length!==t.y.length)throw new Error("The data parameter elements must have the same size");var c=l||new Array(r.length).fill(1);let m=c.length;if(u=u||new Array(m).fill(Number.MAX_SAFE_INTEGER),h=h||new Array(m).fill(Number.MIN_SAFE_INTEGER),u.length!==h.length)throw new Error("minValues and maxValues must be the same size");if(!Array.isArray(c))throw new Error("initialValues must be an array");for(var f=s(t,c,r),w=f<=a,g=0;g<n&&!w;g++){c=T(t,c,o,i,r);for(let t=0;t<m;t++)c[t]=Math.min(Math.max(h[t],c[t]),u[t]);if(f=s(t,c,r),isNaN(f))break;w=f<=a}return{parameterValues:c,parameterError:f,iterations:g}}e.d(r,"default",(function(){return L}))}}]);
//# sourceMappingURL=vendors~main~56e1be11.1b9992364b30237182ad.bundle.js.map